<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-form-element-behavior/iron-form-element-behavior.html"><link rel="import" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"></head><body><dom-module id="mtz-marked-editor"><template><style>:host{display:block;}</style><slot name="controls"></slot><slot name="textarea"></slot><slot name="footer"></slot></template><script>Polymer({is:'mtz-marked-editor',properties:{autofocus:Boolean,readonly:Boolean,textareaSelector:{type:String,value:'textarea'},__textarea:Object},ready:function(){this.__bindControlToEditor=this.__bindControlToEditor.bind(this)},attached:function(){this.addEventListener('register-control',this.__bindControlToEditor),this.__textarea=Polymer.dom(this).queryDistributedElements('[slot="textarea"]')[0]},detached:function(){this.removeEventListener('register-control',this.__bindControlToEditor)},getTextarea:function(){return this.__textarea},getLines:function(){return this.getContent().split(/(?=\n|\r\n)$/gm)},getContent:function(){return this.getTextarea().value},setContent:function(a){this.getTextarea().value=a},getSelection:function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.getTextarea(),b=a.selectionStart,c=a.selectionEnd;return{start:b,end:c,length:c-b,text:a.value.substring(b,c)}},setSelection:function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.getTextarea();c.selectionStart=a,c.selectionEnd=b},replaceSelection:function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.getTextarea(),c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.getSelection(),d=b.value;b.value=''+d.substr(0,c.start)+a+d.substr(c.end,d.length)},__bindControlToEditor:function(a){a.stopPropagation(),Polymer.dom(a).rootTarget.__editor=this}});</script></dom-module></body></html>