<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html"><link rel="import" href="../app-localize-behavior/app-localize-behavior.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../iron-ajax/iron-ajax.html"><link rel="prefetch" href="../iron-ajax/iron-request.html"><link rel="prefetch" href="../intl-messageformat/dist/intl-messageformat.min.js"><link rel="prefetch" href="../iron-icon/iron-icon.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../iron-iconset-svg/iron-iconset-svg.html"><link rel="prefetch" href="../iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../iron-input/iron-input.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-behavior.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../font-roboto/roboto.html"><link rel="prefetch" href="../paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../paper-styles/default-theme.html"><link rel="prefetch" href="../paper-styles/color.html"><link rel="prefetch" href="../google-apis/google-maps-api.html"><link rel="prefetch" href="../iron-jsonp-library/iron-jsonp-library.html"><link rel="prefetch" href="../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../iron-selector/iron-selector.html"><link rel="prefetch" href="../iron-selector/iron-multi-selectable.html"><link rel="prefetch" href="../iron-selector/iron-selectable.html"><link rel="prefetch" href="../iron-selector/iron-selection.html"></head><body><dom-module id="eco-json-schema-geolocation"><link rel="import" href="../iron-icons/iron-icons.html"><link rel="import" href="../iron-icons/communication-icons.html"><link rel="import" href="../paper-input/paper-input.html"><link rel="import" href="../paper-input/paper-input-container.html"><link rel="import" href="../paper-input/paper-input-error.html"><link rel="import" href="../paper-styles/typography.html"><link rel="import" href="../geo-location/geo-location.html"><link rel="import" href="../google-map/google-map.html"><link rel="import" href="../google-map/google-map-marker.html"><template><style is="custom-style" include="iron-flex iron-flex-alignment">:host{display:block;overflow:hidden;}:host google-map{height:16em;width:16em;border:none;}paper-input{padding:2px;--paper-input-container-label:{white-space:normal;position:static;font-size:22px;color:#212121;};}</style><geo-location high-accuracy="" latitude="{{latitude}}" longitude="{{longitude}}" on-geo-error="geoError"></geo-location><template is="dom-if" if="{{!latitude}}">{{localize('location-unknown')}}</template><template is="dom-if" if="{{latitude}}"><paper-material elevation="0" class="layout"><paper-material elevation="0" class="layout">latitud: <span>{{latitude}}</span>, longitud: <span>{{longitude}}</span></paper-material></paper-material></template><div><google-map id="map2" longitude="[[longitude]]" latitude="[[latitude]]" zoom="15"><google-map-marker longitude="{{longitude}}" latitude="{{latitude}}" draggable="true"></google-map-marker></google-map></div><template is="dom-if" if="[[errorMessage]]"><paper-input-error aria-live="assertive">[[errorMessage]]</paper-input-error></template></template><script>Polymer({is:"eco-json-schema-geolocation",behaviors:[Polymer.AppLocalizeBehavior],properties:{language:{value:"es"},resources:{type:Object,notify:!0},schema:{type:Object,observer:"_schemaChanged"},value:{type:Object,notify:!0,computed:"_geoLocationComp(latitude,longitude)"},error:{type:String,observer:"_errorChanged",value:null},latitude:{type:Number,notify:!0,value:1},longitude:{type:Number,notify:!0,value:1},zoom:{type:Number,notify:!0}},ready:function ready(){this.set("latitude",0);this.set("longitude",0)},_schemaChanged:function _schemaChanged(){this.schema},_errorChanged:function _errorChanged(){if(this.error){this.errorMessage=this.error}else{this.errorMessage=null}},geoError:function geoError(event){var error=event.detail;console.error(error);this.error=JSON.stringify(error)},_geoLocationComp:function _geoLocationComp(latitude,longitude){return{latitude:latitude,longitude:longitude}}});</script></dom-module></body></html>