define(["exports","../../@polymer/polymer/polymer-element.js","../../@polymer/polymer/lib/legacy/polymer.dom.js"],function(_exports,_polymerElement,_polymerDom){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.MediaVideo=void 0;function _templateObject_8508be40898111e9ba38e33cad2d1624(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style>\n        :host {\n          display: block;\n        }\n      </style>\n      <slot></slot>\n    "]);_templateObject_8508be40898111e9ba38e33cad2d1624=function _templateObject_8508be40898111e9ba38e33cad2d1624(){return data};return data}/**
 * `media-video`
 * `Video wrapper class`
 *
 * @demo demo/index.html
 */var MediaVideo=/*#__PURE__*/function(_PolymerElement){babelHelpers.inherits(MediaVideo,_PolymerElement);function MediaVideo(){babelHelpers.classCallCheck(this,MediaVideo);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(MediaVideo).apply(this,arguments))}babelHelpers.createClass(MediaVideo,[{key:"ready",value:function ready(){var _this=this;babelHelpers.get(babelHelpers.getPrototypeOf(MediaVideo.prototype),"ready",this).call(this);var videoSrc=this.querySelector("*[data-mediavideo-src]");this.addEventListener("click",function(e){e.stopPropagation();var target=(0,_polymerDom.dom)(e).localTarget,videoContainer=_this.querySelector(".mediavideo"),videoPoster=_this.querySelector(".mediavideo-button-container"),videoSrc=_this.querySelector("*[data-mediavideo-src]");videoPoster.classList.toggle("mediavideo-button-display");// Add the is-open tag to the base element.
videoContainer.classList.toggle("mediavideo--is-open");if(target.classList.contains("poster--image")||target.classList.contains("mediavideo-icon")){// Give the animation enough time to complete.
setTimeout(function(){_this._startIframeVideo(videoSrc)},500)}else{_this._stopIframeVideo(videoSrc)}})}},{key:"disconnectedCallback",value:function disconnectedCallback(){var _this2=this;this.removeEventListener("click",function(e){e.stopPropagation();var target=(0,_polymerDom.dom)(e).localTarget,videoContainer=_this2.querySelector(".mediavideo"),videoPoster=_this2.querySelector(".mediavideo-button-container"),videoSrc=_this2.querySelector("*[data-mediavideo-src]");videoPoster.classList.toggle("mediavideo-button-display");// Add the is-open tag to the base element.
videoContainer.classList.toggle("mediavideo--is-open");if(target.classList.contains("poster--image")||target.classList.contains("mediavideo-icon")){// Give the animation enough time to complete.
setTimeout(function(){_this2._startIframeVideo(videoSrc)},500)}else{_this2._stopIframeVideo(videoSrc)}});babelHelpers.get(babelHelpers.getPrototypeOf(MediaVideo.prototype),"disconnectedCallback",this).call(this)}},{key:"_startIframeVideo",value:function _startIframeVideo(video){// Start the iframe videos.
var videoIframeSrc=video.dataset.mediavideoSrc;// If it's a youtube or vimeo video then add an autoplay attr on the end
// of the url.
if(0<=videoIframeSrc.indexOf("youtube")||0<=videoIframeSrc.indexOf("vimeo")){// Find out if we need to fstart the query parameter or add
// on to an existing one.
if(0<=videoIframeSrc.indexOf("?")){videoIframeSrc+="&autoplay=1"}else{videoIframeSrc+="?autoplay=1"}}// Add it to the source attribute to load the video.
video.setAttribute("src",videoIframeSrc)}},{key:"_stopIframeVideo",value:function _stopIframeVideo(video){video.setAttribute("src","")}}],[{key:"template",get:function get(){return(0,_polymerElement.html)(_templateObject_8508be40898111e9ba38e33cad2d1624())}},{key:"tag",get:function get(){return"media-video"}},{key:"properties",get:function get(){return{}}}]);return MediaVideo}(_polymerElement.PolymerElement);_exports.MediaVideo=MediaVideo;window.customElements.define(MediaVideo.tag,MediaVideo)});