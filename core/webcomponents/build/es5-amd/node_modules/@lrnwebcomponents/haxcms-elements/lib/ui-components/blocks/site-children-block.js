define(["exports","../../../../../@polymer/polymer/polymer-element.js","../../core/haxcms-site-store.js","../../../../../mobx/lib/mobx.module.js","../query/site-query-menu-slice.js","../../../../../@polymer/polymer/lib/elements/dom-repeat.js","../../../../../@polymer/paper-button/paper-button.js"],function(_exports,_polymerElement,_haxcmsSiteStore,_mobxModule){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.SiteChildrenBlock=void 0;function _templateObject_ee1f8da0499911e9853aab77594e37fb(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style>\n        :host {\n          display: block;\n          --site-children-block-indent: 16px;\n          --site-children-block-link-active-bg: rgba(255, 255, 255, 0.1);\n        }\n        .wrapper {\n          @apply --site-children-block-wrapper;\n        }\n        .spacing {\n          @apply --site-children-block-spacing;\n        }\n        .link {\n          display: block;\n          color: var(--site-children-block-link-color, #444444);\n          @apply --site-children-block-link;\n        }\n        paper-button {\n          text-transform: unset;\n          min-width: unset;\n          width: 100%;\n          margin: 0;\n          border-radius: 0;\n          justify-content: flex-start;\n          @apply --site-children-block-button;\n        }\n        paper-button:hover,\n        paper-button:focus,\n        paper-button:active {\n          @apply --site-children-block-button-active;\n        }\n        .active {\n          color: var(--site-children-block-link-active-color, #000000);\n          background-color: var(--site-children-block-link-active-bg);\n          @apply --site-children-block-link-active;\n        }\n        .spacing .indent {\n          display: inline-flex;\n        }\n        .indent-1 {\n          margin-left: calc(var(--site-children-block-indent) * 1);\n          @apply --site-children-block-indent-1;\n        }\n        .indent-2 {\n          margin-left: calc(var(--site-children-block-indent) * 2);\n          @apply --site-children-block-indent-1;\n        }\n        .indent-3 {\n          margin-left: calc(var(--site-children-block-indent) * 3);\n          @apply --site-children-block-indent-1;\n        }\n        .indent-4 {\n          margin-left: calc(var(--site-children-block-indent) * 4);\n          @apply --site-children-block-indent-1;\n        }\n        .indent-5 {\n          margin-left: calc(var(--site-children-block-indent) * 5);\n          @apply --site-children-block-indent-1;\n        }\n        .indent-6 {\n          margin-left: calc(var(--site-children-block-indent) * 6);\n          @apply --site-children-block-indent-1;\n        }\n        .indent-7 {\n          margin-left: calc(var(--site-children-block-indent) * 7);\n          @apply --site-children-block-indent-1;\n        }\n        .indent-8 {\n          margin-left: calc(var(--site-children-block-indent) * 8);\n          @apply --site-children-block-indent-1;\n        }\n        .indent-9 {\n          margin-left: calc(var(--site-children-block-indent) * 9);\n          @apply --site-children-block-indent-1;\n        }\n        .indent-10 {\n          margin-left: calc(var(--site-children-block-indent) * 10);\n          @apply --site-children-block-indent-1;\n        }\n      </style>\n      <div class=\"wrapper\">\n        <site-query-menu-slice\n          result=\"{{__items}}\"\n          dynamic-methodology=\"[[dynamicMethodology]]\"\n          start=\"[[start]]\"\n          end=\"[[end]]\"\n          parent=\"[[parent]]\"\n          fixed-id=\"[[fixedId]]\"\n        ></site-query-menu-slice>\n        <dom-repeat items=\"[[__items]]\">\n          <template>\n            <div class=\"spacing\">\n              <a\n                data-id$=\"[[item.id]]\"\n                class=\"link\"\n                tabindex=\"-1\"\n                href$=\"[[item.location]]\"\n              >\n                <paper-button noink=\"[[noink]]\">\n                  <div class$=\"indent indent-[[item.indent]]\"></div>\n                  [[item.title]]\n                </paper-button>\n              </a>\n            </div>\n          </template>\n        </dom-repeat>\n      </div>\n    "]);_templateObject_ee1f8da0499911e9853aab77594e37fb=function(){return data};return data}var SiteChildrenBlock=function(_PolymerElement){babelHelpers.inherits(SiteChildrenBlock,_PolymerElement);function SiteChildrenBlock(){babelHelpers.classCallCheck(this,SiteChildrenBlock);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(SiteChildrenBlock).apply(this,arguments))}babelHelpers.createClass(SiteChildrenBlock,[{key:"_activeIdChanged",value:function _activeIdChanged(newValue){var _this=this;if(newValue){var el=null;if(this.shadowRoot.querySelector("[data-id=\""+newValue+"\"]")){el=this.shadowRoot.querySelector("[data-id=\""+newValue+"\"]")}else{(function(){var tmpItem=_this.manifest.items.find(function(i){return i.id==newValue});while(null===el&&tmpItem&&null!=tmpItem.parent){tmpItem=_this.manifest.items.find(function(i){return i.id==tmpItem.parent});if(tmpItem&&_this.shadowRoot.querySelector("[data-id=\""+tmpItem.id+"\"]")){el=_this.shadowRoot.querySelector("[data-id=\""+tmpItem.id+"\"]")}}})()}if(this._prevEl){this._prevEl.classList.remove("active")}if(el){el.classList.add("active");this._prevEl=el}}else{if(this._prevEl){this._prevEl.classList.remove("active")}}}},{key:"connectedCallback",value:function connectedCallback(){var _this2=this;babelHelpers.get(babelHelpers.getPrototypeOf(SiteChildrenBlock.prototype),"connectedCallback",this).call(this);this.__disposer=(0,_mobxModule.autorun)(function(){_this2.manifest=(0,_mobxModule.toJS)(_haxcmsSiteStore.store.manifest)});setTimeout(function(){_this2.__disposer2=(0,_mobxModule.autorun)(function(){_this2.activeId=(0,_mobxModule.toJS)(_haxcmsSiteStore.store.activeId)})},50)}},{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(SiteChildrenBlock.prototype),"disconnectedCallback",this).call(this);this.__disposer();if(this.__disposer2){this.__disposer2()}}}],[{key:"tag",get:function get(){return"site-children-block"}},{key:"template",get:function get(){return(0,_polymerElement.html)(_templateObject_ee1f8da0499911e9853aab77594e37fb())}},{key:"properties",get:function get(){return{dynamicMethodology:{type:String,value:"direct"},start:{type:Number,value:1},end:{type:Number,value:1e3},parent:{type:String},fixedId:{type:Boolean,value:!1},noink:{type:Boolean,value:!1},__items:{type:Array,notify:!0},activeId:{type:String,observer:"_activeIdChanged"}}}}]);return SiteChildrenBlock}(_polymerElement.PolymerElement);_exports.SiteChildrenBlock=SiteChildrenBlock;window.customElements.define(SiteChildrenBlock.tag,SiteChildrenBlock)});