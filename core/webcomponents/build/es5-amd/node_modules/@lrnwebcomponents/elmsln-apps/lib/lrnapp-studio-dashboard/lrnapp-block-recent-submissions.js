define(["../../../../@polymer/polymer/polymer-legacy.js","../../../../@polymer/polymer/lib/legacy/polymer.dom.js","../../../../@polymer/iron-ajax/iron-ajax.js","../../../../@polymer/iron-list/iron-list.js","../../../../@polymer/paper-button/paper-button.js","../../../lrndesign-gallerycard/lrndesign-gallerycard.js","../../../elmsln-loading/elmsln-loading.js"],function(_polymerLegacy,_polymerDom){"use strict";function _templateObject_6b0212c0499a11e9853aab77594e37fb(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"paper-item-styles\">\n      :host {\n        display: block;\n      }\n      paper-button {\n        width: 100%;\n      }\n    </style>\n    <iron-ajax\n      auto=\"\"\n      url=\"{{sourcePath}}\"\n      handle-as=\"json\"\n      last-response=\"{{response}}\"\n      on-response=\"handleResponse\"\n    ></iron-ajax>\n    <div id=\"loading\">\n      <h3>Loading..</h3>\n      <elmsln-loading color=\"grey-text\" size=\"large\"></elmsln-loading>\n    </div>\n    <iron-list items=\"[[_toArray(response.data)]]\" as=\"item\">\n      <template>\n        <paper-button on-tap=\"_loadSubmissionUrl\">\n          <lrndesign-gallerycard\n            data-submission-id$=\"[[item.id]]\"\n            title=\"[[item.attributes.title]]\"\n            author=\"[[item.relationships.author.data]]\"\n            comments=\"[[item.meta.comment_count]]\"\n            image=\"[[item.display.image]]\"\n            icon=\"[[item.display.icon]]\"\n            class=\"ferpa-protect\"\n          >\n          </lrndesign-gallerycard>\n        </paper-button>\n      </template>\n    </iron-list>\n  "],["\n    <style include=\"paper-item-styles\">\n      :host {\n        display: block;\n      }\n      paper-button {\n        width: 100%;\n      }\n    </style>\n    <iron-ajax\n      auto=\"\"\n      url=\"{{sourcePath}}\"\n      handle-as=\"json\"\n      last-response=\"{{response}}\"\n      on-response=\"handleResponse\"\n    ></iron-ajax>\n    <div id=\"loading\">\n      <h3>Loading..</h3>\n      <elmsln-loading color=\"grey-text\" size=\"large\"></elmsln-loading>\n    </div>\n    <iron-list items=\"[[_toArray(response.data)]]\" as=\"item\">\n      <template>\n        <paper-button on-tap=\"_loadSubmissionUrl\">\n          <lrndesign-gallerycard\n            data-submission-id\\$=\"[[item.id]]\"\n            title=\"[[item.attributes.title]]\"\n            author=\"[[item.relationships.author.data]]\"\n            comments=\"[[item.meta.comment_count]]\"\n            image=\"[[item.display.image]]\"\n            icon=\"[[item.display.icon]]\"\n            class=\"ferpa-protect\"\n          >\n          </lrndesign-gallerycard>\n        </paper-button>\n      </template>\n    </iron-list>\n  "]);_templateObject_6b0212c0499a11e9853aab77594e37fb=function(){return data};return data}(0,_polymerLegacy.Polymer)({_template:(0,_polymerLegacy.html)(_templateObject_6b0212c0499a11e9853aab77594e37fb()),is:"lrnapp-block-recent-submissions",properties:{sourcePath:{type:String,notify:!0},response:{type:Array,notify:!0}},_loadSubmissionUrl:function _loadSubmissionUrl(e){var root=this,normalizedEvent=(0,_polymerDom.dom)(e),local=normalizedEvent.localTarget,active=local.getAttribute("data-submission-id");window.location.href=this.basePath+"lrnapp-studio-submission/submissions/"+active},handleResponse:function handleResponse(){this.$.loading.hidden=!0},_getViewLink:function _getViewLink(nid){return this.basePath+"lrnapp-studio-submission/submissions/"+nid},_toArray:function _toArray(obj){return Object.keys(obj).map(function(key){return obj[key]})}})});