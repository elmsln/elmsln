define(["../../../../@polymer/polymer/polymer-legacy.js","../../../../@polymer/polymer/lib/legacy/polymer.dom.js","../../../../@polymer/paper-button/paper-button.js","../../../lrnsys-button/lrnsys-button.js","../../../lrndesign-avatar/lrndesign-avatar.js","../../../materializecss-styles/materializecss-styles.js","../lrnapp-studio-submission/lrnapp-studio-submission-display.js"],function(_polymerLegacy,_polymerDom){"use strict";function _templateObject_9ea29280499511e9a5428ba375554590(){var data=babelHelpers.taggedTemplateLiteral(["\n    <style include=\"materializecss-styles\"></style>\n    <style>\n      :host {\n        display: block;\n        align-content: center;\n      }\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.8;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        height: 100vh;\n        position: absolute;\n        background-color: white;\n      }\n      h1.empty-title,\n      h1.assignment-title {\n        font-size: 2em;\n      }\n      .submission-title {\n        font-size: 1em;\n        font-weight: bold;\n        width: 100%;\n        margin-bottom: 2rem;\n        text-transform: none;\n      }\n      .submission-list {\n        display: flex;\n        align-items: center;\n      }\n      .submission-list-item {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        word-break: break-all;\n        word-wrap: break-word;\n      }\n    </style>\n    <template is=\"dom-if\" if=\"[[!showSubmissions]]\">\n      <h1 class=\"empty-title black-text\">\n        Please select an Assignment in order to view all submissions\n      </h1>\n    </template>\n    <template is=\"dom-if\" if=\"[[showSubmissions]]\">\n      <h1 class=\"assignment-title black-text\">\n        [[activeAssignment.attributes.title]]\n      </h1>\n      <div class=\"submission-list\">\n        <template is=\"dom-repeat\" items=\"[[submissions]]\" as=\"submission\">\n          <lrnsys-button\n            on-tap=\"_scrollToTarget\"\n            raised=\"\"\n            class=\"submission-list-item\"\n            button-class=\"submission-list-item\"\n            hover-class=\"blue white-text\"\n            data-submission-id$=\"[[submission.id]]\"\n          >\n            <span slot=\"button\">\n              <lrndesign-avatar\n                src=\"[[submission.relationships.author.data.avatar]]\"\n                label=\"[[submission.relationships.author.data.name]]\"\n                style=\"display:inline-block;\"\n                data-submission-id$=\"[[submission.id]]\"\n              ></lrndesign-avatar>\n            </span>\n            <span slot=\"label\"\n              >[[submission.relationships.author.data.display_name]]</span\n            >\n          </lrnsys-button>\n        </template>\n      </div>\n      <template is=\"dom-repeat\" items=\"[[submissions]]\" as=\"submission\">\n        <lrnapp-studio-submission-display\n          id$=\"submission-[[submission.id]]\"\n          submission=\"[[submission]]\"\n          class=\"ferpa-protect\"\n        ></lrnapp-studio-submission-display>\n        <a tabindex=\"-1\"\n          ><paper-button\n            class=\"submission-title ferpa-protect\"\n            on-tap=\"_loadSubmissionUrl\"\n            data-submission-id$=\"[[submission.id]]\"\n            >Tap to comment on[[submission.attributes.title]] by\n            [[submission.relationships.author.data.display_name]]</paper-button\n          ></a\n        >\n      </template>\n    </template>\n  "],["\n    <style include=\"materializecss-styles\"></style>\n    <style>\n      :host {\n        display: block;\n        align-content: center;\n      }\n      #loading {\n        width: 100%;\n        z-index: 1000;\n        opacity: 0.8;\n        text-align: center;\n        align-content: center;\n        justify-content: center;\n        height: 100vh;\n        position: absolute;\n        background-color: white;\n      }\n      h1.empty-title,\n      h1.assignment-title {\n        font-size: 2em;\n      }\n      .submission-title {\n        font-size: 1em;\n        font-weight: bold;\n        width: 100%;\n        margin-bottom: 2rem;\n        text-transform: none;\n      }\n      .submission-list {\n        display: flex;\n        align-items: center;\n      }\n      .submission-list-item {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        word-break: break-all;\n        word-wrap: break-word;\n      }\n    </style>\n    <template is=\"dom-if\" if=\"[[!showSubmissions]]\">\n      <h1 class=\"empty-title black-text\">\n        Please select an Assignment in order to view all submissions\n      </h1>\n    </template>\n    <template is=\"dom-if\" if=\"[[showSubmissions]]\">\n      <h1 class=\"assignment-title black-text\">\n        [[activeAssignment.attributes.title]]\n      </h1>\n      <div class=\"submission-list\">\n        <template is=\"dom-repeat\" items=\"[[submissions]]\" as=\"submission\">\n          <lrnsys-button\n            on-tap=\"_scrollToTarget\"\n            raised=\"\"\n            class=\"submission-list-item\"\n            button-class=\"submission-list-item\"\n            hover-class=\"blue white-text\"\n            data-submission-id\\$=\"[[submission.id]]\"\n          >\n            <span slot=\"button\">\n              <lrndesign-avatar\n                src=\"[[submission.relationships.author.data.avatar]]\"\n                label=\"[[submission.relationships.author.data.name]]\"\n                style=\"display:inline-block;\"\n                data-submission-id\\$=\"[[submission.id]]\"\n              ></lrndesign-avatar>\n            </span>\n            <span slot=\"label\"\n              >[[submission.relationships.author.data.display_name]]</span\n            >\n          </lrnsys-button>\n        </template>\n      </div>\n      <template is=\"dom-repeat\" items=\"[[submissions]]\" as=\"submission\">\n        <lrnapp-studio-submission-display\n          id\\$=\"submission-[[submission.id]]\"\n          submission=\"[[submission]]\"\n          class=\"ferpa-protect\"\n        ></lrnapp-studio-submission-display>\n        <a tabindex=\"-1\"\n          ><paper-button\n            class=\"submission-title ferpa-protect\"\n            on-tap=\"_loadSubmissionUrl\"\n            data-submission-id\\$=\"[[submission.id]]\"\n            >Tap to comment on[[submission.attributes.title]] by\n            [[submission.relationships.author.data.display_name]]</paper-button\n          ></a\n        >\n      </template>\n    </template>\n  "]);_templateObject_9ea29280499511e9a5428ba375554590=function(){return data};return data}(0,_polymerLegacy.Polymer)({_template:(0,_polymerLegacy.html)(_templateObject_9ea29280499511e9a5428ba375554590()),is:"lrnapp-open-studio-assignments",properties:{assignments:{type:Array,notify:!0},submissions:{type:Array,notify:!0},activeAssignmentId:{type:String,reflectToAttribute:!0,value:null,notify:!0},activeAssignment:{type:Object,notify:!0,computed:"_activeAssignmentCompute(activeAssignmentId, assignments)"},activeAuthorId:{type:String,reflectToAttribute:!0,value:null,notify:!0},showSubmissions:{type:Boolean,computed:"_showSubmissions(activeAssignmentId)",value:!1,notify:!0},sourcePath:{type:String,notify:!0},basePath:{type:String,notify:!0}},_loadSubmissionUrl:function _loadSubmissionUrl(e){var root=this,normalizedEvent=(0,_polymerDom.dom)(e),local=normalizedEvent.localTarget,active=local.getAttribute("data-submission-id");window.location.href=this.basePath+"lrnapp-studio-submission/submissions/"+active},_activeAssignmentCompute:function _activeAssignmentCompute(activeAssignmentId,assignments){var activeAssignment=null;if(assignments){activeAssignment=assignments.find(function(assignment){return assignment.id==activeAssignmentId})}return activeAssignment},_showSubmissions:function _showSubmissions(activeAssignmentId){if(activeAssignmentId){return!0}return!1},_scrollToTarget:function _scrollToTarget(e){var normalizedEvent=(0,_polymerDom.dom)(e),local=normalizedEvent.localTarget,active=local.getAttribute("data-submission-id");this.shadowRoot.querySelector("#submission-"+active).scrollIntoView({block:"start",behavior:"smooth"})},_handleResponse:function _handleResponse(){this.$.loading.hidden=!0},_toArray:function _toArray(obj){return Object.keys(obj).map(function(key){return obj[key]})}})});