define(["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.UserActionBroker = _exports.UABroker = void 0;

  /**
   * Broker user actions in a normalized way which is abstracted from xAPI
   * but yet mirrors much of that structure and data needs.
   */
  var UserActionBroker = /*#__PURE__*/function () {
    function UserActionBroker() {
      babelHelpers.classCallCheck(this, UserActionBroker);
    }

    babelHelpers.createClass(UserActionBroker, [{
      key: "valid",
      value:
      /**
       * See if this is a valid event
       */
      function valid(event) {
        return ["click", "hover", "mousedown", "mouseup", "visibility", "keypress", "keydown", "keyup", "focusin", "focusout"].includes(event);
      }
      /**
       * Fire the action for the user engagement broker.
       */

    }, {
      key: "fire",
      value: function fire(eventName, eventType, details, context) {
        var demo = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
        details.eventType = eventType;
        context.dispatchEvent(new CustomEvent(eventName, {
          bubbles: true,
          composed: true,
          cancelable: true,
          detail: details
        }));

        if (demo) {
          context.innerHTML = "<pre>".concat(JSON.stringify(details, null, 2), "</pre>");
        }
      }
    }]);
    return UserActionBroker;
  }();

  _exports.UserActionBroker = UserActionBroker;
  var UABroker = new UserActionBroker();
  _exports.UABroker = UABroker;
});