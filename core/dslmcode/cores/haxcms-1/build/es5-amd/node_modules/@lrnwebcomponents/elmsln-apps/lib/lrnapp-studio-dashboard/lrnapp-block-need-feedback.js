define(["exports","../../../../@polymer/polymer/polymer-element.js","../../../../@polymer/polymer/lib/legacy/polymer.dom.js","../../../../@polymer/iron-ajax/iron-ajax.js","../../../../@polymer/iron-list/iron-list.js","../../../../@polymer/paper-button/paper-button.js","../../../elmsln-loading/elmsln-loading.js","../../../lrndesign-gallerycard/lrndesign-gallerycard.js"],function(_exports,_polymerElement,_polymerDom,_ironAjax,_ironList,_paperButton,_elmslnLoading,_lrndesignGallerycard){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.LrnappBlockNeedFeedback=void 0;function _templateObject_bf0eda90734911eaac0dbb5c5350affd(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style include=\"paper-item-styles\">\n        :host {\n          display: block;\n        }\n        paper-button {\n          width: 100%;\n        }\n      </style>\n      <iron-ajax\n        auto=\"\"\n        url=\"{{sourcePath}}\"\n        handle-as=\"json\"\n        last-response=\"{{response}}\"\n        on-response=\"handleResponse\"\n      ></iron-ajax>\n      <div id=\"loading\">\n        <h3>Loading..</h3>\n        <elmsln-loading color=\"grey-text\" size=\"large\"></elmsln-loading>\n      </div>\n      <iron-list items=\"[[_toArray(response.data)]]\" as=\"item\">\n        <template>\n          <paper-button on-click=\"_loadSubmissionUrl\">\n            <lrndesign-gallerycard\n              data-submission-id$=\"[[item.id]]\"\n              title=\"[[item.attributes.title]]\"\n              author=\"[[item.relationships.author.data]]\"\n              comments=\"[[item.meta.comment_count]]\"\n              image=\"[[item.display.image]]\"\n              icon=\"[[item.display.icon]]\"\n              class=\"ferpa-protect\"\n            >\n            </lrndesign-gallerycard>\n          </paper-button>\n        </template>\n      </iron-list>\n    "],["\n      <style include=\"paper-item-styles\">\n        :host {\n          display: block;\n        }\n        paper-button {\n          width: 100%;\n        }\n      </style>\n      <iron-ajax\n        auto=\"\"\n        url=\"{{sourcePath}}\"\n        handle-as=\"json\"\n        last-response=\"{{response}}\"\n        on-response=\"handleResponse\"\n      ></iron-ajax>\n      <div id=\"loading\">\n        <h3>Loading..</h3>\n        <elmsln-loading color=\"grey-text\" size=\"large\"></elmsln-loading>\n      </div>\n      <iron-list items=\"[[_toArray(response.data)]]\" as=\"item\">\n        <template>\n          <paper-button on-click=\"_loadSubmissionUrl\">\n            <lrndesign-gallerycard\n              data-submission-id\\$=\"[[item.id]]\"\n              title=\"[[item.attributes.title]]\"\n              author=\"[[item.relationships.author.data]]\"\n              comments=\"[[item.meta.comment_count]]\"\n              image=\"[[item.display.image]]\"\n              icon=\"[[item.display.icon]]\"\n              class=\"ferpa-protect\"\n            >\n            </lrndesign-gallerycard>\n          </paper-button>\n        </template>\n      </iron-list>\n    "]);_templateObject_bf0eda90734911eaac0dbb5c5350affd=function _templateObject_bf0eda90734911eaac0dbb5c5350affd(){return data};return data}var LrnappBlockNeedFeedback=/*#__PURE__*/function(_PolymerElement){babelHelpers.inherits(LrnappBlockNeedFeedback,_PolymerElement);function LrnappBlockNeedFeedback(){babelHelpers.classCallCheck(this,LrnappBlockNeedFeedback);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(LrnappBlockNeedFeedback).apply(this,arguments))}babelHelpers.createClass(LrnappBlockNeedFeedback,[{key:"_loadSubmissionUrl",/**
   * Handle tap on paper-button above to redirect to the correct submission url.
   */value:function _loadSubmissionUrl(e){var root=this,normalizedEvent=(0,_polymerDom.dom)(e),local=normalizedEvent.localTarget,active=local.getAttribute("data-submission-id");// @todo need a cleaner integration but this at least goes the right place for now
window.location.href=this.basePath+"lrnapp-studio-submission/submissions/"+active}},{key:"handleResponse",value:function handleResponse(e){this.$.loading.hidden=!0}},{key:"_toArray",value:function _toArray(obj){if(null==obj){return[]}return Object.keys(obj).map(function(key){return obj[key]})}}],[{key:"template",get:function get(){return(0,_polymerElement.html)(_templateObject_bf0eda90734911eaac0dbb5c5350affd())}},{key:"tag",get:function get(){return"lrnapp-block-need-feedback"}},{key:"properties",get:function get(){return{sourcePath:{type:String,notify:!0},response:{type:Array,notify:!0}}}}]);return LrnappBlockNeedFeedback}(_polymerElement.PolymerElement);_exports.LrnappBlockNeedFeedback=LrnappBlockNeedFeedback;window.customElements.define(LrnappBlockNeedFeedback.tag,LrnappBlockNeedFeedback)});