define(["exports", "../../../lit/index.js", "../../../@polymer/polymer/lib/utils/flattened-nodes-observer.js", "../../a11y-collapse/a11y-collapse.js", "./lrndesign-mapmenu-item.js", "./lrndesign-mapmenu-header.js"], function (_exports, _index, _flattenedNodesObserver, _a11yCollapse, _lrndesignMapmenuItem, _lrndesignMapmenuHeader) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.LrndesignMapmenuSubmenu = void 0;

  var _templateObject_d8bfb5208e0011ed99ce491205e67b1d, _templateObject2_d8bfb5208e0011ed99ce491205e67b1d;

  function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = babelHelpers.getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = babelHelpers.getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return babelHelpers.possibleConstructorReturn(this, result); }; }

  function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

  var LrndesignMapmenuSubmenu = /*#__PURE__*/function (_LitElement) {
    babelHelpers.inherits(LrndesignMapmenuSubmenu, _LitElement);

    var _super = _createSuper(LrndesignMapmenuSubmenu);

    function LrndesignMapmenuSubmenu() {
      var _this;

      babelHelpers.classCallCheck(this, LrndesignMapmenuSubmenu);
      _this = _super.call(this);
      _this.label = "";
      _this.title = "";
      _this.avatarLabel = "";
      _this.opened = false;
      _this.collapsable = true;
      _this.expandChildren = false;
      return _this;
    }

    babelHelpers.createClass(LrndesignMapmenuSubmenu, [{
      key: "render",
      value: function render() {
        return (0, _index.html)(_templateObject_d8bfb5208e0011ed99ce491205e67b1d || (_templateObject_d8bfb5208e0011ed99ce491205e67b1d = babelHelpers.taggedTemplateLiteral(["\n      <a11y-collapse id=\"container\">\n        <lrndesign-mapmenu-header\n          avatar-label=\"", "\"\n          title=\"", "\"\n          label=\"", "\"\n          slot=\"heading\"\n        ></lrndesign-mapmenu-header>\n        <slot></slot>\n      </a11y-collapse>\n    "])), this.avatarLabel, this.title, this.label);
      }
    }, {
      key: "_openChanged",
      value: function _openChanged(opened) {
        var target = this.shadowRoot.querySelector("#container");
        if (opened) target.show();
        if (!opened) target.hide();
      }
    }, {
      key: "_headerClickHandler",
      value: function _headerClickHandler(e) {
        if (this.collapsable) {
          this.opened = !this.opened;
        }
      }
    }, {
      key: "connectedCallback",
      value: function connectedCallback() {
        var _this2 = this;

        babelHelpers.get(babelHelpers.getPrototypeOf(LrndesignMapmenuSubmenu.prototype), "connectedCallback", this).call(this);
        this._observer = new _flattenedNodesObserver.FlattenedNodesObserver(this, function (info) {
          var submenus = info.addedNodes.filter(function (item) {
            return item.nodeName === "LRNDESIGN-MAPMENU-SUBMENU";
          });

          if (_this2.expandChildren) {
            var _iterator = _createForOfIteratorHelper(submenus),
                _step;

            try {
              for (_iterator.s(); !(_step = _iterator.n()).done;) {
                var menu = _step.value;
                menu.setAttribute("opened", true);
              }
            } catch (err) {
              _iterator.e(err);
            } finally {
              _iterator.f();
            }
          }
        });
      }
    }, {
      key: "disconnectedCallback",
      value: function disconnectedCallback() {
        this._observer.disconnect();

        babelHelpers.get(babelHelpers.getPrototypeOf(LrndesignMapmenuSubmenu.prototype), "disconnectedCallback", this).call(this);
      }
    }], [{
      key: "styles",
      get:
      /**
       * LitElement constructable styles enhancement
       */
      function get() {
        return [(0, _index.css)(_templateObject2_d8bfb5208e0011ed99ce491205e67b1d || (_templateObject2_d8bfb5208e0011ed99ce491205e67b1d = babelHelpers.taggedTemplateLiteral(["\n        :host {\n          display: block;\n        }\n        :host([collapsable]) > lrndesign-mapmenu-header {\n          cursor: pointer;\n          display: block;\n        }\n        #container {\n          padding: 16px;\n        }\n        #container ::slotted(lrndesign-mapmenu-item) {\n          margin-top: 6.4px;\n        }\n        a11y-collapse {\n          border: 0;\n        }\n      "])))];
      }
    }, {
      key: "tag",
      get: function get() {
        return "lrndesign-mapmenu-submenu";
      }
    }, {
      key: "properties",
      get: function get() {
        return {
          title: {
            type: String
          },
          avatarLabel: {
            type: String,
            attribute: "avatar-label"
          },
          label: {
            type: String
          },
          opened: {
            type: Boolean
          },
          collapsable: {
            type: Boolean,
            reflect: true
          },
          expandChildren: {
            type: Boolean,
            attribute: "expand-children"
          }
        };
      }
    }]);
    return LrndesignMapmenuSubmenu;
  }(_index.LitElement);

  _exports.LrndesignMapmenuSubmenu = LrndesignMapmenuSubmenu;
  customElements.define(LrndesignMapmenuSubmenu.tag, LrndesignMapmenuSubmenu);
});