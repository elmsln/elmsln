define(["exports", "../../../lit-element/lit-element.js", "../../../@polymer/polymer/lib/utils/flattened-nodes-observer.js", "../../../@polymer/iron-collapse/iron-collapse.js", "./lrndesign-mapmenu-item.js", "./lrndesign-mapmenu-header.js"], function (_exports, _litElement, _flattenedNodesObserver, _ironCollapse, _lrndesignMapmenuItem, _lrndesignMapmenuHeader) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.LrndesignMapmenuSubmenu = void 0;

  function _templateObject2_8a9d9200864111ea89c13be6dda9e306() {
    var data = babelHelpers.taggedTemplateLiteral(["\n        :host {\n          display: block;\n        }\n        :host([collapsable]) > lrndesign-mapmenu-header {\n          cursor: pointer;\n          display: block;\n        }\n        #container {\n          padding: 16px;\n        }\n        #container ::slotted(lrndesign-mapmenu-item) {\n          margin-top: 6.4px;\n        }\n      "]);

    _templateObject2_8a9d9200864111ea89c13be6dda9e306 = function _templateObject2_8a9d9200864111ea89c13be6dda9e306() {
      return data;
    };

    return data;
  }

  function _templateObject_8a9d9200864111ea89c13be6dda9e306() {
    var data = babelHelpers.taggedTemplateLiteral(["\n      <lrndesign-mapmenu-header\n        @click=\"", "\"\n        avatar-label=\"", "\"\n        title=\"", "\"\n        label=\"", "\"\n        ?opened=\"", "\"\n      ></lrndesign-mapmenu-header>\n      <iron-collapse id=\"container\"> <slot></slot> </iron-collapse>\n    "]);

    _templateObject_8a9d9200864111ea89c13be6dda9e306 = function _templateObject_8a9d9200864111ea89c13be6dda9e306() {
      return data;
    };

    return data;
  }

  var LrndesignMapmenuSubmenu =
  /*#__PURE__*/
  function (_LitElement) {
    babelHelpers.inherits(LrndesignMapmenuSubmenu, _LitElement);
    babelHelpers.createClass(LrndesignMapmenuSubmenu, [{
      key: "render",
      value: function render() {
        return (0, _litElement.html)(_templateObject_8a9d9200864111ea89c13be6dda9e306(), this._headerClickHandler, this.avatarLabel, this.title, this.label, this.opened);
      }
    }, {
      key: "_openChanged",
      value: function _openChanged(opened) {
        var target = this.shadowRoot.querySelector("#container");
        if (opened) target.show();
        if (!opened) target.hide();
      }
    }, {
      key: "_headerClickHandler",
      value: function _headerClickHandler(e) {
        if (this.collapsable) {
          this.opened = !this.opened;
        }
      }
    }], [{
      key: "styles",

      /**
       * LitElement constructable styles enhancement
       */
      get: function get() {
        return [(0, _litElement.css)(_templateObject2_8a9d9200864111ea89c13be6dda9e306())];
      }
    }, {
      key: "tag",
      get: function get() {
        return "lrndesign-mapmenu-submenu";
      }
    }, {
      key: "properties",
      get: function get() {
        return {
          title: {
            type: String
          },
          avatarLabel: {
            type: String,
            attribute: "avatar-label"
          },
          label: {
            type: String
          },
          opened: {
            type: Boolean
          },
          collapsable: {
            type: Boolean,
            reflect: true
          },
          expandChildren: {
            type: Boolean,
            attribute: "expand-children"
          }
        };
      }
    }]);

    function LrndesignMapmenuSubmenu() {
      var _this;

      babelHelpers.classCallCheck(this, LrndesignMapmenuSubmenu);
      _this = babelHelpers.possibleConstructorReturn(this, babelHelpers.getPrototypeOf(LrndesignMapmenuSubmenu).call(this));
      _this.opened = false;
      _this.collapsable = true;
      _this.expandChildren = false;
      return _this;
    }

    babelHelpers.createClass(LrndesignMapmenuSubmenu, [{
      key: "connectedCallback",
      value: function connectedCallback() {
        var _this2 = this;

        babelHelpers.get(babelHelpers.getPrototypeOf(LrndesignMapmenuSubmenu.prototype), "connectedCallback", this).call(this);
        this._observer = new _flattenedNodesObserver.FlattenedNodesObserver(this, function (info) {
          var submenus = info.addedNodes.filter(function (item) {
            return item.nodeName === "LRNDESIGN-MAPMENU-SUBMENU";
          });

          if (_this2.expandChildren) {
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
              for (var _iterator = submenus[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var menu = _step.value;
                menu.setAttribute("opened", true);
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }
          }
        });
      }
    }, {
      key: "disconnectedCallback",
      value: function disconnectedCallback() {
        this._observer.disconnect();

        babelHelpers.get(babelHelpers.getPrototypeOf(LrndesignMapmenuSubmenu.prototype), "disconnectedCallback", this).call(this);
      }
    }]);
    return LrndesignMapmenuSubmenu;
  }(_litElement.LitElement);

  _exports.LrndesignMapmenuSubmenu = LrndesignMapmenuSubmenu;
  window.customElements.define(LrndesignMapmenuSubmenu.tag, LrndesignMapmenuSubmenu);
});