define(["../polymer/polymer-legacy.js", "./iron-doc-function.js", "./iron-doc-hide-bar.js", "./iron-doc-property.js", "./iron-doc-viewer-styles.js", "../polymer/lib/legacy/polymer-fn.js", "../polymer/lib/utils/html-tag.js", "./iron-doc-viewer-behavior.js"], function (_polymerLegacy, _ironDocFunction, _ironDocHideBar, _ironDocProperty, _ironDocViewerStyles, _polymerFn, _htmlTag, _ironDocViewerBehavior) {
  "use strict";

  var _templateObject_ff48a8b0942711ecb1937969798b231a;

  (0, _polymerFn.Polymer)({
    _template: (0, _htmlTag.html)(_templateObject_ff48a8b0942711ecb1937969798b231a || (_templateObject_ff48a8b0942711ecb1937969798b231a = babelHelpers.taggedTemplateLiteral(["\n    <style include=\"iron-doc-viewer-styles\">\n      .checkbox {\n        margin-left: 16px;\n        cursor: pointer;\n        display: flex;\n      }\n\n      .checkbox input {\n        width: 18px;\n        height: 18px;\n      }\n    </style>\n\n    <section anchor-id$=\"[[fragmentPrefix]]properties\" hidden$=\"[[!_anyVisible(descriptor.properties)]]\">\n      <h2>\n        <a href$=\"#[[fragmentPrefix]]properties\" class=\"deeplink\">Properties</a>\n      </h2>\n\n      <template is=\"dom-repeat\" items=\"[[_public(descriptor.properties)]]\" sort=\"_compareDescriptors\">\n        <iron-doc-property descriptor=\"[[item]]\" anchor-id=\"[[fragmentPrefix]]property-[[item.name]]\">\n        </iron-doc-property>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[_protectedCount(descriptor.properties)]]\">\n        <template is=\"dom-if\" if=\"[[_showProtectedProperties]]\">\n          <template is=\"dom-repeat\" items=\"[[_protected(descriptor.properties)]]\" sort=\"_compareDescriptors\">\n            <iron-doc-property descriptor=\"[[item]]\" anchor-id=\"[[fragmentPrefix]]property-[[item.name]]\">\n            </iron-doc-property>\n          </template>\n        </template>\n\n        <iron-doc-hide-bar visible=\"{{_showProtectedProperties}}\">\n          [[_protectedCount(descriptor.properties)]] protected properties\n        </iron-doc-hide-bar>\n      </template>\n    </section>\n\n    <section id=\"methods\" anchor-id$=\"[[fragmentPrefix]]methods\" hidden$=\"[[!_hasMethods]]\">\n      <h2>\n        <a href$=\"#[[fragmentPrefix]]methods\" class=\"deeplink\">Methods</a>\n      </h2>\n\n      <template is=\"dom-repeat\" items=\"[[_public(descriptor.staticMethods)]]\" sort=\"_compareDescriptors\">\n        <iron-doc-function descriptor=\"[[item]]\" static anchor-id=\"[[fragmentPrefix]]staticmethod-[[item.name]]\">\n        </iron-doc-function>\n      </template>\n\n      <template is=\"dom-repeat\" items=\"[[_public(descriptor.methods)]]\" sort=\"_compareDescriptors\">\n        <iron-doc-function descriptor=\"[[item]]\" anchor-id=\"[[fragmentPrefix]]method-[[item.name]]\">\n        </iron-doc-function>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[_protectedCount(descriptor.methods, _staticMethods)]]\">\n        <template is=\"dom-if\" if=\"[[_showProtectedMethods]]\">\n          <template is=\"dom-repeat\" items=\"[[_protected(descriptor.staticMethods)]]\" sort=\"_compareDescriptors\">\n            <iron-doc-function descriptor=\"[[item]]\" static anchor-id=\"[[fragmentPrefix]]method-[[item.name]]\">\n            </iron-doc-function>\n          </template>\n\n          <template is=\"dom-repeat\" items=\"[[_protected(descriptor.methods)]]\" sort=\"_compareDescriptors\">\n            <iron-doc-function descriptor=\"[[item]]\" anchor-id=\"[[fragmentPrefix]]method-[[item.name]]\">\n            </iron-doc-function>\n          </template>\n        </template>\n\n        <iron-doc-hide-bar visible=\"{{_showProtectedMethods}}\">\n          [[_protectedCount(descriptor.methods, _staticMethods)]]\n          protected methods\n        </iron-doc-hide-bar>\n      </template>\n    </section>\n\n    <section anchor-id$=\"[[fragmentPrefix]]events\" hidden$=\"[[!_anyVisible(descriptor.events)]]\">\n      <h2>\n        <a href$=\"#[[fragmentPrefix]]events\" class=\"deeplink\">Events</a>\n      </h2>\n\n      <template is=\"dom-repeat\" items=\"[[_public(descriptor.events)]]\" sort=\"_compareDescriptors\">\n        <iron-doc-property descriptor=\"[[item]]\" anchor-id=\"[[fragmentPrefix]]event-[[item.name]]\">\n        </iron-doc-property>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[_protectedCount(descriptor.events)]]\">\n        <template is=\"dom-if\" if=\"[[_showProtectedEvents]]\">\n          <template is=\"dom-repeat\" items=\"[[_protected(descriptor.events)]]\" sort=\"_compareDescriptors\">\n            <iron-doc-property descriptor=\"[[item]]\" anchor-id=\"[[fragmentPrefix]]event-[[item.name]]\">\n            </iron-doc-property>\n          </template>\n        </template>\n\n        <iron-doc-hide-bar visible=\"{{_showProtectedEvents}}\">\n          [[_protectedCount(descriptor.events)]] protected events\n        </iron-doc-hide-bar>\n      </template>\n    </section>\n"], ["\n    <style include=\"iron-doc-viewer-styles\">\n      .checkbox {\n        margin-left: 16px;\n        cursor: pointer;\n        display: flex;\n      }\n\n      .checkbox input {\n        width: 18px;\n        height: 18px;\n      }\n    </style>\n\n    <section anchor-id\\$=\"[[fragmentPrefix]]properties\" hidden\\$=\"[[!_anyVisible(descriptor.properties)]]\">\n      <h2>\n        <a href\\$=\"#[[fragmentPrefix]]properties\" class=\"deeplink\">Properties</a>\n      </h2>\n\n      <template is=\"dom-repeat\" items=\"[[_public(descriptor.properties)]]\" sort=\"_compareDescriptors\">\n        <iron-doc-property descriptor=\"[[item]]\" anchor-id=\"[[fragmentPrefix]]property-[[item.name]]\">\n        </iron-doc-property>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[_protectedCount(descriptor.properties)]]\">\n        <template is=\"dom-if\" if=\"[[_showProtectedProperties]]\">\n          <template is=\"dom-repeat\" items=\"[[_protected(descriptor.properties)]]\" sort=\"_compareDescriptors\">\n            <iron-doc-property descriptor=\"[[item]]\" anchor-id=\"[[fragmentPrefix]]property-[[item.name]]\">\n            </iron-doc-property>\n          </template>\n        </template>\n\n        <iron-doc-hide-bar visible=\"{{_showProtectedProperties}}\">\n          [[_protectedCount(descriptor.properties)]] protected properties\n        </iron-doc-hide-bar>\n      </template>\n    </section>\n\n    <section id=\"methods\" anchor-id\\$=\"[[fragmentPrefix]]methods\" hidden\\$=\"[[!_hasMethods]]\">\n      <h2>\n        <a href\\$=\"#[[fragmentPrefix]]methods\" class=\"deeplink\">Methods</a>\n      </h2>\n\n      <template is=\"dom-repeat\" items=\"[[_public(descriptor.staticMethods)]]\" sort=\"_compareDescriptors\">\n        <iron-doc-function descriptor=\"[[item]]\" static anchor-id=\"[[fragmentPrefix]]staticmethod-[[item.name]]\">\n        </iron-doc-function>\n      </template>\n\n      <template is=\"dom-repeat\" items=\"[[_public(descriptor.methods)]]\" sort=\"_compareDescriptors\">\n        <iron-doc-function descriptor=\"[[item]]\" anchor-id=\"[[fragmentPrefix]]method-[[item.name]]\">\n        </iron-doc-function>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[_protectedCount(descriptor.methods, _staticMethods)]]\">\n        <template is=\"dom-if\" if=\"[[_showProtectedMethods]]\">\n          <template is=\"dom-repeat\" items=\"[[_protected(descriptor.staticMethods)]]\" sort=\"_compareDescriptors\">\n            <iron-doc-function descriptor=\"[[item]]\" static anchor-id=\"[[fragmentPrefix]]method-[[item.name]]\">\n            </iron-doc-function>\n          </template>\n\n          <template is=\"dom-repeat\" items=\"[[_protected(descriptor.methods)]]\" sort=\"_compareDescriptors\">\n            <iron-doc-function descriptor=\"[[item]]\" anchor-id=\"[[fragmentPrefix]]method-[[item.name]]\">\n            </iron-doc-function>\n          </template>\n        </template>\n\n        <iron-doc-hide-bar visible=\"{{_showProtectedMethods}}\">\n          [[_protectedCount(descriptor.methods, _staticMethods)]]\n          protected methods\n        </iron-doc-hide-bar>\n      </template>\n    </section>\n\n    <section anchor-id\\$=\"[[fragmentPrefix]]events\" hidden\\$=\"[[!_anyVisible(descriptor.events)]]\">\n      <h2>\n        <a href\\$=\"#[[fragmentPrefix]]events\" class=\"deeplink\">Events</a>\n      </h2>\n\n      <template is=\"dom-repeat\" items=\"[[_public(descriptor.events)]]\" sort=\"_compareDescriptors\">\n        <iron-doc-property descriptor=\"[[item]]\" anchor-id=\"[[fragmentPrefix]]event-[[item.name]]\">\n        </iron-doc-property>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[_protectedCount(descriptor.events)]]\">\n        <template is=\"dom-if\" if=\"[[_showProtectedEvents]]\">\n          <template is=\"dom-repeat\" items=\"[[_protected(descriptor.events)]]\" sort=\"_compareDescriptors\">\n            <iron-doc-property descriptor=\"[[item]]\" anchor-id=\"[[fragmentPrefix]]event-[[item.name]]\">\n            </iron-doc-property>\n          </template>\n        </template>\n\n        <iron-doc-hide-bar visible=\"{{_showProtectedEvents}}\">\n          [[_protectedCount(descriptor.events)]] protected events\n        </iron-doc-hide-bar>\n      </template>\n    </section>\n"]))),
    is: 'iron-doc-api',
    behaviors: [_ironDocViewerBehavior.IronDocViewerBehavior],
    properties: {
      descriptor: Object,
      _showProtectedProperties: Boolean,
      _showProtectedMethods: Boolean,
      _showProtectedEvents: Boolean,
      _staticMethods: {
        computed: '_computeStaticMethods(descriptor)'
      },
      _hasMethods: {
        computed: '_computeHasMethods(descriptor)'
      }
    },
    _anyVisible: function _anyVisible(items) {
      for (var i = 0; i < (items || []).length; i++) {
        var item = items[i];

        if (!item.privacy || item.privacy === 'public' || item.privacy === 'protected') {
          return true;
        }
      }

      ;
      return false;
    },
    _public: function _public(items) {
      var filtered = [];

      for (var i = 0; i < (items || []).length; i++) {
        var item = items[i];

        if (!item.privacy || item.privacy === 'public') {
          filtered.push(item);
        }
      }

      return filtered;
    },
    _protected: function _protected(items) {
      var filtered = [];

      for (var i = 0; i < (items || []).length; i++) {
        var item = items[i];

        if (item.privacy === 'protected') {
          filtered.push(item);
        }
      }

      return filtered;
    },
    _protectedCount: function _protectedCount()
    /** arguments */
    {
      var sum = 0;

      for (var i = 0; i < arguments.length; i++) {
        sum += this._protected(arguments[i]).length;
      }

      return sum;
    },
    _computeStaticMethods: function _computeStaticMethods(descriptor) {
      return descriptor.staticMethods || [];
    },
    _computeHasMethods: function _computeHasMethods(descriptor) {
      return descriptor.methods && descriptor.methods.length > 0 || descriptor.staticMethods && descriptor.staticMethods.length > 0;
    }
  });
});