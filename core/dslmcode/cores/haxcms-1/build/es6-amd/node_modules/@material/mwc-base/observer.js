define(["exports"], function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.observer = void 0;

  const observer = observer => // eslint-disable-next-line @typescript-eslint/no-explicit-any
  (proto, propName) => {
    // if we haven't wrapped `updated` in this class, do so
    if (!proto.constructor._observers) {
      proto.constructor._observers = new Map();
      const userUpdated = proto.updated;

      proto.updated = function (changedProperties) {
        userUpdated.call(this, changedProperties);
        changedProperties.forEach((v, k) => {
          const observer = this.constructor._observers.get(k);

          if (observer !== undefined) {
            observer.call(this, this[k], v);
          }
        });
      }; // clone any existing observers (superclasses)

    } else if (!proto.constructor.hasOwnProperty('_observers')) {
      const observers = proto.constructor._observers;
      proto.constructor._observers = new Map();
      observers.forEach( // eslint-disable-next-line @typescript-eslint/no-explicit-any
      (v, k) => proto.constructor._observers.set(k, v));
    } // set this method


    proto.constructor._observers.set(propName, observer);
  };

  _exports.observer = observer;
});