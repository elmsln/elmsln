/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-json version: 2.3.0(f70f178c030b18006bc3240fd791bd4aa41da141)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-json/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
!function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-languageserver-types/main",["require","exports"],S)}((function(S,j){"use strict";var T,A,I,w,M,V,_,D,F,R,L,q,W,$,K,U,B,J,H,G,Q,Z,Y,ee;Object.defineProperty(j,"__esModule",{value:!0}),(A=T=j.Position||(j.Position={})).create=function(S,j){return{line:S,character:j}},A.is=function(S){var j=S;return Oe.objectLiteral(j)&&Oe.number(j.line)&&Oe.number(j.character)},(w=I=j.Range||(j.Range={})).create=function(S,j,A,I){if(Oe.number(S)&&Oe.number(j)&&Oe.number(A)&&Oe.number(I))return{start:T.create(S,j),end:T.create(A,I)};if(T.is(S)&&T.is(j))return{start:S,end:j};throw new Error("Range#create called with invalid arguments["+S+", "+j+", "+A+", "+I+"]")},w.is=function(S){var j=S;return Oe.objectLiteral(j)&&T.is(j.start)&&T.is(j.end)},(V=M=j.Location||(j.Location={})).create=function(S,j){return{uri:S,range:j}},V.is=function(S){var j=S;return Oe.defined(j)&&I.is(j.range)&&(Oe.string(j.uri)||Oe.undefined(j.uri))},(D=_=j.Color||(j.Color={})).create=function(S,j,T,A){return{red:S,green:j,blue:T,alpha:A}},D.is=function(S){var j=S;return Oe.number(j.red)&&Oe.number(j.green)&&Oe.number(j.blue)&&Oe.number(j.alpha)},(F=j.ColorInformation||(j.ColorInformation={})).create=function(S,j){return{range:S,color:j}},F.is=function(S){var j=S;return I.is(j.range)&&_.is(j.color)},(R=j.ColorPresentation||(j.ColorPresentation={})).create=function(S,j,T){return{label:S,textEdit:j,additionalTextEdits:T}},R.is=function(S){var j=S;return Oe.string(j.label)&&(Oe.undefined(j.textEdit)||G.is(j))&&(Oe.undefined(j.additionalTextEdits)||Oe.typedArray(j.additionalTextEdits,G.is))},(L=j.FoldingRangeKind||(j.FoldingRangeKind={})).Comment="comment",L.Imports="imports",L.Region="region",(q=j.FoldingRange||(j.FoldingRange={})).create=function(S,j,T,A,I){var w={startLine:S,endLine:j};return Oe.defined(T)&&(w.startCharacter=T),Oe.defined(A)&&(w.endCharacter=A),Oe.defined(I)&&(w.kind=I),w},q.is=function(S){var j=S;return Oe.number(j.startLine)&&Oe.number(j.startLine)&&(Oe.undefined(j.startCharacter)||Oe.number(j.startCharacter))&&(Oe.undefined(j.endCharacter)||Oe.number(j.endCharacter))&&(Oe.undefined(j.kind)||Oe.string(j.kind))},($=W=j.DiagnosticRelatedInformation||(j.DiagnosticRelatedInformation={})).create=function(S,j){return{location:S,message:j}},$.is=function(S){var j=S;return Oe.defined(j)&&M.is(j.location)&&Oe.string(j.message)},(K=j.DiagnosticSeverity||(j.DiagnosticSeverity={})).Error=1,K.Warning=2,K.Information=3,K.Hint=4,(B=U=j.Diagnostic||(j.Diagnostic={})).create=function(S,j,T,A,I,w){var M={range:S,message:j};return Oe.defined(T)&&(M.severity=T),Oe.defined(A)&&(M.code=A),Oe.defined(I)&&(M.source=I),Oe.defined(w)&&(M.relatedInformation=w),M},B.is=function(S){var j=S;return Oe.defined(j)&&I.is(j.range)&&Oe.string(j.message)&&(Oe.number(j.severity)||Oe.undefined(j.severity))&&(Oe.number(j.code)||Oe.string(j.code)||Oe.undefined(j.code))&&(Oe.string(j.source)||Oe.undefined(j.source))&&(Oe.undefined(j.relatedInformation)||Oe.typedArray(j.relatedInformation,W.is))},(H=J=j.Command||(j.Command={})).create=function(S,j){for(var T=[],A=2;A<arguments.length;A++)T[A-2]=arguments[A];var I={title:S,command:j};return Oe.defined(T)&&0<T.length&&(I.arguments=T),I},H.is=function(S){var j=S;return Oe.defined(j)&&Oe.string(j.title)&&Oe.string(j.command)},(Q=G=j.TextEdit||(j.TextEdit={})).replace=function(S,j){return{range:S,newText:j}},Q.insert=function(S,j){return{range:{start:S,end:S},newText:j}},Q.del=function(S){return{range:S,newText:""}},Q.is=function(S){var j=S;return Oe.objectLiteral(j)&&Oe.string(j.newText)&&I.is(j.range)},(Y=Z=j.TextDocumentEdit||(j.TextDocumentEdit={})).create=function(S,j){return{textDocument:S,edits:j}},Y.is=function(S){var j=S;return Oe.defined(j)&&re.is(j.textDocument)&&Array.isArray(j.edits)},(ee=j.WorkspaceEdit||(j.WorkspaceEdit={})).is=function(S){var j=S;return j&&(void 0!==j.changes||void 0!==j.documentChanges)&&(void 0===j.documentChanges||Oe.typedArray(j.documentChanges,Z.is))};var te,re,ne,oe,ie,ae,se,ce,ue,fe,le,de,pe,he,me=function(){function e(S){this.edits=S}return e.prototype.insert=function(S,j){this.edits.push(G.insert(S,j))},e.prototype.replace=function(S,j){this.edits.push(G.replace(S,j))},e.prototype.delete=function(S){this.edits.push(G.del(S))},e.prototype.add=function(S){this.edits.push(S)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),ge=function(){function e(S){var j=this;this._textEditChanges=Object.create(null),S&&((this._workspaceEdit=S).documentChanges?S.documentChanges.forEach((function(S){var T=new me(S.edits);j._textEditChanges[S.textDocument.uri]=T})):S.changes&&Object.keys(S.changes).forEach((function(T){var A=new me(S.changes[T]);j._textEditChanges[T]=A})))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(S){if(re.is(S)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for versioned document changes.");var j=S;if(!(A=this._textEditChanges[j.uri])){var T={textDocument:j,edits:I=[]};this._workspaceEdit.documentChanges.push(T),A=new me(I),this._textEditChanges[j.uri]=A}return A}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var A;if(!(A=this._textEditChanges[S])){var I=[];this._workspaceEdit.changes[S]=I,A=new me(I),this._textEditChanges[S]=A}return A},e}();j.WorkspaceChange=ge,(te=j.TextDocumentIdentifier||(j.TextDocumentIdentifier={})).create=function(S){return{uri:S}},te.is=function(S){var j=S;return Oe.defined(j)&&Oe.string(j.uri)},(ne=re=j.VersionedTextDocumentIdentifier||(j.VersionedTextDocumentIdentifier={})).create=function(S,j){return{uri:S,version:j}},ne.is=function(S){var j=S;return Oe.defined(j)&&Oe.string(j.uri)&&Oe.number(j.version)},(oe=j.TextDocumentItem||(j.TextDocumentItem={})).create=function(S,j,T,A){return{uri:S,languageId:j,version:T,text:A}},oe.is=function(S){var j=S;return Oe.defined(j)&&Oe.string(j.uri)&&Oe.string(j.languageId)&&Oe.number(j.version)&&Oe.string(j.text)},(ae=ie=j.MarkupKind||(j.MarkupKind={})).PlainText="plaintext",ae.Markdown="markdown",(se=ie=j.MarkupKind||(j.MarkupKind={})).is=function(S){var j=S;return j===se.PlainText||j===se.Markdown},(ce=j.MarkupContent||(j.MarkupContent={})).is=function(S){var j=S;return Oe.objectLiteral(S)&&ie.is(j.kind)&&Oe.string(j.value)},(ue=j.CompletionItemKind||(j.CompletionItemKind={})).Text=1,ue.Method=2,ue.Function=3,ue.Constructor=4,ue.Field=5,ue.Variable=6,ue.Class=7,ue.Interface=8,ue.Module=9,ue.Property=10,ue.Unit=11,ue.Value=12,ue.Enum=13,ue.Keyword=14,ue.Snippet=15,ue.Color=16,ue.File=17,ue.Reference=18,ue.Folder=19,ue.EnumMember=20,ue.Constant=21,ue.Struct=22,ue.Event=23,ue.Operator=24,ue.TypeParameter=25,(fe=j.InsertTextFormat||(j.InsertTextFormat={})).PlainText=1,fe.Snippet=2,(j.CompletionItem||(j.CompletionItem={})).create=function(S){return{label:S}},(j.CompletionList||(j.CompletionList={})).create=function(S,j){return{items:S||[],isIncomplete:!!j}},(de=le=j.MarkedString||(j.MarkedString={})).fromPlainText=function(S){return S.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},de.is=function(S){var j=S;return Oe.string(j)||Oe.objectLiteral(j)&&Oe.string(j.language)&&Oe.string(j.value)},(j.Hover||(j.Hover={})).is=function(S){var j=S;return Oe.objectLiteral(j)&&(ce.is(j.contents)||le.is(j.contents)||Oe.typedArray(j.contents,le.is))&&(void 0===S.range||I.is(S.range))},(j.ParameterInformation||(j.ParameterInformation={})).create=function(S,j){return j?{label:S,documentation:j}:{label:S}},(j.SignatureInformation||(j.SignatureInformation={})).create=function(S,j){for(var T=[],A=2;A<arguments.length;A++)T[A-2]=arguments[A];var I={label:S};return Oe.defined(j)&&(I.documentation=j),Oe.defined(T)?I.parameters=T:I.parameters=[],I},(pe=j.DocumentHighlightKind||(j.DocumentHighlightKind={})).Text=1,pe.Read=2,pe.Write=3,(j.DocumentHighlight||(j.DocumentHighlight={})).create=function(S,j){var T={range:S};return Oe.number(j)&&(T.kind=j),T},(he=j.SymbolKind||(j.SymbolKind={})).File=1,he.Module=2,he.Namespace=3,he.Package=4,he.Class=5,he.Method=6,he.Property=7,he.Field=8,he.Constructor=9,he.Enum=10,he.Interface=11,he.Function=12,he.Variable=13,he.Constant=14,he.String=15,he.Number=16,he.Boolean=17,he.Array=18,he.Object=19,he.Key=20,he.Null=21,he.EnumMember=22,he.Struct=23,he.Event=24,he.Operator=25,he.TypeParameter=26,(j.SymbolInformation||(j.SymbolInformation={})).create=function(S,j,T,A,I){var w={name:S,kind:j,location:{uri:A,range:T}};return I&&(w.containerName=I),w};var ve,ye,be,xe,Se,Ce,z=function(){};j.DocumentSymbol=z,(ve=z=j.DocumentSymbol||(j.DocumentSymbol={})).create=function(S,j,T,A,I,w){var M={name:S,detail:j,kind:T,range:A,selectionRange:I};return void 0!==w&&(M.children=w),M},ve.is=function(S){var j=S;return j&&Oe.string(j.name)&&Oe.number(j.kind)&&I.is(j.range)&&I.is(j.selectionRange)&&(void 0===j.detail||Oe.string(j.detail))&&(void 0===j.deprecated||Oe.boolean(j.deprecated))&&(void 0===j.children||Array.isArray(j.children))},j.DocumentSymbol=z,(ye=j.CodeActionKind||(j.CodeActionKind={})).QuickFix="quickfix",ye.Refactor="refactor",ye.RefactorExtract="refactor.extract",ye.RefactorInline="refactor.inline",ye.RefactorRewrite="refactor.rewrite",ye.Source="source",ye.SourceOrganizeImports="source.organizeImports",(be=j.CodeActionContext||(j.CodeActionContext={})).create=function(S,j){var T={diagnostics:S};return null!=j&&(T.only=j),T},be.is=function(S){var j=S;return Oe.defined(j)&&Oe.typedArray(j.diagnostics,U.is)&&(void 0===j.only||Oe.typedArray(j.only,Oe.string))},(xe=j.CodeAction||(j.CodeAction={})).create=function(S,j,T){var A={title:S};return J.is(j)?A.command=j:A.edit=j,void 0!==T&&(A.kind=T),A},xe.is=function(S){var j=S;return j&&Oe.string(j.title)&&(void 0===j.diagnostics||Oe.typedArray(j.diagnostics,U.is))&&(void 0===j.kind||Oe.string(j.kind))&&(void 0!==j.edit||void 0!==j.command)&&(void 0===j.command||J.is(j.command))&&(void 0===j.edit||ee.is(j.edit))},(Se=j.CodeLens||(j.CodeLens={})).create=function(S,j){var T={range:S};return Oe.defined(j)&&(T.data=j),T},Se.is=function(S){var j=S;return Oe.defined(j)&&I.is(j.range)&&(Oe.undefined(j.command)||J.is(j.command))},(Ce=j.FormattingOptions||(j.FormattingOptions={})).create=function(S,j){return{tabSize:S,insertSpaces:j}},Ce.is=function(S){var j=S;return Oe.defined(j)&&Oe.number(j.tabSize)&&Oe.boolean(j.insertSpaces)};var je,Te,ke,X=function(){};j.DocumentLink=X,(je=X=j.DocumentLink||(j.DocumentLink={})).create=function(S,j,T){return{range:S,target:j,data:T}},je.is=function(S){var j=S;return Oe.defined(j)&&I.is(j.range)&&(Oe.undefined(j.target)||Oe.string(j.target))},j.DocumentLink=X,j.EOL=["\n","\r\n","\r"],(Te=j.TextDocument||(j.TextDocument={})).create=function(S,j,T,A){return new Ie(S,j,T,A)},Te.is=function(S){var j=S;return!!(Oe.defined(j)&&Oe.string(j.uri)&&(Oe.undefined(j.languageId)||Oe.string(j.languageId))&&Oe.number(j.lineCount)&&Oe.func(j.getText)&&Oe.func(j.positionAt)&&Oe.func(j.offsetAt))},Te.applyEdits=function(S,j){for(var T=S.getText(),A=function e(S,j){if(S.length<=1)return S;var T=S.length/2|0,A=S.slice(0,T),I=S.slice(T);e(A,j),e(I,j);for(var w=0,M=0,V=0;w<A.length&&M<I.length;){var _=j(A[w],I[M]);S[V++]=_<=0?A[w++]:I[M++]}for(;w<A.length;)S[V++]=A[w++];for(;M<I.length;)S[V++]=I[M++];return S}(j,(function(S,j){var T=S.range.start.line-j.range.start.line;return 0===T?S.range.start.character-j.range.start.character:T})),I=T.length,w=A.length-1;0<=w;w--){var M=A[w],V=S.offsetAt(M.range.start),_=S.offsetAt(M.range.end);if(!(_<=I))throw new Error("Ovelapping edit");T=T.substring(0,V)+M.newText+T.substring(_,T.length),I=V}return T},(ke=j.TextDocumentSaveReason||(j.TextDocumentSaveReason={})).Manual=1,ke.AfterDelay=2,ke.FocusOut=3;var Oe,Ae,Ee,Ie=function(){function e(S,j,T,A){this._uri=S,this._languageId=j,this._version=T,this._content=A,this._lineOffsets=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(S){if(S){var j=this.offsetAt(S.start),T=this.offsetAt(S.end);return this._content.substring(j,T)}return this._content},e.prototype.update=function(S,j){this._content=S.text,this._version=j,this._lineOffsets=null},e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var S=[],j=this._content,T=!0,A=0;A<j.length;A++){T&&(S.push(A),T=!1);var I=j.charAt(A);T="\r"===I||"\n"===I,"\r"===I&&A+1<j.length&&"\n"===j.charAt(A+1)&&A++}T&&0<j.length&&S.push(j.length),this._lineOffsets=S}return this._lineOffsets},e.prototype.positionAt=function(S){S=Math.max(Math.min(S,this._content.length),0);var j=this.getLineOffsets(),A=0,I=j.length;if(0===I)return T.create(0,S);for(;A<I;){var w=Math.floor((A+I)/2);j[w]>S?I=w:A=w+1}var M=A-1;return T.create(M,S-j[M])},e.prototype.offsetAt=function(S){var j=this.getLineOffsets();if(S.line>=j.length)return this._content.length;if(S.line<0)return 0;var T=j[S.line],A=S.line+1<j.length?j[S.line+1]:this._content.length;return Math.max(Math.min(T+S.character,A),T)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();Ae=Oe||(Oe={}),Ee=Object.prototype.toString,Ae.defined=function(S){return void 0!==S},Ae.undefined=function(S){return void 0===S},Ae.boolean=function(S){return!0===S||!1===S},Ae.string=function(S){return"[object String]"===Ee.call(S)},Ae.number=function(S){return"[object Number]"===Ee.call(S)},Ae.func=function(S){return"[object Function]"===Ee.call(S)},Ae.objectLiteral=function(S){return null!==S&&"object"==typeof S},Ae.typedArray=function(S,j){return Array.isArray(S)&&S.every(j)}})),define("vscode-languageserver-types",["vscode-languageserver-types/main"],(function(S){return S})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("jsonc-parser/impl/scanner",["require","exports"],S)}((function(S,j){"use strict";function d(S){return 32===S||9===S||11===S||12===S||160===S||5760===S||8192<=S&&S<=8203||8239===S||8287===S||12288===S||65279===S}function p(S){return 10===S||13===S||8232===S||8233===S}function h(S){return 48<=S&&S<=57}Object.defineProperty(j,"__esModule",{value:!0}),j.createScanner=function(S,j){void 0===j&&(j=!1);var T=0,A=S.length,I="",w=0,M=16,V=0;function f(j,A){for(var I=0,w=0;I<j||!A;){var M=S.charCodeAt(T);if(48<=M&&M<=57)w=16*w+M-48;else if(65<=M&&M<=70)w=16*w+M-65+10;else{if(!(97<=M&&M<=102))break;w=16*w+M-97+10}T++,I++}return I<j&&(w=-1),w}function t(){if(I="",V=0,A<=(w=T))return w=A,M=17;var j=S.charCodeAt(T);if(d(j)){for(;T++,I+=String.fromCharCode(j),d(j=S.charCodeAt(T)););return M=15}if(p(j))return T++,I+=String.fromCharCode(j),13===j&&10===S.charCodeAt(T)&&(T++,I+="\n"),M=14;switch(j){case 123:return T++,M=1;case 125:return T++,M=2;case 91:return T++,M=3;case 93:return T++,M=4;case 58:return T++,M=6;case 44:return T++,M=5;case 34:return T++,I=function(){for(var j="",I=T;;){if(A<=T){j+=S.substring(I,T),V=2;break}var w=S.charCodeAt(T);if(34===w){j+=S.substring(I,T),T++;break}if(92!==w){if(0<=w&&w<=31){if(p(w)){j+=S.substring(I,T),V=2;break}V=6}T++}else{if(j+=S.substring(I,T),A<=++T){V=2;break}switch(w=S.charCodeAt(T++)){case 34:j+='"';break;case 92:j+="\\";break;case 47:j+="/";break;case 98:j+="\b";break;case 102:j+="\f";break;case 110:j+="\n";break;case 114:j+="\r";break;case 116:j+="\t";break;case 117:var M=f(4,!0);0<=M?j+=String.fromCharCode(M):V=4;break;default:V=5}I=T}}return j}(),M=10;case 47:var _=T-1;if(47===S.charCodeAt(T+1)){for(T+=2;T<A&&!p(S.charCodeAt(T));)T++;return I=S.substring(_,T),M=12}if(42!==S.charCodeAt(T+1))return I+=String.fromCharCode(j),T++,M=16;T+=2;for(var D=!1;T<A;){if(42===S.charCodeAt(T)&&T+1<A&&47===S.charCodeAt(T+1)){T+=2,D=!0;break}T++}return D||(T++,V=1),I=S.substring(_,T),M=13;case 45:if(I+=String.fromCharCode(j),++T===A||!h(S.charCodeAt(T)))return M=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return I+=function(){var j=T;if(48===S.charCodeAt(T))T++;else for(T++;T<S.length&&h(S.charCodeAt(T));)T++;if(T<S.length&&46===S.charCodeAt(T)){if(!(++T<S.length&&h(S.charCodeAt(T))))return V=3,S.substring(j,T);for(T++;T<S.length&&h(S.charCodeAt(T));)T++}var A=T;if(T<S.length&&(69===S.charCodeAt(T)||101===S.charCodeAt(T)))if((++T<S.length&&43===S.charCodeAt(T)||45===S.charCodeAt(T))&&T++,T<S.length&&h(S.charCodeAt(T))){for(T++;T<S.length&&h(S.charCodeAt(T));)T++;A=T}else V=3;return S.substring(j,A)}(),M=11;default:for(;T<A&&l(j);)T++,j=S.charCodeAt(T);if(w===T)return I+=String.fromCharCode(j),T++,M=16;switch(I=S.substring(w,T)){case"true":return M=8;case"false":return M=9;case"null":return M=7}return M=16}}function l(S){if(d(S)||p(S))return!1;switch(S){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(S){T=S,I="",M=16,V=w=0},getPosition:function(){return T},scan:j?function(){for(var S;12<=(S=t())&&S<=15;);return S}:t,getToken:function(){return M},getTokenValue:function(){return I},getTokenOffset:function(){return w},getTokenLength:function(){return T-w},getTokenError:function(){return V}}}})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("jsonc-parser/impl/format",["require","exports","./scanner"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("./scanner");function k(S,j){for(var T="",A=0;A<j;A++)T+=S;return T}function O(S,j){return-1!=="\r\n".indexOf(S.charAt(j))}j.format=function(S,j,A){var I,w,M,V,_;if(j){for(V=j.offset,_=V+j.length,M=V;0<M&&!O(S,M-1);)M--;for(var D=_;D<S.length&&!O(S,D);)D++;w=S.substring(M,D),I=function(S,j){for(var T=0,A=0,I=j.tabSize||4;T<S.length;){var w=S.charAt(T);if(" "===w)A++;else{if("\t"!==w)break;A+=I}T++}return Math.floor(A/I)}(w,A)}else V=M=I=0,_=(w=S).length;var F,R=function(S,j){for(var T=0;T<j.length;T++){var A=j.charAt(T);if("\r"===A)return T+1<j.length&&"\n"===j.charAt(T+1)?"\r\n":"\r";if("\n"===A)return"\n"}return S&&S.eol||"\n"}(A,S),L=!1,q=0;F=A.insertSpaces?k(" ",A.tabSize||4):"\t";var W=T.createScanner(w,!1),$=!1;function m(){return R+k(F,I+q)}function g(){var S=W.scan();for(L=!1;15===S||14===S;)L=L||14===S,S=W.scan();return $=16===S||0!==W.getTokenError(),S}var K=[];function y(j,T,A){!$&&T<_&&V<A&&S.substring(T,A)!==j&&K.push({offset:T,length:A-T,content:j})}var U=g();if(17!==U){var B=W.getTokenOffset()+M;y(k(F,I),M,B)}for(;17!==U;){for(var J=W.getTokenOffset()+W.getTokenLength()+M,H=g(),G="";!L&&(12===H||13===H);)y(" ",J,W.getTokenOffset()+M),J=W.getTokenOffset()+W.getTokenLength()+M,G=12===H?m():"",H=g();if(2===H)1!==U&&(q--,G=m());else if(4===H)3!==U&&(q--,G=m());else{switch(U){case 3:case 1:q++,G=m();break;case 5:case 12:G=m();break;case 13:G=L?m():" ";break;case 6:G=" ";break;case 10:if(6===H){G="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===H||13===H?G=" ":5!==H&&17!==H&&($=!0);break;case 16:$=!0}!L||12!==H&&13!==H||(G=m())}y(G,J,W.getTokenOffset()+M),U=H}return K},j.isEOL=O})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("jsonc-parser/impl/parser",["require","exports","./scanner"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("./scanner");function s(S,j,T){return void 0===T&&(T=!1),j>=S.offset&&j<S.offset+S.length||T&&j===S.offset+S.length}function f(S,j,A){var I=T.createScanner(S,!1);function n(S){return S?function(){return S(I.getTokenOffset(),I.getTokenLength())}:function(){return!0}}function i(S){return S?function(j){return S(j,I.getTokenOffset(),I.getTokenLength())}:function(){return!0}}var w=n(j.onObjectBegin),M=i(j.onObjectProperty),V=n(j.onObjectEnd),_=n(j.onArrayBegin),D=n(j.onArrayEnd),F=i(j.onLiteralValue),R=i(j.onSeparator),L=n(j.onComment),q=i(j.onError),W=A&&A.disallowComments,$=A&&A.allowTrailingComma;function v(){for(;;){var S=I.scan();switch(I.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:W||y(11);break;case 2:y(12);break;case 6:y(16)}switch(S){case 12:case 13:W?y(10):L();break;case 16:y(1);break;case 15:case 14:break;default:return S}}}function y(S,j,T){if(void 0===j&&(j=[]),void 0===T&&(T=[]),q(S),0<j.length+T.length)for(var A=I.getToken();17!==A;){if(-1!==j.indexOf(A)){v();break}if(-1!==T.indexOf(A))break;A=v()}}function b(S){var j=I.getTokenValue();return S?F(j):M(j),v(),!0}return v(),17===I.getToken()||(function x(){switch(I.getToken()){case 3:return function(){_(),v();for(var S=!1;4!==I.getToken()&&17!==I.getToken();){if(5===I.getToken()){if(S||y(4,[],[]),R(","),v(),4===I.getToken()&&$)break}else S&&y(6,[],[]);x()||y(4,[],[4,5]),S=!0}return D(),4!==I.getToken()?y(8,[4],[]):v(),!0}();case 1:return function(){w(),v();for(var S=!1;2!==I.getToken()&&17!==I.getToken();){if(5===I.getToken()){if(S||y(4,[],[]),R(","),v(),2===I.getToken()&&$)break}else S&&y(6,[],[]);(10!==I.getToken()?(y(3,[],[2,5]),0):(b(!1),6===I.getToken()?(R(":"),v(),x()||y(4,[],[2,5])):y(5,[],[2,5]),1))||y(4,[],[2,5]),S=!0}return V(),2!==I.getToken()?y(7,[2],[]):v(),!0}();case 10:return b(!0);default:return function(){switch(I.getToken()){case 11:var S=0;try{"number"!=typeof(S=JSON.parse(I.getTokenValue()))&&(y(2),S=0)}catch(S){y(2)}F(S);break;case 7:F(null);break;case 8:F(!0);break;case 9:F(!1);break;default:return!1}return v(),!0}()}}()?(17!==I.getToken()&&y(9,[],[]),!0):(y(4,[],[]),!1))}function l(S){switch(typeof S){case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return"null"}}j.getLocation=function(S,j){var T=[],A=new Object,I=void 0,w={value:{},offset:0,length:0,type:"object",parent:void 0},M=!1;function n(S,j,T,A){w.value=S,w.offset=j,w.length=T,w.type=A,w.colonOffset=void 0,I=w}try{f(S,{onObjectBegin:function(S,w){if(j<=S)throw A;I=void 0,M=S<j,T.push("")},onObjectProperty:function(S,I,w){if(j<I)throw A;if(n(S,I,w,"property"),T[T.length-1]=S,j<=I+w)throw A},onObjectEnd:function(S,w){if(j<=S)throw A;I=void 0,T.pop()},onArrayBegin:function(S,w){if(j<=S)throw A;I=void 0,T.push(0)},onArrayEnd:function(S,w){if(j<=S)throw A;I=void 0,T.pop()},onLiteralValue:function(S,T,I){if(j<T)throw A;if(n(S,T,I,l(S)),j<=T+I)throw A},onSeparator:function(S,w,V){if(j<=w)throw A;if(":"===S&&I&&"property"===I.type)I.colonOffset=w,M=!1,I=void 0;else if(","===S){var _=T[T.length-1];T[T.length-1]="number"==typeof _?_+1:(M=!0,""),I=void 0}}})}catch(S){if(S!==A)throw S}return{path:T,previousNode:I,isAtPropertyKey:M,matches:function(S){for(var j=0,A=0;j<S.length&&A<T.length;A++)if(S[j]===T[A]||"*"===S[j])j++;else if("**"!==S[j])return!1;return j===S.length}}},j.parse=function(S,j,T){void 0===j&&(j=[]);var A=null,I=[],w=[];function a(S){Array.isArray(I)?I.push(S):A&&(I[A]=S)}return f(S,{onObjectBegin:function(){var S={};a(S),w.push(I),I=S,A=null},onObjectProperty:function(S){A=S},onObjectEnd:function(){I=w.pop()},onArrayBegin:function(){var S=[];a(S),w.push(I),I=S,A=null},onArrayEnd:function(){I=w.pop()},onLiteralValue:a,onError:function(S,T,A){j.push({error:S,offset:T,length:A})}},T),I[0]},j.parseTree=function(S,j,T){void 0===j&&(j=[]);var A={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(S){"property"===A.type&&(A.length=S-A.offset,A=A.parent)}function a(S){return A.children.push(S),S}f(S,{onObjectBegin:function(S){A=a({type:"object",offset:S,length:-1,parent:A,children:[]})},onObjectProperty:function(S,j,T){(A=a({type:"property",offset:j,length:-1,parent:A,children:[]})).children.push({type:"string",value:S,offset:j,length:T,parent:A})},onObjectEnd:function(S,j){A.length=S+j-A.offset,A=A.parent,i(S+j)},onArrayBegin:function(S,j){A=a({type:"array",offset:S,length:-1,parent:A,children:[]})},onArrayEnd:function(S,j){A.length=S+j-A.offset,A=A.parent,i(S+j)},onLiteralValue:function(S,j,T){a({type:l(S),offset:j,length:T,parent:A,value:S}),i(j+T)},onSeparator:function(S,j,T){"property"===A.type&&(":"===S?A.colonOffset=j:","===S&&i(j))},onError:function(S,T,A){j.push({error:S,offset:T,length:A})}},T);var I=A.children[0];return I&&delete I.parent,I},j.findNodeAtLocation=function(S,j){if(S){for(var T=S,A=0,I=j;A<I.length;A++){var w=I[A];if("string"==typeof w){if("object"!==T.type||!Array.isArray(T.children))return;for(var M=!1,V=0,_=T.children;V<_.length;V++){var D=_[V];if(Array.isArray(D.children)&&D.children[0].value===w){T=D.children[1],M=!0;break}}if(!M)return}else{var F=w;if("array"!==T.type||F<0||!Array.isArray(T.children)||F>=T.children.length)return;T=T.children[F]}}return T}},j.getNodePath=function e(S){if(!S.parent||!S.parent.children)return[];var j=e(S.parent);if("property"===S.parent.type){var T=S.parent.children[0].value;j.push(T)}else if("array"===S.parent.type){var A=S.parent.children.indexOf(S);-1!==A&&j.push(A)}return j},j.getNodeValue=function e(S){switch(S.type){case"array":return S.children.map(e);case"object":for(var j=Object.create(null),T=0,A=S.children;T<A.length;T++){var I=A[T],w=I.children[1];w&&(j[I.children[0].value]=e(w))}return j;case"null":case"string":case"number":case"boolean":return S.value;default:return}},j.contains=s,j.findNodeAtOffset=function e(S,j,T){if(void 0===T&&(T=!1),s(S,j,T)){var A=S.children;if(Array.isArray(A))for(var I=0;I<A.length&&A[I].offset<=j;I++){var w=e(A[I],j,T);if(w)return w}return S}},j.visit=f,j.stripComments=function(S,j){var A,I,w=T.createScanner(S),M=[],V=0;do{switch(I=w.getPosition(),A=w.scan()){case 12:case 13:case 17:V!==I&&M.push(S.substring(V,I)),void 0!==j&&M.push(w.getTokenValue().replace(/[^\r\n]/g,j)),V=w.getPosition()}}while(17!==A);return M.join("")}})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("jsonc-parser/impl/edit",["require","exports","./format","./parser"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("./format"),A=S("./parser");function n(S,j,T,I,w){for(var M,V=j.slice(),_=A.parseTree(S,[]),D=void 0,F=void 0;0<V.length&&(F=V.pop(),void 0===(D=A.findNodeAtLocation(_,V))&&void 0!==T);)T="string"==typeof F?((M={})[F]=T,M):[T];if(D){if("object"===D.type&&"string"==typeof F&&Array.isArray(D.children)){var R=A.findNodeAtLocation(D,[F]);if(void 0!==R){if(void 0!==T)return C(S,{offset:R.offset,length:R.length,content:JSON.stringify(T)},I);if(!R.parent)throw new Error("Malformed AST");var L=D.children.indexOf(R.parent),q=void 0,W=R.parent.offset+R.parent.length;return 0<L?q=(H=D.children[L-1]).offset+H.length:(q=D.offset+1,1<D.children.length&&(W=D.children[1].offset)),C(S,{offset:q,length:W-q,content:""},I)}if(void 0===T)return[];var $=JSON.stringify(F)+": "+JSON.stringify(T),K=w?w(D.children.map((function(S){return S.children[0].value}))):D.children.length,U=void 0;return C(S,U=0<K?{offset:(H=D.children[K-1]).offset+H.length,length:0,content:","+$}:0===D.children.length?{offset:D.offset+1,length:0,content:$}:{offset:D.offset+1,length:0,content:$+","},I)}if("array"===D.type&&"number"==typeof F&&Array.isArray(D.children)){if(-1===F)return $=""+JSON.stringify(T),U=void 0,C(S,U=0===D.children.length?{offset:D.offset+1,length:0,content:$}:{offset:(H=D.children[D.children.length-1]).offset+H.length,length:0,content:","+$},I);if(void 0===T&&0<=D.children.length){var B=F,J=D.children[B];if(U=void 0,1===D.children.length)U={offset:D.offset+1,length:D.length-2,content:""};else if(D.children.length-1===B){var H,G=(H=D.children[B-1]).offset+H.length;U={offset:G,length:D.offset+D.length-2-G,content:""}}else U={offset:J.offset,length:D.children[B+1].offset-J.offset,content:""};return C(S,U,I)}throw new Error("Array modification not supported yet")}throw new Error("Can not add "+("number"!=typeof F?"index":"property")+" to parent of type "+D.type)}if(void 0===T)throw new Error("Can not delete in empty document");return C(S,{offset:_?_.offset:0,length:_?_.length:0,content:JSON.stringify(T)},I)}function C(S,j,A){var I=f(S,j),w=j.offset,M=j.offset+j.content.length;if(0===j.length||0===j.content.length){for(;0<w&&!T.isEOL(I,w-1);)w--;for(;M<I.length&&!T.isEOL(I,M);)M++}for(var V=T.format(I,{offset:w,length:M-w},A),_=V.length-1;0<=_;_--){var D=V[_];I=f(I,D),w=Math.min(w,D.offset),M=Math.max(M,D.offset+D.length),M+=D.content.length-D.length}return[{offset:w,length:S.length-(I.length-M)-w,content:I.substring(w,M)}]}function f(S,j){return S.substring(0,j.offset)+j.content+S.substring(j.offset+j.length)}j.removeProperty=function(S,j,T){return n(S,j,void 0,T)},j.setProperty=n,j.applyEdit=f,j.isWS=function(S,j){return-1!=="\r\n \t".indexOf(S.charAt(j))}})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("jsonc-parser/main",["require","exports","./impl/format","./impl/edit","./impl/scanner","./impl/parser"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("./impl/format"),A=S("./impl/edit"),I=S("./impl/scanner"),w=S("./impl/parser");j.createScanner=I.createScanner,j.getLocation=w.getLocation,j.parse=w.parse,j.parseTree=w.parseTree,j.findNodeAtLocation=w.findNodeAtLocation,j.findNodeAtOffset=w.findNodeAtOffset,j.getNodePath=w.getNodePath,j.getNodeValue=w.getNodeValue,j.visit=w.visit,j.stripComments=w.stripComments,j.format=function(S,j,A){return T.format(S,j,A)},j.modify=function(S,j,T,I){return A.setProperty(S,j,T,I.formattingOptions,I.getInsertionIndex)},j.applyEdits=function(S,j){for(var T=j.length-1;0<=T;T--)S=A.applyEdit(S,j[T]);return S}})),define("jsonc-parser",["jsonc-parser/main"],(function(S){return S})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/utils/objects",["require","exports"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.equals=function e(S,j){if(S===j)return!0;if(null==S||null==j)return!1;if(typeof S!=typeof j)return!1;if("object"!=typeof S)return!1;if(Array.isArray(S)!==Array.isArray(j))return!1;var T,A;if(Array.isArray(S)){if(S.length!==j.length)return!1;for(T=0;T<S.length;T++)if(!e(S[T],j[T]))return!1}else{var I=[];for(A in S)I.push(A);I.sort();var w=[];for(A in j)w.push(A);if(w.sort(),!e(I,w))return!1;for(T=0;T<I.length;T++)if(!e(S[I[T]],j[I[T]]))return!1}return!0}})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/jsonLanguageTypes",["require","exports","vscode-languageserver-types"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T,A=S("vscode-languageserver-types");j.Range=A.Range,j.TextEdit=A.TextEdit,j.Color=A.Color,j.ColorInformation=A.ColorInformation,j.ColorPresentation=A.ColorPresentation,j.FoldingRange=A.FoldingRange,j.FoldingRangeKind=A.FoldingRangeKind,(T=j.ErrorCode||(j.ErrorCode={}))[T.Undefined=0]="Undefined",T[T.EnumValueMismatch=1]="EnumValueMismatch",T[T.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",T[T.UnexpectedEndOfString=258]="UnexpectedEndOfString",T[T.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",T[T.InvalidUnicode=260]="InvalidUnicode",T[T.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",T[T.InvalidCharacter=262]="InvalidCharacter",T[T.PropertyExpected=513]="PropertyExpected",T[T.CommaExpected=514]="CommaExpected",T[T.ColonExpected=515]="ColonExpected",T[T.ValueExpected=516]="ValueExpected",T[T.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",T[T.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",T[T.TrailingComma=519]="TrailingComma",T[T.DuplicateKey=520]="DuplicateKey",T[T.CommentNotPermitted=521]="CommentNotPermitted",T[T.SchemaResolveError=768]="SchemaResolveError"})),define("vscode-nls/vscode-nls",["require","exports"],(function(S,j){"use strict";function r(S,j){for(var T,A,I=[],w=2;w<arguments.length;w++)I[w-2]=arguments[w];return T=j,0===(A=I).length?T:T.replace(/\{(\d+)\}/g,(function(S,j){var T=j[0];return void 0!==A[T]?A[T]:S}))}function n(S){return r}Object.defineProperty(j,"__esModule",{value:!0}),j.loadMessageBundle=n,j.config=function(S){return n}})),define("vscode-nls",["vscode-nls/vscode-nls"],(function(S){return S}));var __extends=this&&this.__extends||function(){var S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,j){S.__proto__=j}||function(S,j){for(var T in j)j.hasOwnProperty(T)&&(S[T]=j[T])};return function(j,T){function r(){this.constructor=j}S(j,T),j.prototype=null===T?Object.create(T):(r.prototype=T.prototype,new r)}}();!function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-uri/index",["require","exports"],S)}((function(S,j){"use strict";var T;if(Object.defineProperty(j,"__esModule",{value:!0}),"object"==typeof process)T="win32"===process.platform;else if("object"==typeof navigator){var A=navigator.userAgent;T=0<=A.indexOf("Windows")}var I,w=/^\w[\w\d+.-]*$/,M=/^\//,V=/^\/\//,_="/",D=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,F=function(){function r(S,j,T,A,I){"object"==typeof S?(this.scheme=S.scheme||"",this.authority=S.authority||"",this.path=S.path||"",this.query=S.query||"",this.fragment=S.fragment||""):(this.scheme=S||"",this.authority=j||"",this.path=function(S,j){switch(S){case"https":case"http":case"file":j?j[0]!==_&&(j=_+j):j=_}return j}(this.scheme,T||""),this.query=A||"",this.fragment=I||"",function(S){if(S.scheme&&!w.test(S.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(S.path)if(S.authority){if(!M.test(S.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(V.test(S.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this))}return r.isUri=function(S){return S instanceof r||!!S&&"string"==typeof S.authority&&"string"==typeof S.fragment&&"string"==typeof S.path&&"string"==typeof S.query&&"string"==typeof S.scheme},Object.defineProperty(r.prototype,"fsPath",{get:function(){return m(this)},enumerable:!0,configurable:!0}),r.prototype.with=function(S){if(!S)return this;var j=S.scheme,T=S.authority,A=S.path,I=S.query,w=S.fragment;return void 0===j?j=this.scheme:null===j&&(j=""),void 0===T?T=this.authority:null===T&&(T=""),void 0===A?A=this.path:null===A&&(A=""),void 0===I?I=this.query:null===I&&(I=""),void 0===w?w=this.fragment:null===w&&(w=""),j===this.scheme&&T===this.authority&&A===this.path&&I===this.query&&w===this.fragment?this:new R(j,T,A,I,w)},r.parse=function(S){var j=D.exec(S);return j?new R(j[2]||"",decodeURIComponent(j[4]||""),decodeURIComponent(j[5]||""),decodeURIComponent(j[7]||""),decodeURIComponent(j[9]||"")):new R("","","","","")},r.file=function(S){var j="";if(T&&(S=S.replace(/\\/g,_)),S[0]===_&&S[1]===_){var A=S.indexOf(_,2);S=-1===A?(j=S.substring(2),_):(j=S.substring(2,A),S.substring(A)||_)}return new R("file",j,S,"","")},r.from=function(S){return new R(S.scheme,S.authority,S.path,S.query,S.fragment)},r.prototype.toString=function(S){return void 0===S&&(S=!1),g(this,S)},r.prototype.toJSON=function(){return this},r.revive=function(S){if(S){if(S instanceof r)return S;var j=new R(S);return j._fsPath=S.fsPath,j._formatted=S.external,j}return S},r}(),R=function(S){function e(){var j=null!==S&&S.apply(this,arguments)||this;return j._formatted=null,j._fsPath=null,j}return __extends(e,S),Object.defineProperty(e.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=m(this)),this._fsPath},enumerable:!0,configurable:!0}),e.prototype.toString=function(S){return void 0===S&&(S=!1),S?g(this,!0):(this._formatted||(this._formatted=g(this,!1)),this._formatted)},e.prototype.toJSON=function(){var S={$mid:1};return this._fsPath&&(S.fsPath=this._fsPath),this._formatted&&(S.external=this._formatted),this.path&&(S.path=this.path),this.scheme&&(S.scheme=this.scheme),this.authority&&(S.authority=this.authority),this.query&&(S.query=this.query),this.fragment&&(S.fragment=this.fragment),S},e}(j.default=F),L=((I={})[58]="%3A",I[47]="%2F",I[63]="%3F",I[35]="%23",I[91]="%5B",I[93]="%5D",I[64]="%40",I[33]="%21",I[36]="%24",I[38]="%26",I[39]="%27",I[40]="%28",I[41]="%29",I[42]="%2A",I[43]="%2B",I[44]="%2C",I[59]="%3B",I[61]="%3D",I[32]="%20",I);function p(S,j){for(var T=void 0,A=-1,I=0;I<S.length;I++){var w=S.charCodeAt(I);if(97<=w&&w<=122||65<=w&&w<=90||48<=w&&w<=57||45===w||46===w||95===w||126===w||j&&47===w)-1!==A&&(T+=encodeURIComponent(S.substring(A,I)),A=-1),void 0!==T&&(T+=S.charAt(I));else{void 0===T&&(T=S.substr(0,I));var M=L[w];void 0!==M?(-1!==A&&(T+=encodeURIComponent(S.substring(A,I)),A=-1),T+=M):-1===A&&(A=I)}}return-1!==A&&(T+=encodeURIComponent(S.substring(A))),void 0!==T?T:S}function h(S){for(var j=void 0,T=0;T<S.length;T++){var A=S.charCodeAt(T);35===A||63===A?(void 0===j&&(j=S.substr(0,T)),j+=L[A]):void 0!==j&&(j+=S[T])}return void 0!==j?j:S}function m(S){var j;return j=S.authority&&1<S.path.length&&"file"===S.scheme?"//"+S.authority+S.path:47===S.path.charCodeAt(0)&&(65<=S.path.charCodeAt(1)&&S.path.charCodeAt(1)<=90||97<=S.path.charCodeAt(1)&&S.path.charCodeAt(1)<=122)&&58===S.path.charCodeAt(2)?S.path[1].toLowerCase()+S.path.substr(2):S.path,T&&(j=j.replace(/\//g,"\\")),j}function g(S,j){var T=j?h:p,A="",I=S.scheme,w=S.authority,M=S.path,V=S.query,D=S.fragment;if(I&&(A+=I,A+=":"),(w||"file"===I)&&(A+=_,A+=_),w){var F=w.indexOf("@");if(-1!==F){var R=w.substr(0,F);w=w.substr(F+1),-1===(F=R.indexOf(":"))?A+=T(R,!1):(A+=T(R.substr(0,F),!1),A+=":",A+=T(R.substr(F+1),!1)),A+="@"}-1===(F=(w=w.toLowerCase()).indexOf(":"))?A+=T(w,!1):(A+=T(w.substr(0,F),!1),A+=w.substr(F))}if(M){if(3<=M.length&&47===M.charCodeAt(0)&&58===M.charCodeAt(2))65<=(L=M.charCodeAt(1))&&L<=90&&(M="/"+String.fromCharCode(L+32)+":"+M.substr(3));else if(2<=M.length&&58===M.charCodeAt(1)){var L;65<=(L=M.charCodeAt(0))&&L<=90&&(M=String.fromCharCode(L+32)+":"+M.substr(2))}A+=T(M,!0)}return V&&(A+="?",A+=T(V,!1)),D&&(A+="#",A+=T(D,!1)),A}})),define("vscode-uri",["vscode-uri/index"],(function(S){return S})),__extends=this&&this.__extends||function(){var n=function(S,j){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,j){S.__proto__=j}||function(S,j){for(var T in j)j.hasOwnProperty(T)&&(S[T]=j[T])})(S,j)};return function(S,j){function r(){this.constructor=S}n(S,j),S.prototype=null===j?Object.create(j):(r.prototype=j.prototype,new r)}}(),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/parser/jsonParser",["require","exports","jsonc-parser","../utils/objects","../jsonLanguageTypes","vscode-nls","vscode-uri","vscode-languageserver-types"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("jsonc-parser"),A=S("../utils/objects"),I=S("../jsonLanguageTypes"),w=S("vscode-nls"),M=S("vscode-uri"),V=S("vscode-languageserver-types"),_=w.loadMessageBundle(),D=/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/,F=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,R=function(){function e(S,j,T){this.offset=j,this.length=T,this.parent=S}return Object.defineProperty(e.prototype,"children",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")},e}(),L=function(S){function e(j,T){var A=S.call(this,j,T)||this;return A.type="null",A.value=null,A}return __extends(e,S),e}(j.ASTNodeImpl=R);j.NullASTNodeImpl=L;var q=function(S){function e(j,T,A){var I=S.call(this,j,A)||this;return I.type="boolean",I.value=T,I}return __extends(e,S),e}(R);j.BooleanASTNodeImpl=q;var W=function(S){function e(j,T){var A=S.call(this,j,T)||this;return A.type="array",A.items=[],A}return __extends(e,S),Object.defineProperty(e.prototype,"children",{get:function(){return this.items},enumerable:!0,configurable:!0}),e}(R);j.ArrayASTNodeImpl=W;var $=function(S){function e(j,T){var A=S.call(this,j,T)||this;return A.type="number",A.isInteger=!0,A.value=Number.NaN,A}return __extends(e,S),e}(R);j.NumberASTNodeImpl=$;var K=function(S){function e(j,T,A){var I=S.call(this,j,T,A)||this;return I.type="string",I.value="",I}return __extends(e,S),e}(R);j.StringASTNodeImpl=K;var U=function(S){function e(j,T){var A=S.call(this,j,T)||this;return A.type="property",A.colonOffset=-1,A}return __extends(e,S),Object.defineProperty(e.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!0,configurable:!0}),e}(R);j.PropertyASTNodeImpl=U;var B,J=function(S){function e(j,T){var A=S.call(this,j,T)||this;return A.type="object",A.properties=[],A}return __extends(e,S),Object.defineProperty(e.prototype,"children",{get:function(){return this.properties},enumerable:!0,configurable:!0}),e}(R);function E(S){return"boolean"==typeof S?S?{}:{not:{}}:S}j.ObjectASTNodeImpl=J,j.asSchema=E,(B=j.EnumMatch||(j.EnumMatch={}))[B.Key=0]="Key",B[B.Enum=1]="Enum";var H=function(){function e(S,j){void 0===S&&(S=-1),void 0===j&&(j=null),this.focusOffset=S,this.exclude=j,this.schemas=[]}return e.prototype.add=function(S){this.schemas.push(S)},e.prototype.merge=function(S){var j;(j=this.schemas).push.apply(j,S.schemas)},e.prototype.include=function(S){return(-1===this.focusOffset||l(S,this.focusOffset))&&S!==this.exclude},e.prototype.newSub=function(){return new e(-1,this.exclude)},e}(),G=function(){function e(){}return Object.defineProperty(e.prototype,"schemas",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.add=function(S){},e.prototype.merge=function(S){},e.prototype.include=function(S){return!0},e.prototype.newSub=function(){return this},e.instance=new e,e}(),Q=function(){function e(){this.problems=[],this.propertiesMatches=0,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=null}return e.prototype.hasProblems=function(){return!!this.problems.length},e.prototype.mergeAll=function(S){var j=this;S.forEach((function(S){j.merge(S)}))},e.prototype.merge=function(S){this.problems=this.problems.concat(S.problems)},e.prototype.mergeEnumValues=function(S){if(!this.enumValueMatch&&!S.enumValueMatch&&this.enumValues&&S.enumValues){this.enumValues=this.enumValues.concat(S.enumValues);for(var j=0,T=this.problems;j<T.length;j++){var A=T[j];A.code===I.ErrorCode.EnumValueMismatch&&(A.message=_("enumWarning","Value is not accepted. Valid values: {0}.",this.enumValues.map((function(S){return JSON.stringify(S)})).join(", ")))}}},e.prototype.mergePropertyMatch=function(S){this.merge(S),this.propertiesMatches++,(S.enumValueMatch||!S.hasProblems()&&S.propertiesMatches)&&this.propertiesValueMatches++,S.enumValueMatch&&S.enumValues&&1===S.enumValues.length&&this.primaryValueMatches++},e.prototype.compare=function(S){var j=this.hasProblems();return j!==S.hasProblems()?j?-1:1:this.enumValueMatch!==S.enumValueMatch?S.enumValueMatch?-1:1:this.primaryValueMatches!==S.primaryValueMatches?this.primaryValueMatches-S.primaryValueMatches:this.propertiesValueMatches!==S.propertiesValueMatches?this.propertiesValueMatches-S.propertiesValueMatches:this.propertiesMatches-S.propertiesMatches},e}();function P(S){return T.getNodeValue(S)}function l(S,j,T){return void 0===T&&(T=!1),j>=S.offset&&j<S.offset+S.length||T&&j===S.offset+S.length}j.ValidationResult=Q,j.newJSONDocument=function(S,j){return void 0===j&&(j=[]),new Z(S,j,[])},j.getNodeValue=P,j.getNodePath=function(S){return T.getNodePath(S)},j.contains=l;var Z=function(){function e(S,j,T){void 0===j&&(j=[]),void 0===T&&(T=[]),this.root=S,this.syntaxErrors=j,this.comments=T}return e.prototype.getNodeFromOffset=function(S,j){if(void 0===j&&(j=!1),this.root)return T.findNodeAtOffset(this.root,S,j)},e.prototype.visit=function(S){if(this.root){var i=function(j){var T=S(j),A=j.children;if(Array.isArray(A))for(var I=0;I<A.length&&T;I++)T=i(A[I]);return T};i(this.root)}},e.prototype.validate=function(S,j){if(this.root&&j){var T=new Q;return N(this.root,j,T,G.instance),T.problems.map((function(j){var T=V.Range.create(S.positionAt(j.location.offset),S.positionAt(j.location.offset+j.location.length));return V.Diagnostic.create(T,j.message,j.severity,j.code)}))}return null},e.prototype.getMatchingSchemas=function(S,j,T){void 0===j&&(j=-1),void 0===T&&(T=null);var A=new H(j,T);return this.root&&S&&N(this.root,S,new Q,A),A.schemas},e}();function N(S,j,T,w){if(S&&w.include(S)){switch(S.type){case"object":!function(S,j,T,A){var I=Object.create(null),w=[];S.properties.forEach((function(S){var j=S.keyNode.value;I[j]=S.valueNode,w.push(j)})),Array.isArray(j.required)&&j.required.forEach((function(j){if(!I[j]){var A=S.parent&&"property"===S.parent.type&&S.parent.keyNode,w=A?{offset:A.offset,length:A.length}:{offset:S.offset,length:1};T.problems.push({location:w,severity:V.DiagnosticSeverity.Warning,message:_("MissingRequiredPropWarning",'Missing property "{0}".',j)})}}));var l=function(S){for(var j=w.indexOf(S);0<=j;)w.splice(j,1),j=w.indexOf(S)};j.properties&&Object.keys(j.properties).forEach((function(S){l(S);var w=j.properties[S],M=I[S];if(M)if("boolean"==typeof w)if(w)T.propertiesMatches++,T.propertiesValueMatches++;else{var D=M.parent;T.problems.push({location:{offset:D.keyNode.offset,length:D.keyNode.length},severity:V.DiagnosticSeverity.Warning,message:j.errorMessage||_("DisallowedExtraPropWarning","Property {0} is not allowed.",S)})}else{var F=new Q;N(M,w,F,A),T.mergePropertyMatch(F)}})),j.patternProperties&&Object.keys(j.patternProperties).forEach((function(S){var M=new RegExp(S);w.slice(0).forEach((function(w){if(M.test(w)){l(w);var D=I[w];if(D){var F=j.patternProperties[S];if("boolean"==typeof F)if(F)T.propertiesMatches++,T.propertiesValueMatches++;else{var R=D.parent;T.problems.push({location:{offset:R.keyNode.offset,length:R.keyNode.length},severity:V.DiagnosticSeverity.Warning,message:j.errorMessage||_("DisallowedExtraPropWarning","Property {0} is not allowed.",w)})}else{var L=new Q;N(D,F,L,A),T.mergePropertyMatch(L)}}}}))})),"object"==typeof j.additionalProperties?w.forEach((function(S){var w=I[S];if(w){var M=new Q;N(w,j.additionalProperties,M,A),T.mergePropertyMatch(M)}})):!1===j.additionalProperties&&0<w.length&&w.forEach((function(S){var A=I[S];if(A){var w=A.parent;T.problems.push({location:{offset:w.keyNode.offset,length:w.keyNode.length},severity:V.DiagnosticSeverity.Warning,message:j.errorMessage||_("DisallowedExtraPropWarning","Property {0} is not allowed.",S)})}})),j.maxProperties&&S.properties.length>j.maxProperties&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("MaxPropWarning","Object has more properties than limit of {0}.",j.maxProperties)}),j.minProperties&&S.properties.length<j.minProperties&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("MinPropWarning","Object has fewer properties than the required number of {0}",j.minProperties)}),j.dependencies&&Object.keys(j.dependencies).forEach((function(w){if(I[w]){var M=j.dependencies[w];if(Array.isArray(M))M.forEach((function(j){I[j]?T.propertiesValueMatches++:T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",j,w)})}));else{var D=E(M);if(D){var F=new Q;N(S,D,F,A),T.mergePropertyMatch(F)}}}}));var M=E(j.propertyNames);M&&S.properties.forEach((function(S){var j=S.keyNode;j&&N(j,M,T,G.instance)}))}(S,j,T,w);break;case"array":!function(S,j,T,A){if(Array.isArray(j.items)){var I=j.items;if(I.forEach((function(j,w){var M=E(j),V=new Q,_=S.items[w];_?(N(_,M,V,A),T.mergePropertyMatch(V)):S.items.length>=I.length&&T.propertiesValueMatches++})),S.items.length>I.length)if("object"==typeof j.additionalItems)for(var w=I.length;w<S.items.length;w++){var M=new Q;N(S.items[w],j.additionalItems,M,A),T.mergePropertyMatch(M)}else!1===j.additionalItems&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",I.length)})}else{var D=E(j.items);D&&S.items.forEach((function(S){var j=new Q;N(S,D,j,A),T.mergePropertyMatch(j)}))}var F=E(j.contains);F&&(S.items.some((function(S){var j=new Q;return N(S,F,j,G.instance),!j.hasProblems()}))||T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:j.errorMessage||_("requiredItemMissingWarning","Array does not contain required item.")}));if(j.minItems&&S.items.length<j.minItems&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("minItemsWarning","Array has too few items. Expected {0} or more.",j.minItems)}),j.maxItems&&S.items.length>j.maxItems&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("maxItemsWarning","Array has too many items. Expected {0} or fewer.",j.maxItems)}),!0===j.uniqueItems){var R=P(S);R.some((function(S,j){return j!==R.lastIndexOf(S)}))&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("uniqueItemsWarning","Array has duplicate items.")})}}(S,j,T,w);break;case"string":!function(S,j,T,A){(j.minLength&&S.value.length<j.minLength&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("minLengthWarning","String is shorter than the minimum length of {0}.",j.minLength)}),j.maxLength&&S.value.length>j.maxLength&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("maxLengthWarning","String is longer than the maximum length of {0}.",j.maxLength)}),j.pattern)&&(new RegExp(j.pattern).test(S.value)||T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:j.patternErrorMessage||j.errorMessage||_("patternWarning",'String does not match the pattern of "{0}".',j.pattern)}));if(j.format)switch(j.format){case"uri":case"uri-reference":var I=void 0;if(S.value)try{M.default.parse(S.value).scheme||"uri"!==j.format||(I=_("uriSchemeMissing","URI with a scheme is expected."))}catch(S){I=S.message}else I=_("uriEmpty","URI expected.");I&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:j.patternErrorMessage||j.errorMessage||_("uriFormatWarning","String is not a URI: {0}",I)});break;case"email":S.value.match(F)||T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:j.patternErrorMessage||j.errorMessage||_("emailFormatWarning","String is not an e-mail address.")});break;case"color-hex":S.value.match(D)||T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:j.patternErrorMessage||j.errorMessage||_("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA.")})}}(S,j,T);break;case"number":!function(S,j,T,A){var I=S.value;function i(S,j){return"number"==typeof j?j:"boolean"==typeof j&&j?S:void 0}function a(S,j){if("boolean"!=typeof j||!j)return S}"number"==typeof j.multipleOf&&I%j.multipleOf!=0&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("multipleOfWarning","Value is not divisible by {0}.",j.multipleOf)});var w=i(j.minimum,j.exclusiveMinimum);"number"==typeof w&&I<=w&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",w)});var M=i(j.maximum,j.exclusiveMaximum);"number"==typeof M&&M<=I&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",M)});var D=a(j.minimum,j.exclusiveMinimum);"number"==typeof D&&I<D&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("minimumWarning","Value is below the minimum of {0}.",D)});var F=a(j.maximum,j.exclusiveMaximum);"number"==typeof F&&F<I&&T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("maximumWarning","Value is above the maximum of {0}.",F)})}(S,j,T);break;case"property":return N(S.valueNode,j,T,w)}!function(){function e(j){return S.type===j||"integer"===j&&"number"===S.type&&S.isInteger}Array.isArray(j.type)?j.type.some(e)||T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:j.errorMessage||_("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",j.type.join(", "))}):j.type&&(e(j.type)||T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:j.errorMessage||_("typeMismatchWarning",'Incorrect type. Expected "{0}".',j.type)})),Array.isArray(j.allOf)&&j.allOf.forEach((function(j){N(S,E(j),T,w)}));var M=E(j.not);if(M){var D=new Q,F=w.newSub();N(S,M,D,F),D.hasProblems()||T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,message:_("notSchemaWarning","Matches a schema that is not allowed.")}),F.schemas.forEach((function(S){S.inverted=!S.inverted,w.add(S)}))}var o=function(j,A){var I=[],M=null;return j.forEach((function(j){var T=E(j),V=new Q,_=w.newSub();if(N(S,T,V,_),V.hasProblems()||I.push(T),M)if(A||V.hasProblems()||M.validationResult.hasProblems()){var D=V.compare(M.validationResult);0<D?M={schema:T,validationResult:V,matchingSchemas:_}:0===D&&(M.matchingSchemas.merge(_),M.validationResult.mergeEnumValues(V))}else M.matchingSchemas.merge(_),M.validationResult.propertiesMatches+=V.propertiesMatches,M.validationResult.propertiesValueMatches+=V.propertiesValueMatches;else M={schema:T,validationResult:V,matchingSchemas:_}})),1<I.length&&A&&T.problems.push({location:{offset:S.offset,length:1},severity:V.DiagnosticSeverity.Warning,message:_("oneOfWarning","Matches multiple schemas when only one must validate.")}),null!==M&&(T.merge(M.validationResult),T.propertiesMatches+=M.validationResult.propertiesMatches,T.propertiesValueMatches+=M.validationResult.propertiesValueMatches,w.merge(M.matchingSchemas)),I.length};Array.isArray(j.anyOf)&&o(j.anyOf,!1),Array.isArray(j.oneOf)&&o(j.oneOf,!0);var R,L,q,W,$,K,i=function(j){var A=E(j),I=new Q,M=w.newSub();N(S,A,I,M),T.merge(I),T.propertiesMatches+=I.propertiesMatches,T.propertiesValueMatches+=I.propertiesValueMatches,w.merge(M)};if(j.if&&(R=j.if,L=j.then,q=j.else,W=E(R),$=new Q,K=w.newSub(),N(S,W,$,K),$.hasProblems()?q&&i(q):L&&i(L)),Array.isArray(j.enum)){for(var U=P(S),B=!1,J=0,H=j.enum;J<H.length;J++){var G=H[J];if(A.equals(U,G)){B=!0;break}}T.enumValues=j.enum,(T.enumValueMatch=B)||T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,code:I.ErrorCode.EnumValueMismatch,message:j.errorMessage||_("enumWarning","Value is not accepted. Valid values: {0}.",j.enum.map((function(S){return JSON.stringify(S)})).join(", "))})}if(j.const){U=P(S);A.equals(U,j.const)?T.enumValueMatch=!0:(T.problems.push({location:{offset:S.offset,length:S.length},severity:V.DiagnosticSeverity.Warning,code:I.ErrorCode.EnumValueMismatch,message:j.errorMessage||_("constWarning","Value must be {0}.",JSON.stringify(j.const))}),T.enumValueMatch=!1),T.enumValues=[j.const]}j.deprecationMessage&&S.parent&&T.problems.push({location:{offset:S.parent.offset,length:S.parent.length},severity:V.DiagnosticSeverity.Warning,message:j.deprecationMessage})}(),w.add({node:S,schema:j})}}j.JSONDocument=Z,j.parse=function(S,j){var A=[],w=-1,M=S.getText(),D=T.createScanner(M,!1),F=j&&j.collectComments?[]:void 0;function l(){for(;;){var j=D.scan();switch(r(),j){case 12:case 13:Array.isArray(F)&&F.push(V.Range.create(S.positionAt(D.getTokenOffset()),S.positionAt(D.getTokenOffset()+D.getTokenLength())));break;case 15:case 14:break;default:return j}}}function d(j,T,I,M,_){if(void 0===_&&(_=V.DiagnosticSeverity.Error),0===A.length||I!==w){var D=V.Range.create(S.positionAt(I),S.positionAt(M));A.push(V.Diagnostic.create(D,j,_,T,S.languageId)),w=I}}function p(S,j,T,A,I){void 0===T&&(T=null),void 0===A&&(A=[]),void 0===I&&(I=[]);var w=D.getTokenOffset(),V=D.getTokenOffset()+D.getTokenLength();if(w===V&&0<w){for(w--;0<w&&/\s/.test(M.charAt(w));)w--;V=w+1}if(d(S,j,w,V),T&&h(T,!1),0<A.length+I.length)for(var _=D.getToken();17!==_;){if(-1!==A.indexOf(_)){l();break}if(-1!==I.indexOf(_))break;_=l()}return T}function r(){switch(D.getTokenError()){case 4:return p(_("InvalidUnicode","Invalid unicode sequence in string."),I.ErrorCode.InvalidUnicode),!0;case 5:return p(_("InvalidEscapeCharacter","Invalid escape character in string."),I.ErrorCode.InvalidEscapeCharacter),!0;case 3:return p(_("UnexpectedEndOfNumber","Unexpected end of number."),I.ErrorCode.UnexpectedEndOfNumber),!0;case 1:return p(_("UnexpectedEndOfComment","Unexpected end of comment."),I.ErrorCode.UnexpectedEndOfComment),!0;case 2:return p(_("UnexpectedEndOfString","Unexpected end of string."),I.ErrorCode.UnexpectedEndOfString),!0;case 6:return p(_("InvalidCharacter","Invalid characters in string. Control characters must be escaped."),I.ErrorCode.InvalidCharacter),!0}return!1}function h(S,j){return S.length=D.getTokenOffset()+D.getTokenLength()-S.offset,j&&l(),S}function m(j,T){var A=new U(j,D.getTokenOffset()),w=g(A);if(!w){if(16!==D.getToken())return null;p(_("DoubleQuotesExpected","Property keys must be doublequoted"),I.ErrorCode.Undefined);var M=new K(A,D.getTokenOffset(),D.getTokenLength());M.value=D.getTokenValue(),w=M,l()}var F=T[(A.keyNode=w).value];if(T[w.value]=F?(d(_("DuplicateKeyWarning","Duplicate object key"),I.ErrorCode.DuplicateKey,A.keyNode.offset,A.keyNode.offset+A.keyNode.length,V.DiagnosticSeverity.Warning),"object"==typeof F&&d(_("DuplicateKeyWarning","Duplicate object key"),I.ErrorCode.DuplicateKey,F.keyNode.offset,F.keyNode.offset+F.keyNode.length,V.DiagnosticSeverity.Warning),!0):A,6===D.getToken())A.colonOffset=D.getTokenOffset(),l();else if(p(_("ColonExpected","Colon expected"),I.ErrorCode.ColonExpected),10===D.getToken()&&S.positionAt(w.offset+w.length).line<S.positionAt(D.getTokenOffset()).line)return A.length=w.length,A;var R=v(A,w.value);return R?(A.valueNode=R,A.length=R.offset+R.length-A.offset,A):p(_("ValueExpected","Value expected"),I.ErrorCode.ValueExpected,A,[],[2,5])}function g(S){if(10!==D.getToken())return null;var j=new K(S,D.getTokenOffset());return j.value=D.getTokenValue(),h(j,!0)}function v(S,j){return function(S){if(3!==D.getToken())return null;var j=new W(S,D.getTokenOffset());l();for(var T=!1;4!==D.getToken()&&17!==D.getToken();){if(5===D.getToken()){T||p(_("ValueExpected","Value expected"),I.ErrorCode.ValueExpected);var A=D.getTokenOffset();if(l(),4===D.getToken()){T&&d(_("TrailingComma","Trailing comma"),I.ErrorCode.TrailingComma,A,A+1);continue}}else T&&p(_("ExpectedComma","Expected comma"),I.ErrorCode.CommaExpected);var w=v(j,0);w?j.items.push(w):p(_("PropertyExpected","Value expected"),I.ErrorCode.ValueExpected,null,[],[4,5]),T=!0}return 4!==D.getToken()?p(_("ExpectedCloseBracket","Expected comma or closing bracket"),I.ErrorCode.CommaOrCloseBacketExpected,j):h(j,!0)}(S)||function(S){if(1!==D.getToken())return null;var j=new J(S,D.getTokenOffset()),T=Object.create(null);l();for(var A=!1;2!==D.getToken()&&17!==D.getToken();){if(5===D.getToken()){A||p(_("PropertyExpected","Property expected"),I.ErrorCode.PropertyExpected);var w=D.getTokenOffset();if(l(),2===D.getToken()){A&&d(_("TrailingComma","Trailing comma"),I.ErrorCode.TrailingComma,w,w+1);continue}}else A&&p(_("ExpectedComma","Expected comma"),I.ErrorCode.CommaExpected);var M=m(j,T);M?j.properties.push(M):p(_("PropertyExpected","Property expected"),I.ErrorCode.PropertyExpected,null,[],[2,5]),A=!0}return 2!==D.getToken()?p(_("ExpectedCloseBrace","Expected comma or closing brace"),I.ErrorCode.CommaOrCloseBraceExpected,j):h(j,!0)}(S)||g(S)||function(S){if(11!==D.getToken())return null;var j=new $(S,D.getTokenOffset());if(0===D.getTokenError()){var T=D.getTokenValue();try{var A=JSON.parse(T);if("number"!=typeof A)return p(_("InvalidNumberFormat","Invalid number format."),I.ErrorCode.Undefined,j);j.value=A}catch(S){return p(_("InvalidNumberFormat","Invalid number format."),I.ErrorCode.Undefined,j)}j.isInteger=-1===T.indexOf(".")}return h(j,!0)}(S)||function(S){switch(D.getToken()){case 7:return h(new L(S,D.getTokenOffset()),!0);case 8:return h(new q(S,!0,D.getTokenOffset()),!0);case 9:return h(new q(S,!1,D.getTokenOffset()),!0);default:return null}}(S)}var R=null;return 17!==l()&&((R=v(null))?17!==D.getToken()&&p(_("End of file expected","End of file expected."),I.ErrorCode.Undefined):p(_("Invalid symbol","Expected a JSON object, array or literal."),I.ErrorCode.Undefined)),new Z(R,A,F)}})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/utils/json",["require","exports"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.stringifyObject=function e(S,j,T){if(null===S||"object"!=typeof S)return T(S);var A=j+"\t";if(Array.isArray(S)){if(0===S.length)return"[]";for(var I="[\n",w=0;w<S.length;w++)I+=A+e(S[w],A,T),w<S.length-1&&(I+=","),I+="\n";return I+(j+"]")}var M=Object.keys(S);if(0===M.length)return"{}";for(I="{\n",w=0;w<M.length;w++){var V=M[w];I+=A+JSON.stringify(V)+": "+e(S[V],A,T),w<M.length-1&&(I+=","),I+="\n"}return I+(j+"}")}})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/utils/strings",["require","exports"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.startsWith=function(S,j){if(S.length<j.length)return!1;for(var T=0;T<j.length;T++)if(S[T]!==j[T])return!1;return!0},j.endsWith=function(S,j){var T=S.length-j.length;return 0<T?S.lastIndexOf(j)===T:0===T&&S===j},j.convertSimple2RegExpPattern=function(S){return S.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")},j.repeat=function(S,j){for(var T="";0<j;)1==(1&j)&&(T+=S),S+=S,j>>>=1;return T}})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/services/jsonCompletion",["require","exports","../parser/jsonParser","jsonc-parser","../utils/json","../utils/strings","vscode-languageserver-types","vscode-nls"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("../parser/jsonParser"),A=S("jsonc-parser"),I=S("../utils/json"),w=S("../utils/strings"),M=S("vscode-languageserver-types"),V=S("vscode-nls").loadMessageBundle(),_=function(){function e(S,j,T){void 0===j&&(j=[]),this.templateVarIdCounter=0,this.schemaService=S,this.contributions=j,this.promise=T||Promise}return e.prototype.doResolve=function(S){for(var j=this.contributions.length-1;0<=j;j--)if(this.contributions[j].resolveCompletion){var T=this.contributions[j].resolveCompletion(S);if(T)return T}return this.promise.resolve(S)},e.prototype.doComplete=function(S,j,A){var I=this,w={items:[],isIncomplete:!1},V=S.offsetAt(j),_=A.getNodeFromOffset(V,!0);if(this.isInComment(S,_?_.offset:0,V))return Promise.resolve(w);var D=this.getCurrentWord(S,V),F=null;if(!_||"string"!==_.type&&"number"!==_.type&&"boolean"!==_.type&&"null"!==_.type){var R=V-D.length;0<R&&'"'===S.getText()[R-1]&&R--,F=M.Range.create(S.positionAt(R),j)}else F=M.Range.create(S.positionAt(_.offset),S.positionAt(_.offset+_.length));var L={},q={add:function(S){var j=L[S.label];j?j.documentation||(j.documentation=S.documentation):(L[S.label]=S,F&&(S.textEdit=M.TextEdit.replace(F,S.insertText)),w.items.push(S))},setAsIncomplete:function(){w.isIncomplete=!0},error:function(S){console.error(S)},log:function(S){console.log(S)},getNumberOfProposals:function(){return w.items.length}};return this.schemaService.getSchemaForResource(S.uri,A).then((function(j){var R=[],W=!0,$="",K=null;if(_&&"string"===_.type){var U=_.parent;U&&"property"===U.type&&U.keyNode===_&&(W=!U.valueNode,K=U,$=S.getText().substr(_.offset+1,_.length-2),U&&(_=U.parent))}if(_&&"object"===_.type){if(_.offset===V)return w;_.properties.forEach((function(S){K&&K===S||(L[S.keyNode.value]=M.CompletionItem.create("__"))}));var B="";W&&(B=I.evaluateSeparatorAfter(S,S.offsetAt(F.end))),j?I.getPropertyCompletions(j,A,_,W,B,q):I.getSchemaLessPropertyCompletions(A,_,$,q);var J=T.getNodePath(_);I.contributions.forEach((function(j){var T=j.collectPropertyCompletions(S.uri,J,D,W,""===B,q);T&&R.push(T)})),!j&&0<D.length&&'"'!==S.getText().charAt(V-D.length-1)&&q.add({kind:M.CompletionItemKind.Property,label:I.getLabelForValue(D),insertText:I.getInsertTextForProperty(D,null,!1,B),insertTextFormat:M.InsertTextFormat.Snippet,documentation:""})}var H={};return j?I.getValueCompletions(j,A,_,V,S,q,H):I.getSchemaLessValueCompletions(A,_,V,S,q),0<I.contributions.length&&I.getContributedValueCompletions(A,_,V,S,q,R),I.promise.all(R).then((function(){if(0===q.getNumberOfProposals()){var j=V;!_||"string"!==_.type&&"number"!==_.type&&"boolean"!==_.type&&"null"!==_.type||(j=_.offset+_.length);var T=I.evaluateSeparatorAfter(S,j);I.addFillerValueCompletions(H,T,q)}return w}))}))},e.prototype.getPropertyCompletions=function(S,j,T,A,I,V){var _=this;j.getMatchingSchemas(S.schema,T.offset).forEach((function(S){if(S.node===T&&!S.inverted){var j=S.schema.properties;j&&Object.keys(j).forEach((function(S){var T=j[S];if("object"==typeof T&&!T.deprecationMessage&&!T.doNotSuggest){var D={kind:M.CompletionItemKind.Property,label:S,insertText:_.getInsertTextForProperty(S,T,A,I),insertTextFormat:M.InsertTextFormat.Snippet,filterText:_.getFilterTextForValue(S),documentation:T.description||""};w.endsWith(D.insertText,"$1"+I)&&(D.command={title:"Suggest",command:"editor.action.triggerSuggest"}),V.add(D)}}))}}))},e.prototype.getSchemaLessPropertyCompletions=function(S,j,T,A){var I=this,i=function(S){S.properties.forEach((function(S){var j=S.keyNode.value;A.add({kind:M.CompletionItemKind.Property,label:j,insertText:I.getInsertTextForValue(j,""),insertTextFormat:M.InsertTextFormat.Snippet,filterText:I.getFilterTextForValue(j),documentation:""})}))};if(j.parent)if("property"===j.parent.type){var w=j.parent.keyNode.value;S.visit((function(S){return"property"===S.type&&S!==j.parent&&S.keyNode.value===w&&S.valueNode&&"object"===S.valueNode.type&&i(S.valueNode),!0}))}else"array"===j.parent.type&&j.parent.items.forEach((function(S){"object"===S.type&&S!==j&&i(S)}));else"object"===j.type&&A.add({kind:M.CompletionItemKind.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",null,!0,""),insertTextFormat:M.InsertTextFormat.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})},e.prototype.getSchemaLessValueCompletions=function(S,j,A,I,w){var V=this,_=A;if(!j||"string"!==j.type&&"number"!==j.type&&"boolean"!==j.type&&"null"!==j.type||(_=j.offset+j.length,j=j.parent),!j)return w.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:M.InsertTextFormat.Snippet,documentation:""}),void w.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:M.InsertTextFormat.Snippet,documentation:""});var D=this.evaluateSeparatorAfter(I,_),c=function(S){T.contains(S.parent,A,!0)||w.add({kind:V.getSuggestionKind(S.type),label:V.getLabelTextForMatchingNode(S,I),insertText:V.getInsertTextForMatchingNode(S,I,D),insertTextFormat:M.InsertTextFormat.Snippet,documentation:""}),"boolean"===S.type&&V.addBooleanValueCompletion(!S.value,D,w)};if("property"===j.type&&A>j.colonOffset){var F=j.valueNode;if(F&&(A>F.offset+F.length||"object"===F.type||"array"===F.type))return;var R=j.keyNode.value;S.visit((function(S){return"property"===S.type&&S.keyNode.value===R&&S.valueNode&&c(S.valueNode),!0})),"$schema"===R&&j.parent&&!j.parent.parent&&this.addDollarSchemaCompletions(D,w)}if("array"===j.type)if(j.parent&&"property"===j.parent.type){var L=j.parent.keyNode.value;S.visit((function(S){return"property"===S.type&&S.keyNode.value===L&&S.valueNode&&"array"===S.valueNode.type&&S.valueNode.items.forEach(c),!0}))}else j.items.forEach(c)},e.prototype.getValueCompletions=function(S,j,T,A,I,w,M){var V=this,_=A,D=null,F=null;if(!T||"string"!==T.type&&"number"!==T.type&&"boolean"!==T.type&&"null"!==T.type||(_=T.offset+T.length,T=(F=T).parent),T){if("property"===T.type&&A>T.colonOffset){var R=T.valueNode;if(R&&A>R.offset+R.length)return;D=T.keyNode.value,T=T.parent}if(T&&(null!==D||"array"===T.type)){var L=this.evaluateSeparatorAfter(I,_);j.getMatchingSchemas(S.schema,T.offset,F).forEach((function(S){if(S.node===T&&!S.inverted&&S.schema){if("array"===T.type&&S.schema.items)if(Array.isArray(S.schema.items)){var j=V.findItemAtOffset(T,I,A);j<S.schema.items.length&&V.addSchemaValueCompletions(S.schema.items[j],L,w,M)}else V.addSchemaValueCompletions(S.schema.items,L,w,M);if(S.schema.properties){var _=S.schema.properties[D];_&&V.addSchemaValueCompletions(_,L,w,M)}}})),"$schema"!==D||T.parent||this.addDollarSchemaCompletions(L,w),M.boolean&&(this.addBooleanValueCompletion(!0,L,w),this.addBooleanValueCompletion(!1,L,w)),M.null&&this.addNullValueCompletion(L,w)}}else this.addSchemaValueCompletions(S.schema,"",w,M)},e.prototype.getContributedValueCompletions=function(S,j,A,I,w,M){if(j){if("string"!==j.type&&"number"!==j.type&&"boolean"!==j.type&&"null"!==j.type||(j=j.parent),"property"===j.type&&A>j.colonOffset){var V=j.keyNode.value,_=j.valueNode;if(!_||A<=_.offset+_.length){var D=T.getNodePath(j.parent);this.contributions.forEach((function(S){var j=S.collectValueCompletions(I.uri,D,V,w);j&&M.push(j)}))}}}else this.contributions.forEach((function(S){var j=S.collectDefaultCompletions(I.uri,w);j&&M.push(j)}))},e.prototype.addSchemaValueCompletions=function(S,j,T,A){var I=this;"object"==typeof S&&(this.addEnumValueCompletions(S,j,T),this.addDefaultValueCompletions(S,j,T),this.collectTypes(S,A),Array.isArray(S.allOf)&&S.allOf.forEach((function(S){return I.addSchemaValueCompletions(S,j,T,A)})),Array.isArray(S.anyOf)&&S.anyOf.forEach((function(S){return I.addSchemaValueCompletions(S,j,T,A)})),Array.isArray(S.oneOf)&&S.oneOf.forEach((function(S){return I.addSchemaValueCompletions(S,j,T,A)})))},e.prototype.addDefaultValueCompletions=function(S,j,T,A){var I=this;void 0===A&&(A=0);var w=!1;if(g(S.default)){for(var _=S.type,D=S.default,F=A;0<F;F--)D=[D],_="array";T.add({kind:this.getSuggestionKind(_),label:this.getLabelForValue(D),insertText:this.getInsertTextForValue(D,j),insertTextFormat:M.InsertTextFormat.Snippet,detail:V("json.suggest.default","Default value")}),w=!0}Array.isArray(S.defaultSnippets)&&S.defaultSnippets.forEach((function(V){var _,D,F=S.type,R=V.body,L=V.label;if(g(R)){S.type;for(var q=A;0<q;q--)R=[R];_=I.getInsertTextForSnippetValue(R,j),D=I.getFilterTextForSnippetValue(R),L=L||I.getLabelForSnippetValue(R)}else if("string"==typeof V.bodyText){var W="",$="",K="";for(q=A;0<q;q--)W=W+K+"[\n",$=$+"\n"+K+"]",K+="\t",F="array";_=W+K+V.bodyText.split("\n").join("\n"+K)+$+j,L=L||_,D=_.replace(/[\n]/g,"")}T.add({kind:I.getSuggestionKind(F),label:L,documentation:V.description,insertText:_,insertTextFormat:M.InsertTextFormat.Snippet,filterText:D}),w=!0})),w||"object"!=typeof S.items||Array.isArray(S.items)||this.addDefaultValueCompletions(S.items,j,T,A+1)},e.prototype.addEnumValueCompletions=function(S,j,T){if(g(S.const)&&T.add({kind:this.getSuggestionKind(S.type),label:this.getLabelForValue(S.const),insertText:this.getInsertTextForValue(S.const,j),insertTextFormat:M.InsertTextFormat.Snippet,documentation:S.description}),Array.isArray(S.enum))for(var A=0,I=S.enum.length;A<I;A++){var w=S.enum[A],V=S.description;S.enumDescriptions&&A<S.enumDescriptions.length&&(V=S.enumDescriptions[A]),T.add({kind:this.getSuggestionKind(S.type),label:this.getLabelForValue(w),insertText:this.getInsertTextForValue(w,j),insertTextFormat:M.InsertTextFormat.Snippet,documentation:V})}},e.prototype.collectTypes=function(S,j){if(!Array.isArray(S.enum)&&!g(S.const)){var T=S.type;Array.isArray(T)?T.forEach((function(S){return j[S]=!0})):j[T]=!0}},e.prototype.addFillerValueCompletions=function(S,j,T){S.object&&T.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},j),insertTextFormat:M.InsertTextFormat.Snippet,detail:V("defaults.object","New object"),documentation:""}),S.array&&T.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],j),insertTextFormat:M.InsertTextFormat.Snippet,detail:V("defaults.array","New array"),documentation:""})},e.prototype.addBooleanValueCompletion=function(S,j,T){T.add({kind:this.getSuggestionKind("boolean"),label:S?"true":"false",insertText:this.getInsertTextForValue(S,j),insertTextFormat:M.InsertTextFormat.Snippet,documentation:""})},e.prototype.addNullValueCompletion=function(S,j){j.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+S,insertTextFormat:M.InsertTextFormat.Snippet,documentation:""})},e.prototype.addDollarSchemaCompletions=function(S,j){var T=this;this.schemaService.getRegisteredSchemaIds((function(S){return"http"===S||"https"===S})).forEach((function(A){return j.add({kind:M.CompletionItemKind.Module,label:T.getLabelForValue(A),filterText:T.getFilterTextForValue(A),insertText:T.getInsertTextForValue(A,S),insertTextFormat:M.InsertTextFormat.Snippet,documentation:""})}))},e.prototype.getLabelForValue=function(S){var j=JSON.stringify(S);return 57<j.length?j.substr(0,57).trim()+"...":j},e.prototype.getFilterTextForValue=function(S){return JSON.stringify(S)},e.prototype.getFilterTextForSnippetValue=function(S){return JSON.stringify(S).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")},e.prototype.getLabelForSnippetValue=function(S){var j=JSON.stringify(S);return 57<(j=j.replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")).length?j.substr(0,57).trim()+"...":j},e.prototype.getInsertTextForPlainText=function(S){return S.replace(/[\\\$\}]/g,"\\$&")},e.prototype.getInsertTextForValue=function(S,j){var T=JSON.stringify(S,null,"\t");return"{}"===T?"{\n\t$1\n}"+j:"[]"===T?"[\n\t$1\n]"+j:this.getInsertTextForPlainText(T+j)},e.prototype.getInsertTextForSnippetValue=function(S,j){return I.stringifyObject(S,"",(function(S){return"string"==typeof S&&"^"===S[0]?S.substr(1):JSON.stringify(S)}))+j},e.prototype.getInsertTextForGuessedValue=function(S,j){switch(typeof S){case"object":return null===S?"${1:null}"+j:this.getInsertTextForValue(S,j);case"string":var T=JSON.stringify(S);return T=T.substr(1,T.length-2),'"${1:'+(T=this.getInsertTextForPlainText(T))+'}"'+j;case"number":case"boolean":return"${1:"+JSON.stringify(S)+"}"+j}return this.getInsertTextForValue(S,j)},e.prototype.getSuggestionKind=function(S){if(Array.isArray(S)){var j=S;S=0<j.length?j[0]:null}if(!S)return M.CompletionItemKind.Value;switch(S){case"string":return M.CompletionItemKind.Value;case"object":return M.CompletionItemKind.Module;case"property":return M.CompletionItemKind.Property;default:return M.CompletionItemKind.Value}},e.prototype.getLabelTextForMatchingNode=function(S,j){switch(S.type){case"array":return"[]";case"object":return"{}";default:return j.getText().substr(S.offset,S.length)}},e.prototype.getInsertTextForMatchingNode=function(S,j,T){switch(S.type){case"array":return this.getInsertTextForValue([],T);case"object":return this.getInsertTextForValue({},T);default:var A=j.getText().substr(S.offset,S.length)+T;return this.getInsertTextForPlainText(A)}},e.prototype.getInsertTextForProperty=function(S,j,T,A){var I=this.getInsertTextForValue(S,"");if(!T)return I;var w,M=I+": ",V=0;if(j){if(Array.isArray(j.defaultSnippets)){if(1===j.defaultSnippets.length){var _=j.defaultSnippets[0].body;g(_)&&(w=this.getInsertTextForSnippetValue(_,""))}V+=j.defaultSnippets.length}if(j.enum&&(w||1!==j.enum.length||(w=this.getInsertTextForGuessedValue(j.enum[0],"")),V+=j.enum.length),g(j.default)&&(w||(w=this.getInsertTextForGuessedValue(j.default,"")),V++),0===V){var D=Array.isArray(j.type)?j.type[0]:j.type;switch(D||(j.properties?D="object":j.items&&(D="array")),D){case"boolean":w="$1";break;case"string":w='"$1"';break;case"object":w="{\n\t$1\n}";break;case"array":w="[\n\t$1\n]";break;case"number":case"integer":w="${1:0}";break;case"null":w="${1:null}";break;default:return I}}}return(!w||1<V)&&(w="$1"),M+w+A},e.prototype.getCurrentWord=function(S,j){for(var T=j-1,A=S.getText();0<=T&&-1===' \t\n\r\v":{[,]}'.indexOf(A.charAt(T));)T--;return A.substring(T+1,j)},e.prototype.evaluateSeparatorAfter=function(S,j){var T=A.createScanner(S.getText(),!0);switch(T.setPosition(j),T.scan()){case 5:case 2:case 4:case 17:return"";default:return","}},e.prototype.findItemAtOffset=function(S,j,T){for(var I=A.createScanner(j.getText(),!0),w=S.items,M=w.length-1;0<=M;M--){var V=w[M];if(T>V.offset+V.length)return I.setPosition(V.offset+V.length),5===I.scan()&&T>=I.getTokenOffset()+I.getTokenLength()?M+1:M;if(T>=V.offset)return M}return 0},e.prototype.isInComment=function(S,j,T){var I=A.createScanner(S.getText(),!1);I.setPosition(j);for(var w=I.scan();17!==w&&I.getTokenOffset()+I.getTokenLength()<T;)w=I.scan();return(12===w||13===w)&&I.getTokenOffset()<=T},e}();function g(S){return void 0!==S}j.JSONCompletion=_})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/services/jsonHover",["require","exports","../parser/jsonParser","vscode-languageserver-types"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("../parser/jsonParser"),A=S("vscode-languageserver-types"),I=function(){function e(S,j,T){void 0===j&&(j=[]),this.schemaService=S,this.contributions=j,this.promise=T||Promise}return e.prototype.doHover=function(S,j,I){var w=S.offsetAt(j),M=I.getNodeFromOffset(w);if(!M||("object"===M.type||"array"===M.type)&&w>M.offset+1&&w<M.offset+M.length-1)return this.promise.resolve(null);var V=M;if("string"===M.type){var _=M.parent;if("property"===_.type&&_.keyNode===M&&!(M=_.valueNode))return this.promise.resolve(null)}for(var D=A.Range.create(S.positionAt(V.offset),S.positionAt(V.offset+V.length)),u=function(S){return{contents:S,range:D}},F=T.getNodePath(M),R=this.contributions.length-1;0<=R;R--){var L=this.contributions[R].getInfoContribution(S.uri,F);if(L)return L.then((function(S){return u(S)}))}return this.schemaService.getSchemaForResource(S.uri,I).then((function(S){if(S){var j=I.getMatchingSchemas(S.schema,M.offset),A=null,w=null,V=null,_=null;j.every((function(S){if(S.node===M&&!S.inverted&&S.schema&&(A=A||S.schema.title,w=w||S.schema.markdownDescription||h(S.schema.description),S.schema.enum)){var j=S.schema.enum.indexOf(T.getNodeValue(M));S.schema.markdownEnumDescriptions?V=S.schema.markdownEnumDescriptions[j]:S.schema.enumDescriptions&&(V=h(S.schema.enumDescriptions[j])),V&&"string"!=typeof(_=S.schema.enum[j])&&(_=JSON.stringify(_))}return!0}));var D="";return A&&(D=h(A)),w&&(0<D.length&&(D+="\n\n"),D+=w),V&&(0<D.length&&(D+="\n\n"),D+="`"+h(_)+"`: "+V),u([D])}return null}))},e}();function h(S){if(S)return S.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,"$1\n\n$3").replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}j.JSONHover=I})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/services/jsonValidation",["require","exports","vscode-languageserver-types","../jsonLanguageTypes","vscode-nls"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("vscode-languageserver-types"),A=S("../jsonLanguageTypes"),I=S("vscode-nls").loadMessageBundle(),w=function(){function e(S,j){this.jsonSchemaService=S,this.promise=j,this.validationEnabled=!0}return e.prototype.configure=function(S){S&&(this.validationEnabled=S.validate,this.commentSeverity=S.allowComments?void 0:T.DiagnosticSeverity.Error)},e.prototype.doValidation=function(S,j,w,M){var V=this;if(!this.validationEnabled)return this.promise.resolve([]);var _=[],D={},h=function(S){var j=S.range.start.line+" "+S.range.start.character+" "+S.message;D[j]||(D[j]=!0,_.push(S))},t=function(M){var D=w?b(w.trailingCommas):T.DiagnosticSeverity.Error,F=w?b(w.comments):V.commentSeverity;if(M){if(M.errors.length&&j.root){var R=j.root,L="object"===R.type?R.properties[0]:null;if(L&&"$schema"===L.keyNode.value){var q=L.valueNode||L,W=T.Range.create(S.positionAt(q.offset),S.positionAt(q.offset+q.length));h(T.Diagnostic.create(W,M.errors[0],T.DiagnosticSeverity.Warning,A.ErrorCode.SchemaResolveError))}else W=T.Range.create(S.positionAt(R.offset),S.positionAt(R.offset+1)),h(T.Diagnostic.create(W,M.errors[0],T.DiagnosticSeverity.Warning,A.ErrorCode.SchemaResolveError))}else{var $=j.validate(S,M.schema);$&&$.forEach(h)}y(M.schema)&&(D=F=void 0)}if(j.syntaxErrors.forEach((function(S){if(S.code===A.ErrorCode.TrailingComma){if("number"!=typeof F)return;S.severity=D}h(S)})),"number"==typeof F){var K=I("InvalidCommentToken","Comments are not permitted in JSON.");j.comments.forEach((function(S){h(T.Diagnostic.create(S,K,F,A.ErrorCode.CommentNotPermitted))}))}return _};return M?this.promise.resolve(t(M)):this.jsonSchemaService.getSchemaForResource(S.uri,j).then((function(S){return t(S)}))},e}();function y(S){if(S&&"object"==typeof S){if(S.allowComments)return!0;if(S.allOf)return S.allOf.some(y)}return!1}function b(S){switch(S){case"error":return T.DiagnosticSeverity.Error;case"warning":return T.DiagnosticSeverity.Warning;case"ignore":return}}j.JSONValidation=w})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/utils/colors",["require","exports"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});function s(S){return S<48?0:S<=57?S-48:(S<97&&(S+=32),97<=S&&S<=102?S-97+10:0)}j.hexDigit=s,j.colorFromHex=function(S){if("#"!==S[0])return null;switch(S.length){case 4:return{red:17*s(S.charCodeAt(1))/255,green:17*s(S.charCodeAt(2))/255,blue:17*s(S.charCodeAt(3))/255,alpha:1};case 5:return{red:17*s(S.charCodeAt(1))/255,green:17*s(S.charCodeAt(2))/255,blue:17*s(S.charCodeAt(3))/255,alpha:17*s(S.charCodeAt(4))/255};case 7:return{red:(16*s(S.charCodeAt(1))+s(S.charCodeAt(2)))/255,green:(16*s(S.charCodeAt(3))+s(S.charCodeAt(4)))/255,blue:(16*s(S.charCodeAt(5))+s(S.charCodeAt(6)))/255,alpha:1};case 9:return{red:(16*s(S.charCodeAt(1))+s(S.charCodeAt(2)))/255,green:(16*s(S.charCodeAt(3))+s(S.charCodeAt(4)))/255,blue:(16*s(S.charCodeAt(5))+s(S.charCodeAt(6)))/255,alpha:(16*s(S.charCodeAt(7))+s(S.charCodeAt(8)))/255}}return null},j.colorFrom256RGB=function(S,j,T,A){return void 0===A&&(A=1),{red:S/255,green:j/255,blue:T/255,alpha:A}}})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/services/jsonDocumentSymbols",["require","exports","../parser/jsonParser","../utils/strings","../utils/colors","vscode-nls","vscode-languageserver-types"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("../parser/jsonParser"),A=S("../utils/strings"),I=S("../utils/colors"),w=S("vscode-nls"),M=S("vscode-languageserver-types"),V=w.loadMessageBundle(),_=function(){function e(S){this.schemaService=S}return e.prototype.findDocumentSymbols=function(S,j){var I=this,w=j.root;if(!w)return null;var V=S.uri;if(("vscode://defaultsettings/keybindings.json"===V||A.endsWith(V.toLowerCase(),"/user/keybindings.json"))&&"array"===w.type){var _=[];return w.items.forEach((function(j){if("object"===j.type)for(var A=0,I=j.properties;A<I.length;A++){var w=I[A];if("key"===w.keyNode.value&&w.valueNode){if(w.valueNode){var V=M.Location.create(S.uri,p(S,j));_.push({name:T.getNodeValue(w.valueNode),kind:M.SymbolKind.Function,location:V})}return}}})),_}var c=function(j,T,A){return"array"===T.type?T.items.forEach((function(S){return c(j,S,A)})):"object"===T.type&&T.properties.forEach((function(T){var w=M.Location.create(S.uri,p(S,T)),V=T.valueNode;if(V){var _=A?A+"."+T.keyNode.value:T.keyNode.value;j.push({name:T.keyNode.value,kind:I.getSymbolKind(V.type),location:w,containerName:A}),c(j,V,_)}})),j};return c([],w,void 0)},e.prototype.findDocumentSymbols2=function(S,j){var I=this,w=j.root;if(!w)return null;var V=S.uri;if(("vscode://defaultsettings/keybindings.json"===V||A.endsWith(V.toLowerCase(),"/user/keybindings.json"))&&"array"===w.type){var _=[];return w.items.forEach((function(j){if("object"===j.type)for(var A=0,I=j.properties;A<I.length;A++){var w=I[A];if("key"===w.keyNode.value){if(w.valueNode){var V=p(S,j),D=p(S,w.keyNode);_.push({name:T.getNodeValue(w.valueNode),kind:M.SymbolKind.Function,range:V,selectionRange:D})}return}}})),_}var u=function(j,T){return"array"===T.type?T.items.forEach((function(T,A){if(T){var w=p(S,T),M=w,V=String(A),_=u([],T);j.push({name:V,kind:I.getSymbolKind(T.type),range:w,selectionRange:M,children:_})}})):"object"===T.type&&T.properties.forEach((function(T){var A=T.valueNode;if(A){var w=p(S,T),M=p(S,T.keyNode),V=T.keyNode.value,_=u([],A);j.push({name:V,kind:I.getSymbolKind(A.type),range:w,selectionRange:M,children:_})}})),j};return u([],w)},e.prototype.getSymbolKind=function(S){switch(S){case"object":return M.SymbolKind.Module;case"string":return M.SymbolKind.String;case"number":return M.SymbolKind.Number;case"array":return M.SymbolKind.Array;case"boolean":return M.SymbolKind.Boolean;default:return M.SymbolKind.Variable}},e.prototype.getSymbolDetail=function(S){switch(S){case"object":return V("kind.object","object");case"string":return V("kind.string","string");case"number":return V("kind.number","number");case"array":return V("kind.array","array");case"boolean":return V("kind.boolean","boolean");default:return V("kind.null","null")}},e.prototype.findDocumentColors=function(S,j){return this.schemaService.getSchemaForResource(S.uri,j).then((function(A){var w=[];if(A)for(var M={},V=0,_=j.getMatchingSchemas(A.schema);V<_.length;V++){var D=_[V];if(!D.inverted&&D.schema&&("color"===D.schema.format||"color-hex"===D.schema.format)&&D.node&&"string"===D.node.type){var F=String(D.node.offset);if(!M[F]){var R=I.colorFromHex(T.getNodeValue(D.node));if(R){var L=p(S,D.node);w.push({color:R,range:L})}M[F]=!0}}}return w}))},e.prototype.getColorPresentations=function(S,j,T,A){var I,w=[],V=Math.round(255*T.red),_=Math.round(255*T.green),D=Math.round(255*T.blue);function u(S){var j=S.toString(16);return 2!==j.length?"0"+j:j}return I=1===T.alpha?"#"+u(V)+u(_)+u(D):"#"+u(V)+u(_)+u(D)+u(Math.round(255*T.alpha)),w.push({label:I,textEdit:M.TextEdit.replace(A,JSON.stringify(I))}),w},e}();function p(S,j){return M.Range.create(S.positionAt(j.offset),S.positionAt(j.offset+j.length))}j.JSONDocumentSymbols=_})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/services/configuration",["require","exports","vscode-nls"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("vscode-nls").loadMessageBundle();j.schemaContributions={schemaAssociations:{},schemas:{"http://json-schema.org/draft-04/schema#":{title:T("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri",description:T("schema.json.id","A unique identifier for the schema.")},$schema:{type:"string",format:"uri",description:T("schema.json.$schema","The schema to verify this document against ")},title:{type:"string",description:T("schema.json.title","A descriptive title of the element")},description:{type:"string",description:T("schema.json.description","A long description of the element. Used in hover menus and suggestions.")},default:{description:T("schema.json.default","A default value. Used by suggestions.")},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0,description:T("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)")},maximum:{type:"number",description:T("schema.json.maximum","The maximum numerical value, inclusive by default.")},exclusiveMaximum:{type:"boolean",default:!1,description:T("schema.json.exclusiveMaximum","Makes the maximum property exclusive.")},minimum:{type:"number",description:T("schema.json.minimum","The minimum numerical value, inclusive by default.")},exclusiveMinimum:{type:"boolean",default:!1,description:T("schema.json.exclusiveMininum","Makes the minimum property exclusive.")},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}],description:T("schema.json.maxLength","The maximum length of a string.")},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}],description:T("schema.json.minLength","The minimum length of a string.")},pattern:{type:"string",format:"regex",description:T("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored.")},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{},description:T("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail.")},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{},description:T("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on.")},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}],description:T("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive.")},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}],description:T("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive.")},uniqueItems:{type:"boolean",default:!1,description:T("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false.")},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}],description:T("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive.")},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}],description:T("schema.json.minProperties","The minimum number of properties an object can have. Inclusive.")},required:{allOf:[{$ref:"#/definitions/stringArray"}],description:T("schema.json.required","An array of strings that lists the names of all properties required on this object.")},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{},description:T("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail.")},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{},description:T("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref")},properties:{type:"object",additionalProperties:{$ref:"#"},default:{},description:T("schema.json.properties","A map of property names to schemas for each property.")},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{},description:T("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties.")},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]},description:T("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object.")},enum:{type:"array",minItems:1,uniqueItems:!0,description:T("schema.json.enum","The set of literal values that are valid")},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}],description:T("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types.")},format:{anyOf:[{type:"string",description:T("schema.json.format","Describes the format expected for the value."),enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}],description:T("schema.json.allOf","An array of schemas, all of which must match.")},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}],description:T("schema.json.anyOf","An array of schemas, where at least one must match.")},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}],description:T("schema.json.oneOf","An array of schemas, exactly one of which must match.")},not:{allOf:[{$ref:"#"}],description:T("schema.json.not","A schema which must not match.")}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}}}})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/services/jsonSchemaService",["require","exports","jsonc-parser","vscode-uri","../utils/strings","../parser/jsonParser","vscode-nls"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("jsonc-parser"),A=S("vscode-uri"),I=S("../utils/strings"),w=S("../parser/jsonParser"),M=S("vscode-nls").loadMessageBundle(),V=function(){function e(S){try{this.patternRegExp=new RegExp(I.convertSimple2RegExpPattern(S)+"$")}catch(S){this.patternRegExp=null}this.schemas=[]}return e.prototype.addSchema=function(S){this.schemas.push(S)},e.prototype.matchesPattern=function(S){return this.patternRegExp&&this.patternRegExp.test(S)},e.prototype.getSchemas=function(){return this.schemas},e}(),_=function(){function e(S,j,T){this.service=S,this.url=j,T&&(this.unresolvedSchema=this.service.promise.resolve(new s(T)))}return e.prototype.getUnresolvedSchema=function(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.url)),this.unresolvedSchema},e.prototype.getResolvedSchema=function(){var S=this;return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then((function(j){return S.service.resolveSchemaContent(j,S.url)}))),this.resolvedSchema},e.prototype.clearSchema=function(){this.resolvedSchema=null,this.unresolvedSchema=null},e}(),s=function(S,j){void 0===j&&(j=[]),this.schema=S,this.errors=j};j.UnresolvedSchema=s;var D=function(){function e(S,j){void 0===j&&(j=[]),this.schema=S,this.errors=j}return e.prototype.getSection=function(S){return w.asSchema(this.getSectionRecursive(S,this.schema))},e.prototype.getSectionRecursive=function(S,j){var T=this;if(!j||"boolean"==typeof j||0===S.length)return j;var A=S.shift();if(j.properties&&(j.properties[A],1))return this.getSectionRecursive(S,j.properties[A]);if(j.patternProperties)Object.keys(j.patternProperties).forEach((function(I){if(new RegExp(I).test(A))return T.getSectionRecursive(S,j.patternProperties[I])}));else{if("object"==typeof j.additionalProperties)return this.getSectionRecursive(S,j.additionalProperties);if(A.match("[0-9]+"))if(Array.isArray(j.items)){var I=parseInt(A,10);if(!isNaN(I)&&j.items[I])return this.getSectionRecursive(S,j.items[I])}else if(j.items)return this.getSectionRecursive(S,j.items)}return null},e}();j.ResolvedSchema=D;var F=function(){function e(S,j,T){this.contextService=j,this.requestService=S,this.promiseConstructor=T||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations={},this.schemasById={},this.filePatternAssociations=[],this.filePatternAssociationById={},this.registeredSchemasIds={}}return e.prototype.getRegisteredSchemaIds=function(S){return Object.keys(this.registeredSchemasIds).filter((function(j){var T=A.default.parse(j).scheme;return"schemaservice"!==T&&(!S||S(T))}))},Object.defineProperty(e.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){for(;0<this.callOnDispose.length;)this.callOnDispose.pop()()},e.prototype.onResourceChange=function(S){S=this.normalizeId(S);var j=this.schemasById[S];return!!j&&(j.clearSchema(),!0)},e.prototype.normalizeId=function(S){return A.default.parse(S).toString()},e.prototype.setSchemaContributions=function(S){var j=this;if(S.schemas){var T=S.schemas;for(var A in T){var I=this.normalizeId(A);this.contributionSchemas[I]=this.addSchemaHandle(I,T[A])}}if(S.schemaAssociations){var w=S.schemaAssociations;for(var M in w){var V=w[M];this.contributionAssociations[M]=V;var _=this.getOrAddFilePatternAssociation(M);V.forEach((function(S){var T=j.normalizeId(S);_.addSchema(T)}))}}},e.prototype.addSchemaHandle=function(S,j){var T=new _(this,S,j);return this.schemasById[S]=T},e.prototype.getOrAddSchemaHandle=function(S,j){return this.schemasById[S]||this.addSchemaHandle(S,j)},e.prototype.getOrAddFilePatternAssociation=function(S){var j=this.filePatternAssociationById[S];return j||(j=new V(S),this.filePatternAssociationById[S]=j,this.filePatternAssociations.push(j)),j},e.prototype.registerExternalSchema=function(S,j,T){var A=this;void 0===j&&(j=null);var I=this.normalizeId(S);return this.registeredSchemasIds[I]=!0,j&&j.forEach((function(S){A.getOrAddFilePatternAssociation(S).addSchema(I)})),T?this.addSchemaHandle(I,T):this.getOrAddSchemaHandle(I)},e.prototype.clearExternalSchemas=function(){var S=this;for(var j in this.schemasById={},this.filePatternAssociations=[],this.filePatternAssociationById={},this.registeredSchemasIds={},this.contributionSchemas)this.schemasById[j]=this.contributionSchemas[j],this.registeredSchemasIds[j]=!0;for(var T in this.contributionAssociations){var A=this.getOrAddFilePatternAssociation(T);this.contributionAssociations[T].forEach((function(j){var T=S.normalizeId(j);A.addSchema(T)}))}},e.prototype.getResolvedSchema=function(S){var j=this.normalizeId(S),T=this.schemasById[j];return T?T.getResolvedSchema():this.promise.resolve(null)},e.prototype.loadSchema=function(S){if(this.requestService)return this.requestService(S).then((function(j){if(!j){var A=M("json.schema.nocontent","Unable to load schema from '{0}': No content.",c(S));return new s({},[A])}var I,w=[];I=T.parse(j,w);var V=w.length?[M("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",c(S),w[0].offset)]:[];return new s(I,V)}),(function(j){var T=M("json.schema.unabletoload","Unable to load schema from '{0}': {1}",c(S),j.toString());return new s({},[T])}));var j=M("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",c(S));return this.promise.resolve(new s({},[j]))},e.prototype.resolveSchemaContent=function(S,j){var T=this,A=S.errors.slice(0),I=S.schema,w=this.contextService,u=function(S,j,T,I){var w=function(S,j){if(!j)return S;var T=S;return"/"===j[0]&&(j=j.substr(1)),j.split("/").some((function(S){return!(T=T[S])})),T}(j,I);if(w)for(var V in w)w.hasOwnProperty(V)&&!S.hasOwnProperty(V)&&(S[V]=w[V]);else A.push(M("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",I,T))},f=function(S,j,I,V){return w&&!/^\w+:\/\/.*/.test(j)&&(j=w.resolveRelativePath(j,V)),j=T.normalizeId(j),T.getOrAddSchemaHandle(j).getUnresolvedSchema().then((function(T){if(T.errors.length){var w=I?j+"#"+I:j;A.push(M("json.schema.problemloadingref","Problems loading reference '{0}': {1}",w,T.errors[0]))}return u(S,T.schema,j,I),c(S,T.schema,j)}))},c=function(S,j,A){if(!S||"object"!=typeof S)return Promise.resolve(null);for(var I=[S],w=[],M=[],i=function(S){for(;S.$ref;){var T=S.$ref.split("#",2);if(delete S.$ref,0<T[0].length)return void M.push(f(S,T[0],T[1],A));u(S,j,A,T[1])}!function(){for(var S=[],j=0;j<arguments.length;j++)S[j]=arguments[j];for(var T=0,A=S;T<A.length;T++){var w=A[T];"object"==typeof w&&I.push(w)}}(S.items,S.additionalProperties,S.not,S.contains,S.propertyNames,S.if,S.then,S.else),function(){for(var S=[],j=0;j<arguments.length;j++)S[j]=arguments[j];for(var T=0,A=S;T<A.length;T++){var w=A[T];if("object"==typeof w)for(var M in w){var V=w[M];"object"==typeof V&&I.push(V)}}}(S.definitions,S.properties,S.patternProperties,S.dependencies),function(){for(var S=[],j=0;j<arguments.length;j++)S[j]=arguments[j];for(var T=0,A=S;T<A.length;T++){var w=A[T];if(Array.isArray(w))for(var M=0,V=w;M<V.length;M++){var _=V[M];"object"==typeof _&&I.push(_)}}}(S.anyOf,S.allOf,S.oneOf,S.items)};I.length;){var V=I.pop();0<=w.indexOf(V)||(w.push(V),i(V))}return T.promise.all(M)};return c(I,I,j).then((function(S){return new D(I,A)}))},e.prototype.getSchemaForResource=function(S,j){if(j&&j.root&&"object"===j.root.type){var T=j.root.properties.filter((function(S){return"$schema"===S.keyNode.value&&S.valueNode&&"string"===S.valueNode.type}));if(0<T.length){var A=w.getNodeValue(T[0].valueNode);if(A&&I.startsWith(A,".")&&this.contextService&&(A=this.contextService.resolveRelativePath(A,S)),A){var M=this.normalizeId(A);return this.getOrAddSchemaHandle(M).getResolvedSchema()}}}for(var V=Object.create(null),_=[],D=0,F=this.filePatternAssociations;D<F.length;D++){var R=F[D];if(R.matchesPattern(S))for(var L=0,q=R.getSchemas();L<q.length;L++){var W=q[L];V[W]||(_.push(W),V[W]=!0)}}return 0<_.length?this.createCombinedSchema(S,_).getResolvedSchema():this.promise.resolve(null)},e.prototype.createCombinedSchema=function(S,j){if(1===j.length)return this.getOrAddSchemaHandle(j[0]);var T="schemaservice://combinedSchema/"+encodeURIComponent(S),A={allOf:j.map((function(S){return{$ref:S}}))};return this.addSchemaHandle(T,A)},e}();function c(S){try{var j=A.default.parse(S);if("file"===j.scheme)return j.fsPath}catch(S){}return S}j.JSONSchemaService=F})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/services/jsonFolding",["require","exports","vscode-languageserver-types","jsonc-parser","../jsonLanguageTypes"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("vscode-languageserver-types"),A=S("jsonc-parser"),I=S("../jsonLanguageTypes");j.getFoldingRanges=function(S,j){var w=[],M=[],V=[],_=-1,D=A.createScanner(S.getText(),!1),F=D.scan();function c(S){w.push(S),M.push(V.length)}for(;17!==F;){switch(F){case 1:case 3:var R={startLine:W=S.positionAt(D.getTokenOffset()).line,endLine:W,kind:1===F?"object":"array"};V.push(R);break;case 2:case 4:var L=2===F?"object":"array";if(0<V.length&&V[V.length-1].kind===L){R=V.pop();var q=S.positionAt(D.getTokenOffset()).line;R&&q>R.startLine+1&&_!==R.startLine&&(R.endLine=q-1,c(R),_=R.startLine)}break;case 13:var W=S.positionAt(D.getTokenOffset()).line,$=S.positionAt(D.getTokenOffset()+D.getTokenLength()).line;1===D.getTokenError()&&W+1<S.lineCount?D.setPosition(S.offsetAt(T.Position.create(W+1,0))):W<$&&(c({startLine:W,endLine:$,kind:I.FoldingRangeKind.Comment}),_=W);break;case 12:var K=S.getText().substr(D.getTokenOffset(),D.getTokenLength()).match(/^\/\/\s*#(region\b)|(endregion\b)/);if(K)if(q=S.positionAt(D.getTokenOffset()).line,K[1])R={startLine:q,endLine:q,kind:I.FoldingRangeKind.Region},V.push(R);else{for(var U=V.length-1;0<=U&&V[U].kind!==I.FoldingRangeKind.Region;)U--;0<=U&&(R=V[U],V.length=U,q>R.startLine&&_!==R.startLine&&(R.endLine=q,c(R),_=R.startLine))}}F=D.scan()}var B=j&&j.rangeLimit;if("number"!=typeof B||w.length<=B)return w;for(var J=[],H=0,G=M;H<G.length;H++)(te=G[H])<30&&(J[te]=(J[te]||0)+1);var Q=0,Z=0;for(U=0;U<J.length;U++){var Y=J[U];if(Y){if(B<Y+Q){Z=U;break}Q+=Y}}var ee=[];for(U=0;U<w.length;U++){var te;"number"==typeof(te=M[U])&&(te<Z||te===Z&&Q++<B)&&ee.push(w[U])}return ee}})),function(S){if("object"==typeof module&&"object"==typeof module.exports){var j=S(require,exports);void 0!==j&&(module.exports=j)}else"function"==typeof define&&define.amd&&define("vscode-json-languageservice/jsonLanguageService",["require","exports","vscode-languageserver-types","./services/jsonCompletion","./services/jsonHover","./services/jsonValidation","./services/jsonDocumentSymbols","./parser/jsonParser","./services/configuration","./services/jsonSchemaService","./services/jsonFolding","jsonc-parser","./jsonLanguageTypes"],S)}((function(S,j){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var T=S("vscode-languageserver-types");j.TextDocument=T.TextDocument,j.Position=T.Position,j.CompletionItem=T.CompletionItem,j.CompletionList=T.CompletionList,j.Hover=T.Hover,j.Range=T.Range,j.SymbolInformation=T.SymbolInformation,j.Diagnostic=T.Diagnostic,j.TextEdit=T.TextEdit,j.FormattingOptions=T.FormattingOptions,j.MarkedString=T.MarkedString;var A=S("./services/jsonCompletion"),I=S("./services/jsonHover"),w=S("./services/jsonValidation"),M=S("./services/jsonDocumentSymbols"),V=S("./parser/jsonParser"),_=S("./services/configuration"),D=S("./services/jsonSchemaService"),F=S("./services/jsonFolding"),R=S("jsonc-parser");!function(S){for(var T in S)j.hasOwnProperty(T)||(j[T]=S[T])}(S("./jsonLanguageTypes")),j.getLanguageService=function(S){var j=S.promiseConstructor||Promise,L=new D.JSONSchemaService(S.schemaRequestService,S.workspaceContext,j);L.setSchemaContributions(_.schemaContributions);var q=new A.JSONCompletion(L,S.contributions,j),W=new I.JSONHover(L,S.contributions,j),$=new M.JSONDocumentSymbols(L),K=new w.JSONValidation(L,j);return{configure:function(S){L.clearExternalSchemas(),S.schemas&&S.schemas.forEach((function(S){L.registerExternalSchema(S.uri,S.fileMatch,S.schema)})),K.configure(S)},resetSchema:function(S){return L.onResourceChange(S)},doValidation:K.doValidation.bind(K),parseJSONDocument:function(S){return V.parse(S,{collectComments:!0})},newJSONDocument:function(S,j){return V.newJSONDocument(S,j)},doResolve:q.doResolve.bind(q),doComplete:q.doComplete.bind(q),findDocumentSymbols:$.findDocumentSymbols.bind($),findDocumentSymbols2:$.findDocumentSymbols2.bind($),findColorSymbols:function(S,j){return $.findDocumentColors(S,j).then((function(S){return S.map((function(S){return S.range}))}))},findDocumentColors:$.findDocumentColors.bind($),getColorPresentations:$.getColorPresentations.bind($),doHover:W.doHover.bind(W),getFoldingRanges:F.getFoldingRanges,format:function(S,j,A){var I=void 0;if(j){var w=S.offsetAt(j.start);I={offset:w,length:S.offsetAt(j.end)-w}}var M={tabSize:A?A.tabSize:4,insertSpaces:!A||A.insertSpaces,eol:"\n"};return R.format(S.getText(),I,M).map((function(j){return T.TextEdit.replace(T.Range.create(S.positionAt(j.offset),S.positionAt(j.offset+j.length)),j.content)}))}}}})),define("vscode-json-languageservice",["vscode-json-languageservice/jsonLanguageService"],(function(S){return S})),define("vs/language/json/jsonWorker",["require","exports","vscode-json-languageservice","vscode-languageserver-types"],(function(S,j,T,A){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var I,w=monaco.Promise;"undefined"!=typeof fetch&&(I=function(S){return fetch(S).then((function(S){return S.text()}))});var M=function(){function e(S){this.wrapped=new monaco.Promise(S)}return e.prototype.then=function(S,j){return this.wrapped.then(S,j)},e.prototype.getWrapped=function(){return this.wrapped},e.resolve=function(S){return monaco.Promise.as(S)},e.reject=function(S){return monaco.Promise.wrapError(S)},e.all=function(S){return monaco.Promise.join(S)},e}(),V=function(){function e(S,j){this._ctx=S,this._languageSettings=j.languageSettings,this._languageId=j.languageId,this._languageService=T.getLanguageService({schemaRequestService:j.enableSchemaRequest&&I,promiseConstructor:M}),this._languageService.configure(this._languageSettings)}return e.prototype.doValidation=function(S){var j=this._getTextDocument(S);if(j){var T=this._languageService.parseJSONDocument(j);return this._languageService.doValidation(j,T)}return w.as([])},e.prototype.doComplete=function(S,j){var T=this._getTextDocument(S),A=this._languageService.parseJSONDocument(T);return this._languageService.doComplete(T,j,A)},e.prototype.doResolve=function(S){return this._languageService.doResolve(S)},e.prototype.doHover=function(S,j){var T=this._getTextDocument(S),A=this._languageService.parseJSONDocument(T);return this._languageService.doHover(T,j,A)},e.prototype.format=function(S,j,T){var A=this._getTextDocument(S),I=this._languageService.format(A,j,T);return w.as(I)},e.prototype.resetSchema=function(S){return w.as(this._languageService.resetSchema(S))},e.prototype.findDocumentSymbols=function(S){var j=this._getTextDocument(S),T=this._languageService.parseJSONDocument(j),A=this._languageService.findDocumentSymbols(j,T);return w.as(A)},e.prototype.findDocumentColors=function(S){var j=this._getTextDocument(S),T=this._languageService.parseJSONDocument(j),A=this._languageService.findDocumentColors(j,T);return w.as(A)},e.prototype.getColorPresentations=function(S,j,T){var A=this._getTextDocument(S),I=this._languageService.parseJSONDocument(A),M=this._languageService.getColorPresentations(A,I,j,T);return w.as(M)},e.prototype.provideFoldingRanges=function(S,j){var T=this._getTextDocument(S),A=this._languageService.getFoldingRanges(T,j);return w.as(A)},e.prototype._getTextDocument=function(S){for(var j=0,T=this._ctx.getMirrorModels();j<T.length;j++){var I=T[j];if(I.uri.toString()===S)return A.TextDocument.create(S,this._languageId,I.version,I.getValue())}return null},e}();j.JSONWorker=V,j.create=function(S,j){return new V(S,j)}}));