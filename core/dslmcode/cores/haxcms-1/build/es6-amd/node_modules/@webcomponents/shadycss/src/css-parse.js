define(["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.parse=function parse(text){return function parseCss(node,text){let t=text.substring(node.start,node.end-1);if(node.parsedCssText=node.cssText=t.trim(),node.parent){let ss=node.previous?node.previous.end:node.parent.start;t=text.substring(ss,node.start-1),t=function _expandUnicodeEscapes(s){return s.replace(/\\([0-9a-f]{1,6})\s/gi,(function(){let code=arguments[1],repeat=6-code.length;for(;repeat--;)code="0"+code;return"\\"+code}))}(t),t=t.replace(RX.multipleSpaces," "),t=t.substring(t.lastIndexOf(";")+1);let s=node.parsedSelector=node.selector=t.trim();node.atRule=0===s.indexOf(AT_START),node.atRule?0===s.indexOf(MEDIA_START)?node.type=types.MEDIA_RULE:s.match(RX.keyframesRule)&&(node.type=types.KEYFRAMES_RULE,node.keyframesName=node.selector.split(RX.multipleSpaces).pop()):0===s.indexOf(VAR_START)?node.type=types.MIXIN_RULE:node.type=types.STYLE_RULE}let r$=node.rules;if(r$)for(let r,i=0,l=r$.length;i<l&&(r=r$[i]);i++)parseCss(r,text);return node}(function lex(text){let root=new StyleNode;root.start=0,root.end=text.length;let n=root;for(let i=0,l=text.length;i<l;i++)if(text[i]===OPEN_BRACE){n.rules||(n.rules=[]);let p=n,previous=p.rules[p.rules.length-1]||null;n=new StyleNode,n.start=i+1,n.parent=p,n.previous=previous,p.rules.push(n)}else text[i]===CLOSE_BRACE&&(n.end=i+1,n=n.parent||root);return root}(text=function clean(cssText){return cssText.replace(RX.comments,"").replace(RX.port,"")}(text)),text)},_exports.stringify=function stringify(node,preserveProperties,text=""){let cssText="";if(node.cssText||node.rules){let r$=node.rules;if(r$&&!function _hasMixinRules(rules){let r=rules[0];return Boolean(r)&&Boolean(r.selector)&&0===r.selector.indexOf(VAR_START)}(r$))for(let r,i=0,l=r$.length;i<l&&(r=r$[i]);i++)cssText=stringify(r,preserveProperties,cssText);else cssText=preserveProperties?node.cssText:function removeCustomProps(cssText){return function removeCustomPropApply(cssText){return cssText.replace(RX.mixinApply,"").replace(RX.varApply,"")}(cssText=removeCustomPropAssignment(cssText))}(node.cssText),cssText=cssText.trim(),cssText&&(cssText="  "+cssText+"\n")}cssText&&(node.selector&&(text+=node.selector+" "+OPEN_BRACE+"\n"),text+=cssText,node.selector&&(text+=CLOSE_BRACE+"\n\n"));return text},_exports.removeCustomPropAssignment=removeCustomPropAssignment,_exports.types=_exports.StyleNode=void 0;class StyleNode{constructor(){this.start=0,this.end=0,this.previous=null,this.parent=null,this.rules=null,this.parsedCssText="",this.cssText="",this.atRule=!1,this.type=0,this.keyframesName="",this.selector="",this.parsedSelector=""}}function removeCustomPropAssignment(cssText){return cssText.replace(RX.customProp,"").replace(RX.mixinProp,"")}_exports.StyleNode=StyleNode;const types={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3};_exports.types=types;const OPEN_BRACE="{",CLOSE_BRACE="}",RX={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},VAR_START="--",MEDIA_START="@media",AT_START="@"}));