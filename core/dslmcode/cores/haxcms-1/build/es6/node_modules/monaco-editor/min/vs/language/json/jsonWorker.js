/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/jsonWorker",["require","require"],(x=>(()=>{var x,I,M=Object.defineProperty,V=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,R=Object.prototype.hasOwnProperty,D=(x="undefined"!=typeof WeakMap?new WeakMap:0,(I,D)=>x&&x.get(I)||(D=((x,I,D,L)=>{if(I&&"object"==typeof I||"function"==typeof I)for(let $ of F(I))!R.call(x,$)&&(D||"default"!==$)&&M(x,$,{get:()=>I[$],enumerable:!(L=V(I,$))||L.enumerable});return x})((x=>M(x,"__esModule",{value:!0}))({}),I,1),x&&x.set(I,D),D)),L={};function Ce(x,I){void 0===I&&(I=!1);var M=x.length,V=0,F="",R=0,D=16,L=0,$=0,U=0,W=0,q=0;function h(I,M){for(var F=0,R=0;F<I||!M;){var D=x.charCodeAt(V);if(D>=48&&D<=57)R=16*R+D-48;else if(D>=65&&D<=70)R=16*R+D-65+10;else{if(!(D>=97&&D<=102))break;R=16*R+D-97+10}V++,F++}return F<I&&(R=-1),R}function d(){if(F="",q=0,R=V,$=L,W=U,V>=M)return R=M,D=17;var I=x.charCodeAt(V);if(lt(I)){do{V++,F+=String.fromCharCode(I),I=x.charCodeAt(V)}while(lt(I));return D=15}if(Fe(I))return V++,F+=String.fromCharCode(I),13===I&&10===x.charCodeAt(V)&&(V++,F+="\n"),L++,U=V,D=14;switch(I){case 123:return V++,D=1;case 125:return V++,D=2;case 91:return V++,D=3;case 93:return V++,D=4;case 58:return V++,D=6;case 44:return V++,D=5;case 34:return V++,F=function p(){for(var I="",F=V;;){if(V>=M){I+=x.substring(F,V),q=2;break}var R=x.charCodeAt(V);if(34===R){I+=x.substring(F,V),V++;break}if(92!==R){if(R>=0&&R<=31){if(Fe(R)){I+=x.substring(F,V),q=2;break}q=6}V++}else{if(I+=x.substring(F,V),++V>=M){q=2;break}switch(x.charCodeAt(V++)){case 34:I+='"';break;case 92:I+="\\";break;case 47:I+="/";break;case 98:I+="\b";break;case 102:I+="\f";break;case 110:I+="\n";break;case 114:I+="\r";break;case 116:I+="\t";break;case 117:var D=h(4,!0);D>=0?I+=String.fromCharCode(D):q=4;break;default:q=5}F=V}}return I}(),D=10;case 47:var J=V-1;if(47===x.charCodeAt(V+1)){for(V+=2;V<M&&!Fe(x.charCodeAt(V));)V++;return F=x.substring(J,V),D=12}if(42===x.charCodeAt(V+1)){V+=2;for(var z=M-1,G=!1;V<z;){var X=x.charCodeAt(V);if(42===X&&47===x.charCodeAt(V+1)){V+=2,G=!0;break}V++,Fe(X)&&(13===X&&10===x.charCodeAt(V)&&V++,L++,U=V)}return G||(V++,q=1),F=x.substring(J,V),D=13}return F+=String.fromCharCode(I),V++,D=16;case 45:if(F+=String.fromCharCode(I),++V===M||!Oe(x.charCodeAt(V)))return D=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return F+=function m(){var I=V;if(48===x.charCodeAt(V))V++;else for(V++;V<x.length&&Oe(x.charCodeAt(V));)V++;if(V<x.length&&46===x.charCodeAt(V)){if(!(++V<x.length&&Oe(x.charCodeAt(V))))return q=3,x.substring(I,V);for(V++;V<x.length&&Oe(x.charCodeAt(V));)V++}var M=V;if(V<x.length&&(69===x.charCodeAt(V)||101===x.charCodeAt(V)))if((++V<x.length&&43===x.charCodeAt(V)||45===x.charCodeAt(V))&&V++,V<x.length&&Oe(x.charCodeAt(V))){for(V++;V<x.length&&Oe(x.charCodeAt(V));)V++;M=V}else q=3;return x.substring(I,M)}(),D=11;default:for(;V<M&&b(I);)V++,I=x.charCodeAt(V);if(R!==V){switch(F=x.substring(R,V)){case"true":return D=8;case"false":return D=9;case"null":return D=7}return D=16}return F+=String.fromCharCode(I),V++,D=16}}function b(x){if(lt(x)||Fe(x))return!1;switch(x){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function g(x){V=x,F="",R=0,D=16,q=0},getPosition:function(){return V},scan:I?function y(){var x;do{x=d()}while(x>=12&&x<=15);return x}:d,getToken:function(){return D},getTokenValue:function(){return F},getTokenOffset:function(){return R},getTokenLength:function(){return V-R},getTokenStartLine:function(){return $},getTokenStartCharacter:function(){return R-W},getTokenError:function(){return q}}}function lt(x){return 32===x||9===x||11===x||12===x||160===x||5760===x||x>=8192&&x<=8203||8239===x||8287===x||12288===x||65279===x}function Fe(x){return 10===x||13===x||8232===x||8233===x}function Oe(x){return x>=48&&x<=57}function gt(x,I,M){var V,F,R,D,L;if(I){for(D=I.offset,L=D+I.length,R=D;R>0&&!dt(x,R-1);)R--;for(var $=L;$<x.length&&!dt(x,$);)$++;F=x.substring(R,$),V=function tn(x,I){for(var M=0,V=0,F=I.tabSize||4;M<x.length;){var R=x.charAt(M);if(" "===R)V++;else{if("\t"!==R)break;V+=F}M++}return Math.floor(V/F)}(F,M)}else F=x,V=0,R=0,D=0,L=x.length;var U,W=function rn(x,I){for(var M=0;M<I.length;M++){var V=I.charAt(M);if("\r"===V)return M+1<I.length&&"\n"===I.charAt(M+1)?"\r\n":"\r";if("\n"===V)return"\n"}return x&&x.eol||"\n"}(M,x),q=!1,J=0;U=M.insertSpaces?ht(" ",M.tabSize||4):"\t";var z=Ce(F,!1),G=!1;function p(){return W+ht(U,V+J)}function d(){var x=z.scan();for(q=!1;15===x||14===x;)q=q||14===x,x=z.scan();return G=16===x||0!==z.getTokenError(),x}var X=[];function y(M,V,F){!G&&(!I||V<L&&F>D)&&x.substring(V,F)!==M&&X.push({offset:V,length:F-V,content:M})}var Z=d();if(17!==Z){var Q=z.getTokenOffset()+R;y(ht(U,V),R,Q)}for(;17!==Z;){for(var Y=z.getTokenOffset()+z.getTokenLength()+R,te=d(),ne="",re=!1;!q&&(12===te||13===te);){y(" ",Y,z.getTokenOffset()+R),Y=z.getTokenOffset()+z.getTokenLength()+R,ne=(re=12===te)?p():"",te=d()}if(2===te)1!==Z&&(J--,ne=p());else if(4===te)3!==Z&&(J--,ne=p());else{switch(Z){case 3:case 1:J++,ne=p();break;case 5:case 12:ne=p();break;case 13:q?ne=p():re||(ne=" ");break;case 6:re||(ne=" ");break;case 10:if(6===te){re||(ne="");break}case 7:case 8:case 9:case 11:case 2:case 4:12===te||13===te?re||(ne=" "):5!==te&&17!==te&&(G=!0);break;case 16:G=!0}q&&(12===te||13===te)&&(ne=p())}17===te&&(ne=M.insertFinalNewline?W:""),y(ne,Y,z.getTokenOffset()+R),Z=te}return X}function ht(x,I){for(var M="",V=0;V<I;V++)M+=x;return M}function dt(x,I){return-1!=="\r\n".indexOf(x.charAt(I))}((x,I)=>{for(var V in I)M(x,V,{get:I[V],enumerable:!0})})(L,{JSONWorker:()=>Kn,create:()=>_n}),function(x){x.DEFAULT={allowTrailingComma:!1}}(I||(I={}));var $,U,W,q,J,z,G,X,Z,Q,Y,te,ne,re,oe,ae,ce,ue,fe,le,de,me,ye,Se,Ae,ke,Te=Ce,we=function Xt(x,M,V){void 0===M&&(M=[]),void 0===V&&(V=I.DEFAULT);var F=null,R=[],D=[];function s(x){Array.isArray(R)?R.push(x):null!==F&&(R[F]=x)}return function Zt(x,M,V){void 0===V&&(V=I.DEFAULT);var F=Ce(x,!1);function n(x){return x?function(){return x(F.getTokenOffset(),F.getTokenLength(),F.getTokenStartLine(),F.getTokenStartCharacter())}:function(){return!0}}function a(x){return x?function(I){return x(I,F.getTokenOffset(),F.getTokenLength(),F.getTokenStartLine(),F.getTokenStartCharacter())}:function(){return!0}}var R=n(M.onObjectBegin),D=a(M.onObjectProperty),L=n(M.onObjectEnd),$=n(M.onArrayBegin),U=n(M.onArrayEnd),W=a(M.onLiteralValue),q=a(M.onSeparator),J=n(M.onComment),z=a(M.onError),G=V&&V.disallowComments,X=V&&V.allowTrailingComma;function b(){for(;;){var x=F.scan();switch(F.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:G||y(11);break;case 2:y(12);break;case 6:y(16)}switch(x){case 12:case 13:G?y(10):J();break;case 16:y(1);break;case 15:case 14:break;default:return x}}}function y(x,I,M){if(void 0===I&&(I=[]),void 0===M&&(M=[]),z(x),I.length+M.length>0)for(var V=F.getToken();17!==V;){if(-1!==I.indexOf(V)){b();break}if(-1!==M.indexOf(V))break;V=b()}}function v(x){var I=F.getTokenValue();return x?W(I):D(I),b(),!0}function O(){switch(F.getToken()){case 11:var x=F.getTokenValue(),I=Number(x);isNaN(I)&&(y(2),I=0),W(I);break;case 7:W(null);break;case 8:W(!0);break;case 9:W(!1);break;default:return!1}return b(),!0}function E(){return 10!==F.getToken()?(y(3,[],[2,5]),!1):(v(!1),6===F.getToken()?(q(":"),b(),P()||y(4,[],[2,5])):y(5,[],[2,5]),!0)}function j(){R(),b();for(var x=!1;2!==F.getToken()&&17!==F.getToken();){if(5===F.getToken()){if(x||y(4,[],[]),q(","),b(),2===F.getToken()&&X)break}else x&&y(6,[],[]);E()||y(4,[],[2,5]),x=!0}return L(),2!==F.getToken()?y(7,[2],[]):b(),!0}function A(){$(),b();for(var x=!1;4!==F.getToken()&&17!==F.getToken();){if(5===F.getToken()){if(x||y(4,[],[]),q(","),b(),4===F.getToken()&&X)break}else x&&y(6,[],[]);P()||y(4,[],[4,5]),x=!0}return U(),4!==F.getToken()?y(8,[4],[]):b(),!0}function P(){switch(F.getToken()){case 3:return A();case 1:return j();case 10:return v(!0);default:return O()}}return b(),17===F.getToken()?!!V.allowEmptyContent||(y(4,[],[]),!1):P()?(17!==F.getToken()&&y(9,[],[]),!0):(y(4,[],[]),!1)}(x,{onObjectBegin:function(){var x={};s(x),D.push(R),R=x,F=null},onObjectProperty:function(x){F=x},onObjectEnd:function(){R=D.pop()},onArrayBegin:function(){var x=[];s(x),D.push(R),R=x,F=null},onArrayEnd:function(){R=D.pop()},onLiteralValue:s,onError:function(x,I,V){M.push({error:x,offset:I,length:V})}},V),R[0]},Ee=function mt(x,I,M){if(void 0===M&&(M=!1),function an(x,I,M){return void 0===M&&(M=!1),I>=x.offset&&I<x.offset+x.length||M&&I===x.offset+x.length}(x,I,M)){var V=x.children;if(Array.isArray(V))for(var F=0;F<V.length&&V[F].offset<=I;F++){var R=mt(V[F],I,M);if(R)return R}return x}},Ie=function pt(x){if(!x.parent||!x.parent.children)return[];var I=pt(x.parent);if("property"===x.parent.type){var M=x.parent.children[0].value;I.push(M)}else if("array"===x.parent.type){var V=x.parent.children.indexOf(x);-1!==V&&I.push(V)}return I},je=function _e(x){switch(x.type){case"array":return x.children.map(_e);case"object":for(var I=Object.create(null),M=0,V=x.children;M<V.length;M++){var F=V[M],R=F.children[1];R&&(I[F.children[0].value]=_e(R))}return I;case"null":case"string":case"number":case"boolean":return x.value;default:return}};function Pe(x,I){if(x===I)return!0;if(null==x||null==I||typeof x!=typeof I||"object"!=typeof x||Array.isArray(x)!==Array.isArray(I))return!1;var M,V;if(Array.isArray(x)){if(x.length!==I.length)return!1;for(M=0;M<x.length;M++)if(!Pe(x[M],I[M]))return!1}else{var F=[];for(V in x)F.push(V);F.sort();var R=[];for(V in I)R.push(V);if(R.sort(),!Pe(F,R))return!1;for(M=0;M<F.length;M++)if(!Pe(x[F[M]],I[F[M]]))return!1}return!0}function ee(x){return"number"==typeof x}function se(x){return typeof x<"u"}function ie(x){return"boolean"==typeof x}function pe(x,I){var M=x.length-I.length;return M>0?x.lastIndexOf(I)===M:0===M&&x===I}function xe(x){var I="";(function cn(x,I){if(x.length<I.length)return!1;for(var M=0;M<I.length;M++)if(x[M]!==I[M])return!1;return!0})(x,"(?i)")&&(x=x.substring(4),I="i");try{return new RegExp(x,I+"u")}catch{try{return new RegExp(x,I)}catch{return}}}!function(x){x.MIN_VALUE=-2147483648,x.MAX_VALUE=2147483647}($||($={})),function(x){x.MIN_VALUE=0,x.MAX_VALUE=2147483647}(U||(U={})),function(x){x.create=function r(x,I){return x===Number.MAX_VALUE&&(x=U.MAX_VALUE),I===Number.MAX_VALUE&&(I=U.MAX_VALUE),{line:x,character:I}},x.is=function i(x){var I=x;return kt.objectLiteral(I)&&kt.uinteger(I.line)&&kt.uinteger(I.character)}}(W||(W={})),function(x){x.create=function r(x,I,M,V){if(kt.uinteger(x)&&kt.uinteger(I)&&kt.uinteger(M)&&kt.uinteger(V))return{start:W.create(x,I),end:W.create(M,V)};if(W.is(x)&&W.is(I))return{start:x,end:I};throw new Error("Range#create called with invalid arguments["+x+", "+I+", "+M+", "+V+"]")},x.is=function i(x){var I=x;return kt.objectLiteral(I)&&W.is(I.start)&&W.is(I.end)}}(q||(q={})),function(x){x.create=function r(x,I){return{uri:x,range:I}},x.is=function i(x){var I=x;return kt.defined(I)&&q.is(I.range)&&(kt.string(I.uri)||kt.undefined(I.uri))}}(J||(J={})),function(x){x.create=function r(x,I,M,V){return{targetUri:x,targetRange:I,targetSelectionRange:M,originSelectionRange:V}},x.is=function i(x){var I=x;return kt.defined(I)&&q.is(I.targetRange)&&kt.string(I.targetUri)&&(q.is(I.targetSelectionRange)||kt.undefined(I.targetSelectionRange))&&(q.is(I.originSelectionRange)||kt.undefined(I.originSelectionRange))}}(z||(z={})),function(x){x.create=function r(x,I,M,V){return{red:x,green:I,blue:M,alpha:V}},x.is=function i(x){var I=x;return kt.numberRange(I.red,0,1)&&kt.numberRange(I.green,0,1)&&kt.numberRange(I.blue,0,1)&&kt.numberRange(I.alpha,0,1)}}(G||(G={})),function(x){x.create=function r(x,I){return{range:x,color:I}},x.is=function i(x){var I=x;return q.is(I.range)&&G.is(I.color)}}(X||(X={})),function(x){x.create=function r(x,I,M){return{label:x,textEdit:I,additionalTextEdits:M}},x.is=function i(x){var I=x;return kt.string(I.label)&&(kt.undefined(I.textEdit)||ue.is(I))&&(kt.undefined(I.additionalTextEdits)||kt.typedArray(I.additionalTextEdits,ue.is))}}(Z||(Z={})),function(x){x.Comment="comment",x.Imports="imports",x.Region="region"}(Q||(Q={})),function(x){x.create=function r(x,I,M,V,F){var R={startLine:x,endLine:I};return kt.defined(M)&&(R.startCharacter=M),kt.defined(V)&&(R.endCharacter=V),kt.defined(F)&&(R.kind=F),R},x.is=function i(x){var I=x;return kt.uinteger(I.startLine)&&kt.uinteger(I.startLine)&&(kt.undefined(I.startCharacter)||kt.uinteger(I.startCharacter))&&(kt.undefined(I.endCharacter)||kt.uinteger(I.endCharacter))&&(kt.undefined(I.kind)||kt.string(I.kind))}}(Y||(Y={})),function(x){x.create=function r(x,I){return{location:x,message:I}},x.is=function i(x){var I=x;return kt.defined(I)&&J.is(I.location)&&kt.string(I.message)}}(te||(te={})),function(x){x.Error=1,x.Warning=2,x.Information=3,x.Hint=4}(ne||(ne={})),function(x){x.Unnecessary=1,x.Deprecated=2}(re||(re={})),function(x){x.is=function r(x){var I=x;return null!=I&&kt.string(I.href)}}(oe||(oe={})),function(x){x.create=function r(x,I,M,V,F,R){var D={range:x,message:I};return kt.defined(M)&&(D.severity=M),kt.defined(V)&&(D.code=V),kt.defined(F)&&(D.source=F),kt.defined(R)&&(D.relatedInformation=R),D},x.is=function i(x){var I,M=x;return kt.defined(M)&&q.is(M.range)&&kt.string(M.message)&&(kt.number(M.severity)||kt.undefined(M.severity))&&(kt.integer(M.code)||kt.string(M.code)||kt.undefined(M.code))&&(kt.undefined(M.codeDescription)||kt.string(null===(I=M.codeDescription)||void 0===I?void 0:I.href))&&(kt.string(M.source)||kt.undefined(M.source))&&(kt.undefined(M.relatedInformation)||kt.typedArray(M.relatedInformation,te.is))}}(ae||(ae={})),function(x){x.create=function r(x,I){for(var M=[],V=2;V<arguments.length;V++)M[V-2]=arguments[V];var F={title:x,command:I};return kt.defined(M)&&M.length>0&&(F.arguments=M),F},x.is=function i(x){var I=x;return kt.defined(I)&&kt.string(I.title)&&kt.string(I.command)}}(ce||(ce={})),function(x){x.replace=function r(x,I){return{range:x,newText:I}},x.insert=function i(x,I){return{range:{start:x,end:x},newText:I}},x.del=function e(x){return{range:x,newText:""}},x.is=function n(x){var I=x;return kt.objectLiteral(I)&&kt.string(I.newText)&&q.is(I.range)}}(ue||(ue={})),function(x){x.create=function r(x,I,M){var V={label:x};return void 0!==I&&(V.needsConfirmation=I),void 0!==M&&(V.description=M),V},x.is=function i(x){var I=x;return void 0!==I&&kt.objectLiteral(I)&&kt.string(I.label)&&(kt.boolean(I.needsConfirmation)||void 0===I.needsConfirmation)&&(kt.string(I.description)||void 0===I.description)}}(fe||(fe={})),function(x){x.is=function r(x){return"string"==typeof x}}(le||(le={})),function(x){x.replace=function r(x,I,M){return{range:x,newText:I,annotationId:M}},x.insert=function i(x,I,M){return{range:{start:x,end:x},newText:I,annotationId:M}},x.del=function e(x,I){return{range:x,newText:"",annotationId:I}},x.is=function n(x){var I=x;return ue.is(I)&&(fe.is(I.annotationId)||le.is(I.annotationId))}}(de||(de={})),function(x){x.create=function r(x,I){return{textDocument:x,edits:I}},x.is=function i(x){var I=x;return kt.defined(I)&&Ve.is(I.textDocument)&&Array.isArray(I.edits)}}(me||(me={})),function(x){x.create=function r(x,I,M){var V={kind:"create",uri:x};return void 0!==I&&(void 0!==I.overwrite||void 0!==I.ignoreIfExists)&&(V.options=I),void 0!==M&&(V.annotationId=M),V},x.is=function i(x){var I=x;return I&&"create"===I.kind&&kt.string(I.uri)&&(void 0===I.options||(void 0===I.options.overwrite||kt.boolean(I.options.overwrite))&&(void 0===I.options.ignoreIfExists||kt.boolean(I.options.ignoreIfExists)))&&(void 0===I.annotationId||le.is(I.annotationId))}}(ye||(ye={})),function(x){x.create=function r(x,I,M,V){var F={kind:"rename",oldUri:x,newUri:I};return void 0!==M&&(void 0!==M.overwrite||void 0!==M.ignoreIfExists)&&(F.options=M),void 0!==V&&(F.annotationId=V),F},x.is=function i(x){var I=x;return I&&"rename"===I.kind&&kt.string(I.oldUri)&&kt.string(I.newUri)&&(void 0===I.options||(void 0===I.options.overwrite||kt.boolean(I.options.overwrite))&&(void 0===I.options.ignoreIfExists||kt.boolean(I.options.ignoreIfExists)))&&(void 0===I.annotationId||le.is(I.annotationId))}}(Se||(Se={})),function(x){x.create=function r(x,I,M){var V={kind:"delete",uri:x};return void 0!==I&&(void 0!==I.recursive||void 0!==I.ignoreIfNotExists)&&(V.options=I),void 0!==M&&(V.annotationId=M),V},x.is=function i(x){var I=x;return I&&"delete"===I.kind&&kt.string(I.uri)&&(void 0===I.options||(void 0===I.options.recursive||kt.boolean(I.options.recursive))&&(void 0===I.options.ignoreIfNotExists||kt.boolean(I.options.ignoreIfNotExists)))&&(void 0===I.annotationId||le.is(I.annotationId))}}(Ae||(Ae={})),function(x){x.is=function r(x){var I=x;return I&&(void 0!==I.changes||void 0!==I.documentChanges)&&(void 0===I.documentChanges||I.documentChanges.every((function(x){return kt.string(x.kind)?ye.is(x)||Se.is(x)||Ae.is(x):me.is(x)})))}}(ke||(ke={}));var Me,Ne,Ve,Re,De,Le,$e,Ue,We,Be,Ke,Je,ze,He,Ge,Xe,Ze,Qe,Ye,nt,rt,it,at,st,ct,ut,ft,vt,yt,bt,xt,St=function(){function t(x,I){this.edits=x,this.changeAnnotations=I}return t.prototype.insert=function(x,I,M){var V,F;if(void 0===M?V=ue.insert(x,I):le.is(M)?(F=M,V=de.insert(x,I,M)):(this.assertChangeAnnotations(this.changeAnnotations),F=this.changeAnnotations.manage(M),V=de.insert(x,I,F)),this.edits.push(V),void 0!==F)return F},t.prototype.replace=function(x,I,M){var V,F;if(void 0===M?V=ue.replace(x,I):le.is(M)?(F=M,V=de.replace(x,I,M)):(this.assertChangeAnnotations(this.changeAnnotations),F=this.changeAnnotations.manage(M),V=de.replace(x,I,F)),this.edits.push(V),void 0!==F)return F},t.prototype.delete=function(x,I){var M,V;if(void 0===I?M=ue.del(x):le.is(I)?(V=I,M=de.del(x,I)):(this.assertChangeAnnotations(this.changeAnnotations),V=this.changeAnnotations.manage(I),M=de.del(x,V)),this.edits.push(M),void 0!==V)return V},t.prototype.add=function(x){this.edits.push(x)},t.prototype.all=function(){return this.edits},t.prototype.clear=function(){this.edits.splice(0,this.edits.length)},t.prototype.assertChangeAnnotations=function(x){if(void 0===x)throw new Error("Text edit change is not configured to manage change annotations.")},t}(),At=function(){function t(x){this._annotations=void 0===x?Object.create(null):x,this._counter=0,this._size=0}return t.prototype.all=function(){return this._annotations},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.manage=function(x,I){var M;if(le.is(x)?M=x:(M=this.nextId(),I=x),void 0!==this._annotations[M])throw new Error("Id "+M+" is already in use.");if(void 0===I)throw new Error("No annotation provided for id "+M);return this._annotations[M]=I,this._size++,M},t.prototype.nextId=function(){return this._counter++,this._counter.toString()},t}();!function(){function t(x){var I=this;this._textEditChanges=Object.create(null),void 0!==x?(this._workspaceEdit=x,x.documentChanges?(this._changeAnnotations=new At(x.changeAnnotations),x.changeAnnotations=this._changeAnnotations.all(),x.documentChanges.forEach((function(x){if(me.is(x)){var M=new St(x.edits,I._changeAnnotations);I._textEditChanges[x.textDocument.uri]=M}}))):x.changes&&Object.keys(x.changes).forEach((function(M){var V=new St(x.changes[M]);I._textEditChanges[M]=V}))):this._workspaceEdit={}}Object.defineProperty(t.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),t.prototype.getTextEditChange=function(x){if(Ve.is(x)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var I={uri:x.uri,version:x.version};if(!(V=this._textEditChanges[I.uri])){var M={textDocument:I,edits:F=[]};this._workspaceEdit.documentChanges.push(M),V=new St(F,this._changeAnnotations),this._textEditChanges[I.uri]=V}return V}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var V;if(!(V=this._textEditChanges[x])){var F=[];this._workspaceEdit.changes[x]=F,V=new St(F),this._textEditChanges[x]=V}return V},t.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new At,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},t.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},t.prototype.createFile=function(x,I,M){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var V,F,R;if(fe.is(I)||le.is(I)?V=I:M=I,void 0===V?F=ye.create(x,M):(R=le.is(V)?V:this._changeAnnotations.manage(V),F=ye.create(x,M,R)),this._workspaceEdit.documentChanges.push(F),void 0!==R)return R},t.prototype.renameFile=function(x,I,M,V){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var F,R,D;if(fe.is(M)||le.is(M)?F=M:V=M,void 0===F?R=Se.create(x,I,V):(D=le.is(F)?F:this._changeAnnotations.manage(F),R=Se.create(x,I,V,D)),this._workspaceEdit.documentChanges.push(R),void 0!==D)return D},t.prototype.deleteFile=function(x,I,M){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var V,F,R;if(fe.is(I)||le.is(I)?V=I:M=I,void 0===V?F=Ae.create(x,M):(R=le.is(V)?V:this._changeAnnotations.manage(V),F=Ae.create(x,M,R)),this._workspaceEdit.documentChanges.push(F),void 0!==R)return R}}();!function(x){x.create=function r(x){return{uri:x}},x.is=function i(x){var I=x;return kt.defined(I)&&kt.string(I.uri)}}(Me||(Me={})),function(x){x.create=function r(x,I){return{uri:x,version:I}},x.is=function i(x){var I=x;return kt.defined(I)&&kt.string(I.uri)&&kt.integer(I.version)}}(Ne||(Ne={})),function(x){x.create=function r(x,I){return{uri:x,version:I}},x.is=function i(x){var I=x;return kt.defined(I)&&kt.string(I.uri)&&(null===I.version||kt.integer(I.version))}}(Ve||(Ve={})),function(x){x.create=function r(x,I,M,V){return{uri:x,languageId:I,version:M,text:V}},x.is=function i(x){var I=x;return kt.defined(I)&&kt.string(I.uri)&&kt.string(I.languageId)&&kt.integer(I.version)&&kt.string(I.text)}}(Re||(Re={})),function(x){x.PlainText="plaintext",x.Markdown="markdown"}(De||(De={})),function(x){x.is=function r(I){var M=I;return M===x.PlainText||M===x.Markdown}}(De||(De={})),function(x){x.is=function r(x){var I=x;return kt.objectLiteral(x)&&De.is(I.kind)&&kt.string(I.value)}}(Le||(Le={})),function(x){x.Text=1,x.Method=2,x.Function=3,x.Constructor=4,x.Field=5,x.Variable=6,x.Class=7,x.Interface=8,x.Module=9,x.Property=10,x.Unit=11,x.Value=12,x.Enum=13,x.Keyword=14,x.Snippet=15,x.Color=16,x.File=17,x.Reference=18,x.Folder=19,x.EnumMember=20,x.Constant=21,x.Struct=22,x.Event=23,x.Operator=24,x.TypeParameter=25}($e||($e={})),function(x){x.PlainText=1,x.Snippet=2}(Ue||(Ue={})),function(x){x.Deprecated=1}(We||(We={})),function(x){x.create=function r(x,I,M){return{newText:x,insert:I,replace:M}},x.is=function i(x){var I=x;return I&&kt.string(I.newText)&&q.is(I.insert)&&q.is(I.replace)}}(Be||(Be={})),function(x){x.asIs=1,x.adjustIndentation=2}(Ke||(Ke={})),function(x){x.create=function r(x){return{label:x}}}(Je||(Je={})),function(x){x.create=function r(x,I){return{items:x||[],isIncomplete:!!I}}}(ze||(ze={})),function(x){x.fromPlainText=function r(x){return x.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},x.is=function i(x){var I=x;return kt.string(I)||kt.objectLiteral(I)&&kt.string(I.language)&&kt.string(I.value)}}(He||(He={})),function(x){x.is=function r(x){var I=x;return!!I&&kt.objectLiteral(I)&&(Le.is(I.contents)||He.is(I.contents)||kt.typedArray(I.contents,He.is))&&(void 0===x.range||q.is(x.range))}}(Ge||(Ge={})),function(x){x.create=function r(x,I){return I?{label:x,documentation:I}:{label:x}}}(Xe||(Xe={})),function(x){x.create=function r(x,I){for(var M=[],V=2;V<arguments.length;V++)M[V-2]=arguments[V];var F={label:x};return kt.defined(I)&&(F.documentation=I),kt.defined(M)?F.parameters=M:F.parameters=[],F}}(Ze||(Ze={})),function(x){x.Text=1,x.Read=2,x.Write=3}(Qe||(Qe={})),function(x){x.create=function r(x,I){var M={range:x};return kt.number(I)&&(M.kind=I),M}}(Ye||(Ye={})),function(x){x.File=1,x.Module=2,x.Namespace=3,x.Package=4,x.Class=5,x.Method=6,x.Property=7,x.Field=8,x.Constructor=9,x.Enum=10,x.Interface=11,x.Function=12,x.Variable=13,x.Constant=14,x.String=15,x.Number=16,x.Boolean=17,x.Array=18,x.Object=19,x.Key=20,x.Null=21,x.EnumMember=22,x.Struct=23,x.Event=24,x.Operator=25,x.TypeParameter=26}(nt||(nt={})),function(x){x.Deprecated=1}(rt||(rt={})),function(x){x.create=function r(x,I,M,V,F){var R={name:x,kind:I,location:{uri:V,range:M}};return F&&(R.containerName=F),R}}(it||(it={})),function(x){x.create=function r(x,I,M,V,F,R){var D={name:x,detail:I,kind:M,range:V,selectionRange:F};return void 0!==R&&(D.children=R),D},x.is=function i(x){var I=x;return I&&kt.string(I.name)&&kt.number(I.kind)&&q.is(I.range)&&q.is(I.selectionRange)&&(void 0===I.detail||kt.string(I.detail))&&(void 0===I.deprecated||kt.boolean(I.deprecated))&&(void 0===I.children||Array.isArray(I.children))&&(void 0===I.tags||Array.isArray(I.tags))}}(at||(at={})),function(x){x.Empty="",x.QuickFix="quickfix",x.Refactor="refactor",x.RefactorExtract="refactor.extract",x.RefactorInline="refactor.inline",x.RefactorRewrite="refactor.rewrite",x.Source="source",x.SourceOrganizeImports="source.organizeImports",x.SourceFixAll="source.fixAll"}(st||(st={})),function(x){x.create=function r(x,I){var M={diagnostics:x};return null!=I&&(M.only=I),M},x.is=function i(x){var I=x;return kt.defined(I)&&kt.typedArray(I.diagnostics,ae.is)&&(void 0===I.only||kt.typedArray(I.only,kt.string))}}(ct||(ct={})),function(x){x.create=function r(x,I,M){var V={title:x},F=!0;return"string"==typeof I?(F=!1,V.kind=I):ce.is(I)?V.command=I:V.edit=I,F&&void 0!==M&&(V.kind=M),V},x.is=function i(x){var I=x;return I&&kt.string(I.title)&&(void 0===I.diagnostics||kt.typedArray(I.diagnostics,ae.is))&&(void 0===I.kind||kt.string(I.kind))&&(void 0!==I.edit||void 0!==I.command)&&(void 0===I.command||ce.is(I.command))&&(void 0===I.isPreferred||kt.boolean(I.isPreferred))&&(void 0===I.edit||ke.is(I.edit))}}(ut||(ut={})),function(x){x.create=function r(x,I){var M={range:x};return kt.defined(I)&&(M.data=I),M},x.is=function i(x){var I=x;return kt.defined(I)&&q.is(I.range)&&(kt.undefined(I.command)||ce.is(I.command))}}(ft||(ft={})),function(x){x.create=function r(x,I){return{tabSize:x,insertSpaces:I}},x.is=function i(x){var I=x;return kt.defined(I)&&kt.uinteger(I.tabSize)&&kt.boolean(I.insertSpaces)}}(vt||(vt={})),function(x){x.create=function r(x,I,M){return{range:x,target:I,data:M}},x.is=function i(x){var I=x;return kt.defined(I)&&q.is(I.range)&&(kt.undefined(I.target)||kt.string(I.target))}}(yt||(yt={})),function(x){x.create=function r(x,I){return{range:x,parent:I}},x.is=function i(I){var M=I;return void 0!==M&&q.is(M.range)&&(void 0===M.parent||x.is(M.parent))}}(bt||(bt={})),function(x){function n(x,I){if(x.length<=1)return x;var M=x.length/2|0,V=x.slice(0,M),F=x.slice(M);n(V,I),n(F,I);for(var R=0,D=0,L=0;R<V.length&&D<F.length;){var $=I(V[R],F[D]);x[L++]=$<=0?V[R++]:F[D++]}for(;R<V.length;)x[L++]=V[R++];for(;D<F.length;)x[L++]=F[D++];return x}x.create=function r(x,I,M,V){return new Ct(x,I,M,V)},x.is=function i(x){var I=x;return!!(kt.defined(I)&&kt.string(I.uri)&&(kt.undefined(I.languageId)||kt.string(I.languageId))&&kt.uinteger(I.lineCount)&&kt.func(I.getText)&&kt.func(I.positionAt)&&kt.func(I.offsetAt))},x.applyEdits=function e(x,I){for(var M=x.getText(),V=n(I,(function(x,I){var M=x.range.start.line-I.range.start.line;return 0===M?x.range.start.character-I.range.start.character:M})),F=M.length,R=V.length-1;R>=0;R--){var D=V[R],L=x.offsetAt(D.range.start),$=x.offsetAt(D.range.end);if(!($<=F))throw new Error("Overlapping edit");M=M.substring(0,L)+D.newText+M.substring($,M.length),F=L}return M}}(xt||(xt={}));var kt,Ct=function(){function t(x,I,M,V){this._uri=x,this._languageId=I,this._version=M,this._content=V,this._lineOffsets=void 0}return Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),t.prototype.getText=function(x){if(x){var I=this.offsetAt(x.start),M=this.offsetAt(x.end);return this._content.substring(I,M)}return this._content},t.prototype.update=function(x,I){this._content=x.text,this._version=I,this._lineOffsets=void 0},t.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var x=[],I=this._content,M=!0,V=0;V<I.length;V++){M&&(x.push(V),M=!1);var F=I.charAt(V);M="\r"===F||"\n"===F,"\r"===F&&V+1<I.length&&"\n"===I.charAt(V+1)&&V++}M&&I.length>0&&x.push(I.length),this._lineOffsets=x}return this._lineOffsets},t.prototype.positionAt=function(x){x=Math.max(Math.min(x,this._content.length),0);var I=this.getLineOffsets(),M=0,V=I.length;if(0===V)return W.create(0,x);for(;M<V;){var F=Math.floor((M+V)/2);I[F]>x?V=F:M=F+1}var R=M-1;return W.create(R,x-I[R])},t.prototype.offsetAt=function(x){var I=this.getLineOffsets();if(x.line>=I.length)return this._content.length;if(x.line<0)return 0;var M=I[x.line],V=x.line+1<I.length?I[x.line+1]:this._content.length;return Math.max(Math.min(M+x.character,V),M)},Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),t}();!function(x){var I=Object.prototype.toString;x.defined=function i(x){return typeof x<"u"},x.undefined=function e(x){return typeof x>"u"},x.boolean=function n(x){return!0===x||!1===x},x.string=function a(x){return"[object String]"===I.call(x)},x.number=function s(x){return"[object Number]"===I.call(x)},x.numberRange=function o(x,M,V){return"[object Number]"===I.call(x)&&M<=x&&x<=V},x.integer=function f(x){return"[object Number]"===I.call(x)&&-2147483648<=x&&x<=2147483647},x.uinteger=function l(x){return"[object Number]"===I.call(x)&&0<=x&&x<=2147483647},x.func=function u(x){return"[object Function]"===I.call(x)},x.objectLiteral=function c(x){return null!==x&&"object"==typeof x},x.typedArray=function h(x,I){return Array.isArray(x)&&x.every(I)}}(kt||(kt={}));var Tt,wt,Ot,Et=class{constructor(x,I,M,V){this._uri=x,this._languageId=I,this._version=M,this._content=V,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(x){if(x){let I=this.offsetAt(x.start),M=this.offsetAt(x.end);return this._content.substring(I,M)}return this._content}update(x,I){for(let I of x)if(Et.isIncremental(I)){let x=xr(I.range),M=this.offsetAt(x.start),V=this.offsetAt(x.end);this._content=this._content.substring(0,M)+I.text+this._content.substring(V,this._content.length);let F=Math.max(x.start.line,0),R=Math.max(x.end.line,0),D=this._lineOffsets,L=br(I.text,!1,M);if(R-F===L.length)for(let x=0,I=L.length;x<I;x++)D[x+F+1]=L[x];else L.length<1e4?D.splice(F+1,R-F,...L):this._lineOffsets=D=D.slice(0,F+1).concat(L,D.slice(R+1));let $=I.text.length-(V-M);if(0!==$)for(let x=F+1+L.length,I=D.length;x<I;x++)D[x]=D[x]+$}else{if(!Et.isFull(I))throw new Error("Unknown change event received");this._content=I.text,this._lineOffsets=void 0}this._version=I}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=br(this._content,!0)),this._lineOffsets}positionAt(x){x=Math.max(Math.min(x,this._content.length),0);let I=this.getLineOffsets(),M=0,V=I.length;if(0===V)return{line:0,character:x};for(;M<V;){let F=Math.floor((M+V)/2);I[F]>x?V=F:M=F+1}let F=M-1;return{line:F,character:x-I[F]}}offsetAt(x){let I=this.getLineOffsets();if(x.line>=I.length)return this._content.length;if(x.line<0)return 0;let M=I[x.line],V=x.line+1<I.length?I[x.line+1]:this._content.length;return Math.max(Math.min(M+x.character,V),M)}get lineCount(){return this.getLineOffsets().length}static isIncremental(x){let I=x;return null!=I&&"string"==typeof I.text&&void 0!==I.range&&(void 0===I.rangeLength||"number"==typeof I.rangeLength)}static isFull(x){let I=x;return null!=I&&"string"==typeof I.text&&void 0===I.range&&void 0===I.rangeLength}};function Ft(x,I){if(x.length<=1)return x;let M=x.length/2|0,V=x.slice(0,M),F=x.slice(M);Ft(V,I),Ft(F,I);let R=0,D=0,L=0;for(;R<V.length&&D<F.length;)I(V[R],F[D])<=0?x[L++]=V[R++]:x[L++]=F[D++];for(;R<V.length;)x[L++]=V[R++];for(;D<F.length;)x[L++]=F[D++];return x}function br(x,I,M=0){let V=I?[M]:[];for(let I=0;I<x.length;I++){let F=x.charCodeAt(I);(13===F||10===F)&&(13===F&&I+1<x.length&&10===x.charCodeAt(I+1)&&I++,V.push(M+I+1))}return V}function xr(x){let I=x.start,M=x.end;return I.line>M.line||I.line===M.line&&I.character>M.character?{start:M,end:I}:x}function hn(x){let I=xr(x.range);return I!==x.range?{newText:x.newText,range:I}:x}function gn(x,I,...M){return function dn(x,I){let M;return M=0===I.length?x:x.replace(/\{(\d+)\}/g,((x,M)=>{let V=M[0];return typeof I[V]<"u"?I[V]:x})),M}(I,M)}function he(x){return gn}!function(x){x.create=function r(x,I,M,V){return new Et(x,I,M,V)},x.update=function i(x,I,M){if(x instanceof Et)return x.update(I,M),x;throw new Error("TextDocument.update: document must be created by TextDocument.create")},x.applyEdits=function e(x,I){let M=x.getText(),V=Ft(I.map(hn),((x,I)=>{let M=x.range.start.line-I.range.start.line;return 0===M?x.range.start.character-I.range.start.character:M})),F=0,R=[];for(let I of V){let V=x.offsetAt(I.range.start);if(V<F)throw new Error("Overlapping edit");V>F&&R.push(M.substring(F,V)),I.newText.length&&R.push(I.newText),F=x.offsetAt(I.range.end)}return R.push(M.substr(F)),R.join("")}}(Tt||(Tt={})),function(x){x[x.Undefined=0]="Undefined",x[x.EnumValueMismatch=1]="EnumValueMismatch",x[x.Deprecated=2]="Deprecated",x[x.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",x[x.UnexpectedEndOfString=258]="UnexpectedEndOfString",x[x.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",x[x.InvalidUnicode=260]="InvalidUnicode",x[x.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",x[x.InvalidCharacter=262]="InvalidCharacter",x[x.PropertyExpected=513]="PropertyExpected",x[x.CommaExpected=514]="CommaExpected",x[x.ColonExpected=515]="ColonExpected",x[x.ValueExpected=516]="ValueExpected",x[x.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",x[x.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",x[x.TrailingComma=519]="TrailingComma",x[x.DuplicateKey=520]="DuplicateKey",x[x.CommentNotPermitted=521]="CommentNotPermitted",x[x.SchemaResolveError=768]="SchemaResolveError"}(wt||(wt={})),function(x){x.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[De.Markdown,De.PlainText],commitCharactersSupport:!0}}}}}(Ot||(Ot={}));var It,jt=function(){var t=function(x,I){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,I){x.__proto__=I}||function(x,I){for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(x[M]=I[M])})(x,I)};return function(x,I){if("function"!=typeof I&&null!==I)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function e(){this.constructor=x}t(x,I),x.prototype=null===I?Object.create(I):(e.prototype=I.prototype,new e)}}(),Pt=he(),_t={"color-hex":{errorMessage:Pt("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:Pt("dateTimeFormatWarning","String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:Pt("dateFormatWarning","String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:Pt("timeFormatWarning","String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:Pt("emailFormatWarning","String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}))$/},hostname:{errorMessage:Pt("hostnameFormatWarning","String is not a hostname."),pattern:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i},ipv4:{errorMessage:Pt("ipv4FormatWarning","String is not an IPv4 address."),pattern:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/},ipv6:{errorMessage:Pt("ipv6FormatWarning","String is not an IPv6 address."),pattern:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i}},Mt=function(){function t(x,I,M){void 0===M&&(M=0),this.offset=I,this.length=M,this.parent=x}return Object.defineProperty(t.prototype,"children",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")},t}(),Nt=function(x){function r(I,M){var V=x.call(this,I,M)||this;return V.type="null",V.value=null,V}return jt(r,x),r}(Mt),Vt=function(x){function r(I,M,V){var F=x.call(this,I,V)||this;return F.type="boolean",F.value=M,F}return jt(r,x),r}(Mt),Lt=function(x){function r(I,M){var V=x.call(this,I,M)||this;return V.type="array",V.items=[],V}return jt(r,x),Object.defineProperty(r.prototype,"children",{get:function(){return this.items},enumerable:!1,configurable:!0}),r}(Mt),$t=function(x){function r(I,M){var V=x.call(this,I,M)||this;return V.type="number",V.isInteger=!0,V.value=Number.NaN,V}return jt(r,x),r}(Mt),Ut=function(x){function r(I,M,V){var F=x.call(this,I,M,V)||this;return F.type="string",F.value="",F}return jt(r,x),r}(Mt),qt=function(x){function r(I,M,V){var F=x.call(this,I,M)||this;return F.type="property",F.colonOffset=-1,F.keyNode=V,F}return jt(r,x),Object.defineProperty(r.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!1,configurable:!0}),r}(Mt),Bt=function(x){function r(I,M){var V=x.call(this,I,M)||this;return V.type="object",V.properties=[],V}return jt(r,x),Object.defineProperty(r.prototype,"children",{get:function(){return this.properties},enumerable:!1,configurable:!0}),r}(Mt);function K(x){return ie(x)?x?{}:{not:{}}:x}!function(x){x[x.Key=0]="Key",x[x.Enum=1]="Enum"}(It||(It={}));var Kt=function(){function t(x,I){void 0===x&&(x=-1),this.focusOffset=x,this.exclude=I,this.schemas=[]}return t.prototype.add=function(x){this.schemas.push(x)},t.prototype.merge=function(x){Array.prototype.push.apply(this.schemas,x.schemas)},t.prototype.include=function(x){return(-1===this.focusOffset||Dt(x,this.focusOffset))&&x!==this.exclude},t.prototype.newSub=function(){return new t(-1,this.exclude)},t}(),Jt=function(){function t(){}return Object.defineProperty(t.prototype,"schemas",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.add=function(x){},t.prototype.merge=function(x){},t.prototype.include=function(x){return!0},t.prototype.newSub=function(){return this},t.instance=new t,t}(),zt=function(){function t(){this.problems=[],this.propertiesMatches=0,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=void 0}return t.prototype.hasProblems=function(){return!!this.problems.length},t.prototype.mergeAll=function(x){for(var I=0,M=x;I<M.length;I++){var V=M[I];this.merge(V)}},t.prototype.merge=function(x){this.problems=this.problems.concat(x.problems)},t.prototype.mergeEnumValues=function(x){if(!this.enumValueMatch&&!x.enumValueMatch&&this.enumValues&&x.enumValues){this.enumValues=this.enumValues.concat(x.enumValues);for(var I=0,M=this.problems;I<M.length;I++){var V=M[I];V.code===wt.EnumValueMismatch&&(V.message=Pt("enumWarning","Value is not accepted. Valid values: {0}.",this.enumValues.map((function(x){return JSON.stringify(x)})).join(", ")))}}},t.prototype.mergePropertyMatch=function(x){this.merge(x),this.propertiesMatches++,(x.enumValueMatch||!x.hasProblems()&&x.propertiesMatches)&&this.propertiesValueMatches++,x.enumValueMatch&&x.enumValues&&1===x.enumValues.length&&this.primaryValueMatches++},t.prototype.compare=function(x){var I=this.hasProblems();return I!==x.hasProblems()?I?-1:1:this.enumValueMatch!==x.enumValueMatch?x.enumValueMatch?-1:1:this.primaryValueMatches!==x.primaryValueMatches?this.primaryValueMatches-x.primaryValueMatches:this.propertiesValueMatches!==x.propertiesValueMatches?this.propertiesValueMatches-x.propertiesValueMatches:this.propertiesMatches-x.propertiesMatches},t}();function ge(x){return je(x)}function qe(x){return Ie(x)}function Dt(x,I,M){return void 0===M&&(M=!1),I>=x.offset&&I<x.offset+x.length||M&&I===x.offset+x.length}var Ht=function(){function t(x,I,M){void 0===I&&(I=[]),void 0===M&&(M=[]),this.root=x,this.syntaxErrors=I,this.comments=M}return t.prototype.getNodeFromOffset=function(x,I){if(void 0===I&&(I=!1),this.root)return Ee(this.root,x,I)},t.prototype.visit=function(x){if(this.root){var i=function(I){var M=x(I),V=I.children;if(Array.isArray(V))for(var F=0;F<V.length&&M;F++)M=i(V[F]);return M};i(this.root)}},t.prototype.validate=function(x,I,M){if(void 0===M&&(M=ne.Warning),this.root&&I){var V=new zt;return _(this.root,I,V,Jt.instance),V.problems.map((function(I){var V,F=q.create(x.positionAt(I.location.offset),x.positionAt(I.location.offset+I.location.length));return ae.create(F,I.message,null!==(V=I.severity)&&void 0!==V?V:M,I.code)}))}},t.prototype.getMatchingSchemas=function(x,I,M){void 0===I&&(I=-1);var V=new Kt(I,M);return this.root&&x&&_(this.root,x,new zt,V),V.schemas},t}();function _(x,I,M,V){if(x&&V.include(x)){var F=x;switch(F.type){case"object":!function l(x,I,M,V){for(var F=Object.create(null),R=[],D=0,L=x.properties;D<L.length;D++){F[je=(X=L[D]).keyNode.value]=X.valueNode,R.push(je)}if(Array.isArray(I.required))for(var $=0,U=I.required;$<U.length;$++){if(!F[oe=U[$]]){var W=x.parent&&"property"===x.parent.type&&x.parent.keyNode,q=W?{offset:W.offset,length:W.length}:{offset:x.offset,length:1};M.problems.push({location:q,message:Pt("MissingRequiredPropWarning",'Missing property "{0}".',oe)})}}var w=function(x){for(var I=R.indexOf(x);I>=0;)R.splice(I,1),I=R.indexOf(x)};if(I.properties)for(var J=0,z=Object.keys(I.properties);J<z.length;J++){w(oe=z[J]);var G=I.properties[oe];if(de=F[oe])if(ie(G))if(G)M.propertiesMatches++,M.propertiesValueMatches++;else{var X=de.parent;M.problems.push({location:{offset:X.keyNode.offset,length:X.keyNode.length},message:I.errorMessage||Pt("DisallowedExtraPropWarning","Property {0} is not allowed.",oe)})}else{_(de,G,ue=new zt,V),M.mergePropertyMatch(ue)}}if(I.patternProperties)for(var Z=0,Q=Object.keys(I.patternProperties);Z<Q.length;Z++)for(var Y=Q[Z],te=xe(Y),ne=0,re=R.slice(0);ne<re.length;ne++){var oe=re[ne];if(null==te?void 0:te.test(oe))if(w(oe),de=F[oe])if(ie(G=I.patternProperties[Y]))if(G)M.propertiesMatches++,M.propertiesValueMatches++;else{X=de.parent;M.problems.push({location:{offset:X.keyNode.offset,length:X.keyNode.length},message:I.errorMessage||Pt("DisallowedExtraPropWarning","Property {0} is not allowed.",oe)})}else _(de,G,ue=new zt,V),M.mergePropertyMatch(ue)}if("object"==typeof I.additionalProperties)for(var ae=0,ce=R;ae<ce.length;ae++){if(de=F[oe=ce[ae]]){var ue=new zt;_(de,I.additionalProperties,ue,V),M.mergePropertyMatch(ue)}}else if(!1===I.additionalProperties&&R.length>0)for(var fe=0,le=R;fe<le.length;fe++){var de;if(de=F[oe=le[fe]]){X=de.parent;M.problems.push({location:{offset:X.keyNode.offset,length:X.keyNode.length},message:I.errorMessage||Pt("DisallowedExtraPropWarning","Property {0} is not allowed.",oe)})}}if(ee(I.maxProperties)&&x.properties.length>I.maxProperties&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("MaxPropWarning","Object has more properties than limit of {0}.",I.maxProperties)}),ee(I.minProperties)&&x.properties.length<I.minProperties&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("MinPropWarning","Object has fewer properties than the required number of {0}",I.minProperties)}),I.dependencies)for(var me=0,ye=Object.keys(I.dependencies);me<ye.length;me++){if(F[je=ye[me]]){var Se=I.dependencies[je];if(Array.isArray(Se))for(var Ae=0,ke=Se;Ae<ke.length;Ae++){var Te=ke[Ae];F[Te]?M.propertiesValueMatches++:M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",Te,je)})}else if(G=K(Se))_(x,G,ue=new zt,V),M.mergePropertyMatch(ue)}}var we=K(I.propertyNames);if(we)for(var Ee=0,Ie=x.properties;Ee<Ie.length;Ee++){var je;(je=Ie[Ee].keyNode)&&_(je,we,M,Jt.instance)}}(F,I,M,V);break;case"array":!function f(x,I,M,V){if(Array.isArray(I.items)){for(var F=I.items,R=0;R<F.length;R++){var D=K(F[R]),L=new zt;(J=x.items[R])?(_(J,D,L,V),M.mergePropertyMatch(L)):x.items.length>=F.length&&M.propertiesValueMatches++}if(x.items.length>F.length)if("object"==typeof I.additionalItems)for(var $=F.length;$<x.items.length;$++){L=new zt;_(x.items[$],I.additionalItems,L,V),M.mergePropertyMatch(L)}else!1===I.additionalItems&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",F.length)})}else{var U=K(I.items);if(U)for(var W=0,q=x.items;W<q.length;W++){var J;_(J=q[W],U,L=new zt,V),M.mergePropertyMatch(L)}}var z=K(I.contains);if(z){x.items.some((function(x){var I=new zt;return _(x,z,I,Jt.instance),!I.hasProblems()}))||M.problems.push({location:{offset:x.offset,length:x.length},message:I.errorMessage||Pt("requiredItemMissingWarning","Array does not contain required item.")})}if(ee(I.minItems)&&x.items.length<I.minItems&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("minItemsWarning","Array has too few items. Expected {0} or more.",I.minItems)}),ee(I.maxItems)&&x.items.length>I.maxItems&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("maxItemsWarning","Array has too many items. Expected {0} or fewer.",I.maxItems)}),!0===I.uniqueItems){var G=ge(x);G.some((function(x,I){return I!==G.lastIndexOf(x)}))&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("uniqueItemsWarning","Array has duplicate items.")})}}(F,I,M,V);break;case"string":!function o(x,I,M,V){if(ee(I.minLength)&&x.value.length<I.minLength&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("minLengthWarning","String is shorter than the minimum length of {0}.",I.minLength)}),ee(I.maxLength)&&x.value.length>I.maxLength&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("maxLengthWarning","String is longer than the maximum length of {0}.",I.maxLength)}),function rr(x){return"string"==typeof x}(I.pattern)){var F=xe(I.pattern);(null==F?void 0:F.test(x.value))||M.problems.push({location:{offset:x.offset,length:x.length},message:I.patternErrorMessage||I.errorMessage||Pt("patternWarning",'String does not match the pattern of "{0}".',I.pattern)})}if(I.format)switch(I.format){case"uri":case"uri-reference":var R=void 0;if(x.value){var D=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(x.value);D?!D[2]&&"uri"===I.format&&(R=Pt("uriSchemeMissing","URI with a scheme is expected.")):R=Pt("uriMissing","URI is expected.")}else R=Pt("uriEmpty","URI expected.");R&&M.problems.push({location:{offset:x.offset,length:x.length},message:I.patternErrorMessage||I.errorMessage||Pt("uriFormatWarning","String is not a URI: {0}",R)});break;case"color-hex":case"date-time":case"date":case"time":case"email":case"hostname":case"ipv4":case"ipv6":var L=_t[I.format];(!x.value||!L.pattern.exec(x.value))&&M.problems.push({location:{offset:x.offset,length:x.length},message:I.patternErrorMessage||I.errorMessage||L.errorMessage})}}(F,I,M);break;case"number":!function s(x,I,M,V){var F=x.value;function p(x){var I,M=/^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(x.toString());return M&&{value:Number(M[1]+(M[2]||"")),multiplier:((null===(I=M[2])||void 0===I?void 0:I.length)||0)-(parseInt(M[3])||0)}}if(ee(I.multipleOf)){var R=-1;if(Number.isInteger(I.multipleOf))R=F%I.multipleOf;else{var D=p(I.multipleOf),L=p(F);if(D&&L){var $=Math.pow(10,Math.abs(L.multiplier-D.multiplier));L.multiplier<D.multiplier?L.value*=$:D.value*=$,R=L.value%D.value}}0!==R&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("multipleOfWarning","Value is not divisible by {0}.",I.multipleOf)})}function O(x,I){return ee(I)?I:ie(I)&&I?x:void 0}function E(x,I){if(!ie(I)||!I)return x}var U=O(I.minimum,I.exclusiveMinimum);ee(U)&&F<=U&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",U)});var W=O(I.maximum,I.exclusiveMaximum);ee(W)&&F>=W&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",W)});var q=E(I.minimum,I.exclusiveMinimum);ee(q)&&F<q&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("minimumWarning","Value is below the minimum of {0}.",q)});var J=E(I.maximum,I.exclusiveMaximum);ee(J)&&F>J&&M.problems.push({location:{offset:x.offset,length:x.length},message:Pt("maximumWarning","Value is above the maximum of {0}.",J)})}(F,I,M);break;case"property":return _(F.valueNode,I,M,V)}(function a(){function u(x){return F.type===x||"integer"===x&&"number"===F.type&&F.isInteger}if(Array.isArray(I.type)?I.type.some(u)||M.problems.push({location:{offset:F.offset,length:F.length},message:I.errorMessage||Pt("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",I.type.join(", "))}):I.type&&(u(I.type)||M.problems.push({location:{offset:F.offset,length:F.length},message:I.errorMessage||Pt("typeMismatchWarning",'Incorrect type. Expected "{0}".',I.type)})),Array.isArray(I.allOf))for(var x=0,R=I.allOf;x<R.length;x++){var D=R[x];_(F,K(D),M,V)}var L=K(I.not);if(L){var $=new zt,U=V.newSub();_(F,L,$,U),$.hasProblems()||M.problems.push({location:{offset:F.offset,length:F.length},message:Pt("notSchemaWarning","Matches a schema that is not allowed.")});for(var W=0,q=U.schemas;W<q.length;W++){var J=q[W];J.inverted=!J.inverted,V.add(J)}}var O=function(x,I){for(var R=[],D=void 0,L=0,$=x;L<$.length;L++){var U=K($[L]),W=new zt,q=V.newSub();if(_(F,U,W,q),W.hasProblems()||R.push(U),D)if(I||W.hasProblems()||D.validationResult.hasProblems()){var J=W.compare(D.validationResult);J>0?D={schema:U,validationResult:W,matchingSchemas:q}:0===J&&(D.matchingSchemas.merge(q),D.validationResult.mergeEnumValues(W))}else D.matchingSchemas.merge(q),D.validationResult.propertiesMatches+=W.propertiesMatches,D.validationResult.propertiesValueMatches+=W.propertiesValueMatches;else D={schema:U,validationResult:W,matchingSchemas:q}}return R.length>1&&I&&M.problems.push({location:{offset:F.offset,length:1},message:Pt("oneOfWarning","Matches multiple schemas when only one must validate.")}),D&&(M.merge(D.validationResult),M.propertiesMatches+=D.validationResult.propertiesMatches,M.propertiesValueMatches+=D.validationResult.propertiesValueMatches,V.merge(D.matchingSchemas)),R.length};Array.isArray(I.anyOf)&&O(I.anyOf,!1),Array.isArray(I.oneOf)&&O(I.oneOf,!0);var E=function(x){var I=new zt,R=V.newSub();_(F,K(x),I,R),M.merge(I),M.propertiesMatches+=I.propertiesMatches,M.propertiesValueMatches+=I.propertiesValueMatches,V.merge(R)},z=K(I.if);if(z&&(Y=z,te=K(I.then),re=K(I.else),oe=K(Y),ae=new zt,ce=V.newSub(),_(F,oe,ae,ce),V.merge(ce),ae.hasProblems()?re&&E(re):te&&E(te)),Array.isArray(I.enum)){for(var G=ge(F),X=!1,Z=0,Q=I.enum;Z<Q.length;Z++){if(Pe(G,Q[Z])){X=!0;break}}M.enumValues=I.enum,M.enumValueMatch=X,X||M.problems.push({location:{offset:F.offset,length:F.length},code:wt.EnumValueMismatch,message:I.errorMessage||Pt("enumWarning","Value is not accepted. Valid values: {0}.",I.enum.map((function(x){return JSON.stringify(x)})).join(", "))})}var Y,te,re,oe,ae,ce;if(se(I.const)){Pe(G=ge(F),I.const)?M.enumValueMatch=!0:(M.problems.push({location:{offset:F.offset,length:F.length},code:wt.EnumValueMismatch,message:I.errorMessage||Pt("constWarning","Value must be {0}.",JSON.stringify(I.const))}),M.enumValueMatch=!1),M.enumValues=[I.const]}I.deprecationMessage&&F.parent&&M.problems.push({location:{offset:F.parent.offset,length:F.parent.length},severity:ne.Warning,message:I.deprecationMessage,code:wt.Deprecated})})(),V.add({node:F,schema:I})}}function Or(x,I){var M=[],V=-1,F=x.getText(),R=Te(F,!1),D=I&&I.collectComments?[]:void 0;function o(){for(;;){var I=R.scan();switch(c(),I){case 12:case 13:Array.isArray(D)&&D.push(q.create(x.positionAt(R.getTokenOffset()),x.positionAt(R.getTokenOffset()+R.getTokenLength())));break;case 15:case 14:break;default:return I}}}function l(I,F,R,D,L){if(void 0===L&&(L=ne.Error),0===M.length||R!==V){var $=q.create(x.positionAt(R),x.positionAt(D));M.push(ae.create($,I,L,F,x.languageId)),V=R}}function u(x,I,M,V,D){void 0===M&&(M=void 0),void 0===V&&(V=[]),void 0===D&&(D=[]);var L=R.getTokenOffset(),$=R.getTokenOffset()+R.getTokenLength();if(L===$&&L>0){for(L--;L>0&&/\s/.test(F.charAt(L));)L--;$=L+1}if(l(x,I,L,$),M&&h(M,!1),V.length+D.length>0)for(var U=R.getToken();17!==U;){if(-1!==V.indexOf(U)){o();break}if(-1!==D.indexOf(U))break;U=o()}return M}function c(){switch(R.getTokenError()){case 4:return u(Pt("InvalidUnicode","Invalid unicode sequence in string."),wt.InvalidUnicode),!0;case 5:return u(Pt("InvalidEscapeCharacter","Invalid escape character in string."),wt.InvalidEscapeCharacter),!0;case 3:return u(Pt("UnexpectedEndOfNumber","Unexpected end of number."),wt.UnexpectedEndOfNumber),!0;case 1:return u(Pt("UnexpectedEndOfComment","Unexpected end of comment."),wt.UnexpectedEndOfComment),!0;case 2:return u(Pt("UnexpectedEndOfString","Unexpected end of string."),wt.UnexpectedEndOfString),!0;case 6:return u(Pt("InvalidCharacter","Invalid characters in string. Control characters must be escaped."),wt.InvalidCharacter),!0}return!1}function h(x,I){return x.length=R.getTokenOffset()+R.getTokenLength()-x.offset,I&&o(),x}var L=new Ut(void 0,0,0);function p(I,M){var V=new qt(I,R.getTokenOffset(),L),F=b(V);if(!F){if(16!==R.getToken())return;u(Pt("DoubleQuotesExpected","Property keys must be doublequoted"),wt.Undefined);var D=new Ut(V,R.getTokenOffset(),R.getTokenLength());D.value=R.getTokenValue(),F=D,o()}V.keyNode=F;var $=M[F.value];if($?(l(Pt("DuplicateKeyWarning","Duplicate object key"),wt.DuplicateKey,V.keyNode.offset,V.keyNode.offset+V.keyNode.length,ne.Warning),"object"==typeof $&&l(Pt("DuplicateKeyWarning","Duplicate object key"),wt.DuplicateKey,$.keyNode.offset,$.keyNode.offset+$.keyNode.length,ne.Warning),M[F.value]=!0):M[F.value]=V,6===R.getToken())V.colonOffset=R.getTokenOffset(),o();else if(u(Pt("ColonExpected","Colon expected"),wt.ColonExpected),10===R.getToken()&&x.positionAt(F.offset+F.length).line<x.positionAt(R.getTokenOffset()).line)return V.length=F.length,V;var U=O(V);return U?(V.valueNode=U,V.length=U.offset+U.length-V.offset,V):u(Pt("ValueExpected","Value expected"),wt.ValueExpected,V,[],[2,5])}function b(x){if(10===R.getToken()){var I=new Ut(x,R.getTokenOffset());return I.value=R.getTokenValue(),h(I,!0)}}function O(x){return function g(x){if(3===R.getToken()){var I=new Lt(x,R.getTokenOffset());o();for(var M=!1;4!==R.getToken()&&17!==R.getToken();){if(5===R.getToken()){M||u(Pt("ValueExpected","Value expected"),wt.ValueExpected);var V=R.getTokenOffset();if(o(),4===R.getToken()){M&&l(Pt("TrailingComma","Trailing comma"),wt.TrailingComma,V,V+1);continue}}else M&&u(Pt("ExpectedComma","Expected comma"),wt.CommaExpected);var F=O(I);F?I.items.push(F):u(Pt("PropertyExpected","Value expected"),wt.ValueExpected,void 0,[],[4,5]),M=!0}return 4!==R.getToken()?u(Pt("ExpectedCloseBracket","Expected comma or closing bracket"),wt.CommaOrCloseBacketExpected,I):h(I,!0)}}(x)||function d(x){if(1===R.getToken()){var I=new Bt(x,R.getTokenOffset()),M=Object.create(null);o();for(var V=!1;2!==R.getToken()&&17!==R.getToken();){if(5===R.getToken()){V||u(Pt("PropertyExpected","Property expected"),wt.PropertyExpected);var F=R.getTokenOffset();if(o(),2===R.getToken()){V&&l(Pt("TrailingComma","Trailing comma"),wt.TrailingComma,F,F+1);continue}}else V&&u(Pt("ExpectedComma","Expected comma"),wt.CommaExpected);var D=p(I,M);D?I.properties.push(D):u(Pt("PropertyExpected","Property expected"),wt.PropertyExpected,void 0,[],[2,5]),V=!0}return 2!==R.getToken()?u(Pt("ExpectedCloseBrace","Expected comma or closing brace"),wt.CommaOrCloseBraceExpected,I):h(I,!0)}}(x)||b(x)||function y(x){if(11===R.getToken()){var I=new $t(x,R.getTokenOffset());if(0===R.getTokenError()){var M=R.getTokenValue();try{var V=JSON.parse(M);if(!ee(V))return u(Pt("InvalidNumberFormat","Invalid number format."),wt.Undefined,I);I.value=V}catch{return u(Pt("InvalidNumberFormat","Invalid number format."),wt.Undefined,I)}I.isInteger=-1===M.indexOf(".")}return h(I,!0)}}(x)||function v(x){switch(R.getToken()){case 7:return h(new Nt(x,R.getTokenOffset()),!0);case 8:return h(new Vt(x,!0,R.getTokenOffset()),!0);case 9:return h(new Vt(x,!1,R.getTokenOffset()),!0);default:return}}(x)}var $=void 0;return 17!==o()&&(($=O($))?17!==R.getToken()&&u(Pt("End of file expected","End of file expected."),wt.Undefined):u(Pt("Invalid symbol","Expected a JSON object, array or literal."),wt.Undefined)),new Ht($,M,D)}function et(x,I,M){if(null!==x&&"object"==typeof x){var V=I+"\t";if(Array.isArray(x)){if(0===x.length)return"[]";for(var F="[\n",R=0;R<x.length;R++)F+=V+et(x[R],V,M),R<x.length-1&&(F+=","),F+="\n";return F+=I+"]"}var D=Object.keys(x);if(0===D.length)return"{}";for(F="{\n",R=0;R<D.length;R++){var L=D[R];F+=V+JSON.stringify(L)+": "+et(x[L],V,M),R<D.length-1&&(F+=","),F+="\n"}return F+=I+"}"}return M(x)}var Gt=he(),Qt=function(){function t(x,I,M,V){void 0===I&&(I=[]),void 0===M&&(M=Promise),void 0===V&&(V={}),this.schemaService=x,this.contributions=I,this.promiseConstructor=M,this.clientCapabilities=V}return t.prototype.doResolve=function(x){for(var I=this.contributions.length-1;I>=0;I--){var M=this.contributions[I].resolveCompletion;if(M){var V=M(x);if(V)return V}}return this.promiseConstructor.resolve(x)},t.prototype.doComplete=function(x,I,M){var V=this,F={items:[],isIncomplete:!1},R=x.getText(),D=x.offsetAt(I),L=M.getNodeFromOffset(D,!0);if(this.isInComment(x,L?L.offset:0,D))return Promise.resolve(F);if(L&&D===L.offset+L.length&&D>0){var $=R[D-1];("object"===L.type&&"}"===$||"array"===L.type&&"]"===$)&&(L=L.parent)}var U,W=this.getCurrentWord(x,D);if(!L||"string"!==L.type&&"number"!==L.type&&"boolean"!==L.type&&"null"!==L.type){var J=D-W.length;J>0&&'"'===R[J-1]&&J--,U=q.create(x.positionAt(J),I)}else U=q.create(x.positionAt(L.offset),x.positionAt(L.offset+L.length));var z={},G={add:function(x){var I=x.label,M=z[I];if(M)M.documentation||(M.documentation=x.documentation),M.detail||(M.detail=x.detail);else{if((I=I.replace(/[\n]/g,"↵")).length>60){var V=I.substr(0,57).trim()+"...";z[V]||(I=V)}U&&void 0!==x.insertText&&(x.textEdit=ue.replace(U,x.insertText)),x.label=I,z[I]=x,F.items.push(x)}},setAsIncomplete:function(){F.isIncomplete=!0},error:function(x){console.error(x)},log:function(x){console.log(x)},getNumberOfProposals:function(){return F.items.length}};return this.schemaService.getSchemaForResource(x.uri,M).then((function(I){var $=[],q=!0,J="",X=void 0;if(L&&"string"===L.type){var Z=L.parent;Z&&"property"===Z.type&&Z.keyNode===L&&(q=!Z.valueNode,X=Z,J=R.substr(L.offset+1,L.length-2),Z&&(L=Z.parent))}if(L&&"object"===L.type){if(L.offset===D)return F;L.properties.forEach((function(x){(!X||X!==x)&&(z[x.keyNode.value]=Je.create("__"))}));var Q="";q&&(Q=V.evaluateSeparatorAfter(x,x.offsetAt(U.end))),I?V.getPropertyCompletions(I,M,L,q,Q,G):V.getSchemaLessPropertyCompletions(M,L,J,G);var Y=qe(L);V.contributions.forEach((function(I){var M=I.collectPropertyCompletions(x.uri,Y,W,q,""===Q,G);M&&$.push(M)})),!I&&W.length>0&&'"'!==R.charAt(D-W.length-1)&&(G.add({kind:$e.Property,label:V.getLabelForValue(W),insertText:V.getInsertTextForProperty(W,void 0,!1,Q),insertTextFormat:Ue.Snippet,documentation:""}),G.setAsIncomplete())}var te={};return I?V.getValueCompletions(I,M,L,D,x,G,te):V.getSchemaLessValueCompletions(M,L,D,x,G),V.contributions.length>0&&V.getContributedValueCompletions(M,L,D,x,G,$),V.promiseConstructor.all($).then((function(){if(0===G.getNumberOfProposals()){var I=D;L&&("string"===L.type||"number"===L.type||"boolean"===L.type||"null"===L.type)&&(I=L.offset+L.length);var M=V.evaluateSeparatorAfter(x,I);V.addFillerValueCompletions(te,M,G)}return F}))}))},t.prototype.getPropertyCompletions=function(x,I,M,V,F,R){var D=this;I.getMatchingSchemas(x.schema,M.offset).forEach((function(x){if(x.node===M&&!x.inverted){var I=x.schema.properties;I&&Object.keys(I).forEach((function(x){var M=I[x];if("object"==typeof M&&!M.deprecationMessage&&!M.doNotSuggest){var L={kind:$e.Property,label:x,insertText:D.getInsertTextForProperty(x,M,V,F),insertTextFormat:Ue.Snippet,filterText:D.getFilterTextForValue(x),documentation:D.fromMarkup(M.markdownDescription)||M.description||""};void 0!==M.suggestSortText&&(L.sortText=M.suggestSortText),L.insertText&&pe(L.insertText,"$1".concat(F))&&(L.command={title:"Suggest",command:"editor.action.triggerSuggest"}),R.add(L)}}));var L=x.schema.propertyNames;if("object"==typeof L&&!L.deprecationMessage&&!L.doNotSuggest){var h=function(x,I){void 0===I&&(I=void 0);var M={kind:$e.Property,label:x,insertText:D.getInsertTextForProperty(x,void 0,V,F),insertTextFormat:Ue.Snippet,filterText:D.getFilterTextForValue(x),documentation:I||D.fromMarkup(L.markdownDescription)||L.description||""};void 0!==L.suggestSortText&&(M.sortText=L.suggestSortText),M.insertText&&pe(M.insertText,"$1".concat(F))&&(M.command={title:"Suggest",command:"editor.action.triggerSuggest"}),R.add(M)};if(L.enum)for(var $=0;$<L.enum.length;$++){var U=void 0;L.markdownEnumDescriptions&&$<L.markdownEnumDescriptions.length?U=D.fromMarkup(L.markdownEnumDescriptions[$]):L.enumDescriptions&&$<L.enumDescriptions.length&&(U=L.enumDescriptions[$]),h(L.enum[$],U)}L.const&&h(L.const)}}}))},t.prototype.getSchemaLessPropertyCompletions=function(x,I,M,V){var F=this,s=function(x){x.properties.forEach((function(x){var I=x.keyNode.value;V.add({kind:$e.Property,label:I,insertText:F.getInsertTextForValue(I,""),insertTextFormat:Ue.Snippet,filterText:F.getFilterTextForValue(I),documentation:""})}))};if(I.parent)if("property"===I.parent.type){var R=I.parent.keyNode.value;x.visit((function(x){return"property"===x.type&&x!==I.parent&&x.keyNode.value===R&&x.valueNode&&"object"===x.valueNode.type&&s(x.valueNode),!0}))}else"array"===I.parent.type&&I.parent.items.forEach((function(x){"object"===x.type&&x!==I&&s(x)}));else"object"===I.type&&V.add({kind:$e.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",void 0,!0,""),insertTextFormat:Ue.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})},t.prototype.getSchemaLessValueCompletions=function(x,I,M,V,F){var R=this,D=M;if(I&&("string"===I.type||"number"===I.type||"boolean"===I.type||"null"===I.type)&&(D=I.offset+I.length,I=I.parent),!I)return F.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:Ue.Snippet,documentation:""}),void F.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:Ue.Snippet,documentation:""});var L=this.evaluateSeparatorAfter(V,D),l=function(x){x.parent&&!Dt(x.parent,M,!0)&&F.add({kind:R.getSuggestionKind(x.type),label:R.getLabelTextForMatchingNode(x,V),insertText:R.getInsertTextForMatchingNode(x,V,L),insertTextFormat:Ue.Snippet,documentation:""}),"boolean"===x.type&&R.addBooleanValueCompletion(!x.value,L,F)};if("property"===I.type&&M>(I.colonOffset||0)){var $=I.valueNode;if($&&(M>$.offset+$.length||"object"===$.type||"array"===$.type))return;var U=I.keyNode.value;x.visit((function(x){return"property"===x.type&&x.keyNode.value===U&&x.valueNode&&l(x.valueNode),!0})),"$schema"===U&&I.parent&&!I.parent.parent&&this.addDollarSchemaCompletions(L,F)}if("array"===I.type)if(I.parent&&"property"===I.parent.type){var W=I.parent.keyNode.value;x.visit((function(x){return"property"===x.type&&x.keyNode.value===W&&x.valueNode&&"array"===x.valueNode.type&&x.valueNode.items.forEach(l),!0}))}else I.items.forEach(l)},t.prototype.getValueCompletions=function(x,I,M,V,F,R,D){var L=V,$=void 0,U=void 0;if(M&&("string"===M.type||"number"===M.type||"boolean"===M.type||"null"===M.type)&&(L=M.offset+M.length,U=M,M=M.parent),M){if("property"===M.type&&V>(M.colonOffset||0)){var W=M.valueNode;if(W&&V>W.offset+W.length)return;$=M.keyNode.value,M=M.parent}if(M&&(void 0!==$||"array"===M.type)){for(var q=this.evaluateSeparatorAfter(F,L),J=0,z=I.getMatchingSchemas(x.schema,M.offset,U);J<z.length;J++){var G=z[J];if(G.node===M&&!G.inverted&&G.schema){if("array"===M.type&&G.schema.items)if(Array.isArray(G.schema.items)){var X=this.findItemAtOffset(M,F,V);X<G.schema.items.length&&this.addSchemaValueCompletions(G.schema.items[X],q,R,D)}else this.addSchemaValueCompletions(G.schema.items,q,R,D);if(void 0!==$){var Z=!1;if(G.schema.properties)(re=G.schema.properties[$])&&(Z=!0,this.addSchemaValueCompletions(re,q,R,D));if(G.schema.patternProperties&&!Z)for(var Q=0,Y=Object.keys(G.schema.patternProperties);Q<Y.length;Q++){var te=Y[Q],ne=xe(te);if(null==ne?void 0:ne.test($)){Z=!0;var re=G.schema.patternProperties[te];this.addSchemaValueCompletions(re,q,R,D)}}if(G.schema.additionalProperties&&!Z){re=G.schema.additionalProperties;this.addSchemaValueCompletions(re,q,R,D)}}}}"$schema"===$&&!M.parent&&this.addDollarSchemaCompletions(q,R),D.boolean&&(this.addBooleanValueCompletion(!0,q,R),this.addBooleanValueCompletion(!1,q,R)),D.null&&this.addNullValueCompletion(q,R)}}else this.addSchemaValueCompletions(x.schema,"",R,D)},t.prototype.getContributedValueCompletions=function(x,I,M,V,F,R){if(I){if(("string"===I.type||"number"===I.type||"boolean"===I.type||"null"===I.type)&&(I=I.parent),I&&"property"===I.type&&M>(I.colonOffset||0)){var D=I.keyNode.value,L=I.valueNode;if((!L||M<=L.offset+L.length)&&I.parent){var $=qe(I.parent);this.contributions.forEach((function(x){var I=x.collectValueCompletions(V.uri,$,D,F);I&&R.push(I)}))}}}else this.contributions.forEach((function(x){var I=x.collectDefaultCompletions(V.uri,F);I&&R.push(I)}))},t.prototype.addSchemaValueCompletions=function(x,I,M,V){var F=this;"object"==typeof x&&(this.addEnumValueCompletions(x,I,M),this.addDefaultValueCompletions(x,I,M),this.collectTypes(x,V),Array.isArray(x.allOf)&&x.allOf.forEach((function(x){return F.addSchemaValueCompletions(x,I,M,V)})),Array.isArray(x.anyOf)&&x.anyOf.forEach((function(x){return F.addSchemaValueCompletions(x,I,M,V)})),Array.isArray(x.oneOf)&&x.oneOf.forEach((function(x){return F.addSchemaValueCompletions(x,I,M,V)})))},t.prototype.addDefaultValueCompletions=function(x,I,M,V){var F=this;void 0===V&&(V=0);var R=!1;if(se(x.default)){for(var D=x.type,L=x.default,$=V;$>0;$--)L=[L],D="array";M.add({kind:this.getSuggestionKind(D),label:this.getLabelForValue(L),insertText:this.getInsertTextForValue(L,I),insertTextFormat:Ue.Snippet,detail:Gt("json.suggest.default","Default value")}),R=!0}Array.isArray(x.examples)&&x.examples.forEach((function(D){for(var L=x.type,$=D,U=V;U>0;U--)$=[$],L="array";M.add({kind:F.getSuggestionKind(L),label:F.getLabelForValue($),insertText:F.getInsertTextForValue($,I),insertTextFormat:Ue.Snippet}),R=!0})),Array.isArray(x.defaultSnippets)&&x.defaultSnippets.forEach((function(D){var L,$,U=x.type,W=D.body,q=D.label;if(se(W)){x.type;for(var J=V;J>0;J--)W=[W],"array";L=F.getInsertTextForSnippetValue(W,I),$=F.getFilterTextForSnippetValue(W),q=q||F.getLabelForSnippetValue(W)}else{if("string"!=typeof D.bodyText)return;var z="",G="",X="";for(J=V;J>0;J--)z=z+X+"[\n",G=G+"\n"+X+"]",X+="\t",U="array";L=z+X+D.bodyText.split("\n").join("\n"+X)+G+I,q=q||L,$=L.replace(/[\n]/g,"")}M.add({kind:F.getSuggestionKind(U),label:q,documentation:F.fromMarkup(D.markdownDescription)||D.description,insertText:L,insertTextFormat:Ue.Snippet,filterText:$}),R=!0})),!R&&"object"==typeof x.items&&!Array.isArray(x.items)&&V<5&&this.addDefaultValueCompletions(x.items,I,M,V+1)},t.prototype.addEnumValueCompletions=function(x,I,M){if(se(x.const)&&M.add({kind:this.getSuggestionKind(x.type),label:this.getLabelForValue(x.const),insertText:this.getInsertTextForValue(x.const,I),insertTextFormat:Ue.Snippet,documentation:this.fromMarkup(x.markdownDescription)||x.description}),Array.isArray(x.enum))for(var V=0,F=x.enum.length;V<F;V++){var R=x.enum[V],D=this.fromMarkup(x.markdownDescription)||x.description;x.markdownEnumDescriptions&&V<x.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?D=this.fromMarkup(x.markdownEnumDescriptions[V]):x.enumDescriptions&&V<x.enumDescriptions.length&&(D=x.enumDescriptions[V]),M.add({kind:this.getSuggestionKind(x.type),label:this.getLabelForValue(R),insertText:this.getInsertTextForValue(R,I),insertTextFormat:Ue.Snippet,documentation:D})}},t.prototype.collectTypes=function(x,I){if(!Array.isArray(x.enum)&&!se(x.const)){var M=x.type;Array.isArray(M)?M.forEach((function(x){return I[x]=!0})):M&&(I[M]=!0)}},t.prototype.addFillerValueCompletions=function(x,I,M){x.object&&M.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},I),insertTextFormat:Ue.Snippet,detail:Gt("defaults.object","New object"),documentation:""}),x.array&&M.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],I),insertTextFormat:Ue.Snippet,detail:Gt("defaults.array","New array"),documentation:""})},t.prototype.addBooleanValueCompletion=function(x,I,M){M.add({kind:this.getSuggestionKind("boolean"),label:x?"true":"false",insertText:this.getInsertTextForValue(x,I),insertTextFormat:Ue.Snippet,documentation:""})},t.prototype.addNullValueCompletion=function(x,I){I.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+x,insertTextFormat:Ue.Snippet,documentation:""})},t.prototype.addDollarSchemaCompletions=function(x,I){var M=this;this.schemaService.getRegisteredSchemaIds((function(x){return"http"===x||"https"===x})).forEach((function(V){return I.add({kind:$e.Module,label:M.getLabelForValue(V),filterText:M.getFilterTextForValue(V),insertText:M.getInsertTextForValue(V,x),insertTextFormat:Ue.Snippet,documentation:""})}))},t.prototype.getLabelForValue=function(x){return JSON.stringify(x)},t.prototype.getFilterTextForValue=function(x){return JSON.stringify(x)},t.prototype.getFilterTextForSnippetValue=function(x){return JSON.stringify(x).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")},t.prototype.getLabelForSnippetValue=function(x){return JSON.stringify(x).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")},t.prototype.getInsertTextForPlainText=function(x){return x.replace(/[\\\$\}]/g,"\\$&")},t.prototype.getInsertTextForValue=function(x,I){var M=JSON.stringify(x,null,"\t");return"{}"===M?"{$1}"+I:"[]"===M?"[$1]"+I:this.getInsertTextForPlainText(M+I)},t.prototype.getInsertTextForSnippetValue=function(x,I){return et(x,"",(function(x){return"string"==typeof x&&"^"===x[0]?x.substr(1):JSON.stringify(x)}))+I},t.prototype.getInsertTextForGuessedValue=function(x,I){switch(typeof x){case"object":return null===x?"${1:null}"+I:this.getInsertTextForValue(x,I);case"string":var M=JSON.stringify(x);return M=M.substr(1,M.length-2),'"${1:'+(M=this.getInsertTextForPlainText(M))+'}"'+I;case"number":case"boolean":return"${1:"+JSON.stringify(x)+"}"+I}return this.getInsertTextForValue(x,I)},t.prototype.getSuggestionKind=function(x){if(Array.isArray(x)){var I=x;x=I.length>0?I[0]:void 0}if(!x)return $e.Value;switch(x){case"string":default:return $e.Value;case"object":return $e.Module;case"property":return $e.Property}},t.prototype.getLabelTextForMatchingNode=function(x,I){switch(x.type){case"array":return"[]";case"object":return"{}";default:return I.getText().substr(x.offset,x.length)}},t.prototype.getInsertTextForMatchingNode=function(x,I,M){switch(x.type){case"array":return this.getInsertTextForValue([],M);case"object":return this.getInsertTextForValue({},M);default:var V=I.getText().substr(x.offset,x.length)+M;return this.getInsertTextForPlainText(V)}},t.prototype.getInsertTextForProperty=function(x,I,M,V){var F=this.getInsertTextForValue(x,"");if(!M)return F;var R,D=F+": ",L=0;if(I){if(Array.isArray(I.defaultSnippets)){if(1===I.defaultSnippets.length){var $=I.defaultSnippets[0].body;se($)&&(R=this.getInsertTextForSnippetValue($,""))}L+=I.defaultSnippets.length}if(I.enum&&(!R&&1===I.enum.length&&(R=this.getInsertTextForGuessedValue(I.enum[0],"")),L+=I.enum.length),se(I.default)&&(R||(R=this.getInsertTextForGuessedValue(I.default,"")),L++),Array.isArray(I.examples)&&I.examples.length&&(R||(R=this.getInsertTextForGuessedValue(I.examples[0],"")),L+=I.examples.length),0===L){var U=Array.isArray(I.type)?I.type[0]:I.type;switch(U||(I.properties?U="object":I.items&&(U="array")),U){case"boolean":R="$1";break;case"string":R='"$1"';break;case"object":R="{$1}";break;case"array":R="[$1]";break;case"number":case"integer":R="${1:0}";break;case"null":R="${1:null}";break;default:return F}}}return(!R||L>1)&&(R="$1"),D+R+V},t.prototype.getCurrentWord=function(x,I){for(var M=I-1,V=x.getText();M>=0&&-1===' \t\n\r\v":{[,]}'.indexOf(V.charAt(M));)M--;return V.substring(M+1,I)},t.prototype.evaluateSeparatorAfter=function(x,I){var M=Te(x.getText(),!0);switch(M.setPosition(I),M.scan()){case 5:case 2:case 4:case 17:return"";default:return","}},t.prototype.findItemAtOffset=function(x,I,M){for(var V=Te(I.getText(),!0),F=x.items,R=F.length-1;R>=0;R--){var D=F[R];if(M>D.offset+D.length)return V.setPosition(D.offset+D.length),5===V.scan()&&M>=V.getTokenOffset()+V.getTokenLength()?R+1:R;if(M>=D.offset)return R}return 0},t.prototype.isInComment=function(x,I,M){var V=Te(x.getText(),!1);V.setPosition(I);for(var F=V.scan();17!==F&&V.getTokenOffset()+V.getTokenLength()<M;)F=V.scan();return(12===F||13===F)&&V.getTokenOffset()<=M},t.prototype.fromMarkup=function(x){if(x&&this.doesSupportMarkdown())return{kind:De.Markdown,value:x}},t.prototype.doesSupportMarkdown=function(){if(!se(this.supportsMarkdown)){var x=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=x&&x.completionItem&&Array.isArray(x.completionItem.documentationFormat)&&-1!==x.completionItem.documentationFormat.indexOf(De.Markdown)}return this.supportsMarkdown},t.prototype.doesSupportsCommitCharacters=function(){if(!se(this.supportsCommitCharacters)){var x=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsCommitCharacters=x&&x.completionItem&&!!x.completionItem.commitCharactersSupport}return this.supportsCommitCharacters},t}(),Yt=function(){function t(x,I,M){void 0===I&&(I=[]),this.schemaService=x,this.contributions=I,this.promise=M||Promise}return t.prototype.doHover=function(x,I,M){var V=x.offsetAt(I),F=M.getNodeFromOffset(V);if(!F||("object"===F.type||"array"===F.type)&&V>F.offset+1&&V<F.offset+F.length-1)return this.promise.resolve(null);var R=F;if("string"===F.type){var D=F.parent;if(D&&"property"===D.type&&D.keyNode===F&&!(F=D.valueNode))return this.promise.resolve(null)}for(var L=q.create(x.positionAt(R.offset),x.positionAt(R.offset+R.length)),l=function(x){return{contents:x,range:L}},$=qe(F),U=this.contributions.length-1;U>=0;U--){var W=this.contributions[U].getInfoContribution(x.uri,$);if(W)return W.then((function(x){return l(x)}))}return this.schemaService.getSchemaForResource(x.uri,M).then((function(x){if(x&&F){var I=M.getMatchingSchemas(x.schema,F.offset),V=void 0,R=void 0,D=void 0,L=void 0;I.every((function(x){if(x.node===F&&!x.inverted&&x.schema&&(V=V||x.schema.title,R=R||x.schema.markdownDescription||Rt(x.schema.description),x.schema.enum)){var I=x.schema.enum.indexOf(ge(F));x.schema.markdownEnumDescriptions?D=x.schema.markdownEnumDescriptions[I]:x.schema.enumDescriptions&&(D=Rt(x.schema.enumDescriptions[I])),D&&("string"!=typeof(L=x.schema.enum[I])&&(L=JSON.stringify(L)))}return!0}));var $="";return V&&($=Rt(V)),R&&($.length>0&&($+="\n\n"),$+=R),D&&($.length>0&&($+="\n\n"),$+="`".concat(function Tn(x){return-1!==x.indexOf("`")?"`` "+x+" ``":x}(L),"`: ").concat(D)),l([$])}return null}))},t}();function Rt(x){if(x)return x.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,"$1\n\n$3").replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}var en=he(),nn=function(){function t(x,I){this.jsonSchemaService=x,this.promise=I,this.validationEnabled=!0}return t.prototype.configure=function(x){x&&(this.validationEnabled=!1!==x.validate,this.commentSeverity=x.allowComments?void 0:ne.Error)},t.prototype.doValidation=function(x,I,M,V){var F=this;if(!this.validationEnabled)return this.promise.resolve([]);var R=[],D={},f=function(x){var I=x.range.start.line+" "+x.range.start.character+" "+x.message;D[I]||(D[I]=!0,R.push(x))},l=function(V){var D=(null==M?void 0:M.trailingCommas)?tt(M.trailingCommas):ne.Error,L=(null==M?void 0:M.comments)?tt(M.comments):F.commentSeverity,$=(null==M?void 0:M.schemaValidation)?tt(M.schemaValidation):ne.Warning,U=(null==M?void 0:M.schemaRequest)?tt(M.schemaRequest):ne.Warning;if(V){if(V.errors.length&&I.root&&U){var W=I.root,J="object"===W.type?W.properties[0]:void 0;if(J&&"$schema"===J.keyNode.value){var z=J.valueNode||J,G=q.create(x.positionAt(z.offset),x.positionAt(z.offset+z.length));f(ae.create(G,V.errors[0],U,wt.SchemaResolveError))}else{G=q.create(x.positionAt(W.offset),x.positionAt(W.offset+1));f(ae.create(G,V.errors[0],U,wt.SchemaResolveError))}}else if($){var X=I.validate(x,V.schema,$);X&&X.forEach(f)}Er(V.schema)&&(L=void 0),jr(V.schema)&&(D=void 0)}for(var Z=0,Q=I.syntaxErrors;Z<Q.length;Z++){var Y=Q[Z];if(Y.code===wt.TrailingComma){if("number"!=typeof D)continue;Y.severity=D}f(Y)}if("number"==typeof L){var te=en("InvalidCommentToken","Comments are not permitted in JSON.");I.comments.forEach((function(x){f(ae.create(x,te,L,wt.CommentNotPermitted))}))}return R};if(V){var L=V.id||"schemaservice://untitled/"+on++;return this.jsonSchemaService.registerExternalSchema(L,[],V).getResolvedSchema().then((function(x){return l(x)}))}return this.jsonSchemaService.getSchemaForResource(x.uri,I).then((function(x){return l(x)}))},t.prototype.getLanguageStatus=function(x,I){return{schemas:this.jsonSchemaService.getSchemaURIsForResource(x.uri,I)}},t}(),on=0;function Er(x){if(x&&"object"==typeof x){if(ie(x.allowComments))return x.allowComments;if(x.allOf)for(var I=0,M=x.allOf;I<M.length;I++){var V=Er(M[I]);if(ie(V))return V}}}function jr(x){if(x&&"object"==typeof x){if(ie(x.allowTrailingCommas))return x.allowTrailingCommas;var I=x;if(ie(I.allowsTrailingCommas))return I.allowsTrailingCommas;if(x.allOf)for(var M=0,V=x.allOf;M<V.length;M++){var F=jr(V[M]);if(ie(F))return F}}}function tt(x){switch(x){case"error":return ne.Error;case"warning":return ne.Warning;case"ignore":return}}var sn=48,un=57,fn=65,ln=97,pn=102;function B(x){return x<sn?0:x<=un?x-sn:(x<ln&&(x+=ln-fn),x>=ln&&x<=pn?x-ln+10:0)}function Mr(x){if("#"===x[0])switch(x.length){case 4:return{red:17*B(x.charCodeAt(1))/255,green:17*B(x.charCodeAt(2))/255,blue:17*B(x.charCodeAt(3))/255,alpha:1};case 5:return{red:17*B(x.charCodeAt(1))/255,green:17*B(x.charCodeAt(2))/255,blue:17*B(x.charCodeAt(3))/255,alpha:17*B(x.charCodeAt(4))/255};case 7:return{red:(16*B(x.charCodeAt(1))+B(x.charCodeAt(2)))/255,green:(16*B(x.charCodeAt(3))+B(x.charCodeAt(4)))/255,blue:(16*B(x.charCodeAt(5))+B(x.charCodeAt(6)))/255,alpha:1};case 9:return{red:(16*B(x.charCodeAt(1))+B(x.charCodeAt(2)))/255,green:(16*B(x.charCodeAt(3))+B(x.charCodeAt(4)))/255,blue:(16*B(x.charCodeAt(5))+B(x.charCodeAt(6)))/255,alpha:(16*B(x.charCodeAt(7))+B(x.charCodeAt(8)))/255}}}var mn=function(){function t(x){this.schemaService=x}return t.prototype.findDocumentSymbols=function(x,I,M){var V=this;void 0===M&&(M={resultLimit:Number.MAX_VALUE});var F=I.root;if(!F)return[];var R=M.resultLimit||Number.MAX_VALUE,D=x.uri;if(("vscode://defaultsettings/keybindings.json"===D||pe(D.toLowerCase(),"/user/keybindings.json"))&&"array"===F.type){for(var L=[],$=0,U=F.items;$<U.length;$++){var W=U[$];if("object"===W.type)for(var q=0,z=W.properties;q<z.length;q++){var G=z[q];if("key"===G.keyNode.value&&G.valueNode){var X=J.create(x.uri,ve(x,W));if(L.push({name:ge(G.valueNode),kind:nt.Function,location:X}),--R<=0)return M&&M.onResultLimitExceeded&&M.onResultLimitExceeded(D),L}}}return L}for(var Z=[{node:F,containerName:""}],Q=0,Y=!1,te=[],O=function(I,M){"array"===I.type?I.items.forEach((function(x){x&&Z.push({node:x,containerName:M})})):"object"===I.type&&I.properties.forEach((function(I){var F=I.valueNode;if(F)if(R>0){R--;var D=J.create(x.uri,ve(x,I)),L=M?M+"."+I.keyNode.value:I.keyNode.value;te.push({name:V.getKeyLabel(I),kind:V.getSymbolKind(F.type),location:D,containerName:M}),Z.push({node:F,containerName:L})}else Y=!0}))};Q<Z.length;){var ne=Z[Q++];O(ne.node,ne.containerName)}return Y&&M&&M.onResultLimitExceeded&&M.onResultLimitExceeded(D),te},t.prototype.findDocumentSymbols2=function(x,I,M){var V=this;void 0===M&&(M={resultLimit:Number.MAX_VALUE});var F=I.root;if(!F)return[];var R=M.resultLimit||Number.MAX_VALUE,D=x.uri;if(("vscode://defaultsettings/keybindings.json"===D||pe(D.toLowerCase(),"/user/keybindings.json"))&&"array"===F.type){for(var L=[],$=0,U=F.items;$<U.length;$++){var W=U[$];if("object"===W.type)for(var q=0,J=W.properties;q<J.length;q++){var z=J[q];if("key"===z.keyNode.value&&z.valueNode){var G=ve(x,W),X=ve(x,z.keyNode);if(L.push({name:ge(z.valueNode),kind:nt.Function,range:G,selectionRange:X}),--R<=0)return M&&M.onResultLimitExceeded&&M.onResultLimitExceeded(D),L}}}return L}for(var Z=[],Q=[{node:F,result:Z}],Y=0,te=!1,E=function(I,M){"array"===I.type?I.items.forEach((function(I,F){if(I)if(R>0){R--;var D=ve(x,I),L=D,$={name:String(F),kind:V.getSymbolKind(I.type),range:D,selectionRange:L,children:[]};M.push($),Q.push({result:$.children,node:I})}else te=!0})):"object"===I.type&&I.properties.forEach((function(I){var F=I.valueNode;if(F)if(R>0){R--;var D=ve(x,I),L=ve(x,I.keyNode),$=[],U={name:V.getKeyLabel(I),kind:V.getSymbolKind(F.type),range:D,selectionRange:L,children:$,detail:V.getDetail(F)};M.push(U),Q.push({result:$,node:F})}else te=!0}))};Y<Q.length;){var ne=Q[Y++];E(ne.node,ne.result)}return te&&M&&M.onResultLimitExceeded&&M.onResultLimitExceeded(D),Z},t.prototype.getSymbolKind=function(x){switch(x){case"object":return nt.Module;case"string":return nt.String;case"number":return nt.Number;case"array":return nt.Array;case"boolean":return nt.Boolean;default:return nt.Variable}},t.prototype.getKeyLabel=function(x){var I=x.keyNode.value;return I&&(I=I.replace(/[\n]/g,"↵")),I&&I.trim()?I:'"'.concat(I,'"')},t.prototype.getDetail=function(x){if(x){if("boolean"===x.type||"number"===x.type||"null"===x.type||"string"===x.type)return String(x.value);if("array"===x.type)return x.children.length?void 0:"[]";if("object"===x.type)return x.children.length?void 0:"{}"}},t.prototype.findDocumentColors=function(x,I,M){return this.schemaService.getSchemaForResource(x.uri,I).then((function(V){var F=[];if(V)for(var R=M&&"number"==typeof M.resultLimit?M.resultLimit:Number.MAX_VALUE,D={},L=0,$=I.getMatchingSchemas(V.schema);L<$.length;L++){var U=$[L];if(!U.inverted&&U.schema&&("color"===U.schema.format||"color-hex"===U.schema.format)&&U.node&&"string"===U.node.type){var W=String(U.node.offset);if(!D[W]){var q=Mr(ge(U.node));if(q){var J=ve(x,U.node);F.push({color:q,range:J})}if(D[W]=!0,--R<=0)return M&&M.onResultLimitExceeded&&M.onResultLimitExceeded(x.uri),F}}}return F}))},t.prototype.getColorPresentations=function(x,I,M,V){var F,R=[],D=Math.round(255*M.red),L=Math.round(255*M.green),$=Math.round(255*M.blue);function l(x){var I=x.toString(16);return 2!==I.length?"0"+I:I}return F=1===M.alpha?"#".concat(l(D)).concat(l(L)).concat(l($)):"#".concat(l(D)).concat(l(L)).concat(l($)).concat(l(Math.round(255*M.alpha))),R.push({label:F,textEdit:ue.replace(V,JSON.stringify(F))}),R},t}();function ve(x,I){return q.create(x.positionAt(I.offset),x.positionAt(I.offset+I.length))}var vn,yn,bn,xn,Sn,An,kn=he(),Cn={schemaAssociations:[],schemas:{"http://json-schema.org/schema#":{$ref:"http://json-schema.org/draft-07/schema#"},"http://json-schema.org/draft-04/schema#":{$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},wn={id:kn("schema.json.id","A unique identifier for the schema."),$schema:kn("schema.json.$schema","The schema to verify this document against."),title:kn("schema.json.title","A descriptive title of the element."),description:kn("schema.json.description","A long description of the element. Used in hover menus and suggestions."),default:kn("schema.json.default","A default value. Used by suggestions."),multipleOf:kn("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:kn("schema.json.maximum","The maximum numerical value, inclusive by default."),exclusiveMaximum:kn("schema.json.exclusiveMaximum","Makes the maximum property exclusive."),minimum:kn("schema.json.minimum","The minimum numerical value, inclusive by default."),exclusiveMinimum:kn("schema.json.exclusiveMininum","Makes the minimum property exclusive."),maxLength:kn("schema.json.maxLength","The maximum length of a string."),minLength:kn("schema.json.minLength","The minimum length of a string."),pattern:kn("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored."),additionalItems:kn("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:kn("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:kn("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive."),minItems:kn("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive."),uniqueItems:kn("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false."),maxProperties:kn("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive."),minProperties:kn("schema.json.minProperties","The minimum number of properties an object can have. Inclusive."),required:kn("schema.json.required","An array of strings that lists the names of all properties required on this object."),additionalProperties:kn("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:kn("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:kn("schema.json.properties","A map of property names to schemas for each property."),patternProperties:kn("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties."),dependencies:kn("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:kn("schema.json.enum","The set of literal values that are valid."),type:kn("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:kn("schema.json.format","Describes the format expected for the value."),allOf:kn("schema.json.allOf","An array of schemas, all of which must match."),anyOf:kn("schema.json.anyOf","An array of schemas, where at least one must match."),oneOf:kn("schema.json.oneOf","An array of schemas, exactly one of which must match."),not:kn("schema.json.not","A schema which must not match."),$id:kn("schema.json.$id","A unique identifier for the schema."),$ref:kn("schema.json.$ref","Reference a definition hosted on any location."),$comment:kn("schema.json.$comment","Comments from schema authors to readers or maintainers of the schema."),readOnly:kn("schema.json.readOnly","Indicates that the value of the instance is managed exclusively by the owning authority."),examples:kn("schema.json.examples","Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:kn("schema.json.contains",'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:kn("schema.json.propertyNames","If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:kn("schema.json.const","An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:kn("schema.json.contentMediaType","Describes the media type of a string property."),contentEncoding:kn("schema.json.contentEncoding","Describes the content encoding of a string property."),if:kn("schema.json.if",'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:kn("schema.json.then",'The "if" subschema is used for validation when the "if" subschema succeeds.'),else:kn("schema.json.else",'The "else" subschema is used for validation when the "if" subschema fails.')};for(Sn in Cn.schemas)for(xn in(vn=Cn.schemas[Sn]).properties)"boolean"==typeof(yn=vn.properties[xn])&&(yn=vn.properties[xn]={}),(bn=wn[xn])?yn.description=bn:console.log("".concat(xn,": localize('schema.json.").concat(xn,'\', "")'));An=(()=>{var x={470:x=>{function n(x){if("string"!=typeof x)throw new TypeError("Path must be a string. Received "+JSON.stringify(x))}function a(x,I){for(var M,V="",F=0,R=-1,D=0,L=0;L<=x.length;++L){if(L<x.length)M=x.charCodeAt(L);else{if(47===M)break;M=47}if(47===M){if(R!==L-1&&1!==D)if(R!==L-1&&2===D){if(V.length<2||2!==F||46!==V.charCodeAt(V.length-1)||46!==V.charCodeAt(V.length-2))if(V.length>2){var $=V.lastIndexOf("/");if($!==V.length-1){-1===$?(V="",F=0):F=(V=V.slice(0,$)).length-1-V.lastIndexOf("/"),R=L,D=0;continue}}else if(2===V.length||1===V.length){V="",F=0,R=L,D=0;continue}I&&(V.length>0?V+="/..":V="..",F=2)}else V.length>0?V+="/"+x.slice(R+1,L):V=x.slice(R+1,L),F=L-R-1;R=L,D=0}else 46===M&&-1!==D?++D:D=-1}return V}var I={resolve:function(){for(var x,I="",M=!1,V=arguments.length-1;V>=-1&&!M;V--){var F;V>=0?F=arguments[V]:(void 0===x&&(x=process.cwd()),F=x),n(F),0!==F.length&&(I=F+"/"+I,M=47===F.charCodeAt(0))}return I=a(I,!M),M?I.length>0?"/"+I:"/":I.length>0?I:"."},normalize:function(x){if(n(x),0===x.length)return".";var I=47===x.charCodeAt(0),M=47===x.charCodeAt(x.length-1);return 0!==(x=a(x,!I)).length||I||(x="."),x.length>0&&M&&(x+="/"),I?"/"+x:x},isAbsolute:function(x){return n(x),x.length>0&&47===x.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var x,M=0;M<arguments.length;++M){var V=arguments[M];n(V),V.length>0&&(void 0===x?x=V:x+="/"+V)}return void 0===x?".":I.normalize(x)},relative:function(x,M){if(n(x),n(M),x===M||(x=I.resolve(x))===(M=I.resolve(M)))return"";for(var V=1;V<x.length&&47===x.charCodeAt(V);++V);for(var F=x.length,R=F-V,D=1;D<M.length&&47===M.charCodeAt(D);++D);for(var L=M.length-D,$=R<L?R:L,U=-1,W=0;W<=$;++W){if(W===$){if(L>$){if(47===M.charCodeAt(D+W))return M.slice(D+W+1);if(0===W)return M.slice(D+W)}else R>$&&(47===x.charCodeAt(V+W)?U=W:0===W&&(U=0));break}var q=x.charCodeAt(V+W);if(q!==M.charCodeAt(D+W))break;47===q&&(U=W)}var J="";for(W=V+U+1;W<=F;++W)W!==F&&47!==x.charCodeAt(W)||(0===J.length?J+="..":J+="/..");return J.length>0?J+M.slice(D+U):(D+=U,47===M.charCodeAt(D)&&++D,M.slice(D))},_makeLong:function(x){return x},dirname:function(x){if(n(x),0===x.length)return".";for(var I=x.charCodeAt(0),M=47===I,V=-1,F=!0,R=x.length-1;R>=1;--R)if(47===(I=x.charCodeAt(R))){if(!F){V=R;break}}else F=!1;return-1===V?M?"/":".":M&&1===V?"//":x.slice(0,V)},basename:function(x,I){if(void 0!==I&&"string"!=typeof I)throw new TypeError('"ext" argument must be a string');n(x);var M,V=0,F=-1,R=!0;if(void 0!==I&&I.length>0&&I.length<=x.length){if(I.length===x.length&&I===x)return"";var D=I.length-1,L=-1;for(M=x.length-1;M>=0;--M){var $=x.charCodeAt(M);if(47===$){if(!R){V=M+1;break}}else-1===L&&(R=!1,L=M+1),D>=0&&($===I.charCodeAt(D)?-1==--D&&(F=M):(D=-1,F=L))}return V===F?F=L:-1===F&&(F=x.length),x.slice(V,F)}for(M=x.length-1;M>=0;--M)if(47===x.charCodeAt(M)){if(!R){V=M+1;break}}else-1===F&&(R=!1,F=M+1);return-1===F?"":x.slice(V,F)},extname:function(x){n(x);for(var I=-1,M=0,V=-1,F=!0,R=0,D=x.length-1;D>=0;--D){var L=x.charCodeAt(D);if(47!==L)-1===V&&(F=!1,V=D+1),46===L?-1===I?I=D:1!==R&&(R=1):-1!==I&&(R=-1);else if(!F){M=D+1;break}}return-1===I||-1===V||0===R||1===R&&I===V-1&&I===M+1?"":x.slice(I,V)},format:function(x){if(null===x||"object"!=typeof x)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof x);return M=(I=x).dir||I.root,V=I.base||(I.name||"")+(I.ext||""),M?M===I.root?M+V:M+"/"+V:V;var I,M,V},parse:function(x){n(x);var I={root:"",dir:"",base:"",ext:"",name:""};if(0===x.length)return I;var M,V=x.charCodeAt(0),F=47===V;F?(I.root="/",M=1):M=0;for(var R=-1,D=0,L=-1,$=!0,U=x.length-1,W=0;U>=M;--U)if(47!==(V=x.charCodeAt(U)))-1===L&&($=!1,L=U+1),46===V?-1===R?R=U:1!==W&&(W=1):-1!==R&&(W=-1);else if(!$){D=U+1;break}return-1===R||-1===L||0===W||1===W&&R===L-1&&R===D+1?-1!==L&&(I.base=I.name=0===D&&F?x.slice(1,L):x.slice(D,L)):(0===D&&F?(I.name=x.slice(1,R),I.base=x.slice(1,L)):(I.name=x.slice(D,R),I.base=x.slice(D,L)),I.ext=x.slice(R,L)),D>0?I.dir=x.slice(0,D-1):F&&(I.dir="/"),I},sep:"/",delimiter:":",win32:null,posix:null};I.posix=I,x.exports=I},447:(x,I,M)=>{var V;if(M.r(I),M.d(I,{URI:()=>G,Utils:()=>te}),"object"==typeof process)V="win32"===process.platform;else if("object"==typeof navigator){var F=navigator.userAgent;V=F.indexOf("Windows")>=0}var R,D,L=(R=function(x,I){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,I){x.__proto__=I}||function(x,I){for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(x[M]=I[M])})(x,I)},function(x,I){if("function"!=typeof I&&null!==I)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function k(){this.constructor=x}R(x,I),x.prototype=null===I?Object.create(I):(k.prototype=I.prototype,new k)}),$=/^\w[\w\d+.-]*$/,U=/^\//,W=/^\/\//;function m(x,I){if(!x.scheme&&I)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(x.authority,'", path: "').concat(x.path,'", query: "').concat(x.query,'", fragment: "').concat(x.fragment,'"}'));if(x.scheme&&!$.test(x.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(x.path)if(x.authority){if(!U.test(x.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(W.test(x.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}var q="",J="/",z=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,G=function(){function T(x,I,M,V,F,R){var D,L;void 0===R&&(R=!1),"object"==typeof x?(this.scheme=x.scheme||q,this.authority=x.authority||q,this.path=x.path||q,this.query=x.query||q,this.fragment=x.fragment||q):(this.scheme=(L=R,(D=x)||L?D:"file"),this.authority=I||q,this.path=function(x,I){switch(x){case"https":case"http":case"file":I?I[0]!==J&&(I=J+I):I=J}return I}(this.scheme,M||q),this.query=V||q,this.fragment=F||q,m(this,R))}return T.isUri=function(x){return x instanceof T||!!x&&"string"==typeof x.authority&&"string"==typeof x.fragment&&"string"==typeof x.path&&"string"==typeof x.query&&"string"==typeof x.scheme&&"string"==typeof x.fsPath&&"function"==typeof x.with&&"function"==typeof x.toString},Object.defineProperty(T.prototype,"fsPath",{get:function(){return P(this,!1)},enumerable:!1,configurable:!0}),T.prototype.with=function(x){if(!x)return this;var I=x.scheme,M=x.authority,V=x.path,F=x.query,R=x.fragment;return void 0===I?I=this.scheme:null===I&&(I=q),void 0===M?M=this.authority:null===M&&(M=q),void 0===V?V=this.path:null===V&&(V=q),void 0===F?F=this.query:null===F&&(F=q),void 0===R?R=this.fragment:null===R&&(R=q),I===this.scheme&&M===this.authority&&V===this.path&&F===this.query&&R===this.fragment?this:new Z(I,M,V,F,R)},T.parse=function(x,I){void 0===I&&(I=!1);var M=z.exec(x);return M?new Z(M[2]||q,N(M[4]||q),N(M[5]||q),N(M[7]||q),N(M[9]||q),I):new Z(q,q,q,q,q)},T.file=function(x){var I=q;if(V&&(x=x.replace(/\\/g,J)),x[0]===J&&x[1]===J){var M=x.indexOf(J,2);-1===M?(I=x.substring(2),x=J):(I=x.substring(2,M),x=x.substring(M)||J)}return new Z("file",I,x,q,q)},T.from=function(x){var I=new Z(x.scheme,x.authority,x.path,x.query,x.fragment);return m(I,!0),I},T.prototype.toString=function(x){return void 0===x&&(x=!1),w(this,x)},T.prototype.toJSON=function(){return this},T.revive=function(x){if(x){if(x instanceof T)return x;var I=new Z(x);return I._formatted=x.external,I._fsPath=x._sep===X?x.fsPath:null,I}return x},T}(),X=V?1:void 0,Z=function(x){function S(){var I=null!==x&&x.apply(this,arguments)||this;return I._formatted=null,I._fsPath=null,I}return L(S,x),Object.defineProperty(S.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=P(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),S.prototype.toString=function(x){return void 0===x&&(x=!1),x?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)},S.prototype.toJSON=function(){var x={$mid:1};return this._fsPath&&(x.fsPath=this._fsPath,x._sep=X),this._formatted&&(x.external=this._formatted),this.path&&(x.path=this.path),this.scheme&&(x.scheme=this.scheme),this.authority&&(x.authority=this.authority),this.query&&(x.query=this.query),this.fragment&&(x.fragment=this.fragment),x},S}(G),Q=((D={})[58]="%3A",D[47]="%2F",D[63]="%3F",D[35]="%23",D[91]="%5B",D[93]="%5D",D[64]="%40",D[33]="%21",D[36]="%24",D[38]="%26",D[39]="%27",D[40]="%28",D[41]="%29",D[42]="%2A",D[43]="%2B",D[44]="%2C",D[59]="%3B",D[61]="%3D",D[32]="%20",D);function j(x,I){for(var M=void 0,V=-1,F=0;F<x.length;F++){var R=x.charCodeAt(F);if(R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||45===R||46===R||95===R||126===R||I&&47===R)-1!==V&&(M+=encodeURIComponent(x.substring(V,F)),V=-1),void 0!==M&&(M+=x.charAt(F));else{void 0===M&&(M=x.substr(0,F));var D=Q[R];void 0!==D?(-1!==V&&(M+=encodeURIComponent(x.substring(V,F)),V=-1),M+=D):-1===V&&(V=F)}}return-1!==V&&(M+=encodeURIComponent(x.substring(V))),void 0!==M?M:x}function A(x){for(var I=void 0,M=0;M<x.length;M++){var V=x.charCodeAt(M);35===V||63===V?(void 0===I&&(I=x.substr(0,M)),I+=Q[V]):void 0!==I&&(I+=x[M])}return void 0!==I?I:x}function P(x,I){var M;return M=x.authority&&x.path.length>1&&"file"===x.scheme?"//".concat(x.authority).concat(x.path):47===x.path.charCodeAt(0)&&(x.path.charCodeAt(1)>=65&&x.path.charCodeAt(1)<=90||x.path.charCodeAt(1)>=97&&x.path.charCodeAt(1)<=122)&&58===x.path.charCodeAt(2)?I?x.path.substr(1):x.path[1].toLowerCase()+x.path.substr(2):x.path,V&&(M=M.replace(/\//g,"\\")),M}function w(x,I){var M=I?A:j,V="",F=x.scheme,R=x.authority,D=x.path,L=x.query,$=x.fragment;if(F&&(V+=F,V+=":"),(R||"file"===F)&&(V+=J,V+=J),R){var U=R.indexOf("@");if(-1!==U){var W=R.substr(0,U);R=R.substr(U+1),-1===(U=W.indexOf(":"))?V+=M(W,!1):(V+=M(W.substr(0,U),!1),V+=":",V+=M(W.substr(U+1),!1)),V+="@"}-1===(U=(R=R.toLowerCase()).indexOf(":"))?V+=M(R,!1):(V+=M(R.substr(0,U),!1),V+=R.substr(U))}if(D){if(D.length>=3&&47===D.charCodeAt(0)&&58===D.charCodeAt(2))(q=D.charCodeAt(1))>=65&&q<=90&&(D="/".concat(String.fromCharCode(q+32),":").concat(D.substr(3)));else if(D.length>=2&&58===D.charCodeAt(1)){var q;(q=D.charCodeAt(0))>=65&&q<=90&&(D="".concat(String.fromCharCode(q+32),":").concat(D.substr(2)))}V+=M(D,!0)}return L&&(V+="?",V+=M(L,!1)),$&&(V+="#",V+=I?$:j($,!1)),V}function C(x){try{return decodeURIComponent(x)}catch{return x.length>3?x.substr(0,3)+C(x.substr(3)):x}}var Y=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function N(x){return x.match(Y)?x.replace(Y,(function(x){return C(x)})):x}var te,ne,re=M(470),H=function(x,I,M){if(M||2===arguments.length)for(var V,F=0,R=I.length;F<R;F++)!V&&F in I||(V||(V=Array.prototype.slice.call(I,0,F)),V[F]=I[F]);return x.concat(V||Array.prototype.slice.call(I))},oe=re.posix||re;(ne=te||(te={})).joinPath=function(x){for(var I=[],M=1;M<arguments.length;M++)I[M-1]=arguments[M];return x.with({path:oe.join.apply(oe,H([x.path],I,!1))})},ne.resolvePath=function(x){for(var I=[],M=1;M<arguments.length;M++)I[M-1]=arguments[M];var V=x.path||"/";return x.with({path:oe.resolve.apply(oe,H([V],I,!1))})},ne.dirname=function(x){var I=oe.dirname(x.path);return 1===I.length&&46===I.charCodeAt(0)?x:x.with({path:I})},ne.basename=function(x){return oe.basename(x.path)},ne.extname=function(x){return oe.extname(x.path)}}},I={};function i(M){if(I[M])return I[M].exports;var V=I[M]={exports:{}};return x[M](V,V.exports,i),V.exports}return i.d=(x,I)=>{for(var M in I)i.o(I,M)&&!i.o(x,M)&&Object.defineProperty(x,M,{enumerable:!0,get:I[M]})},i.o=(x,I)=>Object.prototype.hasOwnProperty.call(x,I),i.r=x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})},i(447)})();var{URI:On,Utils:En}=An;function Dr(x,I){if("string"!=typeof x)throw new TypeError("Expected a string");for(var M,V=String(x),F="",R=!!I&&!!I.extended,D=!!I&&!!I.globstar,L=!1,$=I&&"string"==typeof I.flags?I.flags:"",U=0,W=V.length;U<W;U++)switch(M=V[U],M){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":F+="\\"+M;break;case"?":if(R){F+=".";break}case"[":case"]":if(R){F+=M;break}case"{":if(R){L=!0,F+="(";break}case"}":if(R){L=!1,F+=")";break}case",":if(L){F+="|";break}F+="\\"+M;break;case"*":for(var q=V[U-1],J=1;"*"===V[U+1];)J++,U++;var z=V[U+1];if(D)J>1&&("/"===q||void 0===q||"{"===q||","===q)&&("/"===z||void 0===z||","===z||"}"===z)?("/"===z?U++:"/"===q&&F.endsWith("\\/")&&(F=F.substr(0,F.length-2)),F+="((?:[^/]*(?:/|$))*)"):F+="([^/]*)";else F+=".*";break;default:F+=M}return(!$||!~$.indexOf("g"))&&(F="^"+F+"$"),new RegExp(F,$)}var In,jn=he(),Pn=function(){function t(x,I){this.globWrappers=[];try{for(var M=0,V=x;M<V.length;M++){var F=V[M],R="!"!==F[0];R||(F=F.substring(1)),F.length>0&&("/"===F[0]&&(F=F.substring(1)),this.globWrappers.push({regexp:Dr("**/"+F,{extended:!0,globstar:!0}),include:R}))}this.uris=I}catch{this.globWrappers.length=0,this.uris=[]}}return t.prototype.matchesPattern=function(x){for(var I=!1,M=0,V=this.globWrappers;M<V.length;M++){var F=V[M],R=F.regexp,D=F.include;R.test(x)&&(I=D)}return I},t.prototype.getURIs=function(){return this.uris},t}(),Mn=function(){function t(x,I,M){this.service=x,this.uri=I,this.dependencies=new Set,this.anchors=void 0,M&&(this.unresolvedSchema=this.service.promise.resolve(new Nn(M)))}return t.prototype.getUnresolvedSchema=function(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.uri)),this.unresolvedSchema},t.prototype.getResolvedSchema=function(){var x=this;return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then((function(I){return x.service.resolveSchemaContent(I,x)}))),this.resolvedSchema},t.prototype.clearSchema=function(){var x=!!this.unresolvedSchema;return this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies.clear(),this.anchors=void 0,x},t}(),Nn=function x(I,M){void 0===M&&(M=[]),this.schema=I,this.errors=M},Fn=function(){function t(x,I){void 0===I&&(I=[]),this.schema=x,this.errors=I}return t.prototype.getSection=function(x){var I=this.getSectionRecursive(x,this.schema);if(I)return K(I)},t.prototype.getSectionRecursive=function(x,I){if(!I||"boolean"==typeof I||0===x.length)return I;var M=x.shift();if(I.properties&&(I.properties[M],1))return this.getSectionRecursive(x,I.properties[M]);if(I.patternProperties)for(var V=0,F=Object.keys(I.patternProperties);V<F.length;V++){var R=F[V],D=xe(R);if(null==D?void 0:D.test(M))return this.getSectionRecursive(x,I.patternProperties[R])}else{if("object"==typeof I.additionalProperties)return this.getSectionRecursive(x,I.additionalProperties);if(M.match("[0-9]+"))if(Array.isArray(I.items)){var L=parseInt(M,10);if(!isNaN(L)&&I.items[L])return this.getSectionRecursive(x,I.items[L])}else if(I.items)return this.getSectionRecursive(x,I.items)}},t}(),Ln=function(){function t(x,I,M){this.contextService=I,this.requestService=x,this.promiseConstructor=M||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}return t.prototype.getRegisteredSchemaIds=function(x){return Object.keys(this.registeredSchemasIds).filter((function(I){var M=On.parse(I).scheme;return"schemaservice"!==M&&(!x||x(M))}))},Object.defineProperty(t.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()},t.prototype.onResourceChange=function(x){var I=this;this.cachedSchemaForResource=void 0;for(var M=!1,V=[x=be(x)],F=Object.keys(this.schemasById).map((function(x){return I.schemasById[x]}));V.length;)for(var R=V.pop(),D=0;D<F.length;D++){var L=F[D];L&&(L.uri===R||L.dependencies.has(R))&&(L.uri!==R&&V.push(L.uri),L.clearSchema()&&(M=!0),F[D]=void 0)}return M},t.prototype.setSchemaContributions=function(x){if(x.schemas){var I=x.schemas;for(var M in I){var V=be(M);this.contributionSchemas[V]=this.addSchemaHandle(V,I[M])}}if(Array.isArray(x.schemaAssociations))for(var F=0,R=x.schemaAssociations;F<R.length;F++){var D=R[F],L=D.uris.map(be),$=this.addFilePatternAssociation(D.pattern,L);this.contributionAssociations.push($)}},t.prototype.addSchemaHandle=function(x,I){var M=new Mn(this,x,I);return this.schemasById[x]=M,M},t.prototype.getOrAddSchemaHandle=function(x,I){return this.schemasById[x]||this.addSchemaHandle(x,I)},t.prototype.addFilePatternAssociation=function(x,I){var M=new Pn(x,I);return this.filePatternAssociations.push(M),M},t.prototype.registerExternalSchema=function(x,I,M){var V=be(x);return this.registeredSchemasIds[V]=!0,this.cachedSchemaForResource=void 0,I&&this.addFilePatternAssociation(I,[V]),M?this.addSchemaHandle(V,M):this.getOrAddSchemaHandle(V)},t.prototype.clearExternalSchemas=function(){for(var x in this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0,this.contributionSchemas)this.schemasById[x]=this.contributionSchemas[x],this.registeredSchemasIds[x]=!0;for(var I=0,M=this.contributionAssociations;I<M.length;I++){var V=M[I];this.filePatternAssociations.push(V)}},t.prototype.getResolvedSchema=function(x){var I=be(x),M=this.schemasById[I];return M?M.getResolvedSchema():this.promise.resolve(void 0)},t.prototype.loadSchema=function(x){if(!this.requestService){var I=jn("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",ot(x));return this.promise.resolve(new Nn({},[I]))}return this.requestService(x).then((function(I){if(!I){var M=jn("json.schema.nocontent","Unable to load schema from '{0}': No content.",ot(x));return new Nn({},[M])}var V,F=[];V=we(I,F);var R=F.length?[jn("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",ot(x),F[0].offset)]:[];return new Nn(V,R)}),(function(I){var M=I.toString(),V=I.toString().split("Error: ");return V.length>1&&(M=V[1]),pe(M,".")&&(M=M.substr(0,M.length-1)),new Nn({},[jn("json.schema.nocontent","Unable to load schema from '{0}': {1}.",ot(x),M)])}))},t.prototype.resolveSchemaContent=function(x,I){var M=this,V=x.errors.slice(0),F=x.schema;if(F.$schema){var R=be(F.$schema);if("http://json-schema.org/draft-03/schema"===R)return this.promise.resolve(new Fn({},[jn("json.schema.draft03.notsupported","Draft-03 schemas are not supported.")]));"https://json-schema.org/draft/2019-09/schema"===R?V.push(jn("json.schema.draft201909.notsupported","Draft 2019-09 schemas are not yet fully supported.")):"https://json-schema.org/draft/2020-12/schema"===R&&V.push(jn("json.schema.draft202012.notsupported","Draft 2020-12 schemas are not yet fully supported."))}var D=this.contextService,c=function(x,I,M,F){var R;R=void 0===F||0===F.length?I:"/"===F.charAt(0)?function(x,I){I=decodeURIComponent(I);var M=x;return"/"===I[0]&&(I=I.substring(1)),I.split("/").some((function(x){return x=x.replace(/~1/g,"/").replace(/~0/g,"~"),!(M=M[x])})),M}(I,F):function(x,I,M){return I.anchors||(I.anchors=m(x)),I.anchors.get(M)}(I,M,F),R?function(x,I){for(var M in I)I.hasOwnProperty(M)&&!x.hasOwnProperty(M)&&"id"!==M&&"$id"!==M&&(x[M]=I[M])}(x,R):V.push(jn("json.schema.invalidid","$ref '{0}' in '{1}' can not be resolved.",F,M.uri))},h=function(x,I,F,R){D&&!/^[A-Za-z][A-Za-z0-9+\-.+]*:\/\/.*/.test(I)&&(I=D.resolveRelativePath(I,R.uri)),I=be(I);var L=M.getOrAddSchemaHandle(I);return L.getUnresolvedSchema().then((function(M){if(R.dependencies.add(I),M.errors.length){var D=F?I+"#"+F:I;V.push(jn("json.schema.problemloadingref","Problems loading reference '{0}': {1}",D,M.errors[0]))}return c(x,M.schema,L,F),g(x,M.schema,L)}))},g=function(x,I,V){var F=[];return M.traverseNodes(x,(function(x){for(var M=new Set;x.$ref;){var R=x.$ref,D=R.split("#",2);if(delete x.$ref,D[0].length>0)return void F.push(h(x,D[0],D[1],V));if(!M.has(R)){var L=D[1];c(x,I,V,L),M.add(R)}}})),M.promise.all(F)},m=function(x){var I=new Map;return M.traverseNodes(x,(function(x){var M=x.$id||x.id;if("string"==typeof M&&"#"===M.charAt(0)){var F=M.substring(1);I.has(F)?V.push(jn("json.schema.duplicateid","Duplicate id declaration: '{0}'",M)):I.set(F,x)}})),I};return g(F,F,I).then((function(x){return new Fn(F,V)}))},t.prototype.traverseNodes=function(x,I){if(!x||"object"!=typeof x)return Promise.resolve(null);for(var M=new Set,n=function(){for(var x=[],I=0;I<arguments.length;I++)x[I]=arguments[I];for(var M=0,F=x;M<F.length;M++){var R=F[M];"object"==typeof R&&V.push(R)}},a=function(){for(var x=[],I=0;I<arguments.length;I++)x[I]=arguments[I];for(var M=0,F=x;M<F.length;M++){var R=F[M];if("object"==typeof R)for(var D in R){var L=R[D];"object"==typeof L&&V.push(L)}}},s=function(){for(var x=[],I=0;I<arguments.length;I++)x[I]=arguments[I];for(var M=0,F=x;M<F.length;M++){var R=F[M];if(Array.isArray(R))for(var D=0,L=R;D<L.length;D++){var $=L[D];"object"==typeof $&&V.push($)}}},V=[x],F=V.pop();F;)M.has(F)||(M.add(F),I(F),n(F.items,F.additionalItems,F.additionalProperties,F.not,F.contains,F.propertyNames,F.if,F.then,F.else),a(F.definitions,F.properties,F.patternProperties,F.dependencies),s(F.anyOf,F.allOf,F.oneOf,F.items)),F=V.pop()},t.prototype.getSchemaFromProperty=function(x,I){var M,V;if("object"===(null===(M=I.root)||void 0===M?void 0:M.type))for(var F=0,R=I.root.properties;F<R.length;F++){var D=R[F];if("$schema"===D.keyNode.value&&"string"===(null===(V=D.valueNode)||void 0===V?void 0:V.type)){var L=D.valueNode.value;return this.contextService&&!/^\w[\w\d+.-]*:/.test(L)&&(L=this.contextService.resolveRelativePath(L,x)),L}}},t.prototype.getAssociatedSchemas=function(x){for(var I=Object.create(null),M=[],V=function Vn(x){try{return On.parse(x).with({fragment:null,query:null}).toString()}catch{return x}}(x),F=0,R=this.filePatternAssociations;F<R.length;F++){var D=R[F];if(D.matchesPattern(V))for(var L=0,$=D.getURIs();L<$.length;L++){var U=$[L];I[U]||(M.push(U),I[U]=!0)}}return M},t.prototype.getSchemaURIsForResource=function(x,I){var M=I&&this.getSchemaFromProperty(x,I);return M?[M]:this.getAssociatedSchemas(x)},t.prototype.getSchemaForResource=function(x,I){if(I){var M=this.getSchemaFromProperty(x,I);if(M){var V=be(M);return this.getOrAddSchemaHandle(V).getResolvedSchema()}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===x)return this.cachedSchemaForResource.resolvedSchema;var F=this.getAssociatedSchemas(x),R=F.length>0?this.createCombinedSchema(x,F).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:x,resolvedSchema:R},R},t.prototype.createCombinedSchema=function(x,I){if(1===I.length)return this.getOrAddSchemaHandle(I[0]);var M="schemaservice://combinedSchema/"+encodeURIComponent(x),V={allOf:I.map((function(x){return{$ref:x}}))};return this.addSchemaHandle(M,V)},t.prototype.getMatchingSchemas=function(x,I,M){if(M){var V=M.id||"schemaservice://untitled/matchingSchemas/"+Wn++;return this.addSchemaHandle(V,M).getResolvedSchema().then((function(x){return I.getMatchingSchemas(x.schema).filter((function(x){return!x.inverted}))}))}return this.getSchemaForResource(x.uri,I).then((function(x){return x?I.getMatchingSchemas(x.schema).filter((function(x){return!x.inverted})):[]}))},t}(),Wn=0;function be(x){try{return On.parse(x).toString()}catch{return x}}function ot(x){try{var I=On.parse(x);if("file"===I.scheme)return I.fsPath}catch{}return x}function Ur(x,I){var M=[],V=[],F=[],R=-1,D=Te(x.getText(),!1),L=D.scan();function f(x){M.push(x),V.push(F.length)}for(;17!==L;){switch(L){case 1:case 3:var $={startLine:J=x.positionAt(D.getTokenOffset()).line,endLine:J,kind:1===L?"object":"array"};F.push($);break;case 2:case 4:var U=2===L?"object":"array";if(F.length>0&&F[F.length-1].kind===U){$=F.pop();var q=x.positionAt(D.getTokenOffset()).line;$&&q>$.startLine+1&&R!==$.startLine&&($.endLine=q-1,f($),R=$.startLine)}break;case 13:var J=x.positionAt(D.getTokenOffset()).line,z=x.positionAt(D.getTokenOffset()+D.getTokenLength()).line;1===D.getTokenError()&&J+1<x.lineCount?D.setPosition(x.offsetAt(W.create(J+1,0))):J<z&&(f({startLine:J,endLine:z,kind:Q.Comment}),R=J);break;case 12:var G=x.getText().substr(D.getTokenOffset(),D.getTokenLength()).match(/^\/\/\s*#(region\b)|(endregion\b)/);if(G){q=x.positionAt(D.getTokenOffset()).line;if(G[1]){$={startLine:q,endLine:q,kind:Q.Region};F.push($)}else{for(var X=F.length-1;X>=0&&F[X].kind!==Q.Region;)X--;if(X>=0){$=F[X];F.length=X,q>$.startLine&&R!==$.startLine&&($.endLine=q,f($),R=$.startLine)}}}}L=D.scan()}var Z=I&&I.rangeLimit;if("number"!=typeof Z||M.length<=Z)return M;I&&I.onRangeLimitExceeded&&I.onRangeLimitExceeded(x.uri);for(var Y=[],te=0,ne=V;te<ne.length;te++){(ue=ne[te])<30&&(Y[ue]=(Y[ue]||0)+1)}var re=0,oe=0;for(X=0;X<Y.length;X++){var ae=Y[X];if(ae){if(ae+re>Z){oe=X;break}re+=ae}}var ce=[];for(X=0;X<M.length;X++){var ue;"number"==typeof(ue=V[X])&&(ue<oe||ue===oe&&re++<Z)&&ce.push(M[X])}return ce}function Wr(x,I,M){function n(I,M){return q.create(x.positionAt(I),x.positionAt(M))}var V=Te(x.getText(),!0);function s(x,I){return V.setPosition(x),V.scan()===I?V.getTokenOffset()+V.getTokenLength():-1}return I.map((function e(I){for(var V=x.offsetAt(I),F=M.getNodeFromOffset(V,!0),R=[];F;){switch(F.type){case"string":case"object":case"array":var D=F.offset+1,L=F.offset+F.length-1;D<L&&V>=D&&V<=L&&R.push(n(D,L)),R.push(n(F.offset,F.offset+F.length));break;case"number":case"boolean":case"null":case"property":R.push(n(F.offset,F.offset+F.length))}if("property"===F.type||F.parent&&"array"===F.parent.type){var $=s(F.offset+F.length,5);-1!==$&&R.push(n(F.offset,$))}F=F.parent}for(var U=void 0,W=R.length-1;W>=0;W--)U=bt.create(R[W],U);return U||(U=bt.create(q.create(I,I))),U}))}function Jr(x,I){var M=[];return I.visit((function(V){var F;if("property"===V.type&&"$ref"===V.keyNode.value&&"string"===(null===(F=V.valueNode)||void 0===F?void 0:F.type)){var R=V.valueNode.value,D=function $n(x,I){var M=function Rn(x){return"#"===x?[]:"#"!==x[0]||"/"!==x[1]?null:x.substring(2).split(/\//).map(Un)}(I);return M?Wt(M,x.root):null}(I,R);if(D){var L=x.positionAt(D.offset);M.push({target:"".concat(x.uri,"#").concat(L.line+1,",").concat(L.character+1),range:Dn(x,V.valueNode)})}}return!0})),Promise.resolve(M)}function Dn(x,I){return q.create(x.positionAt(I.offset+1),x.positionAt(I.offset+I.length-1))}function Wt(x,I){if(!I)return null;if(0===x.length)return I;var M=x.shift();if(I&&"object"===I.type){var V=I.properties.find((function(x){return x.keyNode.value===M}));return V?Wt(x,V.valueNode):null}if(I&&"array"===I.type&&M.match(/^(0|[1-9][0-9]*)$/)){var F=Number.parseInt(M),R=I.items[F];return R?Wt(x,R):null}return null}function Un(x){return x.replace(/~1/g,"/").replace(/~0/g,"~")}function qr(x){var I=x.promiseConstructor||Promise,M=new Ln(x.schemaRequestService,x.workspaceContext,I);M.setSchemaContributions(Cn);var V=new Qt(M,x.contributions,I,x.clientCapabilities),F=new Yt(M,x.contributions,I),R=new mn(M),D=new nn(M,I);return{configure:function(x){M.clearExternalSchemas(),x.schemas&&x.schemas.forEach((function(x){M.registerExternalSchema(x.uri,x.fileMatch,x.schema)})),D.configure(x)},resetSchema:function(x){return M.onResourceChange(x)},doValidation:D.doValidation.bind(D),getLanguageStatus:D.getLanguageStatus.bind(D),parseJSONDocument:function(x){return Or(x,{collectComments:!0})},newJSONDocument:function(x,I){return function Tr(x,I){return void 0===I&&(I=[]),new Ht(x,I,[])}(x,I)},getMatchingSchemas:M.getMatchingSchemas.bind(M),doResolve:V.doResolve.bind(V),doComplete:V.doComplete.bind(V),findDocumentSymbols:R.findDocumentSymbols.bind(R),findDocumentSymbols2:R.findDocumentSymbols2.bind(R),findDocumentColors:R.findDocumentColors.bind(R),getColorPresentations:R.getColorPresentations.bind(R),doHover:F.doHover.bind(F),getFoldingRanges:Ur,getSelectionRanges:Wr,findDefinition:function(){return Promise.resolve([])},findLinks:Jr,format:function(x,I,M){var V=void 0;if(I){var F=x.offsetAt(I.start);V={offset:F,length:x.offsetAt(I.end)-F}}var R={tabSize:M?M.tabSize:4,insertSpaces:!0===(null==M?void 0:M.insertSpaces),insertFinalNewline:!0===(null==M?void 0:M.insertFinalNewline),eol:"\n"};return function tr(x,I,M){return gt(x,I,M)}(x.getText(),V,R).map((function(I){return ue.replace(q.create(x.positionAt(I.offset),x.positionAt(I.offset+I.length)),I.content)}))}}}typeof fetch<"u"&&(In=function(x){return fetch(x).then((x=>x.text()))});var Kn=class{_ctx;_languageService;_languageSettings;_languageId;constructor(x,I){this._ctx=x,this._languageSettings=I.languageSettings,this._languageId=I.languageId,this._languageService=qr({workspaceContext:{resolveRelativePath:(x,I)=>function zn(x,I){if(function qn(x){return x.charCodeAt(0)===Jn}(I)){let M=On.parse(x),V=I.split("/");return M.with({path:Br(V)}).toString()}return function Bn(x,...I){let M=On.parse(x),V=M.path.split("/");for(let x of I)V.push(...x.split("/"));return M.with({path:Br(V)}).toString()}(x,I)}(I.substr(0,I.lastIndexOf("/")+1),x)},schemaRequestService:I.enableSchemaRequest?In:void 0}),this._languageService.configure(this._languageSettings)}async doValidation(x){let I=this._getTextDocument(x);if(I){let x=this._languageService.parseJSONDocument(I);return this._languageService.doValidation(I,x,this._languageSettings)}return Promise.resolve([])}async doComplete(x,I){let M=this._getTextDocument(x);if(!M)return null;let V=this._languageService.parseJSONDocument(M);return this._languageService.doComplete(M,I,V)}async doResolve(x){return this._languageService.doResolve(x)}async doHover(x,I){let M=this._getTextDocument(x);if(!M)return null;let V=this._languageService.parseJSONDocument(M);return this._languageService.doHover(M,I,V)}async format(x,I,M){let V=this._getTextDocument(x);if(!V)return[];let F=this._languageService.format(V,I,M);return Promise.resolve(F)}async resetSchema(x){return Promise.resolve(this._languageService.resetSchema(x))}async findDocumentSymbols(x){let I=this._getTextDocument(x);if(!I)return[];let M=this._languageService.parseJSONDocument(I),V=this._languageService.findDocumentSymbols(I,M);return Promise.resolve(V)}async findDocumentColors(x){let I=this._getTextDocument(x);if(!I)return[];let M=this._languageService.parseJSONDocument(I),V=this._languageService.findDocumentColors(I,M);return Promise.resolve(V)}async getColorPresentations(x,I,M){let V=this._getTextDocument(x);if(!V)return[];let F=this._languageService.parseJSONDocument(V),R=this._languageService.getColorPresentations(V,F,I,M);return Promise.resolve(R)}async getFoldingRanges(x,I){let M=this._getTextDocument(x);if(!M)return[];let V=this._languageService.getFoldingRanges(M,I);return Promise.resolve(V)}async getSelectionRanges(x,I){let M=this._getTextDocument(x);if(!M)return[];let V=this._languageService.parseJSONDocument(M),F=this._languageService.getSelectionRanges(M,I,V);return Promise.resolve(F)}_getTextDocument(x){let I=this._ctx.getMirrorModels();for(let M of I)if(M.uri.toString()===x)return Tt.create(x,this._languageId,M.version,M.getValue());return null}},Jn="/".charCodeAt(0),Hn=".".charCodeAt(0);function Br(x){let I=[];for(let M of x)0===M.length||1===M.length&&M.charCodeAt(0)===Hn||(2===M.length&&M.charCodeAt(0)===Hn&&M.charCodeAt(1)===Hn?I.pop():I.push(M));x.length>1&&0===x[x.length-1].length&&I.push("");let M=I.join("/");return 0===x[0].length&&(M="/"+M),M}function _n(x,I){return new Kn(x,I)}return D(L)})()));