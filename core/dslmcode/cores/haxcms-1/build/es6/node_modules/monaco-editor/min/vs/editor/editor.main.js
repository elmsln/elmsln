/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(8ad5e3bceab16a4d0856c43a374b511dffb1e795)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/
(function(){var j,te,he,ve,Ce=["exports","require","vs/base/common/lifecycle","vs/editor/common/core/range","vs/base/common/event","vs/nls","vs/nls!vs/editor/editor.main","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/base/common/async","vs/editor/common/core/position","vs/css!vs/editor/editor.main","vs/base/common/errors","vs/platform/theme/common/themeService","vs/editor/browser/editorExtensions","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/editor/common/languages","vs/base/common/arrays","vs/base/common/types","vs/base/common/cancellation","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/editor/common/editorContextKeys","vs/base/common/uri","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/base/browser/fastDomNode","vs/editor/common/config/editorOptions","vs/editor/common/languages/languageConfigurationRegistry","vs/editor/common/model/textModel","vs/base/browser/browser","vs/editor/common/services/language","vs/platform/registry/common/platform","vs/platform/actions/common/actions","vs/platform/notification/common/notification","vs/base/common/objects","vs/platform/configuration/common/configuration","vs/base/common/resources","vs/platform/keybinding/common/keybinding","vs/base/browser/ui/aria/aria","vs/base/common/actions","vs/editor/common/services/model","vs/base/browser/keyboardEvent","vs/base/common/map","vs/base/common/network","vs/editor/common/model","vs/editor/browser/view/viewPart","vs/platform/opener/common/opener","vs/editor/common/core/editorColorRegistry","vs/platform/instantiation/common/extensions","vs/base/common/iterator","vs/base/common/keyCodes","vs/base/browser/mouseEvent","vs/base/browser/touch","vs/editor/common/services/resolverService","vs/editor/common/cursor/cursorCommon","vs/base/browser/ui/widget","vs/editor/common/core/editOperation","vs/editor/browser/config/domFontInfo","vs/platform/accessibility/common/accessibility","vs/platform/log/common/log","vs/base/common/stopwatch","vs/base/common/htmlContent","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/core/cursorColumns","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/platform/progress/common/progress","vs/platform/theme/common/iconRegistry","vs/base/common/filters","vs/base/common/severity","vs/editor/common/tokens/lineTokens","vs/platform/contextview/browser/contextView","vs/platform/markers/common/markers","vs/platform/quickinput/common/quickInput","vs/editor/common/languages/modesRegistry","vs/platform/storage/common/storage","vs/base/common/linkedList","vs/base/common/path","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/editorWorker","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/telemetry/common/telemetry","vs/base/common/functional","vs/base/browser/event","vs/editor/common/core/stringBuilder","vs/editor/common/textModelEvents","vs/editor/common/services/languageFeatureDebounce","vs/base/common/decorators","vs/base/common/keybindings","vs/base/common/iconLabels","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/browser/view/dynamicViewOverlay","vs/editor/standalone/common/standaloneTheme","vs/platform/clipboard/common/clipboardService","vs/platform/configuration/common/configurationRegistry","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/editorState/browser/editorState","vs/editor/contrib/suggest/browser/suggest","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/hash","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/browser/view/renderingContext","vs/editor/common/core/eolCounter","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/languages/languageConfiguration","vs/editor/common/languages/supports","vs/editor/common/languages/nullMode","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/viewModel/viewEventHandler","vs/editor/contrib/snippet/browser/snippetParser","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/platform/layout/browser/layoutService","vs/editor/browser/editorDom","vs/platform/theme/common/styler","vs/platform/theme/common/theme","vs/base/common/idGenerator","vs/base/common/lazy","vs/base/common/mime","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/browser/stableEditorScroll","vs/editor/common/config/editorZoom","vs/editor/common/core/textModelDefaults","vs/editor/common/core/wordHelper","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/browser/types","vs/editor/common/services/textResourceConfiguration","vs/platform/instantiation/common/serviceCollection","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/message/browser/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/common/cursor/cursorWordOperations","vs/editor/browser/controller/coreCommands","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/base/browser/dnd","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/list/listView","vs/editor/common/config/fontInfo","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/model/utils","vs/editor/common/standalone/standaloneEnums","vs/editor/common/textModelGuides","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewEvents","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/browser/foldingRanges","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/contrib/hover/browser/hoverTypes","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/contrib/inlineCompletions/browser/inlineCompletionToGhostText","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/platform/instantiation/common/descriptors","vs/editor/browser/services/bulkEditService","vs/editor/common/services/markerDecorations","vs/editor/common/commands/shiftCommand","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorTypeOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/standalone/browser/standaloneServices","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/core/textChange","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/prefixSumComputer","vs/editor/common/languages/unicodeTextModelHighlighter","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/guidesTextModelPart","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/services/editorBaseApi","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/viewModel/modelLineProjectionData","vs/editor/common/viewModel/overviewZoneManager","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/inlineCompletions/browser/consts","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/suggest/browser/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/editor/standalone/common/monarch/monarchLexer","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/tree/objectTree","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/colorPicker/browser/color","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/editor/browser/services/editorWorkerService","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/controller/mouseTarget","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/contrib/format/browser/format","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/editor/common/cursor/cursor","vs/editor/common/services/modelService","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/find/browser/findController","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/platform/workspace/common/workspace","vs/platform/workspace/common/workspaceTrust","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/suggest/browser/suggestController","vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/editor/contrib/hover/browser/hover","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/cache","vs/base/common/diff/diffChange","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/fuzzyScorer","vs/base/common/search","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/uuid","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/diff/diffComputer","vs/editor/common/languageSelector","vs/editor/common/languages/linkComputer","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/languages/supports/tokenization","vs/editor/common/languageFeatureRegistry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/languagesAssociations","vs/editor/common/services/semanticTokensDto","vs/editor/common/textModelBracketPairs","vs/editor/common/tokenizationRegistry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/services/editorSimpleWorker","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/viewModel/viewContext","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/intializingRangeProvider","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/contrib/inlineCompletions/browser/utils","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/editor/standalone/browser/colorizer","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/config/charWidthReader","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHoverParticipant","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspaces/common/workspaces","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/contrib/links/browser/getLinks","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/browser/services/webWorker","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/clipboard/browser/clipboardService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/config/editorConfigurationSchema","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/browser/codeLensCache","vs/editor/contrib/suggest/browser/suggestMemory","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/services/markerDecorations","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/codeAction/browser/codeActionUi","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/platform/severityIcon/common/severityIcon","vs/editor/browser/widget/diffReview","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeService","vs/editor/common/cursor/cursorColumnSelection","vs/editor/browser/view/viewController","vs/editor/browser/view/view","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/hover/browser/colorHoverParticipant","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/viewportSemanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/browser/ghostTextModel","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHoverParticipant","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/editor.all","vs/base/browser/dompurify/dompurify","vs/editor/edcore.main"],ie=function(j){for(var te=[],he=0,ve=j.length;he<ve;he++)te[he]=Ce[j[he]];return te};te=j||(j={}),he=function(){function m(){this._pendingLoads=0}return m.prototype.attachListeners=function(j,te,he,ve){var p=function(){te.removeEventListener("load",h),te.removeEventListener("error",g)},h=function(j){p(),he()},g=function(j){p(),ve(j)};te.addEventListener("load",h),te.addEventListener("error",g)},m.prototype._onLoad=function(j,te){this._pendingLoads--,te()},m.prototype._onLoadError=function(j,te,he){this._pendingLoads--,te(he)},m.prototype._insertLinkNode=function(j){this._pendingLoads++,(document.head||document.getElementsByTagName("head")[0]).appendChild(j)},m.prototype.createLinkTag=function(j,te,he,ve){var Ce=this,ye=document.createElement("link");return ye.setAttribute("rel","stylesheet"),ye.setAttribute("type","text/css"),ye.setAttribute("data-name",j),this.attachListeners(j,ye,(function(){return Ce._onLoad(j,he)}),(function(te){return Ce._onLoadError(j,ve,te)})),ye.setAttribute("href",te),ye},m.prototype._linkTagExists=function(j,te){var he,ve,Ce,ye,Ee=document.getElementsByTagName("link");for(he=0,ve=Ee.length;he<ve;he++)if(Ce=Ee[he].getAttribute("data-name"),ye=Ee[he].getAttribute("href"),Ce===j||ye===te)return!0;return!1},m.prototype.load=function(j,te,he,ve){if(this._linkTagExists(j,te))he();else{var Ce=this.createLinkTag(j,te,he,ve);this._insertLinkNode(Ce)}},m}(),ve=function(){function m(){this._cssLoader=new he}return m.prototype.load=function(j,te,he,ve){if(((ve=ve||{})["vs/css"]||{}).disabled)he({});else{var Ce=te.toUrl(j+".css");this._cssLoader.load(j,Ce,(function(j){he({})}),(function(j){"function"==typeof he.error&&he.error("Could not find "+Ce+" or it was empty")}))}},m}(),te.CSSPlugin=ve,define("vs/css",new ve);var ye,Ee=this&&this.__spreadArrays||function(){for(var j=0,te=0,he=arguments.length;te<he;te++)j+=arguments[te].length;var ve=Array(j),Ce=0;for(te=0;te<he;te++)for(var ye=arguments[te],Ee=0,Ie=ye.length;Ee<Ie;Ee++,Ce++)ve[Ce]=ye[Ee];return ve};!function(j){var te=function(){function b(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(b.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!1,configurable:!0}),b.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo="undefined"!=typeof document&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},b}();function y(j,te,he){var ve;return ve=0===te.length?j:j.replace(/\{(\d+)\}/g,(function(j,he){var ve=he[0],Ce=te[ve],ye=j;return"string"==typeof Ce?ye=Ce:("number"==typeof Ce||"boolean"==typeof Ce||null==Ce)&&(ye=String(Ce)),ye})),he.isPseudo&&(ve="［"+ve.replace(/[aouei]/g,"$&$&")+"］"),ve}function D(j,te,he){for(var ve=[],Ce=3;Ce<arguments.length;Ce++)ve[Ce-3]=arguments[Ce];return y(he,ve,j)}function I(j,te){return function(he,ve){var Ce=Array.prototype.slice.call(arguments,2);return y(j[he],Ce,te)}}var he=function(){function b(j){var te=this;this._env=j,this.localize=function(j,he){for(var ve=[],Ce=2;Ce<arguments.length;Ce++)ve[Ce-2]=arguments[Ce];return D.apply(void 0,Ee([te._env,j,he],ve))}}return b.prototype.setPseudoTranslation=function(j){this._env._isPseudo=j},b.prototype.create=function(j,te){return{localize:I(te[j],this._env)}},b.prototype.load=function(j,te,he,ve){var Ce=this;if(ve=ve||{},j&&0!==j.length){var ye=ve["vs/nls"]||{},Ee=ye.availableLanguages?function m(j,te){var he=j[te];return he||(he=j["*"])?he:null}(ye.availableLanguages,j):null,Ie=".nls";null!==Ee&&Ee!==b.DEFAULT_TAG&&(Ie=Ie+"."+Ee);var r=function(te){Array.isArray(te)?te.localize=I(te,Ce._env):te.localize=I(te[j],Ce._env),he(te)};"function"==typeof ye.loadBundle?ye.loadBundle(j,Ee,(function(he,ve){he?te([j+".nls"],r):r(ve)})):te([j+Ie],r)}else he({localize:this.localize})},b.DEFAULT_TAG="i-default",b}();j.NLSPlugin=he,define("vs/nls",new he(new te))}(ye||(ye={}));var Ie=Object.hasOwnProperty,Ne=Object.setPrototypeOf,Oe=Object.isFrozen,Ke=Object.getPrototypeOf,je=Object.getOwnPropertyDescriptor,Ze=Object.freeze,Ye=Object.seal,et=Object.create,nt="undefined"!=typeof Reflect&&Reflect,rt=nt.apply,at=nt.construct;rt||(rt=function(j,te,he){return j.apply(te,he)}),Ze||(Ze=function(j){return j}),Ye||(Ye=function(j){return j}),at||(at=function(j,te){return new(Function.prototype.bind.apply(j,[null].concat(/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function Yi(j){if(Array.isArray(j)){for(var te=0,he=Array(j.length);te<j.length;te++)he[te]=j[te];return he}return Array.from(j)}(te))))});var ct=ut(Array.prototype.forEach),ht=ut(Array.prototype.pop),mt=ut(Array.prototype.push),pt=ut(String.prototype.toLowerCase),ft=ut(String.prototype.match),_t=ut(String.prototype.replace),Ct=ut(String.prototype.indexOf),bt=ut(String.prototype.trim),St=ut(RegExp.prototype.test),Dt=function rn(j){return function(){for(var te=arguments.length,he=Array(te),ve=0;ve<te;ve++)he[ve]=arguments[ve];return at(j,he)}}(TypeError);function ut(j){return function(te){for(var he=arguments.length,ve=Array(he>1?he-1:0),Ce=1;Ce<he;Ce++)ve[Ce-1]=arguments[Ce];return rt(j,te,ve)}}function Qe(j,te){Ne&&Ne(j,null);for(var he=te.length;he--;){var ve=te[he];if("string"==typeof ve){var Ce=pt(ve);Ce!==ve&&(Oe(te)||(te[he]=Ce),ve=Ce)}j[ve]=!0}return j}function wt(j){var te=et(null),he=void 0;for(he in j)rt(Ie,j,[he])&&(te[he]=j[he]);return te}function Rt(j,te){for(;null!==j;){var he=je(j,te);if(he){if(he.get)return ut(he.get);if("function"==typeof he.value)return ut(he.value)}j=Ke(j)}return function m(j){return console.warn("fallback value for",j),null}}var It=Ze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),kt=Ze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),At=Ze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Pt=Ze(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Kt=Ze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Ut=Ze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),jt=Ze(["#text"]),$t=Ze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),qt=Ze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Gt=Ze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zt=Ze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Yt=Ye(/\{\{[\s\S]*|[\s\S]*\}\}/gm),li=Ye(/<%[\s\S]*|[\s\S]*%>/gm),di=Ye(/^data-[\-\w.\u00B7-\uFFFF]/),ci=Ye(/^aria-[\-\w]+$/),hi=Ye(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ui=Ye(/^(?:\w+script|data):/i),gi=Ye(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j};function gt(j){if(Array.isArray(j)){for(var te=0,he=Array(j.length);te<j.length;te++)he[te]=j[te];return he}return Array.from(j)}var pi=function bi(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,e=function(j){return bi(j)};if(e.version="2.3.1",e.removed=[],!j||!j.document||9!==j.document.nodeType)return e.isSupported=!1,e;var te=j.document,he=j.document,ve=j.DocumentFragment,Ce=j.HTMLTemplateElement,ye=j.Node,Ee=j.Element,Ie=j.NodeFilter,Ne=j.NamedNodeMap,Oe=void 0===Ne?j.NamedNodeMap||j.MozNamedAttrMap:Ne,Ke=j.Text,je=j.Comment,Ye=j.DOMParser,et=j.trustedTypes,nt=Ee.prototype,rt=Rt(nt,"cloneNode"),at=Rt(nt,"nextSibling"),pi=Rt(nt,"childNodes"),fi=Rt(nt,"parentNode");if("function"==typeof Ce){var vi=he.createElement("template");vi.content&&vi.content.ownerDocument&&(he=vi.content.ownerDocument)}var Ci=function(j,te){if("object"!==(void 0===j?"undefined":mi(j))||"function"!=typeof j.createPolicy)return null;var he=null,ve="data-tt-policy-suffix";te.currentScript&&te.currentScript.hasAttribute(ve)&&(he=te.currentScript.getAttribute(ve));var Ce="dompurify"+(he?"#"+he:"");try{return j.createPolicy(Ce,{createHTML:function(j){return j}})}catch{return console.warn("TrustedTypes policy "+Ce+" could not be created."),null}}(et,te),Zi=Ci&&Nn?Ci.createHTML(""):"",Xi=he,Qi=Xi.implementation,Ji=Xi.createNodeIterator,en=Xi.createDocumentFragment,tn=Xi.getElementsByTagName,nn=te.importNode,on={};try{on=wt(he).documentMode?he.documentMode:{}}catch{}var sn={};e.isSupported="function"==typeof fi&&Qi&&void 0!==Qi.createHTMLDocument&&9!==on;var an=Yt,ln=li,dn=di,cn=ci,hn=ui,un=gi,gn=hi,mn=null,pn=Qe({},[].concat(gt(It),gt(kt),gt(At),gt(Kt),gt(jt))),fn=null,_n=Qe({},[].concat(gt($t),gt(qt),gt(Gt),gt(Zt))),vn=null,Cn=null,bn=!0,Sn=!0,wn=!1,yn=!1,En=!1,Ln=!1,Dn=!1,In=!1,xn=!1,kn=!0,Nn=!1,Mn=!0,Tn=!0,Rn=!1,An={},On=null,Pn=Qe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Fn=null,Bn=Qe({},["audio","video","img","source","image","track"]),Wn=null,zn=Qe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Vn="http://www.w3.org/1998/Math/MathML",Hn="http://www.w3.org/2000/svg",Kn="http://www.w3.org/1999/xhtml",Un=Kn,jn=!1,$n=null,qn=he.createElement("form"),Le=function(j){$n&&$n===j||((!j||"object"!==(void 0===j?"undefined":mi(j)))&&(j={}),j=wt(j),mn="ALLOWED_TAGS"in j?Qe({},j.ALLOWED_TAGS):pn,fn="ALLOWED_ATTR"in j?Qe({},j.ALLOWED_ATTR):_n,Wn="ADD_URI_SAFE_ATTR"in j?Qe(wt(zn),j.ADD_URI_SAFE_ATTR):zn,Fn="ADD_DATA_URI_TAGS"in j?Qe(wt(Bn),j.ADD_DATA_URI_TAGS):Bn,On="FORBID_CONTENTS"in j?Qe({},j.FORBID_CONTENTS):Pn,vn="FORBID_TAGS"in j?Qe({},j.FORBID_TAGS):{},Cn="FORBID_ATTR"in j?Qe({},j.FORBID_ATTR):{},An="USE_PROFILES"in j&&j.USE_PROFILES,bn=!1!==j.ALLOW_ARIA_ATTR,Sn=!1!==j.ALLOW_DATA_ATTR,wn=j.ALLOW_UNKNOWN_PROTOCOLS||!1,yn=j.SAFE_FOR_TEMPLATES||!1,En=j.WHOLE_DOCUMENT||!1,In=j.RETURN_DOM||!1,xn=j.RETURN_DOM_FRAGMENT||!1,kn=!1!==j.RETURN_DOM_IMPORT,Nn=j.RETURN_TRUSTED_TYPE||!1,Dn=j.FORCE_BODY||!1,Mn=!1!==j.SANITIZE_DOM,Tn=!1!==j.KEEP_CONTENT,Rn=j.IN_PLACE||!1,gn=j.ALLOWED_URI_REGEXP||gn,Un=j.NAMESPACE||Kn,yn&&(Sn=!1),xn&&(In=!0),An&&(mn=Qe({},[].concat(gt(jt))),fn=[],!0===An.html&&(Qe(mn,It),Qe(fn,$t)),!0===An.svg&&(Qe(mn,kt),Qe(fn,qt),Qe(fn,Zt)),!0===An.svgFilters&&(Qe(mn,At),Qe(fn,qt),Qe(fn,Zt)),!0===An.mathMl&&(Qe(mn,Kt),Qe(fn,Gt),Qe(fn,Zt))),j.ADD_TAGS&&(mn===pn&&(mn=wt(mn)),Qe(mn,j.ADD_TAGS)),j.ADD_ATTR&&(fn===_n&&(fn=wt(fn)),Qe(fn,j.ADD_ATTR)),j.ADD_URI_SAFE_ATTR&&Qe(Wn,j.ADD_URI_SAFE_ATTR),j.FORBID_CONTENTS&&(On===Pn&&(On=wt(On)),Qe(On,j.FORBID_CONTENTS)),Tn&&(mn["#text"]=!0),En&&Qe(mn,["html","head","body"]),mn.table&&(Qe(mn,["tbody"]),delete vn.tbody),Ze&&Ze(j),$n=j)},Gn=Qe({},["mi","mo","mn","ms","mtext"]),Zn=Qe({},["foreignobject","desc","title","annotation-xml"]),Yn=Qe({},kt);Qe(Yn,At),Qe(Yn,Pt);var Xn=Qe({},Kt);Qe(Xn,Ut);var Ge=function(j){mt(e.removed,{element:j});try{j.parentNode.removeChild(j)}catch{try{j.outerHTML=Zi}catch{j.remove()}}},we=function(j,te){try{mt(e.removed,{attribute:te.getAttributeNode(j),from:te})}catch{mt(e.removed,{attribute:null,from:te})}if(te.removeAttribute(j),"is"===j&&!fn[j])if(In||xn)try{Ge(te)}catch{}else try{te.setAttribute(j,"")}catch{}},Se=function(j){var te=void 0,ve=void 0;if(Dn)j="<remove></remove>"+j;else{var Ce=ft(j,/^[\r\n\t ]+/);ve=Ce&&Ce[0]}var ye=Ci?Ci.createHTML(j):j;if(Un===Kn)try{te=(new Ye).parseFromString(ye,"text/html")}catch{}if(!te||!te.documentElement){te=Qi.createDocument(Un,"template",null);try{te.documentElement.innerHTML=jn?"":ye}catch{}}var Ee=te.body||te.documentElement;return j&&ve&&Ee.insertBefore(he.createTextNode(ve),Ee.childNodes[0]||null),Un===Kn?tn.call(te,En?"html":"body")[0]:En?te.documentElement:Ee},De=function(j){return Ji.call(j.ownerDocument||j,j,Ie.SHOW_ELEMENT|Ie.SHOW_COMMENT|Ie.SHOW_TEXT,null,!1)},Fe=function(j){return"object"===(void 0===ye?"undefined":mi(ye))?j instanceof ye:j&&"object"===(void 0===j?"undefined":mi(j))&&"number"==typeof j.nodeType&&"string"==typeof j.nodeName},xe=function(j,te,he){!sn[j]||ct(sn[j],(function(j){j.call(e,te,he,$n)}))},Ve=function(j){var te=void 0;if(xe("beforeSanitizeElements",j,null),function(j){return!(j instanceof Ke||j instanceof je||"string"==typeof j.nodeName&&"string"==typeof j.textContent&&"function"==typeof j.removeChild&&j.attributes instanceof Oe&&"function"==typeof j.removeAttribute&&"function"==typeof j.setAttribute&&"string"==typeof j.namespaceURI&&"function"==typeof j.insertBefore)}(j)||ft(j.nodeName,/[\u0080-\uFFFF]/))return Ge(j),!0;var he=pt(j.nodeName);if(xe("uponSanitizeElement",j,{tagName:he,allowedTags:mn}),!Fe(j.firstElementChild)&&(!Fe(j.content)||!Fe(j.content.firstElementChild))&&St(/<[/\w]/g,j.innerHTML)&&St(/<[/\w]/g,j.textContent)||"select"===he&&St(/<template/i,j.innerHTML))return Ge(j),!0;if(!mn[he]||vn[he]){if(Tn&&!On[he]){var ve=fi(j)||j.parentNode,Ce=pi(j)||j.childNodes;if(Ce&&ve)for(var ye=Ce.length-1;ye>=0;--ye)ve.insertBefore(rt(Ce[ye],!0),at(j))}return Ge(j),!0}return j instanceof Ee&&!function(j){var te=fi(j);(!te||!te.tagName)&&(te={namespaceURI:Kn,tagName:"template"});var he=pt(j.tagName),ve=pt(te.tagName);if(j.namespaceURI===Hn)return te.namespaceURI===Kn?"svg"===he:te.namespaceURI===Vn?"svg"===he&&("annotation-xml"===ve||Gn[ve]):Boolean(Yn[he]);if(j.namespaceURI===Vn)return te.namespaceURI===Kn?"math"===he:te.namespaceURI===Hn?"math"===he&&Zn[ve]:Boolean(Xn[he]);if(j.namespaceURI===Kn){if(te.namespaceURI===Hn&&!Zn[ve]||te.namespaceURI===Vn&&!Gn[ve])return!1;var Ce=Qe({},["title","style","font","a","script"]);return!Xn[he]&&(Ce[he]||!Yn[he])}return!1}(j)||("noscript"===he||"noembed"===he)&&St(/<\/no(script|embed)/i,j.innerHTML)?(Ge(j),!0):(yn&&3===j.nodeType&&(te=j.textContent,te=_t(te,an," "),te=_t(te,ln," "),j.textContent!==te&&(mt(e.removed,{element:j.cloneNode()}),j.textContent=te)),xe("afterSanitizeElements",j,null),!1)},qe=function(j,te,ve){if(Mn&&("id"===te||"name"===te)&&(ve in he||ve in qn))return!1;if((!Sn||Cn[te]||!St(dn,te))&&(!bn||!St(cn,te))){if(!fn[te]||Cn[te])return!1;if(!Wn[te]&&!St(gn,_t(ve,un,""))&&("src"!==te&&"xlink:href"!==te&&"href"!==te||"script"===j||0!==Ct(ve,"data:")||!Fn[j])&&(!wn||St(hn,_t(ve,un,"")))&&ve)return!1}return!0},We=function(j){var te=void 0,he=void 0,ve=void 0,Ce=void 0;xe("beforeSanitizeAttributes",j,null);var ye=j.attributes;if(ye){var Ee={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fn};for(Ce=ye.length;Ce--;){var Ie=te=ye[Ce],Ne=Ie.name,Oe=Ie.namespaceURI;if(he=bt(te.value),ve=pt(Ne),Ee.attrName=ve,Ee.attrValue=he,Ee.keepAttr=!0,Ee.forceKeepAttr=void 0,xe("uponSanitizeAttribute",j,Ee),he=Ee.attrValue,!Ee.forceKeepAttr&&(we(Ne,j),Ee.keepAttr)){if(St(/\/>/i,he)){we(Ne,j);continue}yn&&(he=_t(he,an," "),he=_t(he,ln," "));var Ke=j.nodeName.toLowerCase();if(qe(Ke,ve,he))try{Oe?j.setAttributeNS(Oe,Ne,he):j.setAttribute(Ne,he),ht(e.removed)}catch{}}}xe("afterSanitizeAttributes",j,null)}},Qn=function Be(j){var te=void 0,he=De(j);for(xe("beforeSanitizeShadowDOM",j,null);te=he.nextNode();)xe("uponSanitizeShadowNode",te,null),!Ve(te)&&(te.content instanceof ve&&Be(te.content),We(te));xe("afterSanitizeShadowDOM",j,null)};return e.sanitize=function(he,Ce){var Ee=void 0,Ie=void 0,Ne=void 0,Oe=void 0,Ke=void 0;if((jn=!he)&&(he="\x3c!--\x3e"),"string"!=typeof he&&!Fe(he)){if("function"!=typeof he.toString)throw Dt("toString is not a function");if("string"!=typeof(he=he.toString()))throw Dt("dirty is not a string, aborting")}if(!e.isSupported){if("object"===mi(j.toStaticHTML)||"function"==typeof j.toStaticHTML){if("string"==typeof he)return j.toStaticHTML(he);if(Fe(he))return j.toStaticHTML(he.outerHTML)}return he}if(Ln||Le(Ce),e.removed=[],"string"==typeof he&&(Rn=!1),!Rn)if(he instanceof ye)1===(Ie=(Ee=Se("\x3c!----\x3e")).ownerDocument.importNode(he,!0)).nodeType&&"BODY"===Ie.nodeName||"HTML"===Ie.nodeName?Ee=Ie:Ee.appendChild(Ie);else{if(!In&&!yn&&!En&&-1===he.indexOf("<"))return Ci&&Nn?Ci.createHTML(he):he;if(!(Ee=Se(he)))return In?null:Zi}Ee&&Dn&&Ge(Ee.firstChild);for(var je=De(Rn?he:Ee);Ne=je.nextNode();)3===Ne.nodeType&&Ne===Oe||Ve(Ne)||(Ne.content instanceof ve&&Qn(Ne.content),We(Ne),Oe=Ne);if(Oe=null,Rn)return he;if(In){if(xn)for(Ke=en.call(Ee.ownerDocument);Ee.firstChild;)Ke.appendChild(Ee.firstChild);else Ke=Ee;return kn&&(Ke=nn.call(te,Ke,!0)),Ke}var Ze=En?Ee.outerHTML:Ee.innerHTML;return yn&&(Ze=_t(Ze,an," "),Ze=_t(Ze,ln," ")),Ci&&Nn?Ci.createHTML(Ze):Ze},e.setConfig=function(j){Le(j),Ln=!0},e.clearConfig=function(){$n=null,Ln=!1},e.isValidAttribute=function(j,te,he){$n||Le({});var ve=pt(j),Ce=pt(te);return qe(ve,Ce,he)},e.addHook=function(j,te){"function"==typeof te&&(sn[j]=sn[j]||[],mt(sn[j],te))},e.removeHook=function(j){sn[j]&&ht(sn[j])},e.removeHooks=function(j){sn[j]&&(sn[j]=[])},e.removeAllHooks=function(){sn={}},e}();define("vs/base/browser/dompurify/dompurify",(function(){return pi})),define(Ce[30],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.createFastDomNode=te.FastDomNode=void 0;class y{constructor(j){this.domNode=j,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(j){this._maxWidth!==j&&(this._maxWidth=j,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(j){this._width!==j&&(this._width=j,this.domNode.style.width=this._width+"px")}setHeight(j){this._height!==j&&(this._height=j,this.domNode.style.height=this._height+"px")}setTop(j){this._top!==j&&(this._top=j,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(j){this._left!==j&&(this._left=j,this.domNode.style.left=this._left+"px")}setBottom(j){this._bottom!==j&&(this._bottom=j,this.domNode.style.bottom=this._bottom+"px")}setRight(j){this._right!==j&&(this._right=j,this.domNode.style.right=this._right+"px")}setFontFamily(j){this._fontFamily!==j&&(this._fontFamily=j,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(j){this._fontWeight!==j&&(this._fontWeight=j,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(j){this._fontSize!==j&&(this._fontSize=j,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(j){this._fontFeatureSettings!==j&&(this._fontFeatureSettings=j,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(j){this._lineHeight!==j&&(this._lineHeight=j,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(j){this._letterSpacing!==j&&(this._letterSpacing=j,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(j){this._className!==j&&(this._className=j,this.domNode.className=this._className)}toggleClassName(j,te){this.domNode.classList.toggle(j,te),this._className=this.domNode.className}setDisplay(j){this._display!==j&&(this._display=j,this.domNode.style.display=this._display)}setPosition(j){this._position!==j&&(this._position=j,this.domNode.style.position=this._position)}setVisibility(j){this._visibility!==j&&(this._visibility=j,this.domNode.style.visibility=this._visibility)}setBackgroundColor(j){this._backgroundColor!==j&&(this._backgroundColor=j,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(j){this._layerHint!==j&&(this._layerHint=j,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(j){this._boxShadow!==j&&(this._boxShadow=j,this.domNode.style.boxShadow=j)}setContain(j){this._contain!==j&&(this._contain=j,this.domNode.style.contain=this._contain)}setAttribute(j,te){this.domNode.setAttribute(j,te)}removeAttribute(j){this.domNode.removeAttribute(j)}appendChild(j){this.domNode.appendChild(j.domNode)}removeChild(j){this.domNode.removeChild(j.domNode)}}te.FastDomNode=y,te.createFastDomNode=function m(j){return new y(j)}})),define(Ce[211],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.IframeUtils=void 0;let he=!1,ve=null;function D(j){if(!j.parent||j.parent===j)return null;try{let te=j.location,ve=j.parent.location;if("null"!==te.origin&&"null"!==ve.origin&&te.origin!==ve.origin)return he=!0,null}catch{return he=!0,null}return j.parent}te.IframeUtils=class I{static getSameOriginWindowChain(){if(!ve){ve=[];let j,te=window;do{j=D(te),j?ve.push({window:te,iframeElement:te.frameElement||null}):ve.push({window:te,iframeElement:null}),te=j}while(te)}return ve.slice(0)}static hasDifferentOriginAncestor(){return ve||this.getSameOriginWindowChain(),he}static getPositionOfChildWindowRelativeToAncestorWindow(j,te){if(!te||j===te)return{top:0,left:0};let he=0,ve=0,Ce=this.getSameOriginWindowChain();for(const j of Ce){if(he+=j.window.scrollY,ve+=j.window.scrollX,j.window===te||!j.iframeElement)break;let Ce=j.iframeElement.getBoundingClientRect();he+=Ce.top,ve+=Ce.left}return{top:he,left:ve}}}})),define(Ce[307],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.ListError=void 0;class y extends Error{constructor(j,te){super(`ListError [${j}] ${te}`)}}te.ListError=y})),define(Ce[308],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.CombinedSpliceable=void 0;te.CombinedSpliceable=class y{constructor(j){this.spliceables=j}splice(j,te,he){this.spliceables.forEach((ve=>ve.splice(j,te,he)))}}})),define(Ce[212],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.ScrollbarState=void 0;class m{constructor(j,te,he,ve,Ce,ye){this._scrollbarSize=Math.round(te),this._oppositeScrollbarSize=Math.round(he),this._arrowSize=Math.round(j),this._visibleSize=ve,this._scrollSize=Ce,this._scrollPosition=ye,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new m(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(j){const te=Math.round(j);return this._visibleSize!==te&&(this._visibleSize=te,this._refreshComputedValues(),!0)}setScrollSize(j){const te=Math.round(j);return this._scrollSize!==te&&(this._scrollSize=te,this._refreshComputedValues(),!0)}setScrollPosition(j){const te=Math.round(j);return this._scrollPosition!==te&&(this._scrollPosition=te,this._refreshComputedValues(),!0)}setScrollbarSize(j){this._scrollbarSize=Math.round(j)}setOppositeScrollbarSize(j){this._oppositeScrollbarSize=Math.round(j)}static _computeValues(j,te,he,ve,Ce){const ye=Math.max(0,he-j),Ee=Math.max(0,ye-2*te),Ie=ve>0&&ve>he;if(!Ie)return{computedAvailableSize:Math.round(ye),computedIsNeeded:Ie,computedSliderSize:Math.round(Ee),computedSliderRatio:0,computedSliderPosition:0};const Ne=Math.round(Math.max(20,Math.floor(he*Ee/ve))),Oe=(Ee-Ne)/(ve-he),Ke=Ce*Oe;return{computedAvailableSize:Math.round(ye),computedIsNeeded:Ie,computedSliderSize:Math.round(Ne),computedSliderRatio:Oe,computedSliderPosition:Math.round(Ke)}}_refreshComputedValues(){const j=m._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=j.computedAvailableSize,this._computedIsNeeded=j.computedIsNeeded,this._computedSliderSize=j.computedSliderSize,this._computedSliderRatio=j.computedSliderRatio,this._computedSliderPosition=j.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(j){if(!this._computedIsNeeded)return 0;const te=j-this._arrowSize-this._computedSliderSize/2;return Math.round(te/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(j){if(!this._computedIsNeeded)return 0;const te=j-this._arrowSize;let he=this._scrollPosition;return te<this._computedSliderPosition?he-=this._visibleSize:he+=this._visibleSize,he}getDesiredScrollPositionFromDelta(j){if(!this._computedIsNeeded)return 0;const te=this._computedSliderPosition+j;return Math.round(te/this._computedSliderRatio)}}te.ScrollbarState=m})),define(Ce[109],ie([1,0]),(function(j,te){var he;Object.defineProperty(te,"__esModule",{value:!0}),te.WeakMapper=te.TreeError=te.TreeMouseEventTarget=void 0,(he=te.TreeMouseEventTarget||(te.TreeMouseEventTarget={}))[he.Unknown=0]="Unknown",he[he.Twistie=1]="Twistie",he[he.Element=2]="Element";class m extends Error{constructor(j,te){super(`TreeError [${j}] ${te}`)}}te.TreeError=m;te.WeakMapper=class D{constructor(j){this.fn=j,this._map=new WeakMap}map(j){let te=this._map.get(j);return te||(te=this.fn(j),this._map.set(j,te)),te}}})),define(Ce[19],ie([1,0]),(function(j,te){function l(j,te){for(let he=j.length-1;he>=0;he--){if(te(j[he]))return he}return-1}function f(j,te,he){const ve=v(j,te),Ce=j.length,ye=he.length;j.length=Ce+ye;for(let te=Ce-1;te>=ve;te--)j[te+ye]=j[te];for(let te=0;te<ye;te++)j[te+ve]=he[te]}function v(j,te){return te<0?Math.max(te+j.length,0):Math.min(te,j.length)}Object.defineProperty(te,"__esModule",{value:!0}),te.ArrayQueue=te.findMinBy=te.findLastMaxBy=te.findMaxBy=te.numberComparator=te.compareBy=te.splice=te.insertInto=te.asArray=te.pushToEnd=te.pushToStart=te.arrayInsert=te.range=te.flatten=te.firstOrDefault=te.lastIndex=te.findLast=te.distinct=te.isNonEmptyArray=te.isFalsyOrEmpty=te.coalesce=te.groupBy=te.quickSelect=te.findFirstInSorted=te.binarySearch=te.equals=te.tail2=te.tail=void 0,te.tail=function y(j,te=0){return j[j.length-(1+te)]},te.tail2=function m(j){if(0===j.length)throw new Error("Invalid tail call");return[j.slice(0,j.length-1),j[j.length-1]]},te.equals=function D(j,te,he=((j,te)=>j===te)){if(j===te)return!0;if(!j||!te||j.length!==te.length)return!1;for(let ve=0,Ce=j.length;ve<Ce;ve++)if(!he(j[ve],te[ve]))return!1;return!0},te.binarySearch=function I(j,te,he){let ve=0,Ce=j.length-1;for(;ve<=Ce;){const ye=(ve+Ce)/2|0,Ee=he(j[ye],te);if(Ee<0)ve=ye+1;else{if(!(Ee>0))return ye;Ce=ye-1}}return-(ve+1)},te.findFirstInSorted=function w(j,te){let he=0,ve=j.length;if(0===ve)return 0;for(;he<ve;){const Ce=Math.floor((he+ve)/2);te(j[Ce])?ve=Ce:he=Ce+1}return he},te.quickSelect=function b(j,te,he){if((j|=0)>=te.length)throw new TypeError("invalid index");let ve=te[Math.floor(te.length*Math.random())],Ce=[],ye=[],Ee=[];for(let j of te){const te=he(j,ve);te<0?Ce.push(j):te>0?ye.push(j):Ee.push(j)}return j<Ce.length?b(j,Ce,he):j<Ce.length+Ee.length?Ee[0]:b(j-(Ce.length+Ee.length),ye,he)},te.groupBy=function p(j,te){const he=[];let ve;for(const Ce of j.slice(0).sort(te))ve&&0===te(ve[0],Ce)?ve.push(Ce):(ve=[Ce],he.push(ve));return he},te.coalesce=function h(j){return j.filter((j=>!!j))},te.isFalsyOrEmpty=function g(j){return!Array.isArray(j)||0===j.length},te.isNonEmptyArray=function t(j){return Array.isArray(j)&&j.length>0},te.distinct=function i(j,te=(j=>j)){const he=new Set;return j.filter((j=>{const ve=te(j);return!he.has(ve)&&(he.add(ve),!0)}))},te.findLast=function n(j,te){const he=l(j,te);if(-1!==he)return j[he]},te.lastIndex=l,te.firstOrDefault=function c(j,te){return j.length>0?j[0]:te},te.flatten=function r(j){return[].concat(...j)},te.range=function s(j,te){let he="number"==typeof te?j:0;"number"==typeof te?he=j:(he=0,te=j);const ve=[];if(he<=te)for(let j=he;j<te;j++)ve.push(j);else for(let j=he;j>te;j--)ve.push(j);return ve},te.arrayInsert=function o(j,te,he){const ve=j.slice(0,te),Ce=j.slice(te);return ve.concat(he,Ce)},te.pushToStart=function a(j,te){const he=j.indexOf(te);he>-1&&(j.splice(he,1),j.unshift(te))},te.pushToEnd=function d(j,te){const he=j.indexOf(te);he>-1&&(j.splice(he,1),j.push(te))},te.asArray=function u(j){return Array.isArray(j)?j:[j]},te.insertInto=f,te.splice=function S(j,te,he,ve){const Ce=v(j,te),ye=j.splice(Ce,he);return f(j,Ce,ve),ye},te.compareBy=function C(j,te){return(he,ve)=>te(j(he),j(ve))};function L(j,te){if(0===j.length)return;let he=j[0];for(let ve=1;ve<j.length;ve++){const Ce=j[ve];te(Ce,he)>0&&(he=Ce)}return he}te.numberComparator=(j,te)=>j-te,te.findMaxBy=L,te.findLastMaxBy=function E(j,te){if(0===j.length)return;let he=j[0];for(let ve=1;ve<j.length;ve++){const Ce=j[ve];te(Ce,he)>=0&&(he=Ce)}return he},te.findMinBy=function N(j,te){return L(j,((j,he)=>-te(j,he)))};te.ArrayQueue=class k{constructor(j){this.items=j,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(j){let te=this.firstIdx;for(;te<this.items.length&&j(this.items[te]);)te++;const he=te===this.firstIdx?null:this.items.slice(this.firstIdx,te);return this.firstIdx=te,he}takeFromEndWhile(j){let te=this.lastIdx;for(;te>=0&&j(this.items[te]);)te--;const he=te===this.lastIdx?null:this.items.slice(te+1,this.lastIdx+1);return this.lastIdx=te,he}peek(){return this.items[this.firstIdx]}dequeue(){const j=this.items[this.firstIdx];return this.firstIdx++,j}takeCount(j){const te=this.items.slice(this.firstIdx,this.firstIdx+j);return this.firstIdx+=j,te}}})),define(Ce[213],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.ok=void 0,te.ok=function y(j,te){if(!j)throw new Error(te?`Assertion failed (${te})`:"Assertion Failed")}})),define(Ce[110],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.writeUInt8=te.readUInt8=te.writeUInt32BE=te.readUInt32BE=te.writeUInt16LE=te.readUInt16LE=te.VSBuffer=void 0;const he="undefined"!=typeof Buffer;let ve;class D{constructor(j){this.buffer=j,this.byteLength=this.buffer.byteLength}static wrap(j){return he&&!Buffer.isBuffer(j)&&(j=Buffer.from(j.buffer,j.byteOffset,j.byteLength)),new D(j)}toString(){return he?this.buffer.toString():(ve||(ve=new TextDecoder),ve.decode(this.buffer))}}te.VSBuffer=D,te.readUInt16LE=function I(j,te){return j[te+0]<<0>>>0|j[te+1]<<8>>>0},te.writeUInt16LE=function w(j,te,he){j[he+0]=255&te,te>>>=8,j[he+1]=255&te},te.readUInt32BE=function b(j,te){return j[te]*Math.pow(2,24)+j[te+1]*Math.pow(2,16)+j[te+2]*Math.pow(2,8)+j[te+3]},te.writeUInt32BE=function p(j,te,he){j[he+3]=te,te>>>=8,j[he+2]=te,te>>>=8,j[he+1]=te,te>>>=8,j[he]=te},te.readUInt8=function h(j,te){return j[te]},te.writeUInt8=function g(j,te,he){j[he]=te}})),define(Ce[309],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.LRUCachedComputed=void 0;te.LRUCachedComputed=class y{constructor(j){this.computeFn=j,this.lastCache=void 0,this.lastArgKey=void 0}get(j){const te=JSON.stringify(j);return this.lastArgKey!==te&&(this.lastArgKey=te,this.lastCache=this.computeFn(j)),this.lastCache}}})),define(Ce[27],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.CSSIcon=te.Codicon=te.getCodiconAriaLabel=void 0,te.getCodiconAriaLabel=function y(j){return j?j.replace(/\$\((.*?)\)/g,((j,te)=>` ${te} `)).trim():""};class m{constructor(j,te,he){this.id=j,this.definition=te,this.description=he,m._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return m._allCodicons}}te.Codicon=m,m._allCodicons=[],m.add=new m("add",{fontCharacter:"\\ea60"}),m.plus=new m("plus",m.add.definition),m.gistNew=new m("gist-new",m.add.definition),m.repoCreate=new m("repo-create",m.add.definition),m.lightbulb=new m("lightbulb",{fontCharacter:"\\ea61"}),m.lightBulb=new m("light-bulb",{fontCharacter:"\\ea61"}),m.repo=new m("repo",{fontCharacter:"\\ea62"}),m.repoDelete=new m("repo-delete",{fontCharacter:"\\ea62"}),m.gistFork=new m("gist-fork",{fontCharacter:"\\ea63"}),m.repoForked=new m("repo-forked",{fontCharacter:"\\ea63"}),m.gitPullRequest=new m("git-pull-request",{fontCharacter:"\\ea64"}),m.gitPullRequestAbandoned=new m("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),m.recordKeys=new m("record-keys",{fontCharacter:"\\ea65"}),m.keyboard=new m("keyboard",{fontCharacter:"\\ea65"}),m.tag=new m("tag",{fontCharacter:"\\ea66"}),m.tagAdd=new m("tag-add",{fontCharacter:"\\ea66"}),m.tagRemove=new m("tag-remove",{fontCharacter:"\\ea66"}),m.person=new m("person",{fontCharacter:"\\ea67"}),m.personFollow=new m("person-follow",{fontCharacter:"\\ea67"}),m.personOutline=new m("person-outline",{fontCharacter:"\\ea67"}),m.personFilled=new m("person-filled",{fontCharacter:"\\ea67"}),m.gitBranch=new m("git-branch",{fontCharacter:"\\ea68"}),m.gitBranchCreate=new m("git-branch-create",{fontCharacter:"\\ea68"}),m.gitBranchDelete=new m("git-branch-delete",{fontCharacter:"\\ea68"}),m.sourceControl=new m("source-control",{fontCharacter:"\\ea68"}),m.mirror=new m("mirror",{fontCharacter:"\\ea69"}),m.mirrorPublic=new m("mirror-public",{fontCharacter:"\\ea69"}),m.star=new m("star",{fontCharacter:"\\ea6a"}),m.starAdd=new m("star-add",{fontCharacter:"\\ea6a"}),m.starDelete=new m("star-delete",{fontCharacter:"\\ea6a"}),m.starEmpty=new m("star-empty",{fontCharacter:"\\ea6a"}),m.comment=new m("comment",{fontCharacter:"\\ea6b"}),m.commentAdd=new m("comment-add",{fontCharacter:"\\ea6b"}),m.alert=new m("alert",{fontCharacter:"\\ea6c"}),m.warning=new m("warning",{fontCharacter:"\\ea6c"}),m.search=new m("search",{fontCharacter:"\\ea6d"}),m.searchSave=new m("search-save",{fontCharacter:"\\ea6d"}),m.logOut=new m("log-out",{fontCharacter:"\\ea6e"}),m.signOut=new m("sign-out",{fontCharacter:"\\ea6e"}),m.logIn=new m("log-in",{fontCharacter:"\\ea6f"}),m.signIn=new m("sign-in",{fontCharacter:"\\ea6f"}),m.eye=new m("eye",{fontCharacter:"\\ea70"}),m.eyeUnwatch=new m("eye-unwatch",{fontCharacter:"\\ea70"}),m.eyeWatch=new m("eye-watch",{fontCharacter:"\\ea70"}),m.circleFilled=new m("circle-filled",{fontCharacter:"\\ea71"}),m.primitiveDot=new m("primitive-dot",{fontCharacter:"\\ea71"}),m.closeDirty=new m("close-dirty",{fontCharacter:"\\ea71"}),m.debugBreakpoint=new m("debug-breakpoint",{fontCharacter:"\\ea71"}),m.debugBreakpointDisabled=new m("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),m.debugHint=new m("debug-hint",{fontCharacter:"\\ea71"}),m.primitiveSquare=new m("primitive-square",{fontCharacter:"\\ea72"}),m.edit=new m("edit",{fontCharacter:"\\ea73"}),m.pencil=new m("pencil",{fontCharacter:"\\ea73"}),m.info=new m("info",{fontCharacter:"\\ea74"}),m.issueOpened=new m("issue-opened",{fontCharacter:"\\ea74"}),m.gistPrivate=new m("gist-private",{fontCharacter:"\\ea75"}),m.gitForkPrivate=new m("git-fork-private",{fontCharacter:"\\ea75"}),m.lock=new m("lock",{fontCharacter:"\\ea75"}),m.mirrorPrivate=new m("mirror-private",{fontCharacter:"\\ea75"}),m.close=new m("close",{fontCharacter:"\\ea76"}),m.removeClose=new m("remove-close",{fontCharacter:"\\ea76"}),m.x=new m("x",{fontCharacter:"\\ea76"}),m.repoSync=new m("repo-sync",{fontCharacter:"\\ea77"}),m.sync=new m("sync",{fontCharacter:"\\ea77"}),m.clone=new m("clone",{fontCharacter:"\\ea78"}),m.desktopDownload=new m("desktop-download",{fontCharacter:"\\ea78"}),m.beaker=new m("beaker",{fontCharacter:"\\ea79"}),m.microscope=new m("microscope",{fontCharacter:"\\ea79"}),m.vm=new m("vm",{fontCharacter:"\\ea7a"}),m.deviceDesktop=new m("device-desktop",{fontCharacter:"\\ea7a"}),m.file=new m("file",{fontCharacter:"\\ea7b"}),m.fileText=new m("file-text",{fontCharacter:"\\ea7b"}),m.more=new m("more",{fontCharacter:"\\ea7c"}),m.ellipsis=new m("ellipsis",{fontCharacter:"\\ea7c"}),m.kebabHorizontal=new m("kebab-horizontal",{fontCharacter:"\\ea7c"}),m.mailReply=new m("mail-reply",{fontCharacter:"\\ea7d"}),m.reply=new m("reply",{fontCharacter:"\\ea7d"}),m.organization=new m("organization",{fontCharacter:"\\ea7e"}),m.organizationFilled=new m("organization-filled",{fontCharacter:"\\ea7e"}),m.organizationOutline=new m("organization-outline",{fontCharacter:"\\ea7e"}),m.newFile=new m("new-file",{fontCharacter:"\\ea7f"}),m.fileAdd=new m("file-add",{fontCharacter:"\\ea7f"}),m.newFolder=new m("new-folder",{fontCharacter:"\\ea80"}),m.fileDirectoryCreate=new m("file-directory-create",{fontCharacter:"\\ea80"}),m.trash=new m("trash",{fontCharacter:"\\ea81"}),m.trashcan=new m("trashcan",{fontCharacter:"\\ea81"}),m.history=new m("history",{fontCharacter:"\\ea82"}),m.clock=new m("clock",{fontCharacter:"\\ea82"}),m.folder=new m("folder",{fontCharacter:"\\ea83"}),m.fileDirectory=new m("file-directory",{fontCharacter:"\\ea83"}),m.symbolFolder=new m("symbol-folder",{fontCharacter:"\\ea83"}),m.logoGithub=new m("logo-github",{fontCharacter:"\\ea84"}),m.markGithub=new m("mark-github",{fontCharacter:"\\ea84"}),m.github=new m("github",{fontCharacter:"\\ea84"}),m.terminal=new m("terminal",{fontCharacter:"\\ea85"}),m.console=new m("console",{fontCharacter:"\\ea85"}),m.repl=new m("repl",{fontCharacter:"\\ea85"}),m.zap=new m("zap",{fontCharacter:"\\ea86"}),m.symbolEvent=new m("symbol-event",{fontCharacter:"\\ea86"}),m.error=new m("error",{fontCharacter:"\\ea87"}),m.stop=new m("stop",{fontCharacter:"\\ea87"}),m.variable=new m("variable",{fontCharacter:"\\ea88"}),m.symbolVariable=new m("symbol-variable",{fontCharacter:"\\ea88"}),m.array=new m("array",{fontCharacter:"\\ea8a"}),m.symbolArray=new m("symbol-array",{fontCharacter:"\\ea8a"}),m.symbolModule=new m("symbol-module",{fontCharacter:"\\ea8b"}),m.symbolPackage=new m("symbol-package",{fontCharacter:"\\ea8b"}),m.symbolNamespace=new m("symbol-namespace",{fontCharacter:"\\ea8b"}),m.symbolObject=new m("symbol-object",{fontCharacter:"\\ea8b"}),m.symbolMethod=new m("symbol-method",{fontCharacter:"\\ea8c"}),m.symbolFunction=new m("symbol-function",{fontCharacter:"\\ea8c"}),m.symbolConstructor=new m("symbol-constructor",{fontCharacter:"\\ea8c"}),m.symbolBoolean=new m("symbol-boolean",{fontCharacter:"\\ea8f"}),m.symbolNull=new m("symbol-null",{fontCharacter:"\\ea8f"}),m.symbolNumeric=new m("symbol-numeric",{fontCharacter:"\\ea90"}),m.symbolNumber=new m("symbol-number",{fontCharacter:"\\ea90"}),m.symbolStructure=new m("symbol-structure",{fontCharacter:"\\ea91"}),m.symbolStruct=new m("symbol-struct",{fontCharacter:"\\ea91"}),m.symbolParameter=new m("symbol-parameter",{fontCharacter:"\\ea92"}),m.symbolTypeParameter=new m("symbol-type-parameter",{fontCharacter:"\\ea92"}),m.symbolKey=new m("symbol-key",{fontCharacter:"\\ea93"}),m.symbolText=new m("symbol-text",{fontCharacter:"\\ea93"}),m.symbolReference=new m("symbol-reference",{fontCharacter:"\\ea94"}),m.goToFile=new m("go-to-file",{fontCharacter:"\\ea94"}),m.symbolEnum=new m("symbol-enum",{fontCharacter:"\\ea95"}),m.symbolValue=new m("symbol-value",{fontCharacter:"\\ea95"}),m.symbolRuler=new m("symbol-ruler",{fontCharacter:"\\ea96"}),m.symbolUnit=new m("symbol-unit",{fontCharacter:"\\ea96"}),m.activateBreakpoints=new m("activate-breakpoints",{fontCharacter:"\\ea97"}),m.archive=new m("archive",{fontCharacter:"\\ea98"}),m.arrowBoth=new m("arrow-both",{fontCharacter:"\\ea99"}),m.arrowDown=new m("arrow-down",{fontCharacter:"\\ea9a"}),m.arrowLeft=new m("arrow-left",{fontCharacter:"\\ea9b"}),m.arrowRight=new m("arrow-right",{fontCharacter:"\\ea9c"}),m.arrowSmallDown=new m("arrow-small-down",{fontCharacter:"\\ea9d"}),m.arrowSmallLeft=new m("arrow-small-left",{fontCharacter:"\\ea9e"}),m.arrowSmallRight=new m("arrow-small-right",{fontCharacter:"\\ea9f"}),m.arrowSmallUp=new m("arrow-small-up",{fontCharacter:"\\eaa0"}),m.arrowUp=new m("arrow-up",{fontCharacter:"\\eaa1"}),m.bell=new m("bell",{fontCharacter:"\\eaa2"}),m.bold=new m("bold",{fontCharacter:"\\eaa3"}),m.book=new m("book",{fontCharacter:"\\eaa4"}),m.bookmark=new m("bookmark",{fontCharacter:"\\eaa5"}),m.debugBreakpointConditionalUnverified=new m("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),m.debugBreakpointConditional=new m("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),m.debugBreakpointConditionalDisabled=new m("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),m.debugBreakpointDataUnverified=new m("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),m.debugBreakpointData=new m("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),m.debugBreakpointDataDisabled=new m("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),m.debugBreakpointLogUnverified=new m("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),m.debugBreakpointLog=new m("debug-breakpoint-log",{fontCharacter:"\\eaab"}),m.debugBreakpointLogDisabled=new m("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),m.briefcase=new m("briefcase",{fontCharacter:"\\eaac"}),m.broadcast=new m("broadcast",{fontCharacter:"\\eaad"}),m.browser=new m("browser",{fontCharacter:"\\eaae"}),m.bug=new m("bug",{fontCharacter:"\\eaaf"}),m.calendar=new m("calendar",{fontCharacter:"\\eab0"}),m.caseSensitive=new m("case-sensitive",{fontCharacter:"\\eab1"}),m.check=new m("check",{fontCharacter:"\\eab2"}),m.checklist=new m("checklist",{fontCharacter:"\\eab3"}),m.chevronDown=new m("chevron-down",{fontCharacter:"\\eab4"}),m.dropDownButton=new m("drop-down-button",m.chevronDown.definition),m.chevronLeft=new m("chevron-left",{fontCharacter:"\\eab5"}),m.chevronRight=new m("chevron-right",{fontCharacter:"\\eab6"}),m.chevronUp=new m("chevron-up",{fontCharacter:"\\eab7"}),m.chromeClose=new m("chrome-close",{fontCharacter:"\\eab8"}),m.chromeMaximize=new m("chrome-maximize",{fontCharacter:"\\eab9"}),m.chromeMinimize=new m("chrome-minimize",{fontCharacter:"\\eaba"}),m.chromeRestore=new m("chrome-restore",{fontCharacter:"\\eabb"}),m.circleOutline=new m("circle-outline",{fontCharacter:"\\eabc"}),m.debugBreakpointUnverified=new m("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),m.circleSlash=new m("circle-slash",{fontCharacter:"\\eabd"}),m.circuitBoard=new m("circuit-board",{fontCharacter:"\\eabe"}),m.clearAll=new m("clear-all",{fontCharacter:"\\eabf"}),m.clippy=new m("clippy",{fontCharacter:"\\eac0"}),m.closeAll=new m("close-all",{fontCharacter:"\\eac1"}),m.cloudDownload=new m("cloud-download",{fontCharacter:"\\eac2"}),m.cloudUpload=new m("cloud-upload",{fontCharacter:"\\eac3"}),m.code=new m("code",{fontCharacter:"\\eac4"}),m.collapseAll=new m("collapse-all",{fontCharacter:"\\eac5"}),m.colorMode=new m("color-mode",{fontCharacter:"\\eac6"}),m.commentDiscussion=new m("comment-discussion",{fontCharacter:"\\eac7"}),m.compareChanges=new m("compare-changes",{fontCharacter:"\\eafd"}),m.creditCard=new m("credit-card",{fontCharacter:"\\eac9"}),m.dash=new m("dash",{fontCharacter:"\\eacc"}),m.dashboard=new m("dashboard",{fontCharacter:"\\eacd"}),m.database=new m("database",{fontCharacter:"\\eace"}),m.debugContinue=new m("debug-continue",{fontCharacter:"\\eacf"}),m.debugDisconnect=new m("debug-disconnect",{fontCharacter:"\\ead0"}),m.debugPause=new m("debug-pause",{fontCharacter:"\\ead1"}),m.debugRestart=new m("debug-restart",{fontCharacter:"\\ead2"}),m.debugStart=new m("debug-start",{fontCharacter:"\\ead3"}),m.debugStepInto=new m("debug-step-into",{fontCharacter:"\\ead4"}),m.debugStepOut=new m("debug-step-out",{fontCharacter:"\\ead5"}),m.debugStepOver=new m("debug-step-over",{fontCharacter:"\\ead6"}),m.debugStop=new m("debug-stop",{fontCharacter:"\\ead7"}),m.debug=new m("debug",{fontCharacter:"\\ead8"}),m.deviceCameraVideo=new m("device-camera-video",{fontCharacter:"\\ead9"}),m.deviceCamera=new m("device-camera",{fontCharacter:"\\eada"}),m.deviceMobile=new m("device-mobile",{fontCharacter:"\\eadb"}),m.diffAdded=new m("diff-added",{fontCharacter:"\\eadc"}),m.diffIgnored=new m("diff-ignored",{fontCharacter:"\\eadd"}),m.diffModified=new m("diff-modified",{fontCharacter:"\\eade"}),m.diffRemoved=new m("diff-removed",{fontCharacter:"\\eadf"}),m.diffRenamed=new m("diff-renamed",{fontCharacter:"\\eae0"}),m.diff=new m("diff",{fontCharacter:"\\eae1"}),m.discard=new m("discard",{fontCharacter:"\\eae2"}),m.editorLayout=new m("editor-layout",{fontCharacter:"\\eae3"}),m.emptyWindow=new m("empty-window",{fontCharacter:"\\eae4"}),m.exclude=new m("exclude",{fontCharacter:"\\eae5"}),m.extensions=new m("extensions",{fontCharacter:"\\eae6"}),m.eyeClosed=new m("eye-closed",{fontCharacter:"\\eae7"}),m.fileBinary=new m("file-binary",{fontCharacter:"\\eae8"}),m.fileCode=new m("file-code",{fontCharacter:"\\eae9"}),m.fileMedia=new m("file-media",{fontCharacter:"\\eaea"}),m.filePdf=new m("file-pdf",{fontCharacter:"\\eaeb"}),m.fileSubmodule=new m("file-submodule",{fontCharacter:"\\eaec"}),m.fileSymlinkDirectory=new m("file-symlink-directory",{fontCharacter:"\\eaed"}),m.fileSymlinkFile=new m("file-symlink-file",{fontCharacter:"\\eaee"}),m.fileZip=new m("file-zip",{fontCharacter:"\\eaef"}),m.files=new m("files",{fontCharacter:"\\eaf0"}),m.filter=new m("filter",{fontCharacter:"\\eaf1"}),m.flame=new m("flame",{fontCharacter:"\\eaf2"}),m.foldDown=new m("fold-down",{fontCharacter:"\\eaf3"}),m.foldUp=new m("fold-up",{fontCharacter:"\\eaf4"}),m.fold=new m("fold",{fontCharacter:"\\eaf5"}),m.folderActive=new m("folder-active",{fontCharacter:"\\eaf6"}),m.folderOpened=new m("folder-opened",{fontCharacter:"\\eaf7"}),m.gear=new m("gear",{fontCharacter:"\\eaf8"}),m.gift=new m("gift",{fontCharacter:"\\eaf9"}),m.gistSecret=new m("gist-secret",{fontCharacter:"\\eafa"}),m.gist=new m("gist",{fontCharacter:"\\eafb"}),m.gitCommit=new m("git-commit",{fontCharacter:"\\eafc"}),m.gitCompare=new m("git-compare",{fontCharacter:"\\eafd"}),m.gitMerge=new m("git-merge",{fontCharacter:"\\eafe"}),m.githubAction=new m("github-action",{fontCharacter:"\\eaff"}),m.githubAlt=new m("github-alt",{fontCharacter:"\\eb00"}),m.globe=new m("globe",{fontCharacter:"\\eb01"}),m.grabber=new m("grabber",{fontCharacter:"\\eb02"}),m.graph=new m("graph",{fontCharacter:"\\eb03"}),m.gripper=new m("gripper",{fontCharacter:"\\eb04"}),m.heart=new m("heart",{fontCharacter:"\\eb05"}),m.home=new m("home",{fontCharacter:"\\eb06"}),m.horizontalRule=new m("horizontal-rule",{fontCharacter:"\\eb07"}),m.hubot=new m("hubot",{fontCharacter:"\\eb08"}),m.inbox=new m("inbox",{fontCharacter:"\\eb09"}),m.issueClosed=new m("issue-closed",{fontCharacter:"\\eba4"}),m.issueReopened=new m("issue-reopened",{fontCharacter:"\\eb0b"}),m.issues=new m("issues",{fontCharacter:"\\eb0c"}),m.italic=new m("italic",{fontCharacter:"\\eb0d"}),m.jersey=new m("jersey",{fontCharacter:"\\eb0e"}),m.json=new m("json",{fontCharacter:"\\eb0f"}),m.kebabVertical=new m("kebab-vertical",{fontCharacter:"\\eb10"}),m.key=new m("key",{fontCharacter:"\\eb11"}),m.law=new m("law",{fontCharacter:"\\eb12"}),m.lightbulbAutofix=new m("lightbulb-autofix",{fontCharacter:"\\eb13"}),m.linkExternal=new m("link-external",{fontCharacter:"\\eb14"}),m.link=new m("link",{fontCharacter:"\\eb15"}),m.listOrdered=new m("list-ordered",{fontCharacter:"\\eb16"}),m.listUnordered=new m("list-unordered",{fontCharacter:"\\eb17"}),m.liveShare=new m("live-share",{fontCharacter:"\\eb18"}),m.loading=new m("loading",{fontCharacter:"\\eb19"}),m.location=new m("location",{fontCharacter:"\\eb1a"}),m.mailRead=new m("mail-read",{fontCharacter:"\\eb1b"}),m.mail=new m("mail",{fontCharacter:"\\eb1c"}),m.markdown=new m("markdown",{fontCharacter:"\\eb1d"}),m.megaphone=new m("megaphone",{fontCharacter:"\\eb1e"}),m.mention=new m("mention",{fontCharacter:"\\eb1f"}),m.milestone=new m("milestone",{fontCharacter:"\\eb20"}),m.mortarBoard=new m("mortar-board",{fontCharacter:"\\eb21"}),m.move=new m("move",{fontCharacter:"\\eb22"}),m.multipleWindows=new m("multiple-windows",{fontCharacter:"\\eb23"}),m.mute=new m("mute",{fontCharacter:"\\eb24"}),m.noNewline=new m("no-newline",{fontCharacter:"\\eb25"}),m.note=new m("note",{fontCharacter:"\\eb26"}),m.octoface=new m("octoface",{fontCharacter:"\\eb27"}),m.openPreview=new m("open-preview",{fontCharacter:"\\eb28"}),m.package_=new m("package",{fontCharacter:"\\eb29"}),m.paintcan=new m("paintcan",{fontCharacter:"\\eb2a"}),m.pin=new m("pin",{fontCharacter:"\\eb2b"}),m.play=new m("play",{fontCharacter:"\\eb2c"}),m.run=new m("run",{fontCharacter:"\\eb2c"}),m.plug=new m("plug",{fontCharacter:"\\eb2d"}),m.preserveCase=new m("preserve-case",{fontCharacter:"\\eb2e"}),m.preview=new m("preview",{fontCharacter:"\\eb2f"}),m.project=new m("project",{fontCharacter:"\\eb30"}),m.pulse=new m("pulse",{fontCharacter:"\\eb31"}),m.question=new m("question",{fontCharacter:"\\eb32"}),m.quote=new m("quote",{fontCharacter:"\\eb33"}),m.radioTower=new m("radio-tower",{fontCharacter:"\\eb34"}),m.reactions=new m("reactions",{fontCharacter:"\\eb35"}),m.references=new m("references",{fontCharacter:"\\eb36"}),m.refresh=new m("refresh",{fontCharacter:"\\eb37"}),m.regex=new m("regex",{fontCharacter:"\\eb38"}),m.remoteExplorer=new m("remote-explorer",{fontCharacter:"\\eb39"}),m.remote=new m("remote",{fontCharacter:"\\eb3a"}),m.remove=new m("remove",{fontCharacter:"\\eb3b"}),m.replaceAll=new m("replace-all",{fontCharacter:"\\eb3c"}),m.replace=new m("replace",{fontCharacter:"\\eb3d"}),m.repoClone=new m("repo-clone",{fontCharacter:"\\eb3e"}),m.repoForcePush=new m("repo-force-push",{fontCharacter:"\\eb3f"}),m.repoPull=new m("repo-pull",{fontCharacter:"\\eb40"}),m.repoPush=new m("repo-push",{fontCharacter:"\\eb41"}),m.report=new m("report",{fontCharacter:"\\eb42"}),m.requestChanges=new m("request-changes",{fontCharacter:"\\eb43"}),m.rocket=new m("rocket",{fontCharacter:"\\eb44"}),m.rootFolderOpened=new m("root-folder-opened",{fontCharacter:"\\eb45"}),m.rootFolder=new m("root-folder",{fontCharacter:"\\eb46"}),m.rss=new m("rss",{fontCharacter:"\\eb47"}),m.ruby=new m("ruby",{fontCharacter:"\\eb48"}),m.saveAll=new m("save-all",{fontCharacter:"\\eb49"}),m.saveAs=new m("save-as",{fontCharacter:"\\eb4a"}),m.save=new m("save",{fontCharacter:"\\eb4b"}),m.screenFull=new m("screen-full",{fontCharacter:"\\eb4c"}),m.screenNormal=new m("screen-normal",{fontCharacter:"\\eb4d"}),m.searchStop=new m("search-stop",{fontCharacter:"\\eb4e"}),m.server=new m("server",{fontCharacter:"\\eb50"}),m.settingsGear=new m("settings-gear",{fontCharacter:"\\eb51"}),m.settings=new m("settings",{fontCharacter:"\\eb52"}),m.shield=new m("shield",{fontCharacter:"\\eb53"}),m.smiley=new m("smiley",{fontCharacter:"\\eb54"}),m.sortPrecedence=new m("sort-precedence",{fontCharacter:"\\eb55"}),m.splitHorizontal=new m("split-horizontal",{fontCharacter:"\\eb56"}),m.splitVertical=new m("split-vertical",{fontCharacter:"\\eb57"}),m.squirrel=new m("squirrel",{fontCharacter:"\\eb58"}),m.starFull=new m("star-full",{fontCharacter:"\\eb59"}),m.starHalf=new m("star-half",{fontCharacter:"\\eb5a"}),m.symbolClass=new m("symbol-class",{fontCharacter:"\\eb5b"}),m.symbolColor=new m("symbol-color",{fontCharacter:"\\eb5c"}),m.symbolCustomColor=new m("symbol-customcolor",{fontCharacter:"\\eb5c"}),m.symbolConstant=new m("symbol-constant",{fontCharacter:"\\eb5d"}),m.symbolEnumMember=new m("symbol-enum-member",{fontCharacter:"\\eb5e"}),m.symbolField=new m("symbol-field",{fontCharacter:"\\eb5f"}),m.symbolFile=new m("symbol-file",{fontCharacter:"\\eb60"}),m.symbolInterface=new m("symbol-interface",{fontCharacter:"\\eb61"}),m.symbolKeyword=new m("symbol-keyword",{fontCharacter:"\\eb62"}),m.symbolMisc=new m("symbol-misc",{fontCharacter:"\\eb63"}),m.symbolOperator=new m("symbol-operator",{fontCharacter:"\\eb64"}),m.symbolProperty=new m("symbol-property",{fontCharacter:"\\eb65"}),m.wrench=new m("wrench",{fontCharacter:"\\eb65"}),m.wrenchSubaction=new m("wrench-subaction",{fontCharacter:"\\eb65"}),m.symbolSnippet=new m("symbol-snippet",{fontCharacter:"\\eb66"}),m.tasklist=new m("tasklist",{fontCharacter:"\\eb67"}),m.telescope=new m("telescope",{fontCharacter:"\\eb68"}),m.textSize=new m("text-size",{fontCharacter:"\\eb69"}),m.threeBars=new m("three-bars",{fontCharacter:"\\eb6a"}),m.thumbsdown=new m("thumbsdown",{fontCharacter:"\\eb6b"}),m.thumbsup=new m("thumbsup",{fontCharacter:"\\eb6c"}),m.tools=new m("tools",{fontCharacter:"\\eb6d"}),m.triangleDown=new m("triangle-down",{fontCharacter:"\\eb6e"}),m.triangleLeft=new m("triangle-left",{fontCharacter:"\\eb6f"}),m.triangleRight=new m("triangle-right",{fontCharacter:"\\eb70"}),m.triangleUp=new m("triangle-up",{fontCharacter:"\\eb71"}),m.twitter=new m("twitter",{fontCharacter:"\\eb72"}),m.unfold=new m("unfold",{fontCharacter:"\\eb73"}),m.unlock=new m("unlock",{fontCharacter:"\\eb74"}),m.unmute=new m("unmute",{fontCharacter:"\\eb75"}),m.unverified=new m("unverified",{fontCharacter:"\\eb76"}),m.verified=new m("verified",{fontCharacter:"\\eb77"}),m.versions=new m("versions",{fontCharacter:"\\eb78"}),m.vmActive=new m("vm-active",{fontCharacter:"\\eb79"}),m.vmOutline=new m("vm-outline",{fontCharacter:"\\eb7a"}),m.vmRunning=new m("vm-running",{fontCharacter:"\\eb7b"}),m.watch=new m("watch",{fontCharacter:"\\eb7c"}),m.whitespace=new m("whitespace",{fontCharacter:"\\eb7d"}),m.wholeWord=new m("whole-word",{fontCharacter:"\\eb7e"}),m.window=new m("window",{fontCharacter:"\\eb7f"}),m.wordWrap=new m("word-wrap",{fontCharacter:"\\eb80"}),m.zoomIn=new m("zoom-in",{fontCharacter:"\\eb81"}),m.zoomOut=new m("zoom-out",{fontCharacter:"\\eb82"}),m.listFilter=new m("list-filter",{fontCharacter:"\\eb83"}),m.listFlat=new m("list-flat",{fontCharacter:"\\eb84"}),m.listSelection=new m("list-selection",{fontCharacter:"\\eb85"}),m.selection=new m("selection",{fontCharacter:"\\eb85"}),m.listTree=new m("list-tree",{fontCharacter:"\\eb86"}),m.debugBreakpointFunctionUnverified=new m("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),m.debugBreakpointFunction=new m("debug-breakpoint-function",{fontCharacter:"\\eb88"}),m.debugBreakpointFunctionDisabled=new m("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),m.debugStackframeActive=new m("debug-stackframe-active",{fontCharacter:"\\eb89"}),m.debugStackframeDot=new m("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),m.debugStackframe=new m("debug-stackframe",{fontCharacter:"\\eb8b"}),m.debugStackframeFocused=new m("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),m.debugBreakpointUnsupported=new m("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),m.symbolString=new m("symbol-string",{fontCharacter:"\\eb8d"}),m.debugReverseContinue=new m("debug-reverse-continue",{fontCharacter:"\\eb8e"}),m.debugStepBack=new m("debug-step-back",{fontCharacter:"\\eb8f"}),m.debugRestartFrame=new m("debug-restart-frame",{fontCharacter:"\\eb90"}),m.callIncoming=new m("call-incoming",{fontCharacter:"\\eb92"}),m.callOutgoing=new m("call-outgoing",{fontCharacter:"\\eb93"}),m.menu=new m("menu",{fontCharacter:"\\eb94"}),m.expandAll=new m("expand-all",{fontCharacter:"\\eb95"}),m.feedback=new m("feedback",{fontCharacter:"\\eb96"}),m.groupByRefType=new m("group-by-ref-type",{fontCharacter:"\\eb97"}),m.ungroupByRefType=new m("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),m.account=new m("account",{fontCharacter:"\\eb99"}),m.bellDot=new m("bell-dot",{fontCharacter:"\\eb9a"}),m.debugConsole=new m("debug-console",{fontCharacter:"\\eb9b"}),m.library=new m("library",{fontCharacter:"\\eb9c"}),m.output=new m("output",{fontCharacter:"\\eb9d"}),m.runAll=new m("run-all",{fontCharacter:"\\eb9e"}),m.syncIgnored=new m("sync-ignored",{fontCharacter:"\\eb9f"}),m.pinned=new m("pinned",{fontCharacter:"\\eba0"}),m.githubInverted=new m("github-inverted",{fontCharacter:"\\eba1"}),m.debugAlt=new m("debug-alt",{fontCharacter:"\\eb91"}),m.serverProcess=new m("server-process",{fontCharacter:"\\eba2"}),m.serverEnvironment=new m("server-environment",{fontCharacter:"\\eba3"}),m.pass=new m("pass",{fontCharacter:"\\eba4"}),m.stopCircle=new m("stop-circle",{fontCharacter:"\\eba5"}),m.playCircle=new m("play-circle",{fontCharacter:"\\eba6"}),m.record=new m("record",{fontCharacter:"\\eba7"}),m.debugAltSmall=new m("debug-alt-small",{fontCharacter:"\\eba8"}),m.vmConnect=new m("vm-connect",{fontCharacter:"\\eba9"}),m.cloud=new m("cloud",{fontCharacter:"\\ebaa"}),m.merge=new m("merge",{fontCharacter:"\\ebab"}),m.exportIcon=new m("export",{fontCharacter:"\\ebac"}),m.graphLeft=new m("graph-left",{fontCharacter:"\\ebad"}),m.magnet=new m("magnet",{fontCharacter:"\\ebae"}),m.notebook=new m("notebook",{fontCharacter:"\\ebaf"}),m.redo=new m("redo",{fontCharacter:"\\ebb0"}),m.checkAll=new m("check-all",{fontCharacter:"\\ebb1"}),m.pinnedDirty=new m("pinned-dirty",{fontCharacter:"\\ebb2"}),m.passFilled=new m("pass-filled",{fontCharacter:"\\ebb3"}),m.circleLargeFilled=new m("circle-large-filled",{fontCharacter:"\\ebb4"}),m.circleLargeOutline=new m("circle-large-outline",{fontCharacter:"\\ebb5"}),m.combine=new m("combine",{fontCharacter:"\\ebb6"}),m.gather=new m("gather",{fontCharacter:"\\ebb6"}),m.table=new m("table",{fontCharacter:"\\ebb7"}),m.variableGroup=new m("variable-group",{fontCharacter:"\\ebb8"}),m.typeHierarchy=new m("type-hierarchy",{fontCharacter:"\\ebb9"}),m.typeHierarchySub=new m("type-hierarchy-sub",{fontCharacter:"\\ebba"}),m.typeHierarchySuper=new m("type-hierarchy-super",{fontCharacter:"\\ebbb"}),m.gitPullRequestCreate=new m("git-pull-request-create",{fontCharacter:"\\ebbc"}),m.runAbove=new m("run-above",{fontCharacter:"\\ebbd"}),m.runBelow=new m("run-below",{fontCharacter:"\\ebbe"}),m.notebookTemplate=new m("notebook-template",{fontCharacter:"\\ebbf"}),m.debugRerun=new m("debug-rerun",{fontCharacter:"\\ebc0"}),m.workspaceTrusted=new m("workspace-trusted",{fontCharacter:"\\ebc1"}),m.workspaceUntrusted=new m("workspace-untrusted",{fontCharacter:"\\ebc2"}),m.workspaceUnspecified=new m("workspace-unspecified",{fontCharacter:"\\ebc3"}),m.terminalCmd=new m("terminal-cmd",{fontCharacter:"\\ebc4"}),m.terminalDebian=new m("terminal-debian",{fontCharacter:"\\ebc5"}),m.terminalLinux=new m("terminal-linux",{fontCharacter:"\\ebc6"}),m.terminalPowershell=new m("terminal-powershell",{fontCharacter:"\\ebc7"}),m.terminalTmux=new m("terminal-tmux",{fontCharacter:"\\ebc8"}),m.terminalUbuntu=new m("terminal-ubuntu",{fontCharacter:"\\ebc9"}),m.terminalBash=new m("terminal-bash",{fontCharacter:"\\ebca"}),m.arrowSwap=new m("arrow-swap",{fontCharacter:"\\ebcb"}),m.copy=new m("copy",{fontCharacter:"\\ebcc"}),m.personAdd=new m("person-add",{fontCharacter:"\\ebcd"}),m.filterFilled=new m("filter-filled",{fontCharacter:"\\ebce"}),m.wand=new m("wand",{fontCharacter:"\\ebcf"}),m.debugLineByLine=new m("debug-line-by-line",{fontCharacter:"\\ebd0"}),m.inspect=new m("inspect",{fontCharacter:"\\ebd1"}),m.layers=new m("layers",{fontCharacter:"\\ebd2"}),m.layersDot=new m("layers-dot",{fontCharacter:"\\ebd3"}),m.layersActive=new m("layers-active",{fontCharacter:"\\ebd4"}),m.compass=new m("compass",{fontCharacter:"\\ebd5"}),m.compassDot=new m("compass-dot",{fontCharacter:"\\ebd6"}),m.compassActive=new m("compass-active",{fontCharacter:"\\ebd7"}),m.azure=new m("azure",{fontCharacter:"\\ebd8"}),m.issueDraft=new m("issue-draft",{fontCharacter:"\\ebd9"}),m.gitPullRequestClosed=new m("git-pull-request-closed",{fontCharacter:"\\ebda"}),m.gitPullRequestDraft=new m("git-pull-request-draft",{fontCharacter:"\\ebdb"}),m.debugAll=new m("debug-all",{fontCharacter:"\\ebdc"}),m.debugCoverage=new m("debug-coverage",{fontCharacter:"\\ebdd"}),m.runErrors=new m("run-errors",{fontCharacter:"\\ebde"}),m.folderLibrary=new m("folder-library",{fontCharacter:"\\ebdf"}),m.debugContinueSmall=new m("debug-continue-small",{fontCharacter:"\\ebe0"}),m.beakerStop=new m("beaker-stop",{fontCharacter:"\\ebe1"}),m.graphLine=new m("graph-line",{fontCharacter:"\\ebe2"}),m.graphScatter=new m("graph-scatter",{fontCharacter:"\\ebe3"}),m.pieChart=new m("pie-chart",{fontCharacter:"\\ebe4"}),m.bracket=new m("bracket",m.json.definition),m.bracketDot=new m("bracket-dot",{fontCharacter:"\\ebe5"}),m.bracketError=new m("bracket-error",{fontCharacter:"\\ebe6"}),m.lockSmall=new m("lock-small",{fontCharacter:"\\ebe7"}),m.azureDevops=new m("azure-devops",{fontCharacter:"\\ebe8"}),m.verifiedFilled=new m("verified-filled",{fontCharacter:"\\ebe9"}),m.newLine=new m("newline",{fontCharacter:"\\ebea"}),m.layout=new m("layout",{fontCharacter:"\\ebeb"}),m.layoutActivitybarLeft=new m("layout-activitybar-left",{fontCharacter:"\\ebec"}),m.layoutActivitybarRight=new m("layout-activitybar-right",{fontCharacter:"\\ebed"}),m.layoutPanelLeft=new m("layout-panel-left",{fontCharacter:"\\ebee"}),m.layoutPanelCenter=new m("layout-panel-center",{fontCharacter:"\\ebef"}),m.layoutPanelJustify=new m("layout-panel-justify",{fontCharacter:"\\ebf0"}),m.layoutPanelRight=new m("layout-panel-right",{fontCharacter:"\\ebf1"}),m.layoutPanel=new m("layout-panel",{fontCharacter:"\\ebf2"}),m.layoutSidebarLeft=new m("layout-sidebar-left",{fontCharacter:"\\ebf3"}),m.layoutSidebarRight=new m("layout-sidebar-right",{fontCharacter:"\\ebf4"}),m.layoutStatusbar=new m("layout-statusbar",{fontCharacter:"\\ebf5"}),m.layoutMenubar=new m("layout-menubar",{fontCharacter:"\\ebf6"}),m.layoutCentered=new m("layout-centered",{fontCharacter:"\\ebf7"}),m.target=new m("target",{fontCharacter:"\\ebf8"}),m.dialogError=new m("dialog-error",m.error.definition),m.dialogWarning=new m("dialog-warning",m.warning.definition),m.dialogInfo=new m("dialog-info",m.info.definition),m.dialogClose=new m("dialog-close",m.close.definition),m.treeItemExpanded=new m("tree-item-expanded",m.chevronDown.definition),m.treeFilterOnTypeOn=new m("tree-filter-on-type-on",m.listFilter.definition),m.treeFilterOnTypeOff=new m("tree-filter-on-type-off",m.listSelection.definition),m.treeFilterClear=new m("tree-filter-clear",m.close.definition),m.treeItemLoading=new m("tree-item-loading",m.loading.definition),m.menuSelection=new m("menu-selection",m.check.definition),m.menuSubmenu=new m("menu-submenu",m.chevronRight.definition),m.menuBarMore=new m("menubar-more",m.more.definition),m.scrollbarButtonLeft=new m("scrollbar-button-left",m.triangleLeft.definition),m.scrollbarButtonRight=new m("scrollbar-button-right",m.triangleRight.definition),m.scrollbarButtonUp=new m("scrollbar-button-up",m.triangleUp.definition),m.scrollbarButtonDown=new m("scrollbar-button-down",m.triangleDown.definition),m.toolBarMore=new m("toolbar-more",m.more.definition),m.quickInputBack=new m("quick-input-back",m.arrowLeft.definition),function(j){j.iconNameSegment="[A-Za-z0-9]+",j.iconNameExpression="[A-Za-z0-9-]+",j.iconModifierExpression="~[A-Za-z]+",j.iconNameCharacter="[A-Za-z0-9~-]";const te=new RegExp(`^(${j.iconNameExpression})(${j.iconModifierExpression})?$`);function b(j){if(j instanceof m)return["codicon","codicon-"+j.id];const he=te.exec(j.id);if(!he)return b(m.error);let[,ve,Ce]=he;const ye=["codicon","codicon-"+ve];return Ce&&ye.push("codicon-modifier-"+Ce.substr(1)),ye}j.asClassNameArray=b,j.asClassName=function p(j){return b(j).join(" ")},j.asCSSSelector=function h(j){return"."+b(j).join(".")}}(te.CSSIcon||(te.CSSIcon={}))})),define(Ce[214],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.SetMap=te.forEach=void 0;const he=Object.prototype.hasOwnProperty;te.forEach=function m(j,te){for(let ve in j)if(he.call(j,ve)&&!1===te({key:ve,value:j[ve]},(function(){delete j[ve]})))return};te.SetMap=class D{constructor(){this.map=new Map}add(j,te){let he=this.map.get(j);he||(he=new Set,this.map.set(j,he)),he.add(te)}delete(j,te){const he=this.map.get(j);!he||(he.delete(te),0===he.size&&this.map.delete(j))}forEach(j,te){const he=this.map.get(j);!he||he.forEach(te)}}})),define(Ce[29],ie([1,0]),(function(j,te){function y(j,te){const he=Math.pow(10,te);return Math.round(j*he)/he}Object.defineProperty(te,"__esModule",{value:!0}),te.Color=te.HSVA=te.HSLA=te.RGBA=void 0;class m{constructor(j,te,he,ve=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,j)),this.g=0|Math.min(255,Math.max(0,te)),this.b=0|Math.min(255,Math.max(0,he)),this.a=y(Math.max(Math.min(1,ve),0),3)}static equals(j,te){return j.r===te.r&&j.g===te.g&&j.b===te.b&&j.a===te.a}}te.RGBA=m;class D{constructor(j,te,he,ve){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,j),0),this.s=y(Math.max(Math.min(1,te),0),3),this.l=y(Math.max(Math.min(1,he),0),3),this.a=y(Math.max(Math.min(1,ve),0),3)}static equals(j,te){return j.h===te.h&&j.s===te.s&&j.l===te.l&&j.a===te.a}static fromRGBA(j){const te=j.r/255,he=j.g/255,ve=j.b/255,Ce=j.a,ye=Math.max(te,he,ve),Ee=Math.min(te,he,ve);let Ie=0,Ne=0;const Oe=(Ee+ye)/2,Ke=ye-Ee;if(Ke>0){switch(Ne=Math.min(Oe<=.5?Ke/(2*Oe):Ke/(2-2*Oe),1),ye){case te:Ie=(he-ve)/Ke+(he<ve?6:0);break;case he:Ie=(ve-te)/Ke+2;break;case ve:Ie=(te-he)/Ke+4}Ie*=60,Ie=Math.round(Ie)}return new D(Ie,Ne,Oe,Ce)}static _hue2rgb(j,te,he){return he<0&&(he+=1),he>1&&(he-=1),he<1/6?j+6*(te-j)*he:he<.5?te:he<2/3?j+(te-j)*(2/3-he)*6:j}static toRGBA(j){const te=j.h/360,{s:he,l:ve,a:Ce}=j;let ye,Ee,Ie;if(0===he)ye=Ee=Ie=ve;else{const j=ve<.5?ve*(1+he):ve+he-ve*he,Ce=2*ve-j;ye=D._hue2rgb(Ce,j,te+1/3),Ee=D._hue2rgb(Ce,j,te),Ie=D._hue2rgb(Ce,j,te-1/3)}return new m(Math.round(255*ye),Math.round(255*Ee),Math.round(255*Ie),Ce)}}te.HSLA=D;class I{constructor(j,te,he,ve){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,j),0),this.s=y(Math.max(Math.min(1,te),0),3),this.v=y(Math.max(Math.min(1,he),0),3),this.a=y(Math.max(Math.min(1,ve),0),3)}static equals(j,te){return j.h===te.h&&j.s===te.s&&j.v===te.v&&j.a===te.a}static fromRGBA(j){const te=j.r/255,he=j.g/255,ve=j.b/255,Ce=Math.max(te,he,ve),ye=Ce-Math.min(te,he,ve),Ee=0===Ce?0:ye/Ce;let Ie;return Ie=0===ye?0:Ce===te?((he-ve)/ye%6+6)%6:Ce===he?(ve-te)/ye+2:(te-he)/ye+4,new I(Math.round(60*Ie),Ee,Ce,j.a)}static toRGBA(j){const{h:te,s:he,v:ve,a:Ce}=j,ye=ve*he,Ee=ye*(1-Math.abs(te/60%2-1)),Ie=ve-ye;let[Ne,Oe,Ke]=[0,0,0];return te<60?(Ne=ye,Oe=Ee):te<120?(Ne=Ee,Oe=ye):te<180?(Oe=ye,Ke=Ee):te<240?(Oe=Ee,Ke=ye):te<300?(Ne=Ee,Ke=ye):te<=360&&(Ne=ye,Ke=Ee),Ne=Math.round(255*(Ne+Ie)),Oe=Math.round(255*(Oe+Ie)),Ke=Math.round(255*(Ke+Ie)),new m(Ne,Oe,Ke,Ce)}}te.HSVA=I;class w{constructor(j){if(!j)throw new Error("Color needs a value");if(j instanceof m)this.rgba=j;else if(j instanceof D)this._hsla=j,this.rgba=D.toRGBA(j);else{if(!(j instanceof I))throw new Error("Invalid color ctor argument");this._hsva=j,this.rgba=I.toRGBA(j)}}static fromHex(j){return w.Format.CSS.parseHex(j)||w.red}get hsla(){return this._hsla?this._hsla:D.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:I.fromRGBA(this.rgba)}equals(j){return!!j&&m.equals(this.rgba,j.rgba)&&D.equals(this.hsla,j.hsla)&&I.equals(this.hsva,j.hsva)}getRelativeLuminance(){return y(.2126*w._relativeLuminanceForComponent(this.rgba.r)+.7152*w._relativeLuminanceForComponent(this.rgba.g)+.0722*w._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(j){const te=j/255;return te<=.03928?te/12.92:Math.pow((te+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(j){return this.getRelativeLuminance()>j.getRelativeLuminance()}isDarkerThan(j){return this.getRelativeLuminance()<j.getRelativeLuminance()}lighten(j){return new w(new D(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*j,this.hsla.a))}darken(j){return new w(new D(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*j,this.hsla.a))}transparent(j){const{r:te,g:he,b:ve,a:Ce}=this.rgba;return new w(new m(te,he,ve,Ce*j))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new w(new m(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=w.Format.CSS.format(this)),this._toString}static getLighterColor(j,te,he){if(j.isLighterThan(te))return j;he=he||.5;const ve=j.getRelativeLuminance(),Ce=te.getRelativeLuminance();return he=he*(Ce-ve)/Ce,j.lighten(he)}static getDarkerColor(j,te,he){if(j.isDarkerThan(te))return j;he=he||.5;const ve=j.getRelativeLuminance();return he=he*(ve-te.getRelativeLuminance())/ve,j.darken(he)}}te.Color=w,w.white=new w(new m(255,255,255,1)),w.black=new w(new m(0,0,0,1)),w.red=new w(new m(255,0,0,1)),w.blue=new w(new m(0,0,255,1)),w.green=new w(new m(0,255,0,1)),w.cyan=new w(new m(0,255,255,1)),w.lightgrey=new w(new m(211,211,211,1)),w.transparent=new w(new m(0,0,0,0)),function(j){let te;!function(te){let he;!function(te){function r(j){const te=j.toString(16);return 2!==te.length?"0"+te:te}function u(j){switch(j){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}te.formatRGB=function i(te){return 1===te.rgba.a?`rgb(${te.rgba.r}, ${te.rgba.g}, ${te.rgba.b})`:j.Format.CSS.formatRGBA(te)},te.formatRGBA=function n(j){return`rgba(${j.rgba.r}, ${j.rgba.g}, ${j.rgba.b}, ${+j.rgba.a.toFixed(2)})`},te.formatHSL=function l(te){return 1===te.hsla.a?`hsl(${te.hsla.h}, ${(100*te.hsla.s).toFixed(2)}%, ${(100*te.hsla.l).toFixed(2)}%)`:j.Format.CSS.formatHSLA(te)},te.formatHSLA=function c(j){return`hsla(${j.hsla.h}, ${(100*j.hsla.s).toFixed(2)}%, ${(100*j.hsla.l).toFixed(2)}%, ${j.hsla.a.toFixed(2)})`},te.formatHex=function s(j){return`#${r(j.rgba.r)}${r(j.rgba.g)}${r(j.rgba.b)}`},te.formatHexA=function o(te,he=!1){return he&&1===te.rgba.a?j.Format.CSS.formatHex(te):`#${r(te.rgba.r)}${r(te.rgba.g)}${r(te.rgba.b)}${r(Math.round(255*te.rgba.a))}`},te.format=function a(te){return te.isOpaque()?j.Format.CSS.formatHex(te):j.Format.CSS.formatRGBA(te)},te.parseHex=function d(te){const he=te.length;if(0===he||35!==te.charCodeAt(0))return null;if(7===he){const he=16*u(te.charCodeAt(1))+u(te.charCodeAt(2)),ve=16*u(te.charCodeAt(3))+u(te.charCodeAt(4)),Ce=16*u(te.charCodeAt(5))+u(te.charCodeAt(6));return new j(new m(he,ve,Ce,1))}if(9===he){const he=16*u(te.charCodeAt(1))+u(te.charCodeAt(2)),ve=16*u(te.charCodeAt(3))+u(te.charCodeAt(4)),Ce=16*u(te.charCodeAt(5))+u(te.charCodeAt(6)),ye=16*u(te.charCodeAt(7))+u(te.charCodeAt(8));return new j(new m(he,ve,Ce,ye/255))}if(4===he){const he=u(te.charCodeAt(1)),ve=u(te.charCodeAt(2)),Ce=u(te.charCodeAt(3));return new j(new m(16*he+he,16*ve+ve,16*Ce+Ce))}if(5===he){const he=u(te.charCodeAt(1)),ve=u(te.charCodeAt(2)),Ce=u(te.charCodeAt(3)),ye=u(te.charCodeAt(4));return new j(new m(16*he+he,16*ve+ve,16*Ce+Ce,(16*ye+ye)/255))}return null}}(he=te.CSS||(te.CSS={}))}(te=j.Format||(j.Format={}))}(w=te.Color||(te.Color={}))})),define(Ce[93],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.memoize=void 0,te.memoize=function y(j,te,he){let ve=null,Ce=null;if("function"==typeof he.value?(ve="value",Ce=he.value,0!==Ce.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof he.get&&(ve="get",Ce=he.get),!Ce)throw new Error("not supported");const ye=`$memoize$${te}`;he[ve]=function(...j){return this.hasOwnProperty(ye)||Object.defineProperty(this,ye,{configurable:!1,enumerable:!1,writable:!1,value:Ce.apply(this,j)}),this[ye]}}})),define(Ce[310],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.DiffChange=void 0;te.DiffChange=class y{constructor(j,te,he,ve){this.originalStart=j,this.originalLength=te,this.modifiedStart=he,this.modifiedLength=ve}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}})),define(Ce[13],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.NotSupportedError=te.illegalState=te.illegalArgument=te.canceled=te.CancellationError=te.isCancellationError=te.transformErrorForSerialization=te.onUnexpectedExternalError=te.onUnexpectedError=te.errorHandler=te.ErrorHandler=void 0;class y{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(j){setTimeout((()=>{throw j.stack?new Error(j.message+"\n\n"+j.stack):j}),0)}}emit(j){this.listeners.forEach((te=>{te(j)}))}onUnexpectedError(j){this.unexpectedErrorHandler(j),this.emit(j)}onUnexpectedExternalError(j){this.unexpectedErrorHandler(j)}}te.ErrorHandler=y,te.errorHandler=new y,te.onUnexpectedError=function m(j){b(j)||te.errorHandler.onUnexpectedError(j)},te.onUnexpectedExternalError=function D(j){b(j)||te.errorHandler.onUnexpectedExternalError(j)},te.transformErrorForSerialization=function I(j){if(j instanceof Error){let{name:te,message:he}=j;return{$isError:!0,name:te,message:he,stack:j.stacktrace||j.stack}}return j};const he="Canceled";function b(j){return j instanceof p||j instanceof Error&&j.name===he&&j.message===he}te.isCancellationError=b;class p extends Error{constructor(){super(he),this.name=this.message}}te.CancellationError=p,te.canceled=function h(){const j=new Error(he);return j.name=j.message,j},te.illegalArgument=function g(j){return j?new Error(`Illegal argument: ${j}`):new Error("Illegal argument")},te.illegalState=function t(j){return j?new Error(`Illegal state: ${j}`):new Error("Illegal state")};class i extends Error{constructor(j){super("NotSupported"),j&&(this.message=j)}}te.NotSupportedError=i})),define(Ce[88],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.once=void 0,te.once=function y(j){const te=this;let he,ve=!1;return function(){return ve||(ve=!0,he=j.apply(te,arguments)),he}}})),define(Ce[133],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.defaultGenerator=te.IdGenerator=void 0;class y{constructor(j){this._prefix=j,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}te.IdGenerator=y,te.defaultGenerator=new y("id#")})),define(Ce[54],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.Iterable=void 0,function(j){j.is=function D(j){return j&&"object"==typeof j&&"function"==typeof j[Symbol.iterator]};const te=Object.freeze([]);j.empty=function w(){return te},j.single=function*b(j){yield j},j.from=function p(j){return j||te},j.isEmpty=function h(j){return!j||!0===j[Symbol.iterator]().next().done},j.first=function g(j){return j[Symbol.iterator]().next().value},j.some=function t(j,te){for(const he of j)if(te(he))return!0;return!1},j.find=function i(j,te){for(const he of j)if(te(he))return he},j.filter=function*n(j,te){for(const he of j)te(he)&&(yield he)},j.map=function*l(j,te){let he=0;for(const ve of j)yield te(ve,he++)},j.concat=function*c(...j){for(const te of j)for(const j of te)yield j},j.concatNested=function*r(j){for(const te of j)for(const j of te)yield j},j.reduce=function s(j,te,he){let ve=he;for(const he of j)ve=te(ve,he);return ve},j.slice=function*o(j,te,he=j.length){for(te<0&&(te+=j.length),he<0?he+=j.length:he>j.length&&(he=j.length);te<he;te++)yield j[te]},j.consume=function a(te,he=Number.POSITIVE_INFINITY){const ve=[];if(0===he)return[ve,te];const Ce=te[Symbol.iterator]();for(let te=0;te<he;te++){const te=Ce.next();if(te.done)return[ve,j.empty()];ve.push(te.value)}return[ve,{[Symbol.iterator]:()=>Ce}]},j.equals=function d(j,te,he=((j,te)=>j===te)){const ve=j[Symbol.iterator](),Ce=te[Symbol.iterator]();for(;;){const j=ve.next(),te=Ce.next();if(j.done!==te.done)return!1;if(j.done)return!0;if(!he(j.value,te.value))return!1}}}(te.Iterable||(te.Iterable={}))})),define(Ce[55],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.KeyChord=te.KeyCodeUtils=te.IMMUTABLE_KEY_CODE_TO_CODE=te.IMMUTABLE_CODE_TO_KEY_CODE=te.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=te.EVENT_KEY_CODE_MAP=void 0;class y{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(j,te){this._keyCodeToStr[j]=te,this._strToKeyCode[te.toLowerCase()]=j}keyCodeToStr(j){return this._keyCodeToStr[j]}strToKeyCode(j){return this._strToKeyCode[j.toLowerCase()]||0}}const he=new y,ve=new y,Ce=new y;te.EVENT_KEY_CODE_MAP=new Array(230),te.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const ye=[],Ee=Object.create(null),Ie=Object.create(null);te.IMMUTABLE_CODE_TO_KEY_CODE=[],te.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let j=0;j<=193;j++)te.IMMUTABLE_CODE_TO_KEY_CODE[j]=-1;for(let j=0;j<=126;j++)te.IMMUTABLE_KEY_CODE_TO_CODE[j]=-1;var Ne;!function(){const j="",Ne=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",j,j],[0,1,1,"Hyper",0,j,0,j,j,j],[0,1,2,"Super",0,j,0,j,j,j],[0,1,3,"Fn",0,j,0,j,j,j],[0,1,4,"FnLock",0,j,0,j,j,j],[0,1,5,"Suspend",0,j,0,j,j,j],[0,1,6,"Resume",0,j,0,j,j,j],[0,1,7,"Turbo",0,j,0,j,j,j],[0,1,8,"Sleep",0,j,0,"VK_SLEEP",j,j],[0,1,9,"WakeUp",0,j,0,j,j,j],[31,0,10,"KeyA",31,"A",65,"VK_A",j,j],[32,0,11,"KeyB",32,"B",66,"VK_B",j,j],[33,0,12,"KeyC",33,"C",67,"VK_C",j,j],[34,0,13,"KeyD",34,"D",68,"VK_D",j,j],[35,0,14,"KeyE",35,"E",69,"VK_E",j,j],[36,0,15,"KeyF",36,"F",70,"VK_F",j,j],[37,0,16,"KeyG",37,"G",71,"VK_G",j,j],[38,0,17,"KeyH",38,"H",72,"VK_H",j,j],[39,0,18,"KeyI",39,"I",73,"VK_I",j,j],[40,0,19,"KeyJ",40,"J",74,"VK_J",j,j],[41,0,20,"KeyK",41,"K",75,"VK_K",j,j],[42,0,21,"KeyL",42,"L",76,"VK_L",j,j],[43,0,22,"KeyM",43,"M",77,"VK_M",j,j],[44,0,23,"KeyN",44,"N",78,"VK_N",j,j],[45,0,24,"KeyO",45,"O",79,"VK_O",j,j],[46,0,25,"KeyP",46,"P",80,"VK_P",j,j],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",j,j],[48,0,27,"KeyR",48,"R",82,"VK_R",j,j],[49,0,28,"KeyS",49,"S",83,"VK_S",j,j],[50,0,29,"KeyT",50,"T",84,"VK_T",j,j],[51,0,30,"KeyU",51,"U",85,"VK_U",j,j],[52,0,31,"KeyV",52,"V",86,"VK_V",j,j],[53,0,32,"KeyW",53,"W",87,"VK_W",j,j],[54,0,33,"KeyX",54,"X",88,"VK_X",j,j],[55,0,34,"KeyY",55,"Y",89,"VK_Y",j,j],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",j,j],[22,0,36,"Digit1",22,"1",49,"VK_1",j,j],[23,0,37,"Digit2",23,"2",50,"VK_2",j,j],[24,0,38,"Digit3",24,"3",51,"VK_3",j,j],[25,0,39,"Digit4",25,"4",52,"VK_4",j,j],[26,0,40,"Digit5",26,"5",53,"VK_5",j,j],[27,0,41,"Digit6",27,"6",54,"VK_6",j,j],[28,0,42,"Digit7",28,"7",55,"VK_7",j,j],[29,0,43,"Digit8",29,"8",56,"VK_8",j,j],[30,0,44,"Digit9",30,"9",57,"VK_9",j,j],[21,0,45,"Digit0",21,"0",48,"VK_0",j,j],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",j,j],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",j,j],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",j,j],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",j,j],[10,1,50,"Space",10,"Space",32,"VK_SPACE",j,j],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,j,0,j,j,j],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",j,j],[59,1,64,"F1",59,"F1",112,"VK_F1",j,j],[60,1,65,"F2",60,"F2",113,"VK_F2",j,j],[61,1,66,"F3",61,"F3",114,"VK_F3",j,j],[62,1,67,"F4",62,"F4",115,"VK_F4",j,j],[63,1,68,"F5",63,"F5",116,"VK_F5",j,j],[64,1,69,"F6",64,"F6",117,"VK_F6",j,j],[65,1,70,"F7",65,"F7",118,"VK_F7",j,j],[66,1,71,"F8",66,"F8",119,"VK_F8",j,j],[67,1,72,"F9",67,"F9",120,"VK_F9",j,j],[68,1,73,"F10",68,"F10",121,"VK_F10",j,j],[69,1,74,"F11",69,"F11",122,"VK_F11",j,j],[70,1,75,"F12",70,"F12",123,"VK_F12",j,j],[0,1,76,"PrintScreen",0,j,0,j,j,j],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",j,j],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",j,j],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",j,j],[14,1,80,"Home",14,"Home",36,"VK_HOME",j,j],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",j,j],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",j,j],[13,1,83,"End",13,"End",35,"VK_END",j,j],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",j,j],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",j],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",j],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",j],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",j],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",j,j],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",j,j],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",j,j],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",j,j],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",j,j],[3,1,94,"NumpadEnter",3,j,0,j,j,j],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",j,j],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",j,j],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",j,j],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",j,j],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",j,j],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",j,j],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",j,j],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",j,j],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",j,j],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",j,j],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",j,j],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",j,j],[58,1,107,"ContextMenu",58,"ContextMenu",93,j,j,j],[0,1,108,"Power",0,j,0,j,j,j],[0,1,109,"NumpadEqual",0,j,0,j,j,j],[71,1,110,"F13",71,"F13",124,"VK_F13",j,j],[72,1,111,"F14",72,"F14",125,"VK_F14",j,j],[73,1,112,"F15",73,"F15",126,"VK_F15",j,j],[74,1,113,"F16",74,"F16",127,"VK_F16",j,j],[75,1,114,"F17",75,"F17",128,"VK_F17",j,j],[76,1,115,"F18",76,"F18",129,"VK_F18",j,j],[77,1,116,"F19",77,"F19",130,"VK_F19",j,j],[0,1,117,"F20",0,j,0,"VK_F20",j,j],[0,1,118,"F21",0,j,0,"VK_F21",j,j],[0,1,119,"F22",0,j,0,"VK_F22",j,j],[0,1,120,"F23",0,j,0,"VK_F23",j,j],[0,1,121,"F24",0,j,0,"VK_F24",j,j],[0,1,122,"Open",0,j,0,j,j,j],[0,1,123,"Help",0,j,0,j,j,j],[0,1,124,"Select",0,j,0,j,j,j],[0,1,125,"Again",0,j,0,j,j,j],[0,1,126,"Undo",0,j,0,j,j,j],[0,1,127,"Cut",0,j,0,j,j,j],[0,1,128,"Copy",0,j,0,j,j,j],[0,1,129,"Paste",0,j,0,j,j,j],[0,1,130,"Find",0,j,0,j,j,j],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",j,j],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",j,j],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",j,j],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",j,j],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",j,j],[0,1,136,"KanaMode",0,j,0,j,j,j],[0,0,137,"IntlYen",0,j,0,j,j,j],[0,1,138,"Convert",0,j,0,j,j,j],[0,1,139,"NonConvert",0,j,0,j,j,j],[0,1,140,"Lang1",0,j,0,j,j,j],[0,1,141,"Lang2",0,j,0,j,j,j],[0,1,142,"Lang3",0,j,0,j,j,j],[0,1,143,"Lang4",0,j,0,j,j,j],[0,1,144,"Lang5",0,j,0,j,j,j],[0,1,145,"Abort",0,j,0,j,j,j],[0,1,146,"Props",0,j,0,j,j,j],[0,1,147,"NumpadParenLeft",0,j,0,j,j,j],[0,1,148,"NumpadParenRight",0,j,0,j,j,j],[0,1,149,"NumpadBackspace",0,j,0,j,j,j],[0,1,150,"NumpadMemoryStore",0,j,0,j,j,j],[0,1,151,"NumpadMemoryRecall",0,j,0,j,j,j],[0,1,152,"NumpadMemoryClear",0,j,0,j,j,j],[0,1,153,"NumpadMemoryAdd",0,j,0,j,j,j],[0,1,154,"NumpadMemorySubtract",0,j,0,j,j,j],[0,1,155,"NumpadClear",0,j,0,j,j,j],[0,1,156,"NumpadClearEntry",0,j,0,j,j,j],[5,1,0,j,5,"Ctrl",17,"VK_CONTROL",j,j],[4,1,0,j,4,"Shift",16,"VK_SHIFT",j,j],[6,1,0,j,6,"Alt",18,"VK_MENU",j,j],[57,1,0,j,57,"Meta",0,"VK_COMMAND",j,j],[5,1,157,"ControlLeft",5,j,0,"VK_LCONTROL",j,j],[4,1,158,"ShiftLeft",4,j,0,"VK_LSHIFT",j,j],[6,1,159,"AltLeft",6,j,0,"VK_LMENU",j,j],[57,1,160,"MetaLeft",57,j,0,"VK_LWIN",j,j],[5,1,161,"ControlRight",5,j,0,"VK_RCONTROL",j,j],[4,1,162,"ShiftRight",4,j,0,"VK_RSHIFT",j,j],[6,1,163,"AltRight",6,j,0,"VK_RMENU",j,j],[57,1,164,"MetaRight",57,j,0,"VK_RWIN",j,j],[0,1,165,"BrightnessUp",0,j,0,j,j,j],[0,1,166,"BrightnessDown",0,j,0,j,j,j],[0,1,167,"MediaPlay",0,j,0,j,j,j],[0,1,168,"MediaRecord",0,j,0,j,j,j],[0,1,169,"MediaFastForward",0,j,0,j,j,j],[0,1,170,"MediaRewind",0,j,0,j,j,j],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",j,j],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",j,j],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",j,j],[0,1,174,"Eject",0,j,0,j,j,j],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",j,j],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",j,j],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",j,j],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",j,j],[0,1,179,"LaunchApp1",0,j,0,"VK_MEDIA_LAUNCH_APP1",j,j],[0,1,180,"SelectTask",0,j,0,j,j,j],[0,1,181,"LaunchScreenSaver",0,j,0,j,j,j],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",j,j],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",j,j],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",j,j],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",j,j],[0,1,186,"BrowserStop",0,j,0,"VK_BROWSER_STOP",j,j],[0,1,187,"BrowserRefresh",0,j,0,"VK_BROWSER_REFRESH",j,j],[0,1,188,"BrowserFavorites",0,j,0,"VK_BROWSER_FAVORITES",j,j],[0,1,189,"ZoomToggle",0,j,0,j,j,j],[0,1,190,"MailReply",0,j,0,j,j,j],[0,1,191,"MailForward",0,j,0,j,j,j],[0,1,192,"MailSend",0,j,0,j,j,j],[109,1,0,j,109,"KeyInComposition",229,j,j,j],[111,1,0,j,111,"ABNT_C2",194,"VK_ABNT_C2",j,j],[91,1,0,j,91,"OEM_8",223,"VK_OEM_8",j,j],[0,1,0,j,0,j,0,"VK_CLEAR",j,j],[0,1,0,j,0,j,0,"VK_KANA",j,j],[0,1,0,j,0,j,0,"VK_HANGUL",j,j],[0,1,0,j,0,j,0,"VK_JUNJA",j,j],[0,1,0,j,0,j,0,"VK_FINAL",j,j],[0,1,0,j,0,j,0,"VK_HANJA",j,j],[0,1,0,j,0,j,0,"VK_KANJI",j,j],[0,1,0,j,0,j,0,"VK_CONVERT",j,j],[0,1,0,j,0,j,0,"VK_NONCONVERT",j,j],[0,1,0,j,0,j,0,"VK_ACCEPT",j,j],[0,1,0,j,0,j,0,"VK_MODECHANGE",j,j],[0,1,0,j,0,j,0,"VK_SELECT",j,j],[0,1,0,j,0,j,0,"VK_PRINT",j,j],[0,1,0,j,0,j,0,"VK_EXECUTE",j,j],[0,1,0,j,0,j,0,"VK_SNAPSHOT",j,j],[0,1,0,j,0,j,0,"VK_HELP",j,j],[0,1,0,j,0,j,0,"VK_APPS",j,j],[0,1,0,j,0,j,0,"VK_PROCESSKEY",j,j],[0,1,0,j,0,j,0,"VK_PACKET",j,j],[0,1,0,j,0,j,0,"VK_DBE_SBCSCHAR",j,j],[0,1,0,j,0,j,0,"VK_DBE_DBCSCHAR",j,j],[0,1,0,j,0,j,0,"VK_ATTN",j,j],[0,1,0,j,0,j,0,"VK_CRSEL",j,j],[0,1,0,j,0,j,0,"VK_EXSEL",j,j],[0,1,0,j,0,j,0,"VK_EREOF",j,j],[0,1,0,j,0,j,0,"VK_PLAY",j,j],[0,1,0,j,0,j,0,"VK_ZOOM",j,j],[0,1,0,j,0,j,0,"VK_NONAME",j,j],[0,1,0,j,0,j,0,"VK_PA1",j,j],[0,1,0,j,0,j,0,"VK_OEM_CLEAR",j,j]];let Oe=[],Ke=[];for(const j of Ne){const[Ne,je,Ze,Ye,et,nt,rt,at,ct,ht]=j;if(Ke[Ze]||(Ke[Ze]=!0,ye[Ze]=Ye,Ee[Ye]=Ze,Ie[Ye.toLowerCase()]=Ze,je&&(te.IMMUTABLE_CODE_TO_KEY_CODE[Ze]=et,0!==et&&3!==et&&5!==et&&4!==et&&6!==et&&57!==et&&(te.IMMUTABLE_KEY_CODE_TO_CODE[et]=Ze))),!Oe[et]){if(Oe[et]=!0,!nt)throw new Error(`String representation missing for key code ${et} around scan code ${Ye}`);he.define(et,nt),ve.define(et,ct||nt),Ce.define(et,ht||ct||nt)}rt&&(te.EVENT_KEY_CODE_MAP[rt]=et),at&&(te.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[at]=et)}te.IMMUTABLE_KEY_CODE_TO_CODE[3]=46}(),(Ne=te.KeyCodeUtils||(te.KeyCodeUtils={})).toString=function i(j){return he.keyCodeToStr(j)},Ne.fromString=function n(j){return he.strToKeyCode(j)},Ne.toUserSettingsUS=function l(j){return ve.keyCodeToStr(j)},Ne.toUserSettingsGeneral=function c(j){return Ce.keyCodeToStr(j)},Ne.fromUserSettings=function r(j){return ve.strToKeyCode(j)||Ce.strToKeyCode(j)},Ne.toElectronAccelerator=function s(j){if(j>=93&&j<=108)return null;switch(j){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return he.keyCodeToStr(j)},te.KeyChord=function g(j,te){return(j|(65535&te)<<16>>>0)>>>0}})),define(Ce[94],ie([1,0,13]),(function(j,te,he){function D(j,te){const he=!!(2048&j),ve=!!(256&j);return new I(2===te?ve:he,!!(1024&j),!!(512&j),2===te?he:ve,255&j)}Object.defineProperty(te,"__esModule",{value:!0}),te.ResolvedKeybinding=te.ResolvedKeybindingPart=te.ScanCodeBinding=te.ChordKeybinding=te.SimpleKeybinding=te.createSimpleKeybinding=te.createKeybinding=void 0,te.createKeybinding=function m(j,te){if(0===j)return null;const he=(65535&j)>>>0,ve=(4294901760&j)>>>16;return new w(0!==ve?[D(he,te),D(ve,te)]:[D(he,te)])},te.createSimpleKeybinding=D;class I{constructor(j,te,he,ve,Ce){this.ctrlKey=j,this.shiftKey=te,this.altKey=he,this.metaKey=ve,this.keyCode=Ce}equals(j){return this.ctrlKey===j.ctrlKey&&this.shiftKey===j.shiftKey&&this.altKey===j.altKey&&this.metaKey===j.metaKey&&this.keyCode===j.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new w([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}te.SimpleKeybinding=I;class w{constructor(j){if(0===j.length)throw(0,he.illegalArgument)("parts");this.parts=j}}te.ChordKeybinding=w;te.ScanCodeBinding=class b{constructor(j,te,he,ve,Ce){this.ctrlKey=j,this.shiftKey=te,this.altKey=he,this.metaKey=ve,this.scanCode=Ce}isDuplicateModifierCase(){return this.ctrlKey&&(157===this.scanCode||161===this.scanCode)||this.shiftKey&&(158===this.scanCode||162===this.scanCode)||this.altKey&&(159===this.scanCode||163===this.scanCode)||this.metaKey&&(160===this.scanCode||164===this.scanCode)}};te.ResolvedKeybindingPart=class p{constructor(j,te,he,ve,Ce,ye){this.ctrlKey=j,this.shiftKey=te,this.altKey=he,this.metaKey=ve,this.keyLabel=Ce,this.keyAriaLabel=ye}};te.ResolvedKeybinding=class h{}})),define(Ce[134],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.Lazy=void 0;te.Lazy=class y{constructor(j){this.executor=j,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(j){this._error=j}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}})),define(Ce[2],ie([1,0,88,54]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.ImmortalReference=te.MutableDisposable=te.Disposable=te.DisposableStore=te.toDisposable=te.combinedDisposable=te.dispose=te.isDisposable=te.MultiDisposeError=te.markAsSingleton=te.setDisposableTracker=void 0;let Ce=null;function w(j){Ce=j}function b(j){return null==Ce||Ce.trackDisposable(j),j}function p(j){null==Ce||Ce.markAsDisposed(j)}function h(j,te){null==Ce||Ce.setParent(j,te)}te.setDisposableTracker=w,te.markAsSingleton=function t(j){return null==Ce||Ce.markAsSingleton(j),j};class i extends Error{constructor(j){super(`Encountered errors while disposing of store. Errors: [${j.join(", ")}]`),this.errors=j}}function l(j){if(ve.Iterable.is(j)){let te=[];for(const he of j)if(he)try{he.dispose()}catch(j){te.push(j)}if(1===te.length)throw te[0];if(te.length>1)throw new i(te);return Array.isArray(j)?[]:j}if(j)return j.dispose(),j}function r(j){const te=b({dispose:(0,he.once)((()=>{p(te),j()}))});return te}te.MultiDisposeError=i,te.isDisposable=function n(j){return"function"==typeof j.dispose&&0===j.dispose.length},te.dispose=l,te.combinedDisposable=function c(...j){const te=r((()=>l(j)));return function g(j,te){if(Ce)for(const he of j)Ce.setParent(he,te)}(j,te),te},te.toDisposable=r;class s{constructor(){this._toDispose=new Set,this._isDisposed=!1,b(this)}dispose(){this._isDisposed||(p(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{l(this._toDispose.values())}finally{this._toDispose.clear()}}add(j){if(!j)return j;if(j===this)throw new Error("Cannot register a disposable on itself!");return h(j,this),this._isDisposed?s.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(j),j}}te.DisposableStore=s,s.DISABLE_DISPOSED_WARNING=!1;class o{constructor(){this._store=new s,b(this),h(this._store,this)}dispose(){p(this),this._store.dispose()}_register(j){if(j===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(j)}}te.Disposable=o,o.None=Object.freeze({dispose(){}});te.MutableDisposable=class a{constructor(){this._isDisposed=!1,b(this)}get value(){return this._isDisposed?void 0:this._value}set value(j){var te;this._isDisposed||j===this._value||(null===(te=this._value)||void 0===te||te.dispose(),j&&h(j,this),this._value=j)}clear(){this.value=void 0}dispose(){var j;this._isDisposed=!0,p(this),null===(j=this._value)||void 0===j||j.dispose(),this._value=void 0}clearAndLeak(){const j=this._value;return this._value=void 0,j&&h(j,null),j}};te.ImmortalReference=class d{constructor(j){this.object=j}dispose(){}}})),define(Ce[81],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.LinkedList=void 0;class y{constructor(j){this.element=j,this.next=y.Undefined,this.prev=y.Undefined}}y.Undefined=new y(void 0);class m{constructor(){this._first=y.Undefined,this._last=y.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===y.Undefined}clear(){let j=this._first;for(;j!==y.Undefined;){const te=j.next;j.prev=y.Undefined,j.next=y.Undefined,j=te}this._first=y.Undefined,this._last=y.Undefined,this._size=0}unshift(j){return this._insert(j,!1)}push(j){return this._insert(j,!0)}_insert(j,te){const he=new y(j);if(this._first===y.Undefined)this._first=he,this._last=he;else if(te){const j=this._last;this._last=he,he.prev=j,j.next=he}else{const j=this._first;this._first=he,he.next=j,j.prev=he}this._size+=1;let ve=!1;return()=>{ve||(ve=!0,this._remove(he))}}shift(){if(this._first!==y.Undefined){const j=this._first.element;return this._remove(this._first),j}}pop(){if(this._last!==y.Undefined){const j=this._last.element;return this._remove(this._last),j}}_remove(j){if(j.prev!==y.Undefined&&j.next!==y.Undefined){const te=j.prev;te.next=j.next,j.next.prev=te}else j.prev===y.Undefined&&j.next===y.Undefined?(this._first=y.Undefined,this._last=y.Undefined):j.next===y.Undefined?(this._last=this._last.prev,this._last.next=y.Undefined):j.prev===y.Undefined&&(this._first=this._first.next,this._first.prev=y.Undefined);this._size-=1}*[Symbol.iterator](){let j=this._first;for(;j!==y.Undefined;)yield j.element,j=j.next}}te.LinkedList=m})),function(j,te){"object"==typeof exports&&"undefined"!=typeof module?te(exports):"function"==typeof define&&define.amd?define(Ce[311],ie([0]),te):te((j="undefined"!=typeof globalThis?globalThis:j||self).marked={})}(this,(function(j){function e(j,te){for(var he=0;he<te.length;he++){var ve=te[he];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(j,ve.key,ve)}}function D(j,te){(null==te||te>j.length)&&(te=j.length);for(var he=0,ve=new Array(te);he<te;he++)ve[he]=j[he];return ve}function I(j,te){var he="undefined"!=typeof Symbol&&j[Symbol.iterator]||j["@@iterator"];if(he)return(he=he.call(j)).next.bind(he);if(Array.isArray(j)||(he=function m(j,te){if(j){if("string"==typeof j)return D(j,te);var he=Object.prototype.toString.call(j).slice(8,-1);if("Object"===he&&j.constructor&&(he=j.constructor.name),"Map"===he||"Set"===he)return Array.from(j);if("Arguments"===he||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return D(j,te)}}(j))||te&&j&&"number"==typeof j.length){he&&(j=he);var ve=0;return function(){return ve>=j.length?{done:!0}:{done:!1,value:j[ve++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}j.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var te=/[&<>"']/,he=/[&<>"']/g,ve=/[<>"']|&(?!#?\w+;)/,Ce=/[<>"']|&(?!#?\w+;)/g,ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},n=function(j){return ye[j]};function l(j,ye){if(ye){if(te.test(j))return j.replace(he,n)}else if(ve.test(j))return j.replace(Ce,n);return j}var Ee=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function r(j){return j.replace(Ee,(function(j,te){return"colon"===(te=te.toLowerCase())?":":"#"===te.charAt(0)?"x"===te.charAt(1)?String.fromCharCode(parseInt(te.substring(2),16)):String.fromCharCode(+te.substring(1)):""}))}var Ie=/(^|[^\[])\^/g;function o(j,te){j=j.source||j,te=te||"";var he={replace:function(te,ve){return ve=(ve=ve.source||ve).replace(Ie,"$1"),j=j.replace(te,ve),he},getRegex:function(){return new RegExp(j,te)}};return he}var Ne=/[^\w:]/g,Oe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function u(j,te,he){if(j){var ve;try{ve=decodeURIComponent(r(he)).replace(Ne,"").toLowerCase()}catch{return null}if(0===ve.indexOf("javascript:")||0===ve.indexOf("vbscript:")||0===ve.indexOf("data:"))return null}te&&!Oe.test(he)&&(he=function _(j,te){Ke[" "+j]||(je.test(j)?Ke[" "+j]=j+"/":Ke[" "+j]=k(j,"/",!0)),j=Ke[" "+j];var he=-1===j.indexOf(":");return"//"===te.substring(0,2)?he?te:j.replace(Ze,"$1")+te:"/"===te.charAt(0)?he?te:j.replace(Ye,"$1")+te:j+te}(te,he));try{he=encodeURI(he).replace(/%25/g,"%")}catch{return null}return he}var Ke={},je=/^[^:]+:\/*[^/]*$/,Ze=/^([^:]+:)[\s\S]*$/,Ye=/^([^:]+:\/*[^/]*)[\s\S]*$/;var et={exec:function(){}};function E(j){for(var te,he,ve=1;ve<arguments.length;ve++)for(he in te=arguments[ve])Object.prototype.hasOwnProperty.call(te,he)&&(j[he]=te[he]);return j}function N(j,te){var he=j.replace(/\|/g,(function(j,te,he){for(var ve=!1,Ce=te;--Ce>=0&&"\\"===he[Ce];)ve=!ve;return ve?"|":" |"})).split(/ \|/),ve=0;if(he[0].trim()||he.shift(),he[he.length-1].trim()||he.pop(),he.length>te)he.splice(te);else for(;he.length<te;)he.push("");for(;ve<he.length;ve++)he[ve]=he[ve].trim().replace(/\\\|/g,"|");return he}function k(j,te,he){var ve=j.length;if(0===ve)return"";for(var Ce=0;Ce<ve;){var ye=j.charAt(ve-Ce-1);if(ye!==te||he){if(ye===te||!he)break;Ce++}else Ce++}return j.substr(0,ve-Ce)}function O(j){j&&j.sanitize&&!j.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function B(j,te){if(te<1)return"";for(var he="";te>1;)1&te&&(he+=j),te>>=1,j+=j;return he+j}function T(j,te,he,ve){var Ce=te.href,ye=te.title?l(te.title):null,Ee=j[1].replace(/\\([\[\]])/g,"$1");if("!"!==j[0].charAt(0)){ve.state.inLink=!0;var Ie={type:"link",raw:he,href:Ce,title:ye,text:Ee,tokens:ve.inlineTokens(Ee,[])};return ve.state.inLink=!1,Ie}return{type:"image",raw:he,href:Ce,title:ye,text:l(Ee)}}var nt=function(){function z(te){this.options=te||j.defaults}var te=z.prototype;return te.space=function(j){var te=this.rules.block.newline.exec(j);if(te&&te[0].length>0)return{type:"space",raw:te[0]}},te.code=function(j){var te=this.rules.block.code.exec(j);if(te){var he=te[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:te[0],codeBlockStyle:"indented",text:this.options.pedantic?he:k(he,"\n")}}},te.fences=function(j){var te=this.rules.block.fences.exec(j);if(te){var he=te[0],ve=function R(j,te){var he=j.match(/^(\s+)(?:```)/);if(null===he)return te;var ve=he[1];return te.split("\n").map((function(j){var te=j.match(/^\s+/);return null===te?j:te[0].length>=ve.length?j.slice(ve.length):j})).join("\n")}(he,te[3]||"");return{type:"code",raw:he,lang:te[2]?te[2].trim():te[2],text:ve}}},te.heading=function(j){var te=this.rules.block.heading.exec(j);if(te){var he=te[2].trim();if(/#$/.test(he)){var ve=k(he,"#");(this.options.pedantic||!ve||/ $/.test(ve))&&(he=ve.trim())}var Ce={type:"heading",raw:te[0],depth:te[1].length,text:he,tokens:[]};return this.lexer.inline(Ce.text,Ce.tokens),Ce}},te.hr=function(j){var te=this.rules.block.hr.exec(j);if(te)return{type:"hr",raw:te[0]}},te.blockquote=function(j){var te=this.rules.block.blockquote.exec(j);if(te){var he=te[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:te[0],tokens:this.lexer.blockTokens(he,[]),text:he}}},te.list=function(j){var te=this.rules.block.list.exec(j);if(te){var he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et=te[1].trim(),nt=et.length>1,rt={type:"list",raw:"",ordered:nt,start:nt?+et.slice(0,-1):"",loose:!1,items:[]};et=nt?"\\d{1,9}\\"+et.slice(-1):"\\"+et,this.options.pedantic&&(et=nt?et:"[*+-]");for(var at=new RegExp("^( {0,3}"+et+")((?: [^\\n]*)?(?:\\n|$))");j&&(Ye=!1,(te=at.exec(j))&&!this.rules.block.hr.test(j));){if(he=te[0],j=j.substring(he.length),Oe=te[2].split("\n",1)[0],Ke=j.split("\n",1)[0],this.options.pedantic?(ye=2,Ze=Oe.trimLeft()):(ye=(ye=te[2].search(/[^ ]/))>4?1:ye,Ze=Oe.slice(ye),ye+=te[1].length),Ie=!1,!Oe&&/^ *$/.test(Ke)&&(he+=Ke+"\n",j=j.substring(Ke.length+1),Ye=!0),!Ye)for(var ct=new RegExp("^ {0,"+Math.min(3,ye-1)+"}(?:[*+-]|\\d{1,9}[.)])");j&&(Oe=je=j.split("\n",1)[0],this.options.pedantic&&(Oe=Oe.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!ct.test(Oe));){if(Oe.search(/[^ ]/)>=ye||!Oe.trim())Ze+="\n"+Oe.slice(ye);else{if(Ie)break;Ze+="\n"+Oe}!Ie&&!Oe.trim()&&(Ie=!0),he+=je+"\n",j=j.substring(je.length+1)}rt.loose||(Ne?rt.loose=!0:/\n *\n *$/.test(he)&&(Ne=!0)),this.options.gfm&&((ve=/^\[[ xX]\] /.exec(Ze))&&(Ce="[ ] "!==ve[0],Ze=Ze.replace(/^\[[ xX]\] +/,""))),rt.items.push({type:"list_item",raw:he,task:!!ve,checked:Ce,loose:!1,text:Ze}),rt.raw+=he}rt.items[rt.items.length-1].raw=he.trimRight(),rt.items[rt.items.length-1].text=Ze.trimRight(),rt.raw=rt.raw.trimRight();var ht=rt.items.length;for(Ee=0;Ee<ht;Ee++){this.lexer.state.top=!1,rt.items[Ee].tokens=this.lexer.blockTokens(rt.items[Ee].text,[]);var mt=rt.items[Ee].tokens.filter((function(j){return"space"===j.type})),pt=mt.every((function(j){for(var te,he=0,ve=I(j.raw.split(""));!(te=ve()).done;){if("\n"===te.value&&(he+=1),he>1)return!0}return!1}));!rt.loose&&mt.length&&pt&&(rt.loose=!0,rt.items[Ee].loose=!0)}return rt}},te.html=function(j){var te=this.rules.block.html.exec(j);if(te){var he={type:"html",raw:te[0],pre:!this.options.sanitizer&&("pre"===te[1]||"script"===te[1]||"style"===te[1]),text:te[0]};return this.options.sanitize&&(he.type="paragraph",he.text=this.options.sanitizer?this.options.sanitizer(te[0]):l(te[0]),he.tokens=[],this.lexer.inline(he.text,he.tokens)),he}},te.def=function(j){var te=this.rules.block.def.exec(j);if(te)return te[3]&&(te[3]=te[3].substring(1,te[3].length-1)),{type:"def",tag:te[1].toLowerCase().replace(/\s+/g," "),raw:te[0],href:te[2],title:te[3]}},te.table=function(j){var te=this.rules.block.table.exec(j);if(te){var he={type:"table",header:N(te[1]).map((function(j){return{text:j}})),align:te[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:te[3]?te[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(he.header.length===he.align.length){he.raw=te[0];var ve,Ce,ye,Ee,Ie=he.align.length;for(ve=0;ve<Ie;ve++)/^ *-+: *$/.test(he.align[ve])?he.align[ve]="right":/^ *:-+: *$/.test(he.align[ve])?he.align[ve]="center":/^ *:-+ *$/.test(he.align[ve])?he.align[ve]="left":he.align[ve]=null;for(Ie=he.rows.length,ve=0;ve<Ie;ve++)he.rows[ve]=N(he.rows[ve],he.header.length).map((function(j){return{text:j}}));for(Ie=he.header.length,Ce=0;Ce<Ie;Ce++)he.header[Ce].tokens=[],this.lexer.inlineTokens(he.header[Ce].text,he.header[Ce].tokens);for(Ie=he.rows.length,Ce=0;Ce<Ie;Ce++)for(Ee=he.rows[Ce],ye=0;ye<Ee.length;ye++)Ee[ye].tokens=[],this.lexer.inlineTokens(Ee[ye].text,Ee[ye].tokens);return he}}},te.lheading=function(j){var te=this.rules.block.lheading.exec(j);if(te){var he={type:"heading",raw:te[0],depth:"="===te[2].charAt(0)?1:2,text:te[1],tokens:[]};return this.lexer.inline(he.text,he.tokens),he}},te.paragraph=function(j){var te=this.rules.block.paragraph.exec(j);if(te){var he={type:"paragraph",raw:te[0],text:"\n"===te[1].charAt(te[1].length-1)?te[1].slice(0,-1):te[1],tokens:[]};return this.lexer.inline(he.text,he.tokens),he}},te.text=function(j){var te=this.rules.block.text.exec(j);if(te){var he={type:"text",raw:te[0],text:te[0],tokens:[]};return this.lexer.inline(he.text,he.tokens),he}},te.escape=function(j){var te=this.rules.inline.escape.exec(j);if(te)return{type:"escape",raw:te[0],text:l(te[1])}},te.tag=function(j){var te=this.rules.inline.tag.exec(j);if(te)return!this.lexer.state.inLink&&/^<a /i.test(te[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(te[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(te[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(te[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:te[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(te[0]):l(te[0]):te[0]}},te.link=function(j){var te=this.rules.inline.link.exec(j);if(te){var he=te[2].trim();if(!this.options.pedantic&&/^</.test(he)){if(!/>$/.test(he))return;var ve=k(he.slice(0,-1),"\\");if((he.length-ve.length)%2==0)return}else{var Ce=function M(j,te){if(-1===j.indexOf(te[1]))return-1;for(var he=j.length,ve=0,Ce=0;Ce<he;Ce++)if("\\"===j[Ce])Ce++;else if(j[Ce]===te[0])ve++;else if(j[Ce]===te[1]&&--ve<0)return Ce;return-1}(te[2],"()");if(Ce>-1){var ye=(0===te[0].indexOf("!")?5:4)+te[1].length+Ce;te[2]=te[2].substring(0,Ce),te[0]=te[0].substring(0,ye).trim(),te[3]=""}}var Ee=te[2],Ie="";if(this.options.pedantic){var Ne=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ee);Ne&&(Ee=Ne[1],Ie=Ne[3])}else Ie=te[3]?te[3].slice(1,-1):"";return Ee=Ee.trim(),/^</.test(Ee)&&(Ee=this.options.pedantic&&!/>$/.test(he)?Ee.slice(1):Ee.slice(1,-1)),T(te,{href:Ee&&Ee.replace(this.rules.inline._escapes,"$1"),title:Ie&&Ie.replace(this.rules.inline._escapes,"$1")},te[0],this.lexer)}},te.reflink=function(j,te){var he;if((he=this.rules.inline.reflink.exec(j))||(he=this.rules.inline.nolink.exec(j))){var ve=(he[2]||he[1]).replace(/\s+/g," ");if(!(ve=te[ve.toLowerCase()])||!ve.href){var Ce=he[0].charAt(0);return{type:"text",raw:Ce,text:Ce}}return T(he,ve,he[0],this.lexer)}},te.emStrong=function(j,te,he){void 0===he&&(he="");var ve=this.rules.inline.emStrong.lDelim.exec(j);if(ve&&(!ve[3]||!he.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Ce=ve[1]||ve[2]||"";if(!Ce||Ce&&(""===he||this.rules.inline.punctuation.exec(he))){var ye,Ee,Ie=ve[0].length-1,Ne=Ie,Oe=0,Ke="*"===ve[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ke.lastIndex=0,te=te.slice(-1*j.length+Ie);null!=(ve=Ke.exec(te));)if(ye=ve[1]||ve[2]||ve[3]||ve[4]||ve[5]||ve[6]){if(Ee=ye.length,ve[3]||ve[4]){Ne+=Ee;continue}if((ve[5]||ve[6])&&Ie%3&&!((Ie+Ee)%3)){Oe+=Ee;continue}if(!((Ne-=Ee)>0)){if(Ee=Math.min(Ee,Ee+Ne+Oe),Math.min(Ie,Ee)%2){var je=j.slice(1,Ie+ve.index+Ee);return{type:"em",raw:j.slice(0,Ie+ve.index+Ee+1),text:je,tokens:this.lexer.inlineTokens(je,[])}}var Ze=j.slice(2,Ie+ve.index+Ee-1);return{type:"strong",raw:j.slice(0,Ie+ve.index+Ee+1),text:Ze,tokens:this.lexer.inlineTokens(Ze,[])}}}}}},te.codespan=function(j){var te=this.rules.inline.code.exec(j);if(te){var he=te[2].replace(/\n/g," "),ve=/[^ ]/.test(he),Ce=/^ /.test(he)&&/ $/.test(he);return ve&&Ce&&(he=he.substring(1,he.length-1)),he=l(he,!0),{type:"codespan",raw:te[0],text:he}}},te.br=function(j){var te=this.rules.inline.br.exec(j);if(te)return{type:"br",raw:te[0]}},te.del=function(j){var te=this.rules.inline.del.exec(j);if(te)return{type:"del",raw:te[0],text:te[2],tokens:this.lexer.inlineTokens(te[2],[])}},te.autolink=function(j,te){var he,ve,Ce=this.rules.inline.autolink.exec(j);if(Ce)return"@"===Ce[2]?ve="mailto:"+(he=l(this.options.mangle?te(Ce[1]):Ce[1])):ve=he=l(Ce[1]),{type:"link",raw:Ce[0],text:he,href:ve,tokens:[{type:"text",raw:he,text:he}]}},te.url=function(j,te){var he;if(he=this.rules.inline.url.exec(j)){var ve,Ce;if("@"===he[2])Ce="mailto:"+(ve=l(this.options.mangle?te(he[0]):he[0]));else{var ye;do{ye=he[0],he[0]=this.rules.inline._backpedal.exec(he[0])[0]}while(ye!==he[0]);ve=l(he[0]),Ce="www."===he[1]?"http://"+ve:ve}return{type:"link",raw:he[0],text:ve,href:Ce,tokens:[{type:"text",raw:ve,text:ve}]}}},te.inlineText=function(j,te){var he,ve=this.rules.inline.text.exec(j);if(ve)return he=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ve[0]):l(ve[0]):ve[0]:l(this.options.smartypants?te(ve[0]):ve[0]),{type:"text",raw:ve[0],text:he}},z}(),rt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:et,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};rt.def=o(rt.def).replace("label",rt._label).replace("title",rt._title).getRegex(),rt.bullet=/(?:[*+-]|\d{1,9}[.)])/,rt.listItemStart=o(/^( *)(bull) */).replace("bull",rt.bullet).getRegex(),rt.list=o(rt.list).replace(/bull/g,rt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+rt.def.source+")").getRegex(),rt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",rt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,rt.html=o(rt.html,"i").replace("comment",rt._comment).replace("tag",rt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),rt.paragraph=o(rt._paragraph).replace("hr",rt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt._tag).getRegex(),rt.blockquote=o(rt.blockquote).replace("paragraph",rt.paragraph).getRegex(),rt.normal=E({},rt),rt.gfm=E({},rt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),rt.gfm.table=o(rt.gfm.table).replace("hr",rt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt._tag).getRegex(),rt.gfm.paragraph=o(rt._paragraph).replace("hr",rt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",rt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rt._tag).getRegex(),rt.pedantic=E({},rt.normal,{html:o("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",rt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:et,paragraph:o(rt.normal._paragraph).replace("hr",rt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",rt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var at={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:et,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:et,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function A(j){return j.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function H(j){var te,he,ve="",Ce=j.length;for(te=0;te<Ce;te++)he=j.charCodeAt(te),Math.random()>.5&&(he="x"+he.toString(16)),ve+="&#"+he+";";return ve}at._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",at.punctuation=o(at.punctuation).replace(/punctuation/g,at._punctuation).getRegex(),at.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,at.escapedEmSt=/\\\*|\\_/g,at._comment=o(rt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),at.emStrong.lDelim=o(at.emStrong.lDelim).replace(/punct/g,at._punctuation).getRegex(),at.emStrong.rDelimAst=o(at.emStrong.rDelimAst,"g").replace(/punct/g,at._punctuation).getRegex(),at.emStrong.rDelimUnd=o(at.emStrong.rDelimUnd,"g").replace(/punct/g,at._punctuation).getRegex(),at._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,at._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,at._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,at.autolink=o(at.autolink).replace("scheme",at._scheme).replace("email",at._email).getRegex(),at._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,at.tag=o(at.tag).replace("comment",at._comment).replace("attribute",at._attribute).getRegex(),at._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,at._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,at._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,at.link=o(at.link).replace("label",at._label).replace("href",at._href).replace("title",at._title).getRegex(),at.reflink=o(at.reflink).replace("label",at._label).replace("ref",rt._label).getRegex(),at.nolink=o(at.nolink).replace("ref",rt._label).getRegex(),at.reflinkSearch=o(at.reflinkSearch,"g").replace("reflink",at.reflink).replace("nolink",at.nolink).getRegex(),at.normal=E({},at),at.pedantic=E({},at.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:o(/^!?\[(label)\]\((.*?)\)/).replace("label",at._label).getRegex(),reflink:o(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",at._label).getRegex()}),at.gfm=E({},at.normal,{escape:o(at.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),at.gfm.url=o(at.gfm.url,"i").replace("email",at.gfm._extended_email).getRegex(),at.breaks=E({},at.gfm,{br:o(at.br).replace("{2,}","*").getRegex(),text:o(at.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var ct=function(){function z(te){this.tokens=[],this.tokens.links=Object.create(null),this.options=te||j.defaults,this.options.tokenizer=this.options.tokenizer||new nt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var he={block:rt.normal,inline:at.normal};this.options.pedantic?(he.block=rt.pedantic,he.inline=at.pedantic):this.options.gfm&&(he.block=rt.gfm,this.options.breaks?he.inline=at.breaks:he.inline=at.gfm),this.tokenizer.rules=he}z.lex=function(j,te){return new z(te).lex(j)},z.lexInline=function(j,te){return new z(te).inlineTokens(j)};var te=z.prototype;return te.lex=function(j){j=j.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(j,this.tokens);for(var te;te=this.inlineQueue.shift();)this.inlineTokens(te.src,te.tokens);return this.tokens},te.blockTokens=function(j,te){var he,ve,Ce,ye,Ee=this;for(void 0===te&&(te=[]),this.options.pedantic&&(j=j.replace(/^ +$/gm,""));j;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(ve){return!!(he=ve.call({lexer:Ee},j,te))&&(j=j.substring(he.raw.length),te.push(he),!0)})))){if(he=this.tokenizer.space(j)){j=j.substring(he.raw.length),1===he.raw.length&&te.length>0?te[te.length-1].raw+="\n":te.push(he);continue}if(he=this.tokenizer.code(j)){j=j.substring(he.raw.length),!(ve=te[te.length-1])||"paragraph"!==ve.type&&"text"!==ve.type?te.push(he):(ve.raw+="\n"+he.raw,ve.text+="\n"+he.text,this.inlineQueue[this.inlineQueue.length-1].src=ve.text);continue}if(he=this.tokenizer.fences(j)){j=j.substring(he.raw.length),te.push(he);continue}if(he=this.tokenizer.heading(j)){j=j.substring(he.raw.length),te.push(he);continue}if(he=this.tokenizer.hr(j)){j=j.substring(he.raw.length),te.push(he);continue}if(he=this.tokenizer.blockquote(j)){j=j.substring(he.raw.length),te.push(he);continue}if(he=this.tokenizer.list(j)){j=j.substring(he.raw.length),te.push(he);continue}if(he=this.tokenizer.html(j)){j=j.substring(he.raw.length),te.push(he);continue}if(he=this.tokenizer.def(j)){j=j.substring(he.raw.length),!(ve=te[te.length-1])||"paragraph"!==ve.type&&"text"!==ve.type?this.tokens.links[he.tag]||(this.tokens.links[he.tag]={href:he.href,title:he.title}):(ve.raw+="\n"+he.raw,ve.text+="\n"+he.raw,this.inlineQueue[this.inlineQueue.length-1].src=ve.text);continue}if(he=this.tokenizer.table(j)){j=j.substring(he.raw.length),te.push(he);continue}if(he=this.tokenizer.lheading(j)){j=j.substring(he.raw.length),te.push(he);continue}if(Ce=j,this.options.extensions&&this.options.extensions.startBlock&&function(){var te=1/0,he=j.slice(1),ve=void 0;Ee.options.extensions.startBlock.forEach((function(j){"number"==typeof(ve=j.call({lexer:this},he))&&ve>=0&&(te=Math.min(te,ve))})),te<1/0&&te>=0&&(Ce=j.substring(0,te+1))}(),this.state.top&&(he=this.tokenizer.paragraph(Ce))){ve=te[te.length-1],ye&&"paragraph"===ve.type?(ve.raw+="\n"+he.raw,ve.text+="\n"+he.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ve.text):te.push(he),ye=Ce.length!==j.length,j=j.substring(he.raw.length);continue}if(he=this.tokenizer.text(j)){j=j.substring(he.raw.length),(ve=te[te.length-1])&&"text"===ve.type?(ve.raw+="\n"+he.raw,ve.text+="\n"+he.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ve.text):te.push(he);continue}if(j){var Ie="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(Ie);break}throw new Error(Ie)}}return this.state.top=!0,te},te.inline=function(j,te){this.inlineQueue.push({src:j,tokens:te})},te.inlineTokens=function(j,te){var he=this;void 0===te&&(te=[]);var ve,Ce,ye,Ee,Ie,Ne,Oe=j;if(this.tokens.links){var Ke=Object.keys(this.tokens.links);if(Ke.length>0)for(;null!=(Ee=this.tokenizer.rules.inline.reflinkSearch.exec(Oe));)Ke.includes(Ee[0].slice(Ee[0].lastIndexOf("[")+1,-1))&&(Oe=Oe.slice(0,Ee.index)+"["+B("a",Ee[0].length-2)+"]"+Oe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Ee=this.tokenizer.rules.inline.blockSkip.exec(Oe));)Oe=Oe.slice(0,Ee.index)+"["+B("a",Ee[0].length-2)+"]"+Oe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Ee=this.tokenizer.rules.inline.escapedEmSt.exec(Oe));)Oe=Oe.slice(0,Ee.index)+"++"+Oe.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;j;)if(Ie||(Ne=""),Ie=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(Ce){return!!(ve=Ce.call({lexer:he},j,te))&&(j=j.substring(ve.raw.length),te.push(ve),!0)})))){if(ve=this.tokenizer.escape(j)){j=j.substring(ve.raw.length),te.push(ve);continue}if(ve=this.tokenizer.tag(j)){j=j.substring(ve.raw.length),(Ce=te[te.length-1])&&"text"===ve.type&&"text"===Ce.type?(Ce.raw+=ve.raw,Ce.text+=ve.text):te.push(ve);continue}if(ve=this.tokenizer.link(j)){j=j.substring(ve.raw.length),te.push(ve);continue}if(ve=this.tokenizer.reflink(j,this.tokens.links)){j=j.substring(ve.raw.length),(Ce=te[te.length-1])&&"text"===ve.type&&"text"===Ce.type?(Ce.raw+=ve.raw,Ce.text+=ve.text):te.push(ve);continue}if(ve=this.tokenizer.emStrong(j,Oe,Ne)){j=j.substring(ve.raw.length),te.push(ve);continue}if(ve=this.tokenizer.codespan(j)){j=j.substring(ve.raw.length),te.push(ve);continue}if(ve=this.tokenizer.br(j)){j=j.substring(ve.raw.length),te.push(ve);continue}if(ve=this.tokenizer.del(j)){j=j.substring(ve.raw.length),te.push(ve);continue}if(ve=this.tokenizer.autolink(j,H)){j=j.substring(ve.raw.length),te.push(ve);continue}if(!this.state.inLink&&(ve=this.tokenizer.url(j,H))){j=j.substring(ve.raw.length),te.push(ve);continue}if(ye=j,this.options.extensions&&this.options.extensions.startInline&&function(){var te=1/0,ve=j.slice(1),Ce=void 0;he.options.extensions.startInline.forEach((function(j){"number"==typeof(Ce=j.call({lexer:this},ve))&&Ce>=0&&(te=Math.min(te,Ce))})),te<1/0&&te>=0&&(ye=j.substring(0,te+1))}(),ve=this.tokenizer.inlineText(ye,A)){j=j.substring(ve.raw.length),"_"!==ve.raw.slice(-1)&&(Ne=ve.raw.slice(-1)),Ie=!0,(Ce=te[te.length-1])&&"text"===Ce.type?(Ce.raw+=ve.raw,Ce.text+=ve.text):te.push(ve);continue}if(j){var je="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(je);break}throw new Error(je)}}return te},function y(j,te,he){return te&&e(j.prototype,te),he&&e(j,he),Object.defineProperty(j,"prototype",{writable:!1}),j}(z,null,[{key:"rules",get:function(){return{block:rt,inline:at}}}]),z}(),ht=function(){function z(te){this.options=te||j.defaults}var te=z.prototype;return te.code=function(j,te,he){var ve=(te||"").match(/\S*/)[0];if(this.options.highlight){var Ce=this.options.highlight(j,ve);null!=Ce&&Ce!==j&&(he=!0,j=Ce)}return j=j.replace(/\n$/,"")+"\n",ve?'<pre><code class="'+this.options.langPrefix+l(ve,!0)+'">'+(he?j:l(j,!0))+"</code></pre>\n":"<pre><code>"+(he?j:l(j,!0))+"</code></pre>\n"},te.blockquote=function(j){return"<blockquote>\n"+j+"</blockquote>\n"},te.html=function(j){return j},te.heading=function(j,te,he,ve){return this.options.headerIds?"<h"+te+' id="'+this.options.headerPrefix+ve.slug(he)+'">'+j+"</h"+te+">\n":"<h"+te+">"+j+"</h"+te+">\n"},te.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},te.list=function(j,te,he){var ve=te?"ol":"ul";return"<"+ve+(te&&1!==he?' start="'+he+'"':"")+">\n"+j+"</"+ve+">\n"},te.listitem=function(j){return"<li>"+j+"</li>\n"},te.checkbox=function(j){return"<input "+(j?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},te.paragraph=function(j){return"<p>"+j+"</p>\n"},te.table=function(j,te){return te&&(te="<tbody>"+te+"</tbody>"),"<table>\n<thead>\n"+j+"</thead>\n"+te+"</table>\n"},te.tablerow=function(j){return"<tr>\n"+j+"</tr>\n"},te.tablecell=function(j,te){var he=te.header?"th":"td";return(te.align?"<"+he+' align="'+te.align+'">':"<"+he+">")+j+"</"+he+">\n"},te.strong=function(j){return"<strong>"+j+"</strong>"},te.em=function(j){return"<em>"+j+"</em>"},te.codespan=function(j){return"<code>"+j+"</code>"},te.br=function(){return this.options.xhtml?"<br/>":"<br>"},te.del=function(j){return"<del>"+j+"</del>"},te.link=function(j,te,he){if(null===(j=u(this.options.sanitize,this.options.baseUrl,j)))return he;var ve='<a href="'+l(j)+'"';return te&&(ve+=' title="'+te+'"'),ve+=">"+he+"</a>"},te.image=function(j,te,he){if(null===(j=u(this.options.sanitize,this.options.baseUrl,j)))return he;var ve='<img src="'+j+'" alt="'+he+'"';return te&&(ve+=' title="'+te+'"'),ve+=this.options.xhtml?"/>":">"},te.text=function(j){return j},z}(),mt=function(){function z(){}var j=z.prototype;return j.strong=function(j){return j},j.em=function(j){return j},j.codespan=function(j){return j},j.del=function(j){return j},j.html=function(j){return j},j.text=function(j){return j},j.link=function(j,te,he){return""+he},j.image=function(j,te,he){return""+he},j.br=function(){return""},z}(),pt=function(){function z(){this.seen={}}var j=z.prototype;return j.serialize=function(j){return j.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},j.getNextSafeSlug=function(j,te){var he=j,ve=0;if(this.seen.hasOwnProperty(he)){ve=this.seen[j];do{he=j+"-"+ ++ve}while(this.seen.hasOwnProperty(he))}return te||(this.seen[j]=ve,this.seen[he]=0),he},j.slug=function(j,te){void 0===te&&(te={});var he=this.serialize(j);return this.getNextSafeSlug(he,te.dryrun)},z}(),ft=function(){function z(te){this.options=te||j.defaults,this.options.renderer=this.options.renderer||new ht,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new mt,this.slugger=new pt}z.parse=function(j,te){return new z(te).parse(j)},z.parseInline=function(j,te){return new z(te).parseInline(j)};var te=z.prototype;return te.parse=function(j,te){void 0===te&&(te=!0);var he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt="",ft=j.length;for(he=0;he<ft;he++)if(je=j[he],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[je.type]&&(!1!==(mt=this.options.extensions.renderers[je.type].call({parser:this},je))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(je.type)))pt+=mt||"";else switch(je.type){case"space":continue;case"hr":pt+=this.renderer.hr();continue;case"heading":pt+=this.renderer.heading(this.parseInline(je.tokens),je.depth,r(this.parseInline(je.tokens,this.textRenderer)),this.slugger);continue;case"code":pt+=this.renderer.code(je.text,je.lang,je.escaped);continue;case"table":for(Oe="",Ne="",ye=je.header.length,ve=0;ve<ye;ve++)Ne+=this.renderer.tablecell(this.parseInline(je.header[ve].tokens),{header:!0,align:je.align[ve]});for(Oe+=this.renderer.tablerow(Ne),Ke="",ye=je.rows.length,ve=0;ve<ye;ve++){for(Ne="",Ee=(Ie=je.rows[ve]).length,Ce=0;Ce<Ee;Ce++)Ne+=this.renderer.tablecell(this.parseInline(Ie[Ce].tokens),{header:!1,align:je.align[Ce]});Ke+=this.renderer.tablerow(Ne)}pt+=this.renderer.table(Oe,Ke);continue;case"blockquote":Ke=this.parse(je.tokens),pt+=this.renderer.blockquote(Ke);continue;case"list":for(Ze=je.ordered,Ye=je.start,et=je.loose,ye=je.items.length,Ke="",ve=0;ve<ye;ve++)at=(rt=je.items[ve]).checked,ct=rt.task,nt="",rt.task&&(ht=this.renderer.checkbox(at),et?rt.tokens.length>0&&"paragraph"===rt.tokens[0].type?(rt.tokens[0].text=ht+" "+rt.tokens[0].text,rt.tokens[0].tokens&&rt.tokens[0].tokens.length>0&&"text"===rt.tokens[0].tokens[0].type&&(rt.tokens[0].tokens[0].text=ht+" "+rt.tokens[0].tokens[0].text)):rt.tokens.unshift({type:"text",text:ht}):nt+=ht),nt+=this.parse(rt.tokens,et),Ke+=this.renderer.listitem(nt,ct,at);pt+=this.renderer.list(Ke,Ze,Ye);continue;case"html":pt+=this.renderer.html(je.text);continue;case"paragraph":pt+=this.renderer.paragraph(this.parseInline(je.tokens));continue;case"text":for(Ke=je.tokens?this.parseInline(je.tokens):je.text;he+1<ft&&"text"===j[he+1].type;)Ke+="\n"+((je=j[++he]).tokens?this.parseInline(je.tokens):je.text);pt+=te?this.renderer.paragraph(Ke):Ke;continue;default:var _t='Token with "'+je.type+'" type was not found.';if(this.options.silent)return void console.error(_t);throw new Error(_t)}return pt},te.parseInline=function(j,te){te=te||this.renderer;var he,ve,Ce,ye="",Ee=j.length;for(he=0;he<Ee;he++)if(ve=j[he],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ve.type]&&(!1!==(Ce=this.options.extensions.renderers[ve.type].call({parser:this},ve))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ve.type)))ye+=Ce||"";else switch(ve.type){case"escape":case"text":ye+=te.text(ve.text);break;case"html":ye+=te.html(ve.text);break;case"link":ye+=te.link(ve.href,ve.title,this.parseInline(ve.tokens,te));break;case"image":ye+=te.image(ve.href,ve.title,ve.text);break;case"strong":ye+=te.strong(this.parseInline(ve.tokens,te));break;case"em":ye+=te.em(this.parseInline(ve.tokens,te));break;case"codespan":ye+=te.codespan(ve.text);break;case"br":ye+=te.br();break;case"del":ye+=te.del(this.parseInline(ve.tokens,te));break;default:var Ie='Token with "'+ve.type+'" type was not found.';if(this.options.silent)return void console.error(Ie);throw new Error(Ie)}return ye},z}();function oe(j,te,he){if(null==j)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof j)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(j)+", string expected");if("function"==typeof te&&(he=te,te=null),O(te=E({},oe.defaults,te||{})),he){var ve,Ce=te.highlight;try{ve=ct.lex(j,te)}catch(j){return he(j)}var Y=function(j){var ye;if(!j)try{te.walkTokens&&oe.walkTokens(ve,te.walkTokens),ye=ft.parse(ve,te)}catch(te){j=te}return te.highlight=Ce,j?he(j):he(null,ye)};if(!Ce||Ce.length<3||(delete te.highlight,!ve.length))return Y();var ye=0;return oe.walkTokens(ve,(function(j){"code"===j.type&&(ye++,setTimeout((function(){Ce(j.text,j.lang,(function(te,he){if(te)return Y(te);null!=he&&he!==j.text&&(j.text=he,j.escaped=!0),0===--ye&&Y()}))}),0))})),void(0===ye&&Y())}try{var Ee=ct.lex(j,te);return te.walkTokens&&oe.walkTokens(Ee,te.walkTokens),ft.parse(Ee,te)}catch(j){if(j.message+="\nPlease report this to https://github.com/markedjs/marked.",te.silent)return"<p>An error occurred:</p><pre>"+l(j.message+"",!0)+"</pre>";throw j}}oe.options=oe.setOptions=function(te){return E(oe.defaults,te),function b(te){j.defaults=te}(oe.defaults),oe},oe.getDefaults=w,oe.defaults=j.defaults,oe.use=function(){for(var j=arguments.length,te=new Array(j),he=0;he<j;he++)te[he]=arguments[he];var ve,Ce=E.apply(void 0,[{}].concat(te)),ye=oe.defaults.extensions||{renderers:{},childTokens:{}};te.forEach((function(j){if(j.extensions&&(ve=!0,j.extensions.forEach((function(j){if(!j.name)throw new Error("extension name required");if(j.renderer){var te=ye.renderers?ye.renderers[j.name]:null;ye.renderers[j.name]=te?function(){for(var he=arguments.length,ve=new Array(he),Ce=0;Ce<he;Ce++)ve[Ce]=arguments[Ce];var ye=j.renderer.apply(this,ve);return!1===ye&&(ye=te.apply(this,ve)),ye}:j.renderer}if(j.tokenizer){if(!j.level||"block"!==j.level&&"inline"!==j.level)throw new Error("extension level must be 'block' or 'inline'");ye[j.level]?ye[j.level].unshift(j.tokenizer):ye[j.level]=[j.tokenizer],j.start&&("block"===j.level?ye.startBlock?ye.startBlock.push(j.start):ye.startBlock=[j.start]:"inline"===j.level&&(ye.startInline?ye.startInline.push(j.start):ye.startInline=[j.start]))}j.childTokens&&(ye.childTokens[j.name]=j.childTokens)}))),j.renderer&&function(){var te=oe.defaults.renderer||new ht,le=function(he){var ve=te[he];te[he]=function(){for(var Ce=arguments.length,ye=new Array(Ce),Ee=0;Ee<Ce;Ee++)ye[Ee]=arguments[Ee];var Ie=j.renderer[he].apply(te,ye);return!1===Ie&&(Ie=ve.apply(te,ye)),Ie}};for(var he in j.renderer)le(he);Ce.renderer=te}(),j.tokenizer&&function(){var te=oe.defaults.tokenizer||new nt,le=function(he){var ve=te[he];te[he]=function(){for(var Ce=arguments.length,ye=new Array(Ce),Ee=0;Ee<Ce;Ee++)ye[Ee]=arguments[Ee];var Ie=j.tokenizer[he].apply(te,ye);return!1===Ie&&(Ie=ve.apply(te,ye)),Ie}};for(var he in j.tokenizer)le(he);Ce.tokenizer=te}(),j.walkTokens){var te=oe.defaults.walkTokens;Ce.walkTokens=function(he){j.walkTokens.call(this,he),te&&te.call(this,he)}}ve&&(Ce.extensions=ye),oe.setOptions(Ce)}))},oe.walkTokens=function(j,te){for(var he,$=function(){var j=he.value;switch(te.call(oe,j),j.type){case"table":for(var ve,Ce=I(j.header);!(ve=Ce()).done;){var ye=ve.value;oe.walkTokens(ye.tokens,te)}for(var Ee,Ie=I(j.rows);!(Ee=Ie()).done;)for(var Ne,Oe=I(Ee.value);!(Ne=Oe()).done;){var Ke=Ne.value;oe.walkTokens(Ke.tokens,te)}break;case"list":oe.walkTokens(j.items,te);break;default:oe.defaults.extensions&&oe.defaults.extensions.childTokens&&oe.defaults.extensions.childTokens[j.type]?oe.defaults.extensions.childTokens[j.type].forEach((function(he){oe.walkTokens(j[he],te)})):j.tokens&&oe.walkTokens(j.tokens,te)}},ve=I(j);!(he=ve()).done;)$()},oe.parseInline=function(j,te){if(null==j)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof j)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(j)+", string expected");O(te=E({},oe.defaults,te||{}));try{var he=ct.lexInline(j,te);return te.walkTokens&&oe.walkTokens(he,te.walkTokens),ft.parseInline(he,te)}catch(j){if(j.message+="\nPlease report this to https://github.com/markedjs/marked.",te.silent)return"<p>An error occurred:</p><pre>"+l(j.message+"",!0)+"</pre>";throw j}},oe.Parser=ft,oe.parser=ft.parse,oe.Renderer=ht,oe.TextRenderer=mt,oe.Lexer=ct,oe.lexer=ct.lex,oe.Tokenizer=nt,oe.Slugger=pt,oe.parse=oe;var _t=oe.options,Ct=oe.setOptions,bt=oe.use,St=oe.walkTokens,Dt=oe.parseInline,It=oe,kt=ft.parse,At=ct.lex;j.Lexer=ct,j.Parser=ft,j.Renderer=ht,j.Slugger=pt,j.TextRenderer=mt,j.Tokenizer=nt,j.getDefaults=w,j.lexer=At,j.marked=oe,j.options=_t,j.parse=It,j.parseInline=Dt,j.parser=kt,j.setOptions=Ct,j.use=bt,j.walkTokens=St,Object.defineProperty(j,"__esModule",{value:!0})})),define(Ce[135],ie([1,0]),(function(j,te){var he;Object.defineProperty(te,"__esModule",{value:!0}),te.Mimes=void 0,(he=te.Mimes||(te.Mimes={})).text="text/plain",he.binary="application/octet-stream",he.unknown="application/unknown",he.markdown="text/markdown",he.latex="text/latex"})),define(Ce[164],ie([1,0,135]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.StaticDND=te.DragAndDropData=te.DataTransfers=void 0,te.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:he.Mimes.text,TERMINALS:"Terminals"};te.DragAndDropData=class m{constructor(j){this.data=j}update(){}getData(){return this.data}},te.StaticDND={CurrentDragAndDropData:void 0}})),define(Ce[312],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.ArrayNavigator=void 0;te.ArrayNavigator=class y{constructor(j,te=0,he=j.length,ve=te-1){this.items=j,this.start=te,this.end=he,this.index=ve}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}})),define(Ce[313],ie([1,0,312]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.HistoryNavigator=void 0;te.HistoryNavigator=class m{constructor(j=[],te=10){this._initialize(j),this._limit=te,this._onChange()}getHistory(){return this._elements}add(j){this._history.delete(j),this._history.add(j),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(j){return this._history.has(j)}_onChange(){this._reduceToLimit();const j=this._elements;this._navigator=new he.ArrayNavigator(j,0,j.length,j.length)}_reduceToLimit(){const j=this._elements;j.length>this._limit&&this._initialize(j.slice(j.length-this._limit))}_currentPosition(){const j=this._navigator.current();return j?this._elements.indexOf(j):-1}_initialize(j){this._history=new Set;for(const te of j)this._history.add(te)}get _elements(){const j=[];return this._history.forEach((te=>j.push(te))),j}}})),define(Ce[111],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.SlidingWindowAverage=te.MovingAverage=te.clamp=void 0,te.clamp=function y(j,te,he){return Math.min(Math.max(j,te),he)};te.MovingAverage=class m{constructor(){this._n=1,this._val=0}update(j){return this._val=this._val+(j-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}};te.SlidingWindowAverage=class D{constructor(j){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(j),this._values.fill(0,0,j)}update(j){const te=this._values[this._index];return this._values[this._index]=j,this._index=(this._index+1)%this._values.length,this._sum-=te,this._sum+=j,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}})),define(Ce[17],ie([1,0]),(function(j,te){var he;Object.defineProperty(te,"__esModule",{value:!0}),te.isAndroid=te.isEdge=te.isSafari=te.isFirefox=te.isChrome=te.isLittleEndian=te.OS=te.setTimeout0=te.language=te.userAgent=te.isIOS=te.isWeb=te.isNative=te.isLinux=te.isMacintosh=te.isWindows=te.globals=void 0;const ve="en";let Ce,ye,Ee,Ie,Ne=!1,Oe=!1,Ke=!1,je=!1,Ze=!1,Ye=!1,et=!1,nt=!1,rt=ve;te.globals="object"==typeof self?self:"object"==typeof global?global:{},void 0!==te.globals.vscode&&void 0!==te.globals.vscode.process?Ie=te.globals.vscode.process:"undefined"!=typeof process&&(Ie=process);const at="string"==typeof(null===(he=null==Ie?void 0:Ie.versions)||void 0===he?void 0:he.electron),ct=at&&"renderer"===(null==Ie?void 0:Ie.type);if("object"!=typeof navigator||ct)if("object"==typeof Ie){Ne="win32"===Ie.platform,Oe="darwin"===Ie.platform,Ke="linux"===Ie.platform,je=Ke&&!!Ie.env.SNAP&&!!Ie.env.SNAP_REVISION,et=at,Ce=ve,rt=ve;const j=Ie.env.VSCODE_NLS_CONFIG;if(j)try{const te=JSON.parse(j),he=te.availableLanguages["*"];Ce=te.locale,rt=he||ve,ye=te._translationsConfigFile}catch{}Ze=!0}else console.error("Unable to resolve platform.");else Ee=navigator.userAgent,Ne=Ee.indexOf("Windows")>=0,Oe=Ee.indexOf("Macintosh")>=0,nt=(Ee.indexOf("Macintosh")>=0||Ee.indexOf("iPad")>=0||Ee.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Ke=Ee.indexOf("Linux")>=0,Ye=!0,Ce=navigator.language,rt=Ce;let ht=0;Oe?ht=1:Ne?ht=3:Ke&&(ht=2),te.isWindows=Ne,te.isMacintosh=Oe,te.isLinux=Ke,te.isNative=Ze,te.isWeb=Ye,te.isIOS=nt,te.userAgent=Ee,te.language=rt,te.setTimeout0=(()=>{if("function"==typeof te.globals.postMessage&&!te.globals.importScripts){let j=[];te.globals.addEventListener("message",(te=>{if(te.data&&te.data.vscodeScheduleAsyncWork)for(let he=0,ve=j.length;he<ve;he++){const ve=j[he];if(ve.id===te.data.vscodeScheduleAsyncWork)return j.splice(he,1),void ve.callback()}}));let he=0;return ve=>{const Ce=++he;j.push({id:Ce,callback:ve}),te.globals.postMessage({vscodeScheduleAsyncWork:Ce},"*")}}return j=>setTimeout(j)})(),te.OS=Oe||nt?2:Ne?1:3;let mt=!0,pt=!1;te.isLittleEndian=function f(){if(!pt){pt=!0;const j=new Uint8Array(2);j[0]=1,j[1]=2,mt=513===new Uint16Array(j.buffer)[0]}return mt},te.isChrome=!!(te.userAgent&&te.userAgent.indexOf("Chrome")>=0),te.isFirefox=!!(te.userAgent&&te.userAgent.indexOf("Firefox")>=0),te.isSafari=!!(!te.isChrome&&te.userAgent&&te.userAgent.indexOf("Safari")>=0),te.isEdge=!!(te.userAgent&&te.userAgent.indexOf("Edg/")>=0),te.isAndroid=!!(te.userAgent&&te.userAgent.indexOf("Android")>=0)})),define(Ce[314],ie([1,0,17]),(function(j,te,he){let ve;if(Object.defineProperty(te,"__esModule",{value:!0}),te.platform=te.env=te.cwd=void 0,void 0!==he.globals.vscode&&void 0!==he.globals.vscode.process){const j=he.globals.vscode.process;ve={get platform(){return j.platform},get arch(){return j.arch},get env(){return j.env},cwd:()=>j.cwd()}}else ve="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return he.isWindows?"win32":he.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};te.cwd=ve.cwd,te.env=ve.env,te.platform=ve.platform})),define(Ce[82],ie([1,0,314]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.sep=te.extname=te.basename=te.dirname=te.relative=te.resolve=te.normalize=te.posix=te.win32=void 0;const ve=46,Ce=47,ye=92,Ee=58;class i extends Error{constructor(j,te,he){let ve;"string"==typeof te&&0===te.indexOf("not ")?(ve="must not be",te=te.replace(/^not /,"")):ve="must be";const Ce=-1!==j.indexOf(".")?"property":"argument";let ye=`The "${j}" ${Ce} ${ve} of type ${te}`;ye+=". Received type "+typeof he,super(ye),this.code="ERR_INVALID_ARG_TYPE"}}function n(j,te){if("string"!=typeof j)throw new i(te,"string",j)}function l(j){return j===Ce||j===ye}function c(j){return j===Ce}function r(j){return j>=65&&j<=90||j>=97&&j<=122}function s(j,te,he,ye){let Ee="",Ie=0,Ne=-1,Oe=0,Ke=0;for(let je=0;je<=j.length;++je){if(je<j.length)Ke=j.charCodeAt(je);else{if(ye(Ke))break;Ke=Ce}if(ye(Ke)){if(Ne!==je-1&&1!==Oe)if(2===Oe){if(Ee.length<2||2!==Ie||Ee.charCodeAt(Ee.length-1)!==ve||Ee.charCodeAt(Ee.length-2)!==ve){if(Ee.length>2){const j=Ee.lastIndexOf(he);-1===j?(Ee="",Ie=0):(Ee=Ee.slice(0,j),Ie=Ee.length-1-Ee.lastIndexOf(he)),Ne=je,Oe=0;continue}if(0!==Ee.length){Ee="",Ie=0,Ne=je,Oe=0;continue}}te&&(Ee+=Ee.length>0?`${he}..`:"..",Ie=2)}else Ee.length>0?Ee+=`${he}${j.slice(Ne+1,je)}`:Ee=j.slice(Ne+1,je),Ie=je-Ne-1;Ne=je,Oe=0}else Ke===ve&&-1!==Oe?++Oe:Oe=-1}return Ee}function o(j,te){if(null===te||"object"!=typeof te)throw new i("pathObject","Object",te);const he=te.dir||te.root,ve=te.base||`${te.name||""}${te.ext||""}`;return he?he===te.root?`${he}${ve}`:`${he}${j}${ve}`:ve}te.win32={resolve(...j){let te="",ve="",Ce=!1;for(let Ie=j.length-1;Ie>=-1;Ie--){let Ne;if(Ie>=0){if(Ne=j[Ie],n(Ne,"path"),0===Ne.length)continue}else 0===te.length?Ne=he.cwd():(Ne=he.env[`=${te}`]||he.cwd(),(void 0===Ne||Ne.slice(0,2).toLowerCase()!==te.toLowerCase()&&Ne.charCodeAt(2)===ye)&&(Ne=`${te}\\`));const Oe=Ne.length;let Ke=0,je="",Ze=!1;const Ye=Ne.charCodeAt(0);if(1===Oe)l(Ye)&&(Ke=1,Ze=!0);else if(l(Ye))if(Ze=!0,l(Ne.charCodeAt(1))){let j=2,te=j;for(;j<Oe&&!l(Ne.charCodeAt(j));)j++;if(j<Oe&&j!==te){const he=Ne.slice(te,j);for(te=j;j<Oe&&l(Ne.charCodeAt(j));)j++;if(j<Oe&&j!==te){for(te=j;j<Oe&&!l(Ne.charCodeAt(j));)j++;(j===Oe||j!==te)&&(je=`\\\\${he}\\${Ne.slice(te,j)}`,Ke=j)}}}else Ke=1;else r(Ye)&&Ne.charCodeAt(1)===Ee&&(je=Ne.slice(0,2),Ke=2,Oe>2&&l(Ne.charCodeAt(2))&&(Ze=!0,Ke=3));if(je.length>0)if(te.length>0){if(je.toLowerCase()!==te.toLowerCase())continue}else te=je;if(Ce){if(te.length>0)break}else if(ve=`${Ne.slice(Ke)}\\${ve}`,Ce=Ze,Ze&&te.length>0)break}return ve=s(ve,!Ce,"\\",l),Ce?`${te}\\${ve}`:`${te}${ve}`||"."},normalize(j){n(j,"path");const te=j.length;if(0===te)return".";let he,ve=0,Ce=!1;const ye=j.charCodeAt(0);if(1===te)return c(ye)?"\\":j;if(l(ye))if(Ce=!0,l(j.charCodeAt(1))){let Ce=2,ye=Ce;for(;Ce<te&&!l(j.charCodeAt(Ce));)Ce++;if(Ce<te&&Ce!==ye){const Ee=j.slice(ye,Ce);for(ye=Ce;Ce<te&&l(j.charCodeAt(Ce));)Ce++;if(Ce<te&&Ce!==ye){for(ye=Ce;Ce<te&&!l(j.charCodeAt(Ce));)Ce++;if(Ce===te)return`\\\\${Ee}\\${j.slice(ye)}\\`;Ce!==ye&&(he=`\\\\${Ee}\\${j.slice(ye,Ce)}`,ve=Ce)}}}else ve=1;else r(ye)&&j.charCodeAt(1)===Ee&&(he=j.slice(0,2),ve=2,te>2&&l(j.charCodeAt(2))&&(Ce=!0,ve=3));let Ie=ve<te?s(j.slice(ve),!Ce,"\\",l):"";return 0===Ie.length&&!Ce&&(Ie="."),Ie.length>0&&l(j.charCodeAt(te-1))&&(Ie+="\\"),void 0===he?Ce?`\\${Ie}`:Ie:Ce?`${he}\\${Ie}`:`${he}${Ie}`},isAbsolute(j){n(j,"path");const te=j.length;if(0===te)return!1;const he=j.charCodeAt(0);return l(he)||te>2&&r(he)&&j.charCodeAt(1)===Ee&&l(j.charCodeAt(2))},join(...j){if(0===j.length)return".";let he,ve;for(let te=0;te<j.length;++te){const Ce=j[te];n(Ce,"path"),Ce.length>0&&(void 0===he?he=ve=Ce:he+=`\\${Ce}`)}if(void 0===he)return".";let Ce=!0,ye=0;if("string"==typeof ve&&l(ve.charCodeAt(0))){++ye;const j=ve.length;j>1&&l(ve.charCodeAt(1))&&(++ye,j>2&&(l(ve.charCodeAt(2))?++ye:Ce=!1))}if(Ce){for(;ye<he.length&&l(he.charCodeAt(ye));)ye++;ye>=2&&(he=`\\${he.slice(ye)}`)}return te.win32.normalize(he)},relative(j,he){if(n(j,"from"),n(he,"to"),j===he)return"";const ve=te.win32.resolve(j),Ce=te.win32.resolve(he);if(ve===Ce||(j=ve.toLowerCase())===(he=Ce.toLowerCase()))return"";let Ee=0;for(;Ee<j.length&&j.charCodeAt(Ee)===ye;)Ee++;let Ie=j.length;for(;Ie-1>Ee&&j.charCodeAt(Ie-1)===ye;)Ie--;const Ne=Ie-Ee;let Oe=0;for(;Oe<he.length&&he.charCodeAt(Oe)===ye;)Oe++;let Ke=he.length;for(;Ke-1>Oe&&he.charCodeAt(Ke-1)===ye;)Ke--;const je=Ke-Oe,Ze=Ne<je?Ne:je;let Ye=-1,et=0;for(;et<Ze;et++){const te=j.charCodeAt(Ee+et);if(te!==he.charCodeAt(Oe+et))break;te===ye&&(Ye=et)}if(et!==Ze){if(-1===Ye)return Ce}else{if(je>Ze){if(he.charCodeAt(Oe+et)===ye)return Ce.slice(Oe+et+1);if(2===et)return Ce.slice(Oe+et)}Ne>Ze&&(j.charCodeAt(Ee+et)===ye?Ye=et:2===et&&(Ye=3)),-1===Ye&&(Ye=0)}let nt="";for(et=Ee+Ye+1;et<=Ie;++et)(et===Ie||j.charCodeAt(et)===ye)&&(nt+=0===nt.length?"..":"\\..");return Oe+=Ye,nt.length>0?`${nt}${Ce.slice(Oe,Ke)}`:(Ce.charCodeAt(Oe)===ye&&++Oe,Ce.slice(Oe,Ke))},toNamespacedPath(j){if("string"!=typeof j)return j;if(0===j.length)return"";const he=te.win32.resolve(j);if(he.length<=2)return j;if(he.charCodeAt(0)===ye){if(he.charCodeAt(1)===ye){const j=he.charCodeAt(2);if(63!==j&&j!==ve)return`\\\\?\\UNC\\${he.slice(2)}`}}else if(r(he.charCodeAt(0))&&he.charCodeAt(1)===Ee&&he.charCodeAt(2)===ye)return`\\\\?\\${he}`;return j},dirname(j){n(j,"path");const te=j.length;if(0===te)return".";let he=-1,ve=0;const Ce=j.charCodeAt(0);if(1===te)return l(Ce)?j:".";if(l(Ce)){if(he=ve=1,l(j.charCodeAt(1))){let Ce=2,ye=Ce;for(;Ce<te&&!l(j.charCodeAt(Ce));)Ce++;if(Ce<te&&Ce!==ye){for(ye=Ce;Ce<te&&l(j.charCodeAt(Ce));)Ce++;if(Ce<te&&Ce!==ye){for(ye=Ce;Ce<te&&!l(j.charCodeAt(Ce));)Ce++;if(Ce===te)return j;Ce!==ye&&(he=ve=Ce+1)}}}}else r(Ce)&&j.charCodeAt(1)===Ee&&(he=te>2&&l(j.charCodeAt(2))?3:2,ve=he);let ye=-1,Ie=!0;for(let he=te-1;he>=ve;--he)if(l(j.charCodeAt(he))){if(!Ie){ye=he;break}}else Ie=!1;if(-1===ye){if(-1===he)return".";ye=he}return j.slice(0,ye)},basename(j,te){void 0!==te&&n(te,"ext"),n(j,"path");let he,ve=0,Ce=-1,ye=!0;if(j.length>=2&&r(j.charCodeAt(0))&&j.charCodeAt(1)===Ee&&(ve=2),void 0!==te&&te.length>0&&te.length<=j.length){if(te===j)return"";let Ee=te.length-1,Ie=-1;for(he=j.length-1;he>=ve;--he){const Ne=j.charCodeAt(he);if(l(Ne)){if(!ye){ve=he+1;break}}else-1===Ie&&(ye=!1,Ie=he+1),Ee>=0&&(Ne===te.charCodeAt(Ee)?-1==--Ee&&(Ce=he):(Ee=-1,Ce=Ie))}return ve===Ce?Ce=Ie:-1===Ce&&(Ce=j.length),j.slice(ve,Ce)}for(he=j.length-1;he>=ve;--he)if(l(j.charCodeAt(he))){if(!ye){ve=he+1;break}}else-1===Ce&&(ye=!1,Ce=he+1);return-1===Ce?"":j.slice(ve,Ce)},extname(j){n(j,"path");let te=0,he=-1,Ce=0,ye=-1,Ie=!0,Ne=0;j.length>=2&&j.charCodeAt(1)===Ee&&r(j.charCodeAt(0))&&(te=Ce=2);for(let Ee=j.length-1;Ee>=te;--Ee){const te=j.charCodeAt(Ee);if(l(te)){if(!Ie){Ce=Ee+1;break}}else-1===ye&&(Ie=!1,ye=Ee+1),te===ve?-1===he?he=Ee:1!==Ne&&(Ne=1):-1!==he&&(Ne=-1)}return-1===he||-1===ye||0===Ne||1===Ne&&he===ye-1&&he===Ce+1?"":j.slice(he,ye)},format:o.bind(null,"\\"),parse(j){n(j,"path");const te={root:"",dir:"",base:"",ext:"",name:""};if(0===j.length)return te;const he=j.length;let Ce=0,ye=j.charCodeAt(0);if(1===he)return l(ye)?(te.root=te.dir=j,te):(te.base=te.name=j,te);if(l(ye)){if(Ce=1,l(j.charCodeAt(1))){let te=2,ve=te;for(;te<he&&!l(j.charCodeAt(te));)te++;if(te<he&&te!==ve){for(ve=te;te<he&&l(j.charCodeAt(te));)te++;if(te<he&&te!==ve){for(ve=te;te<he&&!l(j.charCodeAt(te));)te++;te===he?Ce=te:te!==ve&&(Ce=te+1)}}}}else if(r(ye)&&j.charCodeAt(1)===Ee){if(he<=2)return te.root=te.dir=j,te;if(Ce=2,l(j.charCodeAt(2))){if(3===he)return te.root=te.dir=j,te;Ce=3}}Ce>0&&(te.root=j.slice(0,Ce));let Ie=-1,Ne=Ce,Oe=-1,Ke=!0,je=j.length-1,Ze=0;for(;je>=Ce;--je)if(ye=j.charCodeAt(je),l(ye)){if(!Ke){Ne=je+1;break}}else-1===Oe&&(Ke=!1,Oe=je+1),ye===ve?-1===Ie?Ie=je:1!==Ze&&(Ze=1):-1!==Ie&&(Ze=-1);return-1!==Oe&&(-1===Ie||0===Ze||1===Ze&&Ie===Oe-1&&Ie===Ne+1?te.base=te.name=j.slice(Ne,Oe):(te.name=j.slice(Ne,Ie),te.base=j.slice(Ne,Oe),te.ext=j.slice(Ie,Oe))),te.dir=Ne>0&&Ne!==Ce?j.slice(0,Ne-1):te.root,te},sep:"\\",delimiter:";",win32:null,posix:null},te.posix={resolve(...j){let te="",ve=!1;for(let ye=j.length-1;ye>=-1&&!ve;ye--){const Ee=ye>=0?j[ye]:he.cwd();n(Ee,"path"),0!==Ee.length&&(te=`${Ee}/${te}`,ve=Ee.charCodeAt(0)===Ce)}return te=s(te,!ve,"/",c),ve?`/${te}`:te.length>0?te:"."},normalize(j){if(n(j,"path"),0===j.length)return".";const te=j.charCodeAt(0)===Ce,he=j.charCodeAt(j.length-1)===Ce;return 0===(j=s(j,!te,"/",c)).length?te?"/":he?"./":".":(he&&(j+="/"),te?`/${j}`:j)},isAbsolute:j=>(n(j,"path"),j.length>0&&j.charCodeAt(0)===Ce),join(...j){if(0===j.length)return".";let he;for(let te=0;te<j.length;++te){const ve=j[te];n(ve,"path"),ve.length>0&&(void 0===he?he=ve:he+=`/${ve}`)}return void 0===he?".":te.posix.normalize(he)},relative(j,he){if(n(j,"from"),n(he,"to"),j===he||(j=te.posix.resolve(j))===(he=te.posix.resolve(he)))return"";const ve=j.length,ye=ve-1,Ee=he.length-1,Ie=ye<Ee?ye:Ee;let Ne=-1,Oe=0;for(;Oe<Ie;Oe++){const te=j.charCodeAt(1+Oe);if(te!==he.charCodeAt(1+Oe))break;te===Ce&&(Ne=Oe)}if(Oe===Ie)if(Ee>Ie){if(he.charCodeAt(1+Oe)===Ce)return he.slice(1+Oe+1);if(0===Oe)return he.slice(1+Oe)}else ye>Ie&&(j.charCodeAt(1+Oe)===Ce?Ne=Oe:0===Oe&&(Ne=0));let Ke="";for(Oe=1+Ne+1;Oe<=ve;++Oe)(Oe===ve||j.charCodeAt(Oe)===Ce)&&(Ke+=0===Ke.length?"..":"/..");return`${Ke}${he.slice(1+Ne)}`},toNamespacedPath:j=>j,dirname(j){if(n(j,"path"),0===j.length)return".";const te=j.charCodeAt(0)===Ce;let he=-1,ve=!0;for(let te=j.length-1;te>=1;--te)if(j.charCodeAt(te)===Ce){if(!ve){he=te;break}}else ve=!1;return-1===he?te?"/":".":te&&1===he?"//":j.slice(0,he)},basename(j,te){void 0!==te&&n(te,"ext"),n(j,"path");let he,ve=0,ye=-1,Ee=!0;if(void 0!==te&&te.length>0&&te.length<=j.length){if(te===j)return"";let Ie=te.length-1,Ne=-1;for(he=j.length-1;he>=0;--he){const Oe=j.charCodeAt(he);if(Oe===Ce){if(!Ee){ve=he+1;break}}else-1===Ne&&(Ee=!1,Ne=he+1),Ie>=0&&(Oe===te.charCodeAt(Ie)?-1==--Ie&&(ye=he):(Ie=-1,ye=Ne))}return ve===ye?ye=Ne:-1===ye&&(ye=j.length),j.slice(ve,ye)}for(he=j.length-1;he>=0;--he)if(j.charCodeAt(he)===Ce){if(!Ee){ve=he+1;break}}else-1===ye&&(Ee=!1,ye=he+1);return-1===ye?"":j.slice(ve,ye)},extname(j){n(j,"path");let te=-1,he=0,ye=-1,Ee=!0,Ie=0;for(let Ne=j.length-1;Ne>=0;--Ne){const Oe=j.charCodeAt(Ne);if(Oe!==Ce)-1===ye&&(Ee=!1,ye=Ne+1),Oe===ve?-1===te?te=Ne:1!==Ie&&(Ie=1):-1!==te&&(Ie=-1);else if(!Ee){he=Ne+1;break}}return-1===te||-1===ye||0===Ie||1===Ie&&te===ye-1&&te===he+1?"":j.slice(te,ye)},format:o.bind(null,"/"),parse(j){n(j,"path");const te={root:"",dir:"",base:"",ext:"",name:""};if(0===j.length)return te;const he=j.charCodeAt(0)===Ce;let ye;he?(te.root="/",ye=1):ye=0;let Ee=-1,Ie=0,Ne=-1,Oe=!0,Ke=j.length-1,je=0;for(;Ke>=ye;--Ke){const te=j.charCodeAt(Ke);if(te!==Ce)-1===Ne&&(Oe=!1,Ne=Ke+1),te===ve?-1===Ee?Ee=Ke:1!==je&&(je=1):-1!==Ee&&(je=-1);else if(!Oe){Ie=Ke+1;break}}if(-1!==Ne){const ve=0===Ie&&he?1:Ie;-1===Ee||0===je||1===je&&Ee===Ne-1&&Ee===Ie+1?te.base=te.name=j.slice(ve,Ne):(te.name=j.slice(ve,Ee),te.base=j.slice(ve,Ne),te.ext=j.slice(Ee,Ne))}return Ie>0?te.dir=j.slice(0,Ie-1):he&&(te.dir="/"),te},sep:"/",delimiter:":",win32:null,posix:null},te.posix.win32=te.win32.win32=te.win32,te.posix.posix=te.win32.posix=te.posix,te.normalize="win32"===he.platform?te.win32.normalize:te.posix.normalize,te.resolve="win32"===he.platform?te.win32.resolve:te.posix.resolve,te.relative="win32"===he.platform?te.win32.relative:te.posix.relative,te.dirname="win32"===he.platform?te.win32.dirname:te.posix.dirname,te.basename="win32"===he.platform?te.win32.basename:te.posix.basename,te.extname="win32"===he.platform?te.win32.extname:te.posix.extname,te.sep="win32"===he.platform?te.win32.sep:te.posix.sep})),define(Ce[136],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.Range=void 0,function(j){function D(j,te){if(j.start>=te.end||te.start>=j.end)return{start:0,end:0};const he=Math.max(j.start,te.start),ve=Math.min(j.end,te.end);return ve-he<=0?{start:0,end:0}:{start:he,end:ve}}function I(j){return j.end-j.start<=0}j.intersect=D,j.isEmpty=I,j.intersects=function w(j,te){return!I(D(j,te))},j.relativeComplement=function b(j,te){const he=[],ve={start:j.start,end:Math.min(te.start,j.end)},Ce={start:Math.max(te.end,j.start),end:j.end};return I(ve)||he.push(ve),I(Ce)||he.push(Ce),he}}(te.Range||(te.Range={}))})),define(Ce[315],ie([1,0,136]),(function(j,te,he){function m(j,te){const ve=[];for(let Ce of te){if(j.start>=Ce.range.end)continue;if(j.end<Ce.range.start)break;const te=he.Range.intersect(j,Ce.range);he.Range.isEmpty(te)||ve.push({range:te,size:Ce.size})}return ve}function D({start:j,end:te},he){return{start:j+he,end:te+he}}function I(j){const te=[];let he=null;for(let ve of j){const j=ve.range.start,Ce=ve.range.end,ye=ve.size;he&&ye===he.size?he.range.end=Ce:(he={range:{start:j,end:Ce},size:ye},te.push(he))}return te}Object.defineProperty(te,"__esModule",{value:!0}),te.RangeMap=te.consolidate=te.shift=te.groupIntersect=void 0,te.groupIntersect=m,te.shift=D,te.consolidate=I;te.RangeMap=class b{constructor(){this.groups=[],this._size=0}splice(j,te,he=[]){const ve=he.length-te,Ce=m({start:0,end:j},this.groups),ye=m({start:j+te,end:Number.POSITIVE_INFINITY},this.groups).map((j=>({range:D(j.range,ve),size:j.size}))),Ee=he.map(((te,he)=>({range:{start:j+he,end:j+he+1},size:te.size})));this.groups=function w(...j){return I(j.reduce(((j,te)=>j.concat(te)),[]))}(Ce,Ee,ye),this._size=this.groups.reduce(((j,te)=>j+te.size*(te.range.end-te.range.start)),0)}get count(){const j=this.groups.length;return j?this.groups[j-1].range.end:0}get size(){return this._size}indexAt(j){if(j<0)return-1;let te=0,he=0;for(let ve of this.groups){const Ce=ve.range.end-ve.range.start,ye=he+Ce*ve.size;if(j<ye)return te+Math.floor((j-he)/ve.size);te+=Ce,he=ye}return te}indexAfter(j){return Math.min(this.indexAt(j)+1,this.count)}positionAt(j){if(j<0)return-1;let te=0,he=0;for(let ve of this.groups){const Ce=ve.range.end-ve.range.start,ye=he+Ce;if(j<ye)return te+(j-he)*ve.size;te+=Ce*ve.size,he=ye}return-1}}})),define(Ce[65],ie([1,0,17]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.StopWatch=void 0;const ve=he.globals.performance&&"function"==typeof he.globals.performance.now;class D{constructor(j){this._highResolution=ve&&j,this._startTime=this._now(),this._stopTime=-1}static create(j=!0){return new D(j)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?he.globals.performance.now():Date.now()}}te.StopWatch=D})),define(Ce[4],ie([1,0,13,2,81,65]),(function(j,te,he,ve,Ce,ye){var Ee;Object.defineProperty(te,"__esModule",{value:!0}),te.Relay=te.EventBufferer=te.DebounceEmitter=te.PauseableEmitter=te.Emitter=te.Event=void 0,function(j){function r(j){return(te,he=null,ve)=>{let Ce,ye=!1;return Ce=j((j=>{if(!ye)return Ce?Ce.dispose():ye=!0,te.call(he,j)}),null,ve),ye&&Ce.dispose(),Ce}}function s(j,te){return S(((he,ve=null,Ce)=>j((j=>he.call(ve,te(j))),null,Ce)))}function o(j,te){return S(((he,ve=null,Ce)=>j((j=>{te(j),he.call(ve,j)}),null,Ce)))}function a(j,te){return S(((he,ve=null,Ce)=>j((j=>te(j)&&he.call(ve,j)),null,Ce)))}function f(j,te,he){let ve=he;return s(j,(j=>(ve=te(ve,j),ve)))}function S(j){let te;const he=new g({onFirstListenerAdd(){te=j(he.fire,he)},onLastListenerRemove(){te.dispose()}});return he.event}function C(j,te,he=100,ve=!1,Ce){let ye,Ee,Ie,Ne=0;const Oe=new g({leakWarningThreshold:Ce,onFirstListenerAdd(){ye=j((j=>{Ne++,Ee=te(Ee,j),ve&&!Ie&&(Oe.fire(Ee),Ee=void 0),clearTimeout(Ie),Ie=setTimeout((()=>{const j=Ee;Ee=void 0,Ie=void 0,(!ve||Ne>1)&&Oe.fire(j),Ne=0}),he)}))},onLastListenerRemove(){ye.dispose()}});return Oe.event}function _(j,te=((j,te)=>j===te)){let he,ve=!0;return a(j,(j=>{const Ce=ve||!te(j,he);return ve=!1,he=j,Ce}))}j.None=()=>ve.Disposable.None,j.once=r,j.map=s,j.forEach=o,j.filter=a,j.signal=function d(j){return j},j.any=function u(...j){return(te,he=null,Ce)=>(0,ve.combinedDisposable)(...j.map((j=>j((j=>te.call(he,j)),null,Ce))))},j.reduce=f,j.debouncedListener=function v(j,te,he,ve=100,Ce=!1){let ye,Ee,Ie=0;return j((j=>{Ie++,ye=he(ye,j),Ce&&!Ee&&(te(ye),ye=void 0),clearTimeout(Ee),Ee=setTimeout((()=>{const j=ye;ye=void 0,Ee=void 0,(!Ce||Ie>1)&&te(j),Ie=0}),ve)}))},j.debounce=C,j.latch=_,j.split=function L(te,he){return[j.filter(te,he),j.filter(te,(j=>!he(j)))]},j.buffer=function E(j,te=!1,he=[]){let ve=he.slice(),Ce=j((j=>{ve?ve.push(j):ye.fire(j)}));const q=()=>{ve&&ve.forEach((j=>ye.fire(j))),ve=null},ye=new g({onFirstListenerAdd(){Ce||(Ce=j((j=>ye.fire(j))))},onFirstListenerDidAdd(){ve&&(te?setTimeout(q):q())},onLastListenerRemove(){Ce&&Ce.dispose(),Ce=null}});return ye.event};class N{constructor(j){this.event=j}map(j){return new N(s(this.event,j))}forEach(j){return new N(o(this.event,j))}filter(j){return new N(a(this.event,j))}reduce(j,te){return new N(f(this.event,j,te))}latch(){return new N(_(this.event))}debounce(j,te=100,he=!1,ve){return new N(C(this.event,j,te,he,ve))}on(j,te,he){return this.event(j,te,he)}once(j,te,he){return r(this.event)(j,te,he)}}j.chain=function k(j){return new N(j)},j.fromNodeEventEmitter=function M(j,te,he=(j=>j)){const A=(...j)=>ve.fire(he(...j)),ve=new g({onFirstListenerAdd:()=>j.on(te,A),onLastListenerRemove:()=>j.removeListener(te,A)});return ve.event},j.fromDOMEventEmitter=function O(j,te,he=(j=>j)){const A=(...j)=>ve.fire(he(...j)),ve=new g({onFirstListenerAdd:()=>j.addEventListener(te,A),onLastListenerRemove:()=>j.removeEventListener(te,A)});return ve.event},j.toPromise=function B(j){return new Promise((te=>r(j)(te)))},j.runAndSubscribe=function T(j,te){return te(void 0),j((j=>te(j)))},j.runAndSubscribeWithStore=function R(j,te){let he=null;function A(j){null==he||he.dispose(),he=new ve.DisposableStore,te(j,he)}A(void 0);const Ce=j((j=>A(j)));return(0,ve.toDisposable)((()=>{Ce.dispose(),null==he||he.dispose()}))}}(Ee=te.Event||(te.Event={}));class b{constructor(j){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${j}_${b._idPool++}`}start(j){this._stopWatch=new ye.StopWatch(!0),this._listenerCount=j}stop(){if(this._stopWatch){const j=this._stopWatch.elapsed();this._elapsedOverall+=j,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${j.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}b._idPool=0;class g{constructor(j){var te;this._disposed=!1,this._options=j,this._leakageMon=void 0,this._perfMon=(null===(te=this._options)||void 0===te?void 0:te._profName)?new b(this._options._profName):void 0}get event(){return this._event||(this._event=(j,te,he)=>{var ye;this._listeners||(this._listeners=new Ce.LinkedList);const Ee=this._listeners.isEmpty();Ee&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const Ie=this._listeners.push(te?[j,te]:j);Ee&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,j,te);const Ne=null===(ye=this._leakageMon)||void 0===ye?void 0:ye.check(this._listeners.size),Oe=(0,ve.toDisposable)((()=>{Ne&&Ne(),this._disposed||(Ie(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}));return he instanceof ve.DisposableStore?he.add(Oe):Array.isArray(he)&&he.push(Oe),Oe}),this._event}fire(j){var te,ve;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Ce.LinkedList);for(let te of this._listeners)this._deliveryQueue.push([te,j]);for(null===(te=this._perfMon)||void 0===te||te.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[j,te]=this._deliveryQueue.shift();try{"function"==typeof j?j.call(void 0,te):j[0].call(j[1],te)}catch(j){(0,he.onUnexpectedError)(j)}}null===(ve=this._perfMon)||void 0===ve||ve.stop()}}dispose(){var j,te,he,ve,Ce;this._disposed||(this._disposed=!0,null===(j=this._listeners)||void 0===j||j.clear(),null===(te=this._deliveryQueue)||void 0===te||te.clear(),null===(ve=null===(he=this._options)||void 0===he?void 0:he.onLastListenerRemove)||void 0===ve||ve.call(he),null===(Ce=this._leakageMon)||void 0===Ce||Ce.dispose())}}te.Emitter=g;class t extends g{constructor(j){super(j),this._isPaused=0,this._eventQueue=new Ce.LinkedList,this._mergeFn=null==j?void 0:j.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const j=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(j))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(j){this._listeners&&(0!==this._isPaused?this._eventQueue.push(j):super.fire(j))}}te.PauseableEmitter=t;te.DebounceEmitter=class i extends t{constructor(j){var te;super(j),this._delay=null!==(te=j.delay)&&void 0!==te?te:100}fire(j){this._handle||(this.pause(),this._handle=setTimeout((()=>{this._handle=void 0,this.resume()}),this._delay)),super.fire(j)}};te.EventBufferer=class n{constructor(){this.buffers=[]}wrapEvent(j){return(te,he,ve)=>j((j=>{const ve=this.buffers[this.buffers.length-1];ve?ve.push((()=>te.call(he,j))):te.call(he,j)}),void 0,ve)}bufferEvents(j){const te=[];this.buffers.push(te);const he=j();return this.buffers.pop(),te.forEach((j=>j())),he}};te.Relay=class l{constructor(){this.listening=!1,this.inputEvent=Ee.None,this.inputEventListener=ve.Disposable.None,this.emitter=new g({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(j){this.inputEvent=j,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=j(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}})),define(Ce[34],ie([1,0,4,2]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.isStandalone=te.isAndroid=te.isElectron=te.isEdgeLegacyWebView=te.isWebkitWebView=te.isSafari=te.isChrome=te.isWebKit=te.isFirefox=te.getZoomFactor=te.PixelRatio=void 0;class D{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}D.INSTANCE=new D;class I extends ve.Disposable{constructor(){super(),this._onDidChange=this._register(new he.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(),this._removeListener=this._installResolutionListener()}get value(){return this._value}dispose(){this._removeListener(),super.dispose()}_installResolutionListener(){const j=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),t=()=>this._updateValue();return j.addEventListener("change",t),()=>{j.removeEventListener("change",t)}}_updateValue(){this._value=this._getPixelRatio(),this._onDidChange.fire(this._value),this._removeListener=this._installResolutionListener()}_getPixelRatio(){const j=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(j.webkitBackingStorePixelRatio||j.mozBackingStorePixelRatio||j.msBackingStorePixelRatio||j.oBackingStorePixelRatio||j.backingStorePixelRatio||1)}}te.PixelRatio=new class w{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new I),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}},te.getZoomFactor=function b(){return D.INSTANCE.getZoomFactor()};const Ce=navigator.userAgent;te.isFirefox=Ce.indexOf("Firefox")>=0,te.isWebKit=Ce.indexOf("AppleWebKit")>=0,te.isChrome=Ce.indexOf("Chrome")>=0,te.isSafari=!te.isChrome&&Ce.indexOf("Safari")>=0,te.isWebkitWebView=!te.isChrome&&!te.isSafari&&te.isWebKit,te.isEdgeLegacyWebView=Ce.indexOf("Edge/")>=0&&Ce.indexOf("WebView/")>=0,te.isElectron=Ce.indexOf("Electron/")>=0,te.isAndroid=Ce.indexOf("Android")>=0,te.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches})),define(Ce[165],ie([1,0,34,17]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.BrowserFeatures=void 0,te.BrowserFeatures={clipboard:{writeText:ve.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:ve.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:ve.isNative||he.isStandalone?0:navigator.keyboard||he.isSafari?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}})),define(Ce[89],ie([1,0,4]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.stopEvent=te.DomEmitter=void 0;te.DomEmitter=class m{constructor(j,te,ve){const h=j=>this.emitter.fire(j);this.emitter=new he.Emitter({onFirstListenerAdd:()=>j.addEventListener(te,h,ve),onLastListenerRemove:()=>j.removeEventListener(te,h,ve)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}},te.stopEvent=function D(j){return j.preventDefault(),j.stopPropagation(),j}})),define(Ce[46],ie([1,0,34,55,94,17]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.StandardKeyboardEvent=void 0;const Ee=ye.isMacintosh?256:2048,Ie=ye.isMacintosh?2048:256;te.StandardKeyboardEvent=class t{constructor(j){this._standardKeyboardEventBrand=!0;let te=j;this.browserEvent=te,this.target=te.target,this.ctrlKey=te.ctrlKey,this.shiftKey=te.shiftKey,this.altKey=te.altKey,this.metaKey=te.metaKey,this.keyCode=function w(j){if(j.charCode){let te=String.fromCharCode(j.charCode).toUpperCase();return ve.KeyCodeUtils.fromString(te)}const te=j.keyCode;if(3===te)return 7;if(he.isFirefox){if(59===te)return 80;if(107===te)return 81;if(109===te)return 83;if(ye.isMacintosh&&224===te)return 57}else if(he.isWebKit){if(91===te)return 57;if(ye.isMacintosh&&93===te)return 57;if(!ye.isMacintosh&&92===te)return 57}return ve.EVENT_KEY_CODE_MAP[te]||0}(te),this.code=te.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(j){return this._asKeybinding===j}_computeKeybinding(){let j=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(j=this.keyCode);let te=0;return this.ctrlKey&&(te|=Ee),this.altKey&&(te|=512),this.shiftKey&&(te|=1024),this.metaKey&&(te|=Ie),te|=j,te}_computeRuntimeKeybinding(){let j=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(j=this.keyCode),new Ce.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,j)}}})),define(Ce[56],ie([1,0,34,211,17]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.StandardWheelEvent=te.StandardMouseEvent=void 0;te.StandardMouseEvent=class I{constructor(j){this.timestamp=Date.now(),this.browserEvent=j,this.leftButton=0===j.button,this.middleButton=1===j.button,this.rightButton=2===j.button,this.buttons=j.buttons,this.target=j.target,this.detail=j.detail||1,"dblclick"===j.type&&(this.detail=2),this.ctrlKey=j.ctrlKey,this.shiftKey=j.shiftKey,this.altKey=j.altKey,this.metaKey=j.metaKey,"number"==typeof j.pageX?(this.posx=j.pageX,this.posy=j.pageY):(this.posx=j.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=j.clientY+document.body.scrollTop+document.documentElement.scrollTop);let te=ve.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,j.view);this.posx-=te.left,this.posy-=te.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}};te.StandardWheelEvent=class w{constructor(j,te=0,ve=0){if(this.browserEvent=j||null,this.target=j?j.target||j.targetNode||j.srcElement:null,this.deltaY=ve,this.deltaX=te,j){let te=j,ve=j;if(void 0!==te.wheelDeltaY)this.deltaY=te.wheelDeltaY/120;else if(void 0!==ve.VERTICAL_AXIS&&ve.axis===ve.VERTICAL_AXIS)this.deltaY=-ve.detail/3;else if("wheel"===j.type){const te=j;te.deltaMode===te.DOM_DELTA_LINE?he.isFirefox&&!Ce.isMacintosh?this.deltaY=-j.deltaY/3:this.deltaY=-j.deltaY:this.deltaY=-j.deltaY/40}if(void 0!==te.wheelDeltaX)he.isSafari&&Ce.isWindows?this.deltaX=-te.wheelDeltaX/120:this.deltaX=te.wheelDeltaX/120;else if(void 0!==ve.HORIZONTAL_AXIS&&ve.axis===ve.HORIZONTAL_AXIS)this.deltaX=-j.detail/3;else if("wheel"===j.type){const te=j;te.deltaMode===te.DOM_DELTA_LINE?he.isFirefox&&!Ce.isMacintosh?this.deltaX=-j.deltaX/3:this.deltaX=-j.deltaX:this.deltaX=-j.deltaX/40}0===this.deltaY&&0===this.deltaX&&j.wheelDelta&&(this.deltaY=j.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}})),define(Ce[21],ie([1,0,4]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.CancellationTokenSource=te.CancellationToken=void 0;const ve=Object.freeze((function(j,te){const he=setTimeout(j.bind(te),0);return{dispose(){clearTimeout(he)}}}));var Ce,ye;(ye=Ce=te.CancellationToken||(te.CancellationToken={})).isCancellationToken=function p(j){return j===ye.None||j===ye.Cancelled||j instanceof I||!(!j||"object"!=typeof j)&&"boolean"==typeof j.isCancellationRequested&&"function"==typeof j.onCancellationRequested},ye.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:he.Event.None}),ye.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ve});class I{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?ve:(this._emitter||(this._emitter=new he.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}te.CancellationTokenSource=class w{constructor(j){this._token=void 0,this._parentListener=void 0,this._parentListener=j&&j.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new I),this._token}cancel(){this._token?this._token instanceof I&&this._token.cancel():this._token=Ce.Cancelled}dispose(j=!1){j&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof I&&this._token.dispose():this._token=Ce.None}}}));var fi=this&&this.__awaiter||function(j,te,he,ve){return new(he||(he=Promise))((function(Ce,ye){function b(j){try{h(ve.next(j))}catch(j){ye(j)}}function p(j){try{h(ve.throw(j))}catch(j){ye(j)}}function h(j){j.done?Ce(j.value):function D(j){return j instanceof he?j:new he((function(te){te(j)}))}(j.value).then(b,p)}h((ve=ve.apply(j,te||[])).next())}))},vi=this&&this.__asyncValues||function(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,he=j[Symbol.asyncIterator];return he?he.call(j):(j="function"==typeof __values?__values(j):j[Symbol.iterator](),te={},m("next"),m("throw"),m("return"),te[Symbol.asyncIterator]=function(){return this},te);function m(he){te[he]=j[he]&&function(te){return new Promise((function(ve,Ce){(function D(j,te,he,ve){Promise.resolve(ve).then((function(te){j({value:te,done:he})}),te)})(ve,Ce,(te=j[he](te)).done,te.value)}))}}};define(Ce[10],ie([1,0,21,13,4,2,17]),(function(j,te,he,ve,Ce,ye,Ee){function p(j){const te=new he.CancellationTokenSource,Ce=j(te.token),ye=new Promise(((j,he)=>{const ye=te.token.onCancellationRequested((()=>{ye.dispose(),te.dispose(),he(new ve.CancellationError)}));Promise.resolve(Ce).then((he=>{ye.dispose(),te.dispose(),j(he)}),(j=>{ye.dispose(),te.dispose(),he(j)}))}));return new class{cancel(){te.cancel()}then(j,te){return ye.then(j,te)}catch(j){return this.then(void 0,j)}finally(j){return ye.finally(j)}}}Object.defineProperty(te,"__esModule",{value:!0}),te.createCancelableAsyncIterable=te.CancelableAsyncIterableObject=te.AsyncIterableObject=te.Promises=te.DeferredPromise=te.IdleValue=te.runWhenIdle=te.RunOnceScheduler=te.IntervalTimer=te.TimeoutTimer=te.first=te.disposableTimeout=te.timeout=te.ThrottledDelayer=te.Delayer=te.MicrotaskDelay=te.Throttler=te.raceCancellation=te.createCancelablePromise=te.isThenable=void 0,te.isThenable=function b(j){return!!j&&"function"==typeof j.then},te.createCancelablePromise=p,te.raceCancellation=function h(j,te,he){return new Promise(((ve,Ce)=>{const ye=te.onCancellationRequested((()=>{ye.dispose(),ve(he)}));j.then(ve,Ce).finally((()=>ye.dispose()))}))};class g{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(j){if(this.activePromise){if(this.queuedPromiseFactory=j,!this.queuedPromise){const N=()=>{this.queuedPromise=null;const j=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,j};this.queuedPromise=new Promise((j=>{this.activePromise.then(N,N).then(j)}))}return new Promise(((j,te)=>{this.queuedPromise.then(j,te)}))}return this.activePromise=j(),new Promise(((j,te)=>{this.activePromise.then((te=>{this.activePromise=null,j(te)}),(j=>{this.activePromise=null,te(j)}))}))}}te.Throttler=g;te.MicrotaskDelay=Symbol("MicrotaskDelay");class n{constructor(j){this.defaultDelay=j,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(j,he=this.defaultDelay){this.task=j,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(((j,te)=>{this.doResolve=j,this.doReject=te})).then((()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const j=this.task;return this.task=null,j()}})));const k=()=>{var j;this.deferred=null,null===(j=this.doResolve)||void 0===j||j.call(this,null)};return this.deferred=he===te.MicrotaskDelay?(j=>{let te=!0;return queueMicrotask((()=>{te&&(te=!1,j())})),{isTriggered:()=>te,dispose:()=>{te=!1}}})(k):((j,te)=>{let he=!0;const ve=setTimeout((()=>{he=!1,te()}),j);return{isTriggered:()=>he,dispose:()=>{clearTimeout(ve),he=!1}}})(he,k),this.completionPromise}isTriggered(){var j;return!!(null===(j=this.deferred)||void 0===j?void 0:j.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new ve.CancellationError),this.completionPromise=null)}cancelTimeout(){var j;null===(j=this.deferred)||void 0===j||j.dispose(),this.deferred=null}dispose(){this.cancel()}}te.Delayer=n;te.ThrottledDelayer=class l{constructor(j){this.delayer=new n(j),this.throttler=new g}trigger(j,te){return this.delayer.trigger((()=>this.throttler.queue(j)),te)}dispose(){this.delayer.dispose()}},te.timeout=function c(j,te){return te?new Promise(((he,Ce)=>{const ye=setTimeout((()=>{Ee.dispose(),he()}),j),Ee=te.onCancellationRequested((()=>{clearTimeout(ye),Ee.dispose(),Ce(new ve.CancellationError)}))})):p((te=>c(j,te)))},te.disposableTimeout=function r(j,te=0){const he=setTimeout(j,te);return(0,ye.toDisposable)((()=>clearTimeout(he)))},te.first=function s(j,te=(j=>!!j),he=null){let ve=0;const Ce=j.length,O=()=>{if(ve>=Ce)return Promise.resolve(he);const ye=j[ve++];return Promise.resolve(ye()).then((j=>te(j)?Promise.resolve(j):O()))};return O()};te.TimeoutTimer=class o{constructor(j,te){this._token=-1,"function"==typeof j&&"number"==typeof te&&this.setIfNotSet(j,te)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(j,te){this.cancel(),this._token=setTimeout((()=>{this._token=-1,j()}),te)}setIfNotSet(j,te){-1===this._token&&(this._token=setTimeout((()=>{this._token=-1,j()}),te))}};te.IntervalTimer=class a{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(j,te){this.cancel(),this._token=setInterval((()=>{j()}),te)}};te.RunOnceScheduler=class d{constructor(j,te){this.timeoutToken=-1,this.runner=j,this.timeout=te,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(j=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,j)}get delay(){return this.timeout}set delay(j){this.timeout=j}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}},"function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?te.runWhenIdle=j=>{(0,Ee.setTimeout0)((()=>{if(te)return;const he=Date.now()+15;j(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,he-Date.now())}))}));let te=!1;return{dispose(){te||(te=!0)}}}:te.runWhenIdle=(j,te)=>{const he=requestIdleCallback(j,"number"==typeof te?{timeout:te}:void 0);let ve=!1;return{dispose(){ve||(ve=!0,cancelIdleCallback(he))}}};te.IdleValue=class u{constructor(j){this._didRun=!1,this._executor=()=>{try{this._value=j()}catch(j){this._error=j}finally{this._didRun=!0}},this._handle=(0,te.runWhenIdle)((()=>this._executor()))}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}};var Ie;te.DeferredPromise=class f{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise(((j,te)=>{this.completeCallback=j,this.errorCallback=te}))}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(j){return new Promise((te=>{this.completeCallback(j),this.resolved=!0,te()}))}cancel(){new Promise((j=>{this.errorCallback(new ve.CancellationError),this.rejected=!0,j()}))}},(Ie=te.Promises||(te.Promises={})).settled=function E(j){return fi(this,void 0,void 0,(function*(){let te;const he=yield Promise.all(j.map((j=>j.then((j=>j),(j=>{te||(te=j)})))));if(void 0!==te)throw te;return he}))},Ie.withAsyncBody=function N(j){return new Promise(((te,he)=>fi(this,void 0,void 0,(function*(){try{yield j(te,he)}catch(j){he(j)}}))))};class v{constructor(j){this._state=0,this._results=[],this._error=null,this._onStateChanged=new Ce.Emitter,queueMicrotask((()=>fi(this,void 0,void 0,(function*(){const te={emitOne:j=>this.emitOne(j),emitMany:j=>this.emitMany(j),reject:j=>this.reject(j)};try{yield Promise.resolve(j(te)),this.resolve()}catch(j){this.reject(j)}finally{te.emitOne=void 0,te.emitMany=void 0,te.reject=void 0}}))))}static fromArray(j){return new v((te=>{te.emitMany(j)}))}static fromPromise(j){return new v((te=>fi(this,void 0,void 0,(function*(){te.emitMany(yield j)}))))}static fromPromises(j){return new v((te=>fi(this,void 0,void 0,(function*(){yield Promise.all(j.map((j=>fi(this,void 0,void 0,(function*(){return te.emitOne(yield j)})))))}))))}static merge(j){return new v((te=>fi(this,void 0,void 0,(function*(){yield Promise.all(j.map((j=>{var he,ve;return fi(this,void 0,void 0,(function*(){var Ce,ye;try{for(he=vi(j);!(ve=yield he.next()).done;){const j=ve.value;te.emitOne(j)}}catch(j){Ce={error:j}}finally{try{ve&&!ve.done&&(ye=he.return)&&(yield ye.call(he))}finally{if(Ce)throw Ce.error}}}))})))}))))}[Symbol.asyncIterator](){let j=0;return{next:()=>fi(this,void 0,void 0,(function*(){for(;;){if(2===this._state)throw this._error;if(j<this._results.length)return{done:!1,value:this._results[j++]};if(1===this._state)return{done:!0,value:void 0};yield Ce.Event.toPromise(this._onStateChanged.event)}}))}}static map(j,te){return new v((he=>fi(this,void 0,void 0,(function*(){var ve,Ce;try{for(var ye,Ee=vi(j);!(ye=yield Ee.next()).done;){const j=ye.value;he.emitOne(te(j))}}catch(j){ve={error:j}}finally{try{ye&&!ye.done&&(Ce=Ee.return)&&(yield Ce.call(Ee))}finally{if(ve)throw ve.error}}}))))}map(j){return v.map(this,j)}static filter(j,te){return new v((he=>fi(this,void 0,void 0,(function*(){var ve,Ce;try{for(var ye,Ee=vi(j);!(ye=yield Ee.next()).done;){const j=ye.value;te(j)&&he.emitOne(j)}}catch(j){ve={error:j}}finally{try{ye&&!ye.done&&(Ce=Ee.return)&&(yield Ce.call(Ee))}finally{if(ve)throw ve.error}}}))))}filter(j){return v.filter(this,j)}static coalesce(j){return v.filter(j,(j=>!!j))}coalesce(){return v.coalesce(this)}static toPromise(j){var te,he,ve,Ce;return fi(this,void 0,void 0,(function*(){const ye=[];try{for(te=vi(j);!(he=yield te.next()).done;){const j=he.value;ye.push(j)}}catch(j){ve={error:j}}finally{try{he&&!he.done&&(Ce=te.return)&&(yield Ce.call(te))}finally{if(ve)throw ve.error}}return ye}))}toPromise(){return v.toPromise(this)}emitOne(j){0===this._state&&(this._results.push(j),this._onStateChanged.fire())}emitMany(j){0===this._state&&(this._results=this._results.concat(j),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(j){0===this._state&&(this._state=2,this._error=j,this._onStateChanged.fire())}}te.AsyncIterableObject=v,v.EMPTY=v.fromArray([]);class C extends v{constructor(j,te){super(te),this._source=j}cancel(){this._source.cancel()}}te.CancelableAsyncIterableObject=C,te.createCancelableAsyncIterable=function _(j){const te=new he.CancellationTokenSource,Ce=j(te.token);return new C(te,(j=>fi(this,void 0,void 0,(function*(){var he,ye;const Ee=te.token.onCancellationRequested((()=>{Ee.dispose(),te.dispose(),j.reject(new ve.CancellationError)}));try{try{for(var Ie,Ne=vi(Ce);!(Ie=yield Ne.next()).done;){const he=Ie.value;if(te.token.isCancellationRequested)return;j.emitOne(he)}}catch(j){he={error:j}}finally{try{Ie&&!Ie.done&&(ye=Ne.return)&&(yield ye.call(Ne))}finally{if(he)throw he.error}}Ee.dispose(),te.dispose()}catch(he){Ee.dispose(),te.dispose(),j.reject(he)}}))))}})),define(Ce[316],ie([1,0,10,2]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.ScrollbarVisibilityController=void 0;class D extends ve.Disposable{constructor(j,te,ve){super(),this._visibility=j,this._visibleClassName=te,this._invisibleClassName=ve,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new he.TimeoutTimer)}setVisibility(j){this._visibility!==j&&(this._visibility=j,this._updateShouldBeVisible())}setShouldBeVisible(j){this._rawShouldBeVisible=j,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const j=this._applyVisibilitySetting();this._shouldBeVisible!==j&&(this._shouldBeVisible=j,this.ensureVisibility())}setIsNeeded(j){this._isNeeded!==j&&(this._isNeeded=j,this.ensureVisibility())}setDomNode(j){this._domNode=j,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)}),0))}_hide(j){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(j?" fade":"")))}}te.ScrollbarVisibilityController=D})),define(Ce[317],ie([1,0,10]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.compareByPrefix=te.compareAnything=te.compareFileNames=void 0;const ve=new he.IdleValue((()=>{const j=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:j,collatorIsNumeric:j.resolvedOptions().numeric}}));new he.IdleValue((()=>({collator:new Intl.Collator(void 0,{numeric:!0})}))),new he.IdleValue((()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})})));function w(j,te,he=!1){const Ce=j||"",ye=te||"",Ee=ve.value.collator.compare(Ce,ye);return ve.value.collatorIsNumeric&&0===Ee&&Ce!==ye?Ce<ye?-1:1:Ee}function p(j,te,he){const ve=j.toLowerCase(),Ce=te.toLowerCase(),ye=ve.startsWith(he),Ee=Ce.startsWith(he);if(ye!==Ee)return ye?-1:1;if(ye&&Ee){if(ve.length<Ce.length)return-1;if(ve.length>Ce.length)return 1}return 0}te.compareFileNames=w,te.compareAnything=function b(j,te,he){const ve=j.toLowerCase(),Ce=te.toLowerCase(),ye=p(j,te,he);if(ye)return ye;const Ee=ve.endsWith(he);if(Ee!==Ce.endsWith(he))return Ee?-1:1;const Ie=w(ve,Ce);return 0!==Ie?Ie:ve.localeCompare(Ce)},te.compareByPrefix=p})),define(Ce[137],ie([1,0,4,2]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.SmoothScrollingOperation=te.SmoothScrollingUpdate=te.Scrollable=te.ScrollState=void 0;class D{constructor(j,te,he,ve,Ce,ye,Ee){this._forceIntegerValues=j,this._scrollStateBrand=void 0,this._forceIntegerValues&&(te|=0,he|=0,ve|=0,Ce|=0,ye|=0,Ee|=0),this.rawScrollLeft=ve,this.rawScrollTop=Ee,te<0&&(te=0),ve+te>he&&(ve=he-te),ve<0&&(ve=0),Ce<0&&(Ce=0),Ee+Ce>ye&&(Ee=ye-Ce),Ee<0&&(Ee=0),this.width=te,this.scrollWidth=he,this.scrollLeft=ve,this.height=Ce,this.scrollHeight=ye,this.scrollTop=Ee}equals(j){return this.rawScrollLeft===j.rawScrollLeft&&this.rawScrollTop===j.rawScrollTop&&this.width===j.width&&this.scrollWidth===j.scrollWidth&&this.scrollLeft===j.scrollLeft&&this.height===j.height&&this.scrollHeight===j.scrollHeight&&this.scrollTop===j.scrollTop}withScrollDimensions(j,te){return new D(this._forceIntegerValues,void 0!==j.width?j.width:this.width,void 0!==j.scrollWidth?j.scrollWidth:this.scrollWidth,te?this.rawScrollLeft:this.scrollLeft,void 0!==j.height?j.height:this.height,void 0!==j.scrollHeight?j.scrollHeight:this.scrollHeight,te?this.rawScrollTop:this.scrollTop)}withScrollPosition(j){return new D(this._forceIntegerValues,this.width,this.scrollWidth,void 0!==j.scrollLeft?j.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==j.scrollTop?j.scrollTop:this.rawScrollTop)}createScrollEvent(j,te){const he=this.width!==j.width,ve=this.scrollWidth!==j.scrollWidth,Ce=this.scrollLeft!==j.scrollLeft,ye=this.height!==j.height,Ee=this.scrollHeight!==j.scrollHeight,Ie=this.scrollTop!==j.scrollTop;return{inSmoothScrolling:te,oldWidth:j.width,oldScrollWidth:j.scrollWidth,oldScrollLeft:j.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:j.height,oldScrollHeight:j.scrollHeight,oldScrollTop:j.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:he,scrollWidthChanged:ve,scrollLeftChanged:Ce,heightChanged:ye,scrollHeightChanged:Ee,scrollTopChanged:Ie}}}te.ScrollState=D;class I extends ve.Disposable{constructor(j){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new he.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=j.smoothScrollDuration,this._scheduleAtNextAnimationFrame=j.scheduleAtNextAnimationFrame,this._state=new D(j.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(j){this._smoothScrollDuration=j}validateScrollPosition(j){return this._state.withScrollPosition(j)}getScrollDimensions(){return this._state}setScrollDimensions(j,te){const he=this._state.withScrollDimensions(j,te);this._setState(he,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(j){const te=this._state.withScrollPosition(j);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(te,!1)}setScrollPositionSmooth(j,te){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(j);if(this._smoothScrolling){j={scrollLeft:void 0===j.scrollLeft?this._smoothScrolling.to.scrollLeft:j.scrollLeft,scrollTop:void 0===j.scrollTop?this._smoothScrolling.to.scrollTop:j.scrollTop};const he=this._state.withScrollPosition(j);if(this._smoothScrolling.to.scrollLeft===he.scrollLeft&&this._smoothScrolling.to.scrollTop===he.scrollTop)return;let ve;ve=te?new h(this._smoothScrolling.from,he,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,he,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=ve}else{const te=this._state.withScrollPosition(j);this._smoothScrolling=h.start(this._state,te,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))}_performSmoothScrolling(){if(!this._smoothScrolling)return;const j=this._smoothScrolling.tick(),te=this._state.withScrollPosition(j);if(this._setState(te,!0),this._smoothScrolling){if(j.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))}}_setState(j,te){const he=this._state;he.equals(j)||(this._state=j,this._onScroll.fire(this._state.createScrollEvent(he,te)))}}te.Scrollable=I;class w{constructor(j,te,he){this.scrollLeft=j,this.scrollTop=te,this.isDone=he}}function b(j,te){const he=te-j;return function(te){return j+he*function t(j){return 1-function g(j){return Math.pow(j,3)}(1-j)}(te)}}te.SmoothScrollingUpdate=w;class h{constructor(j,te,he,ve){this.from=j,this.to=te,this.duration=ve,this.startTime=he,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(j,te,he){if(Math.abs(j-te)>2.5*he){let ve,Ce;return j<te?(ve=j+.75*he,Ce=te-.75*he):(ve=j-.75*he,Ce=te+.75*he),function p(j,te,he){return function(ve){return ve<he?j(ve/he):te((ve-he)/(1-he))}}(b(j,ve),b(Ce,te),.33)}return b(j,te)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(j){this.to=j.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(j){const te=(j-this.startTime)/this.duration;if(te<1){const j=this.scrollLeft(te),he=this.scrollTop(te);return new w(j,he,!1)}return new w(this.to.scrollLeft,this.to.scrollTop,!0)}combine(j,te,he){return h.start(j,te,he)}static start(j,te,he){he+=10;const ve=Date.now()-10;return new h(j,te,ve,he)}}te.SmoothScrollingOperation=h})),define(Ce[8],ie([1,0,309,134]),(function(j,te,he,ve){var Ce;Object.defineProperty(te,"__esModule",{value:!0}),te.InvisibleCharacters=te.AmbiguousCharacters=te.noBreakWhitespace=te.getLeftDeleteOffset=te.singleLetterHash=te.containsUppercaseCharacter=te.startsWithUTF8BOM=te.UTF8_BOM_CHARACTER=te.isEmojiImprecise=te.isFullWidthCharacter=te.containsUnusualLineTerminators=te.UNUSUAL_LINE_TERMINATORS=te.isBasicASCII=te.containsRTL=te.getCharContainingOffset=te.prevCharLength=te.nextCharLength=te.GraphemeIterator=te.CodePointIterator=te.getNextCodePoint=te.computeCodePoint=te.isLowSurrogate=te.isHighSurrogate=te.commonSuffixLength=te.commonPrefixLength=te.startsWithIgnoreCase=te.equalsIgnoreCase=te.isUpperAsciiLetter=te.isLowerAsciiLetter=te.compareSubstringIgnoreCase=te.compareIgnoreCase=te.compareSubstring=te.compare=te.lastNonWhitespaceIndex=te.getLeadingWhitespace=te.firstNonWhitespaceIndex=te.splitLines=te.regExpFlags=te.regExpLeadsToEndlessLoop=te.createRegExp=te.stripWildcards=te.convertSimple2RegExpPattern=te.rtrim=te.ltrim=te.trim=te.escapeRegExpCharacters=te.escape=te.format=te.isFalsyOrWhitespace=void 0,te.isFalsyOrWhitespace=function I(j){return!j||"string"!=typeof j||0===j.trim().length};const ye=/{(\d+)}/g;function h(j){return j.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function t(j,te){if(!j||!te)return j;const he=te.length;if(0===he||0===j.length)return j;let ve=0;for(;j.indexOf(te,ve)===ve;)ve+=he;return j.substring(ve)}function i(j,te){if(!j||!te)return j;const he=te.length,ve=j.length;if(0===he||0===ve)return j;let Ce=ve,ye=-1;for(;ye=j.lastIndexOf(te,Ce-1),-1!==ye&&ye+he===Ce;){if(0===ye)return"";Ce=ye}return j.substring(0,Ce)}function S(j,te,he=0,ve=j.length,Ce=0,ye=te.length){for(;he<ve&&Ce<ye;he++,Ce++){let ve=j.charCodeAt(he),ye=te.charCodeAt(Ce);if(ve<ye)return-1;if(ve>ye)return 1}const Ee=ve-he,Ie=ye-Ce;return Ee<Ie?-1:Ee>Ie?1:0}function C(j,te,he=0,ve=j.length,Ce=0,ye=te.length){for(;he<ve&&Ce<ye;he++,Ce++){let Ee=j.charCodeAt(he),Ie=te.charCodeAt(Ce);if(Ee===Ie)continue;if(Ee>=128||Ie>=128)return S(j.toLowerCase(),te.toLowerCase(),he,ve,Ce,ye);_(Ee)&&(Ee-=32),_(Ie)&&(Ie-=32);const Ne=Ee-Ie;if(0!==Ne)return Ne}const Ee=ve-he,Ie=ye-Ce;return Ee<Ie?-1:Ee>Ie?1:0}function _(j){return j>=97&&j<=122}function O(j){return 55296<=j&&j<=56319}function B(j){return 56320<=j&&j<=57343}function T(j,te){return te-56320+(j-55296<<10)+65536}function R(j,te,he){const ve=j.charCodeAt(he);if(O(ve)&&he+1<te){const te=j.charCodeAt(he+1);if(B(te))return T(ve,te)}return ve}te.format=function b(j,...te){return 0===te.length?j:j.replace(ye,(function(j,he){const ve=parseInt(he,10);return isNaN(ve)||ve<0||ve>=te.length?j:te[ve]}))},te.escape=function p(j){return j.replace(/[<>&]/g,(function(j){switch(j){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return j}}))},te.escapeRegExpCharacters=h,te.trim=function g(j,te=" "){return i(t(j,te),te)},te.ltrim=t,te.rtrim=i,te.convertSimple2RegExpPattern=function n(j){return j.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")},te.stripWildcards=function l(j){return j.replace(/\*/g,"")},te.createRegExp=function c(j,te,he={}){if(!j)throw new Error("Cannot create regex from empty string");te||(j=h(j)),he.wholeWord&&(/\B/.test(j.charAt(0))||(j="\\b"+j),/\B/.test(j.charAt(j.length-1))||(j+="\\b"));let ve="";return he.global&&(ve+="g"),he.matchCase||(ve+="i"),he.multiline&&(ve+="m"),he.unicode&&(ve+="u"),new RegExp(j,ve)},te.regExpLeadsToEndlessLoop=function r(j){return"^"!==j.source&&"^$"!==j.source&&"$"!==j.source&&"^\\s*$"!==j.source&&!(!j.exec("")||0!==j.lastIndex)},te.regExpFlags=function s(j){return(j.global?"g":"")+(j.ignoreCase?"i":"")+(j.multiline?"m":"")+(j.unicode?"u":"")},te.splitLines=function o(j){return j.split(/\r\n|\r|\n/)},te.firstNonWhitespaceIndex=function a(j){for(let te=0,he=j.length;te<he;te++){const he=j.charCodeAt(te);if(32!==he&&9!==he)return te}return-1},te.getLeadingWhitespace=function d(j,te=0,he=j.length){for(let ve=te;ve<he;ve++){const he=j.charCodeAt(ve);if(32!==he&&9!==he)return j.substring(te,ve)}return j.substring(te,he)},te.lastNonWhitespaceIndex=function u(j,te=j.length-1){for(let he=te;he>=0;he--){const te=j.charCodeAt(he);if(32!==te&&9!==te)return he}return-1},te.compare=function f(j,te){return j<te?-1:j>te?1:0},te.compareSubstring=S,te.compareIgnoreCase=function v(j,te){return C(j,te,0,j.length,0,te.length)},te.compareSubstringIgnoreCase=C,te.isLowerAsciiLetter=_,te.isUpperAsciiLetter=function L(j){return j>=65&&j<=90},te.equalsIgnoreCase=function E(j,te){return j.length===te.length&&0===C(j,te)},te.startsWithIgnoreCase=function N(j,te){const he=te.length;return!(te.length>j.length)&&0===C(j,te,0,he)},te.commonPrefixLength=function k(j,te){let he,ve=Math.min(j.length,te.length);for(he=0;he<ve;he++)if(j.charCodeAt(he)!==te.charCodeAt(he))return he;return ve},te.commonSuffixLength=function M(j,te){let he,ve=Math.min(j.length,te.length);const Ce=j.length-1,ye=te.length-1;for(he=0;he<ve;he++)if(j.charCodeAt(Ce-he)!==te.charCodeAt(ye-he))return he;return ve},te.isHighSurrogate=O,te.isLowSurrogate=B,te.computeCodePoint=T,te.getNextCodePoint=R;class F{constructor(j,te=0){this._str=j,this._len=j.length,this._offset=te}get offset(){return this._offset}setOffset(j){this._offset=j}prevCodePoint(){const j=function P(j,te){const he=j.charCodeAt(te-1);if(B(he)&&te>1){const ve=j.charCodeAt(te-2);if(O(ve))return T(ve,he)}return he}(this._str,this._offset);return this._offset-=j>=65536?2:1,j}nextCodePoint(){const j=R(this._str,this._len,this._offset);return this._offset+=j>=65536?2:1,j}eol(){return this._offset>=this._len}}te.CodePointIterator=F;class W{constructor(j,te=0){this._iterator=new F(j,te)}get offset(){return this._iterator.offset}nextGraphemeLength(){const j=ee.getInstance(),te=this._iterator,he=te.offset;let ve=j.getGraphemeBreakType(te.nextCodePoint());for(;!te.eol();){const he=te.offset,Ce=j.getGraphemeBreakType(te.nextCodePoint());if(ce(ve,Ce)){te.setOffset(he);break}ve=Ce}return te.offset-he}prevGraphemeLength(){const j=ee.getInstance(),te=this._iterator,he=te.offset;let ve=j.getGraphemeBreakType(te.prevCodePoint());for(;te.offset>0;){const he=te.offset,Ce=j.getGraphemeBreakType(te.prevCodePoint());if(ce(Ce,ve)){te.setOffset(he);break}ve=Ce}return he-te.offset}eol(){return this._iterator.eol()}}function A(j,te){return new W(j,te).nextGraphemeLength()}function H(j,te){return new W(j,te).prevGraphemeLength()}te.GraphemeIterator=W,te.nextCharLength=A,te.prevCharLength=H,te.getCharContainingOffset=function q(j,te){te>0&&B(j.charCodeAt(te))&&te--;const he=te+A(j,te);return[he-H(j,he),he]};const Ee=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;te.containsRTL=function G(j){return Ee.test(j)};const Ie=/^[\t\n\r\x20-\x7E]*$/;function x(j){return j>=127462&&j<=127487||8986===j||8987===j||9200===j||9203===j||j>=9728&&j<=10175||11088===j||11093===j||j>=127744&&j<=128591||j>=128640&&j<=128764||j>=128992&&j<=129008||j>=129280&&j<=129535||j>=129648&&j<=129782}function ce(j,te){return 0===j?5!==te&&7!==te:(2!==j||3!==te)&&(4===j||2===j||3===j||4===te||2===te||3===te||!(8===j&&(8===te||9===te||11===te||12===te)||(11===j||9===j)&&(9===te||10===te)||(12===j||10===j)&&10===te||5===te||13===te||7===te||1===j||13===j&&14===te||6===j&&6===te))}te.isBasicASCII=function ae(j){return Ie.test(j)},te.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/,te.containsUnusualLineTerminators=function oe(j){return te.UNUSUAL_LINE_TERMINATORS.test(j)},te.isFullWidthCharacter=function Z(j){return j>=11904&&j<=55215||j>=63744&&j<=64255||j>=65281&&j<=65374},te.isEmojiImprecise=x,te.UTF8_BOM_CHARACTER=String.fromCharCode(65279),te.startsWithUTF8BOM=function U(j){return!!(j&&j.length>0&&65279===j.charCodeAt(0))},te.containsUppercaseCharacter=function Q(j,te=!1){return!!j&&(te&&(j=j.replace(/\\./g,"")),j.toLowerCase()!==j)},te.singleLetterHash=function ne(j){return(j%=52)<26?String.fromCharCode(97+j):String.fromCharCode(65+j-26)};class ee{constructor(){this._data=function ue(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}()}static getInstance(){return ee._INSTANCE||(ee._INSTANCE=new ee),ee._INSTANCE}getGraphemeBreakType(j){if(j<32)return 10===j?3:13===j?2:4;if(j<127)return 0;const te=this._data,he=te.length/3;let ve=1;for(;ve<=he;)if(j<te[3*ve])ve*=2;else{if(!(j>te[3*ve+1]))return te[3*ve+2];ve=2*ve+1}return 0}}function $(j){return 127995<=j&&j<=127999}ee._INSTANCE=null,te.getLeftDeleteOffset=function z(j,te){if(0===j)return 0;const he=function V(j,te){const he=new F(te,j);let ve=he.prevCodePoint();for(;$(ve)||65039===ve||8419===ve;){if(0===he.offset)return;ve=he.prevCodePoint()}if(!x(ve))return;let Ce=he.offset;return Ce>0&&8205===he.prevCodePoint()&&(Ce=he.offset),Ce}(j,te);if(void 0!==he)return he;const ve=new F(te,j);return ve.prevCodePoint(),ve.offset},te.noBreakWhitespace=" ";class K{constructor(j){this.confusableDictionary=j}static getInstance(j){return K.cache.get(Array.from(j))}static getLocales(){return K._locales.getValue()}isAmbiguous(j){return this.confusableDictionary.has(j)}getPrimaryConfusable(j){return this.confusableDictionary.get(j)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}te.AmbiguousCharacters=K,Ce=K,K.ambiguousCharacterData=new ve.Lazy((()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))),K.cache=new he.LRUCachedComputed((j=>{function se(j){const te=new Map;for(let he=0;he<j.length;he+=2)te.set(j[he],j[he+1]);return te}function me(j,te){if(!j)return te;const he=new Map;for(const[ve,Ce]of j)te.has(ve)&&he.set(ve,Ce);return he}const te=Ce.ambiguousCharacterData.getValue();let he,ve=j.filter((j=>!j.startsWith("_")&&j in te));0===ve.length&&(ve=["_default"]);for(const j of ve){he=me(he,se(te[j]))}const ye=function ge(j,te){const he=new Map(j);for(const[j,ve]of te)he.set(j,ve);return he}(se(te._common),he);return new K(ye)})),K._locales=new ve.Lazy((()=>Object.keys(K.ambiguousCharacterData.getValue()).filter((j=>!j.startsWith("_")))));class J{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(J.getRawData())),this._data}static isInvisibleCharacter(j){return J.getData().has(j)}static get codePoints(){return J.getData()}}te.InvisibleCharacters=J,J._data=void 0})),define(Ce[166],ie([1,0,82,17,8]),(function(j,te,he,ve,Ce){function I(j){return 47===j||92===j}function w(j){return j.replace(/[\\/]/g,he.posix.sep)}function g(j){return j>=65&&j<=90||j>=97&&j<=122}function i(j,te){return!!(void 0!==te?te:ve.isWindows)&&(g(j.charCodeAt(0))&&58===j.charCodeAt(1))}Object.defineProperty(te,"__esModule",{value:!0}),te.hasDriveLetter=te.isRootOrDriveLetter=te.isWindowsDriveLetter=te.isEqualOrParent=te.getRoot=te.toPosixPath=te.toSlashes=te.isPathSeparator=void 0,te.isPathSeparator=I,te.toSlashes=w,te.toPosixPath=function b(j){return-1===j.indexOf("/")&&(j=w(j)),/^[a-zA-Z]:(\/|$)/.test(j)&&(j="/"+j),j},te.getRoot=function p(j,te=he.posix.sep){if(!j)return"";const ve=j.length,Ce=j.charCodeAt(0);if(I(Ce)){if(I(j.charCodeAt(1))&&!I(j.charCodeAt(2))){let he=3;const Ce=he;for(;he<ve&&!I(j.charCodeAt(he));he++);if(Ce!==he&&!I(j.charCodeAt(he+1)))for(he+=1;he<ve;he++)if(I(j.charCodeAt(he)))return j.slice(0,he+1).replace(/[\\/]/g,te)}return te}if(g(Ce)&&58===j.charCodeAt(1))return I(j.charCodeAt(2))?j.slice(0,2)+te:j.slice(0,2);let ye=j.indexOf("://");if(-1!==ye)for(ye+=3;ye<ve;ye++)if(I(j.charCodeAt(ye)))return j.slice(0,ye+1);return""},te.isEqualOrParent=function h(j,te,ve,ye=he.sep){if(j===te)return!0;if(!j||!te||te.length>j.length)return!1;if(ve){if(!(0,Ce.startsWithIgnoreCase)(j,te))return!1;if(te.length===j.length)return!0;let he=te.length;return te.charAt(te.length-1)===ye&&he--,j.charAt(he)===ye}return te.charAt(te.length-1)!==ye&&(te+=ye),0===j.indexOf(te)},te.isWindowsDriveLetter=g,te.isRootOrDriveLetter=function t(j){const te=(0,he.normalize)(j);return ve.isWindows?!(j.length>3)&&(i(te)&&(2===j.length||92===te.charCodeAt(2))):te===he.posix.sep},te.hasDriveLetter=i})),define(Ce[112],ie([1,0,8]),(function(j,te,he){function D(j,te){switch(typeof j){case"object":return null===j?I(349,te):Array.isArray(j)?function p(j,te){return te=I(104579,te),j.reduce(((j,te)=>D(te,j)),te)}(j,te):function h(j,te){return te=I(181387,te),Object.keys(j).sort().reduce(((te,he)=>(te=b(he,te),D(j[he],te))),te)}(j,te);case"string":return b(j,te);case"boolean":return function w(j,te){return I(j?433:863,te)}(j,te);case"number":return I(j,te);case"undefined":return I(937,te);default:return I(617,te)}}function I(j,te){return(te<<5)-te+j|0}function b(j,te){te=I(149417,te);for(let he=0,ve=j.length;he<ve;he++)te=I(j.charCodeAt(he),te);return te}function g(j,te,he=32){const ve=he-te;return(j<<te|(~((1<<ve)-1)&j)>>>ve)>>>0}function t(j,te=0,he=j.byteLength,ve=0){for(let Ce=0;Ce<he;Ce++)j[te+Ce]=ve}function n(j,te=32){return j instanceof ArrayBuffer?Array.from(new Uint8Array(j)).map((j=>j.toString(16).padStart(2,"0"))).join(""):function i(j,te,he="0"){for(;j.length<te;)j=he+j;return j}((j>>>0).toString(16),te/4)}Object.defineProperty(te,"__esModule",{value:!0}),te.StringSHA1=te.toHexString=te.stringHash=te.numberHash=te.doHash=te.hash=void 0,te.hash=function m(j){return D(j,0)},te.doHash=D,te.numberHash=I,te.stringHash=b,te.toHexString=n;class l{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(j){const te=j.length;if(0===te)return;const ve=this._buff;let Ce,ye,Ee=this._buffLen,Ie=this._leftoverHighSurrogate;for(0!==Ie?(Ce=Ie,ye=-1,Ie=0):(Ce=j.charCodeAt(0),ye=0);;){let Ne=Ce;if(he.isHighSurrogate(Ce)){if(!(ye+1<te)){Ie=Ce;break}{const te=j.charCodeAt(ye+1);he.isLowSurrogate(te)?(ye++,Ne=he.computeCodePoint(Ce,te)):Ne=65533}}else he.isLowSurrogate(Ce)&&(Ne=65533);if(Ee=this._push(ve,Ee,Ne),ye++,!(ye<te))break;Ce=j.charCodeAt(ye)}this._buffLen=Ee,this._leftoverHighSurrogate=Ie}_push(j,te,he){return he<128?j[te++]=he:he<2048?(j[te++]=192|(1984&he)>>>6,j[te++]=128|(63&he)>>>0):he<65536?(j[te++]=224|(61440&he)>>>12,j[te++]=128|(4032&he)>>>6,j[te++]=128|(63&he)>>>0):(j[te++]=240|(1835008&he)>>>18,j[te++]=128|(258048&he)>>>12,j[te++]=128|(4032&he)>>>6,j[te++]=128|(63&he)>>>0),te>=64&&(this._step(),te-=64,this._totalLen+=64,j[0]=j[64],j[1]=j[65],j[2]=j[66]),te}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),n(this._h0)+n(this._h1)+n(this._h2)+n(this._h3)+n(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,t(this._buff,this._buffLen),this._buffLen>56&&(this._step(),t(this._buff));const j=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(j/4294967296),!1),this._buffDV.setUint32(60,j%4294967296,!1),this._step()}_step(){const j=l._bigBlock32,te=this._buffDV;for(let he=0;he<64;he+=4)j.setUint32(he,te.getUint32(he,!1),!1);for(let te=64;te<320;te+=4)j.setUint32(te,g(j.getUint32(te-12,!1)^j.getUint32(te-32,!1)^j.getUint32(te-56,!1)^j.getUint32(te-64,!1),1),!1);let he,ve,Ce,ye=this._h0,Ee=this._h1,Ie=this._h2,Ne=this._h3,Oe=this._h4;for(let te=0;te<80;te++)te<20?(he=Ee&Ie|~Ee&Ne,ve=1518500249):te<40?(he=Ee^Ie^Ne,ve=1859775393):te<60?(he=Ee&Ie|Ee&Ne|Ie&Ne,ve=2400959708):(he=Ee^Ie^Ne,ve=3395469782),Ce=g(ye,5)+he+Oe+ve+j.getUint32(4*te,!1)&4294967295,Oe=Ne,Ne=Ie,Ie=g(Ee,30),Ee=ye,ye=Ce;this._h0=this._h0+ye&4294967295,this._h1=this._h1+Ee&4294967295,this._h2=this._h2+Ie&4294967295,this._h3=this._h3+Ne&4294967295,this._h4=this._h4+Oe&4294967295}}te.StringSHA1=l,l._bigBlock32=new DataView(new ArrayBuffer(320))})),define(Ce[138],ie([1,0,310,112]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.LcsDiff=te.MyArray=te.Debug=te.stringDiff=te.StringDiffSequence=void 0;class D{constructor(j){this.source=j}getElements(){const j=this.source,te=new Int32Array(j.length);for(let he=0,ve=j.length;he<ve;he++)te[he]=j.charCodeAt(he);return te}}te.StringDiffSequence=D,te.stringDiff=function I(j,te,he){return new h(new D(j),new D(te)).ComputeDiff(he).changes};class w{static Assert(j,te){if(!j)throw new Error(te)}}te.Debug=w;class b{static Copy(j,te,he,ve,Ce){for(let ye=0;ye<Ce;ye++)he[ve+ye]=j[te+ye]}static Copy2(j,te,he,ve,Ce){for(let ye=0;ye<Ce;ye++)he[ve+ye]=j[te+ye]}}te.MyArray=b;class p{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new he.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(j,te){this.m_originalStart=Math.min(this.m_originalStart,j),this.m_modifiedStart=Math.min(this.m_modifiedStart,te),this.m_originalCount++}AddModifiedElement(j,te){this.m_originalStart=Math.min(this.m_originalStart,j),this.m_modifiedStart=Math.min(this.m_modifiedStart,te),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class h{constructor(j,te,he=null){this.ContinueProcessingPredicate=he,this._originalSequence=j,this._modifiedSequence=te;const[ve,Ce,ye]=h._getElements(j),[Ee,Ie,Ne]=h._getElements(te);this._hasStrings=ye&&Ne,this._originalStringElements=ve,this._originalElementsOrHash=Ce,this._modifiedStringElements=Ee,this._modifiedElementsOrHash=Ie,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(j){return j.length>0&&"string"==typeof j[0]}static _getElements(j){const te=j.getElements();if(h._isStringArray(te)){const j=new Int32Array(te.length);for(let he=0,Ce=te.length;he<Ce;he++)j[he]=(0,ve.stringHash)(te[he],0);return[te,j,!0]}return te instanceof Int32Array?[[],te,!1]:[[],new Int32Array(te),!1]}ElementsAreEqual(j,te){return this._originalElementsOrHash[j]===this._modifiedElementsOrHash[te]&&(!this._hasStrings||this._originalStringElements[j]===this._modifiedStringElements[te])}ElementsAreStrictEqual(j,te){if(!this.ElementsAreEqual(j,te))return!1;return h._getStrictElement(this._originalSequence,j)===h._getStrictElement(this._modifiedSequence,te)}static _getStrictElement(j,te){return"function"==typeof j.getStrictElement?j.getStrictElement(te):null}OriginalElementsAreEqual(j,te){return this._originalElementsOrHash[j]===this._originalElementsOrHash[te]&&(!this._hasStrings||this._originalStringElements[j]===this._originalStringElements[te])}ModifiedElementsAreEqual(j,te){return this._modifiedElementsOrHash[j]===this._modifiedElementsOrHash[te]&&(!this._hasStrings||this._modifiedStringElements[j]===this._modifiedStringElements[te])}ComputeDiff(j){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,j)}_ComputeDiff(j,te,he,ve,Ce){const ye=[!1];let Ee=this.ComputeDiffRecursive(j,te,he,ve,ye);return Ce&&(Ee=this.PrettifyChanges(Ee)),{quitEarly:ye[0],changes:Ee}}ComputeDiffRecursive(j,te,ve,Ce,ye){for(ye[0]=!1;j<=te&&ve<=Ce&&this.ElementsAreEqual(j,ve);)j++,ve++;for(;te>=j&&Ce>=ve&&this.ElementsAreEqual(te,Ce);)te--,Ce--;if(j>te||ve>Ce){let ye;return ve<=Ce?(w.Assert(j===te+1,"originalStart should only be one more than originalEnd"),ye=[new he.DiffChange(j,0,ve,Ce-ve+1)]):j<=te?(w.Assert(ve===Ce+1,"modifiedStart should only be one more than modifiedEnd"),ye=[new he.DiffChange(j,te-j+1,ve,0)]):(w.Assert(j===te+1,"originalStart should only be one more than originalEnd"),w.Assert(ve===Ce+1,"modifiedStart should only be one more than modifiedEnd"),ye=[]),ye}const Ee=[0],Ie=[0],Ne=this.ComputeRecursionPoint(j,te,ve,Ce,Ee,Ie,ye),Oe=Ee[0],Ke=Ie[0];if(null!==Ne)return Ne;if(!ye[0]){const Ee=this.ComputeDiffRecursive(j,Oe,ve,Ke,ye);let Ie=[];return Ie=ye[0]?[new he.DiffChange(Oe+1,te-(Oe+1)+1,Ke+1,Ce-(Ke+1)+1)]:this.ComputeDiffRecursive(Oe+1,te,Ke+1,Ce,ye),this.ConcatenateChanges(Ee,Ie)}return[new he.DiffChange(j,te-j+1,ve,Ce-ve+1)]}WALKTRACE(j,te,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct){let ht=null,mt=null,pt=new p,ft=te,_t=ve,Ct=Ye[0]-rt[0]-Ce,bt=-1073741824,St=this.m_forwardHistory.length-1;do{const te=Ct+j;te===ft||te<_t&&Oe[te-1]<Oe[te+1]?(et=(je=Oe[te+1])-Ct-Ce,je<bt&&pt.MarkNextChange(),bt=je,pt.AddModifiedElement(je+1,et),Ct=te+1-j):(et=(je=Oe[te-1]+1)-Ct-Ce,je<bt&&pt.MarkNextChange(),bt=je-1,pt.AddOriginalElement(je,et+1),Ct=te-1-j),St>=0&&(j=(Oe=this.m_forwardHistory[St])[0],ft=1,_t=Oe.length-1)}while(--St>=-1);if(ht=pt.getReverseChanges(),ct[0]){let j=Ye[0]+1,te=rt[0]+1;if(null!==ht&&ht.length>0){const he=ht[ht.length-1];j=Math.max(j,he.getOriginalEnd()),te=Math.max(te,he.getModifiedEnd())}mt=[new he.DiffChange(j,Ze-j+1,te,nt-te+1)]}else{pt=new p,ft=Ee,_t=Ie,Ct=Ye[0]-rt[0]-Ne,bt=1073741824,St=at?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const j=Ct+ye;j===ft||j<_t&&Ke[j-1]>=Ke[j+1]?(et=(je=Ke[j+1]-1)-Ct-Ne,je>bt&&pt.MarkNextChange(),bt=je+1,pt.AddOriginalElement(je+1,et+1),Ct=j+1-ye):(et=(je=Ke[j-1])-Ct-Ne,je>bt&&pt.MarkNextChange(),bt=je,pt.AddModifiedElement(je+1,et+1),Ct=j-1-ye),St>=0&&(ye=(Ke=this.m_reverseHistory[St])[0],ft=1,_t=Ke.length-1)}while(--St>=-1);mt=pt.getChanges()}return this.ConcatenateChanges(ht,mt)}ComputeRecursionPoint(j,te,ve,Ce,ye,Ee,Ie){let Ne=0,Oe=0,Ke=0,je=0,Ze=0,Ye=0;j--,ve--,ye[0]=0,Ee[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const et=te-j+(Ce-ve),nt=et+1,rt=new Int32Array(nt),at=new Int32Array(nt),ct=Ce-ve,ht=te-j,mt=j-ve,pt=te-Ce,ft=(ht-ct)%2==0;rt[ct]=j,at[ht]=te,Ie[0]=!1;for(let _t=1;_t<=et/2+1;_t++){let et=0,Ct=0;Ke=this.ClipDiagonalBound(ct-_t,_t,ct,nt),je=this.ClipDiagonalBound(ct+_t,_t,ct,nt);for(let j=Ke;j<=je;j+=2){Ne=j===Ke||j<je&&rt[j-1]<rt[j+1]?rt[j+1]:rt[j-1]+1,Oe=Ne-(j-ct)-mt;const he=Ne;for(;Ne<te&&Oe<Ce&&this.ElementsAreEqual(Ne+1,Oe+1);)Ne++,Oe++;if(rt[j]=Ne,Ne+Oe>et+Ct&&(et=Ne,Ct=Oe),!ft&&Math.abs(j-ht)<=_t-1&&Ne>=at[j])return ye[0]=Ne,Ee[0]=Oe,he<=at[j]&&_t<=1448?this.WALKTRACE(ct,Ke,je,mt,ht,Ze,Ye,pt,rt,at,Ne,te,ye,Oe,Ce,Ee,ft,Ie):null}const bt=(et-j+(Ct-ve)-_t)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(et,bt))return Ie[0]=!0,ye[0]=et,Ee[0]=Ct,bt>0&&_t<=1448?this.WALKTRACE(ct,Ke,je,mt,ht,Ze,Ye,pt,rt,at,Ne,te,ye,Oe,Ce,Ee,ft,Ie):(j++,ve++,[new he.DiffChange(j,te-j+1,ve,Ce-ve+1)]);Ze=this.ClipDiagonalBound(ht-_t,_t,ht,nt),Ye=this.ClipDiagonalBound(ht+_t,_t,ht,nt);for(let he=Ze;he<=Ye;he+=2){Ne=he===Ze||he<Ye&&at[he-1]>=at[he+1]?at[he+1]-1:at[he-1],Oe=Ne-(he-ht)-pt;const et=Ne;for(;Ne>j&&Oe>ve&&this.ElementsAreEqual(Ne,Oe);)Ne--,Oe--;if(at[he]=Ne,ft&&Math.abs(he-ct)<=_t&&Ne<=rt[he])return ye[0]=Ne,Ee[0]=Oe,et>=rt[he]&&_t<=1448?this.WALKTRACE(ct,Ke,je,mt,ht,Ze,Ye,pt,rt,at,Ne,te,ye,Oe,Ce,Ee,ft,Ie):null}if(_t<=1447){let j=new Int32Array(je-Ke+2);j[0]=ct-Ke+1,b.Copy2(rt,Ke,j,1,je-Ke+1),this.m_forwardHistory.push(j),j=new Int32Array(Ye-Ze+2),j[0]=ht-Ze+1,b.Copy2(at,Ze,j,1,Ye-Ze+1),this.m_reverseHistory.push(j)}}return this.WALKTRACE(ct,Ke,je,mt,ht,Ze,Ye,pt,rt,at,Ne,te,ye,Oe,Ce,Ee,ft,Ie)}PrettifyChanges(j){for(let te=0;te<j.length;te++){const he=j[te],ve=te<j.length-1?j[te+1].originalStart:this._originalElementsOrHash.length,Ce=te<j.length-1?j[te+1].modifiedStart:this._modifiedElementsOrHash.length,ye=he.originalLength>0,Ee=he.modifiedLength>0;for(;he.originalStart+he.originalLength<ve&&he.modifiedStart+he.modifiedLength<Ce&&(!ye||this.OriginalElementsAreEqual(he.originalStart,he.originalStart+he.originalLength))&&(!Ee||this.ModifiedElementsAreEqual(he.modifiedStart,he.modifiedStart+he.modifiedLength));){const j=this.ElementsAreStrictEqual(he.originalStart,he.modifiedStart);if(this.ElementsAreStrictEqual(he.originalStart+he.originalLength,he.modifiedStart+he.modifiedLength)&&!j)break;he.originalStart++,he.modifiedStart++}let Ie=[null];te<j.length-1&&this.ChangesOverlap(j[te],j[te+1],Ie)&&(j[te]=Ie[0],j.splice(te+1,1),te--)}for(let te=j.length-1;te>=0;te--){const he=j[te];let ve=0,Ce=0;if(te>0){const he=j[te-1];ve=he.originalStart+he.originalLength,Ce=he.modifiedStart+he.modifiedLength}const ye=he.originalLength>0,Ee=he.modifiedLength>0;let Ie=0,Ne=this._boundaryScore(he.originalStart,he.originalLength,he.modifiedStart,he.modifiedLength);for(let j=1;;j++){const te=he.originalStart-j,Oe=he.modifiedStart-j;if(te<ve||Oe<Ce||ye&&!this.OriginalElementsAreEqual(te,te+he.originalLength)||Ee&&!this.ModifiedElementsAreEqual(Oe,Oe+he.modifiedLength))break;const Ke=(te===ve&&Oe===Ce?5:0)+this._boundaryScore(te,he.originalLength,Oe,he.modifiedLength);Ke>Ne&&(Ne=Ke,Ie=j)}he.originalStart-=Ie,he.modifiedStart-=Ie;const Oe=[null];te>0&&this.ChangesOverlap(j[te-1],j[te],Oe)&&(j[te-1]=Oe[0],j.splice(te,1),te++)}if(this._hasStrings)for(let te=1,he=j.length;te<he;te++){const he=j[te-1],ve=j[te],Ce=ve.originalStart-he.originalStart-he.originalLength,ye=he.originalStart,Ee=ve.originalStart+ve.originalLength,Ie=Ee-ye,Ne=he.modifiedStart,Oe=ve.modifiedStart+ve.modifiedLength,Ke=Oe-Ne;if(Ce<5&&Ie<20&&Ke<20){const j=this._findBetterContiguousSequence(ye,Ie,Ne,Ke,Ce);if(j){const[te,ye]=j;(te!==he.originalStart+he.originalLength||ye!==he.modifiedStart+he.modifiedLength)&&(he.originalLength=te-he.originalStart,he.modifiedLength=ye-he.modifiedStart,ve.originalStart=te+Ce,ve.modifiedStart=ye+Ce,ve.originalLength=Ee-ve.originalStart,ve.modifiedLength=Oe-ve.modifiedStart)}}}return j}_findBetterContiguousSequence(j,te,he,ve,Ce){if(te<Ce||ve<Ce)return null;const ye=j+te-Ce+1,Ee=he+ve-Ce+1;let Ie=0,Ne=0,Oe=0;for(let te=j;te<ye;te++)for(let j=he;j<Ee;j++){const he=this._contiguousSequenceScore(te,j,Ce);he>0&&he>Ie&&(Ie=he,Ne=te,Oe=j)}return Ie>0?[Ne,Oe]:null}_contiguousSequenceScore(j,te,he){let ve=0;for(let Ce=0;Ce<he;Ce++){if(!this.ElementsAreEqual(j+Ce,te+Ce))return 0;ve+=this._originalStringElements[j+Ce].length}return ve}_OriginalIsBoundary(j){return j<=0||j>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[j])}_OriginalRegionIsBoundary(j,te){if(this._OriginalIsBoundary(j)||this._OriginalIsBoundary(j-1))return!0;if(te>0){const he=j+te;if(this._OriginalIsBoundary(he-1)||this._OriginalIsBoundary(he))return!0}return!1}_ModifiedIsBoundary(j){return j<=0||j>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[j])}_ModifiedRegionIsBoundary(j,te){if(this._ModifiedIsBoundary(j)||this._ModifiedIsBoundary(j-1))return!0;if(te>0){const he=j+te;if(this._ModifiedIsBoundary(he-1)||this._ModifiedIsBoundary(he))return!0}return!1}_boundaryScore(j,te,he,ve){return(this._OriginalRegionIsBoundary(j,te)?1:0)+(this._ModifiedRegionIsBoundary(he,ve)?1:0)}ConcatenateChanges(j,te){let he=[];if(0===j.length||0===te.length)return te.length>0?te:j;if(this.ChangesOverlap(j[j.length-1],te[0],he)){const ve=new Array(j.length+te.length-1);return b.Copy(j,0,ve,0,j.length-1),ve[j.length-1]=he[0],b.Copy(te,1,ve,j.length,te.length-1),ve}{const he=new Array(j.length+te.length);return b.Copy(j,0,he,0,j.length),b.Copy(te,0,he,j.length,te.length),he}}ChangesOverlap(j,te,ve){if(w.Assert(j.originalStart<=te.originalStart,"Left change is not less than or equal to right change"),w.Assert(j.modifiedStart<=te.modifiedStart,"Left change is not less than or equal to right change"),j.originalStart+j.originalLength>=te.originalStart||j.modifiedStart+j.modifiedLength>=te.modifiedStart){const Ce=j.originalStart;let ye=j.originalLength;const Ee=j.modifiedStart;let Ie=j.modifiedLength;return j.originalStart+j.originalLength>=te.originalStart&&(ye=te.originalStart+te.originalLength-j.originalStart),j.modifiedStart+j.modifiedLength>=te.modifiedStart&&(Ie=te.modifiedStart+te.modifiedLength-j.modifiedStart),ve[0]=new he.DiffChange(Ce,ye,Ee,Ie),!0}return ve[0]=null,!1}ClipDiagonalBound(j,te,he,ve){if(j>=0&&j<ve)return j;const Ce=te%2==0;if(j<0){return Ce===(he%2==0)?0:1}return Ce===((ve-he-1)%2==0)?ve-1:ve-2}}te.LcsDiff=h})),define(Ce[167],ie([1,0,109,19,10,138,4,54]),(function(j,te,he,ve,Ce,ye,Ee,Ie){function p(j){return"object"==typeof j&&"visibility"in j&&"data"in j}function h(j){switch(j){case!0:return 1;case!1:return 0;default:return j}}function g(j){return"boolean"==typeof j.collapsible}Object.defineProperty(te,"__esModule",{value:!0}),te.IndexTreeModel=te.getVisibleState=te.isFilterResult=void 0,te.isFilterResult=p,te.getVisibleState=h;te.IndexTreeModel=class t{constructor(j,te,he,ve={}){this.user=j,this.list=te,this.rootRef=[],this.eventBufferer=new Ee.EventBufferer,this._onDidChangeCollapseState=new Ee.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new Ee.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new Ee.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new Ce.Delayer(Ce.MicrotaskDelay),this.collapseByDefault=void 0!==ve.collapseByDefault&&ve.collapseByDefault,this.filter=ve.filter,this.autoExpandSingleChildren=void 0!==ve.autoExpandSingleChildren&&ve.autoExpandSingleChildren,this.root={parent:void 0,element:he,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(j,te,ve=Ie.Iterable.empty(),Ce={}){if(0===j.length)throw new he.TreeError(this.user,"Invalid tree location");Ce.diffIdentityProvider?this.spliceSmart(Ce.diffIdentityProvider,j,te,ve,Ce):this.spliceSimple(j,te,ve,Ce)}spliceSmart(j,te,he,ve,Ce,Ee){var Ne;void 0===ve&&(ve=Ie.Iterable.empty()),void 0===Ee&&(Ee=null!==(Ne=Ce.diffDepth)&&void 0!==Ne?Ne:0);const{parentNode:Oe}=this.getParentNodeWithListIndex(te);if(!Oe.lastDiffIds)return this.spliceSimple(te,he,ve,Ce);const Ke=[...ve],je=te[te.length-1],Ze=new ye.LcsDiff({getElements:()=>Oe.lastDiffIds},{getElements:()=>[...Oe.children.slice(0,je),...Ke,...Oe.children.slice(je+he)].map((te=>j.getId(te.element).toString()))}).ComputeDiff(!1);if(Ze.quitEarly)return Oe.lastDiffIds=void 0,this.spliceSimple(te,he,Ke,Ce);const Ye=te.slice(0,-1),C=(te,he,ve)=>{if(Ee>0)for(let ye=0;ye<ve;ye++)te--,he--,this.spliceSmart(j,[...Ye,te,0],Number.MAX_SAFE_INTEGER,Ke[he].children,Ce,Ee-1)};let et=Math.min(Oe.children.length,je+he),nt=Ke.length;for(const j of Ze.changes.sort(((j,te)=>te.originalStart-j.originalStart)))C(et,nt,et-(j.originalStart+j.originalLength)),et=j.originalStart,nt=j.modifiedStart-je,this.spliceSimple([...Ye,et],j.originalLength,Ie.Iterable.slice(Ke,nt,nt+j.modifiedLength),Ce);C(et,nt,et)}spliceSimple(j,te,he=Ie.Iterable.empty(),{onDidCreateNode:Ce,onDidDeleteNode:ye,diffIdentityProvider:Ee}){const{parentNode:Ne,listIndex:Oe,revealed:Ke,visible:je}=this.getParentNodeWithListIndex(j),Ze=[],Ye=Ie.Iterable.map(he,(j=>this.createTreeNode(j,Ne,Ne.visible?1:0,Ke,Ze,Ce))),et=j[j.length-1],nt=Ne.children.length>0;let rt=0;for(let j=et;j>=0&&j<Ne.children.length;j--){const te=Ne.children[j];if(te.visible){rt=te.visibleChildIndex;break}}const at=[];let ct=0,ht=0;for(const j of Ye)at.push(j),ht+=j.renderNodeCount,j.visible&&(j.visibleChildIndex=rt+ct++);const mt=(0,ve.splice)(Ne.children,et,te,at);Ee?Ne.lastDiffIds?(0,ve.splice)(Ne.lastDiffIds,et,te,at.map((j=>Ee.getId(j.element).toString()))):Ne.lastDiffIds=Ne.children.map((j=>Ee.getId(j.element).toString())):Ne.lastDiffIds=void 0;let pt=0;for(const j of mt)j.visible&&pt++;if(0!==pt)for(let j=et+at.length;j<Ne.children.length;j++){const te=Ne.children[j];te.visible&&(te.visibleChildIndex-=pt)}if(Ne.visibleChildrenCount+=ct-pt,Ke&&je){const j=mt.reduce(((j,te)=>j+(te.visible?te.renderNodeCount:0)),0);this._updateAncestorsRenderNodeCount(Ne,ht-j),this.list.splice(Oe,j,Ze)}if(mt.length>0&&ye){const R=j=>{ye(j),j.children.forEach(R)};mt.forEach(R)}const ft=Ne.children.length>0;nt!==ft&&this.setCollapsible(j.slice(0,-1),ft),this._onDidSplice.fire({insertedNodes:at,deletedNodes:mt});let _t=Ne;for(;_t;){if(2===_t.visibility){this.refilterDelayer.trigger((()=>this.refilter()));break}_t=_t.parent}}rerender(j){if(0===j.length)throw new he.TreeError(this.user,"Invalid tree location");const{node:te,listIndex:ve,revealed:Ce}=this.getTreeNodeWithListIndex(j);te.visible&&Ce&&this.list.splice(ve,1,[te])}has(j){return this.hasTreeNode(j)}getListIndex(j){const{listIndex:te,visible:he,revealed:ve}=this.getTreeNodeWithListIndex(j);return he&&ve?te:-1}getListRenderCount(j){return this.getTreeNode(j).renderNodeCount}isCollapsible(j){return this.getTreeNode(j).collapsible}setCollapsible(j,te){const he=this.getTreeNode(j);void 0===te&&(te=!he.collapsible);const ve={collapsible:te};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(j,ve)))}isCollapsed(j){return this.getTreeNode(j).collapsed}setCollapsed(j,te,he){const ve=this.getTreeNode(j);void 0===te&&(te=!ve.collapsed);const Ce={collapsed:te,recursive:he||!1};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(j,Ce)))}_setCollapseState(j,te){const{node:he,listIndex:ve,revealed:Ce}=this.getTreeNodeWithListIndex(j),ye=this._setListNodeCollapseState(he,ve,Ce,te);if(he!==this.root&&this.autoExpandSingleChildren&&ye&&!g(te)&&he.collapsible&&!he.collapsed&&!te.recursive){let ve=-1;for(let j=0;j<he.children.length;j++)if(he.children[j].visible){if(ve>-1){ve=-1;break}ve=j}ve>-1&&this._setCollapseState([...j,ve],te)}return ye}_setListNodeCollapseState(j,te,he,ve){const Ce=this._setNodeCollapseState(j,ve,!1);if(!he||!j.visible||!Ce)return Ce;const ye=j.renderNodeCount,Ee=this.updateNodeAfterCollapseChange(j),Ie=ye-(-1===te?0:1);return this.list.splice(te+1,Ie,Ee.slice(1)),Ce}_setNodeCollapseState(j,te,he){let ve;if(j===this.root?ve=!1:(g(te)?(ve=j.collapsible!==te.collapsible,j.collapsible=te.collapsible):j.collapsible?(ve=j.collapsed!==te.collapsed,j.collapsed=te.collapsed):ve=!1,ve&&this._onDidChangeCollapseState.fire({node:j,deep:he})),!g(te)&&te.recursive)for(const he of j.children)ve=this._setNodeCollapseState(he,te,!0)||ve;return ve}expandTo(j){this.eventBufferer.bufferEvents((()=>{let te=this.getTreeNode(j);for(;te.parent;)te=te.parent,j=j.slice(0,j.length-1),te.collapsed&&this._setCollapseState(j,{collapsed:!1,recursive:!1})}))}refilter(){const j=this.root.renderNodeCount,te=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,j,te),this.refilterDelayer.cancel()}createTreeNode(j,te,he,ve,Ce,ye){const Ee={parent:te,element:j.element,children:[],depth:te.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof j.collapsible?j.collapsible:void 0!==j.collapsed,collapsed:void 0===j.collapsed?this.collapseByDefault:j.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},Ne=this._filterNode(Ee,he);Ee.visibility=Ne,ve&&Ce.push(Ee);const Oe=j.children||Ie.Iterable.empty(),Ke=ve&&0!==Ne&&!Ee.collapsed,je=Ie.Iterable.map(Oe,(j=>this.createTreeNode(j,Ee,Ne,Ke,Ce,ye)));let Ze=0,Ye=1;for(const j of je)Ee.children.push(j),Ye+=j.renderNodeCount,j.visible&&(j.visibleChildIndex=Ze++);return Ee.collapsible=Ee.collapsible||Ee.children.length>0,Ee.visibleChildrenCount=Ze,Ee.visible=2===Ne?Ze>0:1===Ne,Ee.visible?Ee.collapsed||(Ee.renderNodeCount=Ye):(Ee.renderNodeCount=0,ve&&Ce.pop()),ye&&ye(Ee),Ee}updateNodeAfterCollapseChange(j){const te=j.renderNodeCount,he=[];return this._updateNodeAfterCollapseChange(j,he),this._updateAncestorsRenderNodeCount(j.parent,he.length-te),he}_updateNodeAfterCollapseChange(j,te){if(!1===j.visible)return 0;if(te.push(j),j.renderNodeCount=1,!j.collapsed)for(const he of j.children)j.renderNodeCount+=this._updateNodeAfterCollapseChange(he,te);return this._onDidChangeRenderNodeCount.fire(j),j.renderNodeCount}updateNodeAfterFilterChange(j){const te=j.renderNodeCount,he=[];return this._updateNodeAfterFilterChange(j,j.visible?1:0,he),this._updateAncestorsRenderNodeCount(j.parent,he.length-te),he}_updateNodeAfterFilterChange(j,te,he,ve=!0){let Ce;if(j!==this.root){if(Ce=this._filterNode(j,te),0===Ce)return j.visible=!1,j.renderNodeCount=0,!1;ve&&he.push(j)}const ye=he.length;j.renderNodeCount=j===this.root?0:1;let Ee=!1;if(j.collapsed&&0===Ce)j.visibleChildrenCount=0;else{let te=0;for(const ye of j.children)Ee=this._updateNodeAfterFilterChange(ye,Ce,he,ve&&!j.collapsed)||Ee,ye.visible&&(ye.visibleChildIndex=te++);j.visibleChildrenCount=te}return j!==this.root&&(j.visible=2===Ce?Ee:1===Ce,j.visibility=Ce),j.visible?j.collapsed||(j.renderNodeCount+=he.length-ye):(j.renderNodeCount=0,ve&&he.pop()),this._onDidChangeRenderNodeCount.fire(j),j.visible}_updateAncestorsRenderNodeCount(j,te){if(0!==te)for(;j;)j.renderNodeCount+=te,this._onDidChangeRenderNodeCount.fire(j),j=j.parent}_filterNode(j,te){const he=this.filter?this.filter.filter(j.element,te):1;return"boolean"==typeof he?(j.filterData=void 0,he?1:0):p(he)?(j.filterData=he.data,h(he.visibility)):(j.filterData=void 0,h(he))}hasTreeNode(j,te=this.root){if(!j||0===j.length)return!0;const[he,...ve]=j;return!(he<0||he>te.children.length)&&this.hasTreeNode(ve,te.children[he])}getTreeNode(j,te=this.root){if(!j||0===j.length)return te;const[ve,...Ce]=j;if(ve<0||ve>te.children.length)throw new he.TreeError(this.user,"Invalid tree location");return this.getTreeNode(Ce,te.children[ve])}getTreeNodeWithListIndex(j){if(0===j.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:te,listIndex:ve,revealed:Ce,visible:ye}=this.getParentNodeWithListIndex(j),Ee=j[j.length-1];if(Ee<0||Ee>te.children.length)throw new he.TreeError(this.user,"Invalid tree location");const Ie=te.children[Ee];return{node:Ie,listIndex:ve,revealed:Ce,visible:ye&&Ie.visible}}getParentNodeWithListIndex(j,te=this.root,ve=0,Ce=!0,ye=!0){const[Ee,...Ie]=j;if(Ee<0||Ee>te.children.length)throw new he.TreeError(this.user,"Invalid tree location");for(let j=0;j<Ee;j++)ve+=te.children[j].renderNodeCount;return Ce=Ce&&!te.collapsed,ye=ye&&te.visible,0===Ie.length?{parentNode:te,listIndex:ve,revealed:Ce,visible:ye}:this.getParentNodeWithListIndex(Ie,te.children[Ee],ve+1,Ce,ye)}getNode(j=[]){return this.getTreeNode(j)}getNodeLocation(j){const te=[];let he=j;for(;he.parent;)te.push(he.parent.children.indexOf(he)),he=he.parent;return te.reverse()}getParentNodeLocation(j){if(0!==j.length)return 1===j.length?[]:(0,ve.tail2)(j)[0]}getFirstElementChild(j){const te=this.getTreeNode(j);if(0!==te.children.length)return te.children[0].element}}})),define(Ce[168],ie([1,0,167,109,54]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.ObjectTreeModel=void 0;te.ObjectTreeModel=class I{constructor(j,te,ve={}){this.user=j,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new he.IndexTreeModel(j,te,null,ve),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,ve.sorter&&(this.sorter={compare:(j,te)=>ve.sorter.compare(j.element,te.element)}),this.identityProvider=ve.identityProvider}setChildren(j,te=Ce.Iterable.empty(),he={}){const ve=this.getElementLocation(j);this._setChildren(ve,this.preserveCollapseState(te),he)}_setChildren(j,te=Ce.Iterable.empty(),he){const ve=new Set,ye=new Set;this.model.splice([...j,0],Number.MAX_VALUE,te,Object.assign(Object.assign({},he),{onDidCreateNode:j=>{var te;if(null===j.element)return;const Ce=j;if(ve.add(Ce.element),this.nodes.set(Ce.element,Ce),this.identityProvider){const j=this.identityProvider.getId(Ce.element).toString();ye.add(j),this.nodesByIdentity.set(j,Ce)}null===(te=he.onDidCreateNode)||void 0===te||te.call(he,Ce)},onDidDeleteNode:j=>{var te;if(null===j.element)return;const Ce=j;if(ve.has(Ce.element)||this.nodes.delete(Ce.element),this.identityProvider){const j=this.identityProvider.getId(Ce.element).toString();ye.has(j)||this.nodesByIdentity.delete(j)}null===(te=he.onDidDeleteNode)||void 0===te||te.call(he,Ce)}}))}preserveCollapseState(j=Ce.Iterable.empty()){return this.sorter&&(j=[...j].sort(this.sorter.compare.bind(this.sorter))),Ce.Iterable.map(j,(j=>{let te=this.nodes.get(j.element);if(!te&&this.identityProvider){const he=this.identityProvider.getId(j.element).toString();te=this.nodesByIdentity.get(he)}if(!te)return Object.assign(Object.assign({},j),{children:this.preserveCollapseState(j.children)});const he="boolean"==typeof j.collapsible?j.collapsible:te.collapsible,ve=void 0!==j.collapsed?j.collapsed:te.collapsed;return Object.assign(Object.assign({},j),{collapsible:he,collapsed:ve,children:this.preserveCollapseState(j.children)})}))}rerender(j){const te=this.getElementLocation(j);this.model.rerender(te)}getFirstElementChild(j=null){const te=this.getElementLocation(j);return this.model.getFirstElementChild(te)}has(j){return this.nodes.has(j)}getListIndex(j){const te=this.getElementLocation(j);return this.model.getListIndex(te)}getListRenderCount(j){const te=this.getElementLocation(j);return this.model.getListRenderCount(te)}isCollapsible(j){const te=this.getElementLocation(j);return this.model.isCollapsible(te)}setCollapsible(j,te){const he=this.getElementLocation(j);return this.model.setCollapsible(he,te)}isCollapsed(j){const te=this.getElementLocation(j);return this.model.isCollapsed(te)}setCollapsed(j,te,he){const ve=this.getElementLocation(j);return this.model.setCollapsed(ve,te,he)}expandTo(j){const te=this.getElementLocation(j);this.model.expandTo(te)}refilter(){this.model.refilter()}getNode(j=null){if(null===j)return this.model.getNode(this.model.rootRef);const te=this.nodes.get(j);if(!te)throw new ve.TreeError(this.user,`Tree element not found: ${j}`);return te}getNodeLocation(j){return j.element}getParentNodeLocation(j){if(null===j)throw new ve.TreeError(this.user,"Invalid getParentNodeLocation call");const te=this.nodes.get(j);if(!te)throw new ve.TreeError(this.user,`Tree element not found: ${j}`);const he=this.model.getNodeLocation(te),Ce=this.model.getParentNodeLocation(he);return this.model.getNode(Ce).element}getElementLocation(j){if(null===j)return[];const te=this.nodes.get(j);if(!te)throw new ve.TreeError(this.user,`Tree element not found: ${j}`);return this.model.getNodeLocation(te)}}})),define(Ce[318],ie([1,0,168,109,4,54]),(function(j,te,he,ve,Ce,ye){function w(j){return{element:{elements:[j.element],incompressible:j.incompressible||!1},children:ye.Iterable.map(ye.Iterable.from(j.children),w),collapsible:j.collapsible,collapsed:j.collapsed}}function b(j){const te=[j.element],he=j.incompressible||!1;let ve,Ce;for(;[Ce,ve]=ye.Iterable.consume(ye.Iterable.from(j.children),2),1===Ce.length&&!Ce[0].incompressible;)j=Ce[0],te.push(j.element);return{element:{elements:te,incompressible:he},children:ye.Iterable.map(ye.Iterable.concat(Ce,ve),b),collapsible:j.collapsible,collapsed:j.collapsed}}function p(j,te=0){let he;return he=te<j.element.elements.length-1?[p(j,te+1)]:ye.Iterable.map(ye.Iterable.from(j.children),(j=>p(j,0))),0===te&&j.element.incompressible?{element:j.element.elements[te],children:he,incompressible:!0,collapsible:j.collapsible,collapsed:j.collapsed}:{element:j.element.elements[te],children:he,collapsible:j.collapsible,collapsed:j.collapsed}}function h(j){return p(j,0)}function g(j,te,he){return j.element===te?Object.assign(Object.assign({},j),{children:he}):Object.assign(Object.assign({},j),{children:ye.Iterable.map(ye.Iterable.from(j.children),(j=>g(j,te,he)))})}Object.defineProperty(te,"__esModule",{value:!0}),te.CompressibleObjectTreeModel=te.DefaultElementMapper=te.CompressedObjectTreeModel=te.decompress=te.compress=void 0,te.compress=b,te.decompress=h;class i{constructor(j,te,ve={}){this.user=j,this.rootRef=null,this.nodes=new Map,this.model=new he.ObjectTreeModel(j,te,ve),this.enabled=void 0===ve.compressionEnabled||ve.compressionEnabled,this.identityProvider=ve.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(j,te=ye.Iterable.empty(),he){const ve=he.diffIdentityProvider&&(Ce=he.diffIdentityProvider,{getId:j=>j.elements.map((j=>Ce.getId(j).toString())).join("\0")});var Ce;if(null===j){const j=ye.Iterable.map(te,this.enabled?b:w);return void this._setChildren(null,j,{diffIdentityProvider:ve,diffDepth:1/0})}const Ee=this.nodes.get(j);if(!Ee)throw new Error("Unknown compressed tree node");const Ie=this.model.getNode(Ee),Ne=this.model.getParentNodeLocation(Ee),Oe=this.model.getNode(Ne),Ke=g(h(Ie),j,te),je=(this.enabled?b:w)(Ke),Ze=Oe.children.map((j=>j===Ie?je:j));this._setChildren(Oe.element,Ze,{diffIdentityProvider:ve,diffDepth:Ie.depth-Oe.depth})}setCompressionEnabled(j){if(j===this.enabled)return;this.enabled=j;const te=this.model.getNode().children,he=ye.Iterable.map(te,h),ve=ye.Iterable.map(he,j?b:w);this._setChildren(null,ve,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(j,te,he){const ve=new Set;this.model.setChildren(j,te,Object.assign(Object.assign({},he),{onDidCreateNode:j=>{for(const te of j.element.elements)ve.add(te),this.nodes.set(te,j.element)},onDidDeleteNode:j=>{for(const te of j.element.elements)ve.has(te)||this.nodes.delete(te)}}))}has(j){return this.nodes.has(j)}getListIndex(j){const te=this.getCompressedNode(j);return this.model.getListIndex(te)}getListRenderCount(j){const te=this.getCompressedNode(j);return this.model.getListRenderCount(te)}getNode(j){if(void 0===j)return this.model.getNode();const te=this.getCompressedNode(j);return this.model.getNode(te)}getNodeLocation(j){const te=this.model.getNodeLocation(j);return null===te?null:te.elements[te.elements.length-1]}getParentNodeLocation(j){const te=this.getCompressedNode(j),he=this.model.getParentNodeLocation(te);return null===he?null:he.elements[he.elements.length-1]}getFirstElementChild(j){const te=this.getCompressedNode(j);return this.model.getFirstElementChild(te)}isCollapsible(j){const te=this.getCompressedNode(j);return this.model.isCollapsible(te)}setCollapsible(j,te){const he=this.getCompressedNode(j);return this.model.setCollapsible(he,te)}isCollapsed(j){const te=this.getCompressedNode(j);return this.model.isCollapsed(te)}setCollapsed(j,te,he){const ve=this.getCompressedNode(j);return this.model.setCollapsed(ve,te,he)}expandTo(j){const te=this.getCompressedNode(j);this.model.expandTo(te)}rerender(j){const te=this.getCompressedNode(j);this.model.rerender(te)}refilter(){this.model.refilter()}getCompressedNode(j){if(null===j)return null;const te=this.nodes.get(j);if(!te)throw new ve.TreeError(this.user,`Tree element not found: ${j}`);return te}}te.CompressedObjectTreeModel=i;te.DefaultElementMapper=j=>j[j.length-1];class l{constructor(j,te){this.unwrapper=j,this.node=te}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((j=>new l(this.unwrapper,j)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}te.CompressibleObjectTreeModel=class s{constructor(j,he,Ce={}){this.rootRef=null,this.elementMapper=Ce.elementMapper||te.DefaultElementMapper;const f=j=>this.elementMapper(j.elements);this.nodeMapper=new ve.WeakMapper((j=>new l(f,j))),this.model=new i(j,function c(j,te){return{splice(he,ve,Ce){te.splice(he,ve,Ce.map((te=>j.map(te))))},updateElementHeight(j,he){te.updateElementHeight(j,he)}}}(this.nodeMapper,he),function r(j,te){return Object.assign(Object.assign({},te),{identityProvider:te.identityProvider&&{getId:he=>te.identityProvider.getId(j(he))},sorter:te.sorter&&{compare:(j,he)=>te.sorter.compare(j.elements[0],he.elements[0])},filter:te.filter&&{filter:(he,ve)=>te.filter.filter(j(he),ve)}})}(f,Ce))}get onDidSplice(){return Ce.Event.map(this.model.onDidSplice,(({insertedNodes:j,deletedNodes:te})=>({insertedNodes:j.map((j=>this.nodeMapper.map(j))),deletedNodes:te.map((j=>this.nodeMapper.map(j)))})))}get onDidChangeCollapseState(){return Ce.Event.map(this.model.onDidChangeCollapseState,(({node:j,deep:te})=>({node:this.nodeMapper.map(j),deep:te})))}get onDidChangeRenderNodeCount(){return Ce.Event.map(this.model.onDidChangeRenderNodeCount,(j=>this.nodeMapper.map(j)))}setChildren(j,te=ye.Iterable.empty(),he={}){this.model.setChildren(j,te,he)}setCompressionEnabled(j){this.model.setCompressionEnabled(j)}has(j){return this.model.has(j)}getListIndex(j){return this.model.getListIndex(j)}getListRenderCount(j){return this.model.getListRenderCount(j)}getNode(j){return this.nodeMapper.map(this.model.getNode(j))}getNodeLocation(j){return j.element}getParentNodeLocation(j){return this.model.getParentNodeLocation(j)}getFirstElementChild(j){const te=this.model.getFirstElementChild(j);return null==te?te:this.elementMapper(te.elements)}isCollapsible(j){return this.model.isCollapsible(j)}setCollapsible(j,te){return this.model.setCollapsible(j,te)}isCollapsed(j){return this.model.isCollapsed(j)}setCollapsed(j,te,he){return this.model.setCollapsed(j,te,he)}expandTo(j){return this.model.expandTo(j)}rerender(j){return this.model.rerender(j)}refilter(){return this.model.refilter()}getCompressedTreeNode(j=null){return this.model.getNode(j)}}})),define(Ce[47],ie([1,0,8]),(function(j,te,he){var ve,Ce;Object.defineProperty(te,"__esModule",{value:!0}),te.LRUCache=te.LinkedMap=te.ResourceMap=te.TernarySearchTree=te.UriIterator=te.PathIterator=te.ConfigKeysIterator=te.StringIterator=void 0;class I{constructor(){this._value="",this._pos=0}reset(j){return this._value=j,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(j){return j.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}te.StringIterator=I;class w{constructor(j=!0){this._caseSensitive=j}reset(j){return this._value=j,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let j=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!j)break;this._from++}else j=!1;return this}cmp(j){return this._caseSensitive?(0,he.compareSubstring)(j,this._value,0,j.length,this._from,this._to):(0,he.compareSubstringIgnoreCase)(j,this._value,0,j.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}te.ConfigKeysIterator=w;class b{constructor(j=!0,te=!0){this._splitOnBackslash=j,this._caseSensitive=te}reset(j){this._from=0,this._to=0,this._value=j,this._valueLen=j.length;for(let te=j.length-1;te>=0;te--,this._valueLen--){const j=this._value.charCodeAt(te);if(!(47===j||this._splitOnBackslash&&92===j))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let j=!0;for(;this._to<this._valueLen;this._to++){const te=this._value.charCodeAt(this._to);if(47===te||this._splitOnBackslash&&92===te){if(!j)break;this._from++}else j=!1}return this}cmp(j){return this._caseSensitive?(0,he.compareSubstring)(j,this._value,0,j.length,this._from,this._to):(0,he.compareSubstringIgnoreCase)(j,this._value,0,j.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}te.PathIterator=b;class p{constructor(j){this._ignorePathCasing=j,this._states=[],this._stateIdx=0}reset(j){return this._value=j,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new b(!1,!this._ignorePathCasing(j)),this._pathIterator.reset(j.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(j){if(1===this._states[this._stateIdx])return(0,he.compareIgnoreCase)(j,this._value.scheme);if(2===this._states[this._stateIdx])return(0,he.compareIgnoreCase)(j,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(j);if(4===this._states[this._stateIdx])return(0,he.compare)(j,this._value.query);if(5===this._states[this._stateIdx])return(0,he.compare)(j,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}te.UriIterator=p;class h{constructor(){this.height=1}rotateLeft(){const j=this.right;return this.right=j.left,j.left=this,this.updateHeight(),j.updateHeight(),j}rotateRight(){const j=this.left;return this.left=j.right,j.right=this,this.updateHeight(),j.updateHeight(),j}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var j,te;return null!==(te=null===(j=this.left)||void 0===j?void 0:j.height)&&void 0!==te?te:0}get heightRight(){var j,te;return null!==(te=null===(j=this.right)||void 0===j?void 0:j.height)&&void 0!==te?te:0}}class g{constructor(j){this._iter=j}static forUris(j=(()=>!1)){return new g(new p(j))}static forStrings(){return new g(new I)}static forConfigKeys(){return new g(new w)}clear(){this._root=void 0}set(j,te){const he=this._iter.reset(j);let ve;this._root||(this._root=new h,this._root.segment=he.value());const Ce=[];for(ve=this._root;;){const j=he.cmp(ve.segment);if(j>0)ve.left||(ve.left=new h,ve.left.segment=he.value()),Ce.push([-1,ve]),ve=ve.left;else if(j<0)ve.right||(ve.right=new h,ve.right.segment=he.value()),Ce.push([1,ve]),ve=ve.right;else{if(!he.hasNext())break;he.next(),ve.mid||(ve.mid=new h,ve.mid.segment=he.value()),Ce.push([0,ve]),ve=ve.mid}}const ye=ve.value;ve.value=te,ve.key=j;for(let j=Ce.length-1;j>=0;j--){const te=Ce[j][1];te.updateHeight();const he=te.balanceFactor();if(he<-1||he>1){const he=Ce[j][0],ve=Ce[j+1][0];if(1===he&&1===ve)Ce[j][1]=te.rotateLeft();else if(-1===he&&-1===ve)Ce[j][1]=te.rotateRight();else if(1===he&&-1===ve)te.right=Ce[j+1][1]=Ce[j+1][1].rotateRight(),Ce[j][1]=te.rotateLeft();else{if(-1!==he||1!==ve)throw new Error;te.left=Ce[j+1][1]=Ce[j+1][1].rotateLeft(),Ce[j][1]=te.rotateRight()}if(j>0)switch(Ce[j-1][0]){case-1:Ce[j-1][1].left=Ce[j][1];break;case 1:Ce[j-1][1].right=Ce[j][1];break;case 0:Ce[j-1][1].mid=Ce[j][1]}else this._root=Ce[0][1]}}return ye}get(j){var te;return null===(te=this._getNode(j))||void 0===te?void 0:te.value}_getNode(j){const te=this._iter.reset(j);let he=this._root;for(;he;){const j=te.cmp(he.segment);if(j>0)he=he.left;else if(j<0)he=he.right;else{if(!te.hasNext())break;te.next(),he=he.mid}}return he}has(j){const te=this._getNode(j);return!(void 0===(null==te?void 0:te.value)&&void 0===(null==te?void 0:te.mid))}delete(j){return this._delete(j,!1)}deleteSuperstr(j){return this._delete(j,!0)}_delete(j,te){var he;const ve=this._iter.reset(j),Ce=[];let ye=this._root;for(;ye;){const j=ve.cmp(ye.segment);if(j>0)Ce.push([-1,ye]),ye=ye.left;else if(j<0)Ce.push([1,ye]),ye=ye.right;else{if(!ve.hasNext())break;ve.next(),Ce.push([0,ye]),ye=ye.mid}}if(ye){if(te?(ye.left=void 0,ye.mid=void 0,ye.right=void 0,ye.height=1):(ye.key=void 0,ye.value=void 0),!ye.mid&&!ye.value)if(ye.left&&ye.right){const j=this._min(ye.right),{key:te,value:he,segment:ve}=j;this._delete(j.key,!1),ye.key=te,ye.value=he,ye.segment=ve}else{const j=null!==(he=ye.left)&&void 0!==he?he:ye.right;if(Ce.length>0){const[te,he]=Ce[Ce.length-1];switch(te){case-1:he.left=j;break;case 0:he.mid=j;break;case 1:he.right=j}}else this._root=j}for(let j=Ce.length-1;j>=0;j--){const te=Ce[j][1];te.updateHeight();const he=te.balanceFactor();if(he>1?(te.right.balanceFactor()>=0||(te.right=te.right.rotateRight()),Ce[j][1]=te.rotateLeft()):he<-1&&(te.left.balanceFactor()<=0||(te.left=te.left.rotateLeft()),Ce[j][1]=te.rotateRight()),j>0)switch(Ce[j-1][0]){case-1:Ce[j-1][1].left=Ce[j][1];break;case 1:Ce[j-1][1].right=Ce[j][1];break;case 0:Ce[j-1][1].mid=Ce[j][1]}else this._root=Ce[0][1]}}}_min(j){for(;j.left;)j=j.left;return j}findSubstr(j){const te=this._iter.reset(j);let he,ve=this._root;for(;ve;){const j=te.cmp(ve.segment);if(j>0)ve=ve.left;else if(j<0)ve=ve.right;else{if(!te.hasNext())break;te.next(),he=ve.value||he,ve=ve.mid}}return ve&&ve.value||he}findSuperstr(j){const te=this._iter.reset(j);let he=this._root;for(;he;){const j=te.cmp(he.segment);if(j>0)he=he.left;else if(j<0)he=he.right;else{if(!te.hasNext())return he.mid?this._entries(he.mid):void 0;te.next(),he=he.mid}}}forEach(j){for(const[te,he]of this)j(he,te)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(j){!j||(j.left&&(yield*this._entries(j.left)),j.value&&(yield[j.key,j.value]),j.mid&&(yield*this._entries(j.mid)),j.right&&(yield*this._entries(j.right)))}}te.TernarySearchTree=g;class t{constructor(j,te){this.uri=j,this.value=te}}class i{constructor(j,te){this[ve]="ResourceMap",j instanceof i?(this.map=new Map(j.map),this.toKey=te??i.defaultToKey):(this.map=new Map,this.toKey=j??i.defaultToKey)}set(j,te){return this.map.set(this.toKey(j),new t(j,te)),this}get(j){var te;return null===(te=this.map.get(this.toKey(j)))||void 0===te?void 0:te.value}has(j){return this.map.has(this.toKey(j))}get size(){return this.map.size}clear(){this.map.clear()}delete(j){return this.map.delete(this.toKey(j))}forEach(j,te){void 0!==te&&(j=j.bind(te));for(let[te,he]of this.map)j(he.value,he.uri,this)}*values(){for(let j of this.map.values())yield j.value}*keys(){for(let j of this.map.values())yield j.uri}*entries(){for(let j of this.map.values())yield[j.uri,j.value]}*[(ve=Symbol.toStringTag,Symbol.iterator)](){for(let[,j]of this.map)yield[j.uri,j.value]}}te.ResourceMap=i,i.defaultToKey=j=>j.toString();class n{constructor(){this[Ce]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var j;return null===(j=this._head)||void 0===j?void 0:j.value}get last(){var j;return null===(j=this._tail)||void 0===j?void 0:j.value}has(j){return this._map.has(j)}get(j,te=0){const he=this._map.get(j);if(he)return 0!==te&&this.touch(he,te),he.value}set(j,te,he=0){let ve=this._map.get(j);if(ve)ve.value=te,0!==he&&this.touch(ve,he);else{switch(ve={key:j,value:te,next:void 0,previous:void 0},he){case 0:case 2:default:this.addItemLast(ve);break;case 1:this.addItemFirst(ve)}this._map.set(j,ve),this._size++}return this}delete(j){return!!this.remove(j)}remove(j){const te=this._map.get(j);if(te)return this._map.delete(j),this.removeItem(te),this._size--,te.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const j=this._head;return this._map.delete(j.key),this.removeItem(j),this._size--,j.value}forEach(j,te){const he=this._state;let ve=this._head;for(;ve;){if(te?j.bind(te)(ve.value,ve.key,this):j(ve.value,ve.key,this),this._state!==he)throw new Error("LinkedMap got modified during iteration.");ve=ve.next}}keys(){const j=this,te=this._state;let he=this._head;const ve={[Symbol.iterator]:()=>ve,next(){if(j._state!==te)throw new Error("LinkedMap got modified during iteration.");if(he){const j={value:he.key,done:!1};return he=he.next,j}return{value:void 0,done:!0}}};return ve}values(){const j=this,te=this._state;let he=this._head;const ve={[Symbol.iterator]:()=>ve,next(){if(j._state!==te)throw new Error("LinkedMap got modified during iteration.");if(he){const j={value:he.value,done:!1};return he=he.next,j}return{value:void 0,done:!0}}};return ve}entries(){const j=this,te=this._state;let he=this._head;const ve={[Symbol.iterator]:()=>ve,next(){if(j._state!==te)throw new Error("LinkedMap got modified during iteration.");if(he){const j={value:[he.key,he.value],done:!1};return he=he.next,j}return{value:void 0,done:!0}}};return ve}[(Ce=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(j){if(j>=this.size)return;if(0===j)return void this.clear();let te=this._head,he=this.size;for(;te&&he>j;)this._map.delete(te.key),te=te.next,he--;this._head=te,this._size=he,te&&(te.previous=void 0),this._state++}addItemFirst(j){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");j.next=this._head,this._head.previous=j}else this._tail=j;this._head=j,this._state++}addItemLast(j){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");j.previous=this._tail,this._tail.next=j}else this._head=j;this._tail=j,this._state++}removeItem(j){if(j===this._head&&j===this._tail)this._head=void 0,this._tail=void 0;else if(j===this._head){if(!j.next)throw new Error("Invalid list");j.next.previous=void 0,this._head=j.next}else if(j===this._tail){if(!j.previous)throw new Error("Invalid list");j.previous.next=void 0,this._tail=j.previous}else{const te=j.next,he=j.previous;if(!te||!he)throw new Error("Invalid list");te.previous=he,he.next=te}j.next=void 0,j.previous=void 0,this._state++}touch(j,te){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===te||2===te)if(1===te){if(j===this._head)return;const te=j.next,he=j.previous;j===this._tail?(he.next=void 0,this._tail=he):(te.previous=he,he.next=te),j.previous=void 0,j.next=this._head,this._head.previous=j,this._head=j,this._state++}else if(2===te){if(j===this._tail)return;const te=j.next,he=j.previous;j===this._head?(te.previous=void 0,this._head=te):(te.previous=he,he.next=te),j.next=void 0,j.previous=this._tail,this._tail.next=j,this._tail=j,this._state++}}toJSON(){const j=[];return this.forEach(((te,he)=>{j.push([he,te])})),j}fromJSON(j){this.clear();for(const[te,he]of j)this.set(te,he)}}te.LinkedMap=n;te.LRUCache=class l extends n{constructor(j,te=1){super(),this._limit=j,this._ratio=Math.min(Math.max(0,te),1)}get limit(){return this._limit}set limit(j){this._limit=j,this.checkTrim()}get(j,te=2){return super.get(j,te)}peek(j){return super.get(j,0)}set(j,te){return super.set(j,te,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}})),define(Ce[73],ie([1,0,47,8]),(function(j,te,he,ve){function D(...j){return function(te,he){for(let ve=0,Ce=j.length;ve<Ce;ve++){const Ce=j[ve](te,he);if(Ce)return Ce}return null}}function I(j,te,he){if(!he||he.length<te.length)return null;let Ce;return Ce=j?ve.startsWithIgnoreCase(he,te):0===he.indexOf(te),Ce?te.length>0?[{start:0,end:te.length}]:[]:null}function w(j,te){const he=te.toLowerCase().indexOf(j.toLowerCase());return-1===he?null:[{start:he,end:he+j.length}]}function b(j,te){return p(j.toLowerCase(),te.toLowerCase(),0,0)}function p(j,te,he,ve){if(he===j.length)return[];if(ve===te.length)return null;if(j[he]===te[ve]){let Ce=null;return(Ce=p(j,te,he+1,ve+1))?s({start:ve,end:ve+1},Ce):null}return p(j,te,he,ve+1)}function h(j){return 97<=j&&j<=122}function g(j){return 65<=j&&j<=90}function t(j){return 48<=j&&j<=57}function i(j){return 32===j||9===j||10===j||13===j}Object.defineProperty(te,"__esModule",{value:!0}),te.fuzzyScoreGracefulAggressive=te.fuzzyScore=te.FuzzyScore=te.isPatternInWord=te.createMatches=te.anyScore=te.matchesFuzzy=te.matchesWords=te.matchesCamelCase=te.isUpper=te.matchesSubString=te.matchesContiguousSubString=te.matchesPrefix=te.matchesStrictPrefix=te.or=void 0,te.or=D,te.matchesStrictPrefix=I.bind(void 0,!1),te.matchesPrefix=I.bind(void 0,!0),te.matchesContiguousSubString=w,te.matchesSubString=b,te.isUpper=g;const Ce=new Set;function l(j){return i(j)||Ce.has(j)}function r(j){return h(j)||g(j)||t(j)}function s(j,te){return 0===te.length?te=[j]:j.end===te[0].start?te[0].start=j.start:te.unshift(j),te}function o(j,te){for(let he=te;he<j.length;he++){const te=j.charCodeAt(he);if(g(te)||t(te)||he>0&&!r(j.charCodeAt(he-1)))return he}return j.length}function a(j,te,he,ve){if(he===j.length)return[];if(ve===te.length)return null;if(j[he]!==te[ve].toLowerCase())return null;{let Ce=null,ye=ve+1;for(Ce=a(j,te,he+1,ve+1);!Ce&&(ye=o(te,ye))<te.length;)Ce=a(j,te,he+1,ye),ye++;return null===Ce?null:s({start:ve,end:ve+1},Ce)}}function v(j,te){if(!te||0===(te=te.trim()).length||!function S(j){let te=0,he=0,ve=0,Ce=0;for(let ye=0;ye<j.length;ye++)ve=j.charCodeAt(ye),g(ve)&&te++,h(ve)&&he++,i(ve)&&Ce++;return 0!==te&&0!==he||0!==Ce?te<=5:j.length<=30}(j)||te.length>60)return null;const he=function d(j){let te=0,he=0,ve=0,Ce=0,ye=0;for(let Ee=0;Ee<j.length;Ee++)ye=j.charCodeAt(Ee),g(ye)&&te++,h(ye)&&he++,r(ye)&&ve++,t(ye)&&Ce++;return{upperPercent:te/j.length,lowerPercent:he/j.length,alphaPercent:ve/j.length,numericPercent:Ce/j.length}}(te);if(!function f(j){const{upperPercent:te,lowerPercent:he,alphaPercent:ve,numericPercent:Ce}=j;return he>.2&&te<.8&&ve>.6&&Ce<.2}(he)){if(!function u(j){const{upperPercent:te,lowerPercent:he}=j;return 0===he&&te>.6}(he))return null;te=te.toLowerCase()}let ve=null,Ce=0;for(j=j.toLowerCase();Ce<te.length&&null===(ve=a(j,te,0,Ce));)Ce=o(te,Ce+1);return ve}function _(j,te,he,ve,Ce){if(he===j.length)return[];if(ve===te.length)return null;if(function c(j,te){return j===te||l(j)&&l(te)}(j.charCodeAt(he),te.charCodeAt(ve))){let ye=null,Ee=ve+1;if(ye=_(j,te,he+1,ve+1,Ce),!Ce)for(;!ye&&(Ee=L(te,Ee))<te.length;)ye=_(j,te,he+1,Ee,Ce),Ee++;return null===ye?null:s({start:ve,end:ve+1},ye)}return null}function L(j,te){for(let he=te;he<j.length;he++)if(l(j.charCodeAt(he))||he>0&&l(j.charCodeAt(he-1)))return he;return j.length}"()[]{}<>`'\"-/;:,.?!".split("").forEach((j=>Ce.add(j.charCodeAt(0)))),te.matchesCamelCase=v,te.matchesWords=function C(j,te,he=!1){if(!te||0===te.length)return null;let ve=null,Ce=0;for(j=j.toLowerCase(),te=te.toLowerCase();Ce<te.length&&null===(ve=_(j,te,0,Ce,he));)Ce=L(te,Ce+1);return ve};const ye=D(te.matchesPrefix,v,w),Ee=D(te.matchesPrefix,v,b),Ie=new he.LRUCache(1e4);te.matchesFuzzy=function M(j,te,he=!1){if("string"!=typeof j||"string"!=typeof te)return null;let Ce=Ie.get(j);Ce||(Ce=new RegExp(ve.convertSimple2RegExpPattern(j),"i"),Ie.set(j,Ce));const Ne=Ce.exec(te);return Ne?[{start:Ne.index,end:Ne.index+Ne[0].length}]:he?Ee(j,te):ye(j,te)},te.anyScore=function O(j,te,he,ve,Ce,ye){const Ee=Math.min(13,j.length);for(;he<Ee;he++){const Ee=Q(j,te,he,ve,Ce,ye,!1);if(Ee)return Ee}return[0,ye]},te.createMatches=function B(j){if(void 0===j)return[];const te=[],he=j[1];for(let ve=j.length-1;ve>1;ve--){const Ce=j[ve]+he,ye=te[te.length-1];ye&&ye.end===Ce?ye.end=Ce+1:te.push({start:Ce,end:Ce+1})}return te};const Ne=128;function R(){const j=[],te=[];for(let j=0;j<=Ne;j++)te[j]=0;for(let he=0;he<=Ne;he++)j.push(te.slice(0));return j}function P(j){const te=[];for(let he=0;he<=j;he++)te[he]=0;return te}const Oe=P(2*Ne),Ke=P(2*Ne),je=R(),Ze=R(),Ye=R(),et=!1;function G(j,te,he,ve,Ce){function se(j,te,he=" "){for(;j.length<te;)j=he+j;return j}let ye=` |   |${ve.split("").map((j=>se(j,3))).join("|")}\n`;for(let ve=0;ve<=he;ve++)ye+=0===ve?" |":`${te[ve-1]}|`,ye+=j[ve].slice(0,Ce+1).map((j=>se(j.toString(),3))).join("|")+"\n";return ye}function ae(j,te){if(te<0||te>=j.length)return!1;const he=j.codePointAt(te);switch(he){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!ve.isEmojiImprecise(he)}}function oe(j,te){if(te<0||te>=j.length)return!1;switch(j.charCodeAt(te)){case 32:case 9:return!0;default:return!1}}function Z(j,te,he){return te[j]!==he[j]}function x(j,te,he,ve,Ce,ye,Ee=!1){for(;te<he&&Ce<ye;)j[te]===ve[Ce]&&(Ee&&(Oe[te]=Ce),te+=1),Ce+=1;return te===he}var nt;function Q(j,te,he,ve,Ce,ye,Ee){const Ie=j.length>Ne?Ne:j.length,nt=ve.length>Ne?Ne:ve.length;if(he>=Ie||ye>=nt||Ie-he>nt-ye||!x(te,he,Ie,Ce,ye,nt,!0))return;!function ne(j,te,he,ve,Ce,ye){let Ee=j-1,Ie=te-1;for(;Ee>=he&&Ie>=ve;)Ce[Ee]===ye[Ie]&&(Ke[Ee]=Ie,Ee--),Ie--}(Ie,nt,he,ye,te,Ce);let rt=1,at=1,ct=he,ht=ye;const mt=[!1];for(rt=1,ct=he;ct<Ie;rt++,ct++){const Ee=Oe[ct],Ne=Ke[ct],et=ct+1<Ie?Ke[ct+1]:nt;for(at=Ee-ye+1,ht=Ee;ht<et;at++,ht++){let Ie=Number.MIN_SAFE_INTEGER,Oe=!1;ht<=Ne&&(Ie=ce(j,te,ct,he,ve,Ce,ht,nt,ye,0===je[rt-1][at-1],mt));let Ke=0;Ie!==Number.MAX_SAFE_INTEGER&&(Oe=!0,Ke=Ie+Ze[rt-1][at-1]);const et=ht>Ee,pt=et?Ze[rt][at-1]+(je[rt][at-1]>0?-5:0):0,ft=ht>Ee+1&&je[rt][at-1]>0,_t=ft?Ze[rt][at-2]+(je[rt][at-2]>0?-5:0):0;if(ft&&(!et||_t>=pt)&&(!Oe||_t>=Ke))Ze[rt][at]=_t,Ye[rt][at]=3,je[rt][at]=0;else if(et&&(!Oe||pt>=Ke))Ze[rt][at]=pt,Ye[rt][at]=2,je[rt][at]=0;else{if(!Oe)throw new Error("not possible");Ze[rt][at]=Ke,Ye[rt][at]=1,je[rt][at]=je[rt-1][at-1]+1}}}if(et&&function re(j,te,he,ve){j=j.substr(te),he=he.substr(ve),console.log(G(Ze,j,j.length,he,he.length)),console.log(G(Ye,j,j.length,he,he.length)),console.log(G(je,j,j.length,he,he.length))}(j,he,ve,ye),!mt[0]&&!Ee)return;rt--,at--;const pt=[Ze[rt][at],ye];let ft=0,_t=0;for(;rt>=1;){let j=at;do{const te=Ye[rt][j];if(3===te)j-=2;else{if(2!==te)break;j-=1}}while(j>=1);ft>1&&te[he+rt-1]===Ce[ye+at-1]&&!Z(j+ye-1,ve,Ce)&&ft+1>je[rt][j]&&(j=at),j===at?ft++:ft=1,_t||(_t=j),rt--,at=j-1,pt.push(at)}nt===Ie&&(pt[0]+=2);const Ct=_t-Ie;return pt[0]-=Ct,pt}function ce(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){if(te[he]!==ye[Ee])return Number.MIN_SAFE_INTEGER;let je=1,Ze=!1;return Ee===he-ve?je=j[he]===Ce[Ee]?7:5:!Z(Ee,Ce,ye)||0!==Ee&&Z(Ee-1,Ce,ye)?!ae(ye,Ee)||0!==Ee&&ae(ye,Ee-1)?(ae(ye,Ee-1)||oe(ye,Ee-1))&&(je=5,Ze=!0):je=5:(je=j[he]===Ce[Ee]?7:5,Ze=!0),je>1&&he===ve&&(Ke[0]=!0),Ze||(Ze=Z(Ee,Ce,ye)||ae(ye,Ee-1)||oe(ye,Ee-1)),he===ve?Ee>Ne&&(je-=Ze?3:5):je+=Oe?Ze?2:0:Ze?0:1,Ee+1===Ie&&(je-=Ze?3:5),je}function z(j,te){if(te+1>=j.length)return;const he=j[te],ve=j[te+1];return he!==ve?j.slice(0,te)+ve+he+j.slice(te+2):void 0}te.isPatternInWord=x,(nt=te.FuzzyScore||(te.FuzzyScore={})).Default=[-100,0],nt.isDefault=function $(j){return!j||2===j.length&&-100===j[0]&&0===j[1]},te.fuzzyScore=Q,te.fuzzyScoreGracefulAggressive=function ee(j,te,he,ve,Ce,ye,Ee){return function ue(j,te,he,ve,Ce,ye,Ee,Ie){let Ne=Q(j,te,he,ve,Ce,ye,Ie);if(Ne&&!Ee)return Ne;if(j.length>=3){const te=Math.min(7,j.length-1);for(let Ee=he+1;Ee<te;Ee++){const te=z(j,Ee);if(te){const j=Q(te,te.toLowerCase(),he,ve,Ce,ye,Ie);j&&(j[0]-=3,(!Ne||j[0]>Ne[0])&&(Ne=j))}}}return Ne}(j,te,he,ve,Ce,ye,!0,Ee)}})),define(Ce[319],ie([1,0,73,82,17,8]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.pieceToQuery=te.prepareQuery=te.scoreFuzzy2=void 0;const Ee=[void 0,[]];function h(j,te,ve,Ce){const ye=(0,he.fuzzyScore)(te.original,te.originalLowercase,ve,j,j.toLowerCase(),Ce,!0);return ye?[ye[0],(0,he.createMatches)(ye)]:Ee}te.scoreFuzzy2=function b(j,te,he=0,ve=0){const Ce=te;return Ce.values&&Ce.values.length>1?function p(j,te,he,ve){let Ce=0;const ye=[];for(const Ie of te){const[te,Ne]=h(j,Ie,he,ve);if("number"!=typeof te)return Ee;Ce+=te,ye.push(...Ne)}return[Ce,t(ye)]}(j,Ce.values,he,ve):h(j,te,he,ve)};Object.freeze({score:0});function t(j){const te=j.sort(((j,te)=>j.start-te.start)),he=[];let ve;for(const j of te)ve&&i(ve,j)?(ve.start=Math.min(ve.start,j.start),ve.end=Math.max(ve.end,j.end)):(ve=j,he.push(j));return he}function i(j,te){return!(j.end<te.start||te.end<j.start)}function n(j){return j.startsWith('"')&&j.endsWith('"')}const Ie=" ";function c(j){"string"!=typeof j&&(j="");const te=j.toLowerCase(),{pathNormalized:he,normalized:Ce,normalizedLowercase:ye}=r(j),Ee=he.indexOf(ve.sep)>=0,Ne=n(j);let Oe;const Ke=j.split(Ie);if(Ke.length>1)for(const j of Ke){const te=n(j),{pathNormalized:he,normalized:ve,normalizedLowercase:Ce}=r(j);ve&&(Oe||(Oe=[]),Oe.push({original:j,originalLowercase:j.toLowerCase(),pathNormalized:he,normalized:ve,normalizedLowercase:Ce,expectContiguousMatch:te}))}return{original:j,originalLowercase:te,pathNormalized:he,normalized:Ce,normalizedLowercase:ye,values:Oe,containsPathSeparator:Ee,expectContiguousMatch:Ne}}function r(j){let te;te=Ce.isWindows?j.replace(/\//g,ve.sep):j.replace(/\\/g,ve.sep);const he=(0,ye.stripWildcards)(te).replace(/\s|"/g,"");return{pathNormalized:te,normalized:he,normalizedLowercase:he.toLowerCase()}}te.prepareQuery=c,te.pieceToQuery=function s(j){return Array.isArray(j)?c(j.map((j=>j.original)).join(Ie)):c(j.original)}})),define(Ce[215],ie([1,0,10,166,47,82,17,8]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.isRelativePattern=te.parse=te.match=te.splitGlobAware=te.GLOB_SPLIT=te.GLOBSTAR=void 0,te.GLOBSTAR="**",te.GLOB_SPLIT="/";const Ne="[/\\\\]",Oe="[^/\\\\]",Ke=/\//g;function t(j){switch(j){case 0:return"";case 1:return`${Oe}*?`;default:return`(?:${Ne}|${Oe}+${Ne}|${Ne}${Oe}+)*?`}}function i(j,te){if(!j)return[];const he=[];let ve=!1,Ce=!1,ye="";for(const Ee of j){switch(Ee){case te:if(!ve&&!Ce){he.push(ye),ye="";continue}break;case"{":ve=!0;break;case"}":ve=!1;break;case"[":Ce=!0;break;case"]":Ce=!1}ye+=Ee}return ye&&he.push(ye),he}function n(j){if(!j)return"";let he="";const ve=i(j,te.GLOB_SPLIT);if(ve.every((j=>j===te.GLOBSTAR)))he=".*";else{let j=!1;ve.forEach(((Ce,ye)=>{if(Ce===te.GLOBSTAR)return void(j||(he+=t(2),j=!0));let Ee=!1,Ke="",je=!1,Ze="";for(const j of Ce)if("}"!==j&&Ee)Ke+=j;else if(!je||"]"===j&&Ze)switch(j){case"{":Ee=!0;continue;case"[":je=!0;continue;case"}":he+=`(?:${i(Ke,",").map((j=>n(j))).join("|")})`,Ee=!1,Ke="";break;case"]":he+="["+Ze+"]",je=!1,Ze="";break;case"?":he+=Oe;continue;case"*":he+=t(1);continue;default:he+=(0,Ie.escapeRegExpCharacters)(j)}else{let he;he="-"===j?j:"^"!==j&&"!"!==j||Ze?j===te.GLOB_SPLIT?"":(0,Ie.escapeRegExpCharacters)(j):"^",Ze+=he}ye<ve.length-1&&(ve[ye+1]!==te.GLOBSTAR||ye+2<ve.length)&&(he+=Ne),j=!1}))}return he}te.splitGlobAware=i;const je=/^\*\*\/\*\.[\w\.-]+$/,Ze=/^\*\*\/([\w\.-]+)\/?$/,Ye=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,et=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,nt=/^\*\*((\/[\w\.-]+)+)\/?$/,rt=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,at=new Ce.LRUCache(1e4),u=function(){return!1},f=function(){return null};function S(j,te){if(!j)return f;let he;he="string"!=typeof j?j.pattern:j,he=he.trim();const ve=`${he}_${!!te.trimForExclusions}`;let Ce,ye=at.get(ve);if(ye)return v(ye,j);if(je.test(he)){const j=he.substr(4);ye=function(te,ve){return"string"==typeof te&&te.endsWith(j)?he:null}}else ye=(Ce=Ze.exec(C(he,te)))?function _(j,te){const he=`/${j}`,ve=`\\${j}`,H=function(Ce,ye){return"string"!=typeof Ce?null:ye?ye===j?te:null:Ce===j||Ce.endsWith(he)||Ce.endsWith(ve)?te:null},Ce=[j];return H.basenames=Ce,H.patterns=[te],H.allBasenames=Ce,H}(Ce[1],he):(te.trimForExclusions?et:Ye).test(he)?function L(j,te){const he=R(j.slice(1,-1).split(",").map((j=>S(j,te))).filter((j=>j!==f)),j),ve=he.length;if(!ve)return f;if(1===ve)return he[0];const H=function(te,ve){for(let Ce=0,ye=he.length;Ce<ye;Ce++)if(he[Ce](te,ve))return j;return null},Ce=he.find((j=>!!j.allBasenames));Ce&&(H.allBasenames=Ce.allBasenames);const ye=he.reduce(((j,te)=>te.allPaths?j.concat(te.allPaths):j),[]);return ye.length&&(H.allPaths=ye),H}(he,te):(Ce=nt.exec(C(he,te)))?E(Ce[1].substr(1),he,!0):(Ce=rt.exec(C(he,te)))?E(Ce[1],he,!1):function N(j){try{const te=new RegExp(`^${n(j)}$`);return function(he){return te.lastIndex=0,"string"==typeof he&&te.test(he)?j:null}}catch{return f}}(he);return at.set(ve,ye),v(ye,j)}function v(j,te){return"string"==typeof te?j:function(he,Ce){return(0,ve.isEqualOrParent)(he,te.base,!Ee.isLinux)?j(he.substr(te.base.length+1),Ce):null}}function C(j,te){return te.trimForExclusions&&j.endsWith("/**")?j.substr(0,j.length-2):j}function E(j,te,he){const ve=ye.sep===ye.posix.sep,Ce=ve?j:j.replace(Ke,ye.sep),Ee=ye.sep+Ce,Ie=ye.posix.sep+j,Ne=he?function(he,ye){return"string"!=typeof he||he!==Ce&&!he.endsWith(Ee)&&(ve||he!==j&&!he.endsWith(Ie))?null:te}:function(he,ye){return"string"!=typeof he||he!==Ce&&(ve||he!==j)?null:te};return Ne.allPaths=[(he?"*/":"./")+j],Ne}function M(j,te={}){if(!j)return u;if("string"==typeof j||O(j)){const he=S(j,te);if(he===f)return u;const A=function(j,te){return!!he(j,te)};return he.allBasenames&&(A.allBasenames=he.allBasenames),he.allPaths&&(A.allPaths=he.allPaths),A}return function B(j,te){const ve=R(Object.getOwnPropertyNames(j).map((ve=>function T(j,te,ve){if(!1===te)return f;const Ce=S(j,ve);if(Ce===f)return f;if("boolean"==typeof te)return Ce;if(te){const ve=te.when;if("string"==typeof ve){const q=(te,ye,Ee,Ie)=>{if(!Ie||!Ce(te,ye))return null;const Ne=Ie(ve.replace("$(basename)",Ee));return(0,he.isThenable)(Ne)?Ne.then((te=>te?j:null)):Ne?j:null};return q.requiresSiblings=!0,q}}return Ce}(ve,j[ve],te))).filter((j=>j!==f))),Ce=ve.length;if(!Ce)return f;if(!ve.some((j=>!!j.requiresSiblings))){if(1===Ce)return ve[0];const G=function(j,te){for(let he=0,Ce=ve.length;he<Ce;he++){const Ce=ve[he](j,te);if(Ce)return Ce}return null},j=ve.find((j=>!!j.allBasenames));j&&(G.allBasenames=j.allBasenames);const te=ve.reduce(((j,te)=>te.allPaths?j.concat(te.allPaths):j),[]);return te.length&&(G.allPaths=te),G}const H=function(j,te,he){let Ce;for(let Ee=0,Ie=ve.length;Ee<Ie;Ee++){const Ie=ve[Ee];Ie.requiresSiblings&&he&&(te||(te=(0,ye.basename)(j)),Ce||(Ce=te.substr(0,te.length-(0,ye.extname)(j).length)));const Ne=Ie(j,te,Ce,he);if(Ne)return Ne}return null},Ee=ve.find((j=>!!j.allBasenames));Ee&&(H.allBasenames=Ee.allBasenames);const Ie=ve.reduce(((j,te)=>te.allPaths?j.concat(te.allPaths):j),[]);return Ie.length&&(H.allPaths=Ie),H}(j,te)}function O(j){const te=j;return!!te&&("string"==typeof te.base&&"string"==typeof te.pattern)}function R(j,te){const he=j.filter((j=>!!j.basenames));if(he.length<2)return j;const ve=he.reduce(((j,te)=>{const he=te.basenames;return he?j.concat(he):j}),[]);let Ce;if(te){Ce=[];for(let j=0,he=ve.length;j<he;j++)Ce.push(te)}else Ce=he.reduce(((j,te)=>{const he=te.patterns;return he?j.concat(he):j}),[]);const q=function(j,te){if("string"!=typeof j)return null;if(!te){let he;for(he=j.length;he>0;he--){const te=j.charCodeAt(he-1);if(47===te||92===te)break}te=j.substr(he)}const he=ve.indexOf(te);return-1!==he?Ce[he]:null};q.basenames=ve,q.patterns=Ce,q.allBasenames=ve;const ye=j.filter((j=>!j.basenames));return ye.push(q),ye}te.match=function k(j,te,he){return!(!j||"string"!=typeof te)&&M(j)(te,void 0,he)},te.parse=M,te.isRelativePattern=O})),define(Ce[95],ie([1,0,27,73,8]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.matchesFuzzyIconAware=te.parseLabelWithIcons=te.stripIcons=te.markdownEscapeEscapedIcons=te.escapeIcons=te.iconStartMarker=void 0,te.iconStartMarker="$(";const ye=new RegExp(`\\$\\(${he.CSSIcon.iconNameExpression}(?:${he.CSSIcon.iconModifierExpression})?\\)`,"g"),Ee=new RegExp(he.CSSIcon.iconNameCharacter),Ie=new RegExp(`(\\\\)?${ye.source}`,"g");te.escapeIcons=function p(j){return j.replace(Ie,((j,te)=>te?j:`\\${j}`))};const Ne=new RegExp(`\\\\${ye.source}`,"g");te.markdownEscapeEscapedIcons=function g(j){return j.replace(Ne,(j=>`\\${j}`))};const Oe=new RegExp(`(\\s)?(\\\\)?${ye.source}(\\s)?`,"g");te.stripIcons=function i(j){return-1===j.indexOf(te.iconStartMarker)?j:j.replace(Oe,((j,te,he,ve)=>he?j:te||ve||""))},te.parseLabelWithIcons=function n(j){const he=j.indexOf(te.iconStartMarker);return-1===he?{text:j}:function l(j,he){const ve=[];let Ce="";function d(j){if(j){Ce+=j;for(const te of j)ve.push(Ke)}}let ye,Ie,Ne=-1,Oe="",Ke=0,je=he;const Ze=j.length;for(d(j.substr(0,he));je<Ze;)ye=j[je],Ie=j[je+1],ye===te.iconStartMarker[0]&&Ie===te.iconStartMarker[1]?(Ne=je,d(Oe),Oe=te.iconStartMarker,je++):")"===ye&&-1!==Ne?(Ke+=je-Ne+1,Ne=-1,Oe=""):-1!==Ne?Ee.test(ye)?Oe+=ye:(d(Oe),Ne=-1,Oe=""):d(ye),je++;return d(Oe),{text:Ce,iconOffsets:ve}}(j,he)},te.matchesFuzzyIconAware=function c(j,te,he=!1){const{text:ye,iconOffsets:Ee}=te;if(!Ee||0===Ee.length)return(0,ve.matchesFuzzy)(j,ye,he);const Ie=(0,Ce.ltrim)(ye," "),Ne=ye.length-Ie.length,Oe=(0,ve.matchesFuzzy)(j,Ie,he);if(Oe)for(const j of Oe){const te=Ee[j.start+Ne]+Ne;j.start+=te,j.end+=te}return Oe}})),define(Ce[66],ie([1,0,13,95]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.parseHrefAndDimensions=te.removeMarkdownEscapes=te.escapeMarkdownSyntaxTokens=te.isMarkdownString=te.isEmptyMarkdownString=te.MarkdownString=void 0;class D{constructor(j="",te=!1){var ve,Ce,ye;if(this.value=j,"string"!=typeof this.value)throw(0,he.illegalArgument)("value");"boolean"==typeof te?(this.isTrusted=te,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(ve=te.isTrusted)&&void 0!==ve?ve:void 0,this.supportThemeIcons=null!==(Ce=te.supportThemeIcons)&&void 0!==Ce&&Ce,this.supportHtml=null!==(ye=te.supportHtml)&&void 0!==ye&&ye)}appendText(j,te=0){return this.value+=b(this.supportThemeIcons?(0,ve.escapeIcons)(j):j).replace(/([ \t]+)/g,((j,te)=>"&nbsp;".repeat(te.length))).replace(/\>/gm,"\\>").replace(/\n/g,1===te?"\\\n":"\n\n"),this}appendMarkdown(j){return this.value+=j,this}appendCodeblock(j,te){return this.value+="\n```",this.value+=j,this.value+="\n",this.value+=te,this.value+="\n```\n",this}}function w(j){return j instanceof D||!(!j||"object"!=typeof j)&&!("string"!=typeof j.value||"boolean"!=typeof j.isTrusted&&void 0!==j.isTrusted||"boolean"!=typeof j.supportThemeIcons&&void 0!==j.supportThemeIcons)}function b(j){return j.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}te.MarkdownString=D,te.isEmptyMarkdownString=function I(j){return w(j)?!j.value:!Array.isArray(j)||j.every(I)},te.isMarkdownString=w,te.escapeMarkdownSyntaxTokens=b,te.removeMarkdownEscapes=function p(j){return j&&j.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")},te.parseHrefAndDimensions=function h(j){const te=[],he=j.split("|").map((j=>j.trim()));j=he[0];const ve=he[1];if(ve){const j=/height=(\d+)/.exec(ve),he=/width=(\d+)/.exec(ve),Ce=j?j[1]:"",ye=he?he[1]:"",Ee=isFinite(parseInt(ye)),Ie=isFinite(parseInt(Ce));Ee&&te.push(`width="${ye}"`),Ie&&te.push(`height="${Ce}"`)}return{href:j,dimensions:te}}})),define(Ce[320],ie([1,0,8]),(function(j,te,he){function m(j,te){if(j&&""!==j[0]){const ve=D(j,te,"-"),Ce=D(j,te,"_");return ve&&!Ce?I(j,te,"-"):!ve&&Ce?I(j,te,"_"):j[0].toUpperCase()===j[0]?te.toUpperCase():j[0].toLowerCase()===j[0]?te.toLowerCase():he.containsUppercaseCharacter(j[0][0])&&te.length>0?te[0].toUpperCase()+te.substr(1):j[0][0].toUpperCase()!==j[0][0]&&te.length>0?te[0].toLowerCase()+te.substr(1):te}return te}function D(j,te,he){return-1!==j[0].indexOf(he)&&-1!==te.indexOf(he)&&j[0].split(he).length===te.split(he).length}function I(j,te,he){const ve=te.split(he),Ce=j[0].split(he);let ye="";return ve.forEach(((j,te)=>{ye+=m([Ce[te]],j)+he})),ye.slice(0,-1)}Object.defineProperty(te,"__esModule",{value:!0}),te.buildReplaceStringWithCasePreserved=void 0,te.buildReplaceStringWithCasePreserved=m})),define(Ce[74],ie([1,0,8]),(function(j,te,he){var ve,Ce;Object.defineProperty(te,"__esModule",{value:!0}),(Ce=ve||(ve={}))[Ce.Ignore=0]="Ignore",Ce[Ce.Info=1]="Info",Ce[Ce.Warning=2]="Warning",Ce[Ce.Error=3]="Error",function(j){const te="error",ve="warning",Ce="info";j.fromValue=function g(ye){return ye?he.equalsIgnoreCase(te,ye)?j.Error:he.equalsIgnoreCase(ve,ye)||he.equalsIgnoreCase("warn",ye)?j.Warning:he.equalsIgnoreCase(Ce,ye)?j.Info:j.Ignore:j.Ignore},j.toString=function t(he){switch(he){case j.Error:return te;case j.Warning:return ve;case j.Info:return Ce;default:return"ignore"}}}(ve||(ve={})),te.default=ve})),define(Ce[20],ie([1,0]),(function(j,te){function m(j){return"string"==typeof j}function b(j){return void 0===j}function h(j){return b(j)||null===j}function i(j){return"function"==typeof j}function l(j,te){if(m(te)){if(typeof j!==te)throw new Error(`argument does not match constraint: typeof ${te}`)}else if(i(te)){try{if(j instanceof te)return}catch{}if(!h(j)&&j.constructor===te||1===te.length&&!0===te.call(void 0,j))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function c(j){let te=[],he=Object.getPrototypeOf(j);for(;Object.prototype!==he;)te=te.concat(Object.getOwnPropertyNames(he)),he=Object.getPrototypeOf(he);return te}Object.defineProperty(te,"__esModule",{value:!0}),te.assertNever=te.withNullAsUndefined=te.createProxyObject=te.getAllMethodNames=te.getAllPropertyNames=te.validateConstraint=te.validateConstraints=te.isFunction=te.assertIsDefined=te.assertType=te.isUndefinedOrNull=te.isDefined=te.isUndefined=te.isBoolean=te.isNumber=te.isObject=te.isString=te.isArray=void 0,te.isArray=function y(j){return Array.isArray(j)},te.isString=m,te.isObject=function D(j){return!("object"!=typeof j||null===j||Array.isArray(j)||j instanceof RegExp||j instanceof Date)},te.isNumber=function I(j){return"number"==typeof j&&!isNaN(j)},te.isBoolean=function w(j){return!0===j||!1===j},te.isUndefined=b,te.isDefined=function p(j){return!h(j)},te.isUndefinedOrNull=h,te.assertType=function g(j,te){if(!j)throw new Error(te?`Unexpected type, expected '${te}'`:"Unexpected type")},te.assertIsDefined=function t(j){if(h(j))throw new Error("Assertion Failed: argument is undefined or null");return j},te.isFunction=i,te.validateConstraints=function n(j,te){const he=Math.min(j.length,te.length);for(let ve=0;ve<he;ve++)l(j[ve],te[ve])},te.validateConstraint=l,te.getAllPropertyNames=c,te.getAllMethodNames=function r(j){const te=[];for(const he of c(j))"function"==typeof j[he]&&te.push(he);return te},te.createProxyObject=function s(j,te){const f=j=>function(){const he=Array.prototype.slice.call(arguments,0);return te(j,he)};let he={};for(const te of j)he[te]=f(te);return he},te.withNullAsUndefined=function o(j){return null===j?void 0:j},te.assertNever=function a(j,te="Unreachable"){throw new Error(te)}})),define(Ce[39],ie([1,0,20]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.getOrDefault=te.equals=te.mixin=te.cloneAndChange=te.deepFreeze=te.deepClone=void 0,te.deepClone=function m(j){if(!j||"object"!=typeof j||j instanceof RegExp)return j;const te=Array.isArray(j)?[]:{};return Object.keys(j).forEach((he=>{j[he]&&"object"==typeof j[he]?te[he]=m(j[he]):te[he]=j[he]})),te},te.deepFreeze=function D(j){if(!j||"object"!=typeof j)return j;const te=[j];for(;te.length>0;){const j=te.shift();Object.freeze(j);for(const he in j)if(ve.call(j,he)){const ve=j[he];"object"==typeof ve&&!Object.isFrozen(ve)&&te.push(ve)}}return j};const ve=Object.prototype.hasOwnProperty;function b(j,te,Ce){if((0,he.isUndefinedOrNull)(j))return j;const ye=te(j);if(void 0!==ye)return ye;if((0,he.isArray)(j)){const he=[];for(const ve of j)he.push(b(ve,te,Ce));return he}if((0,he.isObject)(j)){if(Ce.has(j))throw new Error("Cannot clone recursive data-structure");Ce.add(j);const he={};for(let ye in j)ve.call(j,ye)&&(he[ye]=b(j[ye],te,Ce));return Ce.delete(j),he}return j}te.cloneAndChange=function w(j,te){return b(j,te,new Set)},te.mixin=function p(j,te,ve=!0){return(0,he.isObject)(j)?((0,he.isObject)(te)&&Object.keys(te).forEach((Ce=>{Ce in j?ve&&((0,he.isObject)(j[Ce])&&(0,he.isObject)(te[Ce])?p(j[Ce],te[Ce],ve):j[Ce]=te[Ce]):j[Ce]=te[Ce]})),j):te},te.equals=function h(j,te){if(j===te)return!0;if(null==j||null==te||typeof j!=typeof te||"object"!=typeof j||Array.isArray(j)!==Array.isArray(te))return!1;let he,ve;if(Array.isArray(j)){if(j.length!==te.length)return!1;for(he=0;he<j.length;he++)if(!h(j[he],te[he]))return!1}else{const Ce=[];for(ve in j)Ce.push(ve);Ce.sort();const ye=[];for(ve in te)ye.push(ve);if(ye.sort(),!h(Ce,ye))return!1;for(he=0;he<Ce.length;he++)if(!h(j[Ce[he]],te[Ce[he]]))return!1}return!0},te.getOrDefault=function g(j,te,he){const ve=te(j);return void 0===ve?he:ve}})),define(Ce[139],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.toUint32=te.toUint8=void 0,te.toUint8=function y(j){return j<0?0:j>255?255:0|j},te.toUint32=function m(j){return j<0?0:j>4294967295?4294967295:0|j}})),define(Ce[25],ie([1,0,82,17]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.uriToFsPath=te.URI=void 0;const Ce=/^\w[\w\d+.-]*$/,ye=/^\//,Ee=/^\/\//;function b(j,te){if(!j.scheme&&te)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${j.authority}", path: "${j.path}", query: "${j.query}", fragment: "${j.fragment}"}`);if(j.scheme&&!Ce.test(j.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(j.path)if(j.authority){if(!ye.test(j.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Ee.test(j.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const Ie="",Ne="/",Oe=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class n{constructor(j,te,he,ve,Ce,ye=!1){"object"==typeof j?(this.scheme=j.scheme||Ie,this.authority=j.authority||Ie,this.path=j.path||Ie,this.query=j.query||Ie,this.fragment=j.fragment||Ie):(this.scheme=function p(j,te){return j||te?j:"file"}(j,ye),this.authority=te||Ie,this.path=function h(j,te){switch(j){case"https":case"http":case"file":te?te[0]!==Ne&&(te=Ne+te):te=Ne}return te}(this.scheme,he||Ie),this.query=ve||Ie,this.fragment=Ce||Ie,b(this,ye))}static isUri(j){return j instanceof n||!!j&&("string"==typeof j.authority&&"string"==typeof j.fragment&&"string"==typeof j.path&&"string"==typeof j.query&&"string"==typeof j.scheme&&"string"==typeof j.fsPath&&"function"==typeof j.with&&"function"==typeof j.toString)}get fsPath(){return a(this,!1)}with(j){if(!j)return this;let{scheme:te,authority:he,path:ve,query:Ce,fragment:ye}=j;return void 0===te?te=this.scheme:null===te&&(te=Ie),void 0===he?he=this.authority:null===he&&(he=Ie),void 0===ve?ve=this.path:null===ve&&(ve=Ie),void 0===Ce?Ce=this.query:null===Ce&&(Ce=Ie),void 0===ye?ye=this.fragment:null===ye&&(ye=Ie),te===this.scheme&&he===this.authority&&ve===this.path&&Ce===this.query&&ye===this.fragment?this:new c(te,he,ve,Ce,ye)}static parse(j,te=!1){const he=Oe.exec(j);return he?new c(he[2]||Ie,S(he[4]||Ie),S(he[5]||Ie),S(he[7]||Ie),S(he[9]||Ie),te):new c(Ie,Ie,Ie,Ie,Ie)}static file(j){let te=Ie;if(ve.isWindows&&(j=j.replace(/\\/g,Ne)),j[0]===Ne&&j[1]===Ne){const he=j.indexOf(Ne,2);-1===he?(te=j.substring(2),j=Ne):(te=j.substring(2,he),j=j.substring(he)||Ne)}return new c("file",te,j,Ie,Ie)}static from(j){const te=new c(j.scheme,j.authority,j.path,j.query,j.fragment);return b(te,!0),te}static joinPath(j,...te){if(!j.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let Ce;return Ce=ve.isWindows&&"file"===j.scheme?n.file(he.win32.join(a(j,!0),...te)).path:he.posix.join(j.path,...te),j.with({path:Ce})}toString(j=!1){return d(this,j)}toJSON(){return this}static revive(j){if(j){if(j instanceof n)return j;{const te=new c(j);return te._formatted=j.external,te._fsPath=j._sep===Ke?j.fsPath:null,te}}return j}}te.URI=n;const Ke=ve.isWindows?1:void 0;class c extends n{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=a(this,!1)),this._fsPath}toString(j=!1){return j?d(this,!0):(this._formatted||(this._formatted=d(this,!1)),this._formatted)}toJSON(){const j={$mid:1};return this._fsPath&&(j.fsPath=this._fsPath,j._sep=Ke),this._formatted&&(j.external=this._formatted),this.path&&(j.path=this.path),this.scheme&&(j.scheme=this.scheme),this.authority&&(j.authority=this.authority),this.query&&(j.query=this.query),this.fragment&&(j.fragment=this.fragment),j}}const je={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function s(j,te){let he,ve=-1;for(let Ce=0;Ce<j.length;Ce++){const ye=j.charCodeAt(Ce);if(ye>=97&&ye<=122||ye>=65&&ye<=90||ye>=48&&ye<=57||45===ye||46===ye||95===ye||126===ye||te&&47===ye)-1!==ve&&(he+=encodeURIComponent(j.substring(ve,Ce)),ve=-1),void 0!==he&&(he+=j.charAt(Ce));else{void 0===he&&(he=j.substr(0,Ce));const te=je[ye];void 0!==te?(-1!==ve&&(he+=encodeURIComponent(j.substring(ve,Ce)),ve=-1),he+=te):-1===ve&&(ve=Ce)}}return-1!==ve&&(he+=encodeURIComponent(j.substring(ve))),void 0!==he?he:j}function o(j){let te;for(let he=0;he<j.length;he++){const ve=j.charCodeAt(he);35===ve||63===ve?(void 0===te&&(te=j.substr(0,he)),te+=je[ve]):void 0!==te&&(te+=j[he])}return void 0!==te?te:j}function a(j,te){let he;return he=j.authority&&j.path.length>1&&"file"===j.scheme?`//${j.authority}${j.path}`:47===j.path.charCodeAt(0)&&(j.path.charCodeAt(1)>=65&&j.path.charCodeAt(1)<=90||j.path.charCodeAt(1)>=97&&j.path.charCodeAt(1)<=122)&&58===j.path.charCodeAt(2)?te?j.path.substr(1):j.path[1].toLowerCase()+j.path.substr(2):j.path,ve.isWindows&&(he=he.replace(/\//g,"\\")),he}function d(j,te){const he=te?o:s;let ve="",{scheme:Ce,authority:ye,path:Ee,query:Ie,fragment:Oe}=j;if(Ce&&(ve+=Ce,ve+=":"),(ye||"file"===Ce)&&(ve+=Ne,ve+=Ne),ye){let j=ye.indexOf("@");if(-1!==j){const te=ye.substr(0,j);ye=ye.substr(j+1),j=te.indexOf(":"),-1===j?ve+=he(te,!1):(ve+=he(te.substr(0,j),!1),ve+=":",ve+=he(te.substr(j+1),!1)),ve+="@"}ye=ye.toLowerCase(),j=ye.indexOf(":"),-1===j?ve+=he(ye,!1):(ve+=he(ye.substr(0,j),!1),ve+=ye.substr(j))}if(Ee){if(Ee.length>=3&&47===Ee.charCodeAt(0)&&58===Ee.charCodeAt(2)){const j=Ee.charCodeAt(1);j>=65&&j<=90&&(Ee=`/${String.fromCharCode(j+32)}:${Ee.substr(3)}`)}else if(Ee.length>=2&&58===Ee.charCodeAt(1)){const j=Ee.charCodeAt(0);j>=65&&j<=90&&(Ee=`${String.fromCharCode(j+32)}:${Ee.substr(2)}`)}ve+=he(Ee,!0)}return Ie&&(ve+="?",ve+=he(Ie,!1)),Oe&&(ve+="#",ve+=te?Oe:s(Oe,!1)),ve}function u(j){try{return decodeURIComponent(j)}catch{return j.length>3?j.substr(0,3)+u(j.substr(3)):j}}te.uriToFsPath=a;const Ze=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(j){return j.match(Ze)?j.replace(Ze,(j=>u(j))):j}})),define(Ce[216],ie([1,0,110,25]),(function(j,te,he,ve){function I(j,te=0){if(!j||te>200)return j;if("object"==typeof j){switch(j.$mid){case 1:return ve.URI.revive(j);case 2:return new RegExp(j.source,j.flags);case 14:return new Date(j.source)}if(j instanceof he.VSBuffer||j instanceof Uint8Array)return j;if(Array.isArray(j))for(let he=0;he<j.length;++he)j[he]=I(j[he],te+1);else for(const he in j)Object.hasOwnProperty.call(j,he)&&(j[he]=I(j[he],te+1))}return j}Object.defineProperty(te,"__esModule",{value:!0}),te.revive=te.parse=void 0,te.parse=function D(j){let te=JSON.parse(j);return te=I(te),te},te.revive=I})),define(Ce[48],ie([1,0,17,25]),(function(j,te,he,ve){var Ce,ye;Object.defineProperty(te,"__esModule",{value:!0}),te.FileAccess=te.RemoteAuthorities=te.connectionTokenQueryName=te.Schemas=void 0,(ye=Ce=te.Schemas||(te.Schemas={})).inMemory="inmemory",ye.vscode="vscode",ye.internal="private",ye.walkThrough="walkThrough",ye.walkThroughSnippet="walkThroughSnippet",ye.http="http",ye.https="https",ye.file="file",ye.mailto="mailto",ye.untitled="untitled",ye.data="data",ye.command="command",ye.vscodeRemote="vscode-remote",ye.vscodeRemoteResource="vscode-remote-resource",ye.userData="vscode-userdata",ye.vscodeCustomEditor="vscode-custom-editor",ye.vscodeNotebook="vscode-notebook",ye.vscodeNotebookCell="vscode-notebook-cell",ye.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",ye.vscodeNotebookCellOutput="vscode-notebook-cell-output",ye.vscodeInteractive="vscode-interactive",ye.vscodeInteractiveInput="vscode-interactive-input",ye.vscodeSettings="vscode-settings",ye.vscodeWorkspaceTrust="vscode-workspace-trust",ye.vscodeTerminal="vscode-terminal",ye.webviewPanel="webview-panel",ye.vscodeWebview="vscode-webview",ye.extension="extension",ye.vscodeFileResource="vscode-file",ye.tmp="tmp",ye.vsls="vsls",te.connectionTokenQueryName="tkn";te.RemoteAuthorities=new class I{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(j){this._preferredWebSchema=j}rewrite(j){if(this._delegate)return this._delegate(j);const ye=j.authority;let Ee=this._hosts[ye];Ee&&-1!==Ee.indexOf(":")&&(Ee=`[${Ee}]`);const Ie=this._ports[ye],Ne=this._connectionTokens[ye];let Oe=`path=${encodeURIComponent(j.path)}`;return"string"==typeof Ne&&(Oe+=`&${te.connectionTokenQueryName}=${encodeURIComponent(Ne)}`),ve.URI.from({scheme:he.isWeb?this._preferredWebSchema:Ce.vscodeRemoteResource,authority:`${Ee}:${Ie}`,path:"/vscode-remote-resource",query:Oe})}};class w{asBrowserUri(j,ve){const ye=this.toUri(j,ve);return ye.scheme===Ce.vscodeRemote?te.RemoteAuthorities.rewrite(ye):ye.scheme===Ce.file&&(he.isNative||"function"==typeof he.globals.importScripts&&he.globals.origin===`${Ce.vscodeFileResource}://${w.FALLBACK_AUTHORITY}`)?ye.with({scheme:Ce.vscodeFileResource,authority:ye.authority||w.FALLBACK_AUTHORITY,query:null,fragment:null}):ye}toUri(j,te){return ve.URI.isUri(j)?j:ve.URI.parse(te.toUrl(j))}}w.FALLBACK_AUTHORITY="vscode-app",te.FileAccess=new w})),define(Ce[7],ie([1,0,34,165,46,56,10,13,4,2,48,17]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){Object.defineProperty(te,"__esModule",{value:!0}),te.addMatchMediaChangeListener=te.ModifierKeyEmitter=te.asCSSPropertyValue=te.asCSSUrl=te.animate=te.windowOpenNoOpener=te.computeScreenAwareSize=te.getElementsByTagName=te.hide=te.show=te.$=te.Namespace=te.reset=te.prepend=te.append=te.trackFocus=te.restoreParentsScrollTop=te.saveParentsScrollTop=te.EventHelper=te.EventType=te.isHTMLElement=te.removeCSSRulesContainingSelector=te.createCSSRule=te.createStyleSheet=te.getActiveElement=te.getShadowRoot=te.isInShadowDOM=te.isShadowRoot=te.hasParentWithClass=te.findParentWithClass=te.isAncestor=te.getTotalHeight=te.getContentHeight=te.getContentWidth=te.getTotalWidth=te.StandardWindow=te.getDomNodePagePosition=te.size=te.getTopLeftOffset=te.Dimension=te.getClientArea=te.getComputedStyle=te.addDisposableThrottledListener=te.scheduleAtNextAnimationFrame=te.runAtThisOrScheduleAtNextAnimationFrame=te.createEventEmitter=te.addDisposableNonBubblingPointerOutListener=te.addDisposableNonBubblingMouseOutListener=te.addDisposableGenericMouseUpListner=te.addDisposableGenericMouseDownListner=te.addStandardDisposableGenericMouseUpListner=te.addStandardDisposableGenericMouseDownListner=te.addStandardDisposableListener=te.addDisposableListener=te.isInDOM=te.clearNode=void 0,te.clearNode=function i(j){for(;j.firstChild;)j.firstChild.remove()},te.isInDOM=function n(j){var te;return null!==(te=null==j?void 0:j.isConnected)&&void 0!==te&&te};class l{constructor(j,te,he,ve){this._node=j,this._type=te,this._handler=he,this._options=ve||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function c(j,te,he,ve){return new l(j,te,he,ve)}function r(j){return function(te){return j(new ye.StandardMouseEvent(te))}}te.addDisposableListener=c;te.addStandardDisposableListener=function(j,te,he,ve){let ye=he;return"click"===te||"mousedown"===te?ye=r(he):("keydown"===te||"keypress"===te||"keyup"===te)&&(ye=function s(j){return function(te){return j(new Ce.StandardKeyboardEvent(te))}}(he)),c(j,te,ye,ve)};te.addStandardDisposableGenericMouseDownListner=function(j,te,he){return u(j,r(te),he)};function u(j,he,Ce){return c(j,je.isIOS&&ve.BrowserFeatures.pointerEvents?te.EventType.POINTER_DOWN:te.EventType.MOUSE_DOWN,he,Ce)}function f(j,he,Ce){return c(j,je.isIOS&&ve.BrowserFeatures.pointerEvents?te.EventType.POINTER_UP:te.EventType.MOUSE_UP,he,Ce)}te.addStandardDisposableGenericMouseUpListner=function(j,te,he){return f(j,r(te),he)},te.addDisposableGenericMouseDownListner=u,te.addDisposableGenericMouseUpListner=f,te.addDisposableNonBubblingMouseOutListener=function S(j,te){return c(j,"mouseout",(he=>{let ve=he.relatedTarget;for(;ve&&ve!==j;)ve=ve.parentNode;ve!==j&&te(he)}))},te.addDisposableNonBubblingPointerOutListener=function v(j,te){return c(j,"pointerout",(he=>{let ve=he.relatedTarget;for(;ve&&ve!==j;)ve=ve.parentNode;ve!==j&&te(he)}))},te.createEventEmitter=function C(j,te,he){let ve=null;const Fe=j=>Ce.fire(j),Ce=new Ne.Emitter({onFirstListenerAdd:()=>{ve||(ve=new l(j,te,Fe,he))},onLastListenerRemove:()=>{ve&&(ve.dispose(),ve=null)}});return Ce};let Ze=null;class E{constructor(j,te=0){this._runner=j,this.priority=te,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(j){(0,Ie.onUnexpectedError)(j)}}static sort(j,te){return te.priority-j.priority}}!function(){let j=[],he=null,ve=!1,Ce=!1,Fe=()=>{for(ve=!1,he=j,j=[],Ce=!0;he.length>0;)he.sort(E.sort),he.shift().execute();Ce=!1};te.scheduleAtNextAnimationFrame=(te,he=0)=>{let Ce=new E(te,he);return j.push(Ce),ve||(ve=!0,function L(j){if(!Ze){const Se=j=>setTimeout((()=>j((new Date).getTime())),0);Ze=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Se}return Ze.call(self,j)}(Fe)),Ce},te.runAtThisOrScheduleAtNextAnimationFrame=(j,ve)=>{if(Ce){let te=new E(j,ve);return he.push(te),te}return(0,te.scheduleAtNextAnimationFrame)(j,ve)}}();const k=function(j,te){return te};class M extends Oe.Disposable{constructor(j,te,he,ve=k,Ce=8){super();let ye=null,Ie=0,Ne=this._register(new Ee.TimeoutTimer),tt=()=>{Ie=(new Date).getTime(),he(ye),ye=null};this._register(c(j,te,(j=>{ye=ve(ye,j);let te=(new Date).getTime()-Ie;te>=Ce?(Ne.cancel(),tt()):Ne.setIfNotSet(tt,Ce-te)})))}}function B(j){return document.defaultView.getComputedStyle(j,null)}te.addDisposableThrottledListener=function O(j,te,he,ve,Ce){return new M(j,te,he,ve,Ce)},te.getComputedStyle=B,te.getClientArea=function T(j){if(j!==document.body)return new P(j.clientWidth,j.clientHeight);if(je.isIOS&&window.visualViewport)return new P(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new P(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new P(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new P(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")};class R{static convertToPixels(j,te){return parseFloat(te)||0}static getDimension(j,te,he){let ve=B(j),Ce="0";return ve&&(Ce=ve.getPropertyValue?ve.getPropertyValue(te):ve.getAttribute(he)),R.convertToPixels(j,Ce)}static getBorderLeftWidth(j){return R.getDimension(j,"border-left-width","borderLeftWidth")}static getBorderRightWidth(j){return R.getDimension(j,"border-right-width","borderRightWidth")}static getBorderTopWidth(j){return R.getDimension(j,"border-top-width","borderTopWidth")}static getBorderBottomWidth(j){return R.getDimension(j,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(j){return R.getDimension(j,"padding-left","paddingLeft")}static getPaddingRight(j){return R.getDimension(j,"padding-right","paddingRight")}static getPaddingTop(j){return R.getDimension(j,"padding-top","paddingTop")}static getPaddingBottom(j){return R.getDimension(j,"padding-bottom","paddingBottom")}static getMarginLeft(j){return R.getDimension(j,"margin-left","marginLeft")}static getMarginTop(j){return R.getDimension(j,"margin-top","marginTop")}static getMarginRight(j){return R.getDimension(j,"margin-right","marginRight")}static getMarginBottom(j){return R.getDimension(j,"margin-bottom","marginBottom")}}class P{constructor(j,te){this.width=j,this.height=te}with(j=this.width,te=this.height){return j!==this.width||te!==this.height?new P(j,te):this}static is(j){return"object"==typeof j&&"number"==typeof j.height&&"number"==typeof j.width}static lift(j){return j instanceof P?j:new P(j.width,j.height)}static equals(j,te){return j===te||!(!j||!te)&&(j.width===te.width&&j.height===te.height)}}function re(j,te){for(;j;){if(j===te)return!0;j=j.parentNode}return!1}function ae(j,te,he){for(;j&&j.nodeType===j.ELEMENT_NODE;){if(j.classList.contains(te))return j;if(he)if("string"==typeof he){if(j.classList.contains(he))return null}else if(j===he)return null;j=j.parentNode}return null}function Z(j){return j&&!!j.host&&!!j.mode}function U(j){for(;j.parentNode;){if(j===document.body)return null;j=j.parentNode}return Z(j)?j:null}function ne(j=document.getElementsByTagName("head")[0]){let te=document.createElement("style");return te.type="text/css",te.media="screen",j.appendChild(te),te}te.Dimension=P,P.None=new P(0,0),te.getTopLeftOffset=function F(j){let te=j.offsetParent,he=j.offsetTop,ve=j.offsetLeft;for(;null!==(j=j.parentNode)&&j!==document.body&&j!==document.documentElement;){he-=j.scrollTop;const Ce=Z(j)?null:B(j);Ce&&(ve-="rtl"!==Ce.direction?j.scrollLeft:-j.scrollLeft),j===te&&(ve+=R.getBorderLeftWidth(j),he+=R.getBorderTopWidth(j),he+=j.offsetTop,ve+=j.offsetLeft,te=j.offsetParent)}return{left:ve,top:he}},te.size=function W(j,te,he){"number"==typeof te&&(j.style.width=`${te}px`),"number"==typeof he&&(j.style.height=`${he}px`)},te.getDomNodePagePosition=function A(j){let he=j.getBoundingClientRect();return{left:he.left+te.StandardWindow.scrollX,top:he.top+te.StandardWindow.scrollY,width:he.width,height:he.height}},te.StandardWindow=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}},te.getTotalWidth=function H(j){let te=R.getMarginLeft(j)+R.getMarginRight(j);return j.offsetWidth+te},te.getContentWidth=function q(j){let te=R.getBorderLeftWidth(j)+R.getBorderRightWidth(j),he=R.getPaddingLeft(j)+R.getPaddingRight(j);return j.offsetWidth-te-he},te.getContentHeight=function X(j){let te=R.getBorderTopWidth(j)+R.getBorderBottomWidth(j),he=R.getPaddingTop(j)+R.getPaddingBottom(j);return j.offsetHeight-te-he},te.getTotalHeight=function G(j){let te=R.getMarginTop(j)+R.getMarginBottom(j);return j.offsetHeight+te},te.isAncestor=re,te.findParentWithClass=ae,te.hasParentWithClass=function oe(j,te,he){return!!ae(j,te,he)},te.isShadowRoot=Z,te.isInShadowDOM=function x(j){return!!U(j)},te.getShadowRoot=U,te.getActiveElement=function Q(){let j=document.activeElement;for(;null==j?void 0:j.shadowRoot;)j=j.shadowRoot.activeElement;return j},te.createStyleSheet=ne;let Ye=null;function ee(){return Ye||(Ye=ne()),Ye}te.createCSSRule=function z(j,te,he=ee()){!he||!te||he.sheet.insertRule(j+"{"+te+"}",0)},te.removeCSSRulesContainingSelector=function V(j,te=ee()){if(!te)return;let he=function ue(j){var te,he;return(null===(te=null==j?void 0:j.sheet)||void 0===te?void 0:te.rules)?j.sheet.rules:(null===(he=null==j?void 0:j.sheet)||void 0===he?void 0:he.cssRules)?j.sheet.cssRules:[]}(te),ve=[];for(let te=0;te<he.length;te++)-1!==he[te].selectorText.indexOf(j)&&ve.push(te);for(let j=ve.length-1;j>=0;j--)te.sheet.deleteRule(ve[j])},te.isHTMLElement=function $(j){return"object"==typeof HTMLElement?j instanceof HTMLElement:j&&"object"==typeof j&&1===j.nodeType&&"string"==typeof j.nodeName},te.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:he.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:he.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:he.isWebKit?"webkitAnimationIteration":"animationiteration"},te.EventHelper={stop:function(j,te){j.preventDefault?j.preventDefault():j.returnValue=!1,te&&(j.stopPropagation?j.stopPropagation():j.cancelBubble=!0)}},te.saveParentsScrollTop=function K(j){let te=[];for(let he=0;j&&j.nodeType===j.ELEMENT_NODE;he++)te[he]=j.scrollTop,j=j.parentNode;return te},te.restoreParentsScrollTop=function J(j,te){for(let he=0;j&&j.nodeType===j.ELEMENT_NODE;he++)j.scrollTop!==te[he]&&(j.scrollTop=te[he]),j=j.parentNode};class Y extends Oe.Disposable{constructor(j){super(),this._onDidFocus=this._register(new Ne.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new Ne.Emitter),this.onDidBlur=this._onDidBlur.event;let he=Y.hasFocusWithin(j),ve=!1;const Fe=()=>{ve=!1,he||(he=!0,this._onDidFocus.fire())},xe=()=>{he&&(ve=!0,window.setTimeout((()=>{ve&&(ve=!1,he=!1,this._onDidBlur.fire())}),0))};this._refreshStateHandler=()=>{Y.hasFocusWithin(j)!==he&&(he?xe():Fe())},this._register(c(j,te.EventType.FOCUS,Fe,!0)),this._register(c(j,te.EventType.BLUR,xe,!0)),this._register(c(j,te.EventType.FOCUS_IN,(()=>this._refreshStateHandler()))),this._register(c(j,te.EventType.FOCUS_OUT,(()=>this._refreshStateHandler())))}static hasFocusWithin(j){const te=U(j);return re(te?te.activeElement:document.activeElement,j)}}function ge(j,...te){if(j.append(...te),1===te.length&&"string"!=typeof te[0])return te[0]}te.trackFocus=function se(j){return new Y(j)},te.append=ge,te.prepend=function me(j,te){return j.insertBefore(te,j.firstChild),te},te.reset=function le(j,...te){j.innerText="",ge(j,...te)};const et=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var nt,rt;function pe(j,te,he,...ve){let Ce=et.exec(te);if(!Ce)throw new Error("Bad use of emmet");he=Object.assign({},he||{});let ye,Ee=Ce[1]||"div";return ye=j!==nt.HTML?document.createElementNS(j,Ee):document.createElement(Ee),Ce[3]&&(ye.id=Ce[3]),Ce[4]&&(ye.className=Ce[4].replace(/\./g," ").trim()),Object.keys(he).forEach((j=>{const te=he[j];void 0!==te&&(/^on\w+$/.test(j)?ye[j]=te:"selected"===j?te&&ye.setAttribute(j,"true"):ye.setAttribute(j,te))})),ye.append(...ve),ye}function be(j,te,...he){return pe(nt.HTML,j,te,...he)}(rt=nt=te.Namespace||(te.Namespace={})).HTML="http://www.w3.org/1999/xhtml",rt.SVG="http://www.w3.org/2000/svg",te.$=be,be.SVG=function(j,te,...he){return pe(nt.SVG,j,te,...he)},te.show=function de(...j){for(let te of j)te.style.display="",te.removeAttribute("aria-hidden")},te.hide=function fe(...j){for(let te of j)te.style.display="none",te.setAttribute("aria-hidden","true")},te.getElementsByTagName=function _e(j){return Array.prototype.slice.call(document.getElementsByTagName(j),0)},te.computeScreenAwareSize=function Le(j){const te=window.devicePixelRatio*j;return Math.max(1,Math.floor(te))/window.devicePixelRatio},te.windowOpenNoOpener=function Te(j){window.open(j,"_blank","noopener")},te.animate=function ke(j){const Se=()=>{j(),he=(0,te.scheduleAtNextAnimationFrame)(Se)};let he=(0,te.scheduleAtNextAnimationFrame)(Se);return(0,Oe.toDisposable)((()=>he.dispose()))},Ke.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http"),te.asCSSUrl=function Me(j){return j?`url('${Ke.FileAccess.asBrowserUri(j).toString(!0).replace(/'/g,"%27")}')`:"url('')"},te.asCSSPropertyValue=function $e(j){return`'${j.replace(/'/g,"%27")}'`};class He extends Ne.Emitter{constructor(){super(),this._subscriptions=new Oe.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(c(window,"keydown",(j=>{if(j.defaultPrevented)return;const te=new Ce.StandardKeyboardEvent(j);if(6!==te.keyCode||!j.repeat){if(j.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(j.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(j.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(j.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===te.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=j.altKey,this._keyStatus.ctrlKey=j.ctrlKey,this._keyStatus.metaKey=j.metaKey,this._keyStatus.shiftKey=j.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=j,this.fire(this._keyStatus))}}),!0)),this._subscriptions.add(c(window,"keyup",(j=>{j.defaultPrevented||(!j.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!j.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!j.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!j.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=j.altKey,this._keyStatus.ctrlKey=j.ctrlKey,this._keyStatus.metaKey=j.metaKey,this._keyStatus.shiftKey=j.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=j,this.fire(this._keyStatus)))}),!0)),this._subscriptions.add(c(document.body,"mousedown",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),this._subscriptions.add(c(document.body,"mouseup",(()=>{this._keyStatus.lastKeyPressed=void 0}),!0)),this._subscriptions.add(c(document.body,"mousemove",(j=>{j.buttons&&(this._keyStatus.lastKeyPressed=void 0)}),!0)),this._subscriptions.add(c(window,"blur",(()=>{this.resetKeyStatus()})))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return He.instance||(He.instance=new He),He.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}te.ModifierKeyEmitter=He,te.addMatchMediaChangeListener=function Ge(j,te){window.matchMedia(j).addEventListener("change",te)}})),define(Ce[169],ie([1,0,7]),(function(j,te,he){function I(j){const te=j.inline?"span":"div",he=document.createElement(te);return j.className&&(he.className=j.className),he}Object.defineProperty(te,"__esModule",{value:!0}),te.createElement=te.renderFormattedText=te.renderText=void 0,te.renderText=function m(j,te={}){const he=I(te);return he.textContent=j,he},te.renderFormattedText=function D(j,te={}){const he=I(te);return b(he,function p(j,te){const he={type:1,children:[]};let ve=0,Ce=he;const ye=[],Ee=new w(j);for(;!Ee.eos();){let j=Ee.next();const he="\\"===j&&0!==g(Ee.peek(),te);if(he&&(j=Ee.next()),!he&&h(j,te)&&j===Ee.peek()){Ee.advance(),2===Ce.type&&(Ce=ye.pop());const he=g(j,te);if(Ce.type===he||5===Ce.type&&6===he)Ce=ye.pop();else{const j={type:he,children:[]};5===he&&(j.index=ve,ve++),Ce.children.push(j),ye.push(Ce),Ce=j}}else if("\n"===j)2===Ce.type&&(Ce=ye.pop()),Ce.children.push({type:8});else if(2!==Ce.type){const te={type:2,content:j};Ce.children.push(te),ye.push(Ce),Ce=te}else Ce.content+=j}return 2===Ce.type&&(Ce=ye.pop()),ye.length,he}(j,!!te.renderCodeSegments),te.actionHandler,te.renderCodeSegments),he},te.createElement=I;class w{constructor(j){this.source=j,this.index=0}eos(){return this.index>=this.source.length}next(){const j=this.peek();return this.advance(),j}peek(){return this.source[this.index]}advance(){this.index++}}function b(j,te,ve,Ce){let ye;if(2===te.type)ye=document.createTextNode(te.content||"");else if(3===te.type)ye=document.createElement("b");else if(4===te.type)ye=document.createElement("i");else if(7===te.type&&Ce)ye=document.createElement("code");else if(5===te.type&&ve){const j=document.createElement("a");ve.disposables.add(he.addStandardDisposableListener(j,"click",(j=>{ve.callback(String(te.index),j)}))),ye=j}else 8===te.type?ye=document.createElement("br"):1===te.type&&(ye=j);ye&&j!==ye&&j.appendChild(ye),ye&&Array.isArray(te.children)&&te.children.forEach((j=>{b(ye,j,ve,Ce)}))}function h(j,te){return 0!==g(j,te)}function g(j,te){switch(j){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return te?7:0;default:return 0}}})),define(Ce[96],ie([1,0,7,211,56,2,17]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.GlobalMouseMoveMonitor=te.standardMouseMoveMerger=void 0,te.standardMouseMoveMerger=function b(j,te){let he=new Ce.StandardMouseEvent(te);return he.preventDefault(),{leftButton:he.leftButton,buttons:he.buttons,posx:he.posx,posy:he.posy}};te.GlobalMouseMoveMonitor=class p{constructor(){this._hooks=new ye.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(j,te){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const he=this._onStopCallback;this._onStopCallback=null,j&&he&&he(te)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(j,te,ye,Ie,Ne){if(this.isMonitoring())return;this._mouseMoveEventMerger=ye,this._mouseMoveCallback=Ie,this._onStopCallback=Ne;const Oe=ve.IframeUtils.getSameOriginWindowChain(),Ke=Ee.isIOS?"pointermove":"mousemove",je=Oe.map((j=>j.window.document)),Ze=he.getShadowRoot(j);Ze&&je.unshift(Ze);for(const j of je)this._hooks.add(he.addDisposableThrottledListener(j,Ke,(j=>{j.buttons===te?this._mouseMoveCallback(j):this.stopMonitoring(!0)}),((j,te)=>this._mouseMoveEventMerger(j,te)))),this._hooks.add(he.addDisposableListener(j,"mouseup",(j=>this.stopMonitoring(!0))));if(ve.IframeUtils.hasDifferentOriginAncestor()){let j=Oe[Oe.length-1];this._hooks.add(he.addDisposableListener(j.window.document,"mouseout",(j=>{"html"===new Ce.StandardMouseEvent(j).target.tagName.toLowerCase()&&this.stopMonitoring(!0)}))),this._hooks.add(he.addDisposableListener(j.window.document,"mouseover",(j=>{"html"===new Ce.StandardMouseEvent(j).target.tagName.toLowerCase()&&this.stopMonitoring(!0)}))),this._hooks.add(he.addDisposableListener(j.window.document.body,"mouseleave",(j=>{this.stopMonitoring(!0)})))}}}}));var Ci=this&&this.__decorate||function(j,te,he,ve){var Ce,ye=arguments.length,Ee=ye<3?te:null===ve?ve=Object.getOwnPropertyDescriptor(te,he):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(j,te,he,ve);else for(var Ie=j.length-1;Ie>=0;Ie--)(Ce=j[Ie])&&(Ee=(ye<3?Ce(Ee):ye>3?Ce(te,he,Ee):Ce(te,he))||Ee);return ye>3&&Ee&&Object.defineProperty(te,he,Ee),Ee};define(Ce[57],ie([1,0,7,19,93,2]),(function(j,te,he,ve,Ce,ye){var Ee,Ie;Object.defineProperty(te,"__esModule",{value:!0}),te.Gesture=te.EventType=void 0,(Ie=Ee=te.EventType||(te.EventType={})).Tap="-monaco-gesturetap",Ie.Change="-monaco-gesturechange",Ie.Start="-monaco-gesturestart",Ie.End="-monaco-gesturesend",Ie.Contextmenu="-monaco-gesturecontextmenu";class b extends ye.Disposable{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(he.addDisposableListener(document,"touchstart",(j=>this.onTouchStart(j)),{passive:!1})),this._register(he.addDisposableListener(document,"touchend",(j=>this.onTouchEnd(j)))),this._register(he.addDisposableListener(document,"touchmove",(j=>this.onTouchMove(j)),{passive:!1}))}static addTarget(j){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.targets.push(j),{dispose:()=>{b.INSTANCE.targets=b.INSTANCE.targets.filter((te=>te!==j))}}):ye.Disposable.None}static ignoreTarget(j){return b.isTouchDevice()?(b.INSTANCE||(b.INSTANCE=new b),b.INSTANCE.ignoreTargets.push(j),{dispose:()=>{b.INSTANCE.ignoreTargets=b.INSTANCE.ignoreTargets.filter((te=>te!==j))}}):ye.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(j){let te=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let he=0,ve=j.targetTouches.length;he<ve;he++){let ve=j.targetTouches.item(he);this.activeTouches[ve.identifier]={id:ve.identifier,initialTarget:ve.target,initialTimeStamp:te,initialPageX:ve.pageX,initialPageY:ve.pageY,rollingTimestamps:[te],rollingPageX:[ve.pageX],rollingPageY:[ve.pageY]};let Ce=this.newGestureEvent(Ee.Start,ve.target);Ce.pageX=ve.pageX,Ce.pageY=ve.pageY,this.dispatchEvent(Ce)}this.dispatched&&(j.preventDefault(),j.stopPropagation(),this.dispatched=!1)}onTouchEnd(j){let te=Date.now(),he=Object.keys(this.activeTouches).length;for(let Ce=0,ye=j.changedTouches.length;Ce<ye;Ce++){let ye=j.changedTouches.item(Ce);if(!this.activeTouches.hasOwnProperty(String(ye.identifier))){console.warn("move of an UNKNOWN touch",ye);continue}let Ie=this.activeTouches[ye.identifier],Ne=Date.now()-Ie.initialTimeStamp;if(Ne<b.HOLD_DELAY&&Math.abs(Ie.initialPageX-ve.tail(Ie.rollingPageX))<30&&Math.abs(Ie.initialPageY-ve.tail(Ie.rollingPageY))<30){let j=this.newGestureEvent(Ee.Tap,Ie.initialTarget);j.pageX=ve.tail(Ie.rollingPageX),j.pageY=ve.tail(Ie.rollingPageY),this.dispatchEvent(j)}else if(Ne>=b.HOLD_DELAY&&Math.abs(Ie.initialPageX-ve.tail(Ie.rollingPageX))<30&&Math.abs(Ie.initialPageY-ve.tail(Ie.rollingPageY))<30){let j=this.newGestureEvent(Ee.Contextmenu,Ie.initialTarget);j.pageX=ve.tail(Ie.rollingPageX),j.pageY=ve.tail(Ie.rollingPageY),this.dispatchEvent(j)}else if(1===he){let j=ve.tail(Ie.rollingPageX),he=ve.tail(Ie.rollingPageY),Ce=ve.tail(Ie.rollingTimestamps)-Ie.rollingTimestamps[0],ye=j-Ie.rollingPageX[0],Ee=he-Ie.rollingPageY[0];const Ne=this.targets.filter((j=>Ie.initialTarget instanceof Node&&j.contains(Ie.initialTarget)));this.inertia(Ne,te,Math.abs(ye)/Ce,ye>0?1:-1,j,Math.abs(Ee)/Ce,Ee>0?1:-1,he)}this.dispatchEvent(this.newGestureEvent(Ee.End,Ie.initialTarget)),delete this.activeTouches[ye.identifier]}this.dispatched&&(j.preventDefault(),j.stopPropagation(),this.dispatched=!1)}newGestureEvent(j,te){let he=document.createEvent("CustomEvent");return he.initEvent(j,!1,!0),he.initialTarget=te,he.tapCount=0,he}dispatchEvent(j){if(j.type===Ee.Tap){const te=(new Date).getTime();let he=0;he=te-this._lastSetTapCountTime>b.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=te,j.tapCount=he}else(j.type===Ee.Change||j.type===Ee.Contextmenu)&&(this._lastSetTapCountTime=0);for(let te=0;te<this.ignoreTargets.length;te++)if(j.initialTarget instanceof Node&&this.ignoreTargets[te].contains(j.initialTarget))return;this.targets.forEach((te=>{j.initialTarget instanceof Node&&te.contains(j.initialTarget)&&(te.dispatchEvent(j),this.dispatched=!0)}))}inertia(j,te,ve,Ce,ye,Ie,Ne,Oe){this.handle=he.scheduleAtNextAnimationFrame((()=>{let he=Date.now(),Ke=he-te,je=0,Ze=0,Ye=!0;ve+=b.SCROLL_FRICTION*Ke,Ie+=b.SCROLL_FRICTION*Ke,ve>0&&(Ye=!1,je=Ce*ve*Ke),Ie>0&&(Ye=!1,Ze=Ne*Ie*Ke);let et=this.newGestureEvent(Ee.Change);et.translationX=je,et.translationY=Ze,j.forEach((j=>j.dispatchEvent(et))),Ye||this.inertia(j,he,ve,Ce,ye+je,Ie,Ne,Oe+Ze)}))}onTouchMove(j){let te=Date.now();for(let he=0,Ce=j.changedTouches.length;he<Ce;he++){let Ce=j.changedTouches.item(he);if(!this.activeTouches.hasOwnProperty(String(Ce.identifier))){console.warn("end of an UNKNOWN touch",Ce);continue}let ye=this.activeTouches[Ce.identifier],Ie=this.newGestureEvent(Ee.Change,ye.initialTarget);Ie.translationX=Ce.pageX-ve.tail(ye.rollingPageX),Ie.translationY=Ce.pageY-ve.tail(ye.rollingPageY),Ie.pageX=Ce.pageX,Ie.pageY=Ce.pageY,this.dispatchEvent(Ie),ye.rollingPageX.length>3&&(ye.rollingPageX.shift(),ye.rollingPageY.shift(),ye.rollingTimestamps.shift()),ye.rollingPageX.push(Ce.pageX),ye.rollingPageY.push(Ce.pageY),ye.rollingTimestamps.push(te)}this.dispatched&&(j.preventDefault(),j.stopPropagation(),this.dispatched=!1)}}b.SCROLL_FRICTION=-.005,b.HOLD_DELAY=700,b.CLEAR_TAP_COUNT_TIME=400,Ci([Ce.memoize],b,"isTouchDevice",null),te.Gesture=b})),define(Ce[113],ie([1,0,7,27]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.renderIcon=te.renderLabelWithIcons=void 0;const Ce=new RegExp(`(\\\\)?\\$\\((${ve.CSSIcon.iconNameExpression}(?:${ve.CSSIcon.iconModifierExpression})?)\\)`,"g");function w(j){const te=he.$("span");return te.classList.add(...ve.CSSIcon.asClassNameArray(j)),te}te.renderLabelWithIcons=function I(j){const te=new Array;let he,ve=0,ye=0;for(;null!==(he=Ce.exec(j));){ye=he.index||0,te.push(j.substring(ve,ye)),ve=(he.index||0)+he[0].length;const[,Ce,Ee]=he;te.push(Ce?`$(${Ee})`:w({id:Ee}))}return ve<j.length&&te.push(j.substring(ve)),te},te.renderIcon=w})),define(Ce[217],ie([1,0,7,113,39]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.HighlightedLabel=void 0;class I{constructor(j,te){var ve;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(ve=null==te?void 0:te.supportIcons)&&void 0!==ve&&ve,this.domNode=he.append(j,he.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(j,te=[],he="",ve){j||(j=""),ve&&(j=I.escapeNewLines(j,te)),(!this.didEverRender||this.text!==j||this.title!==he||!Ce.equals(this.highlights,te))&&(this.text=j,this.title=he,this.highlights=te,this.render())}render(){const j=[];let te=0;for(const Ce of this.highlights){if(Ce.end===Ce.start)continue;if(te<Ce.start){const ye=this.text.substring(te,Ce.start);j.push(he.$("span",void 0,...this.supportIcons?(0,ve.renderLabelWithIcons)(ye):[ye])),te=Ce.end}const ye=this.text.substring(Ce.start,Ce.end),Ee=he.$("span.highlight",void 0,...this.supportIcons?(0,ve.renderLabelWithIcons)(ye):[ye]);Ce.extraClasses&&Ee.classList.add(...Ce.extraClasses),j.push(Ee),te=Ce.end}if(te<this.text.length){const Ce=this.text.substring(te);j.push(he.$("span",void 0,...this.supportIcons?(0,ve.renderLabelWithIcons)(Ce):[Ce]))}he.reset(this.domNode,...j),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(j,te){let he=0,ve=0;return j.replace(/\r\n|\r|\n/g,((j,Ce)=>{ve="\r\n"===j?-1:0,Ce+=he;for(const j of te)j.end<=Ce||(j.start>=Ce&&(j.start+=ve),j.end>=Ce&&(j.end+=ve));return he+=ve,"⏎"}))}}te.HighlightedLabel=I})),define(Ce[321],ie([1,0,7]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.RowCache=void 0;te.RowCache=class D{constructor(j){this.renderers=j,this.cache=new Map}alloc(j){let te=this.getTemplateCache(j).pop();if(!te){const ve=(0,he.$)(".monaco-list-row");te={domNode:ve,templateId:j,templateData:this.getRenderer(j).renderTemplate(ve)}}return te}release(j){!j||this.releaseRow(j)}releaseRow(j){const{domNode:te,templateId:he}=j;te&&(te.classList.remove("scrolling"),function m(j){try{j.parentElement&&j.parentElement.removeChild(j)}catch{}}(te)),this.getTemplateCache(he).push(j)}getTemplateCache(j){let te=this.cache.get(j);return te||(te=[],this.cache.set(j,te)),te}dispose(){this.cache.forEach(((j,te)=>{for(const he of j)this.getRenderer(te).disposeTemplate(he.templateData),he.templateData=null})),this.cache.clear()}getRenderer(j){const te=this.renderers.get(j);if(!te)throw new Error(`No renderer found for ${j}`);return te}}})),define(Ce[60],ie([1,0,7,46,56,57,2]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.Widget=void 0;class b extends Ee.Disposable{onclick(j,te){this._register(he.addDisposableListener(j,he.EventType.CLICK,(j=>te(new Ce.StandardMouseEvent(j)))))}onmousedown(j,te){this._register(he.addDisposableListener(j,he.EventType.MOUSE_DOWN,(j=>te(new Ce.StandardMouseEvent(j)))))}onmouseover(j,te){this._register(he.addDisposableListener(j,he.EventType.MOUSE_OVER,(j=>te(new Ce.StandardMouseEvent(j)))))}onnonbubblingmouseout(j,te){this._register(he.addDisposableNonBubblingMouseOutListener(j,(j=>te(new Ce.StandardMouseEvent(j)))))}onkeydown(j,te){this._register(he.addDisposableListener(j,he.EventType.KEY_DOWN,(j=>te(new ve.StandardKeyboardEvent(j)))))}onkeyup(j,te){this._register(he.addDisposableListener(j,he.EventType.KEY_UP,(j=>te(new ve.StandardKeyboardEvent(j)))))}oninput(j,te){this._register(he.addDisposableListener(j,he.EventType.INPUT,te))}onblur(j,te){this._register(he.addDisposableListener(j,he.EventType.BLUR,te))}onfocus(j,te){this._register(he.addDisposableListener(j,he.EventType.FOCUS,te))}ignoreGesture(j){ye.Gesture.ignoreTarget(j)}}te.Widget=b})),define(Ce[170],ie([1,0,96,60,10]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.ScrollbarArrow=te.ARROW_IMG_SIZE=void 0,te.ARROW_IMG_SIZE=11;class I extends ve.Widget{constructor(j){super(),this._onActivate=j.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=j.bgWidth+"px",this.bgDomNode.style.height=j.bgHeight+"px",void 0!==j.top&&(this.bgDomNode.style.top="0px"),void 0!==j.left&&(this.bgDomNode.style.left="0px"),void 0!==j.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==j.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=j.className,this.domNode.classList.add(...j.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=te.ARROW_IMG_SIZE+"px",this.domNode.style.height=te.ARROW_IMG_SIZE+"px",void 0!==j.top&&(this.domNode.style.top=j.top+"px"),void 0!==j.left&&(this.domNode.style.left=j.left+"px"),void 0!==j.bottom&&(this.domNode.style.bottom=j.bottom+"px"),void 0!==j.right&&(this.domNode.style.right=j.right+"px"),this._mouseMoveMonitor=this._register(new he.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,(j=>this._arrowMouseDown(j))),this.onmousedown(this.domNode,(j=>this._arrowMouseDown(j))),this._mousedownRepeatTimer=this._register(new Ce.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new Ce.TimeoutTimer)}_arrowMouseDown(j){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet((()=>{this._mousedownRepeatTimer.cancelAndSet((()=>this._onActivate()),1e3/24)}),200),this._mouseMoveMonitor.startMonitoring(j.target,j.buttons,he.standardMouseMoveMerger,(j=>{}),(()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()})),j.preventDefault()}}te.ScrollbarArrow=I})),define(Ce[218],ie([1,0,7,30,96,170,316,60,17]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.AbstractScrollbar=void 0;class g extends Ie.Widget{constructor(j){super(),this._lazyRender=j.lazyRender,this._host=j.host,this._scrollable=j.scrollable,this._scrollByPage=j.scrollByPage,this._scrollbarState=j.scrollbarState,this._visibilityController=this._register(new Ee.ScrollbarVisibilityController(j.visibility,"visible scrollbar "+j.extraScrollbarClassName,"invisible scrollbar "+j.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new Ce.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=(0,ve.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,(j=>this._domNodeMouseDown(j)))}_createArrow(j){const te=this._register(new ye.ScrollbarArrow(j));this.domNode.domNode.appendChild(te.bgDomNode),this.domNode.domNode.appendChild(te.domNode)}_createSlider(j,te,he,Ce){this.slider=(0,ve.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(j),this.slider.setLeft(te),"number"==typeof he&&this.slider.setWidth(he),"number"==typeof Ce&&this.slider.setHeight(Ce),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,(j=>{j.leftButton&&(j.preventDefault(),this._sliderMouseDown(j,(()=>{})))})),this.onclick(this.slider.domNode,(j=>{j.leftButton&&j.stopPropagation()}))}_onElementSize(j){return this._scrollbarState.setVisibleSize(j)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(j){return this._scrollbarState.setScrollSize(j)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(j){return this._scrollbarState.setScrollPosition(j)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(j){j.target===this.domNode.domNode&&this._onMouseDown(j)}delegateMouseDown(j){const te=this.domNode.domNode.getClientRects()[0].top,he=te+this._scrollbarState.getSliderPosition(),ve=te+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),Ce=this._sliderMousePosition(j);he<=Ce&&Ce<=ve?j.leftButton&&(j.preventDefault(),this._sliderMouseDown(j,(()=>{}))):this._onMouseDown(j)}_onMouseDown(j){let te,ve;if(j.target===this.domNode.domNode&&"number"==typeof j.browserEvent.offsetX&&"number"==typeof j.browserEvent.offsetY)te=j.browserEvent.offsetX,ve=j.browserEvent.offsetY;else{const Ce=he.getDomNodePagePosition(this.domNode.domNode);te=j.posx-Ce.left,ve=j.posy-Ce.top}const Ce=this._mouseDownRelativePosition(te,ve);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(Ce):this._scrollbarState.getDesiredScrollPositionFromOffset(Ce)),j.leftButton&&(j.preventDefault(),this._sliderMouseDown(j,(()=>{})))}_sliderMouseDown(j,te){const he=this._sliderMousePosition(j),ve=this._sliderOrthogonalMousePosition(j),ye=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(j.target,j.buttons,Ce.standardMouseMoveMerger,(j=>{const te=this._sliderOrthogonalMousePosition(j),Ce=Math.abs(te-ve);if(Ne.isWindows&&Ce>140)return void this._setDesiredScrollPositionNow(ye.getScrollPosition());const Ee=this._sliderMousePosition(j)-he;this._setDesiredScrollPositionNow(ye.getDesiredScrollPositionFromDelta(Ee))}),(()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),te()})),this._host.onDragStart()}_setDesiredScrollPositionNow(j){const te={};this.writeScrollPosition(te,j),this._scrollable.setScrollPositionNow(te)}updateScrollbarSize(j){this._updateScrollbarSize(j),this._scrollbarState.setScrollbarSize(j),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}te.AbstractScrollbar=g})),define(Ce[322],ie([1,0,56,218,170,212,27]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.HorizontalScrollbar=void 0;class b extends ve.AbstractScrollbar{constructor(j,te,ve){const Ie=j.getScrollDimensions(),Ne=j.getCurrentScrollPosition();if(super({lazyRender:te.lazyRender,host:ve,scrollbarState:new ye.ScrollbarState(te.horizontalHasArrows?te.arrowSize:0,2===te.horizontal?0:te.horizontalScrollbarSize,2===te.vertical?0:te.verticalScrollbarSize,Ie.width,Ie.scrollWidth,Ne.scrollLeft),visibility:te.horizontal,extraScrollbarClassName:"horizontal",scrollable:j,scrollByPage:te.scrollByPage}),te.horizontalHasArrows){const j=(te.arrowSize-Ce.ARROW_IMG_SIZE)/2,ve=(te.horizontalScrollbarSize-Ce.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:Ee.Codicon.scrollbarButtonLeft,top:ve,left:j,bottom:void 0,right:void 0,bgWidth:te.arrowSize,bgHeight:te.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new he.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:Ee.Codicon.scrollbarButtonRight,top:ve,left:void 0,bottom:void 0,right:j,bgWidth:te.arrowSize,bgHeight:te.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new he.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((te.horizontalScrollbarSize-te.horizontalSliderSize)/2),0,void 0,te.horizontalSliderSize)}_updateSlider(j,te){this.slider.setWidth(j),this.slider.setLeft(te)}_renderDomNode(j,te){this.domNode.setWidth(j),this.domNode.setHeight(te),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(j){return this._shouldRender=this._onElementScrollSize(j.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(j.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(j.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(j,te){return j}_sliderMousePosition(j){return j.posx}_sliderOrthogonalMousePosition(j){return j.posy}_updateScrollbarSize(j){this.slider.setHeight(j)}writeScrollPosition(j,te){j.scrollLeft=te}updateOptions(j){this.updateScrollbarSize(2===j.horizontal?0:j.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===j.vertical?0:j.verticalScrollbarSize),this._visibilityController.setVisibility(j.horizontal),this._scrollByPage=j.scrollByPage}}te.HorizontalScrollbar=b})),define(Ce[323],ie([1,0,56,218,170,212,27]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.VerticalScrollbar=void 0;class b extends ve.AbstractScrollbar{constructor(j,te,ve){const Ie=j.getScrollDimensions(),Ne=j.getCurrentScrollPosition();if(super({lazyRender:te.lazyRender,host:ve,scrollbarState:new ye.ScrollbarState(te.verticalHasArrows?te.arrowSize:0,2===te.vertical?0:te.verticalScrollbarSize,0,Ie.height,Ie.scrollHeight,Ne.scrollTop),visibility:te.vertical,extraScrollbarClassName:"vertical",scrollable:j,scrollByPage:te.scrollByPage}),te.verticalHasArrows){const j=(te.arrowSize-Ce.ARROW_IMG_SIZE)/2,ve=(te.verticalScrollbarSize-Ce.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:Ee.Codicon.scrollbarButtonUp,top:j,left:ve,bottom:void 0,right:void 0,bgWidth:te.verticalScrollbarSize,bgHeight:te.arrowSize,onActivate:()=>this._host.onMouseWheel(new he.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:Ee.Codicon.scrollbarButtonDown,top:void 0,left:ve,bottom:j,right:void 0,bgWidth:te.verticalScrollbarSize,bgHeight:te.arrowSize,onActivate:()=>this._host.onMouseWheel(new he.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((te.verticalScrollbarSize-te.verticalSliderSize)/2),te.verticalSliderSize,void 0)}_updateSlider(j,te){this.slider.setHeight(j),this.slider.setTop(te)}_renderDomNode(j,te){this.domNode.setWidth(te),this.domNode.setHeight(j),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(j){return this._shouldRender=this._onElementScrollSize(j.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(j.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(j.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(j,te){return te}_sliderMousePosition(j){return j.posy}_sliderOrthogonalMousePosition(j){return j.posx}_updateScrollbarSize(j){this.slider.setWidth(j)}writeScrollPosition(j,te){j.scrollTop=te}updateOptions(j){this.updateScrollbarSize(2===j.vertical?0:j.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(j.vertical),this._scrollByPage=j.scrollByPage}}te.VerticalScrollbar=b})),define(Ce[41],ie([1,0,166,48,82,17,8,25]),(function(j,te,he,ve,Ce,ye,Ee,Ie){function p(j){return(0,Ie.uriToFsPath)(j,!0)}Object.defineProperty(te,"__esModule",{value:!0}),te.DataUri=te.addTrailingPathSeparator=te.removeTrailingPathSeparator=te.hasTrailingPathSeparator=te.isEqualAuthority=te.isAbsolutePath=te.resolvePath=te.relativePath=te.normalizePath=te.joinPath=te.dirname=te.extname=te.basename=te.basenameOrAuthority=te.getComparisonKey=te.isEqualOrParent=te.isEqual=te.extUriIgnorePathCase=te.extUriBiasedIgnorePathCase=te.extUri=te.ExtUri=te.originalFSPath=void 0,te.originalFSPath=p;class h{constructor(j){this._ignorePathCasing=j}compare(j,te,he=!1){return j===te?0:(0,Ee.compare)(this.getComparisonKey(j,he),this.getComparisonKey(te,he))}isEqual(j,te,he=!1){return j===te||!(!j||!te)&&this.getComparisonKey(j,he)===this.getComparisonKey(te,he)}getComparisonKey(j,te=!1){return j.with({path:this._ignorePathCasing(j)?j.path.toLowerCase():void 0,fragment:te?null:void 0}).toString()}isEqualOrParent(j,Ce,ye=!1){if(j.scheme===Ce.scheme){if(j.scheme===ve.Schemas.file)return he.isEqualOrParent(p(j),p(Ce),this._ignorePathCasing(j))&&j.query===Ce.query&&(ye||j.fragment===Ce.fragment);if((0,te.isEqualAuthority)(j.authority,Ce.authority))return he.isEqualOrParent(j.path,Ce.path,this._ignorePathCasing(j),"/")&&j.query===Ce.query&&(ye||j.fragment===Ce.fragment)}return!1}joinPath(j,...te){return Ie.URI.joinPath(j,...te)}basenameOrAuthority(j){return(0,te.basename)(j)||j.authority}basename(j){return Ce.posix.basename(j.path)}extname(j){return Ce.posix.extname(j.path)}dirname(j){if(0===j.path.length)return j;let te;return j.scheme===ve.Schemas.file?te=Ie.URI.file(Ce.dirname(p(j))).path:(te=Ce.posix.dirname(j.path),j.authority&&te.length&&47!==te.charCodeAt(0)&&(console.error(`dirname("${j.toString})) resulted in a relative path`),te="/")),j.with({path:te})}normalizePath(j){if(!j.path.length)return j;let te;return te=j.scheme===ve.Schemas.file?Ie.URI.file(Ce.normalize(p(j))).path:Ce.posix.normalize(j.path),j.with({path:te})}relativePath(j,Ee){if(j.scheme!==Ee.scheme||!(0,te.isEqualAuthority)(j.authority,Ee.authority))return;if(j.scheme===ve.Schemas.file){const te=Ce.relative(p(j),p(Ee));return ye.isWindows?he.toSlashes(te):te}let Ie=j.path||"/",Ne=Ee.path||"/";if(this._ignorePathCasing(j)){let j=0;for(const te=Math.min(Ie.length,Ne.length);j<te&&(Ie.charCodeAt(j)===Ne.charCodeAt(j)||Ie.charAt(j).toLowerCase()===Ne.charAt(j).toLowerCase());j++);Ie=Ne.substr(0,j)+Ie.substr(j)}return Ce.posix.relative(Ie,Ne)}resolvePath(j,te){if(j.scheme===ve.Schemas.file){const he=Ie.URI.file(Ce.resolve(p(j),te));return j.with({authority:he.authority,path:he.path})}return te=he.toPosixPath(te),j.with({path:Ce.posix.resolve(j.path,te)})}isAbsolutePath(j){return!!j.path&&"/"===j.path[0]}isEqualAuthority(j,te){return j===te||void 0!==j&&void 0!==te&&(0,Ee.equalsIgnoreCase)(j,te)}hasTrailingPathSeparator(j,te=Ce.sep){if(j.scheme===ve.Schemas.file){const ve=p(j);return ve.length>he.getRoot(ve).length&&ve[ve.length-1]===te}{const te=j.path;return te.length>1&&47===te.charCodeAt(te.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(j.fsPath)}}removeTrailingPathSeparator(j,he=Ce.sep){return(0,te.hasTrailingPathSeparator)(j,he)?j.with({path:j.path.substr(0,j.path.length-1)}):j}addTrailingPathSeparator(j,ye=Ce.sep){let Ee=!1;if(j.scheme===ve.Schemas.file){const te=p(j);Ee=void 0!==te&&te.length===he.getRoot(te).length&&te[te.length-1]===ye}else{ye="/";const te=j.path;Ee=1===te.length&&47===te.charCodeAt(te.length-1)}return Ee||(0,te.hasTrailingPathSeparator)(j,ye)?j:j.with({path:j.path+"/"})}}var Ne;te.ExtUri=h,te.extUri=new h((()=>!1)),te.extUriBiasedIgnorePathCase=new h((j=>j.scheme!==ve.Schemas.file||!ye.isLinux)),te.extUriIgnorePathCase=new h((j=>!0)),te.isEqual=te.extUri.isEqual.bind(te.extUri),te.isEqualOrParent=te.extUri.isEqualOrParent.bind(te.extUri),te.getComparisonKey=te.extUri.getComparisonKey.bind(te.extUri),te.basenameOrAuthority=te.extUri.basenameOrAuthority.bind(te.extUri),te.basename=te.extUri.basename.bind(te.extUri),te.extname=te.extUri.extname.bind(te.extUri),te.dirname=te.extUri.dirname.bind(te.extUri),te.joinPath=te.extUri.joinPath.bind(te.extUri),te.normalizePath=te.extUri.normalizePath.bind(te.extUri),te.relativePath=te.extUri.relativePath.bind(te.extUri),te.resolvePath=te.extUri.resolvePath.bind(te.extUri),te.isAbsolutePath=te.extUri.isAbsolutePath.bind(te.extUri),te.isEqualAuthority=te.extUri.isEqualAuthority.bind(te.extUri),te.hasTrailingPathSeparator=te.extUri.hasTrailingPathSeparator.bind(te.extUri),te.removeTrailingPathSeparator=te.extUri.removeTrailingPathSeparator.bind(te.extUri),te.addTrailingPathSeparator=te.extUri.addTrailingPathSeparator.bind(te.extUri),(Ne=te.DataUri||(te.DataUri={})).META_DATA_LABEL="label",Ne.META_DATA_DESCRIPTION="description",Ne.META_DATA_SIZE="size",Ne.META_DATA_MIME="mime",Ne.parseMetaData=function i(j){const te=new Map;j.path.substring(j.path.indexOf(";")+1,j.path.lastIndexOf(";")).split(";").forEach((j=>{const[he,ve]=j.split(":");he&&ve&&te.set(he,ve)}));const he=j.path.substring(0,j.path.indexOf(";"));return he&&te.set(Ne.META_DATA_MIME,he),te}})),define(Ce[324],ie([1,0,7,751,89,169,56,113,10,21,13,4,66,95,133,2,311,216,48,39,41,8,25]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft){function v(j,te){const{config:he,allowedSchemes:Ce}=function C(j){const te=[ct.Schemas.http,ct.Schemas.https,ct.Schemas.mailto,ct.Schemas.data,ct.Schemas.file,ct.Schemas.vscodeFileResource,ct.Schemas.vscodeRemote,ct.Schemas.vscodeRemoteResource];return j.isTrusted&&te.push(ct.Schemas.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:te}}(j);ve.addHook("uponSanitizeAttribute",((j,te)=>{if("style"!==te.attrName&&"class"!==te.attrName);else{if("SPAN"===j.tagName){if("style"===te.attrName)return void(te.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(te.attrValue));if("class"===te.attrName)return void(te.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(te.attrValue))}te.keepAttr=!1}}));const ye=document.createElement("a");ve.addHook("afterSanitizeAttributes",(j=>{for(const te of["href","src"])j.hasAttribute(te)&&(ye.href=j.getAttribute(te),Ce.includes(ye.protocol.replace(/:$/,""))||j.removeAttribute(te))}));try{return ve.sanitize(te,Object.assign(Object.assign({},he),{RETURN_TRUSTED_TYPE:!0}))}finally{ve.removeHook("uponSanitizeAttribute"),ve.removeHook("afterSanitizeAttributes")}}Object.defineProperty(te,"__esModule",{value:!0}),te.renderMarkdown=void 0,te.renderMarkdown=function S(j,te={},ve={}){var _t;const Ct=new nt.DisposableStore;let bt=!1;const St=Ct.add(new Oe.CancellationTokenSource),Dt=(0,ye.createElement)(te),T=function(te){let he;try{he=(0,at.parse)(decodeURIComponent(te))}catch{}return he?(he=(0,ht.cloneAndChange)(he,(te=>{if(j.uris&&j.uris[te])return ft.URI.revive(j.uris[te])})),encodeURIComponent(JSON.stringify(he))):te},R=function(te,he){const ve=j.uris&&j.uris[te];let Ce=ft.URI.revive(ve);return he?te.startsWith(ct.Schemas.data+":")?te:(Ce||(Ce=ft.URI.parse(te)),ct.FileAccess.asBrowserUri(Ce).toString(!0)):Ce&&ft.URI.parse(te).toString()!==Ce.toString()?(Ce.query&&(Ce=Ce.with({query:T(Ce.query)})),Ce.toString()):te};let It;const kt=new Promise((j=>It=j)),At=new rt.marked.Renderer;if(At.image=(j,te,he)=>{let ve=[],Ce=[];return j&&(({href:j,dimensions:ve}=(0,Ze.parseHrefAndDimensions)(j)),Ce.push(`src="${j}"`)),he&&Ce.push(`alt="${he}"`),te&&Ce.push(`title="${te}"`),ve.length&&(Ce=Ce.concat(ve)),"<img "+Ce.join(" ")+">"},At.link=(he,ve,Ce)=>"string"!=typeof he?"":(he===Ce&&(Ce=(0,Ze.removeMarkdownEscapes)(Ce)),he=R(he,!1),te.baseUrl&&(/^\w[\w\d+.-]*:/.test(he)||(he=(0,mt.resolvePath)(te.baseUrl,he).toString())),ve="string"==typeof ve?(0,Ze.removeMarkdownEscapes)(ve):"",!(he=(0,Ze.removeMarkdownEscapes)(he))||he.match(/^data:|javascript:/i)||he.match(/^command:/i)&&!j.isTrusted||he.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?Ce:`<a data-href="${he=he.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${ve||he}">${Ce}</a>`),At.paragraph=j=>`<p>${j}</p>`,te.codeBlockRenderer&&(At.code=(j,ve)=>{if("string"!=typeof ve)return"";const Ce=te.codeBlockRenderer(ve,j),ye=et.defaultGenerator.nextId();return(0,Ne.raceCancellation)(Promise.all([Ce,kt]),St.token).then((j=>{var ve;if(!bt&&j){const Ce=Dt.querySelector(`div[data-code="${ye}"]`);Ce&&he.reset(Ce,j[0]),null===(ve=te.asyncRenderCallback)||void 0===ve||ve.call(te)}})).catch((()=>{})),`<div class="code" data-code="${ye}">${(0,pt.escape)(j)}</div>`}),te.actionHandler){const j=te.actionHandler.disposables.add(new Ce.DomEmitter(Dt,"click")),he=te.actionHandler.disposables.add(new Ce.DomEmitter(Dt,"auxclick"));te.actionHandler.disposables.add(je.Event.any(j.event,he.event)((j=>{const he=new Ee.StandardMouseEvent(j);if(!he.leftButton&&!he.middleButton)return;let ve=he.target;if("A"===ve.tagName||(ve=ve.parentElement,ve&&"A"===ve.tagName))try{const j=ve.dataset.href;j&&te.actionHandler.callback(j,he)}catch(j){(0,Ke.onUnexpectedError)(j)}finally{he.preventDefault()}})))}j.supportHtml||(ve.sanitizer=te=>(j.isTrusted?te.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?te:"",ve.sanitize=!0,ve.silent=!0),ve.renderer=At;let Pt=null!==(_t=j.value)&&void 0!==_t?_t:"";Pt.length>1e5&&(Pt=`${Pt.substr(0,1e5)}…`),j.supportThemeIcons&&(Pt=(0,Ye.markdownEscapeEscapedIcons)(Pt));let Kt=rt.marked.parse(Pt,ve);j.supportThemeIcons&&(Kt=(0,Ie.renderLabelWithIcons)(Kt).map((j=>"string"==typeof j?j:j.outerHTML)).join(""));const Ut=(new DOMParser).parseFromString(v(j,Kt),"text/html");if(Ut.body.querySelectorAll("img").forEach((j=>{if(j.src){let he=R(j.src,!0);try{const j=ft.URI.parse(he);te.baseUrl&&j.scheme===ct.Schemas.file&&(he=(0,mt.resolvePath)(te.baseUrl,he).toString())}catch{}j.src=he}})),Dt.innerHTML=v(j,Ut.body.innerHTML),It(),te.asyncRenderCallback)for(const j of Dt.getElementsByTagName("img")){const ve=Ct.add(he.addDisposableListener(j,"load",(()=>{ve.dispose(),te.asyncRenderCallback()})))}return{element:Dt,dispose:()=>{bt=!0,St.cancel(),Ct.dispose()}}}})),define(Ce[171],ie([1,0,166,48,17,41,25]),(function(j,te,he,ve,Ce,ye,Ee){function p(j,te){return(0,he.hasDriveLetter)(j,te)?j.charAt(0).toUpperCase()+j.slice(1):j}Object.defineProperty(te,"__esModule",{value:!0}),te.normalizeDriveLetter=te.getBaseLabel=void 0,te.getBaseLabel=function b(j){if(!j)return;"string"==typeof j&&(j=Ee.URI.file(j));const te=(0,ye.basename)(j)||(j.scheme===ve.Schemas.file?j.fsPath:j.path);return Ce.isWindows&&(0,he.isRootOrDriveLetter)(te)?p(te):te},te.normalizeDriveLetter=p;Object.create(null)})),define(Ce[325],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.generateUuid=void 0;const he=new Uint8Array(16),ve=[];for(let j=0;j<256;j++)ve.push(j.toString(16).padStart(2,"0"));let Ce;Ce="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(j){for(let te=0;te<j.length;te++)j[te]=Math.floor(256*Math.random());return j},te.generateUuid=function I(){Ce(he),he[6]=15&he[6]|64,he[8]=63&he[8]|128;let j=0,te="";return te+=ve[he[j++]],te+=ve[he[j++]],te+=ve[he[j++]],te+=ve[he[j++]],te+="-",te+=ve[he[j++]],te+=ve[he[j++]],te+="-",te+=ve[he[j++]],te+=ve[he[j++]],te+="-",te+=ve[he[j++]],te+=ve[he[j++]],te+="-",te+=ve[he[j++]],te+=ve[he[j++]],te+=ve[he[j++]],te+=ve[he[j++]],te+=ve[he[j++]],te+=ve[he[j++]],te}})),define(Ce[219],ie([1,0,13,4,2,17,20,8]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.create=te.SimpleWorkerServer=te.SimpleWorkerClient=te.logOnceWebWorkerWarning=void 0;const Ne="$initialize";let Oe=!1;te.logOnceWebWorkerWarning=function g(j){!ye.isWeb||(Oe||(Oe=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(j.message))};class t{constructor(j,te,he,ve){this.vsWorker=j,this.req=te,this.method=he,this.args=ve,this.type=0}}class i{constructor(j,te,he,ve){this.vsWorker=j,this.seq=te,this.res=he,this.err=ve,this.type=1}}class n{constructor(j,te,he,ve){this.vsWorker=j,this.req=te,this.eventName=he,this.arg=ve,this.type=2}}class l{constructor(j,te,he){this.vsWorker=j,this.req=te,this.event=he,this.type=3}}class c{constructor(j,te){this.vsWorker=j,this.req=te,this.type=4}}class r{constructor(j){this._workerId=-1,this._handler=j,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(j){this._workerId=j}sendMessage(j,te){const he=String(++this._lastSentReq);return new Promise(((ve,Ce)=>{this._pendingReplies[he]={resolve:ve,reject:Ce},this._send(new t(this._workerId,he,j,te))}))}listen(j,te){let he=null;const Ce=new ve.Emitter({onFirstListenerAdd:()=>{he=String(++this._lastSentReq),this._pendingEmitters.set(he,Ce),this._send(new n(this._workerId,he,j,te))},onLastListenerRemove:()=>{this._pendingEmitters.delete(he),this._send(new c(this._workerId,he)),he=null}});return Ce.event}handleMessage(j){!j||!j.vsWorker||-1!==this._workerId&&j.vsWorker!==this._workerId||this._handleMessage(j)}_handleMessage(j){switch(j.type){case 1:return this._handleReplyMessage(j);case 0:return this._handleRequestMessage(j);case 2:return this._handleSubscribeEventMessage(j);case 3:return this._handleEventMessage(j);case 4:return this._handleUnsubscribeEventMessage(j)}}_handleReplyMessage(j){if(!this._pendingReplies[j.seq])return void console.warn("Got reply to unknown seq");let te=this._pendingReplies[j.seq];if(delete this._pendingReplies[j.seq],j.err){let he=j.err;return j.err.$isError&&(he=new Error,he.name=j.err.name,he.message=j.err.message,he.stack=j.err.stack),void te.reject(he)}te.resolve(j.res)}_handleRequestMessage(j){let te=j.req;this._handler.handleMessage(j.method,j.args).then((j=>{this._send(new i(this._workerId,te,j,void 0))}),(j=>{j.detail instanceof Error&&(j.detail=(0,he.transformErrorForSerialization)(j.detail)),this._send(new i(this._workerId,te,void 0,(0,he.transformErrorForSerialization)(j)))}))}_handleSubscribeEventMessage(j){const te=j.req,he=this._handler.handleEvent(j.eventName,j.arg)((j=>{this._send(new l(this._workerId,te,j))}));this._pendingEvents.set(te,he)}_handleEventMessage(j){this._pendingEmitters.has(j.req)?this._pendingEmitters.get(j.req).fire(j.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(j){this._pendingEvents.has(j.req)?(this._pendingEvents.get(j.req).dispose(),this._pendingEvents.delete(j.req)):console.warn("Got unsubscribe for unknown req")}_send(j){let te=[];if(0===j.type)for(let he=0;he<j.args.length;he++)j.args[he]instanceof ArrayBuffer&&te.push(j.args[he]);else 1===j.type&&j.res instanceof ArrayBuffer&&te.push(j.res);this._handler.sendMessage(j,te)}}class s extends Ce.Disposable{constructor(j,te,he){super();let ve=null;this._worker=this._register(j.create("vs/base/common/worker/simpleWorker",(j=>{this._protocol.handleMessage(j)}),(j=>{ve&&ve(j)}))),this._protocol=new r({sendMessage:(j,te)=>{this._worker.postMessage(j,te)},handleMessage:(j,te)=>{if("function"!=typeof he[j])return Promise.reject(new Error("Missing method "+j+" on main thread host."));try{return Promise.resolve(he[j].apply(he,te))}catch(j){return Promise.reject(j)}},handleEvent:(j,te)=>{if(a(j)){const ve=he[j].call(he,te);if("function"!=typeof ve)throw new Error(`Missing dynamic event ${j} on main thread host.`);return ve}if(o(j)){const te=he[j];if("function"!=typeof te)throw new Error(`Missing event ${j} on main thread host.`);return te}throw new Error(`Malformed event name ${j}`)}}),this._protocol.setWorkerId(this._worker.getId());let Ce=null;void 0!==ye.globals.require&&"function"==typeof ye.globals.require.getConfig?Ce=ye.globals.require.getConfig():void 0!==ye.globals.requirejs&&(Ce=ye.globals.requirejs.s.contexts._.config);const Ie=Ee.getAllMethodNames(he);this._onModuleLoaded=this._protocol.sendMessage(Ne,[this._worker.getId(),JSON.parse(JSON.stringify(Ce)),te,Ie]);const k=(j,te)=>this._request(j,te),M=(j,te)=>this._protocol.listen(j,te);this._lazyProxy=new Promise(((j,he)=>{ve=he,this._onModuleLoaded.then((te=>{j(d(te,k,M))}),(j=>{he(j),this._onError("Worker failed to load "+te,j)}))}))}getProxyObject(){return this._lazyProxy}_request(j,te){return new Promise(((he,ve)=>{this._onModuleLoaded.then((()=>{this._protocol.sendMessage(j,te).then(he,ve)}),ve)}))}_onError(j,te){console.error(j),console.info(te)}}function o(j){return"o"===j[0]&&"n"===j[1]&&Ie.isUpperAsciiLetter(j.charCodeAt(2))}function a(j){return/^onDynamic/.test(j)&&Ie.isUpperAsciiLetter(j.charCodeAt(9))}function d(j,te,he){const _=j=>function(){const he=Array.prototype.slice.call(arguments,0);return te(j,he)},L=j=>function(te){return he(j,te)};let ve={};for(const te of j)a(te)?ve[te]=L(te):o(te)?ve[te]=he(te,void 0):ve[te]=_(te);return ve}te.SimpleWorkerClient=s;class u{constructor(j,te){this._requestHandlerFactory=te,this._requestHandler=null,this._protocol=new r({sendMessage:(te,he)=>{j(te,he)},handleMessage:(j,te)=>this._handleMessage(j,te),handleEvent:(j,te)=>this._handleEvent(j,te)})}onmessage(j){this._protocol.handleMessage(j)}_handleMessage(j,te){if(j===Ne)return this.initialize(te[0],te[1],te[2],te[3]);if(!this._requestHandler||"function"!=typeof this._requestHandler[j])return Promise.reject(new Error("Missing requestHandler or method: "+j));try{return Promise.resolve(this._requestHandler[j].apply(this._requestHandler,te))}catch(j){return Promise.reject(j)}}_handleEvent(j,te){if(!this._requestHandler)throw new Error("Missing requestHandler");if(a(j)){const he=this._requestHandler[j].call(this._requestHandler,te);if("function"!=typeof he)throw new Error(`Missing dynamic event ${j} on request handler.`);return he}if(o(j)){const te=this._requestHandler[j];if("function"!=typeof te)throw new Error(`Missing event ${j} on request handler.`);return te}throw new Error(`Malformed event name ${j}`)}initialize(te,he,ve,Ce){this._protocol.setWorkerId(te);const Ie=d(Ce,((j,te)=>this._protocol.sendMessage(j,te)),((j,te)=>this._protocol.listen(j,te)));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(Ie),Promise.resolve(Ee.getAllMethodNames(this._requestHandler))):(he&&(void 0!==he.baseUrl&&delete he.baseUrl,void 0!==he.paths&&void 0!==he.paths.vs&&delete he.paths.vs,void 0!==typeof he.trustedTypesPolicy&&delete he.trustedTypesPolicy,he.catchError=!0,ye.globals.require.config(he)),new Promise(((te,he)=>{(ye.globals.require||j)([ve],(j=>{this._requestHandler=j.create(Ie),this._requestHandler?te(Ee.getAllMethodNames(this._requestHandler)):he(new Error("No RequestHandler!"))}),he)})))}}te.SimpleWorkerServer=u,te.create=function f(j){return new u(j,null)}})),define(Ce[326],ie([1,0,17,219]),(function(j,te,he,ve){var Ce;Object.defineProperty(te,"__esModule",{value:!0}),te.DefaultWorkerFactory=te.getWorkerBootstrapUrl=void 0;const ye=null===(Ce=window.trustedTypes)||void 0===Ce?void 0:Ce.createPolicy("defaultWorkerFactory",{createScriptURL:j=>j});function b(te,he){if(/^((http:)|(https:)|(file:))/.test(te)&&te.substring(0,self.origin.length)!==self.origin){const ve="vs/base/worker/defaultWorkerFactory.js",Ce=j.toUrl(ve).slice(0,-ve.length),ye=new Blob([`/*${he}*/self.MonacoEnvironment={baseUrl: '${Ce}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${te}') ?? '${te}');/*${he}*/`],{type:"application/javascript"});return URL.createObjectURL(ye)}return te+"#"+he}te.getWorkerBootstrapUrl=b;class h{constructor(te,ve,Ce,Ee,Ie){this.id=ve;const Ne=function w(te){if(he.globals.MonacoEnvironment){if("function"==typeof he.globals.MonacoEnvironment.getWorker)return he.globals.MonacoEnvironment.getWorker("workerMain.js",te);if("function"==typeof he.globals.MonacoEnvironment.getWorkerUrl){const j=he.globals.MonacoEnvironment.getWorkerUrl("workerMain.js",te);return new Worker(ye?ye.createScriptURL(j):j,{name:te})}}if("function"==typeof j){const he=b(j.toUrl("vs/base/worker/workerMain.js"),te);return new Worker(ye?ye.createScriptURL(he):he,{name:te})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(Ce);!function p(j){return"function"==typeof j.then}(Ne)?this.worker=Promise.resolve(Ne):this.worker=Ne,this.postMessage(te,[]),this.worker.then((j=>{j.onmessage=function(j){Ee(j.data)},j.onmessageerror=Ie,"function"==typeof j.addEventListener&&j.addEventListener("error",Ie)}))}getId(){return this.id}postMessage(j,te){this.worker&&this.worker.then((he=>he.postMessage(j,te)))}dispose(){this.worker&&this.worker.then((j=>j.terminate())),this.worker=null}}class g{constructor(j){this._label=j,this._webWorkerFailedBeforeError=!1}create(j,te,he){let Ce=++g.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new h(j,Ce,this._label||"anonymous"+Ce,te,(j=>{(0,ve.logOnceWebWorkerWarning)(j),this._webWorkerFailedBeforeError=j,he(j)}))}}te.DefaultWorkerFactory=g,g.LAST_WORKER_ID=0})),define(Ce[220],ie([1,0]),(function(j,te){var he;Object.defineProperty(te,"__esModule",{value:!0}),te.quickPickItemScorerAccessor=te.QuickPickItemScorerAccessor=te.ItemActivation=te.QuickInputHideReason=te.NO_KEY_MODS=void 0,te.NO_KEY_MODS={ctrlCmd:!1,alt:!1},(he=te.QuickInputHideReason||(te.QuickInputHideReason={}))[he.Blur=1]="Blur",he[he.Gesture=2]="Gesture",he[he.Other=3]="Other",function(j){j[j.NONE=0]="NONE",j[j.FIRST=1]="FIRST",j[j.SECOND=2]="SECOND",j[j.LAST=3]="LAST"}(te.ItemActivation||(te.ItemActivation={}));class D{constructor(j){this.options=j}}te.QuickPickItemScorerAccessor=D,te.quickPickItemScorerAccessor=new D})),define(Ce[327],ie([1,0,10,4,2,20]),(function(j,te,he,ve,Ce,ye){var Ee,Ie;Object.defineProperty(te,"__esModule",{value:!0}),te.InMemoryStorageDatabase=te.Storage=void 0,(Ie=Ee||(Ee={}))[Ie.None=0]="None",Ie[Ie.Initialized=1]="Initialized",Ie[Ie.Closed=2]="Closed";class b extends Ce.Disposable{constructor(j,te=Object.create(null)){super(),this.database=j,this.options=te,this._onDidChangeStorage=this._register(new ve.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=Ee.None,this.cache=new Map,this.flushDelayer=new he.ThrottledDelayer(b.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((j=>this.onDidChangeItemsExternal(j))))}onDidChangeItemsExternal(j){var te,he;null===(te=j.changed)||void 0===te||te.forEach(((j,te)=>this.accept(te,j))),null===(he=j.deleted)||void 0===he||he.forEach((j=>this.accept(j,void 0)))}accept(j,te){if(this.state===Ee.Closed)return;let he=!1;(0,ye.isUndefinedOrNull)(te)?he=this.cache.delete(j):this.cache.get(j)!==te&&(this.cache.set(j,te),he=!0),he&&this._onDidChangeStorage.fire(j)}get(j,te){const he=this.cache.get(j);return(0,ye.isUndefinedOrNull)(he)?te:he}getBoolean(j,te){const he=this.get(j);return(0,ye.isUndefinedOrNull)(he)?te:"true"===he}getNumber(j,te){const he=this.get(j);return(0,ye.isUndefinedOrNull)(he)?te:parseInt(he,10)}set(j,te){return fi(this,void 0,void 0,(function*(){if(this.state===Ee.Closed)return;if((0,ye.isUndefinedOrNull)(te))return this.delete(j);const he=String(te);return this.cache.get(j)!==he?(this.cache.set(j,he),this.pendingInserts.set(j,he),this.pendingDeletes.delete(j),this._onDidChangeStorage.fire(j),this.doFlush()):void 0}))}delete(j){return fi(this,void 0,void 0,(function*(){if(this.state!==Ee.Closed&&this.cache.delete(j))return this.pendingDeletes.has(j)||this.pendingDeletes.add(j),this.pendingInserts.delete(j),this._onDidChangeStorage.fire(j),this.doFlush()}))}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return fi(this,void 0,void 0,(function*(){if(!this.hasPending)return;const j={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(j).finally((()=>{var j;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(j=this.whenFlushedCallbacks.pop())||void 0===j||j()}))}))}doFlush(j){return fi(this,void 0,void 0,(function*(){return this.flushDelayer.trigger((()=>this.flushPending()),j)}))}dispose(){this.flushDelayer.dispose(),super.dispose()}}te.Storage=b,b.DEFAULT_FLUSH_DELAY=100;te.InMemoryStorageDatabase=class p{constructor(){this.onDidChangeItemsExternal=ve.Event.None,this.items=new Map}updateItems(j){return fi(this,void 0,void 0,(function*(){j.insert&&j.insert.forEach(((j,te)=>this.items.set(te,j))),j.delete&&j.delete.forEach((j=>this.items.delete(j)))}))}}})),define(Ce[221],ie([12]),{}),define(Ce[328],ie([12]),{}),define(Ce[43],ie([1,0,7,17,328]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.status=te.alert=te.setARIAContainer=void 0;const Ce=2e4;let ye,Ee,Ie,Ne,Oe;function t(j){!ye||(Ee.textContent!==j?(he.clearNode(Ie),n(Ee,j)):(he.clearNode(Ee),n(Ie,j)))}function n(j,te){he.clearNode(j),te.length>Ce&&(te=te.substr(0,Ce)),j.textContent=te,j.style.visibility="hidden",j.style.visibility="visible"}te.setARIAContainer=function g(j){ye=document.createElement("div"),ye.className="monaco-aria-container";const c=()=>{const j=document.createElement("div");return j.className="monaco-alert",j.setAttribute("role","alert"),j.setAttribute("aria-atomic","true"),ye.appendChild(j),j};Ee=c(),Ie=c();const r=()=>{const j=document.createElement("div");return j.className="monaco-status",j.setAttribute("role","complementary"),j.setAttribute("aria-live","polite"),j.setAttribute("aria-atomic","true"),ye.appendChild(j),j};Ne=r(),Oe=r(),j.appendChild(ye)},te.alert=t,te.status=function i(j){!ye||(ve.isMacintosh?t(j):Ne.textContent!==j?(he.clearNode(Oe),n(Ne,j)):(he.clearNode(Ne),n(Oe,j)))}})),define(Ce[329],ie([12]),{}),define(Ce[330],ie([1,0,7,46,57,113,29,4,2,39,329]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.Button=void 0;const Ke={buttonBackground:Ee.Color.fromHex("#0E639C"),buttonHoverBackground:Ee.Color.fromHex("#006BB3"),buttonForeground:Ee.Color.white};class t extends Ne.Disposable{constructor(j,te){super(),this._onDidClick=this._register(new Ie.Emitter),this.options=te||Object.create(null),(0,Oe.mixin)(this.options,Ke,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),j.appendChild(this._element),this._register(Ce.Gesture.addTarget(this._element)),[he.EventType.CLICK,Ce.EventType.Tap].forEach((j=>{this._register((0,he.addDisposableListener)(this._element,j,(j=>{this.enabled?this._onDidClick.fire(j):he.EventHelper.stop(j)})))})),this._register((0,he.addDisposableListener)(this._element,he.EventType.KEY_DOWN,(j=>{const te=new ve.StandardKeyboardEvent(j);let Ce=!1;this.enabled&&(te.equals(3)||te.equals(10))?(this._onDidClick.fire(j),Ce=!0):te.equals(9)&&(this._element.blur(),Ce=!0),Ce&&he.EventHelper.stop(te,!0)}))),this._register((0,he.addDisposableListener)(this._element,he.EventType.MOUSE_OVER,(j=>{this._element.classList.contains("disabled")||this.setHoverBackground()}))),this._register((0,he.addDisposableListener)(this._element,he.EventType.MOUSE_OUT,(j=>{this.applyStyles()}))),this.focusTracker=this._register((0,he.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus((()=>this.setHoverBackground()))),this._register(this.focusTracker.onDidBlur((()=>this.applyStyles()))),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let j;j=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,j&&(this._element.style.backgroundColor=j)}style(j){this.buttonForeground=j.buttonForeground,this.buttonBackground=j.buttonBackground,this.buttonHoverBackground=j.buttonHoverBackground,this.buttonSecondaryForeground=j.buttonSecondaryForeground,this.buttonSecondaryBackground=j.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=j.buttonSecondaryHoverBackground,this.buttonBorder=j.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let j,te;this.options.secondary?(te=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",j=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(te=this.buttonForeground?this.buttonForeground.toString():"",j=this.buttonBackground?this.buttonBackground.toString():"");const he=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=te,this._element.style.backgroundColor=j,this._element.style.borderWidth=he?"1px":"",this._element.style.borderStyle=he?"solid":"",this._element.style.borderColor=he}}get element(){return this._element}set label(j){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,he.reset)(this._element,...(0,ye.renderLabelWithIcons)(j)):this._element.textContent=j,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=j)}set enabled(j){j?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}te.Button=t})),define(Ce[331],ie([12]),{}),define(Ce[172],ie([1,0,60,27,29,4,331]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.Checkbox=void 0;const Ee={inputActiveOptionBorder:Ce.Color.fromHex("#007ACC00"),inputActiveOptionForeground:Ce.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:Ce.Color.fromHex("#0E639C50")};class b extends he.Widget{constructor(j){super(),this._onChange=this._register(new ye.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new ye.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},Ee),j),this._checked=this._opts.isChecked;const te=["monaco-custom-checkbox"];this._opts.icon&&te.push(...ve.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&te.push(...this._opts.actionClassName.split(" ")),this._checked&&te.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...te),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(j=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),j.preventDefault())})),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,(j=>{if(10===j.keyCode||3===j.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void j.preventDefault();this._onKeyDown.fire(j)}))}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(j){this._checked=j,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(j){j.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=j.inputActiveOptionBorder),j.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=j.inputActiveOptionForeground),j.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=j.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}te.Checkbox=b})),define(Ce[332],ie([12]),{}),define(Ce[333],ie([12]),{}),define(Ce[140],ie([1,0,27,332,333]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.formatRule=void 0,te.formatRule=function m(j){let te=j.definition;for(;te instanceof he.Codicon;)te=te.definition;return`.codicon-${j.id}:before { content: '${te.fontCharacter}'; }`}})),define(Ce[334],ie([12]),{}),define(Ce[222],ie([1,0,165,7,2,17,136,334]),(function(j,te,he,ve,Ce,ye,Ee){var Ie,Ne;function p(j,te,he){const ve=he.mode===Ie.ALIGN?he.offset:he.offset+he.size,Ce=he.mode===Ie.ALIGN?he.offset+he.size:he.offset;return 0===he.position?te<=j-ve?ve:te<=Ce?Ce-te:Math.max(j-te,0):te<=Ce?Ce-te:te<=j-ve?ve:0}Object.defineProperty(te,"__esModule",{value:!0}),te.ContextView=te.layout=te.LayoutAnchorMode=void 0,(Ne=Ie=te.LayoutAnchorMode||(te.LayoutAnchorMode={}))[Ne.AVOID=0]="AVOID",Ne[Ne.ALIGN=1]="ALIGN",te.layout=p;class h extends Ce.Disposable{constructor(j,te){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Ce.Disposable.None,this.toDisposeOnSetContainer=Ce.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=ve.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,ve.hide(this.view),this.setContainer(j,te),this._register((0,Ce.toDisposable)((()=>this.setContainer(null,1))))}setContainer(j,te){var he;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(he=this.shadowRootHostElement)||void 0===he||he.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),j){if(this.container=j,this.useFixedPosition=1!==te,this.useShadowDOM=3===te,this.useShadowDOM){this.shadowRootHostElement=ve.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const j=document.createElement("style");j.textContent=Oe,this.shadowRoot.appendChild(j),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(ve.$("slot"))}else this.container.appendChild(this.view);const he=new Ce.DisposableStore;h.BUBBLE_UP_EVENTS.forEach((j=>{he.add(ve.addStandardDisposableListener(this.container,j,(j=>{this.onDOMEvent(j,!1)})))})),h.BUBBLE_DOWN_EVENTS.forEach((j=>{he.add(ve.addStandardDisposableListener(this.container,j,(j=>{this.onDOMEvent(j,!0)}),!0))})),this.toDisposeOnSetContainer=he}}show(j){this.isVisible()&&this.hide(),ve.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",ve.show(this.view),this.toDisposeOnClean=j.render(this.view)||Ce.Disposable.None,this.delegate=j,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||ye.isIOS&&he.BrowserFeatures.pointerEvents))return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let j,te=this.delegate.getAnchor();if(ve.isHTMLElement(te)){let he=ve.getDomNodePagePosition(te);j={top:he.top,left:he.left,width:he.width,height:he.height}}else j={top:te.y,left:te.x,width:te.width||1,height:te.height||2};const he=ve.getTotalWidth(this.view),Ce=ve.getTotalHeight(this.view),ye=this.delegate.anchorPosition||0,Ne=this.delegate.anchorAlignment||0;let Oe,Ke;if(0===(this.delegate.anchorAxisAlignment||0)){const te={offset:j.top-window.pageYOffset,size:j.height,position:0===ye?0:1},ve={offset:j.left,size:j.width,position:0===Ne?0:1,mode:Ie.ALIGN};Oe=p(window.innerHeight,Ce,te)+window.pageYOffset,Ee.Range.intersects({start:Oe,end:Oe+Ce},{start:te.offset,end:te.offset+te.size})&&(ve.mode=Ie.AVOID),Ke=p(window.innerWidth,he,ve)}else{const te={offset:j.left,size:j.width,position:0===Ne?0:1},ve={offset:j.top,size:j.height,position:0===ye?0:1,mode:Ie.ALIGN};Ke=p(window.innerWidth,he,te),Ee.Range.intersects({start:Ke,end:Ke+he},{start:te.offset,end:te.offset+te.size})&&(ve.mode=Ie.AVOID),Oe=p(window.innerHeight,Ce,ve)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===ye?"bottom":"top"),this.view.classList.add(0===Ne?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const je=ve.getDomNodePagePosition(this.container);this.view.style.top=Oe-(this.useFixedPosition?ve.getDomNodePagePosition(this.view).top:je.top)+"px",this.view.style.left=Ke-(this.useFixedPosition?ve.getDomNodePagePosition(this.view).left:je.left)+"px",this.view.style.width="initial"}hide(j){const te=this.delegate;this.delegate=null,(null==te?void 0:te.onHide)&&te.onHide(j),this.toDisposeOnClean.dispose(),ve.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(j,te){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(j,document.activeElement):te&&!ve.isAncestor(j.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}te.ContextView=h,h.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],h.BUBBLE_DOWN_EVENTS=["click"];let Oe='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n'})),define(Ce[335],ie([12]),{}),define(Ce[223],ie([1,0,7,29,39,8,335]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.CountBadge=void 0;const Ee={badgeBackground:ve.Color.fromHex("#4D4D4D"),badgeForeground:ve.Color.fromHex("#FFFFFF")};te.CountBadge=class b{constructor(j,te){this.count=0,this.options=te||Object.create(null),(0,Ce.mixin)(this.options,Ee,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,he.append)(j,(0,he.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(j){this.count=j,this.render()}setTitleFormat(j){this.titleFormat=j,this.render()}render(){this.element.textContent=(0,ye.format)(this.countFormat,this.count),this.element.title=(0,ye.format)(this.titleFormat,this.count),this.applyStyles()}style(j){this.badgeBackground=j.badgeBackground,this.badgeForeground=j.badgeForeground,this.badgeBorder=j.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const j=this.badgeBackground?this.badgeBackground.toString():"",te=this.badgeForeground?this.badgeForeground.toString():"",he=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=j,this.element.style.color=te,this.element.style.borderWidth=he?"1px":"",this.element.style.borderStyle=he?"solid":"",this.element.style.borderColor=he}}}})),define(Ce[224],ie([12]),{}),define(Ce[225],ie([12]),{}),define(Ce[336],ie([12]),{}),define(Ce[337],ie([12]),{}),define(Ce[338],ie([12]),{}),define(Ce[339],ie([12]),{}),define(Ce[226],ie([12]),{}),define(Ce[340],ie([12]),{}),define(Ce[141],ie([1,0,340]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,te.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"})),define(Ce[341],ie([12]),{}),define(Ce[342],ie([1,0,7,10,29,2,39,341]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.ProgressBar=void 0;const Ie="done",Ne="active",Oe="infinite",Ke="infinite-long-running",je="discrete",Ze={progressBarBackground:Ce.Color.fromHex("#0E70C0")};class n extends ye.Disposable{constructor(j,te){super(),this.options=te||Object.create(null),(0,Ee.mixin)(this.options,Ze,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new ve.RunOnceScheduler((()=>(0,he.show)(this.element)),0)),this.longRunningScheduler=this._register(new ve.RunOnceScheduler((()=>this.infiniteLongRunning()),n.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(j)}create(j){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),j.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Ne,Oe,Ke,je),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(j){return this.element.classList.add(Ie),this.element.classList.contains(Oe)?(this.bit.style.opacity="0",j?setTimeout((()=>this.off()),200):this.off()):(this.bit.style.width="inherit",j?setTimeout((()=>this.off()),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(je,Ie,Ke),this.element.classList.add(Ne,Oe),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Ke)}getContainer(){return this.element}style(j){this.progressBarBackground=j.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const j=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=j}}}te.ProgressBar=n,n.LONG_RUNNING_INFINITE_THRESHOLD=1e4})),define(Ce[343],ie([12]),{}),define(Ce[114],ie([1,0,7,89,57,10,93,4,2,17,343]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.Sash=te.OrthogonalEdge=void 0;var Ke;(Ke=te.OrthogonalEdge||(te.OrthogonalEdge={})).North="north",Ke.South="south",Ke.East="east",Ke.West="west";const je=new Ie.Emitter;const Ze=new Ie.Emitter;class r{constructor(){this.disposables=new Ne.DisposableStore}get onPointerMove(){return this.disposables.add(new ve.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new ve.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Ci([Ee.memoize],r.prototype,"onPointerMove",null),Ci([Ee.memoize],r.prototype,"onPointerUp",null);class s{constructor(j){this.el=j,this.disposables=new Ne.DisposableStore}get onPointerMove(){return this.disposables.add(new ve.DomEmitter(this.el,Ce.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new ve.DomEmitter(this.el,Ce.EventType.End)).event}dispose(){this.disposables.dispose()}}Ci([Ee.memoize],s.prototype,"onPointerMove",null),Ci([Ee.memoize],s.prototype,"onPointerUp",null);class o{constructor(j){this.factory=j}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Ci([Ee.memoize],o.prototype,"onPointerMove",null),Ci([Ee.memoize],o.prototype,"onPointerUp",null);const Ye="pointer-events-disabled";class d extends Ne.Disposable{constructor(j,te,Ee){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new ye.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new Ie.Emitter),this._onDidStart=this._register(new Ie.Emitter),this._onDidChange=this._register(new Ie.Emitter),this._onDidReset=this._register(new Ie.Emitter),this._onDidEnd=this._register(new Ie.Emitter),this.orthogonalStartSashDisposables=this._register(new Ne.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new Ne.DisposableStore),this.orthogonalEndSashDisposables=this._register(new Ne.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new Ne.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,he.append)(j,(0,he.$)(".monaco-sash")),Ee.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${Ee.orthogonalEdge}`),Oe.isMacintosh&&this.el.classList.add("mac");const Ke=this._register(new ve.DomEmitter(this.el,"mousedown")).event;this._register(Ke((j=>this.onPointerStart(j,new r)),this));const Ye=this._register(new ve.DomEmitter(this.el,"dblclick")).event;this._register(Ye(this.onPointerDoublePress,this));const et=this._register(new ve.DomEmitter(this.el,"mouseenter")).event;this._register(et((()=>d.onMouseEnter(this))));const nt=this._register(new ve.DomEmitter(this.el,"mouseleave")).event;this._register(nt((()=>d.onMouseLeave(this)))),this._register(Ce.Gesture.addTarget(this.el));const rt=Ie.Event.map(this._register(new ve.DomEmitter(this.el,Ce.EventType.Start)).event,(j=>{var te;return Object.assign(Object.assign({},j),{target:null!==(te=j.initialTarget)&&void 0!==te?te:null})}));this._register(rt((j=>this.onPointerStart(j,new s(this.el))),this));const at=this._register(new ve.DomEmitter(this.el,Ce.EventType.Tap)).event,ct=Ie.Event.map(Ie.Event.filter(Ie.Event.debounce(at,((j,te)=>{var he;return{event:te,count:(null!==(he=null==j?void 0:j.count)&&void 0!==he?he:0)+1}}),250),(({count:j})=>2===j)),(({event:j})=>{var te;return Object.assign(Object.assign({},j),{target:null!==(te=j.initialTarget)&&void 0!==te?te:null})}));this._register(ct(this.onPointerDoublePress,this)),"number"==typeof Ee.size?(this.size=Ee.size,0===Ee.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(je.event((j=>{this.size=j,this.layout()})))),this._register(Ze.event((j=>this.hoverDelay=j))),this.layoutProvider=te,this.orthogonalStartSash=Ee.orthogonalStartSash,this.orthogonalEndSash=Ee.orthogonalEndSash,this.orientation=Ee.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",false),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(j){this._state!==j&&(this.el.classList.toggle("disabled",0===j),this.el.classList.toggle("minimum",1===j),this.el.classList.toggle("maximum",2===j),this._state=j,this.onDidEnablementChange.fire(j))}set orthogonalStartSash(j){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),j){const S=te=>{this.orthogonalStartDragHandleDisposables.clear(),0!==te&&(this._orthogonalStartDragHandle=(0,he.append)(this.el,(0,he.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,Ne.toDisposable)((()=>this._orthogonalStartDragHandle.remove()))),this.orthogonalStartDragHandleDisposables.add(new ve.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event((()=>d.onMouseEnter(j)),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new ve.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event((()=>d.onMouseLeave(j)),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(j.onDidEnablementChange.event(S,this)),S(j.state)}this._orthogonalStartSash=j}set orthogonalEndSash(j){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),j){const S=te=>{this.orthogonalEndDragHandleDisposables.clear(),0!==te&&(this._orthogonalEndDragHandle=(0,he.append)(this.el,(0,he.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,Ne.toDisposable)((()=>this._orthogonalEndDragHandle.remove()))),this.orthogonalEndDragHandleDisposables.add(new ve.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event((()=>d.onMouseEnter(j)),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new ve.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event((()=>d.onMouseLeave(j)),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(j.onDidEnablementChange.event(S,this)),S(j.state)}this._orthogonalEndSash=j}onPointerStart(j,te){he.EventHelper.stop(j);let ve=!1;if(!j.__orthogonalSashEvent){const he=this.getOrthogonalSash(j);he&&(ve=!0,j.__orthogonalSashEvent=!0,he.onPointerStart(j,new o(te)))}if(this.linkedSash&&!j.__linkedSashEvent&&(j.__linkedSashEvent=!0,this.linkedSash.onPointerStart(j,new o(te))),!this.state)return;const Ce=(0,he.getElementsByTagName)("iframe");for(const j of Ce)j.classList.add(Ye);const ye=j.pageX,Ee=j.pageY,Ie=j.altKey,Ke={startX:ye,currentX:ye,startY:Ee,currentY:Ee,altKey:Ie};this.el.classList.add("active"),this._onDidStart.fire(Ke);const je=(0,he.createStyleSheet)(this.el),M=()=>{let j="";j=ve?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":Oe.isMacintosh?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":Oe.isMacintosh?"col-resize":"ew-resize",je.textContent=`* { cursor: ${j} !important; }`},Ze=new Ne.DisposableStore;M(),ve||this.onDidEnablementChange.event(M,null,Ze);te.onPointerMove((j=>{he.EventHelper.stop(j,!1);const te={startX:ye,currentX:j.pageX,startY:Ee,currentY:j.pageY,altKey:Ie};this._onDidChange.fire(te)}),null,Ze),te.onPointerUp((j=>{he.EventHelper.stop(j,!1),this.el.removeChild(je),this.el.classList.remove("active"),this._onDidEnd.fire(),Ze.dispose();for(const j of Ce)j.classList.remove(Ye)}),null,Ze),Ze.add(te)}onPointerDoublePress(j){const te=this.getOrthogonalSash(j);te&&te._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(j,te=!1){j.el.classList.contains("active")?(j.hoverDelayer.cancel(),j.el.classList.add("hover")):j.hoverDelayer.trigger((()=>j.el.classList.add("hover")),j.hoverDelay).then(void 0,(()=>{})),!te&&j.linkedSash&&d.onMouseEnter(j.linkedSash,!0)}static onMouseLeave(j,te=!1){j.hoverDelayer.cancel(),j.el.classList.remove("hover"),!te&&j.linkedSash&&d.onMouseLeave(j.linkedSash,!0)}clearSashHoverState(){d.onMouseLeave(this)}layout(){if(0===this.orientation){const j=this.layoutProvider;this.el.style.left=j.getVerticalSashLeft(this)-this.size/2+"px",j.getVerticalSashTop&&(this.el.style.top=j.getVerticalSashTop(this)+"px"),j.getVerticalSashHeight&&(this.el.style.height=j.getVerticalSashHeight(this)+"px")}else{const j=this.layoutProvider;this.el.style.top=j.getHorizontalSashTop(this)-this.size/2+"px",j.getHorizontalSashLeft&&(this.el.style.left=j.getHorizontalSashLeft(this)+"px"),j.getHorizontalSashWidth&&(this.el.style.width=j.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(j){if(j.target&&j.target instanceof HTMLElement&&j.target.classList.contains("orthogonal-drag-handle"))return j.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}te.Sash=d})),define(Ce[344],ie([12]),{}),define(Ce[67],ie([1,0,34,7,30,56,322,323,60,10,4,2,17,137,344]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){Object.defineProperty(te,"__esModule",{value:!0}),te.DomScrollableElement=te.SmoothScrollableElement=te.ScrollableElement=te.AbstractScrollableElement=te.MouseWheelClassifier=void 0;class s{constructor(j,te,he){this.timestamp=j,this.deltaX=te,this.deltaY=he,this.score=0}}class o{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let j=1,te=0,he=1,ve=this._rear;for(;;){const Ce=ve===this._front?j:Math.pow(2,-he);if(j-=Ce,te+=this._memory[ve].score*Ce,ve===this._front)break;ve=(this._capacity+ve-1)%this._capacity,he++}return te<=.5}accept(j,te,he){const ve=new s(j,te,he);ve.score=this._computeScore(ve),-1===this._front&&-1===this._rear?(this._memory[0]=ve,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=ve)}_computeScore(j){if(Math.abs(j.deltaX)>0&&Math.abs(j.deltaY)>0)return 1;let te=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return(!this._isAlmostInt(j.deltaX)||!this._isAlmostInt(j.deltaY))&&(te+=.25),Math.min(Math.max(te,0),1)}_isAlmostInt(j){return Math.abs(Math.round(j)-j)<.01}}te.MouseWheelClassifier=o,o.INSTANCE=new o;class a extends Ne.Widget{constructor(j,te,he){super(),this._onScroll=this._register(new Ke.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new Ke.Emitter),j.style.overflow="hidden",this._options=function S(j){const te={lazyRender:void 0!==j.lazyRender&&j.lazyRender,className:void 0!==j.className?j.className:"",useShadows:void 0===j.useShadows||j.useShadows,handleMouseWheel:void 0===j.handleMouseWheel||j.handleMouseWheel,flipAxes:void 0!==j.flipAxes&&j.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==j.consumeMouseWheelIfScrollbarIsNeeded&&j.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==j.alwaysConsumeMouseWheel&&j.alwaysConsumeMouseWheel,scrollYToX:void 0!==j.scrollYToX&&j.scrollYToX,mouseWheelScrollSensitivity:void 0!==j.mouseWheelScrollSensitivity?j.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==j.fastScrollSensitivity?j.fastScrollSensitivity:5,scrollPredominantAxis:void 0===j.scrollPredominantAxis||j.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===j.mouseWheelSmoothScroll||j.mouseWheelSmoothScroll,arrowSize:void 0!==j.arrowSize?j.arrowSize:11,listenOnDomNode:void 0!==j.listenOnDomNode?j.listenOnDomNode:null,horizontal:void 0!==j.horizontal?j.horizontal:1,horizontalScrollbarSize:void 0!==j.horizontalScrollbarSize?j.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==j.horizontalSliderSize?j.horizontalSliderSize:0,horizontalHasArrows:void 0!==j.horizontalHasArrows&&j.horizontalHasArrows,vertical:void 0!==j.vertical?j.vertical:1,verticalScrollbarSize:void 0!==j.verticalScrollbarSize?j.verticalScrollbarSize:10,verticalHasArrows:void 0!==j.verticalHasArrows&&j.verticalHasArrows,verticalSliderSize:void 0!==j.verticalSliderSize?j.verticalSliderSize:0,scrollByPage:void 0!==j.scrollByPage&&j.scrollByPage};return te.horizontalSliderSize=void 0!==j.horizontalSliderSize?j.horizontalSliderSize:te.horizontalScrollbarSize,te.verticalSliderSize=void 0!==j.verticalSliderSize?j.verticalSliderSize:te.verticalScrollbarSize,Ze.isMacintosh&&(te.className+=" mac"),te}(te),this._scrollable=he,this._register(this._scrollable.onScroll((j=>{this._onWillScroll.fire(j),this._onDidScroll(j),this._onScroll.fire(j)})));const ve={onMouseWheel:j=>this._onMouseWheel(j),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Ie.VerticalScrollbar(this._scrollable,this._options,ve)),this._horizontalScrollbar=this._register(new Ee.HorizontalScrollbar(this._scrollable,this._options,ve)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(j),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,Ce.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,Ce.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,Ce.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(j=>this._onMouseOver(j))),this.onnonbubblingmouseout(this._listenOnDomNode,(j=>this._onMouseOut(j))),this._hideTimeout=this._register(new Oe.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,je.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(j){this._verticalScrollbar.delegateMouseDown(j)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(j){this._scrollable.setScrollDimensions(j,!1)}updateClassName(j){this._options.className=j,Ze.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(j){void 0!==j.handleMouseWheel&&(this._options.handleMouseWheel=j.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==j.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=j.mouseWheelScrollSensitivity),void 0!==j.fastScrollSensitivity&&(this._options.fastScrollSensitivity=j.fastScrollSensitivity),void 0!==j.scrollPredominantAxis&&(this._options.scrollPredominantAxis=j.scrollPredominantAxis),void 0!==j.horizontal&&(this._options.horizontal=j.horizontal),void 0!==j.vertical&&(this._options.vertical=j.vertical),void 0!==j.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=j.horizontalScrollbarSize),void 0!==j.verticalScrollbarSize&&(this._options.verticalScrollbarSize=j.verticalScrollbarSize),void 0!==j.scrollByPage&&(this._options.scrollByPage=j.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(j){if(this._mouseWheelToDispose.length>0!==j&&(this._mouseWheelToDispose=(0,je.dispose)(this._mouseWheelToDispose),j)){const L=j=>{this._onMouseWheel(new ye.StandardWheelEvent(j))};this._mouseWheelToDispose.push(ve.addDisposableListener(this._listenOnDomNode,ve.EventType.MOUSE_WHEEL,L,{passive:!1}))}}_onMouseWheel(j){const te=o.INSTANCE;{const ve=window.devicePixelRatio/(0,he.getZoomFactor)();Ze.isWindows||Ze.isLinux?te.accept(Date.now(),j.deltaX/ve,j.deltaY/ve):te.accept(Date.now(),j.deltaX,j.deltaY)}let ve=!1;if(j.deltaY||j.deltaX){let he=j.deltaY*this._options.mouseWheelScrollSensitivity,Ce=j.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(he)>=Math.abs(Ce)?Ce=0:he=0),this._options.flipAxes&&([he,Ce]=[Ce,he]);const ye=!Ze.isMacintosh&&j.browserEvent&&j.browserEvent.shiftKey;(this._options.scrollYToX||ye)&&!Ce&&(Ce=he,he=0),j.browserEvent&&j.browserEvent.altKey&&(Ce*=this._options.fastScrollSensitivity,he*=this._options.fastScrollSensitivity);const Ee=this._scrollable.getFutureScrollPosition();let Ie={};if(he){const j=50*he,te=Ee.scrollTop-(j<0?Math.floor(j):Math.ceil(j));this._verticalScrollbar.writeScrollPosition(Ie,te)}if(Ce){const j=50*Ce,te=Ee.scrollLeft-(j<0?Math.floor(j):Math.ceil(j));this._horizontalScrollbar.writeScrollPosition(Ie,te)}Ie=this._scrollable.validateScrollPosition(Ie),(Ee.scrollLeft!==Ie.scrollLeft||Ee.scrollTop!==Ie.scrollTop)&&(this._options.mouseWheelSmoothScroll&&te.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Ie):this._scrollable.setScrollPositionNow(Ie),ve=!0)}let Ce=ve;!Ce&&this._options.alwaysConsumeMouseWheel&&(Ce=!0),!Ce&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(Ce=!0),Ce&&(j.preventDefault(),j.stopPropagation())}_onDidScroll(j){this._shouldRender=this._horizontalScrollbar.onDidScroll(j)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(j)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const j=this._scrollable.getCurrentScrollPosition(),te=j.scrollTop>0,he=j.scrollLeft>0,ve=he?" left":"",Ce=te?" top":"",ye=he||te?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${ve}`),this._topShadowDomNode.setClassName(`shadow${Ce}`),this._topLeftShadowDomNode.setClassName(`shadow${ye}${Ce}${ve}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(j){this._mouseIsOver=!1,this._hide()}_onMouseOver(j){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet((()=>this._hide()),500)}}te.AbstractScrollableElement=a;te.ScrollableElement=class d extends a{constructor(j,te){(te=te||{}).mouseWheelSmoothScroll=!1;const he=new Ye.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:j=>ve.scheduleAtNextAnimationFrame(j)});super(j,te,he),this._register(he)}setScrollPosition(j){this._scrollable.setScrollPositionNow(j)}};te.SmoothScrollableElement=class u extends a{constructor(j,te,he){super(j,te,he)}setScrollPosition(j){j.reuseAnimation?this._scrollable.setScrollPositionSmooth(j,j.reuseAnimation):this._scrollable.setScrollPositionNow(j)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}};te.DomScrollableElement=class f extends a{constructor(j,te){(te=te||{}).mouseWheelSmoothScroll=!1;const he=new Ye.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:j=>ve.scheduleAtNextAnimationFrame(j)});super(j,te,he),this._register(he),this._element=j,this.onScroll((j=>{j.scrollTopChanged&&(this._element.scrollTop=j.scrollTop),j.scrollLeftChanged&&(this._element.scrollLeft=j.scrollLeft)})),this.scanDomNode()}setScrollPosition(j){this._scrollable.setScrollPositionNow(j)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}})),define(Ce[227],ie([1,0,7,67,2,336]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.HoverAction=te.HoverWidget=void 0;const ye=he.$;class w extends Ce.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new ve.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}te.HoverWidget=w;class b extends Ce.Disposable{constructor(j,te,ve){super(),this.actionContainer=he.append(j,ye("div.action-container")),this.action=he.append(this.actionContainer,ye("a.action")),this.action.setAttribute("role","button"),te.iconClass&&he.append(this.action,ye(`span.icon.${te.iconClass}`));he.append(this.action,ye("span")).textContent=ve?`${te.label} (${ve})`:te.label,this._register(he.addDisposableListener(this.actionContainer,he.EventType.MOUSE_DOWN,(j=>{j.stopPropagation(),j.preventDefault(),te.run(this.actionContainer)}))),this.setEnabled(!0)}static render(j,te,he){return new b(j,te,he)}setEnabled(j){j?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}te.HoverAction=b})),define(Ce[173],ie([1,0,34,164,7,89,57,67,19,10,93,4,2,39,136,137,315,321]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at){Object.defineProperty(te,"__esModule",{value:!0}),te.ListView=te.NativeDragAndDropData=te.ExternalElementsDragAndDropData=te.ElementsDragAndDropData=void 0;const ct={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:j=>[j],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class a{constructor(j){this.elements=j}update(){}getData(){return this.elements}}te.ElementsDragAndDropData=a;class d{constructor(j){this.elements=j}update(){}getData(){return this.elements}}te.ExternalElementsDragAndDropData=d;class u{constructor(){this.types=[],this.files=[]}update(j){if(j.types&&this.types.splice(0,this.types.length,...j.types),j.files){this.files.splice(0,this.files.length);for(let te=0;te<j.files.length;te++){const he=j.files.item(te);he&&(he.size||he.type)&&this.files.push(he)}}}getData(){return{types:this.types,files:this.files}}}te.NativeDragAndDropData=u;class S{constructor(j){(null==j?void 0:j.getSetSize)?this.getSetSize=j.getSetSize.bind(j):this.getSetSize=(j,te,he)=>he,(null==j?void 0:j.getPosInSet)?this.getPosInSet=j.getPosInSet.bind(j):this.getPosInSet=(j,te)=>te+1,(null==j?void 0:j.getRole)?this.getRole=j.getRole.bind(j):this.getRole=j=>"listitem",(null==j?void 0:j.isChecked)?this.isChecked=j.isChecked.bind(j):this.isChecked=j=>{}}}class v{constructor(j,te,he,ve=ct){if(this.virtualDelegate=te,this.domId="list_id_"+ ++v.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new Oe.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=Ze.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=Ze.Disposable.None,this.onDragLeaveTimeout=Ze.Disposable.None,this.disposables=new Ze.DisposableStore,this._onDidChangeContentHeight=new je.Emitter,this._horizontalScrolling=!1,ve.horizontalScrolling&&ve.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new rt.RangeMap;for(const j of he)this.renderers.set(j.templateId,j);this.cache=this.disposables.add(new at.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof ve.mouseSupport||ve.mouseSupport),this._horizontalScrolling=(0,Ye.getOrDefault)(ve,(j=>j.horizontalScrolling),ct.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===ve.additionalScrollHeight?0:ve.additionalScrollHeight,this.accessibilityProvider=new S(ve.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,Ye.getOrDefault)(ve,(j=>j.transformOptimization),ct.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(Ee.Gesture.addTarget(this.rowsContainer)),this.scrollable=new nt.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(0,Ye.getOrDefault)(ve,(j=>j.smoothScrolling),!1)?125:0,scheduleAtNextAnimationFrame:j=>(0,Ce.scheduleAtNextAnimationFrame)(j)}),this.scrollableElement=this.disposables.add(new Ie.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,Ye.getOrDefault)(ve,(j=>j.alwaysConsumeMouseWheel),ct.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,Ye.getOrDefault)(ve,(j=>j.verticalScrollMode),ct.verticalScrollMode),useShadows:(0,Ye.getOrDefault)(ve,(j=>j.useShadows),ct.useShadows),mouseWheelScrollSensitivity:ve.mouseWheelScrollSensitivity,fastScrollSensitivity:ve.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),j.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,Ce.addDisposableListener)(this.rowsContainer,Ee.EventType.Change,(j=>this.onTouchChange(j)))),this.disposables.add((0,Ce.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",(j=>j.target.scrollTop=0))),this.disposables.add((0,Ce.addDisposableListener)(this.domNode,"dragover",(j=>this.onDragOver(this.toDragEvent(j))))),this.disposables.add((0,Ce.addDisposableListener)(this.domNode,"drop",(j=>this.onDrop(this.toDragEvent(j))))),this.disposables.add((0,Ce.addDisposableListener)(this.domNode,"dragleave",(j=>this.onDragLeave(this.toDragEvent(j))))),this.disposables.add((0,Ce.addDisposableListener)(this.domNode,"dragend",(j=>this.onDragEnd(j)))),this.setRowLineHeight=(0,Ye.getOrDefault)(ve,(j=>j.setRowLineHeight),ct.setRowLineHeight),this.setRowHeight=(0,Ye.getOrDefault)(ve,(j=>j.setRowHeight),ct.setRowHeight),this.supportDynamicHeights=(0,Ye.getOrDefault)(ve,(j=>j.supportDynamicHeights),ct.supportDynamicHeights),this.dnd=(0,Ye.getOrDefault)(ve,(j=>j.dnd),ct.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(j){if(j!==this._horizontalScrolling){if(j&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=j,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const j of this.items)this.measureItemWidth(j);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,Ce.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(j){void 0!==j.additionalScrollHeight&&(this.additionalScrollHeight=j.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==j.smoothScrolling&&this.scrollable.setSmoothScrollDuration(j.smoothScrolling?125:0),void 0!==j.horizontalScrolling&&(this.horizontalScrolling=j.horizontalScrolling),void 0!==j.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:j.mouseWheelScrollSensitivity}),void 0!==j.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:j.fastScrollSensitivity})}splice(j,te,he=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(j,te,he)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(j,te,he=[]){const ve=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Ce={start:j,end:j+te},ye=et.Range.intersect(ve,Ce),Ee=new Map;for(let j=ye.end-1;j>=ye.start;j--){const te=this.items[j];if(te.dragStartDisposable.dispose(),te.row){let he=Ee.get(te.templateId);he||(he=[],Ee.set(te.templateId,he));const ve=this.renderers.get(te.templateId);ve&&ve.disposeElement&&ve.disposeElement(te.element,j,te.row.templateData,te.size),he.push(te.row)}te.row=null}const Ie={start:j+te,end:this.items.length},Ne=et.Range.intersect(Ie,ve),Oe=et.Range.relativeComplement(Ie,ve),Ke=he.map((j=>({id:String(this.itemId++),element:j,templateId:this.virtualDelegate.getTemplateId(j),size:this.virtualDelegate.getHeight(j),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(j),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:Ze.Disposable.None})));let je;0===j&&te>=this.items.length?(this.rangeMap=new rt.RangeMap,this.rangeMap.splice(0,0,Ke),je=this.items,this.items=Ke):(this.rangeMap.splice(j,te,Ke),je=this.items.splice(j,te,...Ke));const Ye=he.length-te,nt=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),at=(0,rt.shift)(Ne,Ye),ct=et.Range.intersect(nt,at);for(let j=ct.start;j<ct.end;j++)this.updateItemInDOM(this.items[j],j);const ht=et.Range.relativeComplement(at,nt);for(const j of ht)for(let te=j.start;te<j.end;te++)this.removeItemFromDOM(te);const mt=Oe.map((j=>(0,rt.shift)(j,Ye))),pt=[{start:j,end:j+he.length},...mt].map((j=>et.Range.intersect(nt,j))),ft=this.getNextToLastElement(pt);for(const j of pt)for(let te=j.start;te<j.end;te++){const j=this.items[te],he=Ee.get(j.templateId),ve=null==he?void 0:he.pop();this.insertItemInDOM(te,ft,ve)}for(const j of Ee.values())for(const te of j)this.cache.release(te);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),je.map((j=>j.element))}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,Ce.scheduleAtNextAnimationFrame)((()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger((()=>this.updateScrollWidth())):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let j=0;for(const te of this.items)void 0!==te.width&&(j=Math.max(j,te.width));this.scrollWidth=j,this.scrollableElement.setScrollDimensions({scrollWidth:0===j?0:j+10})}rerender(){if(this.supportDynamicHeights){for(const j of this.items)j.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(j){return this.items[j].element}domElement(j){const te=this.items[j].row;return te&&te.domNode}elementHeight(j){return this.items[j].size}elementTop(j){return this.rangeMap.positionAt(j)}indexAt(j){return this.rangeMap.indexAt(j)}indexAfter(j){return this.rangeMap.indexAfter(j)}layout(j,te){let he={height:"number"==typeof j?j:(0,Ce.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,he.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(he),void 0!==te&&(this.renderWidth=te,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof te?te:(0,Ce.getContentWidth)(this.domNode)})}render(j,te,he,ve,Ce,ye=!1){const Ee=this.getRenderRange(te,he),Ie=et.Range.relativeComplement(Ee,j),Ne=et.Range.relativeComplement(j,Ee),Oe=this.getNextToLastElement(Ie);if(ye){const te=et.Range.intersect(j,Ee);for(let j=te.start;j<te.end;j++)this.updateItemInDOM(this.items[j],j)}for(const j of Ie)for(let te=j.start;te<j.end;te++)this.insertItemInDOM(te,Oe);for(const j of Ne)for(let te=j.start;te<j.end;te++)this.removeItemFromDOM(te);void 0!==ve&&(this.rowsContainer.style.left=`-${ve}px`),this.rowsContainer.style.top=`-${te}px`,this.horizontalScrolling&&void 0!==Ce&&(this.rowsContainer.style.width=`${Math.max(Ce,this.renderWidth)}px`),this.lastRenderTop=te,this.lastRenderHeight=he}insertItemInDOM(j,te,he){const ve=this.items[j];ve.row||(ve.row=he??this.cache.alloc(ve.templateId));const ye=this.accessibilityProvider.getRole(ve.element)||"listitem";ve.row.domNode.setAttribute("role",ye);const Ee=this.accessibilityProvider.isChecked(ve.element);void 0!==Ee&&ve.row.domNode.setAttribute("aria-checked",String(!!Ee)),ve.row.domNode.parentElement||(te?this.rowsContainer.insertBefore(ve.row.domNode,te):this.rowsContainer.appendChild(ve.row.domNode)),this.updateItemInDOM(ve,j);const Ie=this.renderers.get(ve.templateId);if(!Ie)throw new Error(`No renderer found for template id ${ve.templateId}`);Ie&&Ie.renderElement(ve.element,j,ve.row.templateData,ve.size);const Ne=this.dnd.getDragURI(ve.element);ve.dragStartDisposable.dispose(),ve.row.domNode.draggable=!!Ne,Ne&&(ve.dragStartDisposable=(0,Ce.addDisposableListener)(ve.row.domNode,"dragstart",(j=>this.onDragStart(ve.element,Ne,j)))),this.horizontalScrolling&&(this.measureItemWidth(ve),this.eventuallyUpdateScrollWidth())}measureItemWidth(j){if(!j.row||!j.row.domNode)return;j.row.domNode.style.width=he.isFirefox?"-moz-fit-content":"fit-content",j.width=(0,Ce.getContentWidth)(j.row.domNode);const te=window.getComputedStyle(j.row.domNode);te.paddingLeft&&(j.width+=parseFloat(te.paddingLeft)),te.paddingRight&&(j.width+=parseFloat(te.paddingRight)),j.row.domNode.style.width=""}updateItemInDOM(j,te){j.row.domNode.style.top=`${this.elementTop(te)}px`,this.setRowHeight&&(j.row.domNode.style.height=`${j.size}px`),this.setRowLineHeight&&(j.row.domNode.style.lineHeight=`${j.size}px`),j.row.domNode.setAttribute("data-index",`${te}`),j.row.domNode.setAttribute("data-last-element",te===this.length-1?"true":"false"),j.row.domNode.setAttribute("data-parity",te%2==0?"even":"odd"),j.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(j.element,te,this.length))),j.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(j.element,te))),j.row.domNode.setAttribute("id",this.getElementDomId(te)),j.row.domNode.classList.toggle("drop-target",j.dropTarget)}removeItemFromDOM(j){const te=this.items[j];if(te.dragStartDisposable.dispose(),te.row){const he=this.renderers.get(te.templateId);he&&he.disposeElement&&he.disposeElement(te.element,j,te.row.templateData,te.size),this.cache.release(te.row),te.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(j,te){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:j,reuseAnimation:te})}get scrollTop(){return this.getScrollTop()}set scrollTop(j){this.setScrollTop(j)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return je.Event.map(this.disposables.add(new ye.DomEmitter(this.domNode,"click")).event,(j=>this.toMouseEvent(j)))}get onMouseDblClick(){return je.Event.map(this.disposables.add(new ye.DomEmitter(this.domNode,"dblclick")).event,(j=>this.toMouseEvent(j)))}get onMouseMiddleClick(){return je.Event.filter(je.Event.map(this.disposables.add(new ye.DomEmitter(this.domNode,"auxclick")).event,(j=>this.toMouseEvent(j))),(j=>1===j.browserEvent.button))}get onMouseDown(){return je.Event.map(this.disposables.add(new ye.DomEmitter(this.domNode,"mousedown")).event,(j=>this.toMouseEvent(j)))}get onContextMenu(){return je.Event.any(je.Event.map(this.disposables.add(new ye.DomEmitter(this.domNode,"contextmenu")).event,(j=>this.toMouseEvent(j))),je.Event.map(this.disposables.add(new ye.DomEmitter(this.domNode,Ee.EventType.Contextmenu)).event,(j=>this.toGestureEvent(j))))}get onTouchStart(){return je.Event.map(this.disposables.add(new ye.DomEmitter(this.domNode,"touchstart")).event,(j=>this.toTouchEvent(j)))}get onTap(){return je.Event.map(this.disposables.add(new ye.DomEmitter(this.rowsContainer,Ee.EventType.Tap)).event,(j=>this.toGestureEvent(j)))}toMouseEvent(j){const te=this.getItemIndexFromEventTarget(j.target||null),he=void 0===te?void 0:this.items[te];return{browserEvent:j,index:te,element:he&&he.element}}toTouchEvent(j){const te=this.getItemIndexFromEventTarget(j.target||null),he=void 0===te?void 0:this.items[te];return{browserEvent:j,index:te,element:he&&he.element}}toGestureEvent(j){const te=this.getItemIndexFromEventTarget(j.initialTarget||null),he=void 0===te?void 0:this.items[te];return{browserEvent:j,index:te,element:he&&he.element}}toDragEvent(j){const te=this.getItemIndexFromEventTarget(j.target||null),he=void 0===te?void 0:this.items[te];return{browserEvent:j,index:te,element:he&&he.element}}onScroll(j){try{const te=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(te,j.scrollTop,j.height,j.scrollLeft,j.scrollWidth),this.supportDynamicHeights&&this._rerender(j.scrollTop,j.height,j.inSmoothScrolling)}catch(te){throw console.error("Got bad scroll event:",j),te}}onTouchChange(j){j.preventDefault(),j.stopPropagation(),this.scrollTop-=j.translationY}onDragStart(j,te,he){if(!he.dataTransfer)return;const ye=this.dnd.getDragElements(j);if(he.dataTransfer.effectAllowed="copyMove",he.dataTransfer.setData(ve.DataTransfers.TEXT,te),he.dataTransfer.setDragImage){let j;this.dnd.getDragLabel&&(j=this.dnd.getDragLabel(ye,he)),void 0===j&&(j=String(ye.length));const te=(0,Ce.$)(".monaco-drag-image");te.textContent=j,document.body.appendChild(te),he.dataTransfer.setDragImage(te,-10,-10),setTimeout((()=>document.body.removeChild(te)),0)}this.currentDragData=new a(ye),ve.StaticDND.CurrentDragAndDropData=new d(ye),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,he)}onDragOver(j){if(j.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),ve.StaticDND.CurrentDragAndDropData&&"vscode-ui"===ve.StaticDND.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation(j.browserEvent),!j.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(ve.StaticDND.CurrentDragAndDropData)this.currentDragData=ve.StaticDND.CurrentDragAndDropData;else{if(!j.browserEvent.dataTransfer.types)return!1;this.currentDragData=new u}const te=this.dnd.onDragOver(this.currentDragData,j.element,j.index,j.browserEvent);if(this.canDrop="boolean"==typeof te?te:te.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let he;if(j.browserEvent.dataTransfer.dropEffect="boolean"!=typeof te&&0===te.effect?"copy":"move",he="boolean"!=typeof te&&te.feedback?te.feedback:void 0===j.index?[-1]:[j.index],he=(0,Ne.distinct)(he).filter((j=>j>=-1&&j<this.length)).sort(((j,te)=>j-te)),he=-1===he[0]?[-1]:he,function f(j,te){return Array.isArray(j)&&Array.isArray(te)?(0,Ne.equals)(j,te):j===te}(this.currentDragFeedback,he))return!0;if(this.currentDragFeedback=he,this.currentDragFeedbackDisposable.dispose(),-1===he[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,Ze.toDisposable)((()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")}));else{for(const j of he){const te=this.items[j];te.dropTarget=!0,te.row&&te.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,Ze.toDisposable)((()=>{for(const j of he){const te=this.items[j];te.dropTarget=!1,te.row&&te.row.domNode.classList.remove("drop-target")}}))}return!0}onDragLeave(j){var te,he;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,Oe.disposableTimeout)((()=>this.clearDragOverFeedback()),100),this.currentDragData&&(null===(he=(te=this.dnd).onDragLeave)||void 0===he||he.call(te,this.currentDragData,j.element,j.index,j.browserEvent))}onDrop(j){if(!this.canDrop)return;const te=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,ve.StaticDND.CurrentDragAndDropData=void 0,te&&j.browserEvent.dataTransfer&&(j.browserEvent.preventDefault(),te.update(j.browserEvent.dataTransfer),this.dnd.drop(te,j.element,j.index,j.browserEvent))}onDragEnd(j){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,ve.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(j)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=Ze.Disposable.None}setupDragAndDropScrollTopAnimation(j){if(!this.dragOverAnimationDisposable){const j=(0,Ce.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,Ce.animate)(this.animateDragAndDropScrollTop.bind(this,j))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,Oe.disposableTimeout)((()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}),1e3),this.dragOverMouseY=j.pageY}animateDragAndDropScrollTop(j){if(void 0===this.dragOverMouseY)return;const te=this.dragOverMouseY-j,he=this.renderHeight-35;te<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(te-35))):te>he&&(this.scrollTop+=Math.min(14,Math.floor(.3*(te-he))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(j){const te=this.scrollableElement.getDomNode();let he=j;for(;he instanceof HTMLElement&&he!==this.rowsContainer&&te.contains(he);){const j=he.getAttribute("data-index");if(j){const te=Number(j);if(!isNaN(te))return te}he=he.parentElement}}getRenderRange(j,te){return{start:this.rangeMap.indexAt(j),end:this.rangeMap.indexAfter(j+te-1)}}_rerender(j,te,he){const ve=this.getRenderRange(j,te);let Ce,ye;j===this.elementTop(ve.start)?(Ce=ve.start,ye=0):ve.end-ve.start>1&&(Ce=ve.start+1,ye=this.elementTop(Ce)-j);let Ee=0;for(;;){const Ie=this.getRenderRange(j,te);let Ne=!1;for(let j=Ie.start;j<Ie.end;j++){const te=this.probeDynamicHeight(j);0!==te&&this.rangeMap.splice(j,1,[this.items[j]]),Ee+=te,Ne=Ne||0!==te}if(!Ne){0!==Ee&&this.eventuallyUpdateScrollDimensions();const te=et.Range.relativeComplement(ve,Ie);for(const j of te)for(let te=j.start;te<j.end;te++)this.items[te].row&&this.removeItemFromDOM(te);const Ne=et.Range.relativeComplement(Ie,ve);for(const j of Ne)for(let te=j.start;te<j.end;te++){const j=te+1,he=j<this.items.length?this.items[j].row:null,ve=he?he.domNode:null;this.insertItemInDOM(te,ve)}for(let j=Ie.start;j<Ie.end;j++)this.items[j].row&&this.updateItemInDOM(this.items[j],j);if("number"==typeof Ce){const te=this.scrollable.getFutureScrollPosition().scrollTop-j,ve=this.elementTop(Ce)-ye+te;this.setScrollTop(ve,he)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(j){const te=this.items[j];if(this.virtualDelegate.getDynamicHeight){const j=this.virtualDelegate.getDynamicHeight(te.element);if(null!==j){const he=te.size;return te.size=j,te.lastDynamicHeightWidth=this.renderWidth,j-he}}if(!te.hasDynamicHeight||te.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(te.element))return 0;const he=te.size;if(!this.setRowHeight&&te.row){let j=te.row.domNode.offsetHeight;return te.size=j,te.lastDynamicHeightWidth=this.renderWidth,j-he}const ve=this.cache.alloc(te.templateId);ve.domNode.style.height="",this.rowsContainer.appendChild(ve.domNode);const Ce=this.renderers.get(te.templateId);return Ce&&(Ce.renderElement(te.element,j,ve.templateData,void 0),Ce.disposeElement&&Ce.disposeElement(te.element,j,ve.templateData,void 0)),te.size=ve.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(te.element,te.size),te.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(ve.domNode),this.cache.release(ve),te.size-he}getNextToLastElement(j){const te=j[j.length-1];if(!te)return null;const he=this.items[te.end];return he&&he.row?he.row.domNode:null}getElementDomId(j){return`${this.domId}_${j}`}dispose(){if(this.items){for(const j of this.items)if(j.row){const te=this.renderers.get(j.row.templateId);te&&(te.disposeElement&&te.disposeElement(j.element,-1,j.row.templateData,void 0),te.disposeTemplate(j.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,Ze.dispose)(this.disposables)}}v.InstanceCount=0,Ci([Ke.memoize],v.prototype,"onMouseClick",null),Ci([Ke.memoize],v.prototype,"onMouseDblClick",null),Ci([Ke.memoize],v.prototype,"onMouseMiddleClick",null),Ci([Ke.memoize],v.prototype,"onMouseDown",null),Ci([Ke.memoize],v.prototype,"onContextMenu",null),Ci([Ke.memoize],v.prototype,"onTouchStart",null),Ci([Ke.memoize],v.prototype,"onTap",null),te.ListView=v})),define(Ce[115],ie([1,0,7,89,46,57,43,308,19,10,29,93,4,73,2,111,39,17,20,307,173,226]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt){Object.defineProperty(te,"__esModule",{value:!0}),te.List=te.DefaultStyleController=te.MouseController=te.isSelectionRangeChangeEvent=te.isSelectionSingleChangeEvent=te.DefaultKeyboardNavigationDelegate=te.isMonacoEditor=te.isInputElement=void 0;class u{constructor(j){this.trait=j,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(j){return j}renderElement(j,te,he){const ve=this.renderedElements.findIndex((j=>j.templateData===he));if(ve>=0){const j=this.renderedElements[ve];this.trait.unrender(he),j.index=te}else{const j={index:te,templateData:he};this.renderedElements.push(j)}this.trait.renderIndex(te,he)}splice(j,te,he){const ve=[];for(const Ce of this.renderedElements)Ce.index<j?ve.push(Ce):Ce.index>=j+te&&ve.push({index:Ce.index+he-te,templateData:Ce.templateData});this.renderedElements=ve}renderIndexes(j){for(const{index:te,templateData:he}of this.renderedElements)j.indexOf(te)>-1&&this.trait.renderIndex(te,he)}disposeTemplate(j){const te=this.renderedElements.findIndex((te=>te.templateData===j));te<0||this.renderedElements.splice(te,1)}}class f{constructor(j){this._trait=j,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new Ze.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new u(this)}splice(j,te,he){var ve;te=Math.max(0,Math.min(te,this.length-j));const Ce=he.length-te,ye=j+te,Ee=[...this.sortedIndexes.filter((te=>te<j)),...he.map(((te,he)=>te?he+j:-1)).filter((j=>-1!==j)),...this.sortedIndexes.filter((j=>j>=ye)).map((j=>j+Ce))],Ie=this.length+Ce;if(this.sortedIndexes.length>0&&0===Ee.length&&Ie>0){const te=null!==(ve=this.sortedIndexes.find((te=>te>=j)))&&void 0!==ve?ve:Ie-1;Ee.push(Math.min(te,Ie-1))}this.renderer.splice(j,te,he.length),this._set(Ee,Ee),this.length=Ie}renderIndex(j,te){te.classList.toggle(this._trait,this.contains(j))}unrender(j){j.classList.remove(this._trait)}set(j,te){return this._set(j,[...j].sort(X),te)}_set(j,te,he){const ve=this.indexes,Ce=this.sortedIndexes;this.indexes=j,this.sortedIndexes=te;const ye=H(Ce,j);return this.renderer.renderIndexes(ye),this._onChange.fire({indexes:j,browserEvent:he}),ve}get(){return this.indexes}contains(j){return(0,Ne.binarySearch)(this.sortedIndexes,j,X)>=0}dispose(){(0,et.dispose)(this._onChange)}}Ci([je.memoize],f.prototype,"renderer",null);class S extends f{constructor(j){super("selected"),this.setAriaSelected=j}renderIndex(j,te){super.renderIndex(j,te),this.setAriaSelected&&(this.contains(j)?te.setAttribute("aria-selected","true"):te.setAttribute("aria-selected","false"))}}class v{constructor(j,te,he){this.trait=j,this.view=te,this.identityProvider=he}splice(j,te,he){if(!this.identityProvider)return this.trait.splice(j,te,he.map((()=>!1)));const ve=this.trait.get().map((j=>this.identityProvider.getId(this.view.element(j)).toString())),Ce=he.map((j=>ve.indexOf(this.identityProvider.getId(j).toString())>-1));this.trait.splice(j,te,Ce)}}function C(j){return"INPUT"===j.tagName||"TEXTAREA"===j.tagName}function _(j){return!!j.classList.contains("monaco-editor")||!(j.classList.contains("monaco-list")||!j.parentElement)&&_(j.parentElement)}te.isInputElement=C,te.isMonacoEditor=_;class L{constructor(j,te,he){this.list=j,this.view=te,this.disposables=new et.DisposableStore,this.multipleSelectionDisposables=new et.DisposableStore,this.onKeyDown.filter((j=>3===j.keyCode)).on(this.onEnter,this,this.disposables),this.onKeyDown.filter((j=>16===j.keyCode)).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter((j=>18===j.keyCode)).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter((j=>11===j.keyCode)).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter((j=>12===j.keyCode)).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter((j=>9===j.keyCode)).on(this.onEscape,this,this.disposables),!1!==he.multipleSelectionSupport&&this.onKeyDown.filter((j=>(at.isMacintosh?j.metaKey:j.ctrlKey)&&31===j.keyCode)).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return Ze.Event.chain(this.disposables.add(new ve.DomEmitter(this.view.domNode,"keydown")).event).filter((j=>!C(j.target))).map((j=>new Ce.StandardKeyboardEvent(j)))}updateOptions(j){void 0!==j.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),j.multipleSelectionSupport&&this.onKeyDown.filter((j=>(at.isMacintosh?j.metaKey:j.ctrlKey)&&31===j.keyCode)).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(j){j.preventDefault(),j.stopPropagation(),this.list.setSelection(this.list.getFocus(),j.browserEvent)}onUpArrow(j){j.preventDefault(),j.stopPropagation(),this.list.focusPrevious(1,!1,j.browserEvent);const te=this.list.getFocus()[0];this.list.setAnchor(te),this.list.reveal(te),this.view.domNode.focus()}onDownArrow(j){j.preventDefault(),j.stopPropagation(),this.list.focusNext(1,!1,j.browserEvent);const te=this.list.getFocus()[0];this.list.setAnchor(te),this.list.reveal(te),this.view.domNode.focus()}onPageUpArrow(j){j.preventDefault(),j.stopPropagation(),this.list.focusPreviousPage(j.browserEvent);const te=this.list.getFocus()[0];this.list.setAnchor(te),this.list.reveal(te),this.view.domNode.focus()}onPageDownArrow(j){j.preventDefault(),j.stopPropagation(),this.list.focusNextPage(j.browserEvent);const te=this.list.getFocus()[0];this.list.setAnchor(te),this.list.reveal(te),this.view.domNode.focus()}onCtrlA(j){j.preventDefault(),j.stopPropagation(),this.list.setSelection((0,Ne.range)(this.list.length),j.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(j){this.list.getSelection().length&&(j.preventDefault(),j.stopPropagation(),this.list.setSelection([],j.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}var pt,ft;Ci([je.memoize],L.prototype,"onKeyDown",null),(ft=pt||(pt={}))[ft.Idle=0]="Idle",ft[ft.Typing=1]="Typing",te.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(j){return!(j.ctrlKey||j.metaKey||j.altKey)&&(j.keyCode>=31&&j.keyCode<=56||j.keyCode>=21&&j.keyCode<=30||j.keyCode>=93&&j.keyCode<=102||j.keyCode>=80&&j.keyCode<=90)}};class N{constructor(j,te,he,ve){this.list=j,this.view=te,this.keyboardNavigationLabelProvider=he,this.delegate=ve,this.enabled=!1,this.state=pt.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new et.DisposableStore,this.disposables=new et.DisposableStore,this.updateOptions(j.options)}updateOptions(j){void 0===j.enableKeyboardNavigation||j.enableKeyboardNavigation?this.enable():this.disable(),void 0!==j.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=j.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const j=Ze.Event.chain(this.enabledDisposables.add(new ve.DomEmitter(this.view.domNode,"keydown")).event).filter((j=>!C(j.target))).filter((()=>this.automaticKeyboardNavigation||this.triggered)).map((j=>new Ce.StandardKeyboardEvent(j))).filter((j=>this.delegate.mightProducePrintableCharacter(j))).forEach((j=>j.preventDefault())).map((j=>j.browserEvent.key)).event,te=Ze.Event.debounce(j,(()=>null),800);Ze.Event.reduce(Ze.Event.any(j,te),((j,te)=>null===te?null:(j||"")+te))(this.onInput,this,this.enabledDisposables),te(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var j;const te=this.list.getFocus();if(te.length>0&&te[0]===this.previouslyFocused){const he=null===(j=this.list.options.accessibilityProvider)||void 0===j?void 0:j.getAriaLabel(this.list.element(te[0]));he&&(0,Ee.alert)(he)}this.previouslyFocused=-1}onInput(j){if(!j)return this.state=pt.Idle,void(this.triggered=!1);const te=this.list.getFocus(),he=te.length>0?te[0]:0,ve=this.state===pt.Idle?1:0;this.state=pt.Typing;for(let te=0;te<this.list.length;te++){const Ce=(he+te+ve)%this.list.length,ye=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Ce)),Ee=ye&&ye.toString();if(void 0===Ee||(0,Ye.matchesPrefix)(j,Ee))return this.previouslyFocused=he,this.list.setFocus([Ce]),void this.list.reveal(Ce)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class k{constructor(j,te){this.list=j,this.view=te,this.disposables=new et.DisposableStore,Ze.Event.chain(this.disposables.add(new ve.DomEmitter(te.domNode,"keydown")).event).filter((j=>!C(j.target))).map((j=>new Ce.StandardKeyboardEvent(j))).filter((j=>!(2!==j.keyCode||j.ctrlKey||j.metaKey||j.shiftKey||j.altKey))).on(this.onTab,this,this.disposables)}onTab(j){if(j.target!==this.view.domNode)return;const te=this.list.getFocus();if(0===te.length)return;const he=this.view.domElement(te[0]);if(!he)return;const ve=he.querySelector("[tabIndex]");if(!(ve&&ve instanceof HTMLElement&&-1!==ve.tabIndex))return;const Ce=window.getComputedStyle(ve);"hidden"===Ce.visibility||"none"===Ce.display||(j.preventDefault(),j.stopPropagation(),ve.focus())}dispose(){this.disposables.dispose()}}function M(j){return at.isMacintosh?j.browserEvent.metaKey:j.browserEvent.ctrlKey}function O(j){return j.browserEvent.shiftKey}te.isSelectionSingleChangeEvent=M,te.isSelectionRangeChangeEvent=O;const _t={isSelectionSingleChangeEvent:M,isSelectionRangeChangeEvent:O};class R{constructor(j){this.list=j,this.disposables=new et.DisposableStore,this._onPointer=new Ze.Emitter,this.onPointer=this._onPointer.event,!1!==j.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||_t),this.mouseSupport=void 0===j.options.mouseSupport||!!j.options.mouseSupport,this.mouseSupport&&(j.onMouseDown(this.onMouseDown,this,this.disposables),j.onContextMenu(this.onContextMenu,this,this.disposables),j.onMouseDblClick(this.onDoubleClick,this,this.disposables),j.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(ye.Gesture.addTarget(j.getHTMLElement()))),Ze.Event.any(j.onMouseClick,j.onMouseMiddleClick,j.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(j){void 0!==j.multipleSelectionSupport&&(this.multipleSelectionController=void 0,j.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||_t))}isSelectionSingleChangeEvent(j){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(j)}isSelectionRangeChangeEvent(j){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(j)}isSelectionChangeEvent(j){return this.isSelectionSingleChangeEvent(j)||this.isSelectionRangeChangeEvent(j)}onMouseDown(j){_(j.browserEvent.target)||document.activeElement!==j.browserEvent.target&&this.list.domFocus()}onContextMenu(j){if(_(j.browserEvent.target))return;const te=void 0===j.index?[]:[j.index];this.list.setFocus(te,j.browserEvent)}onViewPointer(j){if(!this.mouseSupport||C(j.browserEvent.target)||_(j.browserEvent.target))return;const te=j.index;return void 0===te?(this.list.setFocus([],j.browserEvent),this.list.setSelection([],j.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(j)||this.isSelectionChangeEvent(j)?this.changeSelection(j):(this.list.setFocus([te],j.browserEvent),this.list.setAnchor(te),function B(j){return j instanceof MouseEvent&&2===j.button}(j.browserEvent)||this.list.setSelection([te],j.browserEvent),void this._onPointer.fire(j))}onDoubleClick(j){if(C(j.browserEvent.target)||_(j.browserEvent.target)||this.isSelectionChangeEvent(j))return;const te=this.list.getFocus();this.list.setSelection(te,j.browserEvent)}changeSelection(j){const te=j.index;let he=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(j)){if(void 0===he){he=this.list.getFocus()[0]??te,this.list.setAnchor(he)}const ve=Math.min(he,te),Ce=Math.max(he,te),ye=(0,Ne.range)(ve,Ce+1),Ee=this.list.getSelection(),Ie=function A(j,te){const he=j.indexOf(te);if(-1===he)return[];const ve=[];let Ce=he-1;for(;Ce>=0&&j[Ce]===te-(he-Ce);)ve.push(j[Ce--]);for(ve.reverse(),Ce=he;Ce<j.length&&j[Ce]===te+(Ce-he);)ve.push(j[Ce++]);return ve}(H(Ee,[he]),he);if(0===Ie.length)return;const Oe=H(ye,function q(j,te){const he=[];let ve=0,Ce=0;for(;ve<j.length||Ce<te.length;)if(ve>=j.length)he.push(te[Ce++]);else if(Ce>=te.length)he.push(j[ve++]);else{if(j[ve]===te[Ce]){ve++,Ce++;continue}j[ve]<te[Ce]?he.push(j[ve++]):Ce++}return he}(Ee,Ie));this.list.setSelection(Oe,j.browserEvent),this.list.setFocus([te],j.browserEvent)}else if(this.isSelectionSingleChangeEvent(j)){const he=this.list.getSelection(),ve=he.filter((j=>j!==te));this.list.setFocus([te]),this.list.setAnchor(te),he.length===ve.length?this.list.setSelection([...ve,te],j.browserEvent):this.list.setSelection(ve,j.browserEvent)}}dispose(){this.disposables.dispose()}}te.MouseController=R;class P{constructor(j,te){this.styleElement=j,this.selectorSuffix=te}style(j){const te=this.selectorSuffix&&`.${this.selectorSuffix}`,he=[];j.listBackground&&(j.listBackground.isOpaque()?he.push(`.monaco-list${te} .monaco-list-rows { background: ${j.listBackground}; }`):at.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),j.listFocusBackground&&(he.push(`.monaco-list${te}:focus .monaco-list-row.focused { background-color: ${j.listFocusBackground}; }`),he.push(`.monaco-list${te}:focus .monaco-list-row.focused:hover { background-color: ${j.listFocusBackground}; }`)),j.listFocusForeground&&he.push(`.monaco-list${te}:focus .monaco-list-row.focused { color: ${j.listFocusForeground}; }`),j.listActiveSelectionBackground&&(he.push(`.monaco-list${te}:focus .monaco-list-row.selected { background-color: ${j.listActiveSelectionBackground}; }`),he.push(`.monaco-list${te}:focus .monaco-list-row.selected:hover { background-color: ${j.listActiveSelectionBackground}; }`)),j.listActiveSelectionForeground&&he.push(`.monaco-list${te}:focus .monaco-list-row.selected { color: ${j.listActiveSelectionForeground}; }`),j.listActiveSelectionIconForeground&&he.push(`.monaco-list${te}:focus .monaco-list-row.selected .codicon { color: ${j.listActiveSelectionIconForeground}; }`),j.listFocusAndSelectionBackground&&he.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${te}:focus .monaco-list-row.selected.focused { background-color: ${j.listFocusAndSelectionBackground}; }\n\t\t\t`),j.listFocusAndSelectionForeground&&he.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${te}:focus .monaco-list-row.selected.focused { color: ${j.listFocusAndSelectionForeground}; }\n\t\t\t`),j.listInactiveFocusForeground&&(he.push(`.monaco-list${te} .monaco-list-row.focused { color:  ${j.listInactiveFocusForeground}; }`),he.push(`.monaco-list${te} .monaco-list-row.focused:hover { color:  ${j.listInactiveFocusForeground}; }`)),j.listInactiveSelectionIconForeground&&he.push(`.monaco-list${te} .monaco-list-row.focused .codicon { color:  ${j.listInactiveSelectionIconForeground}; }`),j.listInactiveFocusBackground&&(he.push(`.monaco-list${te} .monaco-list-row.focused { background-color:  ${j.listInactiveFocusBackground}; }`),he.push(`.monaco-list${te} .monaco-list-row.focused:hover { background-color:  ${j.listInactiveFocusBackground}; }`)),j.listInactiveSelectionBackground&&(he.push(`.monaco-list${te} .monaco-list-row.selected { background-color:  ${j.listInactiveSelectionBackground}; }`),he.push(`.monaco-list${te} .monaco-list-row.selected:hover { background-color:  ${j.listInactiveSelectionBackground}; }`)),j.listInactiveSelectionForeground&&he.push(`.monaco-list${te} .monaco-list-row.selected { color: ${j.listInactiveSelectionForeground}; }`),j.listHoverBackground&&he.push(`.monaco-list${te}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${j.listHoverBackground}; }`),j.listHoverForeground&&he.push(`.monaco-list${te} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${j.listHoverForeground}; }`),j.listSelectionOutline&&he.push(`.monaco-list${te} .monaco-list-row.selected { outline: 1px dotted ${j.listSelectionOutline}; outline-offset: -1px; }`),j.listFocusOutline&&he.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${te}:focus .monaco-list-row.focused { outline: 1px solid ${j.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${te}.last-focused .monaco-list-row.focused { outline: 1px solid ${j.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),j.listInactiveFocusOutline&&he.push(`.monaco-list${te} .monaco-list-row.focused { outline: 1px dotted ${j.listInactiveFocusOutline}; outline-offset: -1px; }`),j.listHoverOutline&&he.push(`.monaco-list${te} .monaco-list-row:hover { outline: 1px dashed ${j.listHoverOutline}; outline-offset: -1px; }`),j.listDropBackground&&he.push(`\n\t\t\t\t.monaco-list${te}.drop-target,\n\t\t\t\t.monaco-list${te} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${te} .monaco-list-row.drop-target { background-color: ${j.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),j.listFilterWidgetBackground&&he.push(`.monaco-list-type-filter { background-color: ${j.listFilterWidgetBackground} }`),j.listFilterWidgetOutline&&he.push(`.monaco-list-type-filter { border: 1px solid ${j.listFilterWidgetOutline}; }`),j.listFilterWidgetNoMatchesOutline&&he.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${j.listFilterWidgetNoMatchesOutline}; }`),j.listMatchesShadow&&he.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${j.listMatchesShadow}; }`),j.tableColumnsBorder&&he.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${j.tableColumnsBorder};\n\t\t\t}`),j.tableOddRowsBackgroundColor&&he.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${j.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=he.join("\n")}}te.DefaultStyleController=P;const Ct={listFocusBackground:Ke.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:Ke.Color.fromHex("#0E639C"),listActiveSelectionForeground:Ke.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:Ke.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:Ke.Color.fromHex("#094771"),listFocusAndSelectionForeground:Ke.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:Ke.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:Ke.Color.fromHex("#FFFFFF"),listHoverBackground:Ke.Color.fromHex("#2A2D2E"),listDropBackground:Ke.Color.fromHex("#383B3D"),treeIndentGuidesStroke:Ke.Color.fromHex("#a9a9a9"),tableColumnsBorder:Ke.Color.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:Ke.Color.fromHex("#cccccc").transparent(.04)},bt={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function H(j,te){const he=[];let ve=0,Ce=0;for(;ve<j.length||Ce<te.length;)if(ve>=j.length)he.push(te[Ce++]);else if(Ce>=te.length)he.push(j[ve++]);else{if(j[ve]===te[Ce]){he.push(j[ve]),ve++,Ce++;continue}j[ve]<te[Ce]?he.push(j[ve++]):he.push(te[Ce++])}return he}const X=(j,te)=>j-te;class G{constructor(j,te){this._templateId=j,this.renderers=te}get templateId(){return this._templateId}renderTemplate(j){return this.renderers.map((te=>te.renderTemplate(j)))}renderElement(j,te,he,ve){let Ce=0;for(const ye of this.renderers)ye.renderElement(j,te,he[Ce++],ve)}disposeElement(j,te,he,ve){let Ce=0;for(const ye of this.renderers)ye.disposeElement&&ye.disposeElement(j,te,he[Ce],ve),Ce+=1}disposeTemplate(j){let te=0;for(const he of this.renderers)he.disposeTemplate(j[te++])}}class re{constructor(j){this.accessibilityProvider=j,this.templateId="a18n"}renderTemplate(j){return j}renderElement(j,te,he){const ve=this.accessibilityProvider.getAriaLabel(j);ve?he.setAttribute("aria-label",ve):he.removeAttribute("aria-label");const Ce=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(j);"number"==typeof Ce?he.setAttribute("aria-level",`${Ce}`):he.removeAttribute("aria-level")}disposeTemplate(j){}}class ae{constructor(j,te){this.list=j,this.dnd=te}getDragElements(j){const te=this.list.getSelectedElements();return te.indexOf(j)>-1?te:[j]}getDragURI(j){return this.dnd.getDragURI(j)}getDragLabel(j,te){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(j,te)}onDragStart(j,te){this.dnd.onDragStart&&this.dnd.onDragStart(j,te)}onDragOver(j,te,he,ve){return this.dnd.onDragOver(j,te,he,ve)}onDragLeave(j,te,he,ve){var Ce,ye;null===(ye=(Ce=this.dnd).onDragLeave)||void 0===ye||ye.call(Ce,j,te,he,ve)}onDragEnd(j){this.dnd.onDragEnd&&this.dnd.onDragEnd(j)}drop(j,te,he,ve){this.dnd.drop(j,te,he,ve)}}class oe{constructor(j,ve,Ce,ye,Ee=bt){var Ne;this.user=j,this._options=Ee,this.focus=new f("focused"),this.anchor=new f("anchor"),this.eventBufferer=new Ze.EventBufferer,this._ariaLabel="",this.disposables=new et.DisposableStore,this._onDidDispose=new Ze.Emitter,this.onDidDispose=this._onDidDispose.event;const Oe=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(Ne=this._options.accessibilityProvider)||void 0===Ne?void 0:Ne.getWidgetRole():"list";this.selection=new S("listbox"!==Oe),(0,rt.mixin)(Ee,Ct,!1);const Ke=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Ee.accessibilityProvider,this.accessibilityProvider&&(Ke.push(new re(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),ye=ye.map((j=>new G(j.templateId,[...Ke,j])));const je=Object.assign(Object.assign({},Ee),{dnd:Ee.dnd&&new ae(this,Ee.dnd)});if(this.view=new mt.ListView(ve,Ce,ye,je),this.view.domNode.setAttribute("role",Oe),Ee.styleController)this.styleController=Ee.styleController(this.view.domId);else{const j=(0,he.createStyleSheet)(this.view.domNode);this.styleController=new P(j,this.view.domId)}if(this.spliceable=new Ie.CombinedSpliceable([new v(this.focus,this.view,Ee.identityProvider),new v(this.selection,this.view,Ee.identityProvider),new v(this.anchor,this.view,Ee.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new k(this,this.view)),("boolean"!=typeof Ee.keyboardSupport||Ee.keyboardSupport)&&(this.keyboardController=new L(this,this.view,Ee),this.disposables.add(this.keyboardController)),Ee.keyboardNavigationLabelProvider){const j=Ee.keyboardNavigationDelegate||te.DefaultKeyboardNavigationDelegate;this.typeLabelController=new N(this,this.view,Ee.keyboardNavigationLabelProvider,j),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(Ee),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return Ze.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),(j=>this.toListEvent(j)))}get onDidChangeSelection(){return Ze.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),(j=>this.toListEvent(j)))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let j=!1;const te=Ze.Event.chain(this.disposables.add(new ve.DomEmitter(this.view.domNode,"keydown")).event).map((j=>new Ce.StandardKeyboardEvent(j))).filter((te=>j=58===te.keyCode||te.shiftKey&&68===te.keyCode)).map(ve.stopEvent).filter((()=>!1)).event,he=Ze.Event.chain(this.disposables.add(new ve.DomEmitter(this.view.domNode,"keyup")).event).forEach((()=>j=!1)).map((j=>new Ce.StandardKeyboardEvent(j))).filter((j=>58===j.keyCode||j.shiftKey&&68===j.keyCode)).map(ve.stopEvent).map((({browserEvent:j})=>{const te=this.getFocus(),he=te.length?te[0]:void 0;return{index:he,element:void 0!==he?this.view.element(he):void 0,anchor:void 0!==he?this.view.domElement(he):this.view.domNode,browserEvent:j}})).event,ye=Ze.Event.chain(this.view.onContextMenu).filter((te=>!j)).map((({element:j,index:te,browserEvent:he})=>({element:j,index:te,anchor:{x:he.pageX+1,y:he.pageY},browserEvent:he}))).event;return Ze.Event.any(te,he,ye)}get onKeyDown(){return this.disposables.add(new ve.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return Ze.Event.signal(this.disposables.add(new ve.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(j){return new R(this)}updateOptions(j={}){var te;this._options=Object.assign(Object.assign({},this._options),j),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(j),null===(te=this.keyboardController)||void 0===te||te.updateOptions(j),this.view.updateOptions(j)}get options(){return this._options}splice(j,te,he=[]){if(j<0||j>this.view.length)throw new ht.ListError(this.user,`Invalid start index: ${j}`);if(te<0)throw new ht.ListError(this.user,`Invalid delete count: ${te}`);0===te&&0===he.length||this.eventBufferer.bufferEvents((()=>this.spliceable.splice(j,te,he)))}rerender(){this.view.rerender()}element(j){return this.view.element(j)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(j){this.view.setScrollTop(j)}get ariaLabel(){return this._ariaLabel}set ariaLabel(j){this._ariaLabel=j,this.view.domNode.setAttribute("aria-label",j)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(j,te){this.view.layout(j,te)}setSelection(j,te){for(const te of j)if(te<0||te>=this.length)throw new ht.ListError(this.user,`Invalid index ${te}`);this.selection.set(j,te)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((j=>this.view.element(j)))}setAnchor(j){if(void 0!==j){if(j<0||j>=this.length)throw new ht.ListError(this.user,`Invalid index ${j}`);this.anchor.set([j])}else this.anchor.set([])}getAnchor(){return(0,Ne.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const j=this.getAnchor();return void 0===j?void 0:this.element(j)}setFocus(j,te){for(const te of j)if(te<0||te>=this.length)throw new ht.ListError(this.user,`Invalid index ${te}`);this.focus.set(j,te)}focusNext(j=1,te=!1,he,ve){if(0===this.length)return;const Ce=this.focus.get(),ye=this.findNextIndex(Ce.length>0?Ce[0]+j:0,te,ve);ye>-1&&this.setFocus([ye],he)}focusPrevious(j=1,te=!1,he,ve){if(0===this.length)return;const Ce=this.focus.get(),ye=this.findPreviousIndex(Ce.length>0?Ce[0]-j:0,te,ve);ye>-1&&this.setFocus([ye],he)}focusNextPage(j,te){return fi(this,void 0,void 0,(function*(){let he=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);he=0===he?0:he-1;const ve=this.view.element(he),Ce=this.getFocusedElements()[0];if(Ce!==ve){const ve=this.findPreviousIndex(he,!1,te);ve>-1&&Ce!==this.view.element(ve)?this.setFocus([ve],j):this.setFocus([he],j)}else{const ve=this.view.getScrollTop();this.view.setScrollTop(ve+this.view.renderHeight-this.view.elementHeight(he)),this.view.getScrollTop()!==ve&&(this.setFocus([]),yield(0,Oe.timeout)(0),yield this.focusNextPage(j,te))}}))}focusPreviousPage(j,te){return fi(this,void 0,void 0,(function*(){let he;const ve=this.view.getScrollTop();he=0===ve?this.view.indexAt(ve):this.view.indexAfter(ve-1);const Ce=this.view.element(he),ye=this.getFocusedElements()[0];if(ye!==Ce){const ve=this.findNextIndex(he,!1,te);ve>-1&&ye!==this.view.element(ve)?this.setFocus([ve],j):this.setFocus([he],j)}else{const he=ve;this.view.setScrollTop(ve-this.view.renderHeight),this.view.getScrollTop()!==he&&(this.setFocus([]),yield(0,Oe.timeout)(0),yield this.focusPreviousPage(j,te))}}))}focusLast(j,te){if(0===this.length)return;const he=this.findPreviousIndex(this.length-1,!1,te);he>-1&&this.setFocus([he],j)}focusFirst(j,te){this.focusNth(0,j,te)}focusNth(j,te,he){if(0===this.length)return;const ve=this.findNextIndex(j,!1,he);ve>-1&&this.setFocus([ve],te)}findNextIndex(j,te=!1,he){for(let ve=0;ve<this.length;ve++){if(j>=this.length&&!te)return-1;if(j%=this.length,!he||he(this.element(j)))return j;j++}return-1}findPreviousIndex(j,te=!1,he){for(let ve=0;ve<this.length;ve++){if(j<0&&!te)return-1;if(j=(this.length+j%this.length)%this.length,!he||he(this.element(j)))return j;j--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((j=>this.view.element(j)))}reveal(j,te){if(j<0||j>=this.length)throw new ht.ListError(this.user,`Invalid index ${j}`);const he=this.view.getScrollTop(),ve=this.view.elementTop(j),Ce=this.view.elementHeight(j);if((0,ct.isNumber)(te)){const j=Ce-this.view.renderHeight;this.view.setScrollTop(j*(0,nt.clamp)(te,0,1)+ve)}else{const j=ve+Ce,te=he+this.view.renderHeight;ve<he&&j>=te||(ve<he||j>=te&&Ce>=this.view.renderHeight?this.view.setScrollTop(ve):j>=te&&this.view.setScrollTop(j-this.view.renderHeight))}}getRelativeTop(j){if(j<0||j>=this.length)throw new ht.ListError(this.user,`Invalid index ${j}`);const te=this.view.getScrollTop(),he=this.view.elementTop(j),ve=this.view.elementHeight(j);if(he<te||he+ve>te+this.view.renderHeight)return null;const Ce=ve-this.view.renderHeight;return Math.abs((te-he)/Ce)}getHTMLElement(){return this.view.domNode}style(j){this.styleController.style(j)}toListEvent({indexes:j,browserEvent:te}){return{indexes:j,elements:j.map((j=>this.view.element(j))),browserEvent:te}}_onFocusChange(){const j=this.focus.get();this.view.domNode.classList.toggle("element-focused",j.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var j;const te=this.focus.get();if(te.length>0){let he;(null===(j=this.accessibilityProvider)||void 0===j?void 0:j.getActiveDescendantId)&&(he=this.accessibilityProvider.getActiveDescendantId(this.view.element(te[0]))),this.view.domNode.setAttribute("aria-activedescendant",he||this.view.getElementDomId(te[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const j=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===j.length),this.view.domNode.classList.toggle("selection-single",1===j.length),this.view.domNode.classList.toggle("selection-multiple",j.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Ci([je.memoize],oe.prototype,"onDidChangeFocus",null),Ci([je.memoize],oe.prototype,"onDidChangeSelection",null),Ci([je.memoize],oe.prototype,"onContextMenu",null),Ci([je.memoize],oe.prototype,"onKeyDown",null),Ci([je.memoize],oe.prototype,"onDidFocus",null),te.List=oe})),define(Ce[345],ie([1,0,19,21,4,2,115,226]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.PagedList=void 0;class b{constructor(j,te){this.renderer=j,this.modelProvider=te}get templateId(){return this.renderer.templateId}renderTemplate(j){return{data:this.renderer.renderTemplate(j),disposable:ye.Disposable.None}}renderElement(j,te,he,Ce){if(he.disposable&&he.disposable.dispose(),!he.data)return;const ye=this.modelProvider();if(ye.isResolved(j))return this.renderer.renderElement(ye.get(j),j,he.data,Ce);const Ee=new ve.CancellationTokenSource,Ie=ye.resolve(j,Ee.token);he.disposable={dispose:()=>Ee.cancel()},this.renderer.renderPlaceholder(j,he.data),Ie.then((te=>this.renderer.renderElement(te,j,he.data,Ce)))}disposeTemplate(j){j.disposable&&(j.disposable.dispose(),j.disposable=void 0),j.data&&(this.renderer.disposeTemplate(j.data),j.data=void 0)}}class p{constructor(j,te){this.modelProvider=j,this.accessibilityProvider=te}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(j){const te=this.modelProvider();return te.isResolved(j)?this.accessibilityProvider.getAriaLabel(te.get(j)):null}}te.PagedList=class g{constructor(j,te,he,ve,Ce={}){const s=()=>this.model,ye=ve.map((j=>new b(j,s)));this.list=new Ee.List(j,te,he,ye,function h(j,te){return Object.assign(Object.assign({},te),{accessibilityProvider:te.accessibilityProvider&&new p(j,te.accessibilityProvider)})}(s,Ce))}updateOptions(j){this.list.updateOptions(j)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return Ce.Event.map(this.list.onMouseDblClick,(({element:j,index:te,browserEvent:he})=>({element:void 0===j?void 0:this._model.get(j),index:te,browserEvent:he})))}get onPointer(){return Ce.Event.map(this.list.onPointer,(({element:j,index:te,browserEvent:he})=>({element:void 0===j?void 0:this._model.get(j),index:te,browserEvent:he})))}get onDidChangeSelection(){return Ce.Event.map(this.list.onDidChangeSelection,(({elements:j,indexes:te,browserEvent:he})=>({elements:j.map((j=>this._model.get(j))),indexes:te,browserEvent:he})))}get model(){return this._model}set model(j){this._model=j,this.list.splice(0,this.list.length,(0,he.range)(j.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((j=>this.model.get(j)))}style(j){this.list.style(j)}dispose(){this.list.dispose()}}})),define(Ce[346],ie([12]),{}),define(Ce[228],ie([1,0,7,114,67,19,29,4,2,111,137,20,346]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){Object.defineProperty(te,"__esModule",{value:!0}),te.SplitView=te.Sizing=void 0;const Ze={separatorBorder:Ee.Color.transparent};class n{constructor(j,te,he,ve){this.container=j,this.view=te,this.disposable=ve,this._cachedVisibleSize=void 0,"number"==typeof he?(this._size=he,this._cachedVisibleSize=void 0,j.classList.add("visible")):(this._size=0,this._cachedVisibleSize=he.cachedVisibleSize)}set size(j){this._size=j}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(j,te){j!==this.visible&&(j?(this.size=(0,Oe.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof te?te:this.size,this.size=0),this.container.classList.toggle("visible",j),this.view.setVisible&&this.view.setVisible(j))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(j){this.container.style.pointerEvents=j?"":"none"}layout(j,te){this.layoutContainer(j),this.view.layout(this.size,j,te)}dispose(){return this.disposable.dispose(),this.view}}class l extends n{layoutContainer(j){this.container.style.top=`${j}px`,this.container.style.height=`${this.size}px`}}class c extends n{layoutContainer(j){this.container.style.left=`${j}px`,this.container.style.width=`${this.size}px`}}var Ye,et;(et=Ye||(Ye={}))[et.Idle=0]="Idle",et[et.Busy=1]="Busy",function(j){j.Distribute={type:"distribute"},j.Split=function d(j){return{type:"split",index:j}},j.Invisible=function u(j){return{type:"invisible",cachedVisibleSize:j}}}(te.Sizing||(te.Sizing={}));class o extends Ne.Disposable{constructor(j,te={}){var ve,ye,Ee,Ne,Oe;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=Ye.Idle,this._onDidSashChange=this._register(new Ie.Emitter),this._onDidSashReset=this._register(new Ie.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(ve=te.orientation)&&void 0!==ve?ve:0,this.inverseAltBehavior=null!==(ye=te.inverseAltBehavior)&&void 0!==ye&&ye,this.proportionalLayout=null===(Ee=te.proportionalLayout)||void 0===Ee||Ee,this.getSashOrthogonalSize=te.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),j.appendChild(this.el),this.sashContainer=(0,he.append)(this.el,(0,he.$)(".sash-container")),this.viewContainer=(0,he.$)(".split-view-container"),this.scrollable=new Ke.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:he.scheduleAtNextAnimationFrame}),this.scrollableElement=this._register(new Ce.SmoothScrollableElement(this.viewContainer,{vertical:0===this.orientation?null!==(Ne=te.scrollbarVisibility)&&void 0!==Ne?Ne:1:2,horizontal:1===this.orientation?null!==(Oe=te.scrollbarVisibility)&&void 0!==Oe?Oe:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((j=>{this.viewContainer.scrollTop=j.scrollTop,this.viewContainer.scrollLeft=j.scrollLeft}))),(0,he.append)(this.el,this.scrollableElement.getDomNode()),this.style(te.styles||Ze),te.descriptor&&(this.size=te.descriptor.size,te.descriptor.views.forEach(((j,te)=>{const he=je.isUndefined(j.visible)||j.visible?j.size:{type:"invisible",cachedVisibleSize:j.size},ve=j.view;this.doAddView(ve,he,te,!0)})),this.contentSize=this.viewItems.reduce(((j,te)=>j+te.size),0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(j){for(const te of this.sashItems)te.sash.orthogonalStartSash=j;this._orthogonalStartSash=j}set orthogonalEndSash(j){for(const te of this.sashItems)te.sash.orthogonalEndSash=j;this._orthogonalEndSash=j}set startSnappingEnabled(j){this._startSnappingEnabled!==j&&(this._startSnappingEnabled=j,this.updateSashEnablement())}set endSnappingEnabled(j){this._endSnappingEnabled!==j&&(this._endSnappingEnabled=j,this.updateSashEnablement())}style(j){j.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",j.separatorBorder.toString()))}addView(j,te,he=this.viewItems.length,ve){this.doAddView(j,te,he,ve)}layout(j,te){const he=Math.max(this.size,this.contentSize);if(this.size=j,this.layoutContext=te,this.proportions)for(let te=0;te<this.viewItems.length;te++){const he=this.viewItems[te];he.size=(0,Oe.clamp)(Math.round(this.proportions[te]*j),he.minimumSize,he.maximumSize)}else{const te=(0,ye.range)(this.viewItems.length),ve=te.filter((j=>1===this.viewItems[j].priority)),Ce=te.filter((j=>2===this.viewItems[j].priority));this.resize(this.viewItems.length-1,j-he,void 0,ve,Ce)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((j=>j.size/this.contentSize)))}onSashStart({sash:j,start:te,alt:ve}){for(const j of this.viewItems)j.enabled=!1;const Ce=this.sashItems.findIndex((te=>te.sash===j)),Ee=(0,Ne.combinedDisposable)((0,he.addDisposableListener)(document.body,"keydown",(j=>C(this.sashDragState.current,j.altKey))),(0,he.addDisposableListener)(document.body,"keyup",(()=>C(this.sashDragState.current,!1)))),C=(j,te)=>{const he=this.viewItems.map((j=>j.size));let ve,Ie,Ne=Number.NEGATIVE_INFINITY,Oe=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(te=!te),te)if(Ce===this.sashItems.length-1){const j=this.viewItems[Ce];Ne=(j.minimumSize-j.size)/2,Oe=(j.maximumSize-j.size)/2}else{const j=this.viewItems[Ce+1];Ne=(j.size-j.maximumSize)/2,Oe=(j.size-j.minimumSize)/2}if(!te){const j=(0,ye.range)(Ce,-1),te=(0,ye.range)(Ce+1,this.viewItems.length),Ee=j.reduce(((j,te)=>j+(this.viewItems[te].minimumSize-he[te])),0),Ne=j.reduce(((j,te)=>j+(this.viewItems[te].viewMaximumSize-he[te])),0),Oe=0===te.length?Number.POSITIVE_INFINITY:te.reduce(((j,te)=>j+(he[te]-this.viewItems[te].minimumSize)),0),Ke=0===te.length?Number.NEGATIVE_INFINITY:te.reduce(((j,te)=>j+(he[te]-this.viewItems[te].viewMaximumSize)),0),je=Math.max(Ee,Ke),Ze=Math.min(Oe,Ne),Ye=this.findFirstSnapIndex(j),et=this.findFirstSnapIndex(te);if("number"==typeof Ye){const j=this.viewItems[Ye],te=Math.floor(j.viewMinimumSize/2);ve={index:Ye,limitDelta:j.visible?je-te:je+te,size:j.size}}if("number"==typeof et){const j=this.viewItems[et],te=Math.floor(j.viewMinimumSize/2);Ie={index:et,limitDelta:j.visible?Ze+te:Ze-te,size:j.size}}}this.sashDragState={start:j,current:j,index:Ce,sizes:he,minDelta:Ne,maxDelta:Oe,alt:te,snapBefore:ve,snapAfter:Ie,disposable:Ee}};C(te,ve)}onSashChange({current:j}){const{index:te,start:he,sizes:ve,alt:Ce,minDelta:ye,maxDelta:Ee,snapBefore:Ie,snapAfter:Ne}=this.sashDragState;this.sashDragState.current=j;const Oe=j-he,Ke=this.resize(te,Oe,ve,void 0,void 0,ye,Ee,Ie,Ne);if(Ce){const j=te===this.sashItems.length-1,he=this.viewItems.map((j=>j.size)),ve=j?te:te+1,Ce=this.viewItems[ve],ye=Ce.size-Ce.maximumSize,Ee=Ce.size-Ce.minimumSize,Ie=j?te-1:te+1;this.resize(Ie,-Ke,he,void 0,void 0,ye,Ee)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(j){this._onDidSashChange.fire(j),this.sashDragState.disposable.dispose(),this.saveProportions();for(const j of this.viewItems)j.enabled=!0}onViewChange(j,te){const he=this.viewItems.indexOf(j);he<0||he>=this.viewItems.length||(te="number"==typeof te?te:j.size,te=(0,Oe.clamp)(te,j.minimumSize,j.maximumSize),this.inverseAltBehavior&&he>0?(this.resize(he-1,Math.floor((j.size-te)/2)),this.distributeEmptySpace(),this.layoutViews()):(j.size=te,this.relayout([he],void 0)))}resizeView(j,te){if(this.state!==Ye.Idle)throw new Error("Cant modify splitview");if(this.state=Ye.Busy,j<0||j>=this.viewItems.length)return;const he=(0,ye.range)(this.viewItems.length).filter((te=>te!==j)),ve=[...he.filter((j=>1===this.viewItems[j].priority)),j],Ce=he.filter((j=>2===this.viewItems[j].priority)),Ee=this.viewItems[j];te=Math.round(te),te=(0,Oe.clamp)(te,Ee.minimumSize,Math.min(Ee.maximumSize,this.size)),Ee.size=te,this.relayout(ve,Ce),this.state=Ye.Idle}distributeViewSizes(){const j=[];let te=0;for(const he of this.viewItems)he.maximumSize-he.minimumSize>0&&(j.push(he),te+=he.size);const he=Math.floor(te/j.length);for(const te of j)te.size=(0,Oe.clamp)(he,te.minimumSize,te.maximumSize);const ve=(0,ye.range)(this.viewItems.length),Ce=ve.filter((j=>1===this.viewItems[j].priority)),Ee=ve.filter((j=>2===this.viewItems[j].priority));this.relayout(Ce,Ee)}getViewSize(j){return j<0||j>=this.viewItems.length?-1:this.viewItems[j].size}doAddView(j,te,Ce=this.viewItems.length,Ee){if(this.state!==Ye.Idle)throw new Error("Cant modify splitview");this.state=Ye.Busy;const Oe=(0,he.$)(".split-view-view");Ce===this.viewItems.length?this.viewContainer.appendChild(Oe):this.viewContainer.insertBefore(Oe,this.viewContainer.children.item(Ce));const Ke=j.onDidChange((j=>this.onViewChange(nt,j))),je=(0,Ne.toDisposable)((()=>this.viewContainer.removeChild(Oe))),Ze=(0,Ne.combinedDisposable)(Ke,je);let et;et="number"==typeof te?te:"split"===te.type?this.getViewSize(te.index)/2:"invisible"===te.type?{cachedVisibleSize:te.cachedVisibleSize}:j.minimumSize;const nt=0===this.orientation?new l(Oe,j,et,Ze):new c(Oe,j,et,Ze);if(this.viewItems.splice(Ce,0,nt),this.viewItems.length>1){let j={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const te=0===this.orientation?new ve.Sash(this.sashContainer,{getHorizontalSashTop:j=>this.getSashPosition(j),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},j),{orientation:1})):new ve.Sash(this.sashContainer,{getVerticalSashLeft:j=>this.getSashPosition(j),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},j),{orientation:0})),he=0===this.orientation?j=>({sash:te,start:j.startY,current:j.currentY,alt:j.altKey}):j=>({sash:te,start:j.startX,current:j.currentX,alt:j.altKey}),Ee=Ie.Event.map(te.onDidStart,he)(this.onSashStart,this),Oe=Ie.Event.map(te.onDidChange,he)(this.onSashChange,this),Ke=Ie.Event.map(te.onDidEnd,(()=>this.sashItems.findIndex((j=>j.sash===te))))(this.onSashEnd,this),je=te.onDidReset((()=>{const j=this.sashItems.findIndex((j=>j.sash===te)),he=(0,ye.range)(j,-1),ve=(0,ye.range)(j+1,this.viewItems.length),Ce=this.findFirstSnapIndex(he),Ee=this.findFirstSnapIndex(ve);"number"==typeof Ce&&!this.viewItems[Ce].visible||"number"==typeof Ee&&!this.viewItems[Ee].visible||this._onDidSashReset.fire(j)})),Ze=(0,Ne.combinedDisposable)(Ee,Oe,Ke,je,te),Ye={sash:te,disposable:Ze};this.sashItems.splice(Ce-1,0,Ye)}let rt;Oe.appendChild(j.element),"number"!=typeof te&&"split"===te.type&&(rt=[te.index]),Ee||this.relayout([Ce],rt),this.state=Ye.Idle,!Ee&&"number"!=typeof te&&"distribute"===te.type&&this.distributeViewSizes()}relayout(j,te){const he=this.viewItems.reduce(((j,te)=>j+te.size),0);this.resize(this.viewItems.length-1,this.size-he,void 0,j,te),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(j,te,he=this.viewItems.map((j=>j.size)),ve,Ce,Ee=Number.NEGATIVE_INFINITY,Ie=Number.POSITIVE_INFINITY,Ne,Ke){if(j<0||j>=this.viewItems.length)return 0;const je=(0,ye.range)(j,-1),Ze=(0,ye.range)(j+1,this.viewItems.length);if(Ce)for(const j of Ce)(0,ye.pushToStart)(je,j),(0,ye.pushToStart)(Ze,j);if(ve)for(const j of ve)(0,ye.pushToEnd)(je,j),(0,ye.pushToEnd)(Ze,j);const Ye=je.map((j=>this.viewItems[j])),et=je.map((j=>he[j])),nt=Ze.map((j=>this.viewItems[j])),rt=Ze.map((j=>he[j])),at=je.reduce(((j,te)=>j+(this.viewItems[te].minimumSize-he[te])),0),ct=je.reduce(((j,te)=>j+(this.viewItems[te].maximumSize-he[te])),0),ht=0===Ze.length?Number.POSITIVE_INFINITY:Ze.reduce(((j,te)=>j+(he[te]-this.viewItems[te].minimumSize)),0),mt=0===Ze.length?Number.NEGATIVE_INFINITY:Ze.reduce(((j,te)=>j+(he[te]-this.viewItems[te].maximumSize)),0),pt=Math.max(at,mt,Ee),ft=Math.min(ht,ct,Ie);let _t=!1;if(Ne){const j=this.viewItems[Ne.index],he=te>=Ne.limitDelta;_t=he!==j.visible,j.setVisible(he,Ne.size)}if(!_t&&Ke){const j=this.viewItems[Ke.index],he=te<Ke.limitDelta;_t=he!==j.visible,j.setVisible(he,Ke.size)}if(_t)return this.resize(j,te,he,ve,Ce,Ee,Ie);for(let j=0,he=te=(0,Oe.clamp)(te,pt,ft);j<Ye.length;j++){const te=Ye[j],ve=(0,Oe.clamp)(et[j]+he,te.minimumSize,te.maximumSize);he-=ve-et[j],te.size=ve}for(let j=0,he=te;j<nt.length;j++){const te=nt[j],ve=(0,Oe.clamp)(rt[j]-he,te.minimumSize,te.maximumSize);he+=ve-rt[j],te.size=ve}return te}distributeEmptySpace(j){const te=this.viewItems.reduce(((j,te)=>j+te.size),0);let he=this.size-te;const ve=(0,ye.range)(this.viewItems.length-1,-1),Ce=ve.filter((j=>1===this.viewItems[j].priority)),Ee=ve.filter((j=>2===this.viewItems[j].priority));for(const j of Ee)(0,ye.pushToStart)(ve,j);for(const j of Ce)(0,ye.pushToEnd)(ve,j);"number"==typeof j&&(0,ye.pushToEnd)(ve,j);for(let j=0;0!==he&&j<ve.length;j++){const te=this.viewItems[ve[j]],Ce=(0,Oe.clamp)(te.size+he,te.minimumSize,te.maximumSize);he-=Ce-te.size,te.size=Ce}}layoutViews(){this.contentSize=this.viewItems.reduce(((j,te)=>j+te.size),0);let j=0;for(const te of this.viewItems)te.layout(j,this.layoutContext),j+=te.size;this.sashItems.forEach((j=>j.sash.layout())),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let j=!1;const te=this.viewItems.map((te=>j=te.size-te.minimumSize>0||j));j=!1;const he=this.viewItems.map((te=>j=te.maximumSize-te.size>0||j)),ve=[...this.viewItems].reverse();j=!1;const Ce=ve.map((te=>j=te.size-te.minimumSize>0||j)).reverse();j=!1;const Ee=ve.map((te=>j=te.maximumSize-te.size>0||j)).reverse();let Ie=0;for(let j=0;j<this.sashItems.length;j++){const{sash:ve}=this.sashItems[j];Ie+=this.viewItems[j].size;const Ne=!(te[j]&&Ee[j+1]),Oe=!(he[j]&&Ce[j+1]);if(Ne&&Oe){const he=(0,ye.range)(j,-1),Ee=(0,ye.range)(j+1,this.viewItems.length),Ne=this.findFirstSnapIndex(he),Oe=this.findFirstSnapIndex(Ee),Ke="number"==typeof Ne&&!this.viewItems[Ne].visible,je="number"==typeof Oe&&!this.viewItems[Oe].visible;Ke&&Ce[j]&&(Ie>0||this.startSnappingEnabled)?ve.state=1:je&&te[j]&&(Ie<this.contentSize||this.endSnappingEnabled)?ve.state=2:ve.state=0}else ve.state=Ne&&!Oe?1:!Ne&&Oe?2:3}}getSashPosition(j){let te=0;for(let he=0;he<this.sashItems.length;he++)if(te+=this.viewItems[he].size,this.sashItems[he].sash===j)return te;return 0}findFirstSnapIndex(j){for(const te of j){const j=this.viewItems[te];if(j.visible&&j.snap)return te}for(const te of j){const j=this.viewItems[te];if(j.visible&&j.maximumSize-j.minimumSize>0)return;if(!j.visible&&j.snap)return te}}dispose(){super.dispose(),this.viewItems.forEach((j=>j.dispose())),this.viewItems=[],this.sashItems.forEach((j=>j.disposable.dispose())),this.sashItems=[]}}te.SplitView=o})),define(Ce[347],ie([12]),{}),define(Ce[348],ie([1,0,7,115,228,4,2,347]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.Table=void 0;class b{constructor(j,te,he){this.columns=j,this.getColumnSize=he,this.templateId=b.TemplateId,this.renderedTemplates=new Set;const ve=new Map(te.map((j=>[j.templateId,j])));this.renderers=[];for(const te of j){const j=ve.get(te.templateId);if(!j)throw new Error(`Table cell renderer for template id ${te.templateId} not found.`);this.renderers.push(j)}}renderTemplate(j){const te=(0,he.append)(j,(0,he.$)(".monaco-table-tr")),ve=[],Ce=[];for(let j=0;j<this.columns.length;j++){const ye=this.renderers[j],Ee=(0,he.append)(te,(0,he.$)(".monaco-table-td",{"data-col-index":j}));Ee.style.width=`${this.getColumnSize(j)}px`,ve.push(Ee),Ce.push(ye.renderTemplate(Ee))}const ye={container:j,cellContainers:ve,cellTemplateData:Ce};return this.renderedTemplates.add(ye),ye}renderElement(j,te,he,ve){for(let Ce=0;Ce<this.columns.length;Ce++){const ye=this.columns[Ce].project(j);this.renderers[Ce].renderElement(ye,te,he.cellTemplateData[Ce],ve)}}disposeElement(j,te,he,ve){for(let Ce=0;Ce<this.columns.length;Ce++){const ye=this.renderers[Ce];if(ye.disposeElement){const Ee=this.columns[Ce].project(j);ye.disposeElement(Ee,te,he.cellTemplateData[Ce],ve)}}}disposeTemplate(j){for(let te=0;te<this.columns.length;te++)this.renderers[te].disposeTemplate(j.cellTemplateData[te]);(0,he.clearNode)(j.container),this.renderedTemplates.delete(j)}layoutColumn(j,te){for(const{cellContainers:he}of this.renderedTemplates)he[j].style.width=`${te}px`}}b.TemplateId="row";class h{constructor(j,te){this.column=j,this.index=te,this._onDidLayout=new ye.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,he.$)(".monaco-table-th",{"data-col-index":te,title:j.tooltip},j.label)}get minimumSize(){var j;return null!==(j=this.column.minimumWidth)&&void 0!==j?j:120}get maximumSize(){var j;return null!==(j=this.column.maximumWidth)&&void 0!==j?j:Number.POSITIVE_INFINITY}get onDidChange(){var j;return null!==(j=this.column.onDidChangeWidthConstraints)&&void 0!==j?j:ye.Event.None}layout(j){this._onDidLayout.fire([this.index,j])}}class g{constructor(j,te,Ie,Ne,Oe,Ke){this.virtualDelegate=Ie,this.domId="table_id_"+ ++g.InstanceCount,this.disposables=new Ee.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,he.append)(te,(0,he.$)(`.monaco-table.${this.domId}`));const je=Ne.map(((j,te)=>new h(j,te))),Ze={size:je.reduce(((j,te)=>j+te.column.weight),0),views:je.map((j=>({size:j.column.weight,view:j})))};this.splitview=this.disposables.add(new Ce.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:Ze})),this.splitview.el.style.height=`${Ie.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Ie.headerRowHeight}px`;const Ye=new b(Ne,Oe,(j=>this.splitview.getViewSize(j)));this.list=this.disposables.add(new ve.List(j,this.domNode,function p(j){return{getHeight:te=>j.getHeight(te),getTemplateId:()=>b.TemplateId}}(Ie),[Ye],Ke)),ye.Event.any(...je.map((j=>j.onDidLayout)))((([j,te])=>Ye.layoutColumn(j,te)),null,this.disposables),this.splitview.onDidSashReset((j=>{const te=Ne.reduce(((j,te)=>j+te.weight),0),he=Ne[j].weight/te*this.cachedWidth;this.splitview.resizeView(j,he)}),null,this.disposables),this.styleElement=(0,he.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(j){this.list.updateOptions(j)}splice(j,te,he=[]){this.list.splice(j,te,he)}getHTMLElement(){return this.domNode}style(j){const te=[];te.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=te.join("\n"),this.list.style(j)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}te.Table=g,g.InstanceCount=0})),define(Ce[349],ie([12]),{}),define(Ce[142],ie([12]),{}),define(Ce[229],ie([1,0,7,133,142]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.getIconClass=void 0;const Ce={},ye=new ve.IdGenerator("quick-input-button-icon-");te.getIconClass=function w(j){if(!j)return;let te;const ve=j.dark.toString();return Ce[ve]?te=Ce[ve]:(te=ye.nextId(),he.createCSSRule(`.${te}`,`background-image: ${he.asCSSUrl(j.light||j.dark)}`),he.createCSSRule(`.vs-dark .${te}, .hc-black .${te}`,`background-image: ${he.asCSSUrl(j.dark)}`),Ce[ve]=te),te}})),define(Ce[350],ie([12]),{}),define(Ce[351],ie([12]),{}),define(Ce[352],ie([12]),{}),define(Ce[353],ie([12]),{}),define(Ce[354],ie([12]),{}),define(Ce[355],ie([12]),{}),define(Ce[356],ie([12]),{}),define(Ce[357],ie([12]),{}),define(Ce[358],ie([12]),{}),define(Ce[359],ie([12]),{}),define(Ce[360],ie([12]),{}),define(Ce[361],ie([12]),{}),define(Ce[362],ie([12]),{}),define(Ce[363],ie([12]),{}),define(Ce[364],ie([12]),{}),define(Ce[365],ie([12]),{}),define(Ce[366],ie([12]),{}),define(Ce[367],ie([12]),{}),define(Ce[368],ie([12]),{}),define(Ce[369],ie([12]),{}),define(Ce[370],ie([12]),{}),define(Ce[371],ie([12]),{}),define(Ce[372],ie([12]),{}),define(Ce[373],ie([12]),{}),define(Ce[374],ie([12]),{}),define(Ce[375],ie([12]),{}),define(Ce[376],ie([12]),{}),define(Ce[377],ie([12]),{}),define(Ce[378],ie([12]),{}),define(Ce[379],ie([12]),{}),define(Ce[380],ie([12]),{}),define(Ce[381],ie([12]),{}),define(Ce[382],ie([12]),{}),define(Ce[383],ie([12]),{}),define(Ce[384],ie([12]),{}),define(Ce[385],ie([12]),{}),define(Ce[386],ie([12]),{}),define(Ce[387],ie([12]),{}),define(Ce[388],ie([12]),{}),define(Ce[389],ie([12]),{}),define(Ce[390],ie([12]),{}),define(Ce[391],ie([12]),{}),define(Ce[392],ie([12]),{}),define(Ce[393],ie([12]),{}),define(Ce[394],ie([12]),{}),define(Ce[395],ie([12]),{}),define(Ce[396],ie([12]),{}),define(Ce[230],ie([1,0,2,4]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.ElementSizeObserver=void 0;class D extends he.Disposable{constructor(j,te){super(),this._onDidChange=this._register(new ve.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=j,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,te)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver((j=>{j&&j[0]&&j[0].contentRect?this.observe({width:j[0].contentRect.width,height:j[0].contentRect.height}):this.observe()})),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(j){this.measureReferenceDomElement(!0,j)}measureReferenceDomElement(j,te){let he=0,ve=0;te?(he=te.width,ve=te.height):this._referenceDomElement&&(he=this._referenceDomElement.clientWidth,ve=this._referenceDomElement.clientHeight),he=Math.max(5,he),ve=Math.max(5,ve),(this._width!==he||this._height!==ve)&&(this._width=he,this._height=ve,j&&this._onDidChange.fire())}}te.ElementSizeObserver=D})),define(Ce[397],ie([1,0,214]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.migrateOptions=void 0,te.migrateOptions=function m(j){const te=j.wordWrap;!0===te?j.wordWrap="on":!1===te&&(j.wordWrap="off");const ve=j.lineNumbers;!0===ve?j.lineNumbers="on":!1===ve&&(j.lineNumbers="off"),!1===j.autoClosingBrackets&&(j.autoClosingBrackets="never",j.autoClosingQuotes="never",j.autoSurround="never"),"visible"===j.cursorBlinking&&(j.cursorBlinking="solid");const Ce=j.renderWhitespace;!0===Ce?j.renderWhitespace="boundary":!1===Ce&&(j.renderWhitespace="none");const ye=j.renderLineHighlight;!0===ye?j.renderLineHighlight="line":!1===ye&&(j.renderLineHighlight="none");const Ee=j.acceptSuggestionOnEnter;!0===Ee?j.acceptSuggestionOnEnter="on":!1===Ee&&(j.acceptSuggestionOnEnter="off");const Ie=j.tabCompletion;!1===Ie?j.tabCompletion="off":!0===Ie&&(j.tabCompletion="onlySnippets");const Ne=j.suggest;if(Ne&&"object"==typeof Ne.filteredTypes&&Ne.filteredTypes){const j={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};(0,he.forEach)(j,(j=>{const te=Ne.filteredTypes[j.key];!1===te&&(Ne[j.value]=te)}))}const Oe=j.hover;!0===Oe?j.hover={enabled:!0}:!1===Oe&&(j.hover={enabled:!1});const Ke=j.parameterHints;!0===Ke?j.parameterHints={enabled:!0}:!1===Ke&&(j.parameterHints={enabled:!1});const je=j.autoIndent;!0===je?j.autoIndent="full":!1===je&&(j.autoIndent="advanced");const Ze=j.matchBrackets;!0===Ze?j.matchBrackets="always":!1===Ze&&(j.matchBrackets="never");const{renderIndentGuides:Ye,highlightActiveIndentGuide:et}=j;j.guides||(j.guides={}),void 0!==Ye&&(j.guides.indentation=!!Ye),void 0!==et&&(j.guides.highlightActiveIndentation=!!et)}})),define(Ce[231],ie([1,0,4]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.TabFocus=void 0;te.TabFocus=new class m{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new he.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(j){this._tabFocus!==j&&(this._tabFocus=j,this._onDidChangeTabFocus.fire(this._tabFocus))}}})),define(Ce[143],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.StableEditorScrollState=void 0;class y{constructor(j,te,he){this._visiblePosition=j,this._visiblePositionScrollDelta=te,this._cursorPosition=he}static capture(j){let te=null,he=0;if(0!==j.getScrollTop()){const ve=j.getVisibleRanges();if(ve.length>0){te=ve[0].getStartPosition();const Ce=j.getTopForPosition(te.lineNumber,te.column);he=j.getScrollTop()-Ce}}return new y(te,he,j.getPosition())}restore(j){if(this._visiblePosition){const te=j.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);j.setScrollTop(te+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(j){const te=j.getPosition();if(!this._cursorPosition||!te)return;const he=j.getTopForLineNumber(te.lineNumber)-j.getTopForLineNumber(this._cursorPosition.lineNumber);j.setScrollTop(j.getScrollTop()+he)}}te.StableEditorScrollState=y})),define(Ce[116],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.VisibleRanges=te.HorizontalPosition=te.FloatHorizontalRange=te.HorizontalRange=te.LineVisibleRanges=te.RenderingContext=te.RestrictedRenderingContext=void 0;class y{constructor(j,te){this._restrictedRenderingContextBrand=void 0,this._viewLayout=j,this.viewportData=te,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const he=this._viewLayout.getCurrentViewport();this.scrollTop=he.top,this.scrollLeft=he.left,this.viewportWidth=he.width,this.viewportHeight=he.height}getScrolledTopFromAbsoluteTop(j){return j-this.scrollTop}getVerticalOffsetForLineNumber(j){return this._viewLayout.getVerticalOffsetForLineNumber(j)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}te.RestrictedRenderingContext=y;te.RenderingContext=class m extends y{constructor(j,te,he){super(j,te),this._renderingContextBrand=void 0,this._viewLines=he}linesVisibleRangesForRange(j,te){return this._viewLines.linesVisibleRangesForRange(j,te)}visibleRangeForPosition(j){return this._viewLines.visibleRangeForPosition(j)}};te.LineVisibleRanges=class D{constructor(j,te,he){this.outsideRenderedLine=j,this.lineNumber=te,this.ranges=he}};class I{constructor(j,te){this._horizontalRangeBrand=void 0,this.left=Math.round(j),this.width=Math.round(te)}static from(j){const te=new Array(j.length);for(let he=0,ve=j.length;he<ve;he++){const ve=j[he];te[he]=new I(ve.left,ve.width)}return te}toString(){return`[${this.left},${this.width}]`}}te.HorizontalRange=I;te.FloatHorizontalRange=class w{constructor(j,te){this._floatHorizontalRangeBrand=void 0,this.left=j,this.width=te}toString(){return`[${this.left},${this.width}]`}static compare(j,te){return j.left-te.left}};te.HorizontalPosition=class b{constructor(j,te){this.outsideRenderedLine=j,this.originalLeft=te,this.left=Math.round(this.originalLeft)}};te.VisibleRanges=class p{constructor(j,te){this.outsideRenderedLine=j,this.ranges=te}}})),define(Ce[232],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewUserInputEvents=void 0;class y{constructor(j){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=j}emitKeyDown(j){this.onKeyDown&&this.onKeyDown(j)}emitKeyUp(j){this.onKeyUp&&this.onKeyUp(j)}emitContextMenu(j){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(j))}emitMouseMove(j){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(j))}emitMouseLeave(j){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(j))}emitMouseDown(j){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(j))}emitMouseUp(j){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(j))}emitMouseDrag(j){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(j))}emitMouseDrop(j){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(j))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(j){this.onMouseWheel&&this.onMouseWheel(j)}_convertViewToModelMouseEvent(j){return j.target?{event:j.event,target:this._convertViewToModelMouseTarget(j.target)}:j}_convertViewToModelMouseTarget(j){return y.convertViewToModelMouseTarget(j,this._coordinatesConverter)}static convertViewToModelMouseTarget(j,te){const he=Object.assign({},j);return he.position&&(he.position=te.convertViewPositionToModelPosition(he.position)),he.range&&(he.range=te.convertViewRangeToModelRange(he.range)),he}}te.ViewUserInputEvents=y})),define(Ce[398],ie([1,0,116]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.RangeUtil=void 0;te.RangeUtil=class m{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(j,te){j.selectNodeContents(te)}static _readClientRects(j,te,he,ve,Ce){const ye=this._createRange();try{return ye.setStart(j,te),ye.setEnd(he,ve),ye.getClientRects()}catch{return null}finally{this._detachRange(ye,Ce)}}static _mergeAdjacentRanges(j){if(1===j.length)return j;j.sort(he.FloatHorizontalRange.compare);const te=[];let ve=0,Ce=j[0];for(let he=1,ye=j.length;he<ye;he++){const ye=j[he];Ce.left+Ce.width+.9>=ye.left?Ce.width=Math.max(Ce.width,ye.left+ye.width-Ce.left):(te[ve++]=Ce,Ce=ye)}return te[ve++]=Ce,te}static _createHorizontalRangesFromClientRects(j,te,ve){if(!j||0===j.length)return null;const Ce=[];for(let ye=0,Ee=j.length;ye<Ee;ye++){const Ee=j[ye];Ce[ye]=new he.FloatHorizontalRange(Math.max(0,(Ee.left-te)/ve),Ee.width/ve)}return this._mergeAdjacentRanges(Ce)}static readHorizontalRanges(j,te,he,ve,Ce,ye,Ee,Ie){const Ne=j.children.length-1;if(0>Ne)return null;if((te=Math.min(Ne,Math.max(0,te)))===(ve=Math.min(Ne,Math.max(0,ve)))&&he===Ce&&0===he&&!j.children[te].firstChild){const he=j.children[te].getClientRects();return this._createHorizontalRangesFromClientRects(he,ye,Ee)}te!==ve&&ve>0&&0===Ce&&(ve--,Ce=1073741824);let Oe=j.children[te].firstChild,Ke=j.children[ve].firstChild;if((!Oe||!Ke)&&(!Oe&&0===he&&te>0&&(Oe=j.children[te-1].firstChild,he=1073741824),!Ke&&0===Ce&&ve>0&&(Ke=j.children[ve-1].firstChild,Ce=1073741824)),!Oe||!Ke)return null;he=Math.min(Oe.textContent.length,Math.max(0,he)),Ce=Math.min(Ke.textContent.length,Math.max(0,Ce));const je=this._readClientRects(Oe,he,Ke,Ce,Ie);return this._createHorizontalRangesFromClientRects(je,ye,Ee)}}})),define(Ce[233],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.getCharIndex=te.allCharCodes=void 0,te.allCharCodes=(()=>{const j=[];for(let te=32;te<=126;te++)j.push(te);return j.push(65533),j})();te.getCharIndex=(j,te)=>(j-=32)<0||j>96?te<=2?(j+96)%96:95:j})),define(Ce[399],ie([1,0,233,139]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.MinimapCharRenderer=void 0;class D{constructor(j,te){this.scale=te,this._minimapCharRendererBrand=void 0,this.charDataNormal=D.soften(j,.8),this.charDataLight=D.soften(j,50/60)}static soften(j,te){const he=new Uint8ClampedArray(j.length);for(let Ce=0,ye=j.length;Ce<ye;Ce++)he[Ce]=(0,ve.toUint8)(j[Ce]*te);return he}renderChar(j,te,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){const Ze=1*this.scale,Ye=2*this.scale,et=je?1:Ye;if(te+Ze>j.width||ve+et>j.height)return void console.warn("bad render request outside image data");const nt=Ke?this.charDataLight:this.charDataNormal,rt=(0,he.getCharIndex)(Ce,Oe),at=4*j.width,ct=Ie.r,ht=Ie.g,mt=Ie.b,pt=ye.r-ct,ft=ye.g-ht,_t=ye.b-mt,Ct=Math.max(Ee,Ne),bt=j.data;let St=rt*Ze*Ye,Dt=ve*at+4*te;for(let j=0;j<et;j++){let j=Dt;for(let te=0;te<Ze;te++){const te=nt[St++]/255*(Ee/255);bt[j++]=ct+pt*te,bt[j++]=ht+ft*te,bt[j++]=mt+_t*te,bt[j++]=Ct}Dt+=at}}blockRenderChar(j,te,he,ve,Ce,ye,Ee,Ie){const Ne=1*this.scale,Oe=2*this.scale,Ke=Ie?1:Oe;if(te+Ne>j.width||he+Ke>j.height)return void console.warn("bad render request outside image data");const je=4*j.width,Ze=Ce/255*.5,Ye=ye.r,et=ye.g,nt=ye.b,rt=Ye+(ve.r-Ye)*Ze,at=et+(ve.g-et)*Ze,ct=nt+(ve.b-nt)*Ze,ht=Math.max(Ce,Ee),mt=j.data;let pt=he*je+4*te;for(let j=0;j<Ke;j++){let j=pt;for(let te=0;te<Ne;te++)mt[j++]=rt,mt[j++]=at,mt[j++]=ct,mt[j++]=ht;pt+=je}}}te.MinimapCharRenderer=D})),define(Ce[400],ie([1,0,88]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.prebakedMiniMaps=void 0;const ve={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},D=j=>{const te=new Uint8ClampedArray(j.length/2);for(let he=0;he<j.length;he+=2)te[he>>1]=ve[j[he]]<<4|15&ve[j[he+1]];return te};te.prebakedMiniMaps={1:(0,he.once)((()=>D("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792"))),2:(0,he.once)((()=>D("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")))}})),define(Ce[401],ie([1,0,399,233,400,139]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.MinimapCharRendererFactory=void 0;class w{static create(j,te){if(this.lastCreated&&j===this.lastCreated.scale&&te===this.lastFontFamily)return this.lastCreated;let ve;return ve=Ce.prebakedMiniMaps[j]?new he.MinimapCharRenderer(Ce.prebakedMiniMaps[j](),j):w.createFromSampleData(w.createSampleData(te).data,j),this.lastFontFamily=te,this.lastCreated=ve,ve}static createSampleData(j){const te=document.createElement("canvas"),he=te.getContext("2d");te.style.height="16px",te.height=16,te.width=960,te.style.width="960px",he.fillStyle="#ffffff",he.font=`bold 16px ${j}`,he.textBaseline="middle";let Ce=0;for(const j of ve.allCharCodes)he.fillText(String.fromCharCode(j),Ce,8),Ce+=10;return he.getImageData(0,0,960,16)}static createFromSampleData(j,te){if(61440!==j.length)throw new Error("Unexpected source in MinimapCharRenderer");const ve=w._downsample(j,te);return new he.MinimapCharRenderer(ve,te)}static _downsampleChar(j,te,he,ve,Ce){const Ee=1*Ce,Ie=2*Ce;let Ne=ve,Oe=0;for(let ve=0;ve<Ie;ve++){const Ce=ve/Ie*16,Ke=(ve+1)/Ie*16;for(let ve=0;ve<Ee;ve++){const Ie=ve/Ee*10,je=(ve+1)/Ee*10;let Ze=0,Ye=0;for(let he=Ce;he<Ke;he++){const ve=te+3840*Math.floor(he),Ce=1-(he-Math.floor(he));for(let te=Ie;te<je;te++){const he=1-(te-Math.floor(te)),ye=ve+4*Math.floor(te),Ee=he*Ce;Ye+=Ee,Ze+=j[ye]*j[ye+3]/255*Ee}}const et=Ze/Ye;Oe=Math.max(Oe,et),he[Ne++]=(0,ye.toUint8)(et)}}return Oe}static _downsample(j,te){const he=2*te*1*te,ve=96*he,Ce=new Uint8ClampedArray(ve);let ye=0,Ee=0,Ie=0;for(let ve=0;ve<96;ve++)Ie=Math.max(Ie,this._downsampleChar(j,Ee,Ce,ye,te)),ye+=he,Ee+=40;if(Ie>0){const j=255/Ie;for(let te=0;te<ve;te++)Ce[te]*=j}return Ce}}te.MinimapCharRendererFactory=w})),define(Ce[144],ie([1,0,4]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.EditorZoom=void 0,te.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new he.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(j){j=Math.min(Math.max(-5,j),20),this._zoomLevel!==j&&(this._zoomLevel=j,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}})),define(Ce[174],ie([1,0,17,144]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.FontInfo=te.SERIALIZED_FONT_INFO_VERSION=te.BareFontInfo=void 0;const Ce=he.isMacintosh?1.5:1.35;class w{constructor(j){this._bareFontInfoBrand=void 0,this.pixelRatio=j.pixelRatio,this.fontFamily=String(j.fontFamily),this.fontWeight=String(j.fontWeight),this.fontSize=j.fontSize,this.fontFeatureSettings=j.fontFeatureSettings,this.lineHeight=0|j.lineHeight,this.letterSpacing=j.letterSpacing}static createFromValidatedSettings(j,te,he){const ve=j.get(43),Ce=j.get(47),ye=j.get(46),Ee=j.get(45),Ie=j.get(59),Ne=j.get(56);return w._create(ve,Ce,ye,Ee,Ie,Ne,te,he)}static _create(j,te,he,ye,Ee,Ie,Ne,Oe){0===Ee?Ee=Ce*he:Ee<8&&(Ee*=he),(Ee=Math.round(Ee))<8&&(Ee=8);const Ke=1+(Oe?0:.1*ve.EditorZoom.getZoomLevel());return new w({pixelRatio:Ne,fontFamily:j,fontWeight:te,fontSize:he*=Ke,fontFeatureSettings:ye,lineHeight:Ee*=Ke,letterSpacing:Ie})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(j){const te=w._wrapInQuotes(this.fontFamily);return j&&this.fontFamily!==j?`${te}, ${j}`:te}static _wrapInQuotes(j){return/[,"']/.test(j)?j:/[+ ]/.test(j)?`"${j}"`:j}}te.BareFontInfo=w,te.SERIALIZED_FONT_INFO_VERSION=1;te.FontInfo=class b extends w{constructor(j,he){super(j),this._editorStylingBrand=void 0,this.version=te.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=he,this.isMonospace=j.isMonospace,this.typicalHalfwidthCharacterWidth=j.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=j.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=j.canUseHalfwidthRightwardsArrow,this.spaceWidth=j.spaceWidth,this.middotWidth=j.middotWidth,this.wsmiddotWidth=j.wsmiddotWidth,this.maxDigitWidth=j.maxDigitWidth}equals(j){return this.fontFamily===j.fontFamily&&this.fontWeight===j.fontWeight&&this.fontSize===j.fontSize&&this.fontFeatureSettings===j.fontFeatureSettings&&this.lineHeight===j.lineHeight&&this.letterSpacing===j.letterSpacing&&this.typicalHalfwidthCharacterWidth===j.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===j.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===j.canUseHalfwidthRightwardsArrow&&this.spaceWidth===j.spaceWidth&&this.middotWidth===j.middotWidth&&this.wsmiddotWidth===j.wsmiddotWidth&&this.maxDigitWidth===j.maxDigitWidth}}})),define(Ce[97],ie([1,0,139]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.CharacterSet=te.CharacterClassifier=void 0;class m{constructor(j){const te=(0,he.toUint8)(j);this._defaultValue=te,this._asciiMap=m._createAsciiMap(te),this._map=new Map}static _createAsciiMap(j){const te=new Uint8Array(256);for(let he=0;he<256;he++)te[he]=j;return te}set(j,te){const ve=(0,he.toUint8)(te);j>=0&&j<256?this._asciiMap[j]=ve:this._map.set(j,ve)}get(j){return j>=0&&j<256?this._asciiMap[j]:this._map.get(j)||this._defaultValue}}te.CharacterClassifier=m;te.CharacterSet=class D{constructor(){this._actual=new m(0)}add(j){this._actual.set(j,1)}has(j){return 1===this._actual.get(j)}}})),define(Ce[68],ie([1,0,8]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.CursorColumns=void 0;class m{static _nextVisibleColumn(j,te,ve){return 9===j?m.nextRenderTabStop(te,ve):he.isFullWidthCharacter(j)||he.isEmojiImprecise(j)?te+2:te+1}static visibleColumnFromColumn(j,te,ve){const Ce=Math.min(te-1,j.length),ye=j.substring(0,Ce),Ee=new he.GraphemeIterator(ye);let Ie=0;for(;!Ee.eol();){const j=he.getNextCodePoint(ye,Ce,Ee.offset);Ee.nextGraphemeLength(),Ie=this._nextVisibleColumn(j,Ie,ve)}return Ie}static columnFromVisibleColumn(j,te,ve){if(te<=0)return 1;const Ce=j.length,ye=new he.GraphemeIterator(j);let Ee=0,Ie=1;for(;!ye.eol();){const Ne=he.getNextCodePoint(j,Ce,ye.offset);ye.nextGraphemeLength();const Oe=this._nextVisibleColumn(Ne,Ee,ve),Ke=ye.offset+1;if(Oe>=te){return Oe-te<te-Ee?Ke:Ie}Ee=Oe,Ie=Ke}return Ce+1}static nextRenderTabStop(j,te){return j+te-j%te}static nextIndentTabStop(j,te){return j+te-j%te}static prevRenderTabStop(j,te){return Math.max(0,j-1-(j-1)%te)}static prevIndentTabStop(j,te){return Math.max(0,j-1-(j-1)%te)}}te.CursorColumns=m})),define(Ce[117],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.countEOL=void 0,te.countEOL=function y(j){let te=0,he=0,ve=0,Ce=0;for(let ye=0,Ee=j.length;ye<Ee;ye++){const Ie=j.charCodeAt(ye);13===Ie?(0===te&&(he=ye),te++,ye+1<Ee&&10===j.charCodeAt(ye+1)?(Ce|=2,ye++):Ce|=3,ve=ye+1):10===Ie&&(Ce|=1,0===te&&(he=ye),te++,ve=ye+1)}return 0===te&&(he=j.length),[te,he,j.length-ve,Ce]}})),define(Ce[11],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.Position=void 0;class y{constructor(j,te){this.lineNumber=j,this.column=te}with(j=this.lineNumber,te=this.column){return j===this.lineNumber&&te===this.column?this:new y(j,te)}delta(j=0,te=0){return this.with(this.lineNumber+j,this.column+te)}equals(j){return y.equals(this,j)}static equals(j,te){return!j&&!te||!!j&&!!te&&j.lineNumber===te.lineNumber&&j.column===te.column}isBefore(j){return y.isBefore(this,j)}static isBefore(j,te){return j.lineNumber<te.lineNumber||!(te.lineNumber<j.lineNumber)&&j.column<te.column}isBeforeOrEqual(j){return y.isBeforeOrEqual(this,j)}static isBeforeOrEqual(j,te){return j.lineNumber<te.lineNumber||!(te.lineNumber<j.lineNumber)&&j.column<=te.column}static compare(j,te){const he=0|j.lineNumber,ve=0|te.lineNumber;if(he===ve){return(0|j.column)-(0|te.column)}return he-ve}clone(){return new y(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(j){return new y(j.lineNumber,j.column)}static isIPosition(j){return j&&"number"==typeof j.lineNumber&&"number"==typeof j.column}}te.Position=y})),define(Ce[3],ie([1,0,11]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.Range=void 0;class m{constructor(j,te,he,ve){j>he||j===he&&te>ve?(this.startLineNumber=he,this.startColumn=ve,this.endLineNumber=j,this.endColumn=te):(this.startLineNumber=j,this.startColumn=te,this.endLineNumber=he,this.endColumn=ve)}isEmpty(){return m.isEmpty(this)}static isEmpty(j){return j.startLineNumber===j.endLineNumber&&j.startColumn===j.endColumn}containsPosition(j){return m.containsPosition(this,j)}static containsPosition(j,te){return!(te.lineNumber<j.startLineNumber||te.lineNumber>j.endLineNumber||te.lineNumber===j.startLineNumber&&te.column<j.startColumn||te.lineNumber===j.endLineNumber&&te.column>j.endColumn)}static strictContainsPosition(j,te){return!(te.lineNumber<j.startLineNumber||te.lineNumber>j.endLineNumber||te.lineNumber===j.startLineNumber&&te.column<=j.startColumn||te.lineNumber===j.endLineNumber&&te.column>=j.endColumn)}containsRange(j){return m.containsRange(this,j)}static containsRange(j,te){return!(te.startLineNumber<j.startLineNumber||te.endLineNumber<j.startLineNumber||te.startLineNumber>j.endLineNumber||te.endLineNumber>j.endLineNumber||te.startLineNumber===j.startLineNumber&&te.startColumn<j.startColumn||te.endLineNumber===j.endLineNumber&&te.endColumn>j.endColumn)}strictContainsRange(j){return m.strictContainsRange(this,j)}static strictContainsRange(j,te){return!(te.startLineNumber<j.startLineNumber||te.endLineNumber<j.startLineNumber||te.startLineNumber>j.endLineNumber||te.endLineNumber>j.endLineNumber||te.startLineNumber===j.startLineNumber&&te.startColumn<=j.startColumn||te.endLineNumber===j.endLineNumber&&te.endColumn>=j.endColumn)}plusRange(j){return m.plusRange(this,j)}static plusRange(j,te){let he,ve,Ce,ye;return te.startLineNumber<j.startLineNumber?(he=te.startLineNumber,ve=te.startColumn):te.startLineNumber===j.startLineNumber?(he=te.startLineNumber,ve=Math.min(te.startColumn,j.startColumn)):(he=j.startLineNumber,ve=j.startColumn),te.endLineNumber>j.endLineNumber?(Ce=te.endLineNumber,ye=te.endColumn):te.endLineNumber===j.endLineNumber?(Ce=te.endLineNumber,ye=Math.max(te.endColumn,j.endColumn)):(Ce=j.endLineNumber,ye=j.endColumn),new m(he,ve,Ce,ye)}intersectRanges(j){return m.intersectRanges(this,j)}static intersectRanges(j,te){let he=j.startLineNumber,ve=j.startColumn,Ce=j.endLineNumber,ye=j.endColumn,Ee=te.startLineNumber,Ie=te.startColumn,Ne=te.endLineNumber,Oe=te.endColumn;return he<Ee?(he=Ee,ve=Ie):he===Ee&&(ve=Math.max(ve,Ie)),Ce>Ne?(Ce=Ne,ye=Oe):Ce===Ne&&(ye=Math.min(ye,Oe)),he>Ce||he===Ce&&ve>ye?null:new m(he,ve,Ce,ye)}equalsRange(j){return m.equalsRange(this,j)}static equalsRange(j,te){return!!j&&!!te&&j.startLineNumber===te.startLineNumber&&j.startColumn===te.startColumn&&j.endLineNumber===te.endLineNumber&&j.endColumn===te.endColumn}getEndPosition(){return m.getEndPosition(this)}static getEndPosition(j){return new he.Position(j.endLineNumber,j.endColumn)}getStartPosition(){return m.getStartPosition(this)}static getStartPosition(j){return new he.Position(j.startLineNumber,j.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(j,te){return new m(this.startLineNumber,this.startColumn,j,te)}setStartPosition(j,te){return new m(j,te,this.endLineNumber,this.endColumn)}collapseToStart(){return m.collapseToStart(this)}static collapseToStart(j){return new m(j.startLineNumber,j.startColumn,j.startLineNumber,j.startColumn)}static fromPositions(j,te=j){return new m(j.lineNumber,j.column,te.lineNumber,te.column)}static lift(j){return j?new m(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn):null}static isIRange(j){return j&&"number"==typeof j.startLineNumber&&"number"==typeof j.startColumn&&"number"==typeof j.endLineNumber&&"number"==typeof j.endColumn}static areIntersectingOrTouching(j,te){return!(j.endLineNumber<te.startLineNumber||j.endLineNumber===te.startLineNumber&&j.endColumn<te.startColumn||te.endLineNumber<j.startLineNumber||te.endLineNumber===j.startLineNumber&&te.endColumn<j.startColumn)}static areIntersecting(j,te){return!(j.endLineNumber<te.startLineNumber||j.endLineNumber===te.startLineNumber&&j.endColumn<=te.startColumn||te.endLineNumber<j.startLineNumber||te.endLineNumber===j.startLineNumber&&te.endColumn<=j.startColumn)}static compareRangesUsingStarts(j,te){if(j&&te){const he=0|j.startLineNumber,ve=0|te.startLineNumber;if(he===ve){const he=0|j.startColumn,ve=0|te.startColumn;if(he===ve){const he=0|j.endLineNumber,ve=0|te.endLineNumber;if(he===ve){return(0|j.endColumn)-(0|te.endColumn)}return he-ve}return he-ve}return he-ve}return(j?1:0)-(te?1:0)}static compareRangesUsingEnds(j,te){return j.endLineNumber===te.endLineNumber?j.endColumn===te.endColumn?j.startLineNumber===te.startLineNumber?j.startColumn-te.startColumn:j.startLineNumber-te.startLineNumber:j.endColumn-te.endColumn:j.endLineNumber-te.endLineNumber}static spansMultipleLines(j){return j.endLineNumber>j.startLineNumber}}te.Range=m})),define(Ce[234],ie([1,0,8,11,3]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.PagedScreenReaderStrategy=te.TextAreaState=te._debugComposition=void 0,te._debugComposition=!1;class I{constructor(j,te,he,ve,Ce){this.value=j,this.selectionStart=te,this.selectionEnd=he,this.selectionStartPosition=ve,this.selectionEndPosition=Ce}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(j){return new I(j.getValue(),j.getSelectionStart(),j.getSelectionEnd(),null,null)}collapseSelection(){return new I(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(j,he,ve){te._debugComposition&&console.log(`writeToTextArea ${j}: ${this.toString()}`),he.setValue(j,this.value),ve&&he.setSelectionRange(j,this.selectionStart,this.selectionEnd)}deduceEditorPosition(j){if(j<=this.selectionStart){const te=this.value.substring(j,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,te,-1)}if(j>=this.selectionEnd){const te=this.value.substring(this.selectionEnd,j);return this._finishDeduceEditorPosition(this.selectionEndPosition,te,1)}const te=this.value.substring(this.selectionStart,j);if(-1===te.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,te,1);const he=this.value.substring(j,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,he,-1)}_finishDeduceEditorPosition(j,te,he){let ve=0,Ce=-1;for(;-1!==(Ce=te.indexOf("\n",Ce+1));)ve++;return[j,he*te.length,ve]}static deduceInput(j,ve,Ce){if(!j)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};te._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${j.toString()}`),console.log(`CURRENT STATE: ${ve.toString()}`));const ye=Math.min(he.commonPrefixLength(j.value,ve.value),j.selectionStart,ve.selectionStart),Ee=Math.min(he.commonSuffixLength(j.value,ve.value),j.value.length-j.selectionEnd,ve.value.length-ve.selectionEnd),Ie=j.value.substring(ye,j.value.length-Ee),Ne=ve.value.substring(ye,ve.value.length-Ee),Oe=j.selectionStart-ye,Ke=j.selectionEnd-ye,je=ve.selectionStart-ye,Ze=ve.selectionEnd-ye;if(te._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${Ie}>, selectionStart: ${Oe}, selectionEnd: ${Ke}`),console.log(`AFTER DIFFING CURRENT STATE: <${Ne}>, selectionStart: ${je}, selectionEnd: ${Ze}`)),je===Ze){const he=j.selectionStart-ye;return te._debugComposition&&console.log(`REMOVE PREVIOUS: ${he} chars`),{text:Ne,replacePrevCharCnt:he,replaceNextCharCnt:0,positionDelta:0}}return{text:Ne,replacePrevCharCnt:Ke-Oe,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(j,ve){if(!j)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(te._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${j.toString()}`),console.log(`CURRENT STATE: ${ve.toString()}`)),j.value===ve.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:ve.selectionEnd-j.selectionEnd};const Ce=Math.min(he.commonPrefixLength(j.value,ve.value),j.selectionEnd),ye=Math.min(he.commonSuffixLength(j.value,ve.value),j.value.length-j.selectionEnd),Ee=j.value.substring(Ce,j.value.length-ye),Ie=ve.value.substring(Ce,ve.value.length-ye),Ne=j.selectionStart-Ce,Oe=j.selectionEnd-Ce,Ke=ve.selectionStart-Ce,je=ve.selectionEnd-Ce;return te._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${Ee}>, selectionStart: ${Ne}, selectionEnd: ${Oe}`),console.log(`AFTER DIFFING CURRENT STATE: <${Ie}>, selectionStart: ${Ke}, selectionEnd: ${je}`)),{text:Ie,replacePrevCharCnt:Oe,replaceNextCharCnt:Ee.length-Oe,positionDelta:je-Ie.length}}}te.TextAreaState=I,I.EMPTY=new I("",0,0,null,null);class w{static _getPageOfLine(j,te){return Math.floor((j-1)/te)}static _getRangeForPage(j,te){const he=j*te,ve=he+1,ye=he+te;return new Ce.Range(ve,1,ye+1,1)}static fromEditorSelection(j,te,he,ye,Ee){const Ie=w._getPageOfLine(he.startLineNumber,ye),Ne=w._getRangeForPage(Ie,ye),Oe=w._getPageOfLine(he.endLineNumber,ye),Ke=w._getRangeForPage(Oe,ye),je=Ne.intersectRanges(new Ce.Range(1,1,he.startLineNumber,he.startColumn));let Ze=te.getValueInRange(je,1);const Ye=te.getLineCount(),et=te.getLineMaxColumn(Ye),nt=Ke.intersectRanges(new Ce.Range(he.endLineNumber,he.endColumn,Ye,et));let rt,at=te.getValueInRange(nt,1);if(Ie===Oe||Ie+1===Oe)rt=te.getValueInRange(he,1);else{const j=Ne.intersectRanges(he),ve=Ke.intersectRanges(he);rt=te.getValueInRange(j,1)+String.fromCharCode(8230)+te.getValueInRange(ve,1)}if(Ee){const j=500;Ze.length>j&&(Ze=Ze.substring(Ze.length-j,Ze.length)),at.length>j&&(at=at.substring(0,j)),rt.length>2*j&&(rt=rt.substring(0,j)+String.fromCharCode(8230)+rt.substring(rt.length-j,rt.length))}return new I(Ze+rt+at,Ze.length,Ze.length+rt.length,new ve.Position(he.startLineNumber,he.startColumn),new ve.Position(he.endLineNumber,he.endColumn))}}te.PagedScreenReaderStrategy=w})),define(Ce[235],ie([1,0,213,4,2,39,3]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.DiffNavigator=void 0;const Ie={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class p extends Ce.Disposable{constructor(j,te={}){super(),this._onDidUpdate=this._register(new ve.Emitter),this._editor=j,this._options=ye.mixin(te,Ie,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose((()=>this.dispose()))),this._register(this._editor.onDidUpdateDiff((()=>this._onDiffUpdated()))),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition((j=>{this.ignoreSelectionChange||(this.nextIdx=-1)}))),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel((j=>{this.revealFirst=!0}))),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(j){this.ranges=[],j&&j.forEach((j=>{!this._options.ignoreCharChanges&&j.charChanges?j.charChanges.forEach((j=>{this.ranges.push({rhs:!0,range:new Ee.Range(j.modifiedStartLineNumber,j.modifiedStartColumn,j.modifiedEndLineNumber,j.modifiedEndColumn)})})):0===j.modifiedEndLineNumber?this.ranges.push({rhs:!0,range:new Ee.Range(j.modifiedStartLineNumber,1,j.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new Ee.Range(j.modifiedStartLineNumber,1,j.modifiedEndLineNumber+1,1)})})),this.ranges.sort(((j,te)=>Ee.Range.compareRangesUsingStarts(j.range,te.range))),this._onDidUpdate.fire(this)}_initIdx(j){let te=!1;const he=this._editor.getPosition();if(he){for(let ve=0,Ce=this.ranges.length;ve<Ce&&!te;ve++){const Ce=this.ranges[ve].range;he.isBeforeOrEqual(Ce.getStartPosition())&&(this.nextIdx=ve+(j?0:-1),te=!0)}te||(this.nextIdx=j?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(j,te){if(he.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(j):j?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const ve=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const j=ve.range.getStartPosition();this._editor.setPosition(j),this._editor.revealRangeInCenter(ve.range,te)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(j=0){this._move(!0,j)}previous(j=0){this._move(!1,j)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}te.DiffNavigator=p})),define(Ce[61],ie([1,0,3]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.EditOperation=void 0;te.EditOperation=class m{static insert(j,te){return{range:new he.Range(j.lineNumber,j.column,j.lineNumber,j.column),text:te,forceMoveMarkers:!0}}static delete(j){return{range:j,text:null}}static replace(j,te){return{range:j,text:te}}static replaceMove(j,te){return{range:j,text:te,forceMoveMarkers:!0}}}})),define(Ce[402],ie([1,0,8,61,3]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.trimTrailingWhitespace=te.TrimTrailingWhitespaceCommand=void 0;function w(j,te){te.sort(((j,te)=>j.lineNumber===te.lineNumber?j.column-te.column:j.lineNumber-te.lineNumber));for(let j=te.length-2;j>=0;j--)te[j].lineNumber===te[j+1].lineNumber&&te.splice(j,1);const ye=[];let Ee=0,Ie=0;const Ne=te.length;for(let Oe=1,Ke=j.getLineCount();Oe<=Ke;Oe++){const Ke=j.getLineContent(Oe),je=Ke.length+1;let Ze=0;if(Ie<Ne&&te[Ie].lineNumber===Oe&&(Ze=te[Ie].column,Ie++,Ze===je)||0===Ke.length)continue;const Ye=he.lastNonWhitespaceIndex(Ke);let et=0;if(-1===Ye)et=1;else{if(Ye===Ke.length-1)continue;et=Ye+2}et=Math.max(Ze,et),ye[Ee++]=ve.EditOperation.delete(new Ce.Range(Oe,et,Oe,je))}return ye}te.TrimTrailingWhitespaceCommand=class I{constructor(j,te){this._selection=j,this._cursors=te,this._selectionId=null}getEditOperations(j,te){const he=w(j,this._cursors);for(let j=0,ve=he.length;j<ve;j++){const ve=he[j];te.addEditOperation(ve.range,ve.text)}this._selectionId=te.trackSelection(this._selection)}computeCursorState(j,te){return te.getTrackedSelection(this._selectionId)}},te.trimTrailingWhitespace=w})),define(Ce[236],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.RGBA8=void 0;class y{constructor(j,te,he,ve){this._rgba8Brand=void 0,this.r=y._clamp(j),this.g=y._clamp(te),this.b=y._clamp(he),this.a=y._clamp(ve)}equals(j){return this.r===j.r&&this.g===j.g&&this.b===j.b&&this.a===j.a}static _clamp(j){return j<0?0:j>255?255:0|j}}te.RGBA8=y,y.Empty=new y(0,0,0,0)})),define(Ce[22],ie([1,0,11,3]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.Selection=void 0;class D extends ve.Range{constructor(j,te,he,ve){super(j,te,he,ve),this.selectionStartLineNumber=j,this.selectionStartColumn=te,this.positionLineNumber=he,this.positionColumn=ve}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(j){return D.selectionsEqual(this,j)}static selectionsEqual(j,te){return j.selectionStartLineNumber===te.selectionStartLineNumber&&j.selectionStartColumn===te.selectionStartColumn&&j.positionLineNumber===te.positionLineNumber&&j.positionColumn===te.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(j,te){return 0===this.getDirection()?new D(this.startLineNumber,this.startColumn,j,te):new D(j,te,this.startLineNumber,this.startColumn)}getPosition(){return new he.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new he.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(j,te){return 0===this.getDirection()?new D(j,te,this.endLineNumber,this.endColumn):new D(this.endLineNumber,this.endColumn,j,te)}static fromPositions(j,te=j){return new D(j.lineNumber,j.column,te.lineNumber,te.column)}static fromRange(j,te){return 0===te?new D(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn):new D(j.endLineNumber,j.endColumn,j.startLineNumber,j.startColumn)}static liftSelection(j){return new D(j.selectionStartLineNumber,j.selectionStartColumn,j.positionLineNumber,j.positionColumn)}static selectionsArrEqual(j,te){if(j&&!te||!j&&te)return!1;if(!j&&!te)return!0;if(j.length!==te.length)return!1;for(let he=0,ve=j.length;he<ve;he++)if(!this.selectionsEqual(j[he],te[he]))return!1;return!0}static isISelection(j){return j&&"number"==typeof j.selectionStartLineNumber&&"number"==typeof j.selectionStartColumn&&"number"==typeof j.positionLineNumber&&"number"==typeof j.positionColumn}static createWithDirection(j,te,he,ve,Ce){return 0===Ce?new D(j,te,he,ve):new D(he,ve,j,te)}}te.Selection=D})),define(Ce[175],ie([1,0,34,7,46,10,4,2,135,8,234,22]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){var Ze;Object.defineProperty(te,"__esModule",{value:!0}),te.TextAreaWrapper=te.TextAreaInput=te.InMemoryClipboardMetadataManager=te.CopyOptions=te.TextAreaSyntethicEvents=void 0,(Ze=te.TextAreaSyntethicEvents||(te.TextAreaSyntethicEvents={})).Tap="-monaco-textarea-synthetic-tap",te.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class n{constructor(){this._lastState=null}set(j,te){this._lastState={lastCopiedValue:j,data:te}}get(j){return this._lastState&&this._lastState.lastCopiedValue===j?this._lastState.data:(this._lastState=null,null)}}te.InMemoryClipboardMetadataManager=n,n.INSTANCE=new n;class l{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(j){const te={text:j=j||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=j.length,te}}class c extends Ie.Disposable{constructor(j,te,he,ve){super(),this._host=j,this._textArea=te,this._OS=he,this._browser=ve,this._onFocus=this._register(new Ee.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new Ee.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new Ee.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new Ee.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new Ee.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new Ee.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new Ee.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new Ee.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new Ee.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new Ee.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new Ee.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new ye.RunOnceScheduler((()=>this._onCut.fire()),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new ye.RunOnceScheduler((()=>this.writeScreenReaderContent("asyncFocusGain")),0)),this._textAreaState=Ke.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let Ie=null;this._register(this._textArea.onKeyDown((j=>{const te=new Ce.StandardKeyboardEvent(j);(109===te.keyCode||this._currentComposition&&1===te.keyCode)&&te.stopPropagation(),te.equals(9)&&te.preventDefault(),Ie=te,this._onKeyDown.fire(te)}))),this._register(this._textArea.onKeyUp((j=>{const te=new Ce.StandardKeyboardEvent(j);this._onKeyUp.fire(te)}))),this._register(this._textArea.onCompositionStart((j=>{Ke._debugComposition&&console.log("[compositionstart]",j);const te=new l;if(!this._currentComposition)return this._currentComposition=te,2===this._OS&&Ie&&Ie.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===j.data&&("ArrowRight"===Ie.code||"ArrowLeft"===Ie.code)?(Ke._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",j),te.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:j.data})):(this._browser.isAndroid,void this._onCompositionStart.fire({data:j.data}));this._currentComposition=te}))),this._register(this._textArea.onCompositionUpdate((j=>{Ke._debugComposition&&console.log("[compositionupdate]",j);const te=this._currentComposition;if(!te)return;if(this._browser.isAndroid){const te=Ke.TextAreaState.readFromTextArea(this._textArea),he=Ke.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,te);return this._textAreaState=te,this._onType.fire(he),void this._onCompositionUpdate.fire(j)}const he=te.handleCompositionUpdate(j.data);this._textAreaState=Ke.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(he),this._onCompositionUpdate.fire(j)}))),this._register(this._textArea.onCompositionEnd((j=>{Ke._debugComposition&&console.log("[compositionend]",j);const te=this._currentComposition;if(!te)return;if(this._currentComposition=null,this._browser.isAndroid){const j=Ke.TextAreaState.readFromTextArea(this._textArea),te=Ke.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,j);return this._textAreaState=j,this._onType.fire(te),void this._onCompositionEnd.fire()}const he=te.handleCompositionUpdate(j.data);this._textAreaState=Ke.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(he),this._onCompositionEnd.fire()}))),this._register(this._textArea.onInput((j=>{if(Ke._debugComposition&&console.log("[input]",j),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const te=Ke.TextAreaState.readFromTextArea(this._textArea),he=Ke.TextAreaState.deduceInput(this._textAreaState,te,2===this._OS);0===he.replacePrevCharCnt&&1===he.text.length&&Oe.isHighSurrogate(he.text.charCodeAt(0))||(this._textAreaState=te,(""!==he.text||0!==he.replacePrevCharCnt||0!==he.replaceNextCharCnt||0!==he.positionDelta)&&this._onType.fire(he))}))),this._register(this._textArea.onCut((j=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(j),this._asyncTriggerCut.schedule()}))),this._register(this._textArea.onCopy((j=>{this._ensureClipboardGetsEditorSelection(j)}))),this._register(this._textArea.onPaste((j=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),j.preventDefault(),!j.clipboardData)return;let[te,he]=r.getTextData(j.clipboardData);!te||(he=he||n.INSTANCE.get(te),this._onPaste.fire({text:te,metadata:he}))}))),this._register(this._textArea.onFocus((()=>{const j=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!j&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()}))),this._register(this._textArea.onBlur((()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)}))),this._register(this._textArea.onSyntheticTap((()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())})))}_installSelectionChangeListener(){let j=0;return ve.addDisposableListener(document,"selectionchange",(te=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const he=Date.now(),ve=he-j;if(j=he,ve<5)return;const Ce=he-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),Ce<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const ye=this._textArea.getValue();if(this._textAreaState.value!==ye)return;const Ee=this._textArea.getSelectionStart(),Ie=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===Ee&&this._textAreaState.selectionEnd===Ie)return;const Ne=this._textAreaState.deduceEditorPosition(Ee),Oe=this._host.deduceModelPosition(Ne[0],Ne[1],Ne[2]),Ke=this._textAreaState.deduceEditorPosition(Ie),Ze=this._host.deduceModelPosition(Ke[0],Ke[1],Ke[2]),Ye=new je.Selection(Oe.lineNumber,Oe.column,Ze.lineNumber,Ze.column);this._onSelectionChangeRequest.fire(Ye)}))}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(j){this._hasFocus!==j&&(this._hasFocus=j,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(j,te){this._hasFocus||(te=te.collapseSelection()),te.writeToTextArea(j,this._textArea,this._hasFocus),this._textAreaState=te}writeScreenReaderContent(j){this._currentComposition||this._setAndWriteTextAreaState(j,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(j){const te=this._host.getDataToCopy(),he={version:1,isFromEmptySelection:te.isFromEmptySelection,multicursorText:te.multicursorText,mode:te.mode};n.INSTANCE.set(this._browser.isFirefox?te.text.replace(/\r\n/g,"\n"):te.text,he),j.preventDefault(),j.clipboardData&&r.setTextData(j.clipboardData,te.text,te.html,he)}}te.TextAreaInput=c;class r{static getTextData(j){const te=j.getData(Ne.Mimes.text);let he=null;const ve=j.getData("vscode-editor-data");if("string"==typeof ve)try{he=JSON.parse(ve),1!==he.version&&(he=null)}catch{}return[te,he]}static setTextData(j,te,he,ve){j.setData(Ne.Mimes.text,te),"string"==typeof he&&j.setData("text/html",he),j.setData("vscode-editor-data",JSON.stringify(ve))}}class s extends Ie.Disposable{constructor(j){super(),this._actual=j,this.onKeyDown=this._register(ve.createEventEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(ve.createEventEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(ve.createEventEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(ve.createEventEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(ve.createEventEmitter(this._actual,"compositionend")).event,this.onInput=this._register(ve.createEventEmitter(this._actual,"input")).event,this.onCut=this._register(ve.createEventEmitter(this._actual,"cut")).event,this.onCopy=this._register(ve.createEventEmitter(this._actual,"copy")).event,this.onPaste=this._register(ve.createEventEmitter(this._actual,"paste")).event,this.onFocus=this._register(ve.createEventEmitter(this._actual,"focus")).event,this.onBlur=this._register(ve.createEventEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new Ee.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(ve.addDisposableListener(this._actual,Ze.Tap,(()=>this._onSyntheticTap.fire())))}hasFocus(){const j=ve.getShadowRoot(this._actual);return j?j.activeElement===this._actual:!!ve.isInDOM(this._actual)&&document.activeElement===this._actual}setIgnoreSelectionChangeTime(j){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(j,te){const he=this._actual;he.value!==te&&(this.setIgnoreSelectionChangeTime("setValue"),he.value=te)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(j,te,Ce){const ye=this._actual;let Ee=null;const Ie=ve.getShadowRoot(ye);Ee=Ie?Ie.activeElement:document.activeElement;const Ne=Ee===ye,Oe=ye.selectionStart,Ke=ye.selectionEnd;if(Ne&&Oe===te&&Ke===Ce)he.isFirefox&&window.parent!==window&&ye.focus();else{if(Ne)return this.setIgnoreSelectionChangeTime("setSelectionRange"),ye.setSelectionRange(te,Ce),void(he.isFirefox&&window.parent!==window&&ye.focus());try{const j=ve.saveParentsScrollTop(ye);this.setIgnoreSelectionChangeTime("setSelectionRange"),ye.focus(),ye.setSelectionRange(te,Ce),ve.restoreParentsScrollTop(ye,j)}catch{}}}}te.TextAreaWrapper=s})),define(Ce[98],ie([1,0,22]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ReplaceCommandThatPreservesSelection=te.ReplaceCommandWithOffsetCursorState=te.ReplaceCommandWithoutChangingPosition=te.ReplaceCommandThatSelectsText=te.ReplaceCommand=void 0;te.ReplaceCommand=class m{constructor(j,te,he=!1){this._range=j,this._text=te,this.insertsAutoWhitespace=he}getEditOperations(j,te){te.addTrackedEditOperation(this._range,this._text)}computeCursorState(j,te){const ve=te.getInverseEditOperations()[0].range;return he.Selection.fromPositions(ve.getEndPosition())}};te.ReplaceCommandThatSelectsText=class D{constructor(j,te){this._range=j,this._text=te}getEditOperations(j,te){te.addTrackedEditOperation(this._range,this._text)}computeCursorState(j,te){const ve=te.getInverseEditOperations()[0].range;return he.Selection.fromRange(ve,0)}};te.ReplaceCommandWithoutChangingPosition=class I{constructor(j,te,he=!1){this._range=j,this._text=te,this.insertsAutoWhitespace=he}getEditOperations(j,te){te.addTrackedEditOperation(this._range,this._text)}computeCursorState(j,te){const ve=te.getInverseEditOperations()[0].range;return he.Selection.fromPositions(ve.getStartPosition())}};te.ReplaceCommandWithOffsetCursorState=class w{constructor(j,te,he,ve,Ce=!1){this._range=j,this._text=te,this._columnDeltaOffset=ve,this._lineNumberDeltaOffset=he,this.insertsAutoWhitespace=Ce}getEditOperations(j,te){te.addTrackedEditOperation(this._range,this._text)}computeCursorState(j,te){const ve=te.getInverseEditOperations()[0].range;return he.Selection.fromPositions(ve.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}};te.ReplaceCommandThatPreservesSelection=class b{constructor(j,te,he,ve=!1){this._range=j,this._text=te,this._initialSelection=he,this._forceMoveMarkers=ve,this._selectionId=null}getEditOperations(j,te){te.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=te.trackSelection(this._initialSelection)}computeCursorState(j,te){return te.getTrackedSelection(this._selectionId)}}})),define(Ce[403],ie([1,0,3,22]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.SurroundSelectionCommand=void 0;te.SurroundSelectionCommand=class D{constructor(j,te,he){this._range=j,this._charBeforeSelection=te,this._charAfterSelection=he}getEditOperations(j,te){te.addTrackedEditOperation(new he.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),te.addTrackedEditOperation(new he.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(j,te){const he=te.getInverseEditOperations(),Ce=he[0].range,ye=he[1].range;return new ve.Selection(Ce.endLineNumber,Ce.endColumn,ye.endLineNumber,ye.endColumn-this._charAfterSelection.length)}}})),define(Ce[90],ie([1,0,8,17,110]),(function(j,te,he,ve,Ce){let ye,Ee,Ie;function w(){return ye||(ye=new TextDecoder("UTF-16LE")),ye}function g(){return Ie||(Ie=ve.isLittleEndian()?w():function p(){return Ee||(Ee=new TextDecoder("UTF-16BE")),Ee}()),Ie}function i(j,te,he){const ve=[];let ye=0;for(let Ee=0;Ee<he;Ee++){const he=Ce.readUInt16LE(j,te);te+=2,ve[ye++]=String.fromCharCode(he)}return ve.join("")}Object.defineProperty(te,"__esModule",{value:!0}),te.decodeUTF16LE=te.createStringBuilder=te.hasTextDecoder=te.getPlatformTextDecoder=void 0,te.getPlatformTextDecoder=g,te.hasTextDecoder="undefined"!=typeof TextDecoder,te.hasTextDecoder?(te.createStringBuilder=j=>new n(j),te.decodeUTF16LE=function t(j,te,he){const ve=new Uint16Array(j.buffer,te,he);return he>0&&(65279===ve[0]||65534===ve[0])?i(j,te,he):w().decode(ve)}):(te.createStringBuilder=j=>new l,te.decodeUTF16LE=i);class n{constructor(j){this._capacity=0|j,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const j=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return g().decode(j)}_flushBuffer(){const j=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[j]:this._completedStrings[this._completedStrings.length]=j}write1(j){const te=this._capacity-this._bufferLength;te<=1&&(0===te||he.isHighSurrogate(j))&&this._flushBuffer(),this._buffer[this._bufferLength++]=j}appendASCII(j){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=j}appendASCIIString(j){const te=j.length;if(this._bufferLength+te>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=j);for(let he=0;he<te;he++)this._buffer[this._bufferLength++]=j.charCodeAt(he)}}class l{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(j){this._pieces[this._piecesLen++]=String.fromCharCode(j)}appendASCII(j){this._pieces[this._piecesLen++]=String.fromCharCode(j)}appendASCIIString(j){this._pieces[this._piecesLen++]=j}}})),define(Ce[176],ie([1,0,30,90]),(function(j,te,he,ve){var Ce;Object.defineProperty(te,"__esModule",{value:!0}),te.VisibleLinesCollection=te.RenderedLinesCollection=void 0;class I{constructor(j){this._createLine=j,this._set(1,[])}flush(){this._set(1,[])}_set(j,te){this._lines=te,this._rendLineNumberStart=j}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(j){const te=j-this._rendLineNumberStart;if(te<0||te>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[te]}onLinesDeleted(j,te){if(0===this.getCount())return null;const he=this.getStartLineNumber(),ve=this.getEndLineNumber();if(te<he){const he=te-j+1;return this._rendLineNumberStart-=he,null}if(j>ve)return null;let Ce=0,ye=0;for(let Ee=he;Ee<=ve;Ee++){const he=Ee-this._rendLineNumberStart;j<=Ee&&Ee<=te&&(0===ye?(Ce=he,ye=1):ye++)}if(j<he){let ve=0;ve=te<he?te-j+1:he-j,this._rendLineNumberStart-=ve}return this._lines.splice(Ce,ye)}onLinesChanged(j,te){if(0===this.getCount())return!1;const he=this.getStartLineNumber(),ve=this.getEndLineNumber();let Ce=!1;for(let ye=j;ye<=te;ye++)ye>=he&&ye<=ve&&(this._lines[ye-this._rendLineNumberStart].onContentChanged(),Ce=!0);return Ce}onLinesInserted(j,te){if(0===this.getCount())return null;const he=te-j+1,ve=this.getStartLineNumber(),Ce=this.getEndLineNumber();if(j<=ve)return this._rendLineNumberStart+=he,null;if(j>Ce)return null;if(he+j>Ce)return this._lines.splice(j-this._rendLineNumberStart,Ce-j+1);const ye=[];for(let j=0;j<he;j++)ye[j]=this._createLine();const Ee=j-this._rendLineNumberStart,Ie=this._lines.slice(0,Ee),Ne=this._lines.slice(Ee,this._lines.length-he),Oe=this._lines.slice(this._lines.length-he,this._lines.length);return this._lines=Ie.concat(ye).concat(Ne),Oe}onTokensChanged(j){if(0===this.getCount())return!1;const te=this.getStartLineNumber(),he=this.getEndLineNumber();let ve=!1;for(let Ce=0,ye=j.length;Ce<ye;Ce++){const ye=j[Ce];if(ye.toLineNumber<te||ye.fromLineNumber>he)continue;const Ee=Math.max(te,ye.fromLineNumber),Ie=Math.min(he,ye.toLineNumber);for(let j=Ee;j<=Ie;j++){const te=j-this._rendLineNumberStart;this._lines[te].onTokensChanged(),ve=!0}}return ve}}te.RenderedLinesCollection=I;te.VisibleLinesCollection=class w{constructor(j){this._host=j,this.domNode=this._createDomNode(),this._linesCollection=new I((()=>this._host.createVisibleLine()))}_createDomNode(){const j=(0,he.createFastDomNode)(document.createElement("div"));return j.setClassName("view-layer"),j.setPosition("absolute"),j.domNode.setAttribute("role","presentation"),j.domNode.setAttribute("aria-hidden","true"),j}onConfigurationChanged(j){return!!j.hasChanged(131)}onFlushed(j){return this._linesCollection.flush(),!0}onLinesChanged(j){return this._linesCollection.onLinesChanged(j.fromLineNumber,j.toLineNumber)}onLinesDeleted(j){const te=this._linesCollection.onLinesDeleted(j.fromLineNumber,j.toLineNumber);if(te)for(let j=0,he=te.length;j<he;j++){const he=te[j].getDomNode();he&&this.domNode.domNode.removeChild(he)}return!0}onLinesInserted(j){const te=this._linesCollection.onLinesInserted(j.fromLineNumber,j.toLineNumber);if(te)for(let j=0,he=te.length;j<he;j++){const he=te[j].getDomNode();he&&this.domNode.domNode.removeChild(he)}return!0}onScrollChanged(j){return j.scrollTopChanged}onTokensChanged(j){return this._linesCollection.onTokensChanged(j.ranges)}onZonesChanged(j){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(j){return this._linesCollection.getLine(j)}renderLines(j){const te=this._linesCollection._get(),he=new b(this.domNode.domNode,this._host,j),ve={rendLineNumberStart:te.rendLineNumberStart,lines:te.lines,linesLength:te.lines.length},Ce=he.render(ve,j.startLineNumber,j.endLineNumber,j.relativeVerticalOffset);this._linesCollection._set(Ce.rendLineNumberStart,Ce.lines)}};class b{constructor(j,te,he){this.domNode=j,this.host=te,this.viewportData=he}render(j,te,he,ve){const Ce={rendLineNumberStart:j.rendLineNumberStart,lines:j.lines.slice(0),linesLength:j.linesLength};if(Ce.rendLineNumberStart+Ce.linesLength-1<te||he<Ce.rendLineNumberStart){Ce.rendLineNumberStart=te,Ce.linesLength=he-te+1,Ce.lines=[];for(let j=te;j<=he;j++)Ce.lines[j-te]=this.host.createVisibleLine();return this._finishRendering(Ce,!0,ve),Ce}if(this._renderUntouchedLines(Ce,Math.max(te-Ce.rendLineNumberStart,0),Math.min(he-Ce.rendLineNumberStart,Ce.linesLength-1),ve,te),Ce.rendLineNumberStart>te){const j=te,ye=Math.min(he,Ce.rendLineNumberStart-1);j<=ye&&(this._insertLinesBefore(Ce,j,ye,ve,te),Ce.linesLength+=ye-j+1)}else if(Ce.rendLineNumberStart<te){const j=Math.min(Ce.linesLength,te-Ce.rendLineNumberStart);j>0&&(this._removeLinesBefore(Ce,j),Ce.linesLength-=j)}if(Ce.rendLineNumberStart=te,Ce.rendLineNumberStart+Ce.linesLength-1<he){const j=Ce.rendLineNumberStart+Ce.linesLength,ye=he;j<=ye&&(this._insertLinesAfter(Ce,j,ye,ve,te),Ce.linesLength+=ye-j+1)}else if(Ce.rendLineNumberStart+Ce.linesLength-1>he){const j=Math.max(0,he-Ce.rendLineNumberStart+1),te=Ce.linesLength-1-j+1;te>0&&(this._removeLinesAfter(Ce,te),Ce.linesLength-=te)}return this._finishRendering(Ce,!1,ve),Ce}_renderUntouchedLines(j,te,he,ve,Ce){const ye=j.rendLineNumberStart,Ee=j.lines;for(let j=te;j<=he;j++){const te=ye+j;Ee[j].layoutLine(te,ve[te-Ce])}}_insertLinesBefore(j,te,he,ve,Ce){const ye=[];let Ee=0;for(let j=te;j<=he;j++)ye[Ee++]=this.host.createVisibleLine();j.lines=ye.concat(j.lines)}_removeLinesBefore(j,te){for(let he=0;he<te;he++){const te=j.lines[he].getDomNode();te&&this.domNode.removeChild(te)}j.lines.splice(0,te)}_insertLinesAfter(j,te,he,ve,Ce){const ye=[];let Ee=0;for(let j=te;j<=he;j++)ye[Ee++]=this.host.createVisibleLine();j.lines=j.lines.concat(ye)}_removeLinesAfter(j,te){const he=j.linesLength-te;for(let ve=0;ve<te;ve++){const te=j.lines[he+ve].getDomNode();te&&this.domNode.removeChild(te)}j.lines.splice(he,te)}_finishRenderingNewLines(j,te,he,ve){b._ttPolicy&&(he=b._ttPolicy.createHTML(he));const Ce=this.domNode.lastChild;te||!Ce?this.domNode.innerHTML=he:Ce.insertAdjacentHTML("afterend",he);let ye=this.domNode.lastChild;for(let te=j.linesLength-1;te>=0;te--){const he=j.lines[te];ve[te]&&(he.setDomNode(ye),ye=ye.previousSibling)}}_finishRenderingInvalidLines(j,te,he){const ve=document.createElement("div");b._ttPolicy&&(te=b._ttPolicy.createHTML(te)),ve.innerHTML=te;for(let te=0;te<j.linesLength;te++){const Ce=j.lines[te];if(he[te]){const j=ve.firstChild,te=Ce.getDomNode();te.parentNode.replaceChild(j,te),Ce.setDomNode(j)}}}_finishRendering(j,te,he){const ve=b._sb,Ce=j.linesLength,ye=j.lines,Ee=j.rendLineNumberStart,Ie=[];{ve.reset();let Ne=!1;for(let j=0;j<Ce;j++){const te=ye[j];Ie[j]=!1,!te.getDomNode()&&te.renderLine(j+Ee,he[j],this.viewportData,ve)&&(Ie[j]=!0,Ne=!0)}Ne&&this._finishRenderingNewLines(j,te,ve.build(),Ie)}{ve.reset();let te=!1;const Ne=[];for(let j=0;j<Ce;j++){const Ce=ye[j];Ne[j]=!1,!Ie[j]&&Ce.renderLine(j+Ee,he[j],this.viewportData,ve)&&(Ne[j]=!0,te=!0)}te&&this._finishRenderingInvalidLines(j,ve.build(),Ne)}}}b._ttPolicy=null===(Ce=window.trustedTypes)||void 0===Ce?void 0:Ce.createPolicy("editorViewLayer",{createHTML:j=>j}),b._sb=(0,ve.createStringBuilder)(1e5)})),define(Ce[237],ie([1,0,110,90]),(function(j,te,he,ve){function D(j){return j.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}Object.defineProperty(te,"__esModule",{value:!0}),te.compressConsecutiveTextChanges=te.TextChange=void 0;class I{constructor(j,te,he,ve){this.oldPosition=j,this.oldText=te,this.newPosition=he,this.newText=ve}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${D(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${D(this.oldText)}")`:`(replace@${this.oldPosition} "${D(this.oldText)}" with "${D(this.newText)}")`}static _writeStringSize(j){return 4+2*j.length}static _writeString(j,te,ve){const Ce=te.length;he.writeUInt32BE(j,Ce,ve),ve+=4;for(let ye=0;ye<Ce;ye++)he.writeUInt16LE(j,te.charCodeAt(ye),ve),ve+=2;return ve}static _readString(j,te){const Ce=he.readUInt32BE(j,te);return te+=4,(0,ve.decodeUTF16LE)(j,te,Ce)}writeSize(){return 8+I._writeStringSize(this.oldText)+I._writeStringSize(this.newText)}write(j,te){return he.writeUInt32BE(j,this.oldPosition,te),te+=4,he.writeUInt32BE(j,this.newPosition,te),te+=4,te=I._writeString(j,this.oldText,te),te=I._writeString(j,this.newText,te)}static read(j,te,ve){const Ce=he.readUInt32BE(j,te);te+=4;const ye=he.readUInt32BE(j,te);te+=4;const Ee=I._readString(j,te);te+=I._writeStringSize(Ee);const Ie=I._readString(j,te);return te+=I._writeStringSize(Ie),ve.push(new I(Ce,Ee,ye,Ie)),te}}te.TextChange=I,te.compressConsecutiveTextChanges=function w(j,te){return null===j||0===j.length?te:new b(j,te).compress()};class b{constructor(j,te){this._prevEdits=j,this._currEdits=te,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let j=0,te=0,he=this._getPrev(j),ve=this._getCurr(te);for(;j<this._prevLen||te<this._currLen;){if(null===he){this._acceptCurr(ve),ve=this._getCurr(++te);continue}if(null===ve){this._acceptPrev(he),he=this._getPrev(++j);continue}if(ve.oldEnd<=he.newPosition){this._acceptCurr(ve),ve=this._getCurr(++te);continue}if(he.newEnd<=ve.oldPosition){this._acceptPrev(he),he=this._getPrev(++j);continue}if(ve.oldPosition<he.newPosition){const[j,te]=b._splitCurr(ve,he.newPosition-ve.oldPosition);this._acceptCurr(j),ve=te;continue}if(he.newPosition<ve.oldPosition){const[j,te]=b._splitPrev(he,ve.oldPosition-he.newPosition);this._acceptPrev(j),he=te;continue}let Ce,ye;if(ve.oldEnd===he.newEnd)Ce=he,ye=ve,he=this._getPrev(++j),ve=this._getCurr(++te);else if(ve.oldEnd<he.newEnd){const[j,Ee]=b._splitPrev(he,ve.oldLength);Ce=j,ye=ve,he=Ee,ve=this._getCurr(++te)}else{const[te,Ee]=b._splitCurr(ve,he.newLength);Ce=he,ye=te,he=this._getPrev(++j),ve=Ee}this._result[this._resultLen++]=new I(Ce.oldPosition,Ce.oldText,ye.newPosition,ye.newText),this._prevDeltaOffset+=Ce.newLength-Ce.oldLength,this._currDeltaOffset+=ye.newLength-ye.oldLength}const Ce=b._merge(this._result);return b._removeNoOps(Ce)}_acceptCurr(j){this._result[this._resultLen++]=b._rebaseCurr(this._prevDeltaOffset,j),this._currDeltaOffset+=j.newLength-j.oldLength}_getCurr(j){return j<this._currLen?this._currEdits[j]:null}_acceptPrev(j){this._result[this._resultLen++]=b._rebasePrev(this._currDeltaOffset,j),this._prevDeltaOffset+=j.newLength-j.oldLength}_getPrev(j){return j<this._prevLen?this._prevEdits[j]:null}static _rebaseCurr(j,te){return new I(te.oldPosition-j,te.oldText,te.newPosition,te.newText)}static _rebasePrev(j,te){return new I(te.oldPosition,te.oldText,te.newPosition+j,te.newText)}static _splitPrev(j,te){const he=j.newText.substr(0,te),ve=j.newText.substr(te);return[new I(j.oldPosition,j.oldText,j.newPosition,he),new I(j.oldEnd,"",j.newPosition+te,ve)]}static _splitCurr(j,te){const he=j.oldText.substr(0,te),ve=j.oldText.substr(te);return[new I(j.oldPosition,he,j.newPosition,j.newText),new I(j.oldPosition+te,ve,j.newEnd,"")]}static _merge(j){if(0===j.length)return j;const te=[];let he=0,ve=j[0];for(let Ce=1;Ce<j.length;Ce++){const ye=j[Ce];ve.oldEnd===ye.oldPosition?ve=new I(ve.oldPosition,ve.oldText+ye.oldText,ve.newPosition,ve.newText+ye.newText):(te[he++]=ve,ve=ye)}return te[he++]=ve,te}static _removeNoOps(j){if(0===j.length)return j;const te=[];let he=0;for(let ve=0;ve<j.length;ve++){const Ce=j[ve];Ce.oldText!==Ce.newText&&(te[he++]=Ce)}return te}}})),define(Ce[145],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.EDITOR_MODEL_DEFAULTS=void 0,te.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}}})),define(Ce[118],ie([1,0,97]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.getMapForWordSeparators=te.WordCharacterClassifier=void 0;class m extends he.CharacterClassifier{constructor(j){super(0);for(let te=0,he=j.length;te<he;te++)this.set(j.charCodeAt(te),2);this.set(32,1),this.set(9,1)}}te.WordCharacterClassifier=m,te.getMapForWordSeparators=function D(j){const te={};return he=>(te.hasOwnProperty(he)||(te[he]=j(he)),te[he])}((j=>new m(j)))})),define(Ce[146],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.getWordAtText=te.ensureValidWordDefinition=te.DEFAULT_WORD_REGEXP=te.USUAL_WORD_SEPARATORS=void 0,te.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",te.DEFAULT_WORD_REGEXP=function y(j=""){let he="(-?\\d*\\.\\d\\w*)|([^";for(const ve of te.USUAL_WORD_SEPARATORS)j.indexOf(ve)>=0||(he+="\\"+ve);return he+="\\s]+)",new RegExp(he,"g")}(),te.ensureValidWordDefinition=function m(j){let he=te.DEFAULT_WORD_REGEXP;if(j&&j instanceof RegExp)if(j.global)he=j;else{let te="g";j.ignoreCase&&(te+="i"),j.multiline&&(te+="m"),j.unicode&&(te+="u"),he=new RegExp(j.source,te)}return he.lastIndex=0,he};const he={maxLen:1e3,windowSize:15,timeBudget:150};function w(j,te,he,ve){let Ce;for(;Ce=j.exec(te);){const te=Ce.index||0;if(te<=he&&j.lastIndex>=he)return Ce;if(ve>0&&te>ve)return null}return null}te.getWordAtText=function I(j,te,ve,Ce,ye=he){if(ve.length>ye.maxLen){let he=j-ye.maxLen/2;return he<0?he=0:Ce+=he,I(j,te,ve=ve.substring(he,j+ye.maxLen/2),Ce,ye)}const Ee=Date.now(),Ie=j-1-Ce;let Ne=-1,Oe=null;for(let j=1;!(Date.now()-Ee>=ye.timeBudget);j++){const he=Ie-ye.windowSize*j;te.lastIndex=Math.max(0,he);const Ce=w(te,ve,Ie,Ne);if(!Ce&&Oe||(Oe=Ce,he<=0))break;Ne=he}if(Oe){const j={word:Oe[0],startColumn:Ce+1+Oe.index,endColumn:Ce+1+Oe.index+Oe[0].length};return te.lastIndex=0,j}return null}})),define(Ce[238],ie([1,0,68]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.AtomicTabMoveOperations=void 0;class m{static whitespaceVisibleColumn(j,te,ve){const Ce=j.length;let ye=0,Ee=-1,Ie=-1;for(let Ne=0;Ne<Ce;Ne++){if(Ne===te)return[Ee,Ie,ye];switch(ye%ve==0&&(Ee=Ne,Ie=ye),j.charCodeAt(Ne)){case 32:ye+=1;break;case 9:ye=he.CursorColumns.nextRenderTabStop(ye,ve);break;default:return[-1,-1,-1]}}return te===Ce?[Ee,Ie,ye]:[-1,-1,-1]}static atomicPosition(j,te,ve,Ce){const ye=j.length,[Ee,Ie,Ne]=m.whitespaceVisibleColumn(j,te,ve);if(-1===Ne)return-1;let Oe;switch(Ce){case 0:Oe=!0;break;case 1:Oe=!1;break;case 2:if(Ne%ve==0)return te;Oe=Ne%ve<=ve/2}if(Oe){if(-1===Ee)return-1;let te=Ie;for(let Ce=Ee;Ce<ye;++Ce){if(te===Ie+ve)return Ee;switch(j.charCodeAt(Ce)){case 32:te+=1;break;case 9:te=he.CursorColumns.nextRenderTabStop(te,ve);break;default:return-1}}return te===Ie+ve?Ee:-1}const Ke=he.CursorColumns.nextRenderTabStop(Ne,ve);let je=Ne;for(let Ce=te;Ce<ye;Ce++){if(je===Ke)return Ce;switch(j.charCodeAt(Ce)){case 32:je+=1;break;case 9:je=he.CursorColumns.nextRenderTabStop(je,ve);break;default:return-1}}return je===Ke?ye:-1}}te.AtomicTabMoveOperations=m})),define(Ce[404],ie([1,0,138,8]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.DiffComputer=void 0;function I(j,te,ve,Ce){return new he.LcsDiff(j,te,ve).ComputeDiff(Ce)}class w{constructor(j){const te=[],he=[];for(let ve=0,Ce=j.length;ve<Ce;ve++)te[ve]=i(j[ve],1),he[ve]=n(j[ve],1);this.lines=j,this._startColumns=te,this._endColumns=he}getElements(){const j=[];for(let te=0,he=this.lines.length;te<he;te++)j[te]=this.lines[te].substring(this._startColumns[te]-1,this._endColumns[te]-1);return j}getStrictElement(j){return this.lines[j]}getStartLineNumber(j){return j+1}getEndLineNumber(j){return j+1}createCharSequence(j,te,he){const ve=[],Ce=[],ye=[];let Ee=0;for(let Ie=te;Ie<=he;Ie++){const te=this.lines[Ie],he=j?this._startColumns[Ie]:1,Ne=j?this._endColumns[Ie]:te.length+1;for(let j=he;j<Ne;j++)ve[Ee]=te.charCodeAt(j-1),Ce[Ee]=Ie+1,ye[Ee]=j,Ee++}return new b(ve,Ce,ye)}}class b{constructor(j,te,he){this._charCodes=j,this._lineNumbers=te,this._columns=he}getElements(){return this._charCodes}getStartLineNumber(j){return this._lineNumbers[j]}getStartColumn(j){return this._columns[j]}getEndLineNumber(j){return this._lineNumbers[j]}getEndColumn(j){return this._columns[j]+1}}class p{constructor(j,te,he,ve,Ce,ye,Ee,Ie){this.originalStartLineNumber=j,this.originalStartColumn=te,this.originalEndLineNumber=he,this.originalEndColumn=ve,this.modifiedStartLineNumber=Ce,this.modifiedStartColumn=ye,this.modifiedEndLineNumber=Ee,this.modifiedEndColumn=Ie}static createFromDiffChange(j,te,he){let ve,Ce,ye,Ee,Ie,Ne,Oe,Ke;return 0===j.originalLength?(ve=0,Ce=0,ye=0,Ee=0):(ve=te.getStartLineNumber(j.originalStart),Ce=te.getStartColumn(j.originalStart),ye=te.getEndLineNumber(j.originalStart+j.originalLength-1),Ee=te.getEndColumn(j.originalStart+j.originalLength-1)),0===j.modifiedLength?(Ie=0,Ne=0,Oe=0,Ke=0):(Ie=he.getStartLineNumber(j.modifiedStart),Ne=he.getStartColumn(j.modifiedStart),Oe=he.getEndLineNumber(j.modifiedStart+j.modifiedLength-1),Ke=he.getEndColumn(j.modifiedStart+j.modifiedLength-1)),new p(ve,Ce,ye,Ee,Ie,Ne,Oe,Ke)}}class g{constructor(j,te,he,ve,Ce){this.originalStartLineNumber=j,this.originalEndLineNumber=te,this.modifiedStartLineNumber=he,this.modifiedEndLineNumber=ve,this.charChanges=Ce}static createFromDiffResult(j,te,he,ve,Ce,ye,Ee){let Ie,Ne,Oe,Ke,je;if(0===te.originalLength?(Ie=he.getStartLineNumber(te.originalStart)-1,Ne=0):(Ie=he.getStartLineNumber(te.originalStart),Ne=he.getEndLineNumber(te.originalStart+te.originalLength-1)),0===te.modifiedLength?(Oe=ve.getStartLineNumber(te.modifiedStart)-1,Ke=0):(Oe=ve.getStartLineNumber(te.modifiedStart),Ke=ve.getEndLineNumber(te.modifiedStart+te.modifiedLength-1)),ye&&te.originalLength>0&&te.originalLength<20&&te.modifiedLength>0&&te.modifiedLength<20&&Ce()){const ye=he.createCharSequence(j,te.originalStart,te.originalStart+te.originalLength-1),Ie=ve.createCharSequence(j,te.modifiedStart,te.modifiedStart+te.modifiedLength-1);let Ne=I(ye,Ie,Ce,!0).changes;Ee&&(Ne=function h(j){if(j.length<=1)return j;const te=[j[0]];let he=te[0];for(let ve=1,Ce=j.length;ve<Ce;ve++){const Ce=j[ve],ye=Ce.originalStart-(he.originalStart+he.originalLength),Ee=Ce.modifiedStart-(he.modifiedStart+he.modifiedLength);Math.min(ye,Ee)<3?(he.originalLength=Ce.originalStart+Ce.originalLength-he.originalStart,he.modifiedLength=Ce.modifiedStart+Ce.modifiedLength-he.modifiedStart):(te.push(Ce),he=Ce)}return te}(Ne)),je=[];for(let j=0,te=Ne.length;j<te;j++)je.push(p.createFromDiffChange(Ne[j],ye,Ie))}return new g(Ie,Ne,Oe,Ke,je)}}function i(j,te){const he=ve.firstNonWhitespaceIndex(j);return-1===he?te:he+1}function n(j,te){const he=ve.lastNonWhitespaceIndex(j);return-1===he?te:he+2}function l(j){if(0===j)return()=>!0;const te=Date.now();return()=>Date.now()-te<j}te.DiffComputer=class t{constructor(j,te,he){this.shouldComputeCharChanges=he.shouldComputeCharChanges,this.shouldPostProcessCharChanges=he.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=he.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=he.shouldMakePrettyDiff,this.originalLines=j,this.modifiedLines=te,this.original=new w(j),this.modified=new w(te),this.continueLineDiff=l(he.maxComputationTime),this.continueCharDiff=l(0===he.maxComputationTime?0:Math.min(he.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const j=I(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),te=j.changes,he=j.quitEarly;if(this.shouldIgnoreTrimWhitespace){const j=[];for(let he=0,ve=te.length;he<ve;he++)j.push(g.createFromDiffResult(this.shouldIgnoreTrimWhitespace,te[he],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:he,changes:j}}const ve=[];let Ce=0,ye=0;for(let j=-1,he=te.length;j<he;j++){const Ee=j+1<he?te[j+1]:null,Ie=Ee?Ee.originalStart:this.originalLines.length,Ne=Ee?Ee.modifiedStart:this.modifiedLines.length;for(;Ce<Ie&&ye<Ne;){const j=this.originalLines[Ce],te=this.modifiedLines[ye];if(j!==te){{let he=i(j,1),Ee=i(te,1);for(;he>1&&Ee>1;){if(j.charCodeAt(he-2)!==te.charCodeAt(Ee-2))break;he--,Ee--}(he>1||Ee>1)&&this._pushTrimWhitespaceCharChange(ve,Ce+1,1,he,ye+1,1,Ee)}{let he=n(j,1),Ee=n(te,1);const Ie=j.length+1,Ne=te.length+1;for(;he<Ie&&Ee<Ne;){if(j.charCodeAt(he-1)!==j.charCodeAt(Ee-1))break;he++,Ee++}(he<Ie||Ee<Ne)&&this._pushTrimWhitespaceCharChange(ve,Ce+1,he,Ie,ye+1,Ee,Ne)}}Ce++,ye++}Ee&&(ve.push(g.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Ee,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),Ce+=Ee.originalLength,ye+=Ee.modifiedLength)}return{quitEarly:he,changes:ve}}_pushTrimWhitespaceCharChange(j,te,he,ve,Ce,ye,Ee){if(this._mergeTrimWhitespaceCharChange(j,te,he,ve,Ce,ye,Ee))return;let Ie;this.shouldComputeCharChanges&&(Ie=[new p(te,he,te,ve,Ce,ye,Ce,Ee)]),j.push(new g(te,te,Ce,Ce,Ie))}_mergeTrimWhitespaceCharChange(j,te,he,ve,Ce,ye,Ee){const Ie=j.length;if(0===Ie)return!1;const Ne=j[Ie-1];return 0!==Ne.originalEndLineNumber&&0!==Ne.modifiedEndLineNumber&&(Ne.originalEndLineNumber+1===te&&Ne.modifiedEndLineNumber+1===Ce&&(Ne.originalEndLineNumber=te,Ne.modifiedEndLineNumber=Ce,this.shouldComputeCharChanges&&Ne.charChanges&&Ne.charChanges.push(new p(te,he,te,ve,Ce,ye,Ce,Ee)),!0))}}})),define(Ce[239],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.InternalEditorAction=void 0;te.InternalEditorAction=class y{constructor(j,te,he,ve,Ce,ye){this.id=j,this.label=te,this.alias=he,this._precondition=ve,this._run=Ce,this._contextKeyService=ye}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}})),define(Ce[147],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.EditorType=void 0,te.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}})),define(Ce[148],ie([1,0,147]),(function(j,te,he){function m(j){return!(!j||"function"!=typeof j.getEditorType)&&j.getEditorType()===he.EditorType.ICodeEditor}function D(j){return!(!j||"function"!=typeof j.getEditorType)&&j.getEditorType()===he.EditorType.IDiffEditor}Object.defineProperty(te,"__esModule",{value:!0}),te.getCodeEditor=te.isDiffEditor=te.isCodeEditor=void 0,te.isCodeEditor=m,te.isDiffEditor=D,te.getCodeEditor=function I(j){return m(j)?j:D(j)?j.getModifiedEditor():null}})),define(Ce[405],ie([1,0,215,82]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.score=void 0,te.score=function D(j,te,Ce,ye){if(Array.isArray(j)){let he=0;for(const ve of j){const j=D(ve,te,Ce,ye);if(10===j)return j;j>he&&(he=j)}return he}if("string"==typeof j)return ye?"*"===j?5:j===Ce?10:0:0;if(j){const{language:Ee,pattern:Ie,scheme:Ne,hasAccessToAllModels:Oe}=j;if(!ye&&!Oe)return 0;let Ke=0;if(Ne)if(Ne===te.scheme)Ke=10;else{if("*"!==Ne)return 0;Ke=5}if(Ee)if(Ee===Ce)Ke=10;else{if("*"!==Ee)return 0;Ke=Math.max(Ke,5)}if(Ie){let j;if(j="string"==typeof Ie?Ie:Object.assign(Object.assign({},Ie),{base:(0,ve.normalize)(Ie.base)}),j!==te.fsPath&&!(0,he.match)(j,te.fsPath))return 0;Ke=10}return Ke}return 0}})),define(Ce[119],ie([1,0]),(function(j,te){var he;Object.defineProperty(te,"__esModule",{value:!0}),te.AutoClosingPairs=te.StandardAutoClosingPairConditional=te.IndentAction=void 0,(he=te.IndentAction||(te.IndentAction={}))[he.None=0]="None",he[he.Indent=1]="Indent",he[he.IndentOutdent=2]="IndentOutdent",he[he.Outdent=3]="Outdent";te.StandardAutoClosingPairConditional=class m{constructor(j){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=j.open,this.close=j.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(j.notIn))for(let te=0,he=j.notIn.length;te<he;te++)switch(j.notIn[te]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(j){switch(j){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(j,te){if(0===j.getTokenCount())return!0;const he=j.findTokenIndexAtOffset(te-2),ve=j.getStandardTokenType(he);return this.isOK(ve)}_findNeutralCharacterInRange(j,te){for(let he=j;he<=te;he++){const j=String.fromCharCode(he);if(!this.open.includes(j)&&!this.close.includes(j))return j}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}};function I(j,te,he){j.has(te)?j.get(te).push(he):j.set(te,[he])}te.AutoClosingPairs=class D{constructor(j){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const te of j)I(this.autoClosingPairsOpenByStart,te.open.charAt(0),te),I(this.autoClosingPairsOpenByEnd,te.open.charAt(te.open.length-1),te),I(this.autoClosingPairsCloseByStart,te.close.charAt(0),te),I(this.autoClosingPairsCloseByEnd,te.close.charAt(te.close.length-1),te),1===te.close.length&&1===te.open.length&&I(this.autoClosingPairsCloseSingleChar,te.close,te)}}})),define(Ce[406],ie([1,0,97]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.computeLinks=te.LinkComputer=te.StateMachine=te.Uint8Matrix=void 0;class m{constructor(j,te,he){const ve=new Uint8Array(j*te);for(let Ce=0,ye=j*te;Ce<ye;Ce++)ve[Ce]=he;this._data=ve,this.rows=j,this.cols=te}get(j,te){return this._data[j*this.cols+te]}set(j,te,he){this._data[j*this.cols+te]=he}}te.Uint8Matrix=m;class D{constructor(j){let te=0,he=0;for(let ve=0,Ce=j.length;ve<Ce;ve++){const[Ce,ye,Ee]=j[ve];ye>te&&(te=ye),Ce>he&&(he=Ce),Ee>he&&(he=Ee)}te++,he++;const ve=new m(he,te,0);for(let te=0,he=j.length;te<he;te++){const[he,Ce,ye]=j[te];ve.set(he,Ce,ye)}this._states=ve,this._maxCharCode=te}nextState(j,te){return te<0||te>=this._maxCharCode?0:this._states.get(j,te)}}te.StateMachine=D;let ve=null;let Ce=null;class h{static _createLink(j,te,he,ve,Ce){let ye=Ce-1;do{const he=te.charCodeAt(ye);if(2!==j.get(he))break;ye--}while(ye>ve);if(ve>0){const j=te.charCodeAt(ve-1),he=te.charCodeAt(ye);(40===j&&41===he||91===j&&93===he||123===j&&125===he)&&ye--}return{range:{startLineNumber:he,startColumn:ve+1,endLineNumber:he,endColumn:ye+2},url:te.substring(ve,ye+1)}}static computeLinks(j,te=function w(){return null===ve&&(ve=new D([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),ve}()){const ye=function p(){if(null===Ce){Ce=new he.CharacterClassifier(0);const j=" \t<>'\"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…";for(let te=0;te<j.length;te++)Ce.set(j.charCodeAt(te),1);const te=".,;";for(let j=0;j<te.length;j++)Ce.set(te.charCodeAt(j),2)}return Ce}(),Ee=[];for(let he=1,ve=j.getLineCount();he<=ve;he++){const ve=j.getLineContent(he),Ce=ve.length;let Ie=0,Ne=0,Oe=0,Ke=1,je=!1,Ze=!1,Ye=!1,et=!1;for(;Ie<Ce;){let j=!1;const Ce=ve.charCodeAt(Ie);if(13===Ke){let te;switch(Ce){case 40:je=!0,te=0;break;case 41:te=je?0:1;break;case 91:Ye=!0,Ze=!0,te=0;break;case 93:Ye=!1,te=Ze?0:1;break;case 123:et=!0,te=0;break;case 125:te=et?0:1;break;case 39:te=34===Oe||96===Oe?0:1;break;case 34:te=39===Oe||96===Oe?0:1;break;case 96:te=39===Oe||34===Oe?0:1;break;case 42:te=42===Oe?1:0;break;case 124:te=124===Oe?1:0;break;case 32:te=Ye?0:1;break;default:te=ye.get(Ce)}1===te&&(Ee.push(h._createLink(ye,ve,he,Ne,Ie)),j=!0)}else if(12===Ke){let te;91===Ce?(Ze=!0,te=0):te=ye.get(Ce),1===te?j=!0:Ke=13}else Ke=te.nextState(Ke,Ce),0===Ke&&(j=!0);j&&(Ke=1,je=!1,Ze=!1,et=!1,Ne=Ie+1,Oe=Ce),Ie++}13===Ke&&Ee.push(h._createLink(ye,ve,he,Ne,Ce))}return Ee}}te.LinkComputer=h,te.computeLinks=function g(j){return j&&"function"==typeof j.getLineCount&&"function"==typeof j.getLineContent?h.computeLinks(j):[]}})),define(Ce[120],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.ignoreBracketsInToken=te.ScopedLineTokens=te.createScopedLineTokens=void 0,te.createScopedLineTokens=function y(j,te){const he=j.getCount(),ve=j.findTokenIndexAtOffset(te),Ce=j.getLanguageId(ve);let ye=ve;for(;ye+1<he&&j.getLanguageId(ye+1)===Ce;)ye++;let Ee=ve;for(;Ee>0&&j.getLanguageId(Ee-1)===Ce;)Ee--;return new m(j,Ce,Ee,ye+1,j.getStartOffset(Ee),j.getEndOffset(ye))};class m{constructor(j,te,he,ve,Ce,ye){this._scopedLineTokensBrand=void 0,this._actual=j,this.languageId=te,this._firstTokenIndex=he,this._lastTokenIndex=ve,this.firstCharOffset=Ce,this._lastCharOffset=ye}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(j){return this._actual.getLineContent().substring(0,this.firstCharOffset+j)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(j){return this._actual.findTokenIndexAtOffset(j+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(j){return this._actual.getStandardTokenType(j+this._firstTokenIndex)}}te.ScopedLineTokens=m,te.ignoreBracketsInToken=function D(j){return 0!=(3&j)}})),define(Ce[407],ie([1,0,119]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.CharacterPairSupport=void 0;class m{constructor(j){if(j.autoClosingPairs?this._autoClosingPairs=j.autoClosingPairs.map((j=>new he.StandardAutoClosingPairConditional(j))):j.brackets?this._autoClosingPairs=j.brackets.map((j=>new he.StandardAutoClosingPairConditional({open:j[0],close:j[1]}))):this._autoClosingPairs=[],j.colorizedBracketPairs?this._colorizedBracketPairs=D(j.colorizedBracketPairs.map((j=>[j[0],j[1]]))):j.brackets?this._colorizedBracketPairs=D(j.brackets.map((j=>[j[0],j[1]])).filter((j=>!("<"===j[0]&&">"===j[1])))):this._colorizedBracketPairs=[],j.__electricCharacterSupport&&j.__electricCharacterSupport.docComment){const te=j.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new he.StandardAutoClosingPairConditional({open:te.open,close:te.close||""}))}this._autoCloseBefore="string"==typeof j.autoCloseBefore?j.autoCloseBefore:m.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=j.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}function D(j){return j.filter((([j,te])=>""!==j&&""!==te))}te.CharacterPairSupport=m,m.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t"})),define(Ce[408],ie([1,0]),(function(j,te){function y(j){return j.global&&(j.lastIndex=0),!0}Object.defineProperty(te,"__esModule",{value:!0}),te.IndentRulesSupport=void 0;te.IndentRulesSupport=class m{constructor(j){this._indentationRules=j}shouldIncrease(j){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&y(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(j))}shouldDecrease(j){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&y(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(j))}shouldIndentNextLine(j){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&y(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(j))}shouldIgnore(j){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&y(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(j))}getIndentMetadata(j){let te=0;return this.shouldIncrease(j)&&(te+=1),this.shouldDecrease(j)&&(te+=2),this.shouldIndentNextLine(j)&&(te+=4),this.shouldIgnore(j)&&(te+=8),te}}})),define(Ce[409],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.BasicInplaceReplace=void 0;class y{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(j,te,he,ve,Ce){if(j&&te){const he=this.doNavigateValueSet(te,Ce);if(he)return{range:j,value:he}}if(he&&ve){const j=this.doNavigateValueSet(ve,Ce);if(j)return{range:he,value:j}}return null}doNavigateValueSet(j,te){const he=this.numberReplace(j,te);return null!==he?he:this.textReplace(j,te)}numberReplace(j,te){const he=Math.pow(10,j.length-(j.lastIndexOf(".")+1));let ve=Number(j),Ce=parseFloat(j);return isNaN(ve)||isNaN(Ce)||ve!==Ce?null:0!==ve||te?(ve=Math.floor(ve*he),ve+=te?he:-he,String(ve/he)):null}textReplace(j,te){return this.valueSetsReplace(this._defaultValueSet,j,te)}valueSetsReplace(j,te,he){let ve=null;for(let Ce=0,ye=j.length;null===ve&&Ce<ye;Ce++)ve=this.valueSetReplace(j[Ce],te,he);return ve}valueSetReplace(j,te,he){let ve=j.indexOf(te);return ve>=0?(ve+=he?1:-1,ve<0?ve=j.length-1:ve%=j.length,j[ve]):null}}te.BasicInplaceReplace=y,y.INSTANCE=new y})),define(Ce[410],ie([1,0,13,8,119]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.OnEnterSupport=void 0;class I{constructor(j){(j=j||{}).brackets=j.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],j.brackets.forEach((j=>{const te=I._createOpenBracketRegExp(j[0]),he=I._createCloseBracketRegExp(j[1]);te&&he&&this._brackets.push({open:j[0],openRegExp:te,close:j[1],closeRegExp:he})})),this._regExpRules=j.onEnterRules||[]}onEnter(j,te,he,ve){if(j>=3)for(let j=0,Ce=this._regExpRules.length;j<Ce;j++){const Ce=this._regExpRules[j];if([{reg:Ce.beforeText,text:he},{reg:Ce.afterText,text:ve},{reg:Ce.previousLineText,text:te}].every((j=>!j.reg||(j.reg.lastIndex=0,j.reg.test(j.text)))))return Ce.action}if(j>=2&&he.length>0&&ve.length>0)for(let j=0,te=this._brackets.length;j<te;j++){const te=this._brackets[j];if(te.openRegExp.test(he)&&te.closeRegExp.test(ve))return{indentAction:Ce.IndentAction.IndentOutdent}}if(j>=2&&he.length>0)for(let j=0,te=this._brackets.length;j<te;j++)if(this._brackets[j].openRegExp.test(he))return{indentAction:Ce.IndentAction.Indent};return null}static _createOpenBracketRegExp(j){let te=ve.escapeRegExpCharacters(j);return/\B/.test(te.charAt(0))||(te="\\b"+te),te+="\\s*$",I._safeRegExp(te)}static _createCloseBracketRegExp(j){let te=ve.escapeRegExpCharacters(j);return/\B/.test(te.charAt(te.length-1))||(te+="\\b"),te="^\\s*"+te,I._safeRegExp(te)}static _safeRegExp(j){try{return new RegExp(j)}catch(j){return(0,he.onUnexpectedError)(j),null}}}te.OnEnterSupport=I})),define(Ce[177],ie([1,0,8,90,3]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.BracketsUtils=te.RichEditBrackets=te.RichEditBracket=void 0;class I{constructor(j,te,he,ve,Ce,ye){this._richEditBracketBrand=void 0,this.languageId=j,this.index=te,this.open=he,this.close=ve,this.forwardRegex=Ce,this.reversedRegex=ye,this._openSet=I._toSet(this.open),this._closeSet=I._toSet(this.close)}isOpen(j){return this._openSet.has(j)}isClose(j){return this._closeSet.has(j)}static _toSet(j){const te=new Set;for(const he of j)te.add(he);return te}}te.RichEditBracket=I;function p(j,te,he,ve){for(let Ce=0,ye=te.length;Ce<ye;Ce++){if(Ce===he)continue;const ye=te[Ce];for(const te of ye.open)te.indexOf(j)>=0&&ve.push(te);for(const te of ye.close)te.indexOf(j)>=0&&ve.push(te)}}function h(j,te){return j.length-te.length}function g(j){if(j.length<=1)return j;const te=[],he=new Set;for(const ve of j)he.has(ve)||(te.push(ve),he.add(ve));return te}function c(j){const te=/^[\w ]+$/.test(j);return j=he.escapeRegExpCharacters(j),te?`\\b${j}\\b`:j}function r(j){const te=`(${j.map(c).join(")|(")})`;return he.createRegExp(te,!0)}te.RichEditBrackets=class b{constructor(j,te){this._richEditBracketsBrand=void 0;const he=function w(j){const te=j.length;j=j.map((j=>[j[0].toLowerCase(),j[1].toLowerCase()]));const he=[];for(let j=0;j<te;j++)he[j]=j;const f=(j,te)=>{const[he,ve]=j,[Ce,ye]=te;return he===Ce||he===ye||ve===Ce||ve===ye},S=(j,ve)=>{const Ce=Math.min(j,ve),ye=Math.max(j,ve);for(let j=0;j<te;j++)he[j]===ye&&(he[j]=Ce)};for(let ve=0;ve<te;ve++){const Ce=j[ve];for(let ye=ve+1;ye<te;ye++)f(Ce,j[ye])&&S(he[ve],he[ye])}const ve=[];for(let Ce=0;Ce<te;Ce++){const ye=[],Ee=[];for(let ve=0;ve<te;ve++)if(he[ve]===Ce){const[te,he]=j[ve];ye.push(te),Ee.push(he)}ye.length>0&&ve.push({open:ye,close:Ee})}return ve}(te);this.brackets=he.map(((te,ve)=>new I(j,ve,te.open,te.close,function t(j,te,he,ve){let Ce=[];Ce=Ce.concat(j),Ce=Ce.concat(te);for(let j=0,te=Ce.length;j<te;j++)p(Ce[j],he,ve,Ce);return Ce=g(Ce),Ce.sort(h),Ce.reverse(),r(Ce)}(te.open,te.close,he,ve),function i(j,te,he,ve){let Ce=[];Ce=Ce.concat(j),Ce=Ce.concat(te);for(let j=0,te=Ce.length;j<te;j++)p(Ce[j],he,ve,Ce);return Ce=g(Ce),Ce.sort(h),Ce.reverse(),r(Ce.map(ye))}(te.open,te.close,he,ve)))),this.forwardRegex=function n(j){let te=[];for(const he of j){for(const j of he.open)te.push(j);for(const j of he.close)te.push(j)}return te=g(te),r(te)}(this.brackets),this.reversedRegex=function l(j){let te=[];for(const he of j){for(const j of he.open)te.push(j);for(const j of he.close)te.push(j)}return te=g(te),r(te.map(ye))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const j of this.brackets){for(const te of j.open)this.textIsBracket[te]=j,this.textIsOpenBracket[te]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,te.length);for(const te of j.close)this.textIsBracket[te]=j,this.textIsOpenBracket[te]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,te.length)}}};const ye=function(){let j=null,te=null;return function(he){return j!==he&&(j=he,te=function a(j){if(ve.hasTextDecoder){const te=new Uint16Array(j.length);let he=0;for(let ve=j.length-1;ve>=0;ve--)te[he++]=j.charCodeAt(ve);return ve.getPlatformTextDecoder().decode(te)}{const te=[];let he=0;for(let ve=j.length-1;ve>=0;ve--)te[he++]=j.charAt(ve);return te.join("")}}(j)),te}}();te.BracketsUtils=class o{static _findPrevBracketInText(j,te,he,ve){const ye=he.match(j);if(!ye)return null;const Ee=he.length-(ye.index||0),Ie=ye[0].length,Ne=ve+Ee;return new Ce.Range(te,Ne-Ie+1,te,Ne+1)}static findPrevBracketInRange(j,te,he,ve,Ce){const Ee=ye(he).substring(he.length-Ce,he.length-ve);return this._findPrevBracketInText(j,te,Ee,ve)}static findNextBracketInText(j,te,he,ve){const ye=he.match(j);if(!ye)return null;const Ee=ye.index||0,Ie=ye[0].length;if(0===Ie)return null;const Ne=ve+Ee;return new Ce.Range(te,Ne+1,te,Ne+1+Ie)}static findNextBracketInRange(j,te,he,ve,Ce){const ye=he.substring(ve,Ce);return this.findNextBracketInText(j,te,ye,ve)}}})),define(Ce[411],ie([1,0,19,120,177]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.BracketElectricCharacterSupport=void 0;te.BracketElectricCharacterSupport=class I{constructor(j){this._richEditBrackets=j}getElectricCharacters(){const j=[];if(this._richEditBrackets)for(const te of this._richEditBrackets.brackets)for(const he of te.close){const te=he.charAt(he.length-1);j.push(te)}return(0,he.distinct)(j)}onElectricCharacter(j,te,he){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const ye=te.findTokenIndexAtOffset(he-1);if((0,ve.ignoreBracketsInToken)(te.getStandardTokenType(ye)))return null;const Ee=this._richEditBrackets.reversedRegex,Ie=te.getLineContent().substring(0,he-1)+j,Ne=Ce.BracketsUtils.findPrevBracketInRange(Ee,1,Ie,0,Ie.length);if(!Ne)return null;const Oe=Ie.substring(Ne.startColumn-1,Ne.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Oe])return null;const Ke=te.getActualLineContentBefore(Ne.startColumn-1);return/^\s*$/.test(Ke)?{matchOpenBracket:Oe}:null}}})),define(Ce[412],ie([1,0,29]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.generateTokensCSSForColorMap=te.ThemeTrieElement=te.ThemeTrieElementRule=te.strcmp=te.toStandardTokenType=te.TokenTheme=te.ColorMap=te.parseTokenTheme=te.ParsedTokenThemeRule=void 0;class m{constructor(j,te,he,ve,Ce){this._parsedThemeRuleBrand=void 0,this.token=j,this.index=te,this.fontStyle=he,this.foreground=ve,this.background=Ce}}function D(j){if(!j||!Array.isArray(j))return[];const te=[];let he=0;for(let ve=0,Ce=j.length;ve<Ce;ve++){const Ce=j[ve];let ye=-1;if("string"==typeof Ce.fontStyle){ye=0;const j=Ce.fontStyle.split(" ");for(let te=0,he=j.length;te<he;te++)switch(j[te]){case"italic":ye|=1;break;case"bold":ye|=2;break;case"underline":ye|=4;break;case"strikethrough":ye|=8}}let Ee=null;"string"==typeof Ce.foreground&&(Ee=Ce.foreground);let Ie=null;"string"==typeof Ce.background&&(Ie=Ce.background),te[he++]=new m(Ce.token||"",ve,ye,Ee,Ie)}return te}te.ParsedTokenThemeRule=m,te.parseTokenTheme=D;const ve=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class b{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(j){if(null===j)return 0;const te=j.match(ve);if(!te)throw new Error("Illegal value for token color: "+j);j=te[1].toUpperCase();let Ce=this._color2id.get(j);return Ce||(Ce=++this._lastColorId,this._color2id.set(j,Ce),this._id2color[Ce]=he.Color.fromHex("#"+j),Ce)}getColorMap(){return this._id2color.slice(0)}}te.ColorMap=b;class p{constructor(j,te){this._colorMap=j,this._root=te,this._cache=new Map}static createFromRawTokenTheme(j,te){return this.createFromParsedTokenTheme(D(j),te)}static createFromParsedTokenTheme(j,te){return function I(j,te){j.sort(((j,te)=>{const he=t(j.token,te.token);return 0!==he?he:j.index-te.index}));let he=0,ve="000000",Ce="ffffff";for(;j.length>=1&&""===j[0].token;){const te=j.shift();-1!==te.fontStyle&&(he=te.fontStyle),null!==te.foreground&&(ve=te.foreground),null!==te.background&&(Ce=te.background)}const ye=new b;for(let j of te)ye.getId(j);const Ee=ye.getId(ve),Ie=ye.getId(Ce),Ne=new i(he,Ee,Ie),Oe=new n(Ne);for(let te=0,he=j.length;te<he;te++){const he=j[te];Oe.insert(he.token,he.fontStyle,ye.getId(he.foreground),ye.getId(he.background))}return new p(ye,Oe)}(j,te)}getColorMap(){return this._colorMap.getColorMap()}_match(j){return this._root.match(j)}match(j,te){let he=this._cache.get(te);if(void 0===he){const j=this._match(te),ve=g(te);he=(j.metadata|ve<<8)>>>0,this._cache.set(te,he)}return(he|j<<0)>>>0}}te.TokenTheme=p;const Ce=/\b(comment|string|regex|regexp)\b/;function g(j){const te=j.match(Ce);if(!te)return 0;switch(te[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function t(j,te){return j<te?-1:j>te?1:0}te.toStandardTokenType=g,te.strcmp=t;class i{constructor(j,te,he){this._themeTrieElementRuleBrand=void 0,this._fontStyle=j,this._foreground=te,this._background=he,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}clone(){return new i(this._fontStyle,this._foreground,this._background)}acceptOverwrite(j,te,he){-1!==j&&(this._fontStyle=j),0!==te&&(this._foreground=te),0!==he&&(this._background=he),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}}te.ThemeTrieElementRule=i;class n{constructor(j){this._themeTrieElementBrand=void 0,this._mainRule=j,this._children=new Map}match(j){if(""===j)return this._mainRule;const te=j.indexOf(".");let he,ve;-1===te?(he=j,ve=""):(he=j.substring(0,te),ve=j.substring(te+1));const Ce=this._children.get(he);return void 0!==Ce?Ce.match(ve):this._mainRule}insert(j,te,he,ve){if(""===j)return void this._mainRule.acceptOverwrite(te,he,ve);const Ce=j.indexOf(".");let ye,Ee;-1===Ce?(ye=j,Ee=""):(ye=j.substring(0,Ce),Ee=j.substring(Ce+1));let Ie=this._children.get(ye);void 0===Ie&&(Ie=new n(this._mainRule.clone()),this._children.set(ye,Ie)),Ie.insert(Ee,te,he,ve)}}te.ThemeTrieElement=n,te.generateTokensCSSForColorMap=function l(j){const te=[];for(let he=1,ve=j.length;he<ve;he++){const ve=j[he];te[he]=`.mtk${he} { color: ${ve}; }`}return te.push(".mtki { font-style: italic; }"),te.push(".mtkb { font-weight: bold; }"),te.push(".mtku { text-decoration: underline; text-underline-position: under; }"),te.push(".mtks { text-decoration: line-through; }"),te.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),te.join("\n")}})),define(Ce[49],ie([1,0,39]),(function(j,te,he){var ve;Object.defineProperty(te,"__esModule",{value:!0}),te.shouldSynchronizeModel=te.ApplyEditsResult=te.SearchData=te.ValidAnnotatedEditOperation=te.FindMatch=te.TextModelResolvedOptions=te.InjectedTextCursorStops=te.MinimapPosition=te.OverviewRulerLane=void 0,(ve=te.OverviewRulerLane||(te.OverviewRulerLane={}))[ve.Left=1]="Left",ve[ve.Center=2]="Center",ve[ve.Right=4]="Right",ve[ve.Full=7]="Full",function(j){j[j.Inline=1]="Inline",j[j.Gutter=2]="Gutter"}(te.MinimapPosition||(te.MinimapPosition={})),function(j){j[j.Both=0]="Both",j[j.Right=1]="Right",j[j.Left=2]="Left",j[j.None=3]="None"}(te.InjectedTextCursorStops||(te.InjectedTextCursorStops={}));te.TextModelResolvedOptions=class w{constructor(j){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|j.tabSize),this.indentSize=0|j.tabSize,this.insertSpaces=Boolean(j.insertSpaces),this.defaultEOL=0|j.defaultEOL,this.trimAutoWhitespace=Boolean(j.trimAutoWhitespace),this.bracketPairColorizationOptions=j.bracketPairColorizationOptions}equals(j){return this.tabSize===j.tabSize&&this.indentSize===j.indentSize&&this.insertSpaces===j.insertSpaces&&this.defaultEOL===j.defaultEOL&&this.trimAutoWhitespace===j.trimAutoWhitespace&&(0,he.equals)(this.bracketPairColorizationOptions,j.bracketPairColorizationOptions)}createChangeEvent(j){return{tabSize:this.tabSize!==j.tabSize,indentSize:this.indentSize!==j.indentSize,insertSpaces:this.insertSpaces!==j.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==j.trimAutoWhitespace}}};te.FindMatch=class b{constructor(j,te){this._findMatchBrand=void 0,this.range=j,this.matches=te}};te.ValidAnnotatedEditOperation=class p{constructor(j,te,he,ve,Ce,ye){this.identifier=j,this.range=te,this.text=he,this.forceMoveMarkers=ve,this.isAutoWhitespaceEdit=Ce,this._isTracked=ye}};te.SearchData=class h{constructor(j,te,he){this.regex=j,this.wordSeparators=te,this.simpleSearch=he}};te.ApplyEditsResult=class g{constructor(j,te,he){this.reverseEdits=j,this.changes=te,this.trimAutoWhitespaceLineNumbers=he}},te.shouldSynchronizeModel=function t(j){return!j.isTooLargeForSyncing()&&!j.isForSimpleWidget}})),define(Ce[413],ie([1,0,4,2,49,405]),(function(j,te,he,ve,Ce,ye){function w(j){return"string"!=typeof j&&(Array.isArray(j)?j.every(w):!!j.exclusive)}Object.defineProperty(te,"__esModule",{value:!0}),te.LanguageFeatureRegistry=void 0;class b{constructor(){this._clock=0,this._entries=[],this._onDidChange=new he.Emitter}get onDidChange(){return this._onDidChange.event}register(j,te){let he={selector:j,provider:te,_score:-1,_time:this._clock++};return this._entries.push(he),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,ve.toDisposable)((()=>{if(he){const j=this._entries.indexOf(he);j>=0&&(this._entries.splice(j,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),he=void 0)}}))}has(j){return this.all(j).length>0}all(j){if(!j)return[];this._updateScores(j);const te=[];for(let j of this._entries)j._score>0&&te.push(j.provider);return te}ordered(j){const te=[];return this._orderedForEach(j,(j=>te.push(j.provider))),te}orderedGroups(j){const te=[];let he,ve;return this._orderedForEach(j,(j=>{he&&ve===j._score?he.push(j.provider):(ve=j._score,he=[j.provider],te.push(he))})),te}_orderedForEach(j,te){if(j){this._updateScores(j);for(const j of this._entries)j._score>0&&te(j)}}_updateScores(j){const te={uri:j.uri.toString(),language:j.getLanguageId()};if(!this._lastCandidate||this._lastCandidate.language!==te.language||this._lastCandidate.uri!==te.uri){this._lastCandidate=te;for(let te of this._entries)if(te._score=(0,ye.score)(te.selector,j.uri,j.getLanguageId(),(0,Ce.shouldSynchronizeModel)(j)),w(te.selector)&&te._score>0){for(let j of this._entries)j._score=0;te._score=1e3;break}this._entries.sort(b._compareByScoreAndTime)}}static _compareByScoreAndTime(j,te){return j._score<te._score?1:j._score>te._score?-1:j._time<te._time?1:j._time>te._time?-1:0}}te.LanguageFeatureRegistry=b})),define(Ce[83],ie([1,0,8,3]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.lengthOfString=te.lengthsToRange=te.positionToLength=te.lengthGreaterThanEqual=te.lengthLessThanEqual=te.lengthLessThan=te.lengthDiffNonNegative=te.lengthAdd=te.lengthGetColumnCountIfZeroLineCount=te.lengthGetLineCount=te.lengthToObj=te.toLength=te.lengthIsZero=te.lengthZero=te.lengthDiff=te.LengthObj=void 0;class D{constructor(j,te){this.lineCount=j,this.columnCount=te}toString(){return`${this.lineCount},${this.columnCount}`}}te.LengthObj=D,D.zero=new D(0,0),te.lengthDiff=function I(j,te,he,ve){return j!==he?p(he-j,ve):p(0,ve-te)},te.lengthZero=0,te.lengthIsZero=function w(j){return 0===j};const Ce=Math.pow(2,26);function p(j,te){return j*Ce+te}te.toLength=p,te.lengthToObj=function h(j){const te=j,he=Math.floor(te/Ce);return new D(he,te-he*Ce)},te.lengthGetLineCount=function g(j){return Math.floor(j/Ce)},te.lengthGetColumnCountIfZeroLineCount=function t(j){return j},te.lengthAdd=function i(j,te){return te<Ce?j+te:j-j%Ce+te},te.lengthDiffNonNegative=function n(j,he){const ve=j,ye=he;if(ye-ve<=0)return te.lengthZero;const Ee=Math.floor(ve/Ce),Ie=Math.floor(ye/Ce),Ne=ye-Ie*Ce;if(Ee===Ie){return p(0,Ne-(ve-Ee*Ce))}return p(Ie-Ee,Ne)},te.lengthLessThan=function l(j,te){return j<te},te.lengthLessThanEqual=function c(j,te){return j<=te},te.lengthGreaterThanEqual=function r(j,te){return j>=te},te.positionToLength=function s(j){return p(j.lineNumber-1,j.column-1)},te.lengthsToRange=function o(j,te){const he=j,ye=Math.floor(he/Ce),Ee=he-ye*Ce,Ie=te,Ne=Math.floor(Ie/Ce),Oe=Ie-Ne*Ce;return new ve.Range(ye+1,Ee+1,Ne+1,Oe+1)},te.lengthOfString=function a(j){const te=(0,he.splitLines)(j);return p(te.length-1,te[te.length-1].length)}})),define(Ce[240],ie([1,0,83]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.BeforeEditPositionMapper=te.TextEditInfo=void 0;te.TextEditInfo=class m{constructor(j,te,he){this.startOffset=j,this.endOffset=te,this.newLength=he}};te.BeforeEditPositionMapper=class D{constructor(j,te){this.documentLength=te,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=j.map((j=>I.from(j)))}getOffsetBeforeChange(j){return this.adjustNextEdit(j),this.translateCurToOld(j)}getDistanceToNextChange(j){this.adjustNextEdit(j);const te=this.edits[this.nextEditIdx],ve=te?this.translateOldToCur(te.offsetObj):this.documentLength;return(0,he.lengthDiffNonNegative)(j,ve)}translateOldToCur(j){return j.lineCount===this.deltaLineIdxInOld?(0,he.toLength)(j.lineCount+this.deltaOldToNewLineCount,j.columnCount+this.deltaOldToNewColumnCount):(0,he.toLength)(j.lineCount+this.deltaOldToNewLineCount,j.columnCount)}translateCurToOld(j){const te=(0,he.lengthToObj)(j);return te.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,he.toLength)(te.lineCount-this.deltaOldToNewLineCount,te.columnCount-this.deltaOldToNewColumnCount):(0,he.toLength)(te.lineCount-this.deltaOldToNewLineCount,te.columnCount)}adjustNextEdit(j){for(;this.nextEditIdx<this.edits.length;){const te=this.edits[this.nextEditIdx],ve=this.translateOldToCur(te.endOffsetAfterObj);if(!(0,he.lengthLessThanEqual)(ve,j))break;{this.nextEditIdx++;const j=(0,he.lengthToObj)(ve),Ce=(0,he.lengthToObj)(this.translateOldToCur(te.endOffsetBeforeObj)),ye=j.lineCount-Ce.lineCount;this.deltaOldToNewLineCount+=ye;const Ee=this.deltaLineIdxInOld===te.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,Ie=j.columnCount-Ce.columnCount;this.deltaOldToNewColumnCount=Ee+Ie,this.deltaLineIdxInOld=te.endOffsetBeforeObj.lineCount}}}};class I{constructor(j,te,ve){this.endOffsetBeforeObj=(0,he.lengthToObj)(te),this.endOffsetAfterObj=(0,he.lengthToObj)((0,he.lengthAdd)(j,ve)),this.offsetObj=(0,he.lengthToObj)(j)}static from(j){return new I(j.startOffset,j.endOffset,j.newLength)}}})),define(Ce[414],ie([1,0,83]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.NodeReader=void 0;function D(j,te=-1){for(;;){if(++te>=j.childrenLength)return-1;if(j.getChild(te))return te}}function I(j){return j.length>0?j[j.length-1]:void 0}te.NodeReader=class m{constructor(j){this.lastOffset=he.lengthZero,this.nextNodes=[j],this.offsets=[he.lengthZero],this.idxs=[]}readLongestNodeAt(j,te){if((0,he.lengthLessThan)(j,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=j;;){const ve=I(this.nextNodes);if(!ve)return;const Ce=I(this.offsets);if((0,he.lengthLessThan)(j,Ce))return;if((0,he.lengthLessThan)(Ce,j))if((0,he.lengthAdd)(Ce,ve.length)<=j)this.nextNodeAfterCurrent();else{const j=D(ve);-1!==j?(this.nextNodes.push(ve.getChild(j)),this.offsets.push(Ce),this.idxs.push(j)):this.nextNodeAfterCurrent()}else{if(te(ve))return this.nextNodeAfterCurrent(),ve;{const j=D(ve);if(-1===j)return void this.nextNodeAfterCurrent();this.nextNodes.push(ve.getChild(j)),this.offsets.push(Ce),this.idxs.push(j)}}}}nextNodeAfterCurrent(){for(;;){const j=I(this.offsets),te=I(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const ve=I(this.nextNodes),Ce=D(ve,this.idxs[this.idxs.length-1]);if(-1!==Ce){this.nextNodes.push(ve.getChild(Ce)),this.offsets.push((0,he.lengthAdd)(j,te.length)),this.idxs[this.idxs.length-1]=Ce;break}this.idxs.pop()}}}})),define(Ce[99],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.DenseKeyProvider=te.identityKeyProvider=te.SmallImmutableSet=void 0;const he=new Array;class m{constructor(j,te){this.items=j,this.additionalItems=te}static create(j,te){if(j<=128&&0===te.length){let he=m.cache[j];return he||(he=new m(j,te),m.cache[j]=he),he}return new m(j,te)}static getEmpty(){return this.empty}add(j,te){const he=te.getKey(j);let ve=he>>5;if(0===ve){const j=1<<he|this.items;return j===this.items?this:m.create(j,this.additionalItems)}ve--;const Ce=this.additionalItems.slice(0);for(;Ce.length<ve;)Ce.push(0);return Ce[ve]|=1<<(31&he),m.create(this.items,Ce)}merge(j){const te=this.items|j.items;if(this.additionalItems===he&&j.additionalItems===he)return te===this.items?this:te===j.items?j:m.create(te,he);const ve=new Array;for(let te=0;te<Math.max(this.additionalItems.length,j.additionalItems.length);te++){const he=this.additionalItems[te]||0,Ce=j.additionalItems[te]||0;ve.push(he|Ce)}return m.create(te,ve)}intersects(j){if(0!=(this.items&j.items))return!0;for(let te=0;te<Math.min(this.additionalItems.length,j.additionalItems.length);te++)if(0!=(this.additionalItems[te]&j.additionalItems[te]))return!0;return!1}}te.SmallImmutableSet=m,m.cache=new Array(129),m.empty=m.create(0,he),te.identityKeyProvider={getKey:j=>j};te.DenseKeyProvider=class D{constructor(){this.items=new Map}getKey(j){let te=this.items.get(j);return void 0===te&&(te=this.items.size,this.items.set(j,te)),te}}})),define(Ce[149],ie([1,0,68,83,99]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.InvalidBracketAstNode=te.BracketAstNode=te.TextAstNode=te.ListAstNode=te.PairAstNode=void 0;class I{constructor(j){this._length=j}get length(){return this._length}}class w extends I{constructor(j,te,he,ve,Ce){super(j),this.openingBracket=te,this.child=he,this.closingBracket=ve,this.missingOpeningBracketIds=Ce}static create(j,te,he){let ye=j.length;return te&&(ye=(0,ve.lengthAdd)(ye,te.length)),he&&(ye=(0,ve.lengthAdd)(ye,he.length)),new w(ye,j,te,he,te?te.missingOpeningBracketIds:Ce.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(j){switch(j){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const j=new Array;return j.push(this.openingBracket),this.child&&j.push(this.child),this.closingBracket&&j.push(this.closingBracket),j}canBeReused(j){return!(null===this.closingBracket||j.intersects(this.missingOpeningBracketIds))}deepClone(){return new w(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(j,te){return this.child?this.child.computeMinIndentation((0,ve.lengthAdd)(j,this.openingBracket.length),te):Number.MAX_SAFE_INTEGER}}te.PairAstNode=w;class b extends I{constructor(j,te,he){super(j),this.listHeight=te,this._missingOpeningBracketIds=he,this.cachedMinIndentation=-1}static create23(j,te,he,Ce=!1){let ye=j.length,Ee=j.missingOpeningBracketIds;if(j.listHeight!==te.listHeight)throw new Error("Invalid list heights");if(ye=(0,ve.lengthAdd)(ye,te.length),Ee=Ee.merge(te.missingOpeningBracketIds),he){if(j.listHeight!==he.listHeight)throw new Error("Invalid list heights");ye=(0,ve.lengthAdd)(ye,he.length),Ee=Ee.merge(he.missingOpeningBracketIds)}return Ce?new h(ye,j.listHeight+1,j,te,he,Ee):new p(ye,j.listHeight+1,j,te,he,Ee)}static getEmpty(){return new t(ve.lengthZero,0,[],Ce.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const j=this.childrenLength;if(0===j)return;const te=this.getChild(j-1),he=4===te.kind?te.toMutable():te;return te!==he&&this.setChild(j-1,he),he}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const j=this.getChild(0),te=4===j.kind?j.toMutable():j;return j!==te&&this.setChild(0,te),te}canBeReused(j){if(j.intersects(this.missingOpeningBracketIds))return!1;let te,he=this;for(;4===he.kind&&(te=he.childrenLength)>0;)he=he.getChild(te-1);return he.canBeReused(j)}handleChildrenChanged(){this.throwIfImmutable();const j=this.childrenLength;let te=this.getChild(0).length,he=this.getChild(0).missingOpeningBracketIds;for(let Ce=1;Ce<j;Ce++){const j=this.getChild(Ce);te=(0,ve.lengthAdd)(te,j.length),he=he.merge(j.missingOpeningBracketIds)}this._length=te,this._missingOpeningBracketIds=he,this.cachedMinIndentation=-1}computeMinIndentation(j,te){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let he=Number.MAX_SAFE_INTEGER,Ce=j;for(let j=0;j<this.childrenLength;j++){const ye=this.getChild(j);ye&&(he=Math.min(he,ye.computeMinIndentation(Ce,te)),Ce=(0,ve.lengthAdd)(Ce,ye.length))}return this.cachedMinIndentation=he,he}}te.ListAstNode=b;class p extends b{constructor(j,te,he,ve,Ce,ye){super(j,te,ye),this._item1=he,this._item2=ve,this._item3=Ce}get childrenLength(){return null!==this._item3?3:2}getChild(j){switch(j){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(j,te){switch(j){case 0:return void(this._item1=te);case 1:return void(this._item2=te);case 2:return void(this._item3=te)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new p(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(j){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=j,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const j=this._item3;return this._item3=null,this.handleChildrenChanged(),j}prependChildOfSameHeight(j){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=j,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const j=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),j}toMutable(){return this}}class h extends p{toMutable(){return new p(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class g extends b{constructor(j,te,he,ve){super(j,te,ve),this._children=he}get childrenLength(){return this._children.length}getChild(j){return this._children[j]}setChild(j,te){this._children[j]=te}get children(){return this._children}deepClone(){const j=new Array(this._children.length);for(let te=0;te<this._children.length;te++)j[te]=this._children[te].deepClone();return new g(this.length,this.listHeight,j,this.missingOpeningBracketIds)}appendChildOfSameHeight(j){this.throwIfImmutable(),this._children.push(j),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const j=this._children.pop();return this.handleChildrenChanged(),j}prependChildOfSameHeight(j){this.throwIfImmutable(),this._children.unshift(j),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const j=this._children.shift();return this.handleChildrenChanged(),j}toMutable(){return this}}class t extends g{toMutable(){return new g(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const ye=[];class n extends I{get listHeight(){return 0}get childrenLength(){return 0}getChild(j){return null}get children(){return ye}deepClone(){return this}}te.TextAstNode=class l extends n{get kind(){return 0}get missingOpeningBracketIds(){return Ce.SmallImmutableSet.getEmpty()}canBeReused(j){return!0}computeMinIndentation(j,te){const Ce=(0,ve.lengthToObj)(j),ye=(0===Ce.columnCount?Ce.lineCount:Ce.lineCount+1)+1,Ee=(0,ve.lengthGetLineCount)((0,ve.lengthAdd)(j,this.length))+1;let Ie=Number.MAX_SAFE_INTEGER;for(let j=ye;j<=Ee;j++){const ve=te.getLineFirstNonWhitespaceColumn(j),Ce=te.getLineContent(j);if(0===ve)continue;const ye=he.CursorColumns.visibleColumnFromColumn(Ce,ve,te.getOptions().tabSize);Ie=Math.min(Ie,ye)}return Ie}};class c extends n{constructor(j,te,he){super(j),this.languageId=te,this.bracketIds=he}static create(j,te,he){return new c(j,te,he)}get kind(){return 1}get missingOpeningBracketIds(){return Ce.SmallImmutableSet.getEmpty()}canBeReused(j){return!1}computeMinIndentation(j,te){return Number.MAX_SAFE_INTEGER}}te.BracketAstNode=c;te.InvalidBracketAstNode=class r extends n{constructor(j,te){super(te),this.missingOpeningBracketIds=j}get kind(){return 3}canBeReused(j){return!j.intersects(this.missingOpeningBracketIds)}computeMinIndentation(j,te){return Number.MAX_SAFE_INTEGER}}})),define(Ce[415],ie([1,0,149]),(function(j,te,he){function D(j,te=!1){if(0===j.length)return null;if(1===j.length)return j[0];let ve=j.length;for(;ve>3;){const Ce=ve>>1;for(let ye=0;ye<Ce;ye++){const Ce=ye<<1;j[ye]=he.ListAstNode.create23(j[Ce],j[Ce+1],Ce+3===ve?j[Ce+2]:null,te)}ve=Ce}return he.ListAstNode.create23(j[0],j[1],ve>=3?j[2]:null,te)}function I(j,te){return Math.abs(j.listHeight-te.listHeight)}function w(j,te){return j.listHeight===te.listHeight?he.ListAstNode.create23(j,te,null,!1):j.listHeight>te.listHeight?function b(j,te){j=j.toMutable();let ve=j;const Ce=new Array;let ye;for(;;){if(te.listHeight===ve.listHeight){ye=te;break}if(4!==ve.kind)throw new Error("unexpected");Ce.push(ve),ve=ve.makeLastElementMutable()}for(let j=Ce.length-1;j>=0;j--){const te=Ce[j];ye?te.childrenLength>=3?ye=he.ListAstNode.create23(te.unappendChild(),ye,null,!1):(te.appendChildOfSameHeight(ye),ye=void 0):te.handleChildrenChanged()}return ye?he.ListAstNode.create23(j,ye,null,!1):j}(j,te):function p(j,te){j=j.toMutable();let ve=j;const Ce=new Array;for(;te.listHeight!==ve.listHeight;){if(4!==ve.kind)throw new Error("unexpected");Ce.push(ve),ve=ve.makeFirstElementMutable()}let ye=te;for(let j=Ce.length-1;j>=0;j--){const te=Ce[j];ye?te.childrenLength>=3?ye=he.ListAstNode.create23(ye,te.unprependChild(),null,!1):(te.prependChildOfSameHeight(ye),ye=void 0):te.handleChildrenChanged()}return ye?he.ListAstNode.create23(ye,j,null,!1):j}(te,j)}Object.defineProperty(te,"__esModule",{value:!0}),te.concat23TreesOfSameHeight=te.concat23Trees=void 0,te.concat23Trees=function m(j){if(0===j.length)return null;if(1===j.length)return j[0];let te=0;function t(){if(te>=j.length)return null;const he=te,ve=j[he].listHeight;for(te++;te<j.length&&j[te].listHeight===ve;)te++;return te-he>=2?D(0===he&&te===j.length?j:j.slice(he,te),!1):j[he]}let he=t(),ve=t();if(!ve)return he;for(let j=t();j;j=t())I(he,ve)<=I(ve,j)?(he=w(he,ve),ve=j):ve=w(ve,j);return w(he,ve)},te.concat23TreesOfSameHeight=D})),define(Ce[241],ie([1,0,149,240,99,83,415,414]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.parseDocument=void 0,te.parseDocument=function p(j,te,he,ve){return new h(j,te,he,ve).parseDocument()};class h{constructor(j,te,he,Ce){if(this.tokenizer=j,this.createImmutableLists=Ce,this._itemsConstructed=0,this._itemsFromCache=0,he&&Ce)throw new Error("Not supported");this.oldNodeReader=he?new Ie.NodeReader(he):void 0,this.positionMapper=new ve.BeforeEditPositionMapper(te,j.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let j=this.parseList(Ce.SmallImmutableSet.getEmpty());return j||(j=he.ListAstNode.getEmpty()),j}parseList(j){const te=new Array;for(;;){const he=this.tokenizer.peek();if(!he||2===he.kind&&he.bracketIds.intersects(j))break;const ve=this.parseChild(j);4===ve.kind&&0===ve.childrenLength||te.push(ve)}return this.oldNodeReader?(0,Ee.concat23Trees)(te):(0,Ee.concat23TreesOfSameHeight)(te,this.createImmutableLists)}parseChild(j){if(this.oldNodeReader){const te=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,ye.lengthIsZero)(te)){const he=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(he=>!!(0,ye.lengthLessThan)(he.length,te)&&he.canBeReused(j)));if(he)return this._itemsFromCache++,this.tokenizer.skip(he.length),he}}this._itemsConstructed++;const te=this.tokenizer.read();switch(te.kind){case 2:return new he.InvalidBracketAstNode(te.bracketIds,te.length);case 0:return te.astNode;case 1:{const ve=j.merge(te.bracketIds),Ce=this.parseList(ve),ye=this.tokenizer.peek();return ye&&2===ye.kind&&(ye.bracketId===te.bracketId||ye.bracketIds.intersects(te.bracketIds))?(this.tokenizer.read(),he.PairAstNode.create(te.astNode,Ce,ye.astNode)):he.PairAstNode.create(te.astNode,Ce,null)}default:throw new Error("unexpected")}}}})),define(Ce[416],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.guessIndentation=void 0;class y{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function m(j,te,he,ve,Ce){let ye;for(Ce.spacesDiff=0,Ce.looksLikeAlignment=!1,ye=0;ye<te&&ye<ve;ye++){if(j.charCodeAt(ye)!==he.charCodeAt(ye))break}let Ee=0,Ie=0;for(let he=ye;he<te;he++)32===j.charCodeAt(he)?Ee++:Ie++;let Ne=0,Oe=0;for(let j=ye;j<ve;j++)32===he.charCodeAt(j)?Ne++:Oe++;if(Ee>0&&Ie>0||Ne>0&&Oe>0)return;const Ke=Math.abs(Ie-Oe),je=Math.abs(Ee-Ne);if(0===Ke)return Ce.spacesDiff=je,void(je>0&&0<=Ne-1&&Ne-1<j.length&&Ne<he.length&&32!==he.charCodeAt(Ne)&&32===j.charCodeAt(Ne-1)&&44===j.charCodeAt(j.length-1)&&(Ce.looksLikeAlignment=!0));je%Ke!=0||(Ce.spacesDiff=je/Ke)}te.guessIndentation=function D(j,te,he){const ve=Math.min(j.getLineCount(),1e4);let Ce=0,ye=0,Ee="",Ie=0;const Ne=[2,4,6,8,3,5,7],Oe=[0,0,0,0,0,0,0,0,0],Ke=new y;for(let Ne=1;Ne<=ve;Ne++){const ve=j.getLineLength(Ne),je=j.getLineContent(Ne),Ze=ve<=65536;let Ye=!1,et=0,nt=0,rt=0;for(let te=0,he=ve;te<he;te++){const he=Ze?je.charCodeAt(te):j.getLineCharCode(Ne,te);if(9===he)rt++;else{if(32!==he){Ye=!0,et=te;break}nt++}}if(!Ye||(rt>0?Ce++:nt>1&&ye++,m(Ee,Ie,je,et,Ke),Ke.looksLikeAlignment&&(!he||te!==Ke.spacesDiff)))continue;const at=Ke.spacesDiff;at<=8&&Oe[at]++,Ee=je,Ie=et}let je=he;Ce!==ye&&(je=Ce<ye);let Ze=te;if(je){let j=je?0:.1*ve;Ne.forEach((te=>{const he=Oe[te];he>j&&(j=he,Ze=te)})),4===Ze&&Oe[4]>0&&Oe[2]>0&&Oe[2]>=Oe[4]/2&&(Ze=2)}return{insertSpaces:je,tabSize:Ze}}})),define(Ce[417],ie([1,0]),(function(j,te){function y(j){return(1&j.metadata)>>>0}function m(j,te){j.metadata=254&j.metadata|te<<0}function D(j){return(2&j.metadata)>>>1==1}function I(j,te){j.metadata=253&j.metadata|(te?1:0)<<1}function w(j){return(4&j.metadata)>>>2==1}function b(j,te){j.metadata=251&j.metadata|(te?1:0)<<2}function h(j,te){j.metadata=231&j.metadata|te<<3}function t(j,te){j.metadata=223&j.metadata|(te?1:0)<<5}Object.defineProperty(te,"__esModule",{value:!0}),te.intervalCompare=te.recomputeMaxEnd=te.nodeAcceptEdit=te.IntervalTree=te.SENTINEL=te.IntervalNode=te.getNodeColor=void 0,te.getNodeColor=y;class i{constructor(j,te,he){this.metadata=0,this.parent=this,this.left=this,this.right=this,m(this,1),this.start=te,this.end=he,this.delta=0,this.maxEnd=he,this.id=j,this.ownerId=0,this.options=null,b(this,!1),h(this,1),t(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=te,this.cachedAbsoluteEnd=he,this.range=null,I(this,!1)}reset(j,te,he,ve){this.start=te,this.end=he,this.maxEnd=he,this.cachedVersionId=j,this.cachedAbsoluteStart=te,this.cachedAbsoluteEnd=he,this.range=ve}setOptions(j){this.options=j;const te=this.options.className;b(this,"squiggly-error"===te||"squiggly-warning"===te||"squiggly-info"===te),h(this,this.options.stickiness),t(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(j,te,he){this.cachedVersionId!==he&&(this.range=null),this.cachedVersionId=he,this.cachedAbsoluteStart=j,this.cachedAbsoluteEnd=te}detach(){this.parent=null,this.left=null,this.right=null}}te.IntervalNode=i,te.SENTINEL=new i(null,0,0),te.SENTINEL.parent=te.SENTINEL,te.SENTINEL.left=te.SENTINEL,te.SENTINEL.right=te.SENTINEL,m(te.SENTINEL,0);function c(j,te,he,ve){return j<he||!(j>he||1===ve)&&(2===ve||te)}function r(j,te,he,ve,Ce){const ye=function p(j){return(24&j.metadata)>>>3}(j),Ee=0===ye||2===ye,Ie=1===ye||2===ye,Ne=he-te,Oe=ve,Ke=Math.min(Ne,Oe),je=j.start;let Ze=!1;const Ye=j.end;let et=!1;te<=je&&Ye<=he&&function g(j){return(32&j.metadata)>>>5==1}(j)&&(j.start=te,Ze=!0,j.end=te,et=!0);{const j=Ce?1:Ne>0?2:0;!Ze&&c(je,Ee,te,j)&&(Ze=!0),!et&&c(Ye,Ie,te,j)&&(et=!0)}if(Ke>0&&!Ce){const j=Ne>Oe?2:0;!Ze&&c(je,Ee,te+Ke,j)&&(Ze=!0),!et&&c(Ye,Ie,te+Ke,j)&&(et=!0)}{const ve=Ce?1:0;!Ze&&c(je,Ee,he,ve)&&(j.start=te+Oe,Ze=!0),!et&&c(Ye,Ie,he,ve)&&(j.end=te+Oe,et=!0)}const nt=Oe-Ne;Ze||(j.start=Math.max(0,je+nt)),et||(j.end=Math.max(0,Ye+nt)),j.start>j.end&&(j.end=j.start)}function S(j,he){if(j.root===te.SENTINEL)return he.parent=te.SENTINEL,he.left=te.SENTINEL,he.right=te.SENTINEL,m(he,0),j.root=he,j.root;(function v(j,he){let ve=0,Ce=j.root;const ye=he.start,Ee=he.end;for(;;)if(B(ye,Ee,Ce.start+ve,Ce.end+ve)<0){if(Ce.left===te.SENTINEL){he.start-=ve,he.end-=ve,he.maxEnd-=ve,Ce.left=he;break}Ce=Ce.left}else{if(Ce.right===te.SENTINEL){he.start-=ve+Ce.delta,he.end-=ve+Ce.delta,he.maxEnd-=ve+Ce.delta,Ce.right=he;break}ve+=Ce.delta,Ce=Ce.right}he.parent=Ce,he.left=te.SENTINEL,he.right=te.SENTINEL,m(he,1)})(j,he),O(he.parent);let ve=he;for(;ve!==j.root&&1===y(ve.parent);)if(ve.parent===ve.parent.parent.left){const te=ve.parent.parent.right;1===y(te)?(m(ve.parent,0),m(te,0),m(ve.parent.parent,1),ve=ve.parent.parent):(ve===ve.parent.right&&(ve=ve.parent,E(j,ve)),m(ve.parent,0),m(ve.parent.parent,1),N(j,ve.parent.parent))}else{const te=ve.parent.parent.left;1===y(te)?(m(ve.parent,0),m(te,0),m(ve.parent.parent,1),ve=ve.parent.parent):(ve===ve.parent.left&&(ve=ve.parent,N(j,ve)),m(ve.parent,0),m(ve.parent.parent,1),E(j,ve.parent.parent))}return m(j.root,0),he}function C(j,he){let ve,Ce;if(he.left===te.SENTINEL?(ve=he.right,Ce=he,ve.delta+=he.delta,(ve.delta<-1073741824||ve.delta>1073741824)&&(j.requestNormalizeDelta=!0),ve.start+=he.delta,ve.end+=he.delta):he.right===te.SENTINEL?(ve=he.left,Ce=he):(Ce=function _(j){for(;j.left!==te.SENTINEL;)j=j.left;return j}(he.right),ve=Ce.right,ve.start+=Ce.delta,ve.end+=Ce.delta,ve.delta+=Ce.delta,(ve.delta<-1073741824||ve.delta>1073741824)&&(j.requestNormalizeDelta=!0),Ce.start+=he.delta,Ce.end+=he.delta,Ce.delta=he.delta,(Ce.delta<-1073741824||Ce.delta>1073741824)&&(j.requestNormalizeDelta=!0)),Ce===j.root)return j.root=ve,m(ve,0),he.detach(),L(),M(ve),void(j.root.parent=te.SENTINEL);const ye=1===y(Ce);if(Ce===Ce.parent.left?Ce.parent.left=ve:Ce.parent.right=ve,Ce===he?ve.parent=Ce.parent:(Ce.parent===he?ve.parent=Ce:ve.parent=Ce.parent,Ce.left=he.left,Ce.right=he.right,Ce.parent=he.parent,m(Ce,y(he)),he===j.root?j.root=Ce:he===he.parent.left?he.parent.left=Ce:he.parent.right=Ce,Ce.left!==te.SENTINEL&&(Ce.left.parent=Ce),Ce.right!==te.SENTINEL&&(Ce.right.parent=Ce)),he.detach(),ye)return O(ve.parent),Ce!==he&&(O(Ce),O(Ce.parent)),void L();let Ee;for(O(ve),O(ve.parent),Ce!==he&&(O(Ce),O(Ce.parent));ve!==j.root&&0===y(ve);)ve===ve.parent.left?(Ee=ve.parent.right,1===y(Ee)&&(m(Ee,0),m(ve.parent,1),E(j,ve.parent),Ee=ve.parent.right),0===y(Ee.left)&&0===y(Ee.right)?(m(Ee,1),ve=ve.parent):(0===y(Ee.right)&&(m(Ee.left,0),m(Ee,1),N(j,Ee),Ee=ve.parent.right),m(Ee,y(ve.parent)),m(ve.parent,0),m(Ee.right,0),E(j,ve.parent),ve=j.root)):(Ee=ve.parent.left,1===y(Ee)&&(m(Ee,0),m(ve.parent,1),N(j,ve.parent),Ee=ve.parent.left),0===y(Ee.left)&&0===y(Ee.right)?(m(Ee,1),ve=ve.parent):(0===y(Ee.left)&&(m(Ee.right,0),m(Ee,1),E(j,Ee),Ee=ve.parent.left),m(Ee,y(ve.parent)),m(ve.parent,0),m(Ee.left,0),N(j,ve.parent),ve=j.root));m(ve,0),L()}function L(){te.SENTINEL.parent=te.SENTINEL,te.SENTINEL.delta=0,te.SENTINEL.start=0,te.SENTINEL.end=0}function E(j,he){const ve=he.right;ve.delta+=he.delta,(ve.delta<-1073741824||ve.delta>1073741824)&&(j.requestNormalizeDelta=!0),ve.start+=he.delta,ve.end+=he.delta,he.right=ve.left,ve.left!==te.SENTINEL&&(ve.left.parent=he),ve.parent=he.parent,he.parent===te.SENTINEL?j.root=ve:he===he.parent.left?he.parent.left=ve:he.parent.right=ve,ve.left=he,he.parent=ve,M(he),M(ve)}function N(j,he){const ve=he.left;he.delta-=ve.delta,(he.delta<-1073741824||he.delta>1073741824)&&(j.requestNormalizeDelta=!0),he.start-=ve.delta,he.end-=ve.delta,he.left=ve.right,ve.right!==te.SENTINEL&&(ve.right.parent=he),ve.parent=he.parent,he.parent===te.SENTINEL?j.root=ve:he===he.parent.right?he.parent.right=ve:he.parent.left=ve,ve.right=he,he.parent=ve,M(he),M(ve)}function k(j){let he=j.end;if(j.left!==te.SENTINEL){const te=j.left.maxEnd;te>he&&(he=te)}if(j.right!==te.SENTINEL){const te=j.right.maxEnd+j.delta;te>he&&(he=te)}return he}function M(j){j.maxEnd=k(j)}function O(j){for(;j!==te.SENTINEL;){const te=k(j);if(j.maxEnd===te)return;j.maxEnd=te,j=j.parent}}function B(j,te,he,ve){return j===he?te-ve:j-he}te.IntervalTree=class n{constructor(){this.root=te.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(j,he,ve,Ce,ye){return this.root===te.SENTINEL?[]:function f(j,he,ve,Ce,ye,Ee){let Ie=j.root,Ne=0,Oe=0,Ke=0,je=0;const Ze=[];let Ye=0;for(;Ie!==te.SENTINEL;)if(D(Ie))I(Ie.left,!1),I(Ie.right,!1),Ie===Ie.parent.right&&(Ne-=Ie.parent.delta),Ie=Ie.parent;else{if(!D(Ie.left)){if(Oe=Ne+Ie.maxEnd,Oe<he){I(Ie,!0);continue}if(Ie.left!==te.SENTINEL){Ie=Ie.left;continue}}if(Ke=Ne+Ie.start,Ke>ve)I(Ie,!0);else{if(je=Ne+Ie.end,je>=he){Ie.setCachedOffsets(Ke,je,Ee);let j=!0;Ce&&Ie.ownerId&&Ie.ownerId!==Ce&&(j=!1),ye&&w(Ie)&&(j=!1),j&&(Ze[Ye++]=Ie)}I(Ie,!0),Ie.right===te.SENTINEL||D(Ie.right)||(Ne+=Ie.delta,Ie=Ie.right)}}return I(j.root,!1),Ze}(this,j,he,ve,Ce,ye)}search(j,he,ve){return this.root===te.SENTINEL?[]:function u(j,he,ve,Ce){let ye=j.root,Ee=0,Ie=0,Ne=0;const Oe=[];let Ke=0;for(;ye!==te.SENTINEL;){if(D(ye)){I(ye.left,!1),I(ye.right,!1),ye===ye.parent.right&&(Ee-=ye.parent.delta),ye=ye.parent;continue}if(ye.left!==te.SENTINEL&&!D(ye.left)){ye=ye.left;continue}Ie=Ee+ye.start,Ne=Ee+ye.end,ye.setCachedOffsets(Ie,Ne,Ce);let j=!0;(he&&ye.ownerId&&ye.ownerId!==he&&(j=!1),ve&&w(ye)&&(j=!1),j&&(Oe[Ke++]=ye),I(ye,!0),ye.right===te.SENTINEL||D(ye.right))||(Ee+=ye.delta,ye=ye.right)}return I(j.root,!1),Oe}(this,j,he,ve)}collectNodesFromOwner(j){return function a(j,he){let ve=j.root;const Ce=[];let ye=0;for(;ve!==te.SENTINEL;)D(ve)?(I(ve.left,!1),I(ve.right,!1),ve=ve.parent):ve.left===te.SENTINEL||D(ve.left)?(ve.ownerId===he&&(Ce[ye++]=ve),I(ve,!0),ve.right===te.SENTINEL||D(ve.right)||(ve=ve.right)):ve=ve.left;return I(j.root,!1),Ce}(this,j)}collectNodesPostOrder(){return function d(j){let he=j.root;const ve=[];let Ce=0;for(;he!==te.SENTINEL;)D(he)?(I(he.left,!1),I(he.right,!1),he=he.parent):he.left===te.SENTINEL||D(he.left)?he.right===te.SENTINEL||D(he.right)?(ve[Ce++]=he,I(he,!0)):he=he.right:he=he.left;return I(j.root,!1),ve}(this)}insert(j){S(this,j),this._normalizeDeltaIfNecessary()}delete(j){C(this,j),this._normalizeDeltaIfNecessary()}resolveNode(j,te){const he=j;let ve=0;for(;j!==this.root;)j===j.parent.right&&(ve+=j.parent.delta),j=j.parent;const Ce=he.start+ve,ye=he.end+ve;he.setCachedOffsets(Ce,ye,te)}acceptReplace(j,he,ve,Ce){const ye=function s(j,he,ve){let Ce=j.root,ye=0,Ee=0,Ie=0,Ne=0;const Oe=[];let Ke=0;for(;Ce!==te.SENTINEL;)if(D(Ce))I(Ce.left,!1),I(Ce.right,!1),Ce===Ce.parent.right&&(ye-=Ce.parent.delta),Ce=Ce.parent;else{if(!D(Ce.left)){if(Ee=ye+Ce.maxEnd,Ee<he){I(Ce,!0);continue}if(Ce.left!==te.SENTINEL){Ce=Ce.left;continue}}Ie=ye+Ce.start,Ie>ve?I(Ce,!0):(Ne=ye+Ce.end,Ne>=he&&(Ce.setCachedOffsets(Ie,Ne,0),Oe[Ke++]=Ce),I(Ce,!0),Ce.right===te.SENTINEL||D(Ce.right)||(ye+=Ce.delta,Ce=Ce.right))}return I(j.root,!1),Oe}(this,j,j+he);for(let j=0,te=ye.length;j<te;j++){C(this,ye[j])}this._normalizeDeltaIfNecessary(),function o(j,he,ve,Ce){let ye=j.root,Ee=0,Ie=0,Ne=0;const Oe=Ce-(ve-he);for(;ye!==te.SENTINEL;)if(D(ye))I(ye.left,!1),I(ye.right,!1),ye===ye.parent.right&&(Ee-=ye.parent.delta),M(ye),ye=ye.parent;else{if(!D(ye.left)){if(Ie=Ee+ye.maxEnd,Ie<he){I(ye,!0);continue}if(ye.left!==te.SENTINEL){ye=ye.left;continue}}Ne=Ee+ye.start,Ne>ve?(ye.start+=Oe,ye.end+=Oe,ye.delta+=Oe,(ye.delta<-1073741824||ye.delta>1073741824)&&(j.requestNormalizeDelta=!0),I(ye,!0)):(I(ye,!0),ye.right===te.SENTINEL||D(ye.right)||(Ee+=ye.delta,ye=ye.right))}I(j.root,!1)}(this,j,j+he,ve),this._normalizeDeltaIfNecessary();for(let te=0,Ee=ye.length;te<Ee;te++){const Ee=ye[te];Ee.start=Ee.cachedAbsoluteStart,Ee.end=Ee.cachedAbsoluteEnd,r(Ee,j,j+he,ve,Ce),Ee.maxEnd=Ee.end,S(this,Ee)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,function l(j){let he=j.root,ve=0;for(;he!==te.SENTINEL;)he.left===te.SENTINEL||D(he.left)?he.right===te.SENTINEL||D(he.right)?(he.start=ve+he.start,he.end=ve+he.end,he.delta=0,M(he),I(he,!0),I(he.left,!1),I(he.right,!1),he===he.parent.right&&(ve-=he.parent.delta),he=he.parent):(ve+=he.delta,he=he.right):he=he.left;I(j.root,!1)}(this))}},te.nodeAcceptEdit=r,te.recomputeMaxEnd=M,te.intervalCompare=B})),define(Ce[418],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.recomputeTreeMetadata=te.updateTreeMetadata=te.fixInsert=te.rbDelete=te.rightRotate=te.leftRotate=te.resetSentinel=te.calculateLF=te.calculateSize=te.righttest=te.leftest=te.SENTINEL=te.TreeNode=void 0;class y{constructor(j,te){this.piece=j,this.color=te,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==te.SENTINEL)return m(this.right);let j=this;for(;j.parent!==te.SENTINEL&&j.parent.left!==j;)j=j.parent;return j.parent===te.SENTINEL?te.SENTINEL:j.parent}prev(){if(this.left!==te.SENTINEL)return D(this.left);let j=this;for(;j.parent!==te.SENTINEL&&j.parent.right!==j;)j=j.parent;return j.parent===te.SENTINEL?te.SENTINEL:j.parent}detach(){this.parent=null,this.left=null,this.right=null}}function m(j){for(;j.left!==te.SENTINEL;)j=j.left;return j}function D(j){for(;j.right!==te.SENTINEL;)j=j.right;return j}function I(j){return j===te.SENTINEL?0:j.size_left+j.piece.length+I(j.right)}function w(j){return j===te.SENTINEL?0:j.lf_left+j.piece.lineFeedCnt+w(j.right)}function b(){te.SENTINEL.parent=te.SENTINEL}function p(j,he){const ve=he.right;ve.size_left+=he.size_left+(he.piece?he.piece.length:0),ve.lf_left+=he.lf_left+(he.piece?he.piece.lineFeedCnt:0),he.right=ve.left,ve.left!==te.SENTINEL&&(ve.left.parent=he),ve.parent=he.parent,he.parent===te.SENTINEL?j.root=ve:he.parent.left===he?he.parent.left=ve:he.parent.right=ve,ve.left=he,he.parent=ve}function h(j,he){const ve=he.left;he.left=ve.right,ve.right!==te.SENTINEL&&(ve.right.parent=he),ve.parent=he.parent,he.size_left-=ve.size_left+(ve.piece?ve.piece.length:0),he.lf_left-=ve.lf_left+(ve.piece?ve.piece.lineFeedCnt:0),he.parent===te.SENTINEL?j.root=ve:he===he.parent.right?he.parent.right=ve:he.parent.left=ve,ve.right=he,he.parent=ve}function i(j,he,ve,Ce){for(;he!==j.root&&he!==te.SENTINEL;)he.parent.left===he&&(he.parent.size_left+=ve,he.parent.lf_left+=Ce),he=he.parent}function n(j,te){let he=0,ve=0;if(te!==j.root){for(;te!==j.root&&te===te.parent.right;)te=te.parent;if(te!==j.root)for(he=I((te=te.parent).left)-te.size_left,ve=w(te.left)-te.lf_left,te.size_left+=he,te.lf_left+=ve;te!==j.root&&(0!==he||0!==ve);)te.parent.left===te&&(te.parent.size_left+=he,te.parent.lf_left+=ve),te=te.parent}}te.TreeNode=y,te.SENTINEL=new y(null,0),te.SENTINEL.parent=te.SENTINEL,te.SENTINEL.left=te.SENTINEL,te.SENTINEL.right=te.SENTINEL,te.SENTINEL.color=0,te.leftest=m,te.righttest=D,te.calculateSize=I,te.calculateLF=w,te.resetSentinel=b,te.leftRotate=p,te.rightRotate=h,te.rbDelete=function g(j,he){let ve,Ce;if(he.left===te.SENTINEL?(Ce=he,ve=Ce.right):he.right===te.SENTINEL?(Ce=he,ve=Ce.left):(Ce=m(he.right),ve=Ce.right),Ce===j.root)return j.root=ve,ve.color=0,he.detach(),b(),void(j.root.parent=te.SENTINEL);const ye=1===Ce.color;if(Ce===Ce.parent.left?Ce.parent.left=ve:Ce.parent.right=ve,Ce===he?(ve.parent=Ce.parent,n(j,ve)):(Ce.parent===he?ve.parent=Ce:ve.parent=Ce.parent,n(j,ve),Ce.left=he.left,Ce.right=he.right,Ce.parent=he.parent,Ce.color=he.color,he===j.root?j.root=Ce:he===he.parent.left?he.parent.left=Ce:he.parent.right=Ce,Ce.left!==te.SENTINEL&&(Ce.left.parent=Ce),Ce.right!==te.SENTINEL&&(Ce.right.parent=Ce),Ce.size_left=he.size_left,Ce.lf_left=he.lf_left,n(j,Ce)),he.detach(),ve.parent.left===ve){const te=I(ve),he=w(ve);if(te!==ve.parent.size_left||he!==ve.parent.lf_left){const Ce=te-ve.parent.size_left,ye=he-ve.parent.lf_left;ve.parent.size_left=te,ve.parent.lf_left=he,i(j,ve.parent,Ce,ye)}}if(n(j,ve.parent),ye)return void b();let Ee;for(;ve!==j.root&&0===ve.color;)ve===ve.parent.left?(Ee=ve.parent.right,1===Ee.color&&(Ee.color=0,ve.parent.color=1,p(j,ve.parent),Ee=ve.parent.right),0===Ee.left.color&&0===Ee.right.color?(Ee.color=1,ve=ve.parent):(0===Ee.right.color&&(Ee.left.color=0,Ee.color=1,h(j,Ee),Ee=ve.parent.right),Ee.color=ve.parent.color,ve.parent.color=0,Ee.right.color=0,p(j,ve.parent),ve=j.root)):(Ee=ve.parent.left,1===Ee.color&&(Ee.color=0,ve.parent.color=1,h(j,ve.parent),Ee=ve.parent.left),0===Ee.left.color&&0===Ee.right.color?(Ee.color=1,ve=ve.parent):(0===Ee.left.color&&(Ee.right.color=0,Ee.color=1,p(j,Ee),Ee=ve.parent.left),Ee.color=ve.parent.color,ve.parent.color=0,Ee.left.color=0,h(j,ve.parent),ve=j.root));ve.color=0,b()},te.fixInsert=function t(j,te){for(n(j,te);te!==j.root&&1===te.parent.color;)if(te.parent===te.parent.parent.left){const he=te.parent.parent.right;1===he.color?(te.parent.color=0,he.color=0,te.parent.parent.color=1,te=te.parent.parent):(te===te.parent.right&&p(j,te=te.parent),te.parent.color=0,te.parent.parent.color=1,h(j,te.parent.parent))}else{const he=te.parent.parent.left;1===he.color?(te.parent.color=0,he.color=0,te.parent.parent.color=1,te=te.parent.parent):(te===te.parent.left&&h(j,te=te.parent),te.parent.color=0,te.parent.parent.color=1,p(j,te.parent.parent))}j.root.color=0},te.updateTreeMetadata=i,te.recomputeTreeMetadata=n})),define(Ce[242],ie([1,0,19,139]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.PrefixSumIndexOfResult=te.ConstantTimePrefixSumComputer=te.PrefixSumComputer=void 0;te.PrefixSumComputer=class D{constructor(j){this.values=j,this.prefixSum=new Uint32Array(j.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(j,te){j=(0,ve.toUint32)(j);const he=this.values,Ce=this.prefixSum,ye=te.length;return 0!==ye&&(this.values=new Uint32Array(he.length+ye),this.values.set(he.subarray(0,j),0),this.values.set(he.subarray(j),j+ye),this.values.set(te,j),j-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=j-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(Ce.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(j,te){return j=(0,ve.toUint32)(j),te=(0,ve.toUint32)(te),this.values[j]!==te&&(this.values[j]=te,j-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=j-1),!0)}removeValues(j,te){j=(0,ve.toUint32)(j),te=(0,ve.toUint32)(te);const he=this.values,Ce=this.prefixSum;if(j>=he.length)return!1;const ye=he.length-j;return te>=ye&&(te=ye),0!==te&&(this.values=new Uint32Array(he.length-te),this.values.set(he.subarray(0,j),0),this.values.set(he.subarray(j+te),j),this.prefixSum=new Uint32Array(this.values.length),j-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=j-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(Ce.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(j){return j<0?0:(j=(0,ve.toUint32)(j),this._getPrefixSum(j))}_getPrefixSum(j){if(j<=this.prefixSumValidIndex[0])return this.prefixSum[j];let te=this.prefixSumValidIndex[0]+1;0===te&&(this.prefixSum[0]=this.values[0],te++),j>=this.values.length&&(j=this.values.length-1);for(let he=te;he<=j;he++)this.prefixSum[he]=this.prefixSum[he-1]+this.values[he];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],j),this.prefixSum[j]}getIndexOf(j){j=Math.floor(j),this.getTotalSum();let te=0,he=this.values.length-1,ve=0,Ce=0,ye=0;for(;te<=he;)if(ve=te+(he-te)/2|0,Ce=this.prefixSum[ve],ye=Ce-this.values[ve],j<ye)he=ve-1;else{if(!(j>=Ce))break;te=ve+1}return new w(ve,j-ye)}};te.ConstantTimePrefixSumComputer=class I{constructor(j){this._values=j,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(j){return this._ensureValid(),0===j?0:this._prefixSum[j-1]}getIndexOf(j){this._ensureValid();const te=this._indexBySum[j],he=te>0?this._prefixSum[te-1]:0;return new w(te,j-he)}removeValues(j,te){this._values.splice(j,te),this._invalidate(j)}insertValues(j,te){this._values=(0,he.arrayInsert)(this._values,j,te),this._invalidate(j)}_invalidate(j){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,j-1)}_ensureValid(){if(!this._isValid){for(let j=this._validEndIndex+1,te=this._values.length;j<te;j++){const te=this._values[j],he=j>0?this._prefixSum[j-1]:0;this._prefixSum[j]=he+te;for(let ve=0;ve<te;ve++)this._indexBySum[he+ve]=j}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(j,te){this._values[j]!==te&&(this._values[j]=te,this._invalidate(j))}};class w{constructor(j,te){this.index=j,this.remainder=te,this._prefixSumIndexOfResultBrand=void 0,this.index=j,this.remainder=te}}te.PrefixSumIndexOfResult=w})),define(Ce[419],ie([1,0,8,11,242]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.MirrorTextModel=void 0;te.MirrorTextModel=class I{constructor(j,te,he,ve){this._uri=j,this._lines=te,this._eol=he,this._versionId=ve,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(j){j.eol&&j.eol!==this._eol&&(this._eol=j.eol,this._lineStarts=null);const te=j.changes;for(const j of te)this._acceptDeleteRange(j.range),this._acceptInsertText(new ve.Position(j.range.startLineNumber,j.range.startColumn),j.text);this._versionId=j.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const j=this._eol.length,te=this._lines.length,he=new Uint32Array(te);for(let ve=0;ve<te;ve++)he[ve]=this._lines[ve].length+j;this._lineStarts=new Ce.PrefixSumComputer(he)}}_setLineText(j,te){this._lines[j]=te,this._lineStarts&&this._lineStarts.setValue(j,this._lines[j].length+this._eol.length)}_acceptDeleteRange(j){if(j.startLineNumber!==j.endLineNumber)this._setLineText(j.startLineNumber-1,this._lines[j.startLineNumber-1].substring(0,j.startColumn-1)+this._lines[j.endLineNumber-1].substring(j.endColumn-1)),this._lines.splice(j.startLineNumber,j.endLineNumber-j.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(j.startLineNumber,j.endLineNumber-j.startLineNumber);else{if(j.startColumn===j.endColumn)return;this._setLineText(j.startLineNumber-1,this._lines[j.startLineNumber-1].substring(0,j.startColumn-1)+this._lines[j.startLineNumber-1].substring(j.endColumn-1))}}_acceptInsertText(j,te){if(0===te.length)return;const ve=(0,he.splitLines)(te);if(1===ve.length)return void this._setLineText(j.lineNumber-1,this._lines[j.lineNumber-1].substring(0,j.column-1)+ve[0]+this._lines[j.lineNumber-1].substring(j.column-1));ve[ve.length-1]+=this._lines[j.lineNumber-1].substring(j.column-1),this._setLineText(j.lineNumber-1,this._lines[j.lineNumber-1].substring(0,j.column-1)+ve[0]);const Ce=new Uint32Array(ve.length-1);for(let te=1;te<ve.length;te++)this._lines.splice(j.lineNumber+te-1,0,ve[te]),Ce[te-1]=ve[te].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(j.lineNumber,Ce)}}})),define(Ce[420],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.TextModelPart=void 0;te.TextModelPart=class y{constructor(){this._isDisposed=!1}dispose(){this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}})),define(Ce[150],ie([1,0,8,118,11,3,49]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.Searcher=te.isValidMatch=te.TextModelSearch=te.createFindMatch=te.isMultilineRegexSource=te.SearchParams=void 0;function h(j){if(!j||0===j.length)return!1;for(let te=0,he=j.length;te<he;te++)if(92===j.charCodeAt(te)){if(te++,te>=he)break;const ve=j.charCodeAt(te);if(110===ve||114===ve||87===ve)return!0}return!1}function g(j,te,he){if(!he)return new Ee.FindMatch(j,null);const ve=[];for(let j=0,he=te.length;j<he;j++)ve[j]=te[j];return new Ee.FindMatch(j,ve)}te.SearchParams=class p{constructor(j,te,he,ve){this.searchString=j,this.isRegex=te,this.matchCase=he,this.wordSeparators=ve}parseSearchRequest(){if(""===this.searchString)return null;let j;j=this.isRegex?h(this.searchString):this.searchString.indexOf("\n")>=0;let te=null;try{te=he.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:j,global:!0,unicode:!0})}catch{return null}if(!te)return null;let Ce=!this.isRegex&&!j;return Ce&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(Ce=this.matchCase),new Ee.SearchData(te,this.wordSeparators?(0,ve.getMapForWordSeparators)(this.wordSeparators):null,Ce?this.searchString:null)}},te.isMultilineRegexSource=h,te.createFindMatch=g;class t{constructor(j){const te=[];let he=0;for(let ve=0,Ce=j.length;ve<Ce;ve++)10===j.charCodeAt(ve)&&(te[he++]=ve);this._lineFeedsOffsets=te}findLineFeedCountBeforeOffset(j){const te=this._lineFeedsOffsets;let he=0,ve=te.length-1;if(-1===ve||j<=te[0])return 0;for(;he<ve;){const Ce=he+((ve-he)/2>>0);te[Ce]>=j?ve=Ce-1:te[Ce+1]>=j?(he=Ce,ve=Ce):he=Ce+1}return he+1}}function c(j,te,he,ve,Ce){return function n(j,te,he,ve,Ce){if(0===ve)return!0;const ye=te.charCodeAt(ve-1);if(0!==j.get(ye)||13===ye||10===ye)return!0;if(Ce>0){const he=te.charCodeAt(ve);if(0!==j.get(he))return!0}return!1}(j,te,0,ve,Ce)&&function l(j,te,he,ve,Ce){if(ve+Ce===he)return!0;const ye=te.charCodeAt(ve+Ce);if(0!==j.get(ye)||13===ye||10===ye)return!0;if(Ce>0){const he=te.charCodeAt(ve+Ce-1);if(0!==j.get(he))return!0}return!1}(j,te,he,ve,Ce)}te.TextModelSearch=class i{static findMatches(j,te,he,ve,Ce){const ye=te.parseSearchRequest();return ye?ye.regex.multiline?this._doFindMatchesMultiline(j,he,new r(ye.wordSeparators,ye.regex),ve,Ce):this._doFindMatchesLineByLine(j,he,ye,ve,Ce):[]}static _getMultilineMatchRange(j,te,he,ve,Ce,Ee){let Ie,Ne,Oe=0;if(ve?(Oe=ve.findLineFeedCountBeforeOffset(Ce),Ie=te+Ce+Oe):Ie=te+Ce,ve){const j=ve.findLineFeedCountBeforeOffset(Ce+Ee.length)-Oe;Ne=Ie+Ee.length+j}else Ne=Ie+Ee.length;const Ke=j.getPositionAt(Ie),je=j.getPositionAt(Ne);return new ye.Range(Ke.lineNumber,Ke.column,je.lineNumber,je.column)}static _doFindMatchesMultiline(j,te,he,ve,Ce){const ye=j.getOffsetAt(te.getStartPosition()),Ee=j.getValueInRange(te,1),Ie="\r\n"===j.getEOL()?new t(Ee):null,Ne=[];let Oe,Ke=0;for(he.reset(0);Oe=he.next(Ee);)if(Ne[Ke++]=g(this._getMultilineMatchRange(j,ye,Ee,Ie,Oe.index,Oe[0]),Oe,ve),Ke>=Ce)return Ne;return Ne}static _doFindMatchesLineByLine(j,te,he,ve,Ce){const ye=[];let Ee=0;if(te.startLineNumber===te.endLineNumber){const Ie=j.getLineContent(te.startLineNumber).substring(te.startColumn-1,te.endColumn-1);return Ee=this._findMatchesInLine(he,Ie,te.startLineNumber,te.startColumn-1,Ee,ye,ve,Ce),ye}const Ie=j.getLineContent(te.startLineNumber).substring(te.startColumn-1);Ee=this._findMatchesInLine(he,Ie,te.startLineNumber,te.startColumn-1,Ee,ye,ve,Ce);for(let Ie=te.startLineNumber+1;Ie<te.endLineNumber&&Ee<Ce;Ie++)Ee=this._findMatchesInLine(he,j.getLineContent(Ie),Ie,0,Ee,ye,ve,Ce);if(Ee<Ce){const Ie=j.getLineContent(te.endLineNumber).substring(0,te.endColumn-1);Ee=this._findMatchesInLine(he,Ie,te.endLineNumber,0,Ee,ye,ve,Ce)}return ye}static _findMatchesInLine(j,te,he,ve,Ce,Ie,Ne,Oe){const Ke=j.wordSeparators;if(!Ne&&j.simpleSearch){const Ne=j.simpleSearch,je=Ne.length,Ze=te.length;let Ye=-je;for(;-1!==(Ye=te.indexOf(Ne,Ye+je));)if((!Ke||c(Ke,te,Ze,Ye,je))&&(Ie[Ce++]=new Ee.FindMatch(new ye.Range(he,Ye+1+ve,he,Ye+1+je+ve),null),Ce>=Oe))return Ce;return Ce}const je=new r(j.wordSeparators,j.regex);let Ze;je.reset(0);do{if(Ze=je.next(te),Ze&&(Ie[Ce++]=g(new ye.Range(he,Ze.index+1+ve,he,Ze.index+1+Ze[0].length+ve),Ze,Ne),Ce>=Oe))return Ce}while(Ze);return Ce}static findNextMatch(j,te,he,ve){const Ce=te.parseSearchRequest();if(!Ce)return null;const ye=new r(Ce.wordSeparators,Ce.regex);return Ce.regex.multiline?this._doFindNextMatchMultiline(j,he,ye,ve):this._doFindNextMatchLineByLine(j,he,ye,ve)}static _doFindNextMatchMultiline(j,te,he,ve){const Ee=new Ce.Position(te.lineNumber,1),Ie=j.getOffsetAt(Ee),Ne=j.getLineCount(),Oe=j.getValueInRange(new ye.Range(Ee.lineNumber,Ee.column,Ne,j.getLineMaxColumn(Ne)),1),Ke="\r\n"===j.getEOL()?new t(Oe):null;he.reset(te.column-1);let je=he.next(Oe);return je?g(this._getMultilineMatchRange(j,Ie,Oe,Ke,je.index,je[0]),je,ve):1!==te.lineNumber||1!==te.column?this._doFindNextMatchMultiline(j,new Ce.Position(1,1),he,ve):null}static _doFindNextMatchLineByLine(j,te,he,ve){const Ce=j.getLineCount(),ye=te.lineNumber,Ee=j.getLineContent(ye),Ie=this._findFirstMatchInLine(he,Ee,ye,te.column,ve);if(Ie)return Ie;for(let te=1;te<=Ce;te++){const Ee=(ye+te-1)%Ce,Ie=j.getLineContent(Ee+1),Ne=this._findFirstMatchInLine(he,Ie,Ee+1,1,ve);if(Ne)return Ne}return null}static _findFirstMatchInLine(j,te,he,ve,Ce){j.reset(ve-1);const Ee=j.next(te);return Ee?g(new ye.Range(he,Ee.index+1,he,Ee.index+1+Ee[0].length),Ee,Ce):null}static findPreviousMatch(j,te,he,ve){const Ce=te.parseSearchRequest();if(!Ce)return null;const ye=new r(Ce.wordSeparators,Ce.regex);return Ce.regex.multiline?this._doFindPreviousMatchMultiline(j,he,ye,ve):this._doFindPreviousMatchLineByLine(j,he,ye,ve)}static _doFindPreviousMatchMultiline(j,te,he,ve){const Ee=this._doFindMatchesMultiline(j,new ye.Range(1,1,te.lineNumber,te.column),he,ve,9990);if(Ee.length>0)return Ee[Ee.length-1];const Ie=j.getLineCount();return te.lineNumber!==Ie||te.column!==j.getLineMaxColumn(Ie)?this._doFindPreviousMatchMultiline(j,new Ce.Position(Ie,j.getLineMaxColumn(Ie)),he,ve):null}static _doFindPreviousMatchLineByLine(j,te,he,ve){const Ce=j.getLineCount(),ye=te.lineNumber,Ee=j.getLineContent(ye).substring(0,te.column-1),Ie=this._findLastMatchInLine(he,Ee,ye,ve);if(Ie)return Ie;for(let te=1;te<=Ce;te++){const Ee=(Ce+ye-te-1)%Ce,Ie=j.getLineContent(Ee+1),Ne=this._findLastMatchInLine(he,Ie,Ee+1,ve);if(Ne)return Ne}return null}static _findLastMatchInLine(j,te,he,ve){let Ce,Ee=null;for(j.reset(0);Ce=j.next(te);)Ee=g(new ye.Range(he,Ce.index+1,he,Ce.index+1+Ce[0].length),Ce,ve);return Ee}},te.isValidMatch=c;class r{constructor(j,te){this._wordSeparators=j,this._searchRegex=te,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(j){this._searchRegex.lastIndex=j,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(j){const te=j.length;let ve;do{if(this._prevMatchStartIndex+this._prevMatchLength===te||(ve=this._searchRegex.exec(j),!ve))return null;const Ce=ve.index,ye=ve[0].length;if(Ce===this._prevMatchStartIndex&&ye===this._prevMatchLength){if(0===ye){he.getNextCodePoint(j,te,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=Ce,this._prevMatchLength=ye,!this._wordSeparators||c(this._wordSeparators,j,te,Ce,ye))return ve}while(ve);return null}}te.Searcher=r})),define(Ce[243],ie([1,0,3,150,8,20]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.UnicodeTextModelHighlighter=void 0;te.UnicodeTextModelHighlighter=class w{static computeUnicodeHighlights(j,te,Ee){const Ie=Ee?Ee.startLineNumber:1,Ne=Ee?Ee.endLineNumber:j.getLineCount(),Oe=new p(te),Ke=Oe.getCandidateCodePoints();let je;je="allNonBasicAscii"===Ke?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(`${function b(j,te){return`[${Ce.escapeRegExpCharacters(j.map((j=>String.fromCodePoint(j))).join(""))}]`}(Array.from(Ke))}`,"g");const Ze=new ve.Searcher(null,je),Ye=[];let et,nt=!1,rt=0,at=0,ct=0;e:for(let te=Ie,ve=Ne;te<=ve;te++){const ve=j.getLineContent(te),Ee=ve.length;Ze.reset(0);do{if(et=Ze.next(ve),et){let j=et.index,Ie=et.index+et[0].length;if(j>0){const te=ve.charCodeAt(j-1);Ce.isHighSurrogate(te)&&j--}if(Ie+1<Ee){const j=ve.charCodeAt(Ie-1);Ce.isHighSurrogate(j)&&Ie++}const Ne=ve.substring(j,Ie),Ke=Oe.shouldHighlightNonBasicASCII(Ne);if(0!==Ke){3===Ke?rt++:2===Ke?at++:1===Ke?ct++:(0,ye.assertNever)(Ke);const ve=1e3;if(Ye.length>=ve){nt=!0;break e}Ye.push(new he.Range(te,j+1,te,Ie+1))}}}while(et)}return{ranges:Ye,hasMore:nt,ambiguousCharacterCount:rt,invisibleCharacterCount:at,nonBasicAsciiCharacterCount:ct}}static computeUnicodeHighlightReason(j,te){const he=new p(te);switch(he.shouldHighlightNonBasicASCII(j)){case 0:return null;case 2:return{kind:1};case 3:{const ve=j.codePointAt(0),ye=he.ambiguousCharacters.getPrimaryConfusable(ve),Ee=Ce.AmbiguousCharacters.getLocales().filter((j=>!Ce.AmbiguousCharacters.getInstance(new Set([...te.allowedLocales,j])).isAmbiguous(ve)));return{kind:0,confusableWith:String.fromCodePoint(ye),notAmbiguousInLocales:Ee}}case 1:return{kind:2}}}};class p{constructor(j){this.options=j,this.allowedCodePoints=new Set(j.allowedCodePoints),this.ambiguousCharacters=Ce.AmbiguousCharacters.getInstance(new Set(j.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const j=new Set;if(this.options.invisibleCharacters)for(const te of Ce.InvisibleCharacters.codePoints)j.add(te);if(this.options.ambiguousCharacters)for(const te of this.ambiguousCharacters.getConfusableCodePoints())j.add(te);for(const te of this.allowedCodePoints)j.delete(te);return j}shouldHighlightNonBasicASCII(j){const te=j.codePointAt(0);return this.allowedCodePoints.has(te)?0:this.options.nonBasicASCII?1:this.options.invisibleCharacters&&" "!==j&&"\n"!==j&&"\t"!==j&&Ce.InvisibleCharacters.isInvisibleCharacter(te)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(te)?3:0}}})),define(Ce[244],ie([1,0,11,3,49,418,150]),(function(j,te,he,ve,Ce,ye,Ee){function b(j){let te;return te=j[j.length-1]<65536?new Uint16Array(j.length):new Uint32Array(j.length),te.set(j,0),te}Object.defineProperty(te,"__esModule",{value:!0}),te.PieceTreeBase=te.StringBuffer=te.Piece=te.createLineStarts=te.createLineStartsFast=te.LineStarts=te.createUintArray=te.AverageBufferSize=void 0,te.AverageBufferSize=65535,te.createUintArray=b;class p{constructor(j,te,he,ve,Ce){this.lineStarts=j,this.cr=te,this.lf=he,this.crlf=ve,this.isBasicASCII=Ce}}function h(j,te=!0){const he=[0];let ve=1;for(let te=0,Ce=j.length;te<Ce;te++){const ye=j.charCodeAt(te);13===ye?te+1<Ce&&10===j.charCodeAt(te+1)?(he[ve++]=te+2,te++):he[ve++]=te+1:10===ye&&(he[ve++]=te+1)}return te?b(he):he}te.LineStarts=p,te.createLineStartsFast=h,te.createLineStarts=function g(j,te){j.length=0,j[0]=0;let he=1,ve=0,Ce=0,ye=0,Ee=!0;for(let Ie=0,Ne=te.length;Ie<Ne;Ie++){const Oe=te.charCodeAt(Ie);13===Oe?Ie+1<Ne&&10===te.charCodeAt(Ie+1)?(ye++,j[he++]=Ie+2,Ie++):(ve++,j[he++]=Ie+1):10===Oe?(Ce++,j[he++]=Ie+1):Ee&&9!==Oe&&(Oe<32||Oe>126)&&(Ee=!1)}const Ie=new p(b(j),ve,Ce,ye,Ee);return j.length=0,Ie};class t{constructor(j,te,he,ve,Ce){this.bufferIndex=j,this.start=te,this.end=he,this.lineFeedCnt=ve,this.length=Ce}}te.Piece=t;class i{constructor(j,te){this.buffer=j,this.lineStarts=te}}te.StringBuffer=i;class n{constructor(j,te){this._pieces=[],this._tree=j,this._BOM=te,this._index=0,j.root!==ye.SENTINEL&&j.iterate(j.root,(j=>(j!==ye.SENTINEL&&this._pieces.push(j.piece),!0)))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class l{constructor(j){this._limit=j,this._cache=[]}get(j){for(let te=this._cache.length-1;te>=0;te--){const he=this._cache[te];if(he.nodeStartOffset<=j&&he.nodeStartOffset+he.node.piece.length>=j)return he}return null}get2(j){for(let te=this._cache.length-1;te>=0;te--){const he=this._cache[te];if(he.nodeStartLineNumber&&he.nodeStartLineNumber<j&&he.nodeStartLineNumber+he.node.piece.lineFeedCnt>=j)return he}return null}set(j){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(j)}validate(j){let te=!1;const he=this._cache;for(let ve=0;ve<he.length;ve++){const Ce=he[ve];(null===Ce.node.parent||Ce.nodeStartOffset>=j)&&(he[ve]=null,te=!0)}if(te){const j=[];for(const te of he)null!==te&&j.push(te);this._cache=j}}}te.PieceTreeBase=class c{constructor(j,te,he){this.create(j,te,he)}create(j,te,he){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=ye.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=te,this._EOLLength=te.length,this._EOLNormalized=he;let ve=null;for(let te=0,he=j.length;te<he;te++)if(j[te].buffer.length>0){j[te].lineStarts||(j[te].lineStarts=h(j[te].buffer));const he=new t(te+1,{line:0,column:0},{line:j[te].lineStarts.length-1,column:j[te].buffer.length-j[te].lineStarts[j[te].lineStarts.length-1]},j[te].lineStarts.length-1,j[te].buffer.length);this._buffers.push(j[te]),ve=this.rbInsertRight(ve,he)}this._searchCache=new l(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(j){const he=te.AverageBufferSize,ve=he-Math.floor(he/3),Ce=2*ve;let ye="",Ee=0;const Ie=[];if(this.iterate(this.root,(te=>{const he=this.getNodeContent(te),Ne=he.length;if(Ee<=ve||Ee+Ne<Ce)return ye+=he,Ee+=Ne,!0;const Oe=ye.replace(/\r\n|\r|\n/g,j);return Ie.push(new i(Oe,h(Oe))),ye=he,Ee=Ne,!0})),Ee>0){const te=ye.replace(/\r\n|\r|\n/g,j);Ie.push(new i(te,h(te)))}this.create(Ie,j,!0)}getEOL(){return this._EOL}setEOL(j){this._EOL=j,this._EOLLength=this._EOL.length,this.normalizeEOL(j)}createSnapshot(j){return new n(this,j)}getOffsetAt(j,te){let he=0,ve=this.root;for(;ve!==ye.SENTINEL;)if(ve.left!==ye.SENTINEL&&ve.lf_left+1>=j)ve=ve.left;else{if(ve.lf_left+ve.piece.lineFeedCnt+1>=j)return he+=ve.size_left,he+(this.getAccumulatedValue(ve,j-ve.lf_left-2)+te-1);j-=ve.lf_left+ve.piece.lineFeedCnt,he+=ve.size_left+ve.piece.length,ve=ve.right}return he}getPositionAt(j){j=Math.floor(j),j=Math.max(0,j);let te=this.root,ve=0;const Ce=j;for(;te!==ye.SENTINEL;)if(0!==te.size_left&&te.size_left>=j)te=te.left;else{if(te.size_left+te.piece.length>=j){const ye=this.getIndexOf(te,j-te.size_left);if(ve+=te.lf_left+ye.index,0===ye.index){const j=Ce-this.getOffsetAt(ve+1,1);return new he.Position(ve+1,j+1)}return new he.Position(ve+1,ye.remainder+1)}if(j-=te.size_left+te.piece.length,ve+=te.lf_left+te.piece.lineFeedCnt,te.right===ye.SENTINEL){const te=Ce-j-this.getOffsetAt(ve+1,1);return new he.Position(ve+1,te+1)}te=te.right}return new he.Position(1,1)}getValueInRange(j,te){if(j.startLineNumber===j.endLineNumber&&j.startColumn===j.endColumn)return"";const he=this.nodeAt2(j.startLineNumber,j.startColumn),ve=this.nodeAt2(j.endLineNumber,j.endColumn),Ce=this.getValueInRange2(he,ve);return te?te===this._EOL&&this._EOLNormalized&&te===this.getEOL()&&this._EOLNormalized?Ce:Ce.replace(/\r\n|\r|\n/g,te):Ce}getValueInRange2(j,te){if(j.node===te.node){const he=j.node,ve=this._buffers[he.piece.bufferIndex].buffer,Ce=this.offsetInBuffer(he.piece.bufferIndex,he.piece.start);return ve.substring(Ce+j.remainder,Ce+te.remainder)}let he=j.node;const ve=this._buffers[he.piece.bufferIndex].buffer,Ce=this.offsetInBuffer(he.piece.bufferIndex,he.piece.start);let Ee=ve.substring(Ce+j.remainder,Ce+he.piece.length);for(he=he.next();he!==ye.SENTINEL;){const j=this._buffers[he.piece.bufferIndex].buffer,ve=this.offsetInBuffer(he.piece.bufferIndex,he.piece.start);if(he===te.node){Ee+=j.substring(ve,ve+te.remainder);break}Ee+=j.substr(ve,he.piece.length),he=he.next()}return Ee}getLinesContent(){const j=[];let te=0,he="",ve=!1;return this.iterate(this.root,(Ce=>{if(Ce===ye.SENTINEL)return!0;const Ee=Ce.piece;let Ie=Ee.length;if(0===Ie)return!0;const Ne=this._buffers[Ee.bufferIndex].buffer,Oe=this._buffers[Ee.bufferIndex].lineStarts,Ke=Ee.start.line,je=Ee.end.line;let Ze=Oe[Ke]+Ee.start.column;if(ve&&(10===Ne.charCodeAt(Ze)&&(Ze++,Ie--),j[te++]=he,he="",ve=!1,0===Ie))return!0;if(Ke===je)return this._EOLNormalized||13!==Ne.charCodeAt(Ze+Ie-1)?he+=Ne.substr(Ze,Ie):(ve=!0,he+=Ne.substr(Ze,Ie-1)),!0;he+=this._EOLNormalized?Ne.substring(Ze,Math.max(Ze,Oe[Ke+1]-this._EOLLength)):Ne.substring(Ze,Oe[Ke+1]).replace(/(\r\n|\r|\n)$/,""),j[te++]=he;for(let ve=Ke+1;ve<je;ve++)he=this._EOLNormalized?Ne.substring(Oe[ve],Oe[ve+1]-this._EOLLength):Ne.substring(Oe[ve],Oe[ve+1]).replace(/(\r\n|\r|\n)$/,""),j[te++]=he;return this._EOLNormalized||13!==Ne.charCodeAt(Oe[je]+Ee.end.column-1)?he=Ne.substr(Oe[je],Ee.end.column):(ve=!0,0===Ee.end.column?te--:he=Ne.substr(Oe[je],Ee.end.column-1)),!0})),ve&&(j[te++]=he,he=""),j[te++]=he,j}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(j){return this._lastVisitedLine.lineNumber===j||(this._lastVisitedLine.lineNumber=j,j===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(j):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(j,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(j).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(j){if(j.remainder===j.node.piece.length){const te=j.node.next();if(!te)return 0;const he=this._buffers[te.piece.bufferIndex],ve=this.offsetInBuffer(te.piece.bufferIndex,te.piece.start);return he.buffer.charCodeAt(ve)}{const te=this._buffers[j.node.piece.bufferIndex],he=this.offsetInBuffer(j.node.piece.bufferIndex,j.node.piece.start)+j.remainder;return te.buffer.charCodeAt(he)}}getLineCharCode(j,te){const he=this.nodeAt2(j,te+1);return this._getCharCode(he)}getLineLength(j){if(j===this.getLineCount()){const te=this.getOffsetAt(j,1);return this.getLength()-te}return this.getOffsetAt(j+1,1)-this.getOffsetAt(j,1)-this._EOLLength}findMatchesInNode(j,te,he,Ce,ye,Ie,Ne,Oe,Ke,je,Ze){const Ye=this._buffers[j.piece.bufferIndex],et=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start),nt=this.offsetInBuffer(j.piece.bufferIndex,ye),rt=this.offsetInBuffer(j.piece.bufferIndex,Ie);let at;const ct={line:0,column:0};let ht,mt;te._wordSeparators?(ht=Ye.buffer.substring(nt,rt),mt=j=>j+nt,te.reset(0)):(ht=Ye.buffer,mt=j=>j,te.reset(nt));do{if(at=te.next(ht),at){if(mt(at.index)>=rt)return je;this.positionInBuffer(j,mt(at.index)-et,ct);const te=this.getLineFeedCnt(j.piece.bufferIndex,ye,ct),Ie=ct.line===ye.line?ct.column-ye.column+Ce:ct.column+1,Ne=Ie+at[0].length;if(Ze[je++]=(0,Ee.createFindMatch)(new ve.Range(he+te,Ie,he+te,Ne),at,Oe),mt(at.index)+at[0].length>=rt||je>=Ke)return je}}while(at);return je}findMatchesLineByLine(j,te,he,ve){const Ce=[];let ye=0;const Ie=new Ee.Searcher(te.wordSeparators,te.regex);let Ne=this.nodeAt2(j.startLineNumber,j.startColumn);if(null===Ne)return[];const Oe=this.nodeAt2(j.endLineNumber,j.endColumn);if(null===Oe)return[];let Ke=this.positionInBuffer(Ne.node,Ne.remainder);const je=this.positionInBuffer(Oe.node,Oe.remainder);if(Ne.node===Oe.node)return this.findMatchesInNode(Ne.node,Ie,j.startLineNumber,j.startColumn,Ke,je,te,he,ve,ye,Ce),Ce;let Ze=j.startLineNumber,Ye=Ne.node;for(;Ye!==Oe.node;){const Ee=this.getLineFeedCnt(Ye.piece.bufferIndex,Ke,Ye.piece.end);if(Ee>=1){const Ne=this._buffers[Ye.piece.bufferIndex].lineStarts,Oe=this.offsetInBuffer(Ye.piece.bufferIndex,Ye.piece.start),je=Ne[Ke.line+Ee],et=Ze===j.startLineNumber?j.startColumn:1;if(ye=this.findMatchesInNode(Ye,Ie,Ze,et,Ke,this.positionInBuffer(Ye,je-Oe),te,he,ve,ye,Ce),ye>=ve)return Ce;Ze+=Ee}const Oe=Ze===j.startLineNumber?j.startColumn-1:0;if(Ze===j.endLineNumber){const Ee=this.getLineContent(Ze).substring(Oe,j.endColumn-1);return ye=this._findMatchesInLine(te,Ie,Ee,j.endLineNumber,Oe,ye,Ce,he,ve),Ce}if(ye=this._findMatchesInLine(te,Ie,this.getLineContent(Ze).substr(Oe),Ze,Oe,ye,Ce,he,ve),ye>=ve)return Ce;Ze++,Ne=this.nodeAt2(Ze,1),Ye=Ne.node,Ke=this.positionInBuffer(Ne.node,Ne.remainder)}if(Ze===j.endLineNumber){const Ee=Ze===j.startLineNumber?j.startColumn-1:0,Ne=this.getLineContent(Ze).substring(Ee,j.endColumn-1);return ye=this._findMatchesInLine(te,Ie,Ne,j.endLineNumber,Ee,ye,Ce,he,ve),Ce}const et=Ze===j.startLineNumber?j.startColumn:1;return ye=this.findMatchesInNode(Oe.node,Ie,Ze,et,Ke,je,te,he,ve,ye,Ce),Ce}_findMatchesInLine(j,te,he,ye,Ie,Ne,Oe,Ke,je){const Ze=j.wordSeparators;if(!Ke&&j.simpleSearch){const te=j.simpleSearch,Ke=te.length,Ye=he.length;let et=-Ke;for(;-1!==(et=he.indexOf(te,et+Ke));)if((!Ze||(0,Ee.isValidMatch)(Ze,he,Ye,et,Ke))&&(Oe[Ne++]=new Ce.FindMatch(new ve.Range(ye,et+1+Ie,ye,et+1+Ke+Ie),null),Ne>=je))return Ne;return Ne}let Ye;te.reset(0);do{if(Ye=te.next(he),Ye&&(Oe[Ne++]=(0,Ee.createFindMatch)(new ve.Range(ye,Ye.index+1+Ie,ye,Ye.index+1+Ye[0].length+Ie),Ye,Ke),Ne>=je))return Ne}while(Ye);return Ne}insert(j,he,ve=!1){if(this._EOLNormalized=this._EOLNormalized&&ve,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==ye.SENTINEL){const{node:ve,remainder:Ce,nodeStartOffset:ye}=this.nodeAt(j),Ee=ve.piece,Ie=Ee.bufferIndex,Ne=this.positionInBuffer(ve,Ce);if(0===ve.piece.bufferIndex&&Ee.end.line===this._lastChangeBufferPos.line&&Ee.end.column===this._lastChangeBufferPos.column&&ye+Ee.length===j&&he.length<te.AverageBufferSize)return this.appendToNode(ve,he),void this.computeBufferMetadata();if(ye===j)this.insertContentToNodeLeft(he,ve),this._searchCache.validate(j);else if(ye+ve.piece.length>j){const j=[];let te=new t(Ee.bufferIndex,Ne,Ee.end,this.getLineFeedCnt(Ee.bufferIndex,Ne,Ee.end),this.offsetInBuffer(Ie,Ee.end)-this.offsetInBuffer(Ie,Ne));if(this.shouldCheckCRLF()&&this.endWithCR(he)&&10===this.nodeCharCodeAt(ve,Ce)){const j={line:te.start.line+1,column:0};te=new t(te.bufferIndex,j,te.end,this.getLineFeedCnt(te.bufferIndex,j,te.end),te.length-1),he+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(he))if(13===this.nodeCharCodeAt(ve,Ce-1)){const te=this.positionInBuffer(ve,Ce-1);this.deleteNodeTail(ve,te),he="\r"+he,0===ve.piece.length&&j.push(ve)}else this.deleteNodeTail(ve,Ne);else this.deleteNodeTail(ve,Ne);const ye=this.createNewPieces(he);te.length>0&&this.rbInsertRight(ve,te);let Oe=ve;for(let j=0;j<ye.length;j++)Oe=this.rbInsertRight(Oe,ye[j]);this.deleteNodes(j)}else this.insertContentToNodeRight(he,ve)}else{const j=this.createNewPieces(he);let te=this.rbInsertLeft(null,j[0]);for(let he=1;he<j.length;he++)te=this.rbInsertRight(te,j[he])}this.computeBufferMetadata()}delete(j,te){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",te<=0||this.root===ye.SENTINEL)return;const he=this.nodeAt(j),ve=this.nodeAt(j+te),Ce=he.node,Ee=ve.node;if(Ce===Ee){const Ee=this.positionInBuffer(Ce,he.remainder),Ie=this.positionInBuffer(Ce,ve.remainder);if(he.nodeStartOffset===j){if(te===Ce.piece.length){const j=Ce.next();return(0,ye.rbDelete)(this,Ce),this.validateCRLFWithPrevNode(j),void this.computeBufferMetadata()}return this.deleteNodeHead(Ce,Ie),this._searchCache.validate(j),this.validateCRLFWithPrevNode(Ce),void this.computeBufferMetadata()}return he.nodeStartOffset+Ce.piece.length===j+te?(this.deleteNodeTail(Ce,Ee),this.validateCRLFWithNextNode(Ce),void this.computeBufferMetadata()):(this.shrinkNode(Ce,Ee,Ie),void this.computeBufferMetadata())}const Ie=[],Ne=this.positionInBuffer(Ce,he.remainder);this.deleteNodeTail(Ce,Ne),this._searchCache.validate(j),0===Ce.piece.length&&Ie.push(Ce);const Oe=this.positionInBuffer(Ee,ve.remainder);this.deleteNodeHead(Ee,Oe),0===Ee.piece.length&&Ie.push(Ee);for(let j=Ce.next();j!==ye.SENTINEL&&j!==Ee;j=j.next())Ie.push(j);const Ke=0===Ce.piece.length?Ce.prev():Ce;this.deleteNodes(Ie),this.validateCRLFWithNextNode(Ke),this.computeBufferMetadata()}insertContentToNodeLeft(j,te){const he=[];if(this.shouldCheckCRLF()&&this.endWithCR(j)&&this.startWithLF(te)){const ve=te.piece,Ce={line:ve.start.line+1,column:0},Ee=new t(ve.bufferIndex,Ce,ve.end,this.getLineFeedCnt(ve.bufferIndex,Ce,ve.end),ve.length-1);te.piece=Ee,j+="\n",(0,ye.updateTreeMetadata)(this,te,-1,-1),0===te.piece.length&&he.push(te)}const ve=this.createNewPieces(j);let Ce=this.rbInsertLeft(te,ve[ve.length-1]);for(let j=ve.length-2;j>=0;j--)Ce=this.rbInsertLeft(Ce,ve[j]);this.validateCRLFWithPrevNode(Ce),this.deleteNodes(he)}insertContentToNodeRight(j,te){this.adjustCarriageReturnFromNext(j,te)&&(j+="\n");const he=this.createNewPieces(j),ve=this.rbInsertRight(te,he[0]);let Ce=ve;for(let j=1;j<he.length;j++)Ce=this.rbInsertRight(Ce,he[j]);this.validateCRLFWithPrevNode(ve)}positionInBuffer(j,te,he){const ve=j.piece,Ce=j.piece.bufferIndex,ye=this._buffers[Ce].lineStarts,Ee=ye[ve.start.line]+ve.start.column+te;let Ie=ve.start.line,Ne=ve.end.line,Oe=0,Ke=0,je=0;for(;Ie<=Ne&&(Oe=Ie+(Ne-Ie)/2|0,je=ye[Oe],Oe!==Ne);)if(Ke=ye[Oe+1],Ee<je)Ne=Oe-1;else{if(!(Ee>=Ke))break;Ie=Oe+1}return he?(he.line=Oe,he.column=Ee-je,null):{line:Oe,column:Ee-je}}getLineFeedCnt(j,te,he){if(0===he.column)return he.line-te.line;const ve=this._buffers[j].lineStarts;if(he.line===ve.length-1)return he.line-te.line;const Ce=ve[he.line+1],ye=ve[he.line]+he.column;if(Ce>ye+1)return he.line-te.line;const Ee=ye-1;return 13===this._buffers[j].buffer.charCodeAt(Ee)?he.line-te.line+1:he.line-te.line}offsetInBuffer(j,te){return this._buffers[j].lineStarts[te.line]+te.column}deleteNodes(j){for(let te=0;te<j.length;te++)(0,ye.rbDelete)(this,j[te])}createNewPieces(j){if(j.length>te.AverageBufferSize){const he=[];for(;j.length>te.AverageBufferSize;){const ve=j.charCodeAt(te.AverageBufferSize-1);let Ce;13===ve||ve>=55296&&ve<=56319?(Ce=j.substring(0,te.AverageBufferSize-1),j=j.substring(te.AverageBufferSize-1)):(Ce=j.substring(0,te.AverageBufferSize),j=j.substring(te.AverageBufferSize));const ye=h(Ce);he.push(new t(this._buffers.length,{line:0,column:0},{line:ye.length-1,column:Ce.length-ye[ye.length-1]},ye.length-1,Ce.length)),this._buffers.push(new i(Ce,ye))}const ve=h(j);return he.push(new t(this._buffers.length,{line:0,column:0},{line:ve.length-1,column:j.length-ve[ve.length-1]},ve.length-1,j.length)),this._buffers.push(new i(j,ve)),he}let he=this._buffers[0].buffer.length;const ve=h(j,!1);let Ce=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===he&&0!==he&&this.startWithLF(j)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},Ce=this._lastChangeBufferPos;for(let j=0;j<ve.length;j++)ve[j]+=he+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ve.slice(1)),this._buffers[0].buffer+="_"+j,he+=1}else{if(0!==he)for(let j=0;j<ve.length;j++)ve[j]+=he;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ve.slice(1)),this._buffers[0].buffer+=j}const ye=this._buffers[0].buffer.length,Ee=this._buffers[0].lineStarts.length-1,Ie={line:Ee,column:ye-this._buffers[0].lineStarts[Ee]},Ne=new t(0,Ce,Ie,this.getLineFeedCnt(0,Ce,Ie),ye-he);return this._lastChangeBufferPos=Ie,[Ne]}getLineRawContent(j,te=0){let he=this.root,ve="";const Ce=this._searchCache.get2(j);if(Ce){he=Ce.node;const ye=this.getAccumulatedValue(he,j-Ce.nodeStartLineNumber-1),Ee=this._buffers[he.piece.bufferIndex].buffer,Ie=this.offsetInBuffer(he.piece.bufferIndex,he.piece.start);if(Ce.nodeStartLineNumber+he.piece.lineFeedCnt!==j){const ve=this.getAccumulatedValue(he,j-Ce.nodeStartLineNumber);return Ee.substring(Ie+ye,Ie+ve-te)}ve=Ee.substring(Ie+ye,Ie+he.piece.length)}else{let Ce=0;const Ee=j;for(;he!==ye.SENTINEL;)if(he.left!==ye.SENTINEL&&he.lf_left>=j-1)he=he.left;else{if(he.lf_left+he.piece.lineFeedCnt>j-1){const ve=this.getAccumulatedValue(he,j-he.lf_left-2),ye=this.getAccumulatedValue(he,j-he.lf_left-1),Ie=this._buffers[he.piece.bufferIndex].buffer,Ne=this.offsetInBuffer(he.piece.bufferIndex,he.piece.start);return Ce+=he.size_left,this._searchCache.set({node:he,nodeStartOffset:Ce,nodeStartLineNumber:Ee-(j-1-he.lf_left)}),Ie.substring(Ne+ve,Ne+ye-te)}if(he.lf_left+he.piece.lineFeedCnt===j-1){const te=this.getAccumulatedValue(he,j-he.lf_left-2),Ce=this._buffers[he.piece.bufferIndex].buffer,ye=this.offsetInBuffer(he.piece.bufferIndex,he.piece.start);ve=Ce.substring(ye+te,ye+he.piece.length);break}j-=he.lf_left+he.piece.lineFeedCnt,Ce+=he.size_left+he.piece.length,he=he.right}}for(he=he.next();he!==ye.SENTINEL;){const j=this._buffers[he.piece.bufferIndex].buffer;if(he.piece.lineFeedCnt>0){const Ce=this.getAccumulatedValue(he,0),ye=this.offsetInBuffer(he.piece.bufferIndex,he.piece.start);return ve+=j.substring(ye,ye+Ce-te),ve}{const te=this.offsetInBuffer(he.piece.bufferIndex,he.piece.start);ve+=j.substr(te,he.piece.length)}he=he.next()}return ve}computeBufferMetadata(){let j=this.root,te=1,he=0;for(;j!==ye.SENTINEL;)te+=j.lf_left+j.piece.lineFeedCnt,he+=j.size_left+j.piece.length,j=j.right;this._lineCnt=te,this._length=he,this._searchCache.validate(this._length)}getIndexOf(j,te){const he=j.piece,ve=this.positionInBuffer(j,te),Ce=ve.line-he.start.line;if(this.offsetInBuffer(he.bufferIndex,he.end)-this.offsetInBuffer(he.bufferIndex,he.start)===te){const te=this.getLineFeedCnt(j.piece.bufferIndex,he.start,ve);if(te!==Ce)return{index:te,remainder:0}}return{index:Ce,remainder:ve.column}}getAccumulatedValue(j,te){if(te<0)return 0;const he=j.piece,ve=this._buffers[he.bufferIndex].lineStarts,Ce=he.start.line+te+1;return Ce>he.end.line?ve[he.end.line]+he.end.column-ve[he.start.line]-he.start.column:ve[Ce]-ve[he.start.line]-he.start.column}deleteNodeTail(j,te){const he=j.piece,ve=he.lineFeedCnt,Ce=this.offsetInBuffer(he.bufferIndex,he.end),Ee=te,Ie=this.offsetInBuffer(he.bufferIndex,Ee),Ne=this.getLineFeedCnt(he.bufferIndex,he.start,Ee),Oe=Ne-ve,Ke=Ie-Ce,je=he.length+Ke;j.piece=new t(he.bufferIndex,he.start,Ee,Ne,je),(0,ye.updateTreeMetadata)(this,j,Ke,Oe)}deleteNodeHead(j,te){const he=j.piece,ve=he.lineFeedCnt,Ce=this.offsetInBuffer(he.bufferIndex,he.start),Ee=te,Ie=this.getLineFeedCnt(he.bufferIndex,Ee,he.end),Ne=Ie-ve,Oe=Ce-this.offsetInBuffer(he.bufferIndex,Ee),Ke=he.length+Oe;j.piece=new t(he.bufferIndex,Ee,he.end,Ie,Ke),(0,ye.updateTreeMetadata)(this,j,Oe,Ne)}shrinkNode(j,te,he){const ve=j.piece,Ce=ve.start,Ee=ve.end,Ie=ve.length,Ne=ve.lineFeedCnt,Oe=te,Ke=this.getLineFeedCnt(ve.bufferIndex,ve.start,Oe),je=this.offsetInBuffer(ve.bufferIndex,te)-this.offsetInBuffer(ve.bufferIndex,Ce);j.piece=new t(ve.bufferIndex,ve.start,Oe,Ke,je),(0,ye.updateTreeMetadata)(this,j,je-Ie,Ke-Ne);const Ze=new t(ve.bufferIndex,he,Ee,this.getLineFeedCnt(ve.bufferIndex,he,Ee),this.offsetInBuffer(ve.bufferIndex,Ee)-this.offsetInBuffer(ve.bufferIndex,he)),Ye=this.rbInsertRight(j,Ze);this.validateCRLFWithPrevNode(Ye)}appendToNode(j,te){this.adjustCarriageReturnFromNext(te,j)&&(te+="\n");const he=this.shouldCheckCRLF()&&this.startWithLF(te)&&this.endWithCR(j),ve=this._buffers[0].buffer.length;this._buffers[0].buffer+=te;const Ce=h(te,!1);for(let j=0;j<Ce.length;j++)Ce[j]+=ve;if(he){const j=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:ve-j}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Ce.slice(1));const Ee=this._buffers[0].lineStarts.length-1,Ie={line:Ee,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[Ee]},Ne=j.piece.length+te.length,Oe=j.piece.lineFeedCnt,Ke=this.getLineFeedCnt(0,j.piece.start,Ie),je=Ke-Oe;j.piece=new t(j.piece.bufferIndex,j.piece.start,Ie,Ke,Ne),this._lastChangeBufferPos=Ie,(0,ye.updateTreeMetadata)(this,j,te.length,je)}nodeAt(j){let te=this.root;const he=this._searchCache.get(j);if(he)return{node:he.node,nodeStartOffset:he.nodeStartOffset,remainder:j-he.nodeStartOffset};let ve=0;for(;te!==ye.SENTINEL;)if(te.size_left>j)te=te.left;else{if(te.size_left+te.piece.length>=j){ve+=te.size_left;const he={node:te,remainder:j-te.size_left,nodeStartOffset:ve};return this._searchCache.set(he),he}j-=te.size_left+te.piece.length,ve+=te.size_left+te.piece.length,te=te.right}return null}nodeAt2(j,te){let he=this.root,ve=0;for(;he!==ye.SENTINEL;)if(he.left!==ye.SENTINEL&&he.lf_left>=j-1)he=he.left;else{if(he.lf_left+he.piece.lineFeedCnt>j-1){const Ce=this.getAccumulatedValue(he,j-he.lf_left-2),ye=this.getAccumulatedValue(he,j-he.lf_left-1);return ve+=he.size_left,{node:he,remainder:Math.min(Ce+te-1,ye),nodeStartOffset:ve}}if(he.lf_left+he.piece.lineFeedCnt===j-1){const Ce=this.getAccumulatedValue(he,j-he.lf_left-2);if(Ce+te-1<=he.piece.length)return{node:he,remainder:Ce+te-1,nodeStartOffset:ve};te-=he.piece.length-Ce;break}j-=he.lf_left+he.piece.lineFeedCnt,ve+=he.size_left+he.piece.length,he=he.right}for(he=he.next();he!==ye.SENTINEL;){if(he.piece.lineFeedCnt>0){const j=this.getAccumulatedValue(he,0),ve=this.offsetOfNode(he);return{node:he,remainder:Math.min(te-1,j),nodeStartOffset:ve}}if(he.piece.length>=te-1){return{node:he,remainder:te-1,nodeStartOffset:this.offsetOfNode(he)}}te-=he.piece.length,he=he.next()}return null}nodeCharCodeAt(j,te){if(j.piece.lineFeedCnt<1)return-1;const he=this._buffers[j.piece.bufferIndex],ve=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start)+te;return he.buffer.charCodeAt(ve)}offsetOfNode(j){if(!j)return 0;let te=j.size_left;for(;j!==this.root;)j.parent.right===j&&(te+=j.parent.size_left+j.parent.piece.length),j=j.parent;return te}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(j){if("string"==typeof j)return 10===j.charCodeAt(0);if(j===ye.SENTINEL||0===j.piece.lineFeedCnt)return!1;const te=j.piece,he=this._buffers[te.bufferIndex].lineStarts,ve=te.start.line,Ce=he[ve]+te.start.column;return!(ve===he.length-1||he[ve+1]>Ce+1)&&10===this._buffers[te.bufferIndex].buffer.charCodeAt(Ce)}endWithCR(j){return"string"==typeof j?13===j.charCodeAt(j.length-1):j!==ye.SENTINEL&&0!==j.piece.lineFeedCnt&&13===this.nodeCharCodeAt(j,j.piece.length-1)}validateCRLFWithPrevNode(j){if(this.shouldCheckCRLF()&&this.startWithLF(j)){const te=j.prev();this.endWithCR(te)&&this.fixCRLF(te,j)}}validateCRLFWithNextNode(j){if(this.shouldCheckCRLF()&&this.endWithCR(j)){const te=j.next();this.startWithLF(te)&&this.fixCRLF(j,te)}}fixCRLF(j,te){const he=[],ve=this._buffers[j.piece.bufferIndex].lineStarts;let Ce;Ce=0===j.piece.end.column?{line:j.piece.end.line-1,column:ve[j.piece.end.line]-ve[j.piece.end.line-1]-1}:{line:j.piece.end.line,column:j.piece.end.column-1};const Ee=j.piece.length-1,Ie=j.piece.lineFeedCnt-1;j.piece=new t(j.piece.bufferIndex,j.piece.start,Ce,Ie,Ee),(0,ye.updateTreeMetadata)(this,j,-1,-1),0===j.piece.length&&he.push(j);const Ne={line:te.piece.start.line+1,column:0},Oe=te.piece.length-1,Ke=this.getLineFeedCnt(te.piece.bufferIndex,Ne,te.piece.end);te.piece=new t(te.piece.bufferIndex,Ne,te.piece.end,Ke,Oe),(0,ye.updateTreeMetadata)(this,te,-1,-1),0===te.piece.length&&he.push(te);const je=this.createNewPieces("\r\n");this.rbInsertRight(j,je[0]);for(let j=0;j<he.length;j++)(0,ye.rbDelete)(this,he[j])}adjustCarriageReturnFromNext(j,te){if(this.shouldCheckCRLF()&&this.endWithCR(j)){const he=te.next();if(this.startWithLF(he)){if(j+="\n",1===he.piece.length)(0,ye.rbDelete)(this,he);else{const j=he.piece,te={line:j.start.line+1,column:0},ve=j.length-1,Ce=this.getLineFeedCnt(j.bufferIndex,te,j.end);he.piece=new t(j.bufferIndex,te,j.end,Ce,ve),(0,ye.updateTreeMetadata)(this,he,-1,-1)}return!0}}return!1}iterate(j,te){if(j===ye.SENTINEL)return te(ye.SENTINEL);return this.iterate(j.left,te)&&te(j)&&this.iterate(j.right,te)}getNodeContent(j){if(j===ye.SENTINEL)return"";const te=this._buffers[j.piece.bufferIndex];let he;const ve=j.piece,Ce=this.offsetInBuffer(ve.bufferIndex,ve.start),Ee=this.offsetInBuffer(ve.bufferIndex,ve.end);return he=te.buffer.substring(Ce,Ee),he}getPieceContent(j){const te=this._buffers[j.bufferIndex],he=this.offsetInBuffer(j.bufferIndex,j.start),ve=this.offsetInBuffer(j.bufferIndex,j.end);return te.buffer.substring(he,ve)}rbInsertRight(j,te){const he=new ye.TreeNode(te,1);if(he.left=ye.SENTINEL,he.right=ye.SENTINEL,he.parent=ye.SENTINEL,he.size_left=0,he.lf_left=0,this.root===ye.SENTINEL)this.root=he,he.color=0;else if(j.right===ye.SENTINEL)j.right=he,he.parent=j;else{const te=(0,ye.leftest)(j.right);te.left=he,he.parent=te}return(0,ye.fixInsert)(this,he),he}rbInsertLeft(j,te){const he=new ye.TreeNode(te,1);if(he.left=ye.SENTINEL,he.right=ye.SENTINEL,he.parent=ye.SENTINEL,he.size_left=0,he.lf_left=0,this.root===ye.SENTINEL)this.root=he,he.color=0;else if(j.left===ye.SENTINEL)j.left=he,he.parent=j;else{const te=(0,ye.righttest)(j.left);te.right=he,he.parent=te}return(0,ye.fixInsert)(this,he),he}}})),define(Ce[245],ie([1,0,4,8,3,49,244,117,237,2]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.PieceTreeTextBuffer=void 0;class g extends Oe.Disposable{constructor(j,te,ve,Ce,ye,Ie,Ne){super(),this._onDidChangeContent=this._register(new he.Emitter),this._BOM=te,this._mightContainNonBasicASCII=!Ie,this._mightContainRTL=Ce,this._mightContainUnusualLineTerminators=ye,this._pieceTree=new Ee.PieceTreeBase(j,ve,Ne)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(j){return this._pieceTree.createSnapshot(j?this._BOM:"")}getOffsetAt(j,te){return this._pieceTree.getOffsetAt(j,te)}getPositionAt(j){return this._pieceTree.getPositionAt(j)}getRangeAt(j,te){const he=j+te,ve=this.getPositionAt(j),ye=this.getPositionAt(he);return new Ce.Range(ve.lineNumber,ve.column,ye.lineNumber,ye.column)}getValueInRange(j,te=0){if(j.isEmpty())return"";const he=this._getEndOfLine(te);return this._pieceTree.getValueInRange(j,he)}getValueLengthInRange(j,te=0){if(j.isEmpty())return 0;if(j.startLineNumber===j.endLineNumber)return j.endColumn-j.startColumn;const he=this.getOffsetAt(j.startLineNumber,j.startColumn);return this.getOffsetAt(j.endLineNumber,j.endColumn)-he}getCharacterCountInRange(j,te=0){if(this._mightContainNonBasicASCII){let he=0;const Ce=j.startLineNumber,ye=j.endLineNumber;for(let te=Ce;te<=ye;te++){const Ee=this.getLineContent(te),Ie=te===Ce?j.startColumn-1:0,Ne=te===ye?j.endColumn-1:Ee.length;for(let j=Ie;j<Ne;j++)ve.isHighSurrogate(Ee.charCodeAt(j))?(he+=1,j+=1):he+=1}return he+=this._getEndOfLine(te).length*(ye-Ce),he}return this.getValueLengthInRange(j,te)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(j){return this._pieceTree.getLineContent(j)}getLineCharCode(j,te){return this._pieceTree.getLineCharCode(j,te)}getLineLength(j){return this._pieceTree.getLineLength(j)}getLineFirstNonWhitespaceColumn(j){const te=ve.firstNonWhitespaceIndex(this.getLineContent(j));return-1===te?0:te+1}getLineLastNonWhitespaceColumn(j){const te=ve.lastNonWhitespaceIndex(this.getLineContent(j));return-1===te?0:te+2}_getEndOfLine(j){switch(j){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(j){this._pieceTree.setEOL(j)}applyEdits(j,te,he){let Ce=this._mightContainRTL,Ee=this._mightContainUnusualLineTerminators,Oe=this._mightContainNonBasicASCII,Ke=!0,je=[];for(let te=0;te<j.length;te++){const he=j[te];Ke&&he._isTracked&&(Ke=!1);const ye=he.range;if(he.text){let j=!0;Oe||(j=!ve.isBasicASCII(he.text),Oe=j),!Ce&&j&&(Ce=ve.containsRTL(he.text)),!Ee&&j&&(Ee=ve.containsUnusualLineTerminators(he.text))}let Ne="",Ze=0,Ye=0,et=0;if(he.text){let j;[Ze,Ye,et,j]=(0,Ie.countEOL)(he.text);const te=this.getEOL();Ne=0===j||j===("\r\n"===te?2:1)?he.text:he.text.replace(/\r\n|\r|\n/g,te)}je[te]={sortIndex:te,identifier:he.identifier||null,range:ye,rangeOffset:this.getOffsetAt(ye.startLineNumber,ye.startColumn),rangeLength:this.getValueLengthInRange(ye),text:Ne,eolCount:Ze,firstLineLength:Ye,lastLineLength:et,forceMoveMarkers:Boolean(he.forceMoveMarkers),isAutoWhitespaceEdit:he.isAutoWhitespaceEdit||!1}}je.sort(g._sortOpsAscending);let Ze=!1;for(let j=0,te=je.length-1;j<te;j++){const te=je[j].range.getEndPosition(),he=je[j+1].range.getStartPosition();if(he.isBeforeOrEqual(te)){if(he.isBefore(te))throw new Error("Overlapping ranges are not allowed!");Ze=!0}}Ke&&(je=this._reduceOperations(je));const Ye=he||te?g._getInverseEditRanges(je):[],et=[];if(te)for(let j=0;j<je.length;j++){const te=je[j],he=Ye[j];if(te.isAutoWhitespaceEdit&&te.range.isEmpty())for(let j=he.startLineNumber;j<=he.endLineNumber;j++){let Ce="";j===he.startLineNumber&&(Ce=this.getLineContent(te.range.startLineNumber),-1!==ve.firstNonWhitespaceIndex(Ce))||et.push({lineNumber:j,oldContent:Ce})}}let nt=null;if(he){let j=0;nt=[];for(let te=0;te<je.length;te++){const he=je[te],ve=Ye[te],Ce=this.getValueInRange(he.range),ye=he.rangeOffset+j;j+=he.text.length-Ce.length,nt[te]={sortIndex:he.sortIndex,identifier:he.identifier,range:ve,text:Ce,textChange:new Ne.TextChange(he.rangeOffset,Ce,ye,he.text)}}Ze||nt.sort(((j,te)=>j.sortIndex-te.sortIndex))}this._mightContainRTL=Ce,this._mightContainUnusualLineTerminators=Ee,this._mightContainNonBasicASCII=Oe;const rt=this._doApplyEdits(je);let at=null;if(te&&et.length>0){et.sort(((j,te)=>te.lineNumber-j.lineNumber)),at=[];for(let j=0,te=et.length;j<te;j++){const te=et[j].lineNumber;if(j>0&&et[j-1].lineNumber===te)continue;const he=et[j].oldContent,Ce=this.getLineContent(te);0===Ce.length||Ce===he||-1!==ve.firstNonWhitespaceIndex(Ce)||at.push(te)}}return this._onDidChangeContent.fire(),new ye.ApplyEditsResult(nt,rt,at)}_reduceOperations(j){return j.length<1e3?j:[this._toSingleEditOperation(j)]}_toSingleEditOperation(j){let te=!1;const he=j[0].range,ve=j[j.length-1].range,ye=new Ce.Range(he.startLineNumber,he.startColumn,ve.endLineNumber,ve.endColumn);let Ee=he.startLineNumber,Ne=he.startColumn;const Oe=[];for(let he=0,ve=j.length;he<ve;he++){const ve=j[he],ye=ve.range;te=te||ve.forceMoveMarkers,Oe.push(this.getValueInRange(new Ce.Range(Ee,Ne,ye.startLineNumber,ye.startColumn))),ve.text.length>0&&Oe.push(ve.text),Ee=ye.endLineNumber,Ne=ye.endColumn}const Ke=Oe.join(""),[je,Ze,Ye]=(0,Ie.countEOL)(Ke);return{sortIndex:0,identifier:j[0].identifier,range:ye,rangeOffset:this.getOffsetAt(ye.startLineNumber,ye.startColumn),rangeLength:this.getValueLengthInRange(ye,0),text:Ke,eolCount:je,firstLineLength:Ze,lastLineLength:Ye,forceMoveMarkers:te,isAutoWhitespaceEdit:!1}}_doApplyEdits(j){j.sort(g._sortOpsDescending);const te=[];for(let he=0;he<j.length;he++){const ve=j[he],ye=ve.range.startLineNumber,Ee=ve.range.startColumn,Ie=ve.range.endLineNumber,Ne=ve.range.endColumn;if(ye===Ie&&Ee===Ne&&0===ve.text.length)continue;ve.text?(this._pieceTree.delete(ve.rangeOffset,ve.rangeLength),this._pieceTree.insert(ve.rangeOffset,ve.text,!0)):this._pieceTree.delete(ve.rangeOffset,ve.rangeLength);const Oe=new Ce.Range(ye,Ee,Ie,Ne);te.push({range:Oe,rangeLength:ve.rangeLength,text:ve.text,rangeOffset:ve.rangeOffset,forceMoveMarkers:ve.forceMoveMarkers})}return te}findMatchesLineByLine(j,te,he,ve){return this._pieceTree.findMatchesLineByLine(j,te,he,ve)}static _getInverseEditRanges(j){const te=[];let he=0,ve=0,ye=null;for(let Ee=0,Ie=j.length;Ee<Ie;Ee++){const Ie=j[Ee];let Ne,Oe,Ke;if(ye?ye.range.endLineNumber===Ie.range.startLineNumber?(Ne=he,Oe=ve+(Ie.range.startColumn-ye.range.endColumn)):(Ne=he+(Ie.range.startLineNumber-ye.range.endLineNumber),Oe=Ie.range.startColumn):(Ne=Ie.range.startLineNumber,Oe=Ie.range.startColumn),Ie.text.length>0){const j=Ie.eolCount+1;Ke=1===j?new Ce.Range(Ne,Oe,Ne,Oe+Ie.firstLineLength):new Ce.Range(Ne,Oe,Ne+j-1,Ie.lastLineLength+1)}else Ke=new Ce.Range(Ne,Oe,Ne,Oe);he=Ke.endLineNumber,ve=Ke.endColumn,te.push(Ke),ye=Ie}return te}static _sortOpsAscending(j,te){const he=Ce.Range.compareRangesUsingEnds(j.range,te.range);return 0===he?j.sortIndex-te.sortIndex:he}static _sortOpsDescending(j,te){const he=Ce.Range.compareRangesUsingEnds(j.range,te.range);return 0===he?te.sortIndex-j.sortIndex:-he}}te.PieceTreeTextBuffer=g})),define(Ce[421],ie([1,0,8,244,245]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.PieceTreeTextBufferBuilder=te.PieceTreeTextBufferFactory=void 0;class I{constructor(j,te,he,ve,Ce,ye,Ee,Ie,Ne){this._chunks=j,this._bom=te,this._cr=he,this._lf=ve,this._crlf=Ce,this._containsRTL=ye,this._containsUnusualLineTerminators=Ee,this._isBasicASCII=Ie,this._normalizeEOL=Ne}_getEOL(j){const te=this._cr+this._lf+this._crlf,he=this._cr+this._crlf;return 0===te?1===j?"\n":"\r\n":he>te/2?"\r\n":"\n"}create(j){const te=this._getEOL(j),he=this._chunks;if(this._normalizeEOL&&("\r\n"===te&&(this._cr>0||this._lf>0)||"\n"===te&&(this._cr>0||this._crlf>0)))for(let j=0,Ce=he.length;j<Ce;j++){const Ce=he[j].buffer.replace(/\r\n|\r|\n/g,te),ye=(0,ve.createLineStartsFast)(Ce);he[j]=new ve.StringBuffer(Ce,ye)}const ye=new Ce.PieceTreeTextBuffer(he,this._bom,te,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:ye,disposable:ye}}}te.PieceTreeTextBufferFactory=I;te.PieceTreeTextBufferBuilder=class w{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(j){if(0===j.length)return;0===this.chunks.length&&he.startsWithUTF8BOM(j)&&(this.BOM=he.UTF8_BOM_CHARACTER,j=j.substr(1));const te=j.charCodeAt(j.length-1);13===te||te>=55296&&te<=56319?(this._acceptChunk1(j.substr(0,j.length-1),!1),this._hasPreviousChar=!0,this._previousChar=te):(this._acceptChunk1(j,!1),this._hasPreviousChar=!1,this._previousChar=te)}_acceptChunk1(j,te){!te&&0===j.length||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+j):this._acceptChunk2(j))}_acceptChunk2(j){const te=(0,ve.createLineStarts)(this._tmpLineStarts,j);this.chunks.push(new ve.StringBuffer(j,te.lineStarts)),this.cr+=te.cr,this.lf+=te.lf,this.crlf+=te.crlf,this.isBasicASCII&&(this.isBasicASCII=te.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=he.containsRTL(j)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=he.containsUnusualLineTerminators(j))}finish(j=!0){return this._finish(),new I(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,j)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const j=this.chunks[this.chunks.length-1];j.buffer+=String.fromCharCode(this._previousChar);const te=(0,ve.createLineStartsFast)(j.buffer);j.lineStarts=te,13===this._previousChar&&this.cr++}}}})),define(Ce[178],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.computeIndentLevel=void 0,te.computeIndentLevel=function y(j,te){let he=0,ve=0;const Ce=j.length;for(;ve<Ce;){const Ce=j.charCodeAt(ve);if(32===Ce)he++;else{if(9!==Ce)break;he=he-he%te+te}ve++}return ve===Ce?-1:he}})),define(Ce[422],ie([1,0,215,135,48,82,41,8]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.getMimeTypes=te.clearLanguageAssociations=te.registerLanguageAssociation=void 0;let Ne=[],Oe=[],Ke=[];function c(j,te,he){var ve;let Ce,ye,Ee;for(let Ie=he.length-1;Ie>=0;Ie--){const Ne=he[Ie];if(te===Ne.filenameLowercase){Ce=Ne;break}if(Ne.filepattern&&(!ye||Ne.filepattern.length>ye.filepattern.length)){const he=Ne.filepatternOnPath?j:te;(null===(ve=Ne.filepatternLowercase)||void 0===ve?void 0:ve.call(Ne,he))&&(ye=Ne)}Ne.extension&&(!Ee||Ne.extension.length>Ee.extension.length)&&te.endsWith(Ne.extensionLowercase)&&(Ee=Ne)}return Ce?Ce.mime:ye?ye.mime:Ee?Ee.mime:void 0}te.registerLanguageAssociation=function t(j,te=!1){const ve=function i(j){return{id:j.id,mime:j.mime,filename:j.filename,extension:j.extension,filepattern:j.filepattern,firstline:j.firstline,userConfigured:j.userConfigured,filenameLowercase:j.filename?j.filename.toLowerCase():void 0,extensionLowercase:j.extension?j.extension.toLowerCase():void 0,filepatternLowercase:j.filepattern?(0,he.parse)(j.filepattern.toLowerCase()):void 0,filepatternOnPath:!!j.filepattern&&j.filepattern.indexOf(ye.posix.sep)>=0}}(j);Ne.push(ve),ve.userConfigured?Ke.push(ve):Oe.push(ve),te&&!ve.userConfigured&&Ne.forEach((j=>{j.mime===ve.mime||j.userConfigured||(ve.extension&&j.extension===ve.extension&&console.warn(`Overwriting extension <<${ve.extension}>> to now point to mime <<${ve.mime}>>`),ve.filename&&j.filename===ve.filename&&console.warn(`Overwriting filename <<${ve.filename}>> to now point to mime <<${ve.mime}>>`),ve.filepattern&&j.filepattern===ve.filepattern&&console.warn(`Overwriting filepattern <<${ve.filepattern}>> to now point to mime <<${ve.mime}>>`),ve.firstline&&j.firstline===ve.firstline&&console.warn(`Overwriting firstline <<${ve.firstline}>> to now point to mime <<${ve.mime}>>`))}))},te.clearLanguageAssociations=function n(j){j?(Ne=Ne.filter((j=>!j.userConfigured)),Ke=[]):(Ne=[],Oe=[],Ke=[])},te.getMimeTypes=function l(j,te){let he;if(j)switch(j.scheme){case Ce.Schemas.file:he=j.fsPath;break;case Ce.Schemas.data:he=Ee.DataUri.parseMetaData(j).get(Ee.DataUri.META_DATA_LABEL);break;default:he=j.path}if(!he)return[ve.Mimes.unknown];he=he.toLowerCase();const je=(0,ye.basename)(he),Ze=c(he,je,Ke);if(Ze)return[Ze,ve.Mimes.text];const Ye=c(he,je,Oe);if(Ye)return[Ye,ve.Mimes.text];if(te){const j=function r(j){if((0,Ie.startsWithUTF8BOM)(j)&&(j=j.substr(1)),j.length>0)for(let te=Ne.length-1;te>=0;te--){const he=Ne[te];if(!he.firstline)continue;const ve=j.match(he.firstline);if(ve&&ve.length>0)return he.mime}}(te);if(j)return[j,ve.Mimes.text]}return[ve.Mimes.unknown]}})),define(Ce[423],ie([1,0,110,17]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.encodeSemanticTokensDto=void 0,te.encodeSemanticTokensDto=function w(j){const te=new Uint32Array(function b(j){let te=0;if(te+=2,"full"===j.type)te+=1+j.data.length;else{te+=1,te+=3*j.deltas.length;for(const he of j.deltas)he.data&&(te+=he.data.length)}return te}(j));let Ce=0;if(te[Ce++]=j.id,"full"===j.type)te[Ce++]=1,te[Ce++]=j.data.length,te.set(j.data,Ce),Ce+=j.data.length;else{te[Ce++]=2,te[Ce++]=j.deltas.length;for(const he of j.deltas)te[Ce++]=he.start,te[Ce++]=he.deleteCount,he.data?(te[Ce++]=he.data.length,te.set(he.data,Ce),Ce+=he.data.length):te[Ce++]=0}return function I(j){const te=new Uint8Array(j.buffer,j.byteOffset,4*j.length);return ve.isLittleEndian()||function D(j){for(let te=0,he=j.length;te<he;te+=4){const he=j[te+0],ve=j[te+1],Ce=j[te+2],ye=j[te+3];j[te+0]=ye,j[te+1]=Ce,j[te+2]=ve,j[te+3]=he}}(te),he.VSBuffer.wrap(te)}(te)}})),define(Ce[179],ie([1,0]),(function(j,te){var he;Object.defineProperty(te,"__esModule",{value:!0}),te.WrappingIndent=te.TrackedRangeStickiness=te.TextEditorCursorStyle=te.TextEditorCursorBlinkingStyle=te.SymbolTag=te.SymbolKind=te.SignatureHelpTriggerKind=te.SelectionDirection=te.ScrollbarVisibility=te.ScrollType=te.RenderMinimap=te.RenderLineNumbersType=te.PositionAffinity=te.OverviewRulerLane=te.OverlayWidgetPositionPreference=te.MouseTargetType=te.MinimapPosition=te.MarkerTag=te.MarkerSeverity=te.KeyCode=te.InlineCompletionTriggerKind=te.InlayHintKind=te.InjectedTextCursorStops=te.IndentAction=te.EndOfLineSequence=te.EndOfLinePreference=te.EditorOption=te.EditorAutoIndentStrategy=te.DocumentHighlightKind=te.DefaultEndOfLine=te.CursorChangeReason=te.ContentWidgetPositionPreference=te.CompletionTriggerKind=te.CompletionItemTag=te.CompletionItemKind=te.CompletionItemInsertTextRule=te.AccessibilitySupport=void 0,(he=te.AccessibilitySupport||(te.AccessibilitySupport={}))[he.Unknown=0]="Unknown",he[he.Disabled=1]="Disabled",he[he.Enabled=2]="Enabled",function(j){j[j.KeepWhitespace=1]="KeepWhitespace",j[j.InsertAsSnippet=4]="InsertAsSnippet"}(te.CompletionItemInsertTextRule||(te.CompletionItemInsertTextRule={})),function(j){j[j.Method=0]="Method",j[j.Function=1]="Function",j[j.Constructor=2]="Constructor",j[j.Field=3]="Field",j[j.Variable=4]="Variable",j[j.Class=5]="Class",j[j.Struct=6]="Struct",j[j.Interface=7]="Interface",j[j.Module=8]="Module",j[j.Property=9]="Property",j[j.Event=10]="Event",j[j.Operator=11]="Operator",j[j.Unit=12]="Unit",j[j.Value=13]="Value",j[j.Constant=14]="Constant",j[j.Enum=15]="Enum",j[j.EnumMember=16]="EnumMember",j[j.Keyword=17]="Keyword",j[j.Text=18]="Text",j[j.Color=19]="Color",j[j.File=20]="File",j[j.Reference=21]="Reference",j[j.Customcolor=22]="Customcolor",j[j.Folder=23]="Folder",j[j.TypeParameter=24]="TypeParameter",j[j.User=25]="User",j[j.Issue=26]="Issue",j[j.Snippet=27]="Snippet"}(te.CompletionItemKind||(te.CompletionItemKind={})),function(j){j[j.Deprecated=1]="Deprecated"}(te.CompletionItemTag||(te.CompletionItemTag={})),function(j){j[j.Invoke=0]="Invoke",j[j.TriggerCharacter=1]="TriggerCharacter",j[j.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(te.CompletionTriggerKind||(te.CompletionTriggerKind={})),function(j){j[j.EXACT=0]="EXACT",j[j.ABOVE=1]="ABOVE",j[j.BELOW=2]="BELOW"}(te.ContentWidgetPositionPreference||(te.ContentWidgetPositionPreference={})),function(j){j[j.NotSet=0]="NotSet",j[j.ContentFlush=1]="ContentFlush",j[j.RecoverFromMarkers=2]="RecoverFromMarkers",j[j.Explicit=3]="Explicit",j[j.Paste=4]="Paste",j[j.Undo=5]="Undo",j[j.Redo=6]="Redo"}(te.CursorChangeReason||(te.CursorChangeReason={})),function(j){j[j.LF=1]="LF",j[j.CRLF=2]="CRLF"}(te.DefaultEndOfLine||(te.DefaultEndOfLine={})),function(j){j[j.Text=0]="Text",j[j.Read=1]="Read",j[j.Write=2]="Write"}(te.DocumentHighlightKind||(te.DocumentHighlightKind={})),function(j){j[j.None=0]="None",j[j.Keep=1]="Keep",j[j.Brackets=2]="Brackets",j[j.Advanced=3]="Advanced",j[j.Full=4]="Full"}(te.EditorAutoIndentStrategy||(te.EditorAutoIndentStrategy={})),function(j){j[j.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",j[j.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",j[j.accessibilitySupport=2]="accessibilitySupport",j[j.accessibilityPageSize=3]="accessibilityPageSize",j[j.ariaLabel=4]="ariaLabel",j[j.autoClosingBrackets=5]="autoClosingBrackets",j[j.autoClosingDelete=6]="autoClosingDelete",j[j.autoClosingOvertype=7]="autoClosingOvertype",j[j.autoClosingQuotes=8]="autoClosingQuotes",j[j.autoIndent=9]="autoIndent",j[j.automaticLayout=10]="automaticLayout",j[j.autoSurround=11]="autoSurround",j[j.bracketPairColorization=12]="bracketPairColorization",j[j.guides=13]="guides",j[j.codeLens=14]="codeLens",j[j.codeLensFontFamily=15]="codeLensFontFamily",j[j.codeLensFontSize=16]="codeLensFontSize",j[j.colorDecorators=17]="colorDecorators",j[j.columnSelection=18]="columnSelection",j[j.comments=19]="comments",j[j.contextmenu=20]="contextmenu",j[j.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",j[j.cursorBlinking=22]="cursorBlinking",j[j.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",j[j.cursorStyle=24]="cursorStyle",j[j.cursorSurroundingLines=25]="cursorSurroundingLines",j[j.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",j[j.cursorWidth=27]="cursorWidth",j[j.disableLayerHinting=28]="disableLayerHinting",j[j.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",j[j.domReadOnly=30]="domReadOnly",j[j.dragAndDrop=31]="dragAndDrop",j[j.emptySelectionClipboard=32]="emptySelectionClipboard",j[j.extraEditorClassName=33]="extraEditorClassName",j[j.fastScrollSensitivity=34]="fastScrollSensitivity",j[j.find=35]="find",j[j.fixedOverflowWidgets=36]="fixedOverflowWidgets",j[j.folding=37]="folding",j[j.foldingStrategy=38]="foldingStrategy",j[j.foldingHighlight=39]="foldingHighlight",j[j.foldingImportsByDefault=40]="foldingImportsByDefault",j[j.foldingMaximumRegions=41]="foldingMaximumRegions",j[j.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",j[j.fontFamily=43]="fontFamily",j[j.fontInfo=44]="fontInfo",j[j.fontLigatures=45]="fontLigatures",j[j.fontSize=46]="fontSize",j[j.fontWeight=47]="fontWeight",j[j.formatOnPaste=48]="formatOnPaste",j[j.formatOnType=49]="formatOnType",j[j.glyphMargin=50]="glyphMargin",j[j.gotoLocation=51]="gotoLocation",j[j.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",j[j.hover=53]="hover",j[j.inDiffEditor=54]="inDiffEditor",j[j.inlineSuggest=55]="inlineSuggest",j[j.letterSpacing=56]="letterSpacing",j[j.lightbulb=57]="lightbulb",j[j.lineDecorationsWidth=58]="lineDecorationsWidth",j[j.lineHeight=59]="lineHeight",j[j.lineNumbers=60]="lineNumbers",j[j.lineNumbersMinChars=61]="lineNumbersMinChars",j[j.linkedEditing=62]="linkedEditing",j[j.links=63]="links",j[j.matchBrackets=64]="matchBrackets",j[j.minimap=65]="minimap",j[j.mouseStyle=66]="mouseStyle",j[j.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",j[j.mouseWheelZoom=68]="mouseWheelZoom",j[j.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",j[j.multiCursorModifier=70]="multiCursorModifier",j[j.multiCursorPaste=71]="multiCursorPaste",j[j.occurrencesHighlight=72]="occurrencesHighlight",j[j.overviewRulerBorder=73]="overviewRulerBorder",j[j.overviewRulerLanes=74]="overviewRulerLanes",j[j.padding=75]="padding",j[j.parameterHints=76]="parameterHints",j[j.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",j[j.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",j[j.quickSuggestions=79]="quickSuggestions",j[j.quickSuggestionsDelay=80]="quickSuggestionsDelay",j[j.readOnly=81]="readOnly",j[j.renameOnType=82]="renameOnType",j[j.renderControlCharacters=83]="renderControlCharacters",j[j.renderFinalNewline=84]="renderFinalNewline",j[j.renderLineHighlight=85]="renderLineHighlight",j[j.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",j[j.renderValidationDecorations=87]="renderValidationDecorations",j[j.renderWhitespace=88]="renderWhitespace",j[j.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",j[j.roundedSelection=90]="roundedSelection",j[j.rulers=91]="rulers",j[j.scrollbar=92]="scrollbar",j[j.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",j[j.scrollBeyondLastLine=94]="scrollBeyondLastLine",j[j.scrollPredominantAxis=95]="scrollPredominantAxis",j[j.selectionClipboard=96]="selectionClipboard",j[j.selectionHighlight=97]="selectionHighlight",j[j.selectOnLineNumbers=98]="selectOnLineNumbers",j[j.showFoldingControls=99]="showFoldingControls",j[j.showUnused=100]="showUnused",j[j.snippetSuggestions=101]="snippetSuggestions",j[j.smartSelect=102]="smartSelect",j[j.smoothScrolling=103]="smoothScrolling",j[j.stickyTabStops=104]="stickyTabStops",j[j.stopRenderingLineAfter=105]="stopRenderingLineAfter",j[j.suggest=106]="suggest",j[j.suggestFontSize=107]="suggestFontSize",j[j.suggestLineHeight=108]="suggestLineHeight",j[j.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",j[j.suggestSelection=110]="suggestSelection",j[j.tabCompletion=111]="tabCompletion",j[j.tabIndex=112]="tabIndex",j[j.unicodeHighlighting=113]="unicodeHighlighting",j[j.unusualLineTerminators=114]="unusualLineTerminators",j[j.useShadowDOM=115]="useShadowDOM",j[j.useTabStops=116]="useTabStops",j[j.wordSeparators=117]="wordSeparators",j[j.wordWrap=118]="wordWrap",j[j.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",j[j.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",j[j.wordWrapColumn=121]="wordWrapColumn",j[j.wordWrapOverride1=122]="wordWrapOverride1",j[j.wordWrapOverride2=123]="wordWrapOverride2",j[j.wrappingIndent=124]="wrappingIndent",j[j.wrappingStrategy=125]="wrappingStrategy",j[j.showDeprecated=126]="showDeprecated",j[j.inlayHints=127]="inlayHints",j[j.editorClassName=128]="editorClassName",j[j.pixelRatio=129]="pixelRatio",j[j.tabFocusMode=130]="tabFocusMode",j[j.layoutInfo=131]="layoutInfo",j[j.wrappingInfo=132]="wrappingInfo"}(te.EditorOption||(te.EditorOption={})),function(j){j[j.TextDefined=0]="TextDefined",j[j.LF=1]="LF",j[j.CRLF=2]="CRLF"}(te.EndOfLinePreference||(te.EndOfLinePreference={})),function(j){j[j.LF=0]="LF",j[j.CRLF=1]="CRLF"}(te.EndOfLineSequence||(te.EndOfLineSequence={})),function(j){j[j.None=0]="None",j[j.Indent=1]="Indent",j[j.IndentOutdent=2]="IndentOutdent",j[j.Outdent=3]="Outdent"}(te.IndentAction||(te.IndentAction={})),function(j){j[j.Both=0]="Both",j[j.Right=1]="Right",j[j.Left=2]="Left",j[j.None=3]="None"}(te.InjectedTextCursorStops||(te.InjectedTextCursorStops={})),function(j){j[j.Other=0]="Other",j[j.Type=1]="Type",j[j.Parameter=2]="Parameter"}(te.InlayHintKind||(te.InlayHintKind={})),function(j){j[j.Automatic=0]="Automatic",j[j.Explicit=1]="Explicit"}(te.InlineCompletionTriggerKind||(te.InlineCompletionTriggerKind={})),function(j){j[j.DependsOnKbLayout=-1]="DependsOnKbLayout",j[j.Unknown=0]="Unknown",j[j.Backspace=1]="Backspace",j[j.Tab=2]="Tab",j[j.Enter=3]="Enter",j[j.Shift=4]="Shift",j[j.Ctrl=5]="Ctrl",j[j.Alt=6]="Alt",j[j.PauseBreak=7]="PauseBreak",j[j.CapsLock=8]="CapsLock",j[j.Escape=9]="Escape",j[j.Space=10]="Space",j[j.PageUp=11]="PageUp",j[j.PageDown=12]="PageDown",j[j.End=13]="End",j[j.Home=14]="Home",j[j.LeftArrow=15]="LeftArrow",j[j.UpArrow=16]="UpArrow",j[j.RightArrow=17]="RightArrow",j[j.DownArrow=18]="DownArrow",j[j.Insert=19]="Insert",j[j.Delete=20]="Delete",j[j.Digit0=21]="Digit0",j[j.Digit1=22]="Digit1",j[j.Digit2=23]="Digit2",j[j.Digit3=24]="Digit3",j[j.Digit4=25]="Digit4",j[j.Digit5=26]="Digit5",j[j.Digit6=27]="Digit6",j[j.Digit7=28]="Digit7",j[j.Digit8=29]="Digit8",j[j.Digit9=30]="Digit9",j[j.KeyA=31]="KeyA",j[j.KeyB=32]="KeyB",j[j.KeyC=33]="KeyC",j[j.KeyD=34]="KeyD",j[j.KeyE=35]="KeyE",j[j.KeyF=36]="KeyF",j[j.KeyG=37]="KeyG",j[j.KeyH=38]="KeyH",j[j.KeyI=39]="KeyI",j[j.KeyJ=40]="KeyJ",j[j.KeyK=41]="KeyK",j[j.KeyL=42]="KeyL",j[j.KeyM=43]="KeyM",j[j.KeyN=44]="KeyN",j[j.KeyO=45]="KeyO",j[j.KeyP=46]="KeyP",j[j.KeyQ=47]="KeyQ",j[j.KeyR=48]="KeyR",j[j.KeyS=49]="KeyS",j[j.KeyT=50]="KeyT",j[j.KeyU=51]="KeyU",j[j.KeyV=52]="KeyV",j[j.KeyW=53]="KeyW",j[j.KeyX=54]="KeyX",j[j.KeyY=55]="KeyY",j[j.KeyZ=56]="KeyZ",j[j.Meta=57]="Meta",j[j.ContextMenu=58]="ContextMenu",j[j.F1=59]="F1",j[j.F2=60]="F2",j[j.F3=61]="F3",j[j.F4=62]="F4",j[j.F5=63]="F5",j[j.F6=64]="F6",j[j.F7=65]="F7",j[j.F8=66]="F8",j[j.F9=67]="F9",j[j.F10=68]="F10",j[j.F11=69]="F11",j[j.F12=70]="F12",j[j.F13=71]="F13",j[j.F14=72]="F14",j[j.F15=73]="F15",j[j.F16=74]="F16",j[j.F17=75]="F17",j[j.F18=76]="F18",j[j.F19=77]="F19",j[j.NumLock=78]="NumLock",j[j.ScrollLock=79]="ScrollLock",j[j.Semicolon=80]="Semicolon",j[j.Equal=81]="Equal",j[j.Comma=82]="Comma",j[j.Minus=83]="Minus",j[j.Period=84]="Period",j[j.Slash=85]="Slash",j[j.Backquote=86]="Backquote",j[j.BracketLeft=87]="BracketLeft",j[j.Backslash=88]="Backslash",j[j.BracketRight=89]="BracketRight",j[j.Quote=90]="Quote",j[j.OEM_8=91]="OEM_8",j[j.IntlBackslash=92]="IntlBackslash",j[j.Numpad0=93]="Numpad0",j[j.Numpad1=94]="Numpad1",j[j.Numpad2=95]="Numpad2",j[j.Numpad3=96]="Numpad3",j[j.Numpad4=97]="Numpad4",j[j.Numpad5=98]="Numpad5",j[j.Numpad6=99]="Numpad6",j[j.Numpad7=100]="Numpad7",j[j.Numpad8=101]="Numpad8",j[j.Numpad9=102]="Numpad9",j[j.NumpadMultiply=103]="NumpadMultiply",j[j.NumpadAdd=104]="NumpadAdd",j[j.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",j[j.NumpadSubtract=106]="NumpadSubtract",j[j.NumpadDecimal=107]="NumpadDecimal",j[j.NumpadDivide=108]="NumpadDivide",j[j.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",j[j.ABNT_C1=110]="ABNT_C1",j[j.ABNT_C2=111]="ABNT_C2",j[j.AudioVolumeMute=112]="AudioVolumeMute",j[j.AudioVolumeUp=113]="AudioVolumeUp",j[j.AudioVolumeDown=114]="AudioVolumeDown",j[j.BrowserSearch=115]="BrowserSearch",j[j.BrowserHome=116]="BrowserHome",j[j.BrowserBack=117]="BrowserBack",j[j.BrowserForward=118]="BrowserForward",j[j.MediaTrackNext=119]="MediaTrackNext",j[j.MediaTrackPrevious=120]="MediaTrackPrevious",j[j.MediaStop=121]="MediaStop",j[j.MediaPlayPause=122]="MediaPlayPause",j[j.LaunchMediaPlayer=123]="LaunchMediaPlayer",j[j.LaunchMail=124]="LaunchMail",j[j.LaunchApp2=125]="LaunchApp2",j[j.MAX_VALUE=126]="MAX_VALUE"}(te.KeyCode||(te.KeyCode={})),function(j){j[j.Hint=1]="Hint",j[j.Info=2]="Info",j[j.Warning=4]="Warning",j[j.Error=8]="Error"}(te.MarkerSeverity||(te.MarkerSeverity={})),function(j){j[j.Unnecessary=1]="Unnecessary",j[j.Deprecated=2]="Deprecated"}(te.MarkerTag||(te.MarkerTag={})),function(j){j[j.Inline=1]="Inline",j[j.Gutter=2]="Gutter"}(te.MinimapPosition||(te.MinimapPosition={})),function(j){j[j.UNKNOWN=0]="UNKNOWN",j[j.TEXTAREA=1]="TEXTAREA",j[j.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",j[j.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",j[j.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",j[j.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",j[j.CONTENT_TEXT=6]="CONTENT_TEXT",j[j.CONTENT_EMPTY=7]="CONTENT_EMPTY",j[j.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",j[j.CONTENT_WIDGET=9]="CONTENT_WIDGET",j[j.OVERVIEW_RULER=10]="OVERVIEW_RULER",j[j.SCROLLBAR=11]="SCROLLBAR",j[j.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",j[j.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"}(te.MouseTargetType||(te.MouseTargetType={})),function(j){j[j.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",j[j.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",j[j.TOP_CENTER=2]="TOP_CENTER"}(te.OverlayWidgetPositionPreference||(te.OverlayWidgetPositionPreference={})),function(j){j[j.Left=1]="Left",j[j.Center=2]="Center",j[j.Right=4]="Right",j[j.Full=7]="Full"}(te.OverviewRulerLane||(te.OverviewRulerLane={})),function(j){j[j.Left=0]="Left",j[j.Right=1]="Right",j[j.None=2]="None"}(te.PositionAffinity||(te.PositionAffinity={})),function(j){j[j.Off=0]="Off",j[j.On=1]="On",j[j.Relative=2]="Relative",j[j.Interval=3]="Interval",j[j.Custom=4]="Custom"}(te.RenderLineNumbersType||(te.RenderLineNumbersType={})),function(j){j[j.None=0]="None",j[j.Text=1]="Text",j[j.Blocks=2]="Blocks"}(te.RenderMinimap||(te.RenderMinimap={})),function(j){j[j.Smooth=0]="Smooth",j[j.Immediate=1]="Immediate"}(te.ScrollType||(te.ScrollType={})),function(j){j[j.Auto=1]="Auto",j[j.Hidden=2]="Hidden",j[j.Visible=3]="Visible"}(te.ScrollbarVisibility||(te.ScrollbarVisibility={})),function(j){j[j.LTR=0]="LTR",j[j.RTL=1]="RTL"}(te.SelectionDirection||(te.SelectionDirection={})),function(j){j[j.Invoke=1]="Invoke",j[j.TriggerCharacter=2]="TriggerCharacter",j[j.ContentChange=3]="ContentChange"}(te.SignatureHelpTriggerKind||(te.SignatureHelpTriggerKind={})),function(j){j[j.File=0]="File",j[j.Module=1]="Module",j[j.Namespace=2]="Namespace",j[j.Package=3]="Package",j[j.Class=4]="Class",j[j.Method=5]="Method",j[j.Property=6]="Property",j[j.Field=7]="Field",j[j.Constructor=8]="Constructor",j[j.Enum=9]="Enum",j[j.Interface=10]="Interface",j[j.Function=11]="Function",j[j.Variable=12]="Variable",j[j.Constant=13]="Constant",j[j.String=14]="String",j[j.Number=15]="Number",j[j.Boolean=16]="Boolean",j[j.Array=17]="Array",j[j.Object=18]="Object",j[j.Key=19]="Key",j[j.Null=20]="Null",j[j.EnumMember=21]="EnumMember",j[j.Struct=22]="Struct",j[j.Event=23]="Event",j[j.Operator=24]="Operator",j[j.TypeParameter=25]="TypeParameter"}(te.SymbolKind||(te.SymbolKind={})),function(j){j[j.Deprecated=1]="Deprecated"}(te.SymbolTag||(te.SymbolTag={})),function(j){j[j.Hidden=0]="Hidden",j[j.Blink=1]="Blink",j[j.Smooth=2]="Smooth",j[j.Phase=3]="Phase",j[j.Expand=4]="Expand",j[j.Solid=5]="Solid"}(te.TextEditorCursorBlinkingStyle||(te.TextEditorCursorBlinkingStyle={})),function(j){j[j.Line=1]="Line",j[j.Block=2]="Block",j[j.Underline=3]="Underline",j[j.LineThin=4]="LineThin",j[j.BlockOutline=5]="BlockOutline",j[j.UnderlineThin=6]="UnderlineThin"}(te.TextEditorCursorStyle||(te.TextEditorCursorStyle={})),function(j){j[j.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",j[j.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",j[j.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",j[j.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(te.TrackedRangeStickiness||(te.TrackedRangeStickiness={})),function(j){j[j.None=0]="None",j[j.Same=1]="Same",j[j.Indent=2]="Indent",j[j.DeepIndent=3]="DeepIndent"}(te.WrappingIndent||(te.WrappingIndent={}))})),define(Ce[424],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.BracketPairWithMinIndentationInfo=te.BracketPairInfo=te.BracketInfo=void 0;te.BracketInfo=class y{constructor(j,te,he){this.range=j,this.nestingLevel=te,this.isInvalid=he}};class m{constructor(j,te,he,ve){this.range=j,this.openingBracketRange=te,this.closingBracketRange=he,this.nestingLevel=ve}}te.BracketPairInfo=m;te.BracketPairWithMinIndentationInfo=class D extends m{constructor(j,te,he,ve,Ce){super(j,te,he,ve),this.minVisibleColumnIndentation=Ce}}})),define(Ce[91],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.InternalModelContentChangeEvent=te.ModelInjectedTextChangedEvent=te.ModelRawContentChangedEvent=te.ModelRawEOLChanged=te.ModelRawLinesInserted=te.ModelRawLinesDeleted=te.ModelRawLineChanged=te.LineInjectedText=te.ModelRawFlush=void 0;te.ModelRawFlush=class y{constructor(){this.changeType=1}};class m{constructor(j,te,he,ve,Ce){this.ownerId=j,this.lineNumber=te,this.column=he,this.options=ve,this.order=Ce}static applyInjectedText(j,te){if(!te||0===te.length)return j;let he="",ve=0;for(const Ce of te)he+=j.substring(ve,Ce.column-1),ve=Ce.column-1,he+=Ce.options.content;return he+=j.substring(ve),he}static fromDecorations(j){const te=[];for(const he of j)he.options.before&&he.options.before.content.length>0&&te.push(new m(he.ownerId,he.range.startLineNumber,he.range.startColumn,he.options.before,0)),he.options.after&&he.options.after.content.length>0&&te.push(new m(he.ownerId,he.range.endLineNumber,he.range.endColumn,he.options.after,1));return te.sort(((j,te)=>j.lineNumber===te.lineNumber?j.column===te.column?j.order-te.order:j.column-te.column:j.lineNumber-te.lineNumber)),te}}te.LineInjectedText=m;te.ModelRawLineChanged=class D{constructor(j,te,he){this.changeType=2,this.lineNumber=j,this.detail=te,this.injectedText=he}};te.ModelRawLinesDeleted=class I{constructor(j,te){this.changeType=3,this.fromLineNumber=j,this.toLineNumber=te}};te.ModelRawLinesInserted=class w{constructor(j,te,he,ve){this.changeType=4,this.injectedTexts=ve,this.fromLineNumber=j,this.toLineNumber=te,this.detail=he}};te.ModelRawEOLChanged=class b{constructor(){this.changeType=5}};class p{constructor(j,te,he,ve){this.changes=j,this.versionId=te,this.isUndoing=he,this.isRedoing=ve,this.resultingSelection=null}containsEvent(j){for(let te=0,he=this.changes.length;te<he;te++)if(this.changes[te].changeType===j)return!0;return!1}static merge(j,te){const he=[].concat(j.changes).concat(te.changes),ve=te.versionId,Ce=j.isUndoing||te.isUndoing,ye=j.isRedoing||te.isRedoing;return new p(he,ve,Ce,ye)}}te.ModelRawContentChangedEvent=p;te.ModelInjectedTextChangedEvent=class h{constructor(j){this.changes=j}};class g{constructor(j,te){this.rawContentChangedEvent=j,this.contentChangedEvent=te}merge(j){const te=p.merge(this.rawContentChangedEvent,j.rawContentChangedEvent),he=g._mergeChangeEvents(this.contentChangedEvent,j.contentChangedEvent);return new g(te,he)}static _mergeChangeEvents(j,te){return{changes:[].concat(j.changes).concat(te.changes),eol:te.eol,versionId:te.versionId,isUndoing:j.isUndoing||te.isUndoing,isRedoing:j.isRedoing||te.isRedoing,isFlush:j.isFlush||te.isFlush}}}te.InternalModelContentChangeEvent=g})),define(Ce[180],ie([1,0]),(function(j,te){var he;Object.defineProperty(te,"__esModule",{value:!0}),te.IndentGuideHorizontalLine=te.IndentGuide=te.HorizontalGuidesState=void 0,(he=te.HorizontalGuidesState||(te.HorizontalGuidesState={}))[he.Disabled=0]="Disabled",he[he.EnabledForActive=1]="EnabledForActive",he[he.Enabled=2]="Enabled";te.IndentGuide=class m{constructor(j,te,he){this.visibleColumn=j,this.className=te,this.horizontalLine=he}};te.IndentGuideHorizontalLine=class D{constructor(j,te){this.top=j,this.endColumn=te}}})),define(Ce[246],ie([1,0,19,8,68,3,420,178,180]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.BracketPairGuidesClassNames=te.GuidesTextModelPart=void 0;class h extends Ee.TextModelPart{constructor(j,te){super(),this.textModel=j,this.languageConfigurationService=te}getLanguageConfiguration(j){return this.languageConfigurationService.getLanguageConfiguration(j)}_computeIndentLevel(j){return(0,Ie.computeIndentLevel)(this.textModel.getLineContent(j+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(j,te,he){this.assertNotDisposed();const ve=this.textModel.getLineCount();if(j<1||j>ve)throw new Error("Illegal value for lineNumber");const Ce=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,ye=Boolean(Ce&&Ce.offSide);let Ee=-2,Ie=-1,Ne=-2,Oe=-1;const f=j=>{if(-1!==Ee&&(-2===Ee||Ee>j-1)){Ee=-1,Ie=-1;for(let te=j-2;te>=0;te--){const j=this._computeIndentLevel(te);if(j>=0){Ee=te,Ie=j;break}}}if(-2===Ne){Ne=-1,Oe=-1;for(let te=j;te<ve;te++){const j=this._computeIndentLevel(te);if(j>=0){Ne=te,Oe=j;break}}}};let Ke=-2,je=-1,Ze=-2,Ye=-1;const L=j=>{if(-2===Ke){Ke=-1,je=-1;for(let te=j-2;te>=0;te--){const j=this._computeIndentLevel(te);if(j>=0){Ke=te,je=j;break}}}if(-1!==Ze&&(-2===Ze||Ze<j-1)){Ze=-1,Ye=-1;for(let te=j;te<ve;te++){const j=this._computeIndentLevel(te);if(j>=0){Ze=te,Ye=j;break}}}};let et=0,nt=!0,rt=0,at=!0,ct=0,ht=0;for(let Ce=0;nt||at;Ce++){const Ee=j-Ce,Ze=j+Ce;Ce>1&&(Ee<1||Ee<te)&&(nt=!1),Ce>1&&(Ze>ve||Ze>he)&&(at=!1),Ce>5e4&&(nt=!1,at=!1);let mt=-1;if(nt&&Ee>=1){const j=this._computeIndentLevel(Ee-1);j>=0?(Ne=Ee-1,Oe=j,mt=Math.ceil(j/this.textModel.getOptions().indentSize)):(f(Ee),mt=this._getIndentLevelForWhitespaceLine(ye,Ie,Oe))}let pt=-1;if(at&&Ze<=ve){const j=this._computeIndentLevel(Ze-1);j>=0?(Ke=Ze-1,je=j,pt=Math.ceil(j/this.textModel.getOptions().indentSize)):(L(Ze),pt=this._getIndentLevelForWhitespaceLine(ye,je,Ye))}if(0!==Ce){if(1===Ce){if(Ze<=ve&&pt>=0&&ht+1===pt){nt=!1,et=Ze,rt=Ze,ct=pt;continue}if(Ee>=1&&mt>=0&&mt-1===ht){at=!1,et=Ee,rt=Ee,ct=mt;continue}if(et=j,rt=j,ct=ht,0===ct)return{startLineNumber:et,endLineNumber:rt,indent:ct}}nt&&(mt>=ct?et=Ee:nt=!1),at&&(pt>=ct?rt=Ze:at=!1)}else ht=mt}return{startLineNumber:et,endLineNumber:rt,indent:ct}}getLinesBracketGuides(j,te,Ce,Ee){var Ie,Oe,Ke,je,Ze;const Ye=[],et=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new ye.Range(j,1,te,this.textModel.getLineMaxColumn(te)));let nt;if(Ce&&et.length>0){const ve=j<=Ce.lineNumber&&Ce.lineNumber<=te?et.filter((j=>ye.Range.strictContainsPosition(j.range,Ce))):this.textModel.bracketPairs.getBracketPairsInRange(ye.Range.fromPositions(Ce));nt=null===(Ie=(0,he.findLast)(ve,(j=>j.range.startLineNumber!==j.range.endLineNumber)))||void 0===Ie?void 0:Ie.range}const rt=new he.ArrayQueue(et),at=new Array,ct=new Array,ht=new g;for(let he=j;he<=te;he++){let j=new Array;ct.length>0&&(j=j.concat(ct),ct.length=0),Ye.push(j);for(const j of rt.takeWhile((j=>j.openingBracketRange.startLineNumber<=he))||[]){if(j.range.startLineNumber===j.range.endLineNumber)continue;const te=Math.min(this.getVisibleColumnFromPosition(j.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition(null!==(Ke=null===(Oe=j.closingBracketRange)||void 0===Oe?void 0:Oe.getStartPosition())&&void 0!==Ke?Ke:j.range.getEndPosition()),j.minVisibleColumnIndentation+1);let he=!1;j.closingBracketRange&&ve.firstNonWhitespaceIndex(this.textModel.getLineContent(j.closingBracketRange.startLineNumber))<j.closingBracketRange.startColumn-1&&(he=!0);const Ce=j.openingBracketRange.getStartPosition(),ye=null!==(Ze=null===(je=j.closingBracketRange)||void 0===je?void 0:je.getStartPosition())&&void 0!==Ze?Ze:j.range.getEndPosition();void 0===j.closingBracketRange?at[j.nestingLevel]=null:at[j.nestingLevel]={nestingLevel:j.nestingLevel,guideVisibleColumn:te,start:Ce,visibleStartColumn:this.getVisibleColumnFromPosition(Ce),end:ye,visibleEndColumn:this.getVisibleColumnFromPosition(ye),bracketPair:j,renderHorizontalEndLineAtTheBottom:he}}for(const te of at){if(!te)continue;const ve=nt&&te.bracketPair.range.equalsRange(nt),Ce=ht.getInlineClassNameOfLevel(te.nestingLevel)+(Ee.highlightActive&&ve?" "+ht.activeClassName:"");(ve&&Ee.horizontalGuides!==Ne.HorizontalGuidesState.Disabled||Ee.includeInactive&&Ee.horizontalGuides===Ne.HorizontalGuidesState.Enabled)&&(te.start.lineNumber===he&&te.guideVisibleColumn<te.visibleStartColumn&&j.push(new Ne.IndentGuide(te.guideVisibleColumn,Ce,new Ne.IndentGuideHorizontalLine(!1,te.start.column))),te.end.lineNumber===he+1&&te.guideVisibleColumn<te.visibleEndColumn&&ct.push(new Ne.IndentGuide(te.guideVisibleColumn,Ce,new Ne.IndentGuideHorizontalLine(!te.renderHorizontalEndLineAtTheBottom,te.end.column))))}let te=Number.MAX_SAFE_INTEGER;for(let ve=at.length-1;ve>=0;ve--){const Ce=at[ve];if(!Ce)continue;const ye=Ee.highlightActive&&nt&&Ce.bracketPair.range.equalsRange(nt),Ie=ht.getInlineClassNameOfLevel(Ce.nestingLevel)+(ye?" "+ht.activeClassName:"");(ye||Ee.includeInactive)&&Ce.renderHorizontalEndLineAtTheBottom&&Ce.end.lineNumber===he+1&&ct.push(new Ne.IndentGuide(Ce.guideVisibleColumn,Ie,null)),!(Ce.end.lineNumber<=he||Ce.start.lineNumber>=he)&&(Ce.guideVisibleColumn>=te&&!ye||(te=Ce.guideVisibleColumn,(ye||Ee.includeInactive)&&j.push(new Ne.IndentGuide(Ce.guideVisibleColumn,Ie,null))))}j.sort(((j,te)=>j.visibleColumn-te.visibleColumn))}return Ye}getVisibleColumnFromPosition(j){return Ce.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(j.lineNumber),j.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(j,te){this.assertNotDisposed();const he=this.textModel.getLineCount();if(j<1||j>he)throw new Error("Illegal value for startLineNumber");if(te<1||te>he)throw new Error("Illegal value for endLineNumber");const ve=this.textModel.getOptions(),Ce=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,ye=Boolean(Ce&&Ce.offSide),Ee=new Array(te-j+1);let Ie=-2,Ne=-1,Oe=-2,Ke=-1;for(let Ce=j;Ce<=te;Ce++){const te=Ce-j,je=this._computeIndentLevel(Ce-1);if(je>=0)Ie=Ce-1,Ne=je,Ee[te]=Math.ceil(je/ve.indentSize);else{if(-2===Ie){Ie=-1,Ne=-1;for(let j=Ce-2;j>=0;j--){const te=this._computeIndentLevel(j);if(te>=0){Ie=j,Ne=te;break}}}if(-1!==Oe&&(-2===Oe||Oe<Ce-1)){Oe=-1,Ke=-1;for(let j=Ce;j<he;j++){const te=this._computeIndentLevel(j);if(te>=0){Oe=j,Ke=te;break}}}Ee[te]=this._getIndentLevelForWhitespaceLine(ye,Ne,Ke)}}return Ee}_getIndentLevelForWhitespaceLine(j,te,he){const ve=this.textModel.getOptions();return-1===te||-1===he?0:te<he?1+Math.floor(te/ve.indentSize):te===he||j?Math.ceil(he/ve.indentSize):1+Math.floor(he/ve.indentSize)}}te.GuidesTextModelPart=h;class g{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(j){return"bracket-indent-guide lvl-"+j%30}}te.BracketPairGuidesClassNames=g})),define(Ce[425],ie([1,0,4,2]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.TokenizationRegistry=void 0;te.TokenizationRegistry=class D{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new he.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(j){this._onDidChange.fire({changedLanguages:j,changedColorMap:!1})}register(j,te){return this._map.set(j,te),this.fire([j]),(0,ve.toDisposable)((()=>{this._map.get(j)===te&&(this._map.delete(j),this.fire([j]))}))}registerFactory(j,te){var he;null===(he=this._factories.get(j))||void 0===he||he.dispose();const Ce=new I(this,j,te);return this._factories.set(j,Ce),(0,ve.toDisposable)((()=>{const te=this._factories.get(j);!te||te!==Ce||(this._factories.delete(j),te.dispose())}))}getOrCreate(j){return fi(this,void 0,void 0,(function*(){const te=this.get(j);if(te)return te;const he=this._factories.get(j);return!he||he.isResolved?null:(yield he.resolve(),this.get(j))}))}get(j){return this._map.get(j)||null}isResolved(j){if(this.get(j))return!0;const te=this._factories.get(j);return!(te&&!te.isResolved)}setColorMap(j){this._colorMap=j,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};class I extends ve.Disposable{constructor(j,te,he){super(),this._registry=j,this._languageId=te,this._factory=he,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return fi(this,void 0,void 0,(function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}))}_create(){return fi(this,void 0,void 0,(function*(){const j=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,j&&!this._isDisposed&&this._register(this._registry.register(this._languageId,j))}))}}})),define(Ce[18],ie([1,0,25,3,413,425,27]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.TokenizationRegistry=te.DocumentRangeSemanticTokensProviderRegistry=te.DocumentSemanticTokensProviderRegistry=te.FoldingRangeProviderRegistry=te.SelectionRangeRegistry=te.ColorProviderRegistry=te.LinkProviderRegistry=te.OnTypeFormattingEditProviderRegistry=te.DocumentRangeFormattingEditProviderRegistry=te.DocumentFormattingEditProviderRegistry=te.CodeActionProviderRegistry=te.InlayHintsProviderRegistry=te.CodeLensProviderRegistry=te.TypeDefinitionProviderRegistry=te.ImplementationProviderRegistry=te.DeclarationProviderRegistry=te.DefinitionProviderRegistry=te.LinkedEditingRangeProviderRegistry=te.DocumentHighlightProviderRegistry=te.DocumentSymbolProviderRegistry=te.InlineValuesProviderRegistry=te.EvaluatableExpressionProviderRegistry=te.HoverProviderRegistry=te.SignatureHelpProviderRegistry=te.InlineCompletionsProviderRegistry=te.CompletionProviderRegistry=te.RenameProviderRegistry=te.ReferenceProviderRegistry=te.InlayHintKind=te.Command=te.FoldingRangeKind=te.SymbolKinds=te.isLocationLink=te.DocumentHighlightKind=te.SignatureHelpTriggerKind=te.InlineCompletionTriggerKind=te.CompletionItemKinds=te.EncodedTokenizationResult=te.TokenizationResult=te.Token=te.TokenMetadata=void 0;te.TokenMetadata=class b{static getLanguageId(j){return(255&j)>>>0}static getTokenType(j){return(768&j)>>>8}static getFontStyle(j){return(15360&j)>>>10}static getForeground(j){return(8372224&j)>>>14}static getBackground(j){return(4286578688&j)>>>23}static getClassNameFromMetadata(j){let te="mtk"+this.getForeground(j);const he=this.getFontStyle(j);return 1&he&&(te+=" mtki"),2&he&&(te+=" mtkb"),4&he&&(te+=" mtku"),8&he&&(te+=" mtks"),te}static getInlineStyleFromMetadata(j,te){const he=this.getForeground(j),ve=this.getFontStyle(j);let Ce=`color: ${te[he]};`;1&ve&&(Ce+="font-style: italic;"),2&ve&&(Ce+="font-weight: bold;");let ye="";return 4&ve&&(ye+=" underline"),8&ve&&(ye+=" line-through"),ye&&(Ce+=`text-decoration:${ye};`),Ce}static getPresentationFromMetadata(j){const te=this.getForeground(j),he=this.getFontStyle(j);return{foreground:te,italic:Boolean(1&he),bold:Boolean(2&he),underline:Boolean(4&he),strikethrough:Boolean(8&he)}}};te.Token=class p{constructor(j,te,he){this._tokenBrand=void 0,this.offset=j,this.type=te,this.language=he}toString(){return"("+this.offset+", "+this.type+")"}};te.TokenizationResult=class h{constructor(j,te){this._tokenizationResultBrand=void 0,this.tokens=j,this.endState=te}};var Ie;te.EncodedTokenizationResult=class g{constructor(j,te){this._encodedTokenizationResultBrand=void 0,this.tokens=j,this.endState=te}},function(j){const te=new Map;te.set(0,Ee.Codicon.symbolMethod),te.set(1,Ee.Codicon.symbolFunction),te.set(2,Ee.Codicon.symbolConstructor),te.set(3,Ee.Codicon.symbolField),te.set(4,Ee.Codicon.symbolVariable),te.set(5,Ee.Codicon.symbolClass),te.set(6,Ee.Codicon.symbolStruct),te.set(7,Ee.Codicon.symbolInterface),te.set(8,Ee.Codicon.symbolModule),te.set(9,Ee.Codicon.symbolProperty),te.set(10,Ee.Codicon.symbolEvent),te.set(11,Ee.Codicon.symbolOperator),te.set(12,Ee.Codicon.symbolUnit),te.set(13,Ee.Codicon.symbolValue),te.set(15,Ee.Codicon.symbolEnum),te.set(14,Ee.Codicon.symbolConstant),te.set(15,Ee.Codicon.symbolEnum),te.set(16,Ee.Codicon.symbolEnumMember),te.set(17,Ee.Codicon.symbolKeyword),te.set(27,Ee.Codicon.symbolSnippet),te.set(18,Ee.Codicon.symbolText),te.set(19,Ee.Codicon.symbolColor),te.set(20,Ee.Codicon.symbolFile),te.set(21,Ee.Codicon.symbolReference),te.set(22,Ee.Codicon.symbolCustomColor),te.set(23,Ee.Codicon.symbolFolder),te.set(24,Ee.Codicon.symbolTypeParameter),te.set(25,Ee.Codicon.account),te.set(26,Ee.Codicon.issues),j.toIcon=function f(j){let he=te.get(j);return he||(console.info("No codicon found for CompletionItemKind "+j),he=Ee.Codicon.symbolProperty),he};const he=new Map;he.set("method",0),he.set("function",1),he.set("constructor",2),he.set("field",3),he.set("variable",4),he.set("class",5),he.set("struct",6),he.set("interface",7),he.set("module",8),he.set("property",9),he.set("event",10),he.set("operator",11),he.set("unit",12),he.set("value",13),he.set("constant",14),he.set("enum",15),he.set("enum-member",16),he.set("enumMember",16),he.set("keyword",17),he.set("snippet",27),he.set("text",18),he.set("color",19),he.set("file",20),he.set("reference",21),he.set("customcolor",22),he.set("folder",23),he.set("type-parameter",24),he.set("typeParameter",24),he.set("account",25),he.set("issue",26),j.fromString=function v(j,te){let ve=he.get(j);return void 0===ve&&!te&&(ve=9),ve}}(te.CompletionItemKinds||(te.CompletionItemKinds={})),(Ie=te.InlineCompletionTriggerKind||(te.InlineCompletionTriggerKind={}))[Ie.Automatic=0]="Automatic",Ie[Ie.Explicit=1]="Explicit",function(j){j[j.Invoke=1]="Invoke",j[j.TriggerCharacter=2]="TriggerCharacter",j[j.ContentChange=3]="ContentChange"}(te.SignatureHelpTriggerKind||(te.SignatureHelpTriggerKind={})),function(j){j[j.Text=0]="Text",j[j.Read=1]="Read",j[j.Write=2]="Write"}(te.DocumentHighlightKind||(te.DocumentHighlightKind={})),te.isLocationLink=function c(j){return j&&he.URI.isUri(j.uri)&&ve.Range.isIRange(j.range)&&(ve.Range.isIRange(j.originSelectionRange)||ve.Range.isIRange(j.targetSelectionRange))},function(j){const te=new Map;te.set(0,Ee.Codicon.symbolFile),te.set(1,Ee.Codicon.symbolModule),te.set(2,Ee.Codicon.symbolNamespace),te.set(3,Ee.Codicon.symbolPackage),te.set(4,Ee.Codicon.symbolClass),te.set(5,Ee.Codicon.symbolMethod),te.set(6,Ee.Codicon.symbolProperty),te.set(7,Ee.Codicon.symbolField),te.set(8,Ee.Codicon.symbolConstructor),te.set(9,Ee.Codicon.symbolEnum),te.set(10,Ee.Codicon.symbolInterface),te.set(11,Ee.Codicon.symbolFunction),te.set(12,Ee.Codicon.symbolVariable),te.set(13,Ee.Codicon.symbolConstant),te.set(14,Ee.Codicon.symbolString),te.set(15,Ee.Codicon.symbolNumber),te.set(16,Ee.Codicon.symbolBoolean),te.set(17,Ee.Codicon.symbolArray),te.set(18,Ee.Codicon.symbolObject),te.set(19,Ee.Codicon.symbolKey),te.set(20,Ee.Codicon.symbolNull),te.set(21,Ee.Codicon.symbolEnumMember),te.set(22,Ee.Codicon.symbolStruct),te.set(23,Ee.Codicon.symbolEvent),te.set(24,Ee.Codicon.symbolOperator),te.set(25,Ee.Codicon.symbolTypeParameter),j.toIcon=function f(j){let he=te.get(j);return he||(console.info("No codicon found for SymbolKind "+j),he=Ee.Codicon.symbolProperty),he}}(te.SymbolKinds||(te.SymbolKinds={}));class s{constructor(j){this.value=j}}te.FoldingRangeKind=s,s.Comment=new s("comment"),s.Imports=new s("imports"),s.Region=new s("region"),function(j){j.is=function u(j){return!(!j||"object"!=typeof j)&&("string"==typeof j.id&&"string"==typeof j.title)}}(te.Command||(te.Command={})),function(j){j[j.Other=0]="Other",j[j.Type=1]="Type",j[j.Parameter=2]="Parameter"}(te.InlayHintKind||(te.InlayHintKind={})),te.ReferenceProviderRegistry=new Ce.LanguageFeatureRegistry,te.RenameProviderRegistry=new Ce.LanguageFeatureRegistry,te.CompletionProviderRegistry=new Ce.LanguageFeatureRegistry,te.InlineCompletionsProviderRegistry=new Ce.LanguageFeatureRegistry,te.SignatureHelpProviderRegistry=new Ce.LanguageFeatureRegistry,te.HoverProviderRegistry=new Ce.LanguageFeatureRegistry,te.EvaluatableExpressionProviderRegistry=new Ce.LanguageFeatureRegistry,te.InlineValuesProviderRegistry=new Ce.LanguageFeatureRegistry,te.DocumentSymbolProviderRegistry=new Ce.LanguageFeatureRegistry,te.DocumentHighlightProviderRegistry=new Ce.LanguageFeatureRegistry,te.LinkedEditingRangeProviderRegistry=new Ce.LanguageFeatureRegistry,te.DefinitionProviderRegistry=new Ce.LanguageFeatureRegistry,te.DeclarationProviderRegistry=new Ce.LanguageFeatureRegistry,te.ImplementationProviderRegistry=new Ce.LanguageFeatureRegistry,te.TypeDefinitionProviderRegistry=new Ce.LanguageFeatureRegistry,te.CodeLensProviderRegistry=new Ce.LanguageFeatureRegistry,te.InlayHintsProviderRegistry=new Ce.LanguageFeatureRegistry,te.CodeActionProviderRegistry=new Ce.LanguageFeatureRegistry,te.DocumentFormattingEditProviderRegistry=new Ce.LanguageFeatureRegistry,te.DocumentRangeFormattingEditProviderRegistry=new Ce.LanguageFeatureRegistry,te.OnTypeFormattingEditProviderRegistry=new Ce.LanguageFeatureRegistry,te.LinkProviderRegistry=new Ce.LanguageFeatureRegistry,te.ColorProviderRegistry=new Ce.LanguageFeatureRegistry,te.SelectionRangeRegistry=new Ce.LanguageFeatureRegistry,te.FoldingRangeProviderRegistry=new Ce.LanguageFeatureRegistry,te.DocumentSemanticTokensProviderRegistry=new Ce.LanguageFeatureRegistry,te.DocumentRangeSemanticTokensProviderRegistry=new Ce.LanguageFeatureRegistry,te.TokenizationRegistry=new ye.TokenizationRegistry})),define(Ce[121],ie([1,0,18]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.nullTokenizeEncoded=te.nullTokenize=te.NullState=void 0,te.NullState=new class{clone(){return this}equals(j){return this===j}},te.nullTokenize=function m(j,te){return new he.TokenizationResult([new he.Token(0,"",j)],te)},te.nullTokenizeEncoded=function D(j,ve){const Ce=new Uint32Array(2);return Ce[0]=0,Ce[1]=(16384|j<<0|2<<23)>>>0,new he.EncodedTokenizationResult(Ce,null===ve?te.NullState:ve)}})),define(Ce[181],ie([1,0,13,18,149,83,99]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.FastTokenizer=te.TextBufferTokenizer=te.Token=void 0;class b{constructor(j,te,he,ve,Ce){this.length=j,this.kind=te,this.bracketId=he,this.bracketIds=ve,this.astNode=Ce}}te.Token=b;te.TextBufferTokenizer=class p{constructor(j,te){this.textModel=j,this.bracketTokens=te,this.reader=new h(this.textModel,this.bracketTokens),this._offset=ye.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=j.getLineCount(),this.textBufferLastLineLength=j.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,ye.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(j){this.didPeek=!1,this._offset=(0,ye.lengthAdd)(this._offset,j);const te=(0,ye.lengthToObj)(this._offset);this.reader.setPosition(te.lineCount,te.columnCount)}read(){let j;return this.peeked?(this.didPeek=!1,j=this.peeked):j=this.reader.read(),j&&(this._offset=(0,ye.lengthAdd)(this._offset,j.length)),j}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}};class h{constructor(j,te){this.textModel=j,this.bracketTokens=te,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=j.getLineCount(),this.textBufferLastLineLength=j.getLineLength(this.textBufferLineCount)}setPosition(j,te){j===this.lineIdx?(this.lineCharOffset=te,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=j,this.lineCharOffset=te,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const j=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,ye.lengthGetColumnCountIfZeroLineCount)(j.length),j}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const j=this.lineIdx,te=this.lineCharOffset;let he=0;for(;;){const Ce=this.lineTokens,Ee=Ce.getCount();let Ie=null;if(this.lineTokenOffset<Ee){const Ne=Ce.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<Ee&&Ne===Ce.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const Oe=0===ve.TokenMetadata.getTokenType(Ne),Ke=Ce.getEndOffset(this.lineTokenOffset);if(Oe&&Ke!==this.lineCharOffset){const j=Ce.getLanguageId(this.lineTokenOffset),te=this.line.substring(this.lineCharOffset,Ke),he=this.bracketTokens.getSingleLanguageBracketTokens(j),ve=he.regExpGlobal;if(ve){ve.lastIndex=0;const j=ve.exec(te);j&&(Ie=he.getToken(j[0]),Ie&&(this.lineCharOffset+=j.index))}}if(he+=Ke-this.lineCharOffset,Ie){if(j!==this.lineIdx||te!==this.lineCharOffset){this.peekedToken=Ie;break}return this.lineCharOffset+=(0,ye.lengthGetColumnCountIfZeroLineCount)(Ie.length),Ie}this.lineTokenOffset++,this.lineCharOffset=Ke}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,he+=33,he>1e3))break;if(he>1500)break}const Ie=(0,ye.lengthDiff)(j,te,this.lineIdx,this.lineCharOffset);return new b(Ie,0,-1,Ee.SmallImmutableSet.getEmpty(),new Ce.TextAstNode(Ie))}}te.FastTokenizer=class g{constructor(j,te){this.text=j,this._offset=ye.lengthZero,this.idx=0;const he=te.getRegExpStr()?new RegExp(te.getRegExpStr()+"|\n","g"):null,ve=[];let Ie,Ne=0,Oe=0,Ke=0,je=0;const Ze=new Array;for(let j=0;j<60;j++)Ze.push(new b((0,ye.toLength)(0,j),0,-1,Ee.SmallImmutableSet.getEmpty(),new Ce.TextAstNode((0,ye.toLength)(0,j))));const Ye=new Array;for(let j=0;j<60;j++)Ye.push(new b((0,ye.toLength)(1,j),0,-1,Ee.SmallImmutableSet.getEmpty(),new Ce.TextAstNode((0,ye.toLength)(1,j))));if(he)for(he.lastIndex=0;null!==(Ie=he.exec(j));){const j=Ie.index,he=Ie[0];if("\n"===he)Ne++,Oe=j+1;else{if(Ke!==j){let te;if(je===Ne){const he=j-Ke;if(he<Ze.length)te=Ze[he];else{const j=(0,ye.toLength)(0,he);te=new b(j,0,-1,Ee.SmallImmutableSet.getEmpty(),new Ce.TextAstNode(j))}}else{const he=Ne-je,ve=j-Oe;if(1===he&&ve<Ye.length)te=Ye[ve];else{const j=(0,ye.toLength)(he,ve);te=new b(j,0,-1,Ee.SmallImmutableSet.getEmpty(),new Ce.TextAstNode(j))}}ve.push(te)}ve.push(te.getToken(he)),Ke=j+he.length,je=Ne}}const et=j.length;if(Ke!==et){const j=je===Ne?(0,ye.toLength)(0,et-Ke):(0,ye.toLength)(Ne-je,et-Oe);ve.push(new b(j,0,-1,Ee.SmallImmutableSet.getEmpty(),new Ce.TextAstNode(j)))}this.length=(0,ye.toLength)(Ne,et-Oe),this.tokens=ve}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(j){throw new he.NotSupportedError}}})),define(Ce[247],ie([1,0,8,149,83,99,181]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.LanguageAgnosticBracketTokens=te.BracketTokens=void 0;class b{constructor(j){this.map=j,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(j,te){function n(j,he){return te.getKey(`${j}:::${he}`)}const he=j.characterPair.getColorizedBrackets(),Ie=new Map,Ne=new Set;for(const[te,ve]of he){Ne.add(te);let he=Ie.get(ve);const Ce=n(j.languageId,te);he||(he={openingBrackets:ye.SmallImmutableSet.getEmpty(),first:Ce},Ie.set(ve,he)),he.openingBrackets=he.openingBrackets.add(Ce,ye.identityKeyProvider)}const Oe=new Map;for(const[te,he]of Ie){const ye=(0,Ce.toLength)(0,te.length);Oe.set(te,new Ee.Token(ye,2,he.first,he.openingBrackets,ve.BracketAstNode.create(ye,j.languageId,he.openingBrackets)))}for(const te of Ne){const he=(0,Ce.toLength)(0,te.length),Ie=n(j.languageId,te),Ne=ye.SmallImmutableSet.getEmpty().add(Ie,ye.identityKeyProvider);Oe.set(te,new Ee.Token(he,1,Ie,Ne,ve.BracketAstNode.create(he,j.languageId,Ne)))}return new b(Oe)}getRegExpStr(){if(this.isEmpty)return null;{const j=[...this.map.keys()];return j.sort(),j.reverse(),j.map((j=>function p(j){const te=(0,he.escapeRegExpCharacters)(j);return/^[\w ]+$/.test(j)?`\\b${te}\\b`:te}(j))).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const j=this.getRegExpStr();this._regExpGlobal=j?new RegExp(j,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(j){return this.map.get(j)}findClosingTokenText(j){for(const[te,he]of this.map)if(he.bracketIds.intersects(j))return te}get isEmpty(){return 0===this.map.size}}te.BracketTokens=b;te.LanguageAgnosticBracketTokens=class h{constructor(j,te){this.denseKeyProvider=j,this.getLanguageConfiguration=te,this.languageIdToBracketTokens=new Map}didLanguageChange(j){const te=this.languageIdToBracketTokens.get(j);if(!te)return!1;const he=b.createFromLanguage(this.getLanguageConfiguration(j),this.denseKeyProvider).getRegExpStr();return te.getRegExpStr()!==he}getSingleLanguageBracketTokens(j){let te=this.languageIdToBracketTokens.get(j);return te||(te=b.createFromLanguage(this.getLanguageConfiguration(j),this.denseKeyProvider),this.languageIdToBracketTokens.set(j,te)),te}}})),define(Ce[426],ie([1,0,4,2,3,424,240,247,83,241,99,181]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){Object.defineProperty(te,"__esModule",{value:!0}),te.BracketPairsTree=void 0;class i extends ve.Disposable{constructor(j,te){if(super(),this.textModel=j,this.getLanguageConfiguration=te,this.didChangeEmitter=new he.Emitter,this.denseKeyProvider=new Ke.DenseKeyProvider,this.brackets=new Ie.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this._register(j.onBackgroundTokenizationStateChanged((()=>{if(2===j.backgroundTokenizationState){const j=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,j||this.didChangeEmitter.fire()}}))),this._register(j.onDidChangeTokens((({ranges:j})=>{const te=j.map((j=>new Ee.TextEditInfo((0,Ne.toLength)(j.fromLineNumber-1,0),(0,Ne.toLength)(j.toLineNumber,0),(0,Ne.toLength)(j.toLineNumber-j.fromLineNumber+1,0))));this.astWithTokens=this.parseDocumentFromTextBuffer(te,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}))),0===j.backgroundTokenizationState){const j=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),te=new je.FastTokenizer(this.textModel.getValue(),j);this.initialAstWithoutTokens=(0,Oe.parseDocument)(te,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===j.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===j.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(j){return this.brackets.didLanguageChange(j)}handleContentChanged(j){const te=j.changes.map((j=>{const te=Ce.Range.lift(j.range);return new Ee.TextEditInfo((0,Ne.positionToLength)(te.getStartPosition()),(0,Ne.positionToLength)(te.getEndPosition()),(0,Ne.lengthOfString)(j.text))})).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(te,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(te,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(j,te,he){const ve=te,Ce=new je.TextBufferTokenizer(this.textModel,this.brackets);return(0,Oe.parseDocument)(Ce,j,ve,he)}getBracketsInRange(j){const te=(0,Ne.toLength)(j.startLineNumber-1,j.startColumn-1),he=(0,Ne.toLength)(j.endLineNumber-1,j.endColumn-1),ve=new Array,Ce=this.initialAstWithoutTokens||this.astWithTokens;return n(Ce,Ne.lengthZero,Ce.length,te,he,ve),ve}getBracketPairsInRange(j,te){const he=new Array,ve=(0,Ne.positionToLength)(j.getStartPosition()),Ce=(0,Ne.positionToLength)(j.getEndPosition()),ye=this.initialAstWithoutTokens||this.astWithTokens,Ee=new l(he,te,this.textModel);return c(ye,Ne.lengthZero,ye.length,ve,Ce,Ee),he}}function n(j,te,he,ve,Ce,Ee,Ie=0){if(1===j.kind){const j=(0,Ne.lengthsToRange)(te,he);Ee.push(new ye.BracketInfo(j,Ie-1,!1))}else if(3===j.kind){const j=(0,Ne.lengthsToRange)(te,he);Ee.push(new ye.BracketInfo(j,Ie-1,!0))}else if(4===j.kind)for(const ye of j.children)he=(0,Ne.lengthAdd)(te,ye.length),(0,Ne.lengthLessThanEqual)(te,Ce)&&(0,Ne.lengthGreaterThanEqual)(he,ve)&&n(ye,te,he,ve,Ce,Ee,Ie),te=he;else if(2===j.kind){Ie++;{const ye=j.openingBracket;he=(0,Ne.lengthAdd)(te,ye.length),(0,Ne.lengthLessThanEqual)(te,Ce)&&(0,Ne.lengthGreaterThanEqual)(he,ve)&&n(ye,te,he,ve,Ce,Ee,Ie),te=he}if(j.child){const ye=j.child;he=(0,Ne.lengthAdd)(te,ye.length),(0,Ne.lengthLessThanEqual)(te,Ce)&&(0,Ne.lengthGreaterThanEqual)(he,ve)&&n(ye,te,he,ve,Ce,Ee,Ie),te=he}if(j.closingBracket){const ye=j.closingBracket;he=(0,Ne.lengthAdd)(te,ye.length),(0,Ne.lengthLessThanEqual)(te,Ce)&&(0,Ne.lengthGreaterThanEqual)(he,ve)&&n(ye,te,he,ve,Ce,Ee,Ie),te=he}}}te.BracketPairsTree=i;class l{constructor(j,te,he){this.result=j,this.includeMinIndentation=te,this.textModel=he}}function c(j,te,he,ve,Ce,Ee,Ie=0){var Oe;if(2===j.kind){const ve=(0,Ne.lengthAdd)(te,j.openingBracket.length);let Ce=-1;Ee.includeMinIndentation&&(Ce=j.computeMinIndentation(te,Ee.textModel)),Ee.result.push(new ye.BracketPairWithMinIndentationInfo((0,Ne.lengthsToRange)(te,he),(0,Ne.lengthsToRange)(te,ve),j.closingBracket?(0,Ne.lengthsToRange)((0,Ne.lengthAdd)(ve,(null===(Oe=j.child)||void 0===Oe?void 0:Oe.length)||Ne.lengthZero),he):void 0,Ie,Ce)),Ie++}let Ke=te;for(const te of j.children){const j=Ke;Ke=(0,Ne.lengthAdd)(Ke,te.length),(0,Ne.lengthLessThanEqual)(j,Ce)&&(0,Ne.lengthLessThanEqual)(ve,Ke)&&c(te,j,Ke,ve,Ce,Ee,Ie)}}})),define(Ce[427],ie([1,0,4,2,426,120,177]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.BracketPairsTextModelPart=void 0;class b extends ve.Disposable{constructor(j,te){super(),this.textModel=j,this.languageConfigurationService=te,this.bracketPairsTree=this._register(new ve.MutableDisposable),this.onDidChangeEmitter=new he.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(j.onDidChangeOptions((j=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()}))),this._register(j.onDidChangeLanguage((j=>{this.bracketPairsTree.clear(),this.updateBracketPairsTree()}))),this._register(this.languageConfigurationService.onDidChange((j=>{var te;(!j.languageId||(null===(te=this.bracketPairsTree.value)||void 0===te?void 0:te.object.didLanguageChange(j.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())})))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const j=new ve.DisposableStore;this.bracketPairsTree.value=function p(j,te){return{object:j,dispose:()=>null==te?void 0:te.dispose()}}(j.add(new Ce.BracketPairsTree(this.textModel,(j=>this.languageConfigurationService.getLanguageConfiguration(j)))),j),j.add(this.bracketPairsTree.value.object.onDidChange((j=>this.onDidChangeEmitter.fire(j)))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}handleContentChanged(j){var te;null===(te=this.bracketPairsTree.value)||void 0===te||te.object.handleContentChanged(j)}getBracketPairsInRange(j){var te;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(te=this.bracketPairsTree.value)||void 0===te?void 0:te.object.getBracketPairsInRange(j,!1))||[]}getBracketPairsInRangeWithMinIndentation(j){var te;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(te=this.bracketPairsTree.value)||void 0===te?void 0:te.object.getBracketPairsInRange(j,!0))||[]}getBracketsInRange(j){var te;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(te=this.bracketPairsTree.value)||void 0===te?void 0:te.object.getBracketsInRange(j))||[]}findMatchingBracketUp(j,te){const he=j.toLowerCase(),ve=this.textModel.validatePosition(te),Ce=this.textModel.getLanguageIdAtPosition(ve.lineNumber,ve.column),ye=this.languageConfigurationService.getLanguageConfiguration(Ce).brackets;if(!ye)return null;const Ee=ye.textIsBracket[he];return Ee?g(this._findMatchingBracketUp(Ee,ve,null)):null}matchBracket(j){return this._matchBracket(this.textModel.validatePosition(j))}_establishBracketSearchOffsets(j,te,he,ve){const Ce=te.getCount(),Ee=te.getLanguageId(ve);let Ie=Math.max(0,j.column-1-he.maxBracketLength);for(let j=ve-1;j>=0;j--){const he=te.getEndOffset(j);if(he<=Ie)break;if((0,ye.ignoreBracketsInToken)(te.getStandardTokenType(j))||te.getLanguageId(j)!==Ee){Ie=he;break}}let Ne=Math.min(te.getLineContent().length,j.column-1+he.maxBracketLength);for(let j=ve+1;j<Ce;j++){const he=te.getStartOffset(j);if(he>=Ne)break;if((0,ye.ignoreBracketsInToken)(te.getStandardTokenType(j))||te.getLanguageId(j)!==Ee){Ne=he;break}}return{searchStartOffset:Ie,searchEndOffset:Ne}}_matchBracket(j){const te=j.lineNumber,he=this.textModel.getLineTokens(te),ve=this.textModel.getLineContent(te),Ce=he.findTokenIndexAtOffset(j.column-1);if(Ce<0)return null;const Ie=this.languageConfigurationService.getLanguageConfiguration(he.getLanguageId(Ce)).brackets;if(Ie&&!(0,ye.ignoreBracketsInToken)(he.getStandardTokenType(Ce))){let{searchStartOffset:ye,searchEndOffset:Ne}=this._establishBracketSearchOffsets(j,he,Ie,Ce),Oe=null;for(;;){const he=Ee.BracketsUtils.findNextBracketInRange(Ie.forwardRegex,te,ve,ye,Ne);if(!he)break;if(he.startColumn<=j.column&&j.column<=he.endColumn){const j=ve.substring(he.startColumn-1,he.endColumn-1).toLowerCase(),te=this._matchFoundBracket(he,Ie.textIsBracket[j],Ie.textIsOpenBracket[j],null);if(te){if(te instanceof h)return null;Oe=te}}ye=he.endColumn-1}if(Oe)return Oe}if(Ce>0&&he.getStartOffset(Ce)===j.column-1){const Ie=Ce-1,Ne=this.languageConfigurationService.getLanguageConfiguration(he.getLanguageId(Ie)).brackets;if(Ne&&!(0,ye.ignoreBracketsInToken)(he.getStandardTokenType(Ie))){const{searchStartOffset:Ce,searchEndOffset:ye}=this._establishBracketSearchOffsets(j,he,Ne,Ie),Oe=Ee.BracketsUtils.findPrevBracketInRange(Ne.reversedRegex,te,ve,Ce,ye);if(Oe&&Oe.startColumn<=j.column&&j.column<=Oe.endColumn){const j=ve.substring(Oe.startColumn-1,Oe.endColumn-1).toLowerCase(),te=this._matchFoundBracket(Oe,Ne.textIsBracket[j],Ne.textIsOpenBracket[j],null);if(te)return te instanceof h?null:te}}}return null}_matchFoundBracket(j,te,he,ve){if(!te)return null;const Ce=he?this._findMatchingBracketDown(te,j.getEndPosition(),ve):this._findMatchingBracketUp(te,j.getStartPosition(),ve);return Ce?Ce instanceof h?Ce:[j,Ce]:null}_findMatchingBracketUp(j,te,he){const ve=j.languageId,Ce=j.reversedRegex;let Ie=-1,Ne=0;const a=(te,ve,ye,Oe)=>{for(;;){if(he&&++Ne%100==0&&!he())return h.INSTANCE;const Ke=Ee.BracketsUtils.findPrevBracketInRange(Ce,te,ve,ye,Oe);if(!Ke)break;const je=ve.substring(Ke.startColumn-1,Ke.endColumn-1).toLowerCase();if(j.isOpen(je)?Ie++:j.isClose(je)&&Ie--,0===Ie)return Ke;Oe=Ke.startColumn-1}return null};for(let j=te.lineNumber;j>=1;j--){const he=this.textModel.getLineTokens(j),Ce=he.getCount(),Ee=this.textModel.getLineContent(j);let Ie=Ce-1,Ne=Ee.length,Oe=Ee.length;j===te.lineNumber&&(Ie=he.findTokenIndexAtOffset(te.column-1),Ne=te.column-1,Oe=te.column-1);let Ke=!0;for(;Ie>=0;Ie--){const te=he.getLanguageId(Ie)===ve&&!(0,ye.ignoreBracketsInToken)(he.getStandardTokenType(Ie));if(te)Ke?Ne=he.getStartOffset(Ie):(Ne=he.getStartOffset(Ie),Oe=he.getEndOffset(Ie));else if(Ke&&Ne!==Oe){const te=a(j,Ee,Ne,Oe);if(te)return te}Ke=te}if(Ke&&Ne!==Oe){const te=a(j,Ee,Ne,Oe);if(te)return te}}return null}_findMatchingBracketDown(j,te,he){const ve=j.languageId,Ce=j.forwardRegex;let Ie=1,Ne=0;const a=(te,ve,ye,Oe)=>{for(;;){if(he&&++Ne%100==0&&!he())return h.INSTANCE;const Ke=Ee.BracketsUtils.findNextBracketInRange(Ce,te,ve,ye,Oe);if(!Ke)break;const je=ve.substring(Ke.startColumn-1,Ke.endColumn-1).toLowerCase();if(j.isOpen(je)?Ie++:j.isClose(je)&&Ie--,0===Ie)return Ke;ye=Ke.endColumn-1}return null},Oe=this.textModel.getLineCount();for(let j=te.lineNumber;j<=Oe;j++){const he=this.textModel.getLineTokens(j),Ce=he.getCount(),Ee=this.textModel.getLineContent(j);let Ie=0,Ne=0,Oe=0;j===te.lineNumber&&(Ie=he.findTokenIndexAtOffset(te.column-1),Ne=te.column-1,Oe=te.column-1);let Ke=!0;for(;Ie<Ce;Ie++){const te=he.getLanguageId(Ie)===ve&&!(0,ye.ignoreBracketsInToken)(he.getStandardTokenType(Ie));if(te)Ke||(Ne=he.getStartOffset(Ie)),Oe=he.getEndOffset(Ie);else if(Ke&&Ne!==Oe){const te=a(j,Ee,Ne,Oe);if(te)return te}Ke=te}if(Ke&&Ne!==Oe){const te=a(j,Ee,Ne,Oe);if(te)return te}}return null}findPrevBracket(j){const te=this.textModel.validatePosition(j);let he=null,ve=null;for(let j=te.lineNumber;j>=1;j--){const Ce=this.textModel.getLineTokens(j),Ie=Ce.getCount(),Ne=this.textModel.getLineContent(j);let Oe=Ie-1,Ke=Ne.length,je=Ne.length;if(j===te.lineNumber){Oe=Ce.findTokenIndexAtOffset(te.column-1),Ke=te.column-1,je=te.column-1;const j=Ce.getLanguageId(Oe);he!==j&&(he=j,ve=this.languageConfigurationService.getLanguageConfiguration(he).brackets)}let Ze=!0;for(;Oe>=0;Oe--){const te=Ce.getLanguageId(Oe);if(he!==te){if(ve&&Ze&&Ke!==je){const te=Ee.BracketsUtils.findPrevBracketInRange(ve.reversedRegex,j,Ne,Ke,je);if(te)return this._toFoundBracket(ve,te);Ze=!1}he=te,ve=this.languageConfigurationService.getLanguageConfiguration(he).brackets}const Ie=!!ve&&!(0,ye.ignoreBracketsInToken)(Ce.getStandardTokenType(Oe));if(Ie)Ze?Ke=Ce.getStartOffset(Oe):(Ke=Ce.getStartOffset(Oe),je=Ce.getEndOffset(Oe));else if(ve&&Ze&&Ke!==je){const te=Ee.BracketsUtils.findPrevBracketInRange(ve.reversedRegex,j,Ne,Ke,je);if(te)return this._toFoundBracket(ve,te)}Ze=Ie}if(ve&&Ze&&Ke!==je){const te=Ee.BracketsUtils.findPrevBracketInRange(ve.reversedRegex,j,Ne,Ke,je);if(te)return this._toFoundBracket(ve,te)}}return null}findNextBracket(j){const te=this.textModel.validatePosition(j),he=this.textModel.getLineCount();let ve=null,Ce=null;for(let j=te.lineNumber;j<=he;j++){const he=this.textModel.getLineTokens(j),Ie=he.getCount(),Ne=this.textModel.getLineContent(j);let Oe=0,Ke=0,je=0;if(j===te.lineNumber){Oe=he.findTokenIndexAtOffset(te.column-1),Ke=te.column-1,je=te.column-1;const j=he.getLanguageId(Oe);ve!==j&&(ve=j,Ce=this.languageConfigurationService.getLanguageConfiguration(ve).brackets)}let Ze=!0;for(;Oe<Ie;Oe++){const te=he.getLanguageId(Oe);if(ve!==te){if(Ce&&Ze&&Ke!==je){const te=Ee.BracketsUtils.findNextBracketInRange(Ce.forwardRegex,j,Ne,Ke,je);if(te)return this._toFoundBracket(Ce,te);Ze=!1}ve=te,Ce=this.languageConfigurationService.getLanguageConfiguration(ve).brackets}const Ie=!!Ce&&!(0,ye.ignoreBracketsInToken)(he.getStandardTokenType(Oe));if(Ie)Ze||(Ke=he.getStartOffset(Oe)),je=he.getEndOffset(Oe);else if(Ce&&Ze&&Ke!==je){const te=Ee.BracketsUtils.findNextBracketInRange(Ce.forwardRegex,j,Ne,Ke,je);if(te)return this._toFoundBracket(Ce,te)}Ze=Ie}if(Ce&&Ze&&Ke!==je){const te=Ee.BracketsUtils.findNextBracketInRange(Ce.forwardRegex,j,Ne,Ke,je);if(te)return this._toFoundBracket(Ce,te)}}return null}findEnclosingBrackets(j,te){let he;if(void 0===te)he=null;else{const j=Date.now();he=()=>Date.now()-j<=te}const ve=this.textModel.validatePosition(j),Ce=this.textModel.getLineCount(),Ie=new Map;let Ne=[];const a=(j,te)=>{if(!Ie.has(j)){const he=[];for(let j=0,ve=te?te.brackets.length:0;j<ve;j++)he[j]=0;Ie.set(j,he)}Ne=Ie.get(j)};let Oe=0;const u=(j,te,ve,Ce,ye)=>{for(;;){if(he&&++Oe%100==0&&!he())return h.INSTANCE;const Ie=Ee.BracketsUtils.findNextBracketInRange(j.forwardRegex,te,ve,Ce,ye);if(!Ie)break;const Ke=ve.substring(Ie.startColumn-1,Ie.endColumn-1).toLowerCase(),je=j.textIsBracket[Ke];if(je&&(je.isOpen(Ke)?Ne[je.index]++:je.isClose(Ke)&&Ne[je.index]--,-1===Ne[je.index]))return this._matchFoundBracket(Ie,je,!1,he);Ce=Ie.endColumn-1}return null};let Ke=null,je=null;for(let j=ve.lineNumber;j<=Ce;j++){const te=this.textModel.getLineTokens(j),he=te.getCount(),Ce=this.textModel.getLineContent(j);let Ee=0,Ie=0,Ne=0;if(j===ve.lineNumber){Ee=te.findTokenIndexAtOffset(ve.column-1),Ie=ve.column-1,Ne=ve.column-1;const j=te.getLanguageId(Ee);Ke!==j&&(Ke=j,je=this.languageConfigurationService.getLanguageConfiguration(Ke).brackets,a(Ke,je))}let Oe=!0;for(;Ee<he;Ee++){const he=te.getLanguageId(Ee);if(Ke!==he){if(je&&Oe&&Ie!==Ne){const te=u(je,j,Ce,Ie,Ne);if(te)return g(te);Oe=!1}Ke=he,je=this.languageConfigurationService.getLanguageConfiguration(Ke).brackets,a(Ke,je)}const ve=!!je&&!(0,ye.ignoreBracketsInToken)(te.getStandardTokenType(Ee));if(ve)Oe||(Ie=te.getStartOffset(Ee)),Ne=te.getEndOffset(Ee);else if(je&&Oe&&Ie!==Ne){const te=u(je,j,Ce,Ie,Ne);if(te)return g(te)}Oe=ve}if(je&&Oe&&Ie!==Ne){const te=u(je,j,Ce,Ie,Ne);if(te)return g(te)}}return null}_toFoundBracket(j,te){if(!te)return null;let he=this.textModel.getValueInRange(te);he=he.toLowerCase();const ve=j.textIsBracket[he];return ve?{range:te,open:ve.open,close:ve.close,isOpen:j.textIsOpenBracket[he]}:null}}te.BracketPairsTextModelPart=b;class h{constructor(){this._searchCanceledBrand=void 0}}function g(j){return j instanceof h?null:j}h.INSTANCE=new h})),define(Ce[428],ie([1,0,247,83,241,99,181]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.fixBracketsInLine=void 0,te.fixBracketsInLine=function b(j,te){const Ie=new ye.DenseKeyProvider,Ne=new he.LanguageAgnosticBracketTokens(Ie,(j=>te.getLanguageConfiguration(j))),Oe=new Ee.TextBufferTokenizer(new p([j]),Ne),Ke=(0,Ce.parseDocument)(Oe,[],void 0,!0);let je="";const Ze=j.getLineContent();return function s(j,te){if(2===j.kind)s(j.openingBracket,te),te=(0,ve.lengthAdd)(te,j.openingBracket.length),j.child&&(s(j.child,te),te=(0,ve.lengthAdd)(te,j.child.length)),j.closingBracket?(s(j.closingBracket,te),te=(0,ve.lengthAdd)(te,j.closingBracket.length)):je+=Ne.getSingleLanguageBracketTokens(j.openingBracket.languageId).findClosingTokenText(j.openingBracket.bracketIds);else if(3!==j.kind)if(0===j.kind||1===j.kind)je+=Ze.substring((0,ve.lengthGetColumnCountIfZeroLineCount)(te),(0,ve.lengthGetColumnCountIfZeroLineCount)((0,ve.lengthAdd)(te,j.length)));else if(4===j.kind)for(const he of j.children)s(he,te),te=(0,ve.lengthAdd)(te,he.length)}(Ke,ve.lengthZero),je};class p{constructor(j){this.lines=j}getLineCount(){return this.lines.length}getLineLength(j){return this.lines[j-1].getLineContent().length}getLineTokens(j){return this.lines[j-1]}}})),define(Ce[248],ie([1,0,21,4,55,25,11,3,22,18,179]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.createMonacoBaseAPI=te.KeyMod=void 0;class t{static chord(j,te){return(0,Ce.KeyChord)(j,te)}}te.KeyMod=t,t.CtrlCmd=2048,t.Shift=1024,t.Alt=512,t.WinCtrl=256,te.createMonacoBaseAPI=function i(){return{editor:void 0,languages:void 0,CancellationTokenSource:he.CancellationTokenSource,Emitter:ve.Emitter,KeyCode:Ke.KeyCode,KeyMod:t,Position:Ee.Position,Range:Ie.Range,Selection:Ne.Selection,SelectionDirection:Ke.SelectionDirection,MarkerSeverity:Ke.MarkerSeverity,MarkerTag:Ke.MarkerTag,Uri:ye.URI,Token:Oe.Token}}})),define(Ce[429],ie([1,0,138,17,25,11,3,404,419,146,406,409,248,20,65,243]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt){Object.defineProperty(te,"__esModule",{value:!0}),te.create=te.EditorSimpleWorker=te.MirrorModel=void 0;class r extends Ne.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(j){return this._lines[j-1]}getWordAtPosition(j,te){const he=(0,Oe.getWordAtText)(j.column,(0,Oe.ensureValidWordDefinition)(te),this._lines[j.lineNumber-1],0);return he?new Ee.Range(j.lineNumber,he.startColumn,j.lineNumber,he.endColumn):null}words(j){const te=this._lines,he=this._wordenize.bind(this);let ve=0,Ce="",ye=0,Ee=[];return{*[Symbol.iterator](){for(;;)if(ye<Ee.length){const j=Ce.substring(Ee[ye].start,Ee[ye].end);ye+=1,yield j}else{if(!(ve<te.length))break;Ce=te[ve],Ee=he(Ce,j),ye=0,ve+=1}}}}getLineWords(j,te){const he=this._lines[j-1],ve=this._wordenize(he,te),Ce=[];for(const j of ve)Ce.push({word:he.substring(j.start,j.end),startColumn:j.start+1,endColumn:j.end+1});return Ce}_wordenize(j,te){const he=[];let ve;for(te.lastIndex=0;(ve=te.exec(j))&&0!==ve[0].length;)he.push({start:ve.index,end:ve.index+ve[0].length});return he}getValueInRange(j){if((j=this._validateRange(j)).startLineNumber===j.endLineNumber)return this._lines[j.startLineNumber-1].substring(j.startColumn-1,j.endColumn-1);const te=this._eol,he=j.startLineNumber-1,ve=j.endLineNumber-1,Ce=[];Ce.push(this._lines[he].substring(j.startColumn-1));for(let j=he+1;j<ve;j++)Ce.push(this._lines[j]);return Ce.push(this._lines[ve].substring(0,j.endColumn-1)),Ce.join(te)}offsetAt(j){return j=this._validatePosition(j),this._ensureLineStarts(),this._lineStarts.getPrefixSum(j.lineNumber-2)+(j.column-1)}positionAt(j){j=Math.floor(j),j=Math.max(0,j),this._ensureLineStarts();const te=this._lineStarts.getIndexOf(j),he=this._lines[te.index].length;return{lineNumber:1+te.index,column:1+Math.min(te.remainder,he)}}_validateRange(j){const te=this._validatePosition({lineNumber:j.startLineNumber,column:j.startColumn}),he=this._validatePosition({lineNumber:j.endLineNumber,column:j.endColumn});return te.lineNumber!==j.startLineNumber||te.column!==j.startColumn||he.lineNumber!==j.endLineNumber||he.column!==j.endColumn?{startLineNumber:te.lineNumber,startColumn:te.column,endLineNumber:he.lineNumber,endColumn:he.column}:j}_validatePosition(j){if(!ye.Position.isIPosition(j))throw new Error("bad position");let{lineNumber:te,column:he}=j,ve=!1;if(te<1)te=1,he=1,ve=!0;else if(te>this._lines.length)te=this._lines.length,he=this._lines[te-1].length+1,ve=!0;else{const j=this._lines[te-1].length+1;he<1?(he=1,ve=!0):he>j&&(he=j,ve=!0)}return ve?{lineNumber:te,column:he}:j}}te.MirrorModel=r;class s{constructor(j,te){this._host=j,this._models=Object.create(null),this._foreignModuleFactory=te,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(j){return this._models[j]}_getModels(){const j=[];return Object.keys(this._models).forEach((te=>j.push(this._models[te]))),j}acceptNewModel(j){this._models[j.url]=new r(Ce.URI.parse(j.url),j.lines,j.EOL,j.versionId)}acceptModelChanged(j,te){this._models[j]&&this._models[j].onEvents(te)}acceptRemovedModel(j){!this._models[j]||delete this._models[j]}computeUnicodeHighlights(j,te,he){return fi(this,void 0,void 0,(function*(){const ve=this._getModel(j);return ve?nt.UnicodeTextModelHighlighter.computeUnicodeHighlights(ve,te,he):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}))}computeDiff(j,te,he,ve){return fi(this,void 0,void 0,(function*(){const Ce=this._getModel(j),ye=this._getModel(te);if(!Ce||!ye)return null;const Ee=Ce.getLinesContent(),Ne=ye.getLinesContent(),Oe=new Ie.DiffComputer(Ee,Ne,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:he,shouldMakePrettyDiff:!0,maxComputationTime:ve}).computeDiff(),Ke=!(Oe.changes.length>0)&&this._modelsAreIdentical(Ce,ye);return{quitEarly:Oe.quitEarly,identical:Ke,changes:Oe.changes}}))}_modelsAreIdentical(j,te){const he=j.getLineCount();if(he!==te.getLineCount())return!1;for(let ve=1;ve<=he;ve++){if(j.getLineContent(ve)!==te.getLineContent(ve))return!1}return!0}computeMoreMinimalEdits(j,te){return fi(this,void 0,void 0,(function*(){const ve=this._getModel(j);if(!ve)return te;const Ce=[];let ye;te=te.slice(0).sort(((j,te)=>{if(j.range&&te.range)return Ee.Range.compareRangesUsingStarts(j.range,te.range);return(j.range?0:1)-(te.range?0:1)}));for(let{range:j,text:Ie,eol:Ne}of te){if("number"==typeof Ne&&(ye=Ne),Ee.Range.isEmpty(j)&&!Ie)continue;const te=ve.getValueInRange(j);if(Ie=Ie.replace(/\r\n|\n|\r/g,ve.eol),te===Ie)continue;if(Math.max(Ie.length,te.length)>s._diffLimit){Ce.push({range:j,text:Ie});continue}const Oe=(0,he.stringDiff)(te,Ie,!1),Ke=ve.offsetAt(Ee.Range.lift(j).getStartPosition());for(const j of Oe){const te=ve.positionAt(Ke+j.originalStart),he=ve.positionAt(Ke+j.originalStart+j.originalLength),ye={text:Ie.substr(j.modifiedStart,j.modifiedLength),range:{startLineNumber:te.lineNumber,startColumn:te.column,endLineNumber:he.lineNumber,endColumn:he.column}};ve.getValueInRange(ye.range)!==ye.text&&Ce.push(ye)}}return"number"==typeof ye&&Ce.push({eol:ye,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),Ce}))}computeLinks(j){return fi(this,void 0,void 0,(function*(){const te=this._getModel(j);return te?(0,Ke.computeLinks)(te):null}))}textualSuggest(j,te,he,ve){return fi(this,void 0,void 0,(function*(){const Ce=new et.StopWatch(!0),ye=new RegExp(he,ve),Ee=new Set;e:for(let he of j){const j=this._getModel(he);if(j)for(let he of j.words(ye))if(he!==te&&isNaN(Number(he))&&(Ee.add(he),Ee.size>s._suggestionsLimit))break e}return{words:Array.from(Ee),duration:Ce.elapsed()}}))}computeWordRanges(j,te,he,ve){return fi(this,void 0,void 0,(function*(){const Ce=this._getModel(j);if(!Ce)return Object.create(null);const ye=new RegExp(he,ve),Ee=Object.create(null);for(let j=te.startLineNumber;j<te.endLineNumber;j++){const te=Ce.getLineWords(j,ye);for(const he of te){if(!isNaN(Number(he.word)))continue;let te=Ee[he.word];te||(te=[],Ee[he.word]=te),te.push({startLineNumber:j,startColumn:he.startColumn,endLineNumber:j,endColumn:he.endColumn})}}return Ee}))}navigateValueSet(j,te,he,ve,Ce){return fi(this,void 0,void 0,(function*(){const ye=this._getModel(j);if(!ye)return null;const Ee=new RegExp(ve,Ce);te.startColumn===te.endColumn&&(te={startLineNumber:te.startLineNumber,startColumn:te.startColumn,endLineNumber:te.endLineNumber,endColumn:te.endColumn+1});const Ie=ye.getValueInRange(te),Ne=ye.getWordAtPosition({lineNumber:te.startLineNumber,column:te.startColumn},Ee);if(!Ne)return null;const Oe=ye.getValueInRange(Ne);return je.BasicInplaceReplace.INSTANCE.navigateValueSet(te,Ie,Ne,Oe,he)}))}loadForeignModule(te,he,ve){const Ce={host:Ye.createProxyObject(ve,((j,te)=>this._host.fhr(j,te))),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(Ce,he),Promise.resolve(Ye.getAllMethodNames(this._foreignModule))):new Promise(((ve,ye)=>{j([te],(j=>{this._foreignModule=j.create(Ce,he),ve(Ye.getAllMethodNames(this._foreignModule))}),ye)}))}fmr(j,te){if(!this._foreignModule||"function"!=typeof this._foreignModule[j])return Promise.reject(new Error("Missing requestHandler or method: "+j));try{return Promise.resolve(this._foreignModule[j].apply(this._foreignModule,te))}catch(j){return Promise.reject(j)}}}te.EditorSimpleWorker=s,s._diffLimit=1e5,s._suggestionsLimit=1e4,te.create=function o(j){return new s(j,null)},"function"==typeof importScripts&&(ve.globals.monaco=(0,Ze.createMonacoBaseAPI)())})),define(Ce[430],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.ContiguousMultilineTokens=void 0;te.ContiguousMultilineTokens=class y{constructor(j,te){this._startLineNumber=j,this._tokens=te}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(j){return this._tokens[j-this._startLineNumber]}appendLineTokens(j){this._tokens.push(j)}}})),define(Ce[431],ie([1,0,430]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ContiguousMultilineTokensBuilder=void 0;te.ContiguousMultilineTokensBuilder=class m{constructor(){this._tokens=[]}add(j,te){if(this._tokens.length>0){const he=this._tokens[this._tokens.length-1];if(he.endLineNumber+1===j)return void he.appendLineTokens(te)}this._tokens.push(new he.ContiguousMultilineTokens(j,[te]))}finalize(){return this._tokens}}})),define(Ce[75],ie([1,0,18]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.LineTokens=void 0;class m{constructor(j,te,he){this._lineTokensBrand=void 0,this._tokens=j,this._tokensCount=this._tokens.length>>>1,this._text=te,this._languageIdCodec=he}static createEmpty(j,te){const he=m.defaultTokenMetadata,ve=new Uint32Array(2);return ve[0]=j.length,ve[1]=he,new m(ve,j,te)}equals(j){return j instanceof m&&this.slicedEquals(j,0,this._tokensCount)}slicedEquals(j,te,he){if(this._text!==j._text||this._tokensCount!==j._tokensCount)return!1;const ve=te<<1,Ce=ve+(he<<1);for(let te=ve;te<Ce;te++)if(this._tokens[te]!==j._tokens[te])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(j){return j>0?this._tokens[j-1<<1]:0}getMetadata(j){return this._tokens[1+(j<<1)]}getLanguageId(j){const te=this._tokens[1+(j<<1)],ve=he.TokenMetadata.getLanguageId(te);return this._languageIdCodec.decodeLanguageId(ve)}getStandardTokenType(j){const te=this._tokens[1+(j<<1)];return he.TokenMetadata.getTokenType(te)}getForeground(j){const te=this._tokens[1+(j<<1)];return he.TokenMetadata.getForeground(te)}getClassName(j){const te=this._tokens[1+(j<<1)];return he.TokenMetadata.getClassNameFromMetadata(te)}getInlineStyle(j,te){const ve=this._tokens[1+(j<<1)];return he.TokenMetadata.getInlineStyleFromMetadata(ve,te)}getPresentation(j){const te=this._tokens[1+(j<<1)];return he.TokenMetadata.getPresentationFromMetadata(te)}getEndOffset(j){return this._tokens[j<<1]}findTokenIndexAtOffset(j){return m.findIndexInTokensArray(this._tokens,j)}inflate(){return this}sliceAndInflate(j,te,he){return new D(this,j,te,he)}static convertToEndOffset(j,te){const he=(j.length>>>1)-1;for(let te=0;te<he;te++)j[te<<1]=j[te+1<<1];j[he<<1]=te}static findIndexInTokensArray(j,te){if(j.length<=2)return 0;let he=0,ve=(j.length>>>1)-1;for(;he<ve;){const Ce=he+Math.floor((ve-he)/2),ye=j[Ce<<1];if(ye===te)return Ce+1;ye<te?he=Ce+1:ye>te&&(ve=Ce)}return he}withInserted(j){if(0===j.length)return this;let te=0,he=0,ve="";const Ce=new Array;let ye=0;for(;;){const Ee=te<this._tokensCount?this._tokens[te<<1]:-1,Ie=he<j.length?j[he]:null;if(-1!==Ee&&(null===Ie||Ee<=Ie.offset)){ve+=this._text.substring(ye,Ee);const j=this._tokens[1+(te<<1)];Ce.push(ve.length,j),te++,ye=Ee}else{if(!Ie)break;if(Ie.offset>ye){ve+=this._text.substring(ye,Ie.offset);const j=this._tokens[1+(te<<1)];Ce.push(ve.length,j),ye=Ie.offset}ve+=Ie.text,Ce.push(ve.length,Ie.tokenMetadata),he++}}return new m(new Uint32Array(Ce),ve,this._languageIdCodec)}}te.LineTokens=m,m.defaultTokenMetadata=16793600;class D{constructor(j,te,he,ve){this._source=j,this._startOffset=te,this._endOffset=he,this._deltaOffset=ve,this._firstTokenIndex=j.findTokenIndexAtOffset(te),this._tokensCount=0;for(let te=this._firstTokenIndex,ve=j.getCount();te<ve&&!(j.getStartOffset(te)>=he);te++)this._tokensCount++}getMetadata(j){return this._source.getMetadata(this._firstTokenIndex+j)}getLanguageId(j){return this._source.getLanguageId(this._firstTokenIndex+j)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(j){return j instanceof D&&(this._startOffset===j._startOffset&&this._endOffset===j._endOffset&&this._deltaOffset===j._deltaOffset&&this._source.slicedEquals(j._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(j){return this._source.getForeground(this._firstTokenIndex+j)}getEndOffset(j){const te=this._source.getEndOffset(this._firstTokenIndex+j);return Math.min(this._endOffset,te)-this._startOffset+this._deltaOffset}getClassName(j){return this._source.getClassName(this._firstTokenIndex+j)}getInlineStyle(j,te){return this._source.getInlineStyle(this._firstTokenIndex+j,te)}getPresentation(j){return this._source.getPresentation(this._firstTokenIndex+j)}findTokenIndexAtOffset(j){return this._source.findTokenIndexAtOffset(j+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}})),define(Ce[249],ie([1,0,8,75,18,121]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te._tokenizeToString=te.tokenizeLineToHTML=te.tokenizeToString=void 0;const Ee={getInitialState:()=>ye.NullState,tokenizeEncoded:(j,te,he)=>(0,ye.nullTokenizeEncoded)(0,he)};function h(j,te,Ce){let ye='<div class="monaco-tokenized-source">';const Ee=he.splitLines(j);let Ie=Ce.getInitialState();for(let j=0,Ne=Ee.length;j<Ne;j++){const Ne=Ee[j];j>0&&(ye+="<br/>");const Oe=Ce.tokenizeEncoded(Ne,!0,Ie);ve.LineTokens.convertToEndOffset(Oe.tokens,Ne.length);const Ke=new ve.LineTokens(Oe.tokens,Ne,te).inflate();let je=0;for(let j=0,te=Ke.getCount();j<te;j++){const te=Ke.getClassName(j),ve=Ke.getEndOffset(j);ye+=`<span class="${te}">${he.escape(Ne.substring(je,ve))}</span>`,je=ve}Ie=Oe.endState}return ye+="</div>",ye}te.tokenizeToString=function b(j,te,he){return fi(this,void 0,void 0,(function*(){if(!he)return h(te,j.languageIdCodec,Ee);const ve=yield Ce.TokenizationRegistry.getOrCreate(he);return h(te,j.languageIdCodec,ve||Ee)}))},te.tokenizeLineToHTML=function p(j,te,he,ve,Ce,ye,Ee){let Ie="<div>",Ne=ve,Oe=0,Ke=!0;for(let je=0,Ze=te.getCount();je<Ze;je++){const Ze=te.getEndOffset(je);if(Ze<=ve)continue;let Ye="";for(;Ne<Ze&&Ne<Ce;Ne++){const te=j.charCodeAt(Ne);switch(te){case 9:{let j=ye-(Ne+Oe)%ye;for(Oe+=j-1;j>0;)Ee&&Ke?(Ye+="&#160;",Ke=!1):(Ye+=" ",Ke=!0),j--;break}case 60:Ye+="&lt;",Ke=!1;break;case 62:Ye+="&gt;",Ke=!1;break;case 38:Ye+="&amp;",Ke=!1;break;case 0:Ye+="&#00;",Ke=!1;break;case 65279:case 8232:case 8233:case 133:Ye+="�",Ke=!1;break;case 13:Ye+="&#8203",Ke=!1;break;case 32:Ee&&Ke?(Ye+="&#160;",Ke=!1):(Ye+=" ",Ke=!0);break;default:Ye+=String.fromCharCode(te),Ke=!1}}if(Ie+=`<span style="${te.getInlineStyle(je,he)}">${Ye}</span>`,Ze>Ce||Ne>=Ce)break}return Ie+="</div>",Ie},te._tokenizeToString=h})),define(Ce[432],ie([1,0,19,13,75,18,121,2,65,117,431,10,17]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){Object.defineProperty(te,"__esModule",{value:!0}),te.TextModelTokenization=te.TokenizationStateStore=void 0;class n{constructor(j){this._default=j,this._store=[]}get(j){return j<this._store.length?this._store[j]:this._default}set(j,te){for(;j>=this._store.length;)this._store[this._store.length]=this._default;this._store[j]=te}delete(j,te){0===te||j>=this._store.length||this._store.splice(j,te)}insert(j,te){if(0===te||j>=this._store.length)return;const ve=[];for(let j=0;j<te;j++)ve[j]=this._default;this._store=he.arrayInsert(this._store,j,ve)}}class l{constructor(j,te){this.tokenizationSupport=j,this.initialState=te,this._lineBeginState=new n(null),this._lineNeedsTokenization=new n(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(j){this._lineNeedsTokenization.set(j,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,j)}getBeginState(j){return this._lineBeginState.get(j)}setEndState(j,te,he){if(this._lineNeedsTokenization.set(te,!1),this._firstLineNeedsTokenization=te+1,te===j-1)return;const ve=this._lineBeginState.get(te+1);if(null===ve||!he.equals(ve))return this._lineBeginState.set(te+1,he),void this.markMustBeTokenized(te+1);let Ce=te+1;for(;Ce<j&&!this._lineNeedsTokenization.get(Ce);)Ce++;this._firstLineNeedsTokenization=Ce}applyEdits(j,te){this.markMustBeTokenized(j.startLineNumber-1),this._lineBeginState.delete(j.startLineNumber,j.endLineNumber-j.startLineNumber),this._lineNeedsTokenization.delete(j.startLineNumber,j.endLineNumber-j.startLineNumber),this._lineBeginState.insert(j.startLineNumber,te),this._lineNeedsTokenization.insert(j.startLineNumber,te)}}te.TokenizationStateStore=l;class c extends Ie.Disposable{constructor(j,te){super(),this._textModel=j,this._languageIdCodec=te,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(ye.TokenizationRegistry.onDidChange((j=>{const te=this._textModel.getLanguageId();-1!==j.changedLanguages.indexOf(te)&&(this._resetTokenizationState(),this._textModel.clearTokens())}))),this._register(this._textModel.onDidChangeContentFast((j=>{if(j.isFlush)this._resetTokenizationState();else{if(this._tokenizationStateStore)for(let te=0,he=j.changes.length;te<he;te++){const he=j.changes[te],[ve]=(0,Oe.countEOL)(he.text);this._tokenizationStateStore.applyEdits(he.range,ve)}this._beginBackgroundTokenization()}}))),this._register(this._textModel.onDidChangeAttached((()=>{this._beginBackgroundTokenization()}))),this._register(this._textModel.onDidChangeLanguage((()=>{this._resetTokenizationState(),this._textModel.clearTokens()}))),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[j,te]=function r(j){if(j.isTooLargeForTokenization())return[null,null];const te=ye.TokenizationRegistry.get(j.getLanguageId());if(!te)return[null,null];let he;try{he=te.getInitialState()}catch(j){return(0,ve.onUnexpectedError)(j),[null,null]}return[te,he]}(this._textModel);this._tokenizationStateStore=j&&te?new l(j,te):null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,je.runWhenIdle)((j=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(j)})))}_backgroundTokenizeWithDeadline(j){const te=Date.now()+j.timeRemaining(),u=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<te?(0,Ze.setTimeout0)(u):this._beginBackgroundTokenization())};u()}_backgroundTokenizeForAtLeast1ms(){const j=this._textModel.getLineCount(),te=new Ke.ContiguousMultilineTokensBuilder,he=Ne.StopWatch.create(!1);do{if(he.elapsed()>1||this._tokenizeOneInvalidLine(te)>=j)break}while(this._hasLinesToTokenize());this._textModel.setTokens(te.finalize(),!this._hasLinesToTokenize())}tokenizeViewport(j,te){const he=new Ke.ContiguousMultilineTokensBuilder;this._tokenizeViewport(he,j,te),this._textModel.setTokens(he.finalize(),!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(j){const te=new Ke.ContiguousMultilineTokensBuilder;this._updateTokensUntilLine(te,j),this._textModel.setTokens(te.finalize(),!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(j,te){if(!this._tokenizationStateStore)return 0;this.forceTokenization(j.lineNumber);const he=this._tokenizationStateStore.getBeginState(j.lineNumber-1);if(!he)return 0;const ve=this._textModel.getLanguageId(),ye=this._textModel.getLineContent(j.lineNumber),Ee=ye.substring(0,j.column-1)+te+ye.substring(j.column-1),Ie=s(this._languageIdCodec,ve,this._tokenizationStateStore.tokenizationSupport,Ee,!0,he),Ne=new Ce.LineTokens(Ie.tokens,Ee,this._languageIdCodec);if(0===Ne.getCount())return 0;const Oe=Ne.findTokenIndexAtOffset(j.column-1);return Ne.getStandardTokenType(Oe)}tokenizeLineWithEdit(j,te,he){const ve=j.lineNumber,ye=j.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(ve);const Ee=this._tokenizationStateStore.getBeginState(ve-1);if(!Ee)return null;const Ie=this._textModel.getLineContent(ve),Ne=Ie.substring(0,ye-1)+he+Ie.substring(ye-1+te),Oe=this._textModel.getLanguageIdAtPosition(ve,0),Ke=s(this._languageIdCodec,Oe,this._tokenizationStateStore.tokenizationSupport,Ne,!0,Ee);return new Ce.LineTokens(Ke.tokens,Ne,this._languageIdCodec)}isCheapToTokenize(j){if(!this._tokenizationStateStore)return!0;const te=this._tokenizationStateStore.invalidLineStartIndex+1;return!(j>te)&&(j<te||this._textModel.getLineLength(j)<2048)}_hasLinesToTokenize(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(j){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const te=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(j,te),te}_updateTokensUntilLine(j,te){if(!this._tokenizationStateStore)return;const he=this._textModel.getLanguageId(),ve=this._textModel.getLineCount(),Ce=te-1;for(let te=this._tokenizationStateStore.invalidLineStartIndex;te<=Ce;te++){const Ce=this._textModel.getLineContent(te+1),ye=this._tokenizationStateStore.getBeginState(te),Ee=s(this._languageIdCodec,he,this._tokenizationStateStore.tokenizationSupport,Ce,!0,ye);j.add(te+1,Ee.tokens),this._tokenizationStateStore.setEndState(ve,te,Ee.endState),te=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(j,te,he){if(!this._tokenizationStateStore||he<=this._tokenizationStateStore.invalidLineStartIndex)return;if(te<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(j,he);let ve=this._textModel.getLineFirstNonWhitespaceColumn(te);const Ce=[];let ye=null;for(let j=te-1;ve>1&&j>=1;j--){const te=this._textModel.getLineFirstNonWhitespaceColumn(j);if(0!==te&&te<ve){if(ye=this._tokenizationStateStore.getBeginState(j-1),ye)break;Ce.push(this._textModel.getLineContent(j)),ve=te}}ye||(ye=this._tokenizationStateStore.initialState);const Ee=this._textModel.getLanguageId();let Ie=ye;for(let j=Ce.length-1;j>=0;j--)Ie=s(this._languageIdCodec,Ee,this._tokenizationStateStore.tokenizationSupport,Ce[j],!1,Ie).endState;for(let ve=te;ve<=he;ve++){const te=this._textModel.getLineContent(ve),he=s(this._languageIdCodec,Ee,this._tokenizationStateStore.tokenizationSupport,te,!0,Ie);j.add(ve,he.tokens),this._tokenizationStateStore.markMustBeTokenized(ve-1),Ie=he.endState}}}function s(j,te,he,ye,Ie,Ne){let Oe=null;if(he)try{Oe=he.tokenizeEncoded(ye,Ie,Ne.clone())}catch(j){(0,ve.onUnexpectedError)(j)}return Oe||(Oe=(0,Ee.nullTokenizeEncoded)(j.encodeLanguageId(te),Ne)),Ce.LineTokens.convertToEndOffset(Oe.tokens,ye.length),Oe}te.TextModelTokenization=c})),define(Ce[433],ie([1,0,75]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.toUint32Array=te.ContiguousTokensEditing=te.EMPTY_LINE_TOKENS=void 0,te.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class m{static deleteBeginning(j,he){return null===j||j===te.EMPTY_LINE_TOKENS?j:m.delete(j,0,he)}static deleteEnding(j,he){if(null===j||j===te.EMPTY_LINE_TOKENS)return j;const ve=D(j),Ce=ve[ve.length-2];return m.delete(j,he,Ce)}static delete(j,ve,Ce){if(null===j||j===te.EMPTY_LINE_TOKENS||ve===Ce)return j;const ye=D(j),Ee=ye.length>>>1;if(0===ve&&ye[ye.length-2]===Ce)return te.EMPTY_LINE_TOKENS;const Ie=he.LineTokens.findIndexInTokensArray(ye,ve),Ne=Ie>0?ye[Ie-1<<1]:0;if(Ce<ye[Ie<<1]){const te=Ce-ve;for(let j=Ie;j<Ee;j++)ye[j<<1]-=te;return j}let Oe,Ke;Ne!==ve?(ye[Ie<<1]=ve,Oe=Ie+1<<1,Ke=ve):(Oe=Ie<<1,Ke=Ne);const je=Ce-ve;for(let j=Ie+1;j<Ee;j++){const te=ye[j<<1]-je;te>Ke&&(ye[Oe++]=te,ye[Oe++]=ye[1+(j<<1)],Ke=te)}if(Oe===ye.length)return j;const Ze=new Uint32Array(Oe);return Ze.set(ye.subarray(0,Oe),0),Ze.buffer}static append(j,he){if(he===te.EMPTY_LINE_TOKENS)return j;if(j===te.EMPTY_LINE_TOKENS)return he;if(null===j)return j;if(null===he)return null;const ve=D(j),Ce=D(he),ye=Ce.length>>>1,Ee=new Uint32Array(ve.length+Ce.length);Ee.set(ve,0);let Ie=ve.length;const Ne=ve[ve.length-2];for(let j=0;j<ye;j++)Ee[Ie++]=Ce[j<<1]+Ne,Ee[Ie++]=Ce[1+(j<<1)];return Ee.buffer}static insert(j,ve,Ce){if(null===j||j===te.EMPTY_LINE_TOKENS)return j;const ye=D(j),Ee=ye.length>>>1;let Ie=he.LineTokens.findIndexInTokensArray(ye,ve);Ie>0&&ye[Ie-1<<1]===ve&&Ie--;for(let j=Ie;j<Ee;j++)ye[j<<1]+=Ce;return j}}function D(j){return j instanceof Uint32Array?j:new Uint32Array(j)}te.ContiguousTokensEditing=m,te.toUint32Array=D})),define(Ce[434],ie([1,0,19,11,433,75,18]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.ContiguousTokensStore=void 0;class b{constructor(j){this._lineTokens=[],this._len=0,this._languageIdCodec=j}flush(){this._lineTokens=[],this._len=0}getTokens(j,te,he){let ve=null;if(te<this._len&&(ve=this._lineTokens[te]),null!==ve&&ve!==Ce.EMPTY_LINE_TOKENS)return new ye.LineTokens((0,Ce.toUint32Array)(ve),he,this._languageIdCodec);const Ee=new Uint32Array(2);return Ee[0]=he.length,Ee[1]=p(this._languageIdCodec.encodeLanguageId(j)),new ye.LineTokens(Ee,he,this._languageIdCodec)}static _massageTokens(j,te,he){const ve=he?(0,Ce.toUint32Array)(he):null;if(0===te){let te=!1;if(ve&&ve.length>1&&(te=Ee.TokenMetadata.getLanguageId(ve[1])!==j),!te)return Ce.EMPTY_LINE_TOKENS}if(!ve||0===ve.length){const he=new Uint32Array(2);return he[0]=te,he[1]=p(j),he.buffer}return ve[ve.length-2]=te,0===ve.byteOffset&&ve.byteLength===ve.buffer.byteLength?ve.buffer:ve}_ensureLine(j){for(;j>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(j,te){0!==te&&(j+te>this._len&&(te=this._len-j),this._lineTokens.splice(j,te),this._len-=te)}_insertLines(j,te){if(0===te)return;const ve=[];for(let j=0;j<te;j++)ve[j]=null;this._lineTokens=he.arrayInsert(this._lineTokens,j,ve),this._len+=te}setTokens(j,te,he,ve,Ce){const ye=b._massageTokens(this._languageIdCodec.encodeLanguageId(j),he,ve);this._ensureLine(te);const Ee=this._lineTokens[te];return this._lineTokens[te]=ye,!!Ce&&!b._equals(Ee,ye)}static _equals(j,te){if(!j||!te)return!j&&!te;const he=(0,Ce.toUint32Array)(j),ve=(0,Ce.toUint32Array)(te);if(he.length!==ve.length)return!1;for(let j=0,te=he.length;j<te;j++)if(he[j]!==ve[j])return!1;return!0}acceptEdit(j,te,he){this._acceptDeleteRange(j),this._acceptInsertText(new ve.Position(j.startLineNumber,j.startColumn),te,he)}_acceptDeleteRange(j){const te=j.startLineNumber-1;if(te>=this._len)return;if(j.startLineNumber===j.endLineNumber){if(j.startColumn===j.endColumn)return;return void(this._lineTokens[te]=Ce.ContiguousTokensEditing.delete(this._lineTokens[te],j.startColumn-1,j.endColumn-1))}this._lineTokens[te]=Ce.ContiguousTokensEditing.deleteEnding(this._lineTokens[te],j.startColumn-1);const he=j.endLineNumber-1;let ve=null;he<this._len&&(ve=Ce.ContiguousTokensEditing.deleteBeginning(this._lineTokens[he],j.endColumn-1)),this._lineTokens[te]=Ce.ContiguousTokensEditing.append(this._lineTokens[te],ve),this._deleteLines(j.startLineNumber,j.endLineNumber-j.startLineNumber)}_acceptInsertText(j,te,he){if(0===te&&0===he)return;const ve=j.lineNumber-1;if(!(ve>=this._len)){if(0===te)return void(this._lineTokens[ve]=Ce.ContiguousTokensEditing.insert(this._lineTokens[ve],j.column-1,he));this._lineTokens[ve]=Ce.ContiguousTokensEditing.deleteEnding(this._lineTokens[ve],j.column-1),this._lineTokens[ve]=Ce.ContiguousTokensEditing.insert(this._lineTokens[ve],j.column-1,he),this._insertLines(j.lineNumber,te)}}}function p(j){return(16384|j<<0|2<<23)>>>0}te.ContiguousTokensStore=b})),define(Ce[435],ie([1,0,11,3,117]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.SparseLineTokens=te.SparseMultilineTokens=void 0;class I{constructor(j,te){this._startLineNumber=j,this._tokens=te,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(j,te){return new I(j,new w(te))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(j){return this._startLineNumber<=j&&j<=this._endLineNumber?this._tokens.getLineTokens(j-this._startLineNumber):null}getRange(){const j=this._tokens.getRange();return j&&new ve.Range(this._startLineNumber+j.startLineNumber,j.startColumn,this._startLineNumber+j.endLineNumber,j.endColumn)}removeTokens(j){const te=j.startLineNumber-this._startLineNumber,he=j.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(te,j.startColumn-1,he,j.endColumn-1),this._updateEndLineNumber()}split(j){const te=j.startLineNumber-this._startLineNumber,he=j.endLineNumber-this._startLineNumber,[ve,Ce,ye]=this._tokens.split(te,j.startColumn-1,he,j.endColumn-1);return[new I(this._startLineNumber,ve),new I(this._startLineNumber+ye,Ce)]}applyEdit(j,te){const[he,ve,ye]=(0,Ce.countEOL)(te);this.acceptEdit(j,he,ve,ye,te.length>0?te.charCodeAt(0):0)}acceptEdit(j,te,ve,Ce,ye){this._acceptDeleteRange(j),this._acceptInsertText(new he.Position(j.startLineNumber,j.startColumn),te,ve,Ce,ye),this._updateEndLineNumber()}_acceptDeleteRange(j){if(j.startLineNumber===j.endLineNumber&&j.startColumn===j.endColumn)return;const te=j.startLineNumber-this._startLineNumber,he=j.endLineNumber-this._startLineNumber;if(he<0){const j=he-te;return void(this._startLineNumber-=j)}const ve=this._tokens.getMaxDeltaLine();if(!(te>=ve+1)){if(te<0&&he>=ve+1)return this._startLineNumber=0,void this._tokens.clear();if(te<0){const ve=-te;this._startLineNumber-=ve,this._tokens.acceptDeleteRange(j.startColumn-1,0,0,he,j.endColumn-1)}else this._tokens.acceptDeleteRange(0,te,j.startColumn-1,he,j.endColumn-1)}}_acceptInsertText(j,te,he,ve,Ce){if(0===te&&0===he)return;const ye=j.lineNumber-this._startLineNumber;if(ye<0)return void(this._startLineNumber+=te);ye>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(ye,j.column-1,te,he,ve,Ce)}}te.SparseMultilineTokens=I;class w{constructor(j){this._tokens=j,this._tokenCount=j.length/4}toString(j){const te=[];for(let he=0;he<this._tokenCount;he++)te.push(`(${this._getDeltaLine(he)+j},${this._getStartCharacter(he)}-${this._getEndCharacter(he)})`);return`[${te.join(",")}]`}getMaxDeltaLine(){const j=this._getTokenCount();return 0===j?-1:this._getDeltaLine(j-1)}getRange(){const j=this._getTokenCount();if(0===j)return null;const te=this._getStartCharacter(0),he=this._getDeltaLine(j-1),Ce=this._getEndCharacter(j-1);return new ve.Range(0,te+1,he,Ce+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(j){return this._tokens[4*j]}_getStartCharacter(j){return this._tokens[4*j+1]}_getEndCharacter(j){return this._tokens[4*j+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(j){let te=0,he=this._getTokenCount()-1;for(;te<he;){const ve=te+Math.floor((he-te)/2),Ce=this._getDeltaLine(ve);if(Ce<j)te=ve+1;else{if(!(Ce>j)){let Ce=ve;for(;Ce>te&&this._getDeltaLine(Ce-1)===j;)Ce--;let ye=ve;for(;ye<he&&this._getDeltaLine(ye+1)===j;)ye++;return new b(this._tokens.subarray(4*Ce,4*ye+4))}he=ve-1}}return this._getDeltaLine(te)===j?new b(this._tokens.subarray(4*te,4*te+4)):null}clear(){this._tokenCount=0}removeTokens(j,te,he,ve){const Ce=this._tokens,ye=this._tokenCount;let Ee=0,Ie=!1,Ne=0;for(let Oe=0;Oe<ye;Oe++){const ye=4*Oe,Ke=Ce[ye],je=Ce[ye+1],Ze=Ce[ye+2],Ye=Ce[ye+3];if((Ke>j||Ke===j&&Ze>=te)&&(Ke<he||Ke===he&&je<=ve))Ie=!0;else{if(0===Ee&&(Ne=Ke),Ie){const j=4*Ee;Ce[j]=Ke-Ne,Ce[j+1]=je,Ce[j+2]=Ze,Ce[j+3]=Ye}Ee++}}return this._tokenCount=Ee,Ne}split(j,te,he,ve){const Ce=this._tokens,ye=this._tokenCount,Ee=[],Ie=[];let Ne=Ee,Oe=0,Ke=0;for(let Ee=0;Ee<ye;Ee++){const ye=4*Ee,je=Ce[ye],Ze=Ce[ye+1],Ye=Ce[ye+2],et=Ce[ye+3];if(je>j||je===j&&Ye>=te){if(je<he||je===he&&Ze<=ve)continue;Ne!==Ie&&(Ne=Ie,Oe=0,Ke=je)}Ne[Oe++]=je-Ke,Ne[Oe++]=Ze,Ne[Oe++]=Ye,Ne[Oe++]=et}return[new w(new Uint32Array(Ee)),new w(new Uint32Array(Ie)),Ke]}acceptDeleteRange(j,te,he,ve,Ce){const ye=this._tokens,Ee=this._tokenCount,Ie=ve-te;let Ne=0,Oe=!1;for(let Ke=0;Ke<Ee;Ke++){const je=4*Ke;let Ze=ye[je],Ye=ye[je+1],et=ye[je+2];const nt=ye[je+3];if(Ze<te||Ze===te&&et<=he){Ne++;continue}if(Ze===te&&Ye<he)Ze===ve&&et>Ce?et-=Ce-he:et=he;else if(Ze===te&&Ye===he){if(!(Ze===ve&&et>Ce)){Oe=!0;continue}et-=Ce-he}else if(Ze<ve||Ze===ve&&Ye<Ce){if(!(Ze===ve&&et>Ce)){Oe=!0;continue}Ze===te?(Ye=he,et=Ye+(et-Ce)):(Ye=0,et=Ye+(et-Ce))}else if(Ze>ve){if(0===Ie&&!Oe){Ne=Ee;break}Ze-=Ie}else{if(!(Ze===ve&&Ye>=Ce))throw new Error("Not possible!");j&&0===Ze&&(Ye+=j,et+=j),Ze-=Ie,Ye-=Ce-he,et-=Ce-he}const rt=4*Ne;ye[rt]=Ze,ye[rt+1]=Ye,ye[rt+2]=et,ye[rt+3]=nt,Ne++}this._tokenCount=Ne}acceptInsertText(j,te,he,ve,Ce,ye){const Ee=0===he&&1===ve&&(ye>=48&&ye<=57||ye>=65&&ye<=90||ye>=97&&ye<=122),Ie=this._tokens,Ne=this._tokenCount;for(let ye=0;ye<Ne;ye++){const Ne=4*ye;let Oe=Ie[Ne],Ke=Ie[Ne+1],je=Ie[Ne+2];if(!(Oe<j||Oe===j&&je<te)){if(Oe===j&&je===te){if(!Ee)continue;je+=1}else if(Oe===j&&Ke<te&&te<je)0===he?je+=ve:je=te;else{if(Oe===j&&Ke===te&&Ee)continue;if(Oe===j)if(Oe+=he,0===he)Ke+=ve,je+=ve;else{const j=je-Ke;Ke=Ce+(Ke-te),je=Ke+j}else Oe+=he}Ie[Ne]=Oe,Ie[Ne+1]=Ke,Ie[Ne+2]=je}}}}class b{constructor(j){this._tokens=j}getCount(){return this._tokens.length/4}getStartCharacter(j){return this._tokens[4*j+1]}getEndCharacter(j){return this._tokens[4*j+2]}getMetadata(j){return this._tokens[4*j+3]}}te.SparseLineTokens=b})),define(Ce[436],ie([1,0,19,75]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.SparseTokensStore=void 0;class D{constructor(j){this._pieces=[],this._isComplete=!1,this._languageIdCodec=j}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(j,te){this._pieces=j||[],this._isComplete=te}setPartial(j,te){let ve=j;if(te.length>0){const he=te[0].getRange(),Ce=te[te.length-1].getRange();if(!he||!Ce)return j;ve=j.plusRange(he).plusRange(Ce)}let Ce=null;for(let j=0,te=this._pieces.length;j<te;j++){const he=this._pieces[j];if(he.endLineNumber<ve.startLineNumber)continue;if(he.startLineNumber>ve.endLineNumber){Ce=Ce||{index:j};break}if(he.removeTokens(ve),he.isEmpty()){this._pieces.splice(j,1),j--,te--;continue}if(he.endLineNumber<ve.startLineNumber)continue;if(he.startLineNumber>ve.endLineNumber){Ce=Ce||{index:j};continue}const[ye,Ee]=he.split(ve);ye.isEmpty()?Ce=Ce||{index:j}:Ee.isEmpty()||(this._pieces.splice(j,1,ye,Ee),j++,te++,Ce=Ce||{index:j})}return Ce=Ce||{index:this._pieces.length},te.length>0&&(this._pieces=he.arrayInsert(this._pieces,Ce.index,te)),ve}isComplete(){return this._isComplete}addSparseTokens(j,te){const he=this._pieces;if(0===he.length)return te;const Ce=he[D._findFirstPieceWithLine(he,j)].getLineTokens(j);if(!Ce)return te;const ye=te.getCount(),Ee=Ce.getCount();let Ie=0;const Ne=[];let Oe=0,Ke=0;const s=(j,te)=>{j!==Ke&&(Ke=j,Ne[Oe++]=j,Ne[Oe++]=te)};for(let j=0;j<Ee;j++){const he=Ce.getStartCharacter(j),ve=Ce.getEndCharacter(j),Ee=Ce.getMetadata(j),Ne=((1&Ee?1024:0)|(2&Ee?2048:0)|(4&Ee?4096:0)|(8&Ee?8192:0)|(16&Ee?8372224:0)|(32&Ee?4286578688:0))>>>0,Oe=~Ne>>>0;for(;Ie<ye&&te.getEndOffset(Ie)<=he;)s(te.getEndOffset(Ie),te.getMetadata(Ie)),Ie++;for(Ie<ye&&te.getStartOffset(Ie)<he&&s(he,te.getMetadata(Ie));Ie<ye&&te.getEndOffset(Ie)<ve;)s(te.getEndOffset(Ie),te.getMetadata(Ie)&Oe|Ee&Ne),Ie++;if(Ie<ye)s(ve,te.getMetadata(Ie)&Oe|Ee&Ne),te.getEndOffset(Ie)===ve&&Ie++;else{const j=Math.min(Math.max(0,Ie-1),ye-1);s(ve,te.getMetadata(j)&Oe|Ee&Ne)}}for(;Ie<ye;)s(te.getEndOffset(Ie),te.getMetadata(Ie)),Ie++;return new ve.LineTokens(new Uint32Array(Ne),te.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(j,te){let he=0,ve=j.length-1;for(;he<ve;){let Ce=he+Math.floor((ve-he)/2);if(j[Ce].endLineNumber<te)he=Ce+1;else{if(!(j[Ce].startLineNumber>te)){for(;Ce>he&&j[Ce-1].startLineNumber<=te&&te<=j[Ce-1].endLineNumber;)Ce--;return Ce}ve=Ce-1}}return he}acceptEdit(j,te,he,ve,Ce){for(const ye of this._pieces)ye.acceptEdit(j,te,he,ve,Ce)}}te.SparseTokensStore=D})),define(Ce[151],ie([1,0,8]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.LineDecorationsNormalizer=te.DecorationSegment=te.LineDecoration=void 0;class m{constructor(j,te,he,ve){this.startColumn=j,this.endColumn=te,this.className=he,this.type=ve,this._lineDecorationBrand=void 0}static _equals(j,te){return j.startColumn===te.startColumn&&j.endColumn===te.endColumn&&j.className===te.className&&j.type===te.type}static equalsArr(j,te){const he=j.length;if(he!==te.length)return!1;for(let ve=0;ve<he;ve++)if(!m._equals(j[ve],te[ve]))return!1;return!0}static extractWrapped(j,te,he){if(0===j.length)return j;const ve=te+1,Ce=he+1,ye=he-te,Ee=[];let Ie=0;for(const te of j)te.endColumn<=ve||te.startColumn>=Ce||(Ee[Ie++]=new m(Math.max(1,te.startColumn-ve+1),Math.min(ye+1,te.endColumn-ve+1),te.className,te.type));return Ee}static filter(j,te,he,ve){if(0===j.length)return[];const Ce=[];let ye=0;for(let Ee=0,Ie=j.length;Ee<Ie;Ee++){const Ie=j[Ee],Ne=Ie.range;if(Ne.endLineNumber<te||Ne.startLineNumber>te||Ne.isEmpty()&&(0===Ie.type||3===Ie.type))continue;const Oe=Ne.startLineNumber===te?Ne.startColumn:he,Ke=Ne.endLineNumber===te?Ne.endColumn:ve;Ce[ye++]=new m(Oe,Ke,Ie.inlineClassName,Ie.type)}return Ce}static _typeCompare(j,te){const he=[2,0,1,3];return he[j]-he[te]}static compare(j,te){if(j.startColumn!==te.startColumn)return j.startColumn-te.startColumn;if(j.endColumn!==te.endColumn)return j.endColumn-te.endColumn;const he=m._typeCompare(j.type,te.type);return 0!==he?he:j.className!==te.className?j.className<te.className?-1:1:0}}te.LineDecoration=m;class D{constructor(j,te,he,ve){this.startOffset=j,this.endOffset=te,this.className=he,this.metadata=ve}}te.DecorationSegment=D;class I{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(j){let te=0;for(let he=0,ve=j.length;he<ve;he++)te|=j[he];return te}consumeLowerThan(j,te,he){for(;this.count>0&&this.stopOffsets[0]<j;){let j=0;for(;j+1<this.count&&this.stopOffsets[j]===this.stopOffsets[j+1];)j++;he.push(new D(te,this.stopOffsets[j],this.classNames.join(" "),I._metadata(this.metadata))),te=this.stopOffsets[j]+1,this.stopOffsets.splice(0,j+1),this.classNames.splice(0,j+1),this.metadata.splice(0,j+1),this.count-=j+1}return this.count>0&&te<j&&(he.push(new D(te,j-1,this.classNames.join(" "),I._metadata(this.metadata))),te=j),te}insert(j,te,he){if(0===this.count||this.stopOffsets[this.count-1]<=j)this.stopOffsets.push(j),this.classNames.push(te),this.metadata.push(he);else for(let ve=0;ve<this.count;ve++)if(this.stopOffsets[ve]>=j){this.stopOffsets.splice(ve,0,j),this.classNames.splice(ve,0,te),this.metadata.splice(ve,0,he);break}this.count++}}te.LineDecorationsNormalizer=class w{static normalize(j,te){if(0===te.length)return[];const ve=[],Ce=new I;let ye=0;for(let Ee=0,Ie=te.length;Ee<Ie;Ee++){const Ie=te[Ee];let Ne=Ie.startColumn,Oe=Ie.endColumn;const Ke=Ie.className,je=1===Ie.type?2:2===Ie.type?4:0;if(Ne>1){const te=j.charCodeAt(Ne-2);he.isHighSurrogate(te)&&Ne--}if(Oe>1){const te=j.charCodeAt(Oe-2);he.isHighSurrogate(te)&&Oe--}const Ze=Ne-1,Ye=Oe-2;ye=Ce.consumeLowerThan(Ze,ye,ve),0===Ce.count&&(ye=Ze),Ce.insert(Ye,Ke,je)}return Ce.consumeLowerThan(1073741824,ye,ve),ve}}})),define(Ce[437],ie([1,0,8]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.LinesLayout=te.EditorWhitespace=void 0;class m{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(j){this._hasPending=!0,this._inserts.push(j)}change(j){this._hasPending=!0,this._changes.push(j)}remove(j){this._hasPending=!0,this._removes.push(j)}mustCommit(){return this._hasPending}commit(j){if(!this._hasPending)return;const te=this._inserts,he=this._changes,ve=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],j._commitPendingChanges(te,he,ve)}}class D{constructor(j,te,he,ve,Ce){this.id=j,this.afterLineNumber=te,this.ordinal=he,this.height=ve,this.minWidth=Ce,this.prefixSum=0}}te.EditorWhitespace=D;class I{constructor(j,te,ve,Ce){this._instanceId=he.singleLetterHash(++I.INSTANCE_COUNT),this._pendingChanges=new m,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=j,this._lineHeight=te,this._paddingTop=ve,this._paddingBottom=Ce}static findInsertionIndex(j,te,he){let ve=0,Ce=j.length;for(;ve<Ce;){const ye=ve+Ce>>>1;te===j[ye].afterLineNumber?he<j[ye].ordinal?Ce=ye:ve=ye+1:te<j[ye].afterLineNumber?Ce=ye:ve=ye+1}return ve}setLineHeight(j){this._checkPendingChanges(),this._lineHeight=j}setPadding(j,te){this._paddingTop=j,this._paddingBottom=te}onFlushed(j){this._checkPendingChanges(),this._lineCount=j}changeWhitespace(j){let te=!1;try{j({insertWhitespace:(j,he,ve,Ce)=>{te=!0,j|=0,he|=0,ve|=0,Ce|=0;const ye=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new D(ye,j,he,ve,Ce)),ye},changeOneWhitespace:(j,he,ve)=>{te=!0,he|=0,ve|=0,this._pendingChanges.change({id:j,newAfterLineNumber:he,newHeight:ve})},removeWhitespace:j=>{te=!0,this._pendingChanges.remove({id:j})}})}finally{this._pendingChanges.commit(this)}return te}_commitPendingChanges(j,te,he){if((j.length>0||he.length>0)&&(this._minWidth=-1),j.length+te.length+he.length<=1){for(const te of j)this._insertWhitespace(te);for(const j of te)this._changeOneWhitespace(j.id,j.newAfterLineNumber,j.newHeight);for(const j of he){const te=this._findWhitespaceIndex(j.id);-1!==te&&this._removeWhitespace(te)}return}const ve=new Set;for(const j of he)ve.add(j.id);const Ce=new Map;for(const j of te)Ce.set(j.id,j);const i=j=>{const te=[];for(const he of j)if(!ve.has(he.id)){if(Ce.has(he.id)){const j=Ce.get(he.id);he.afterLineNumber=j.newAfterLineNumber,he.height=j.newHeight}te.push(he)}return te},ye=i(this._arr).concat(i(j));ye.sort(((j,te)=>j.afterLineNumber===te.afterLineNumber?j.ordinal-te.ordinal:j.afterLineNumber-te.afterLineNumber)),this._arr=ye,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(j){const te=I.findInsertionIndex(this._arr,j.afterLineNumber,j.ordinal);this._arr.splice(te,0,j),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,te-1)}_findWhitespaceIndex(j){const te=this._arr;for(let he=0,ve=te.length;he<ve;he++)if(te[he].id===j)return he;return-1}_changeOneWhitespace(j,te,he){const ve=this._findWhitespaceIndex(j);if(-1!==ve&&(this._arr[ve].height!==he&&(this._arr[ve].height=he,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,ve-1)),this._arr[ve].afterLineNumber!==te)){const j=this._arr[ve];this._removeWhitespace(ve),j.afterLineNumber=te,this._insertWhitespace(j)}}_removeWhitespace(j){this._arr.splice(j,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,j-1)}onLinesDeleted(j,te){this._checkPendingChanges(),j|=0,te|=0,this._lineCount-=te-j+1;for(let he=0,ve=this._arr.length;he<ve;he++){const ve=this._arr[he].afterLineNumber;j<=ve&&ve<=te?this._arr[he].afterLineNumber=j-1:ve>te&&(this._arr[he].afterLineNumber-=te-j+1)}}onLinesInserted(j,te){this._checkPendingChanges(),j|=0,te|=0,this._lineCount+=te-j+1;for(let he=0,ve=this._arr.length;he<ve;he++){j<=this._arr[he].afterLineNumber&&(this._arr[he].afterLineNumber+=te-j+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(j){this._checkPendingChanges(),j|=0;let te=Math.max(0,this._prefixSumValidIndex+1);0===te&&(this._arr[0].prefixSum=this._arr[0].height,te++);for(let he=te;he<=j;he++)this._arr[he].prefixSum=this._arr[he-1].prefixSum+this._arr[he].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,j),this._arr[j].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();return this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(j){this._checkPendingChanges(),j|=0;const te=this._findLastWhitespaceBeforeLineNumber(j);return-1===te?0:this.getWhitespacesAccumulatedHeight(te)}_findLastWhitespaceBeforeLineNumber(j){j|=0;const te=this._arr;let he=0,ve=te.length-1;for(;he<=ve;){const Ce=he+((ve-he|0)/2|0)|0;if(te[Ce].afterLineNumber<j){if(Ce+1>=te.length||te[Ce+1].afterLineNumber>=j)return Ce;he=Ce+1|0}else ve=Ce-1|0}return-1}_findFirstWhitespaceAfterLineNumber(j){j|=0;const te=this._findLastWhitespaceBeforeLineNumber(j)+1;return te<this._arr.length?te:-1}getFirstWhitespaceIndexAfterLineNumber(j){return this._checkPendingChanges(),j|=0,this._findFirstWhitespaceAfterLineNumber(j)}getVerticalOffsetForLineNumber(j){let te;this._checkPendingChanges(),te=(j|=0)>1?this._lineHeight*(j-1):0;return te+this.getWhitespaceAccumulatedHeightBeforeLineNumber(j)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let j=0;for(let te=0,he=this._arr.length;te<he;te++)j=Math.max(j,this._arr[te].minWidth);this._minWidth=j}return this._minWidth}isAfterLines(j){this._checkPendingChanges();return j>this.getLinesTotalHeight()}isInTopPadding(j){return 0!==this._paddingTop&&(this._checkPendingChanges(),j<this._paddingTop)}isInBottomPadding(j){if(0===this._paddingBottom)return!1;this._checkPendingChanges();return j>=this.getLinesTotalHeight()-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(j){if(this._checkPendingChanges(),(j|=0)<0)return 1;const te=0|this._lineCount,he=this._lineHeight;let ve=1,Ce=te;for(;ve<Ce;){const te=(ve+Ce)/2|0,ye=0|this.getVerticalOffsetForLineNumber(te);if(j>=ye+he)ve=te+1;else{if(j>=ye)return te;Ce=te}}return ve>te?te:ve}getLinesViewportData(j,te){this._checkPendingChanges(),j|=0,te|=0;const he=this._lineHeight,ve=0|this.getLineNumberAtOrAfterVerticalOffset(j),Ce=0|this.getVerticalOffsetForLineNumber(ve);let ye=0|this._lineCount,Ee=0|this.getFirstWhitespaceIndexAfterLineNumber(ve);const Ie=0|this.getWhitespacesCount();let Ne,Oe;-1===Ee?(Ee=Ie,Oe=ye+1,Ne=0):(Oe=0|this.getAfterLineNumberForWhitespaceIndex(Ee),Ne=0|this.getHeightForWhitespaceIndex(Ee));let Ke=Ce,je=Ke;const Ze=5e5;let Ye=0;Ce>=Ze&&(Ye=Math.floor(Ce/Ze)*Ze,Ye=Math.floor(Ye/he)*he,je-=Ye);const et=[],nt=j+(te-j)/2;let rt=-1;for(let j=ve;j<=ye;j++){if(-1===rt){(Ke<=nt&&nt<Ke+he||Ke>nt)&&(rt=j)}for(Ke+=he,et[j-ve]=je,je+=he;Oe===j;)je+=Ne,Ke+=Ne,Ee++,Ee>=Ie?Oe=ye+1:(Oe=0|this.getAfterLineNumberForWhitespaceIndex(Ee),Ne=0|this.getHeightForWhitespaceIndex(Ee));if(Ke>=te){ye=j;break}}-1===rt&&(rt=ye);const at=0|this.getVerticalOffsetForLineNumber(ye);let ct=ve,ht=ye;return ct<ht&&Ce<j&&ct++,ct<ht&&at+he>te&&ht--,{bigNumbersDelta:Ye,startLineNumber:ve,endLineNumber:ye,relativeVerticalOffset:et,centeredLineNumber:rt,completelyVisibleStartLineNumber:ct,completelyVisibleEndLineNumber:ht}}getVerticalOffsetForWhitespaceIndex(j){this._checkPendingChanges(),j|=0;const te=this.getAfterLineNumberForWhitespaceIndex(j);let he,ve;return he=te>=1?this._lineHeight*te:0,ve=j>0?this.getWhitespacesAccumulatedHeight(j-1):0,he+ve+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(j){this._checkPendingChanges(),j|=0;let te=0,he=this.getWhitespacesCount()-1;if(he<0)return-1;if(j>=this.getVerticalOffsetForWhitespaceIndex(he)+this.getHeightForWhitespaceIndex(he))return-1;for(;te<he;){const ve=Math.floor((te+he)/2),Ce=this.getVerticalOffsetForWhitespaceIndex(ve);if(j>=Ce+this.getHeightForWhitespaceIndex(ve))te=ve+1;else{if(j>=Ce)return ve;he=ve}}return te}getWhitespaceAtVerticalOffset(j){this._checkPendingChanges(),j|=0;const te=this.getWhitespaceIndexAtOrAfterVerticallOffset(j);if(te<0||te>=this.getWhitespacesCount())return null;const he=this.getVerticalOffsetForWhitespaceIndex(te);if(he>j)return null;const ve=this.getHeightForWhitespaceIndex(te);return{id:this.getIdForWhitespaceIndex(te),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(te),verticalOffset:he,height:ve}}getWhitespaceViewportData(j,te){this._checkPendingChanges(),j|=0,te|=0;const he=this.getWhitespaceIndexAtOrAfterVerticallOffset(j),ve=this.getWhitespacesCount()-1;if(he<0)return[];const Ce=[];for(let j=he;j<=ve;j++){const he=this.getVerticalOffsetForWhitespaceIndex(j),ve=this.getHeightForWhitespaceIndex(j);if(he>=te)break;Ce.push({id:this.getIdForWhitespaceIndex(j),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(j),verticalOffset:he,height:ve})}return Ce}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(j){return this._checkPendingChanges(),j|=0,this._arr[j].id}getAfterLineNumberForWhitespaceIndex(j){return this._checkPendingChanges(),j|=0,this._arr[j].afterLineNumber}getHeightForWhitespaceIndex(j){return this._checkPendingChanges(),j|=0,this._arr[j].height}}te.LinesLayout=I,I.INSTANCE_COUNT=0})),define(Ce[122],ie([1,0,8,90,151]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.renderViewLine2=te.RenderLineOutput2=te.renderViewLine=te.RenderLineOutput=te.CharacterMapping=te.DomPosition=te.RenderLineInput=te.LineRange=void 0;class I{constructor(j,te,he){this._linePartBrand=void 0,this.endIndex=j,this.type=te,this.metadata=he}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}te.LineRange=class w{constructor(j,te){this.startOffset=j,this.endOffset=te}equals(j){return this.startOffset===j.startOffset&&this.endOffset===j.endOffset}};te.RenderLineInput=class b{constructor(j,te,he,ve,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht){this.useMonospaceOptimizations=j,this.canUseHalfwidthRightwardsArrow=te,this.lineContent=he,this.continuesWithWrappedLine=ve,this.isBasicASCII=ye,this.containsRTL=Ee,this.fauxIndentLength=Ie,this.lineTokens=Ne,this.lineDecorations=Oe.sort(Ce.LineDecoration.compare),this.tabSize=Ke,this.startVisibleColumn=je,this.spaceWidth=Ze,this.stopRenderingLineAfter=nt,this.renderWhitespace="all"===rt?4:"boundary"===rt?1:"selection"===rt?2:"trailing"===rt?3:0,this.renderControlCharacters=at,this.fontLigatures=ct,this.selectionsOnLine=ht&&ht.sort(((j,te)=>j.startOffset<te.startOffset?-1:1));Math.abs(et-Ze)<Math.abs(Ye-Ze)?(this.renderSpaceWidth=et,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=Ye,this.renderSpaceCharCode=183)}sameSelection(j){if(null===this.selectionsOnLine)return null===j;if(null===j||j.length!==this.selectionsOnLine.length)return!1;for(let te=0;te<this.selectionsOnLine.length;te++)if(!this.selectionsOnLine[te].equals(j[te]))return!1;return!0}equals(j){return this.useMonospaceOptimizations===j.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===j.canUseHalfwidthRightwardsArrow&&this.lineContent===j.lineContent&&this.continuesWithWrappedLine===j.continuesWithWrappedLine&&this.isBasicASCII===j.isBasicASCII&&this.containsRTL===j.containsRTL&&this.fauxIndentLength===j.fauxIndentLength&&this.tabSize===j.tabSize&&this.startVisibleColumn===j.startVisibleColumn&&this.spaceWidth===j.spaceWidth&&this.renderSpaceWidth===j.renderSpaceWidth&&this.renderSpaceCharCode===j.renderSpaceCharCode&&this.stopRenderingLineAfter===j.stopRenderingLineAfter&&this.renderWhitespace===j.renderWhitespace&&this.renderControlCharacters===j.renderControlCharacters&&this.fontLigatures===j.fontLigatures&&Ce.LineDecoration.equalsArr(this.lineDecorations,j.lineDecorations)&&this.lineTokens.equals(j.lineTokens)&&this.sameSelection(j.selectionsOnLine)}};class p{constructor(j,te){this.partIndex=j,this.charIndex=te}}te.DomPosition=p;class h{constructor(j,te){this.length=j,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(j){return(4294901760&j)>>>16}static getCharIndex(j){return(65535&j)>>>0}setColumnInfo(j,te,he,ve){const Ce=(te<<16|he<<0)>>>0;this._data[j-1]=Ce,this._absoluteOffsets[j-1]=ve+he}getAbsoluteOffset(j){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[j-1]}charOffsetToPartData(j){return 0===this.length?0:j<0?this._data[0]:j>=this.length?this._data[this.length-1]:this._data[j]}getDomPosition(j){const te=this.charOffsetToPartData(j-1),he=h.getPartIndex(te),ve=h.getCharIndex(te);return new p(he,ve)}getColumn(j,te){return this.partDataToCharOffset(j.partIndex,te,j.charIndex)+1}partDataToCharOffset(j,te,he){if(0===this.length)return 0;const ve=(j<<16|he<<0)>>>0;let Ce=0,ye=this.length-1;for(;Ce+1<ye;){const j=Ce+ye>>>1,te=this._data[j];if(te===ve)return j;te>ve?ye=j:Ce=j}if(Ce===ye)return Ce;const Ee=this._data[Ce],Ie=this._data[ye];if(Ee===ve)return Ce;if(Ie===ve)return ye;const Ne=h.getPartIndex(Ee),Oe=h.getCharIndex(Ee);let Ke;Ke=Ne!==h.getPartIndex(Ie)?te:h.getCharIndex(Ie);return he-Oe<=Ke-he?Ce:ye}}te.CharacterMapping=h;class g{constructor(j,te,he){this._renderLineOutputBrand=void 0,this.characterMapping=j,this.containsRTL=te,this.containsForeignElements=he}}function t(j,te){if(0===j.lineContent.length){if(j.lineDecorations.length>0){te.appendASCIIString("<span>");let he=0,ve=0,Ce=0;for(const ye of j.lineDecorations)(1===ye.type||2===ye.type)&&(te.appendASCIIString('<span class="'),te.appendASCIIString(ye.className),te.appendASCIIString('"></span>'),1===ye.type&&(Ce|=1,he++),2===ye.type&&(Ce|=2,ve++));te.appendASCIIString("</span>");const ye=new h(1,he+ve);return ye.setColumnInfo(1,he,0,0),new g(ye,!1,Ce)}return te.appendASCIIString("<span><span></span></span>"),new g(new h(0,0),!1,0)}return function f(j,te){const ve=j.fontIsMonospace,Ce=j.canUseHalfwidthRightwardsArrow,ye=j.containsForeignElements,Ee=j.lineContent,Ie=j.len,Ne=j.isOverflowing,Oe=j.parts,Ke=j.fauxIndentLength,je=j.tabSize,Ze=j.startVisibleColumn,Ye=j.containsRTL,et=j.spaceWidth,nt=j.renderSpaceCharCode,rt=j.renderWhitespace,at=j.renderControlCharacters,ct=new h(Ie+1,Oe.length);let ht=!1,mt=0,pt=Ze,ft=0,_t=0,Ct=0,bt=0;Ye?te.appendASCIIString('<span dir="ltr">'):te.appendASCIIString("<span>");for(let j=0,Ne=Oe.length;j<Ne;j++){bt+=Ct;const Ne=Oe[j],Ze=Ne.endIndex,Ye=Ne.type,St=0!==rt&&Ne.isWhitespace(),Dt=St&&!ve&&("mtkw"===Ye||!ye),It=mt===Ze&&Ne.isPseudoAfter();if(ft=0,te.appendASCIIString('<span class="'),te.appendASCIIString(Dt?"mtkz":Ye),te.appendASCII(34),St){let he=0;{let j=mt,te=pt;for(;j<Ze;j++){const ve=0|(9===Ee.charCodeAt(j)?je-te%je:1);he+=ve,j>=Ke&&(te+=ve)}}for(Dt&&(te.appendASCIIString(' style="width:'),te.appendASCIIString(String(et*he)),te.appendASCIIString('px"')),te.appendASCII(62);mt<Ze;mt++){ct.setColumnInfo(mt+1,j-_t,ft,bt),_t=0;let he;if(9===Ee.charCodeAt(mt)){he=je-pt%je|0,!Ce||he>1?te.write1(8594):te.write1(65515);for(let j=2;j<=he;j++)te.write1(160)}else he=1,te.write1(nt);ft+=he,mt>=Ke&&(pt+=he)}Ct=he}else{let ve=0;for(te.appendASCII(62);mt<Ze;mt++){ct.setColumnInfo(mt+1,j-_t,ft,bt),_t=0;const Ce=Ee.charCodeAt(mt);let ye=1,Ie=1;switch(Ce){case 9:ye=je-pt%je,Ie=ye;for(let j=1;j<=ye;j++)te.write1(160);break;case 32:te.write1(160);break;case 60:te.appendASCIIString("&lt;");break;case 62:te.appendASCIIString("&gt;");break;case 38:te.appendASCIIString("&amp;");break;case 0:at?te.write1(9216):te.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:te.write1(65533);break;default:he.isFullWidthCharacter(Ce)&&Ie++,at&&Ce<32?te.write1(9216+Ce):at&&127===Ce?te.write1(9249):at&&o(Ce)?(te.appendASCIIString("[U+"),te.appendASCIIString(S(Ce)),te.appendASCIIString("]"),ye=8):te.write1(Ce)}ft+=ye,ve+=ye,mt>=Ke&&(pt+=Ie)}Ct=ve}It?_t++:_t=0,mt>=Ie&&!ht&&Ne.isPseudoAfter()&&(ht=!0,ct.setColumnInfo(mt+1,j,ft,bt)),te.appendASCIIString("</span>")}return ht||ct.setColumnInfo(Ie+1,Oe.length-1,ft,bt),Ne&&te.appendASCIIString("<span>&hellip;</span>"),te.appendASCIIString("</span>"),new g(ct,Ye,ye)}(function c(j){const te=j.lineContent;let ve,ye;-1!==j.stopRenderingLineAfter&&j.stopRenderingLineAfter<te.length?(ve=!0,ye=j.stopRenderingLineAfter):(ve=!1,ye=te.length);let Ee=function r(j,te,he){const ve=[];let Ce=0;te>0&&(ve[Ce++]=new I(te,"",0));for(let ye=0,Ee=j.getCount();ye<Ee;ye++){const Ee=j.getEndOffset(ye);if(Ee<=te)continue;const Ie=j.getClassName(ye);if(Ee>=he){ve[Ce++]=new I(he,Ie,0);break}ve[Ce++]=new I(Ee,Ie,0)}return ve}(j.lineTokens,j.fauxIndentLength,ye);j.renderControlCharacters&&!j.isBasicASCII&&(Ee=function a(j,te){const he=[];let ve=new I(0,"",0),Ce=0;for(const ye of te){const te=ye.endIndex;for(;Ce<te;Ce++){o(j.charCodeAt(Ce))&&(Ce>ve.endIndex&&(ve=new I(Ce,ye.type,ye.metadata),he.push(ve)),ve=new I(Ce+1,"mtkcontrol",ye.metadata),he.push(ve))}Ce>ve.endIndex&&(ve=new I(te,ye.type,ye.metadata),he.push(ve))}return he}(te,Ee)),(4===j.renderWhitespace||1===j.renderWhitespace||2===j.renderWhitespace&&j.selectionsOnLine||3===j.renderWhitespace)&&(Ee=function d(j,te,ve,Ce){const ye=j.continuesWithWrappedLine,Ee=j.fauxIndentLength,Ie=j.tabSize,Ne=j.startVisibleColumn,Oe=j.useMonospaceOptimizations,Ke=j.selectionsOnLine,je=1===j.renderWhitespace,Ze=3===j.renderWhitespace,Ye=j.renderSpaceWidth!==j.spaceWidth,et=[];let nt=0,rt=0,at=Ce[rt].type,ct=Ce[rt].endIndex;const ht=Ce.length;let mt,pt=!1,ft=he.firstNonWhitespaceIndex(te);-1===ft?(pt=!0,ft=ve,mt=ve):mt=he.lastNonWhitespaceIndex(te);let _t=!1,Ct=0,bt=Ke&&Ke[Ct],St=Ne%Ie;for(let j=Ee;j<ve;j++){const ye=te.charCodeAt(j);let Ne;if(bt&&j>=bt.endOffset&&(Ct++,bt=Ke&&Ke[Ct]),j<ft||j>mt)Ne=!0;else if(9===ye)Ne=!0;else if(32===ye)if(je)if(_t)Ne=!0;else{const he=j+1<ve?te.charCodeAt(j+1):0;Ne=32===he||9===he}else Ne=!0;else Ne=!1;if(Ne&&Ke&&(Ne=!!bt&&bt.startOffset<=j&&bt.endOffset>j),Ne&&Ze&&(Ne=pt||j>mt),_t){if(!Ne||!Oe&&St>=Ie){if(Ye){for(let te=(nt>0?et[nt-1].endIndex:Ee)+1;te<=j;te++)et[nt++]=new I(te,"mtkw",1)}else et[nt++]=new I(j,"mtkw",1);St%=Ie}}else(j===ct||Ne&&j>Ee)&&(et[nt++]=new I(j,at,0),St%=Ie);for(9===ye?St=Ie:he.isFullWidthCharacter(ye)?St+=2:St++,_t=Ne;j===ct&&(rt++,rt<ht);)at=Ce[rt].type,ct=Ce[rt].endIndex}let Dt=!1;if(_t)if(ye&&je){const j=ve>0?te.charCodeAt(ve-1):0,he=ve>1?te.charCodeAt(ve-2):0;32===j&&32!==he&&9!==he||(Dt=!0)}else Dt=!0;if(Dt)if(Ye){for(let j=(nt>0?et[nt-1].endIndex:Ee)+1;j<=ve;j++)et[nt++]=new I(j,"mtkw",1)}else et[nt++]=new I(ve,"mtkw",1);else et[nt++]=new I(ve,at,0);return et}(j,te,ye,Ee));let Ie=0;if(j.lineDecorations.length>0){for(let te=0,he=j.lineDecorations.length;te<he;te++){const he=j.lineDecorations[te];3===he.type||1===he.type?Ie|=1:2===he.type&&(Ie|=2)}Ee=function u(j,te,he,ve){ve.sort(Ce.LineDecoration.compare);const ye=Ce.LineDecorationsNormalizer.normalize(j,ve),Ee=ye.length;let Ie=0;const Ne=[];let Oe=0,Ke=0;for(let j=0,te=he.length;j<te;j++){const te=he[j],ve=te.endIndex,Ce=te.type,je=te.metadata;for(;Ie<Ee&&ye[Ie].startOffset<ve;){const j=ye[Ie];if(j.startOffset>Ke&&(Ke=j.startOffset,Ne[Oe++]=new I(Ke,Ce,je)),!(j.endOffset+1<=ve)){Ke=ve,Ne[Oe++]=new I(Ke,Ce+" "+j.className,je|j.metadata);break}Ke=j.endOffset+1,Ne[Oe++]=new I(Ke,Ce+" "+j.className,je|j.metadata),Ie++}ve>Ke&&(Ke=ve,Ne[Oe++]=new I(Ke,Ce,je))}const je=he[he.length-1].endIndex;if(Ie<Ee&&ye[Ie].startOffset===je)for(;Ie<Ee&&ye[Ie].startOffset===je;){const j=ye[Ie];Ne[Oe++]=new I(Ke,j.className,j.metadata),Ie++}return Ne}(te,0,Ee,j.lineDecorations)}return j.containsRTL||(Ee=function s(j,te,he){let ve=0;const Ce=[];let ye=0;if(he)for(let he=0,Ee=te.length;he<Ee;he++){const Ee=te[he],Ie=Ee.endIndex;if(ve+50<Ie){const te=Ee.type,he=Ee.metadata;let Ne=-1,Oe=ve;for(let Ee=ve;Ee<Ie;Ee++)32===j.charCodeAt(Ee)&&(Ne=Ee),-1!==Ne&&Ee-Oe>=50&&(Ce[ye++]=new I(Ne+1,te,he),Oe=Ne+1,Ne=-1);Oe!==Ie&&(Ce[ye++]=new I(Ie,te,he))}else Ce[ye++]=Ee;ve=Ie}else for(let j=0,he=te.length;j<he;j++){const he=te[j],Ee=he.endIndex,Ie=Ee-ve;if(Ie>50){const j=he.type,te=he.metadata,Ne=Math.ceil(Ie/50);for(let he=1;he<Ne;he++){const Ee=ve+50*he;Ce[ye++]=new I(Ee,j,te)}Ce[ye++]=new I(Ee,j,te)}else Ce[ye++]=he;ve=Ee}return Ce}(te,Ee,!j.isBasicASCII||j.fontLigatures)),new l(j.useMonospaceOptimizations,j.canUseHalfwidthRightwardsArrow,te,ye,ve,Ee,Ie,j.fauxIndentLength,j.tabSize,j.startVisibleColumn,j.containsRTL,j.spaceWidth,j.renderSpaceCharCode,j.renderWhitespace,j.renderControlCharacters)}(j),te)}te.RenderLineOutput=g,te.renderViewLine=t;class i{constructor(j,te,he,ve){this.characterMapping=j,this.html=te,this.containsRTL=he,this.containsForeignElements=ve}}te.RenderLineOutput2=i,te.renderViewLine2=function n(j){const te=(0,ve.createStringBuilder)(1e4),he=t(j,te);return new i(he.characterMapping,te.build(),he.containsRTL,he.containsForeignElements)};class l{constructor(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et){this.fontIsMonospace=j,this.canUseHalfwidthRightwardsArrow=te,this.lineContent=he,this.len=ve,this.isOverflowing=Ce,this.parts=ye,this.containsForeignElements=Ee,this.fauxIndentLength=Ie,this.tabSize=Ne,this.startVisibleColumn=Oe,this.containsRTL=Ke,this.spaceWidth=je,this.renderSpaceCharCode=Ze,this.renderWhitespace=Ye,this.renderControlCharacters=et}}function o(j){return j<32?9!==j:127===j||j>=8234&&j<=8238||j>=8294&&j<=8297||j>=8206&&j<=8207||1564===j}function S(j){return j.toString(16).toUpperCase().padStart(4,"0")}})),define(Ce[438],ie([1,0,3]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewportData=void 0;te.ViewportData=class m{constructor(j,te,ve,Ce){this.selections=j,this.startLineNumber=0|te.startLineNumber,this.endLineNumber=0|te.endLineNumber,this.relativeVerticalOffset=te.relativeVerticalOffset,this.bigNumbersDelta=0|te.bigNumbersDelta,this.whitespaceViewportData=ve,this._model=Ce,this.visibleRange=new he.Range(te.startLineNumber,this._model.getLineMinColumn(te.startLineNumber),te.endLineNumber,this._model.getLineMaxColumn(te.endLineNumber))}getViewLineRenderingData(j){return this._model.getViewLineRenderingData(this.visibleRange,j)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}})),define(Ce[250],ie([1,0,4,2,236,18]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.MinimapTokensColorTracker=void 0;class w extends ve.Disposable{constructor(){super(),this._onDidChange=new he.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(ye.TokenizationRegistry.onDidChange((j=>{j.changedColorMap&&this._updateColorMap()})))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,ve.markAsSingleton)(new w)),this._INSTANCE}_updateColorMap(){const j=ye.TokenizationRegistry.getColorMap();if(!j)return this._colors=[Ce.RGBA8.Empty],void(this._backgroundIsLight=!0);this._colors=[Ce.RGBA8.Empty];for(let te=1;te<j.length;te++){const he=j[te].rgba;this._colors[te]=new Ce.RGBA8(he.r,he.g,he.b,Math.round(255*he.a))}const te=j[2].getRelativeLuminance();this._backgroundIsLight=te>=.5,this._onDidChange.fire(void 0)}getColor(j){return(j<1||j>=this._colors.length)&&(j=2),this._colors[j]}backgroundIsLight(){return this._backgroundIsLight}}te.MinimapTokensColorTracker=w,w._INSTANCE=null})),define(Ce[251],ie([1,0,20,11,49]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.OutputPosition=te.InjectedText=te.ModelLineProjectionData=void 0;function w(j){return null==j||(j===Ce.InjectedTextCursorStops.Right||j===Ce.InjectedTextCursorStops.Both)}function b(j){return null==j||(j===Ce.InjectedTextCursorStops.Left||j===Ce.InjectedTextCursorStops.Both)}te.ModelLineProjectionData=class I{constructor(j,te,he,ve,Ce){this.injectionOffsets=j,this.injectionOptions=te,this.breakOffsets=he,this.breakOffsetsVisibleColumn=ve,this.wrappedTextIndentLength=Ce}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(j){return j>0?this.wrappedTextIndentLength:0}getLineLength(j){const te=j>0?this.breakOffsets[j-1]:0;let he=this.breakOffsets[j]-te;return j>0&&(he+=this.wrappedTextIndentLength),he}getMaxOutputOffset(j){return this.getLineLength(j)}translateToInputOffset(j,te){j>0&&(te=Math.max(0,te-this.wrappedTextIndentLength));let he=0===j?te:this.breakOffsets[j-1]+te;if(null!==this.injectionOffsets)for(let j=0;j<this.injectionOffsets.length&&he>this.injectionOffsets[j];j++)he<this.injectionOffsets[j]+this.injectionOptions[j].content.length?he=this.injectionOffsets[j]:he-=this.injectionOptions[j].content.length;return he}translateToOutputPosition(j,te=2){let he=j;if(null!==this.injectionOffsets)for(let ve=0;ve<this.injectionOffsets.length&&!(j<this.injectionOffsets[ve]||1!==te&&j===this.injectionOffsets[ve]);ve++)he+=this.injectionOptions[ve].content.length;return this.offsetInInputWithInjectionsToOutputPosition(he,te)}offsetInInputWithInjectionsToOutputPosition(j,te=2){let he=0,ve=this.breakOffsets.length-1,Ce=0,ye=0;for(;he<=ve;){Ce=he+(ve-he)/2|0;const Ee=this.breakOffsets[Ce];if(ye=Ce>0?this.breakOffsets[Ce-1]:0,0===te)if(j<=ye)ve=Ce-1;else{if(!(j>Ee))break;he=Ce+1}else if(j<ye)ve=Ce-1;else{if(!(j>=Ee))break;he=Ce+1}}let Ee=j-ye;return Ce>0&&(Ee+=this.wrappedTextIndentLength),new h(Ce,Ee)}normalizeOutputPosition(j,te,he){if(null!==this.injectionOffsets){const ve=this.outputPositionToOffsetInInputWithInjections(j,te),Ce=this.normalizeOffsetInInputWithInjectionsAroundInjections(ve,he);if(Ce!==ve)return this.offsetInInputWithInjectionsToOutputPosition(Ce,he)}if(0===he){if(j>0&&te===this.getMinOutputOffset(j))return new h(j-1,this.getMaxOutputOffset(j-1))}else if(1===he){if(j<this.getOutputLineCount()-1&&te===this.getMaxOutputOffset(j))return new h(j+1,this.getMinOutputOffset(j+1))}return new h(j,te)}outputPositionToOffsetInInputWithInjections(j,te){return j>0&&(te=Math.max(0,te-this.wrappedTextIndentLength)),(j>0?this.breakOffsets[j-1]:0)+te}normalizeOffsetInInputWithInjectionsAroundInjections(j,te){const ve=this.getInjectedTextAtOffset(j);if(!ve)return j;if(2===te){if(j===ve.offsetInInputWithInjections+ve.length&&w(this.injectionOptions[ve.injectedTextIndex].cursorStops))return ve.offsetInInputWithInjections+ve.length;{let j=ve.offsetInInputWithInjections;if(b(this.injectionOptions[ve.injectedTextIndex].cursorStops))return j;let te=ve.injectedTextIndex-1;for(;te>=0&&this.injectionOffsets[te]===this.injectionOffsets[ve.injectedTextIndex]&&!w(this.injectionOptions[te].cursorStops)&&(j-=this.injectionOptions[te].content.length,!b(this.injectionOptions[te].cursorStops));)te--;return j}}if(1===te){let j=ve.offsetInInputWithInjections+ve.length,te=ve.injectedTextIndex;for(;te+1<this.injectionOffsets.length&&this.injectionOffsets[te+1]===this.injectionOffsets[te];)j+=this.injectionOptions[te+1].content.length,te++;return j}if(0===te){let j=ve.offsetInInputWithInjections,te=ve.injectedTextIndex;for(;te-1>=0&&this.injectionOffsets[te-1]===this.injectionOffsets[te];)j-=this.injectionOptions[te-1].content.length,te--;return j}(0,he.assertNever)(te)}getInjectedText(j,te){const he=this.outputPositionToOffsetInInputWithInjections(j,te),ve=this.getInjectedTextAtOffset(he);return ve?{options:this.injectionOptions[ve.injectedTextIndex]}:null}getInjectedTextAtOffset(j){const te=this.injectionOffsets,he=this.injectionOptions;if(null!==te){let ve=0;for(let Ce=0;Ce<te.length;Ce++){const ye=he[Ce].content.length,Ee=te[Ce]+ve,Ie=te[Ce]+ve+ye;if(Ee>j)break;if(j<=Ie)return{injectedTextIndex:Ce,offsetInInputWithInjections:Ee,length:ye};ve+=ye}}}};te.InjectedText=class p{constructor(j){this.options=j}};class h{constructor(j,te){this.outputLineIndex=j,this.outputOffset=te}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(j){return new ve.Position(j+this.outputLineIndex,this.outputOffset+1)}}te.OutputPosition=h})),define(Ce[439],ie([1,0,8,97,91,251]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.MonospaceLineBreaksComputerFactory=void 0;class w{constructor(j,te){this.classifier=new b(j,te)}static create(j){return new w(j.get(120),j.get(119))}createLineBreaksComputer(j,te,he,ve){const Ce=[],ye=[],Ne=[];return{addRequest:(j,te,he)=>{Ce.push(j),ye.push(te),Ne.push(he)},finalize:()=>{const Oe=j.typicalFullwidthCharacterWidth/j.typicalHalfwidthCharacterWidth,Ke=[];for(let j=0,Ee=Ce.length;j<Ee;j++){const Ee=ye[j],Ie=Ne[j];!Ie||Ie.injectionOptions||Ee?Ke[j]=t(this.classifier,Ce[j],Ee,te,he,Oe,ve):Ke[j]=g(this.classifier,Ie,Ce[j],te,he,Oe,ve)}return Ee.length=0,Ie.length=0,Ke}}}}te.MonospaceLineBreaksComputerFactory=w;class b extends ve.CharacterClassifier{constructor(j,te){super(0);for(let te=0;te<j.length;te++)this.set(j.charCodeAt(te),1);for(let j=0;j<te.length;j++)this.set(te.charCodeAt(j),2)}get(j){return j>=0&&j<256?this._asciiMap[j]:j>=12352&&j<=12543||j>=13312&&j<=19903||j>=19968&&j<=40959?3:this._map.get(j)||this._defaultValue}}let Ee=[],Ie=[];function g(j,te,ve,Ce,ye,Ne,Oe){if(-1===ye)return null;const Ke=ve.length;if(Ke<=1)return null;const je=te.breakOffsets,Ze=te.breakOffsetsVisibleColumn,Ye=c(ve,Ce,ye,Ne,Oe),et=ye-Ye,nt=Ee,rt=Ie;let at=0,ct=0,ht=0,mt=ye;const pt=je.length;let ft=0;if(ft>=0){let j=Math.abs(Ze[ft]-mt);for(;ft+1<pt;){const te=Math.abs(Ze[ft+1]-mt);if(te>=j)break;j=te,ft++}}for(;ft<pt;){let te=ft<0?0:je[ft],ye=ft<0?0:Ze[ft];ct>te&&(te=ct,ye=ht);let Ee=0,Ie=0,Oe=0,Ye=0;if(ye<=mt){let ht=ye,pt=0===te?0:ve.charCodeAt(te-1),ft=0===te?0:j.get(pt),_t=!0;for(let ye=te;ye<Ke;ye++){const te=ye,Ke=ve.charCodeAt(ye);let je,Ze;if(he.isHighSurrogate(Ke)?(ye++,je=0,Ze=2):(je=j.get(Ke),Ze=i(Ke,ht,Ce,Ne)),te>ct&&l(pt,ft,Ke,je)&&(Ee=te,Ie=ht),ht+=Ze,ht>mt){te>ct?(Oe=te,Ye=ht-Ze):(Oe=ye+1,Ye=ht),ht-Ie>et&&(Ee=0),_t=!1;break}pt=Ke,ft=je}if(_t){at>0&&(nt[at]=je[je.length-1],rt[at]=Ze[je.length-1],at++);break}}if(0===Ee){let Ke=ye,je=ve.charCodeAt(te),Ze=j.get(je),nt=!1;for(let Ce=te-1;Ce>=ct;Ce--){const te=Ce+1,ye=ve.charCodeAt(Ce);if(9===ye){nt=!0;break}let rt,at;if(he.isLowSurrogate(ye)?(Ce--,rt=0,at=2):(rt=j.get(ye),at=he.isFullWidthCharacter(ye)?Ne:1),Ke<=mt){if(0===Oe&&(Oe=te,Ye=Ke),Ke<=mt-et)break;if(l(ye,rt,je,Ze)){Ee=te,Ie=Ke;break}}Ke-=at,je=ye,Ze=rt}if(0!==Ee){const j=et-(Ye-Ie);if(j<=Ce){const te=ve.charCodeAt(Oe);let ye;ye=he.isHighSurrogate(te)?2:i(te,Ye,Ce,Ne),j-ye<0&&(Ee=0)}}if(nt){ft--;continue}}if(0===Ee&&(Ee=Oe,Ie=Ye),Ee<=ct){const j=ve.charCodeAt(ct);he.isHighSurrogate(j)?(Ee=ct+2,Ie=ht+2):(Ee=ct+1,Ie=ht+i(j,ht,Ce,Ne))}for(ct=Ee,nt[at]=Ee,ht=Ie,rt[at]=Ie,at++,mt=Ie+et;ft<0||ft<pt&&Ze[ft]<Ie;)ft++;let _t=Math.abs(Ze[ft]-mt);for(;ft+1<pt;){const j=Math.abs(Ze[ft+1]-mt);if(j>=_t)break;_t=j,ft++}}return 0===at?null:(nt.length=at,rt.length=at,Ee=te.breakOffsets,Ie=te.breakOffsetsVisibleColumn,te.breakOffsets=nt,te.breakOffsetsVisibleColumn=rt,te.wrappedTextIndentLength=Ye,te)}function t(j,te,ve,Ee,Ie,Ne,Oe){const Ke=Ce.LineInjectedText.applyInjectedText(te,ve);let je,Ze;if(ve&&ve.length>0?(je=ve.map((j=>j.options)),Ze=ve.map((j=>j.column-1))):(je=null,Ze=null),-1===Ie)return je?new ye.ModelLineProjectionData(Ze,je,[Ke.length],[],0):null;const Ye=Ke.length;if(Ye<=1)return je?new ye.ModelLineProjectionData(Ze,je,[Ke.length],[],0):null;const et=c(Ke,Ee,Ie,Ne,Oe),nt=Ie-et,rt=[],at=[];let ct=0,ht=0,mt=0,pt=Ie,ft=Ke.charCodeAt(0),_t=j.get(ft),Ct=i(ft,0,Ee,Ne),bt=1;he.isHighSurrogate(ft)&&(Ct+=1,ft=Ke.charCodeAt(1),_t=j.get(ft),bt++);for(let te=bt;te<Ye;te++){const ve=te,Ce=Ke.charCodeAt(te);let ye,Ie;he.isHighSurrogate(Ce)?(te++,ye=0,Ie=2):(ye=j.get(Ce),Ie=i(Ce,Ct,Ee,Ne)),l(ft,_t,Ce,ye)&&(ht=ve,mt=Ct),Ct+=Ie,Ct>pt&&((0===ht||Ct-mt>nt)&&(ht=ve,mt=Ct-Ie),rt[ct]=ht,at[ct]=mt,ct++,pt=mt+nt,ht=0),ft=Ce,_t=ye}return 0!==ct||ve&&0!==ve.length?(rt[ct]=Ye,at[ct]=Ct,new ye.ModelLineProjectionData(Ze,je,rt,at,et)):null}function i(j,te,ve,Ce){return 9===j?ve-te%ve:he.isFullWidthCharacter(j)||j<32?Ce:1}function n(j,te){return te-j%te}function l(j,te,he,ve){return 32!==he&&(2===te||3===te&&2!==ve||1===ve||3===ve&&1!==te)}function c(j,te,ve,Ce,ye){let Ee=0;if(0!==ye){const Ie=he.firstNonWhitespaceIndex(j);if(-1!==Ie){for(let he=0;he<Ie;he++)Ee+=9===j.charCodeAt(he)?n(Ee,te):1;const he=3===ye?2:2===ye?1:0;for(let j=0;j<he;j++)Ee+=n(Ee,te);Ee+Ce>ve&&(Ee=0)}}return Ee}})),define(Ce[252],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.OverviewZoneManager=te.OverviewRulerZone=te.ColorZone=void 0;class y{constructor(j,te,he){this._colorZoneBrand=void 0,this.from=0|j,this.to=0|te,this.colorId=0|he}static compare(j,te){return j.colorId===te.colorId?j.from===te.from?j.to-te.to:j.from-te.from:j.colorId-te.colorId}}te.ColorZone=y;class m{constructor(j,te,he){this._overviewRulerZoneBrand=void 0,this.startLineNumber=j,this.endLineNumber=te,this.color=he,this._colorZone=null}static compare(j,te){return j.color===te.color?j.startLineNumber===te.startLineNumber?j.endLineNumber-te.endLineNumber:j.startLineNumber-te.startLineNumber:j.color<te.color?-1:1}setColorZone(j){this._colorZone=j}getColorZones(){return this._colorZone}}te.OverviewRulerZone=m;te.OverviewZoneManager=class D{constructor(j){this._getVerticalOffsetForLine=j,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(j){this._zones=j,this._zones.sort(m.compare)}setLineHeight(j){return this._lineHeight!==j&&(this._lineHeight=j,this._colorZonesInvalid=!0,!0)}setPixelRatio(j){this._pixelRatio=j,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(j){return this._domWidth!==j&&(this._domWidth=j,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(j){return this._domHeight!==j&&(this._domHeight=j,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(j){return this._outerHeight!==j&&(this._outerHeight=j,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const j=this._colorZonesInvalid,te=Math.floor(this._lineHeight),he=Math.floor(this.getCanvasHeight()),ve=he/Math.floor(this._outerHeight),Ce=Math.floor(4*this._pixelRatio/2),ye=[];for(let Ee=0,Ie=this._zones.length;Ee<Ie;Ee++){const Ie=this._zones[Ee];if(!j){const j=Ie.getColorZones();if(j){ye.push(j);continue}}const Ne=Math.floor(ve*this._getVerticalOffsetForLine(Ie.startLineNumber)),Oe=Math.floor(ve*(this._getVerticalOffsetForLine(Ie.endLineNumber)+te));let Ke=Math.floor((Ne+Oe)/2),je=Oe-Ke;je<Ce&&(je=Ce),Ke-je<0&&(Ke=je),Ke+je>he&&(Ke=he-je);const Ze=Ie.color;let Ye=this._color2Id[Ze];Ye||(Ye=++this._lastAssignedId,this._color2Id[Ze]=Ye,this._id2Color[Ye]=Ze);const et=new y(Ke-je,Ke+je,Ye);Ie.setColorZone(et),ye.push(et)}return this._colorZonesInvalid=!1,ye.sort(y.compare),ye}}})),define(Ce[440],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewContext=te.EditorTheme=void 0;class y{constructor(j){this._theme=j}get type(){return this._theme.type}get value(){return this._theme}update(j){this._theme=j}getColor(j){return this._theme.getColor(j)}}te.EditorTheme=y;te.ViewContext=class m{constructor(j,te,he){this.configuration=j,this.theme=new y(te),this.model=he,this.viewLayout=he.viewLayout}addEventHandler(j){this.model.addViewEventHandler(j)}removeEventHandler(j){this.model.removeViewEventHandler(j)}}})),define(Ce[123],ie([1,0,2]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewEventHandler=void 0;class m extends he.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(j){return!1}onCompositionEnd(j){return!1}onConfigurationChanged(j){return!1}onCursorStateChanged(j){return!1}onDecorationsChanged(j){return!1}onFlushed(j){return!1}onFocusChanged(j){return!1}onLanguageConfigurationChanged(j){return!1}onLineMappingChanged(j){return!1}onLinesChanged(j){return!1}onLinesDeleted(j){return!1}onLinesInserted(j){return!1}onRevealRangeRequest(j){return!1}onScrollChanged(j){return!1}onThemeChanged(j){return!1}onTokensChanged(j){return!1}onTokensColorsChanged(j){return!1}onZonesChanged(j){return!1}handleEvents(j){let te=!1;for(let he=0,ve=j.length;he<ve;he++){const ve=j[he];switch(ve.type){case 0:this.onCompositionStart(ve)&&(te=!0);break;case 1:this.onCompositionEnd(ve)&&(te=!0);break;case 2:this.onConfigurationChanged(ve)&&(te=!0);break;case 3:this.onCursorStateChanged(ve)&&(te=!0);break;case 4:this.onDecorationsChanged(ve)&&(te=!0);break;case 5:this.onFlushed(ve)&&(te=!0);break;case 6:this.onFocusChanged(ve)&&(te=!0);break;case 7:this.onLanguageConfigurationChanged(ve)&&(te=!0);break;case 8:this.onLineMappingChanged(ve)&&(te=!0);break;case 9:this.onLinesChanged(ve)&&(te=!0);break;case 10:this.onLinesDeleted(ve)&&(te=!0);break;case 11:this.onLinesInserted(ve)&&(te=!0);break;case 12:this.onRevealRangeRequest(ve)&&(te=!0);break;case 13:this.onScrollChanged(ve)&&(te=!0);break;case 15:this.onTokensChanged(ve)&&(te=!0);break;case 14:this.onThemeChanged(ve)&&(te=!0);break;case 16:this.onTokensColorsChanged(ve)&&(te=!0);break;case 17:this.onZonesChanged(ve)&&(te=!0);break;default:console.info("View received unknown event: "),console.info(ve)}}te&&(this._shouldRender=!0)}}te.ViewEventHandler=m})),define(Ce[100],ie([1,0,123]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.DynamicViewOverlay=void 0;class m extends he.ViewEventHandler{}te.DynamicViewOverlay=m})),define(Ce[50],ie([1,0,123]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.PartFingerprints=te.ViewPart=void 0;class m extends he.ViewEventHandler{constructor(j){super(),this._context=j,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}te.ViewPart=m;te.PartFingerprints=class D{static write(j,te){j.setAttribute("data-mprt",String(te))}static read(j){const te=j.getAttribute("data-mprt");return null===te?0:parseInt(te,10)}static collect(j,te){const he=[];let ve=0;for(;j&&j!==document.body&&j!==te;)j.nodeType===j.ELEMENT_NODE&&(he[ve++]=this.read(j)),j=j.parentElement;const Ce=new Uint8Array(ve);for(let j=0;j<ve;j++)Ce[j]=he[ve-j-1];return Ce}}})),define(Ce[441],ie([1,0,7,30,50]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewContentWidgets=void 0;class I{constructor(j,te){this._coordinateBrand=void 0,this.top=j,this.left=te}}class w extends Ce.ViewPart{constructor(j,te){super(j),this._viewDomNode=te,this._widgets={},this.domNode=(0,ve.createFastDomNode)(document.createElement("div")),Ce.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,ve.createFastDomNode)(document.createElement("div")),Ce.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(j){const te=Object.keys(this._widgets);for(const he of te)this._widgets[he].onConfigurationChanged(j);return!0}onDecorationsChanged(j){return!0}onFlushed(j){return!0}onLineMappingChanged(j){const te=Object.keys(this._widgets);for(const he of te)this._widgets[he].onLineMappingChanged(j);return!0}onLinesChanged(j){return!0}onLinesDeleted(j){return!0}onLinesInserted(j){return!0}onScrollChanged(j){return!0}onZonesChanged(j){return!0}addWidget(j){const te=new b(this._context,this._viewDomNode,j);this._widgets[te.id]=te,te.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(te.domNode):this.domNode.appendChild(te.domNode),this.setShouldRender()}setWidgetPosition(j,te,he){this._widgets[j.getId()].setPosition(te,he),this.setShouldRender()}removeWidget(j){const te=j.getId();if(this._widgets.hasOwnProperty(te)){const j=this._widgets[te];delete this._widgets[te];const he=j.domNode.domNode;he.parentNode.removeChild(he),he.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(j){return!!this._widgets.hasOwnProperty(j)&&this._widgets[j].suppressMouseDown}onBeforeRender(j){const te=Object.keys(this._widgets);for(const he of te)this._widgets[he].onBeforeRender(j)}prepareRender(j){const te=Object.keys(this._widgets);for(const he of te)this._widgets[he].prepareRender(j)}render(j){const te=Object.keys(this._widgets);for(const he of te)this._widgets[he].render(j)}}te.ViewContentWidgets=w;class b{constructor(j,te,he){this._context=j,this._viewDomNode=te,this._actual=he,this.domNode=(0,ve.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const Ce=this._context.configuration.options,ye=Ce.get(131);this._fixedOverflowWidgets=Ce.get(36),this._contentWidth=ye.contentWidth,this._contentLeft=ye.contentLeft,this._lineHeight=Ce.get(59),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(j){const te=this._context.configuration.options;if(this._lineHeight=te.get(59),j.hasChanged(131)){const j=te.get(131);this._contentLeft=j.contentLeft,this._contentWidth=j.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(j){this._setPosition(this._range)}_setPosition(j){if(this._range=j,this._viewRange=null,this._range){const j=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(j.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(j.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(j))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(j,te){this._setPosition(j),this._preference=te,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(j,te,he,ve,Ce){const ye=j.top,Ee=ye,Ie=te.top+this._lineHeight,Ne=ye-ve,Oe=Ee>=ve,Ke=Ie,je=Ce.viewportHeight-Ie>=ve;let Ze=j.left,Ye=te.left;return Ze+he>Ce.scrollLeft+Ce.viewportWidth&&(Ze=Ce.scrollLeft+Ce.viewportWidth-he),Ye+he>Ce.scrollLeft+Ce.viewportWidth&&(Ye=Ce.scrollLeft+Ce.viewportWidth-he),Ze<Ce.scrollLeft&&(Ze=Ce.scrollLeft),Ye<Ce.scrollLeft&&(Ye=Ce.scrollLeft),{fitsAbove:Oe,aboveTop:Ne,aboveLeft:Ze,fitsBelow:je,belowTop:Ke,belowLeft:Ye}}_layoutHorizontalSegmentInPage(j,te,ve,Ce){const ye=Math.max(0,te.left-Ce),Ee=Math.min(te.left+te.width+Ce,j.width);let Ie=te.left+ve-he.StandardWindow.scrollX;if(Ie+Ce>Ee){const j=Ie-(Ee-Ce);Ie-=j,ve-=j}if(Ie<ye){const j=Ie-ye;Ie-=j,ve-=j}return[ve,Ie]}_layoutBoxInPage(j,te,ve,Ce,ye){const Ee=j.top-Ce,Ie=te.top+this._lineHeight,Ne=he.getDomNodePagePosition(this._viewDomNode.domNode),Oe=Ne.top+Ee-he.StandardWindow.scrollY,Ke=Ne.top+Ie-he.StandardWindow.scrollY,je=he.getClientArea(document.body),[Ze,Ye]=this._layoutHorizontalSegmentInPage(je,Ne,j.left-ye.scrollLeft+this._contentLeft,ve),[et,nt]=this._layoutHorizontalSegmentInPage(je,Ne,te.left-ye.scrollLeft+this._contentLeft,ve),rt=Oe>=22,at=Ke+Ce<=je.height-22;return this._fixedOverflowWidgets?{fitsAbove:rt,aboveTop:Math.max(Oe,22),aboveLeft:Ye,fitsBelow:at,belowTop:Ke,belowLeft:nt}:{fitsAbove:rt,aboveTop:Ee,aboveLeft:Ze,fitsBelow:at,belowTop:Ie,belowLeft:et}}_prepareRenderWidgetAtExactPositionOverflowing(j){return new I(j.top,j.left+this._contentLeft)}_getTopAndBottomLeft(j){if(!this._viewRange)return[null,null];const te=j.linesVisibleRangesForRange(this._viewRange,!1);if(!te||0===te.length)return[null,null];let he=te[0],ve=te[0];for(const j of te)j.lineNumber<he.lineNumber&&(he=j),j.lineNumber>ve.lineNumber&&(ve=j);let Ce=1073741824;for(const j of he.ranges)j.left<Ce&&(Ce=j.left);let ye=1073741824;for(const j of ve.ranges)j.left<ye&&(ye=j.left);const Ee=j.getVerticalOffsetForLineNumber(he.lineNumber)-j.scrollTop,Ie=new I(Ee,Ce),Ne=j.getVerticalOffsetForLineNumber(ve.lineNumber)-j.scrollTop;return[Ie,new I(Ne,ye)]}_prepareRenderWidget(j){if(!this._preference||0===this._preference.length)return null;const[te,he]=this._getTopAndBottomLeft(j);if(!te||!he)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let j=null;if("function"==typeof this._actual.beforeRender&&(j=p(this._actual.beforeRender,this._actual)),j)this._cachedDomNodeOffsetWidth=j.width,this._cachedDomNodeOffsetHeight=j.height;else{const j=this.domNode.domNode;this._cachedDomNodeOffsetWidth=j.offsetWidth,this._cachedDomNodeOffsetHeight=j.offsetHeight}}let ve;ve=this.allowEditorOverflow?this._layoutBoxInPage(te,he,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,j):this._layoutBoxInViewport(te,he,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,j);for(let j=1;j<=2;j++)for(const he of this._preference)if(1===he){if(!ve)return null;if(2===j||ve.fitsAbove)return{coordinate:new I(ve.aboveTop,ve.aboveLeft),position:1}}else{if(2!==he)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(te),position:0}:{coordinate:te,position:0};if(!ve)return null;if(2===j||ve.fitsBelow)return{coordinate:new I(ve.belowTop,ve.belowLeft),position:2}}return null}onBeforeRender(j){!this._viewRange||!this._preference||this._viewRange.endLineNumber<j.startLineNumber||this._viewRange.startLineNumber>j.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(j){this._renderData=this._prepareRenderWidget(j)}render(j){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&p(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+j.scrollTop-j.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&p(this._actual.afterRender,this._actual,this._renderData.position)}}function p(j,te,...he){try{return j.call(te,...he)}catch{return null}}})),define(Ce[442],ie([1,0,100,3,116,352]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.DecorationsOverlay=void 0;class I extends he.DynamicViewOverlay{constructor(j){super(),this._context=j;const te=this._context.configuration.options;this._lineHeight=te.get(59),this._typicalHalfwidthCharacterWidth=te.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(j){const te=this._context.configuration.options;return this._lineHeight=te.get(59),this._typicalHalfwidthCharacterWidth=te.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(j){return!0}onFlushed(j){return!0}onLinesChanged(j){return!0}onLinesDeleted(j){return!0}onLinesInserted(j){return!0}onScrollChanged(j){return j.scrollTopChanged||j.scrollWidthChanged}onZonesChanged(j){return!0}prepareRender(j){const te=j.getDecorationsInViewport();let he=[],Ce=0;for(let j=0,ve=te.length;j<ve;j++){const ve=te[j];ve.options.className&&(he[Ce++]=ve)}he=he.sort(((j,te)=>{if(j.options.zIndex<te.options.zIndex)return-1;if(j.options.zIndex>te.options.zIndex)return 1;const he=j.options.className,Ce=te.options.className;return he<Ce?-1:he>Ce?1:ve.Range.compareRangesUsingStarts(j.range,te.range)}));const ye=j.visibleRange.startLineNumber,Ee=j.visibleRange.endLineNumber,Ie=[];for(let j=ye;j<=Ee;j++){Ie[j-ye]=""}this._renderWholeLineDecorations(j,he,Ie),this._renderNormalDecorations(j,he,Ie),this._renderResult=Ie}_renderWholeLineDecorations(j,te,he){const ve=String(this._lineHeight),Ce=j.visibleRange.startLineNumber,ye=j.visibleRange.endLineNumber;for(let j=0,Ee=te.length;j<Ee;j++){const Ee=te[j];if(!Ee.options.isWholeLine)continue;const Ie='<div class="cdr '+Ee.options.className+'" style="left:0;width:100%;height:'+ve+'px;"></div>',Ne=Math.max(Ee.range.startLineNumber,Ce),Oe=Math.min(Ee.range.endLineNumber,ye);for(let j=Ne;j<=Oe;j++){he[j-Ce]+=Ie}}}_renderNormalDecorations(j,te,he){const Ce=String(this._lineHeight),ye=j.visibleRange.startLineNumber;let Ee=null,Ie=!1,Ne=null;for(let Oe=0,Ke=te.length;Oe<Ke;Oe++){const Ke=te[Oe];if(Ke.options.isWholeLine)continue;const je=Ke.options.className,Ze=Boolean(Ke.options.showIfCollapsed);let Ye=Ke.range;(Ze&&1===Ye.endColumn&&Ye.endLineNumber!==Ye.startLineNumber&&(Ye=new ve.Range(Ye.startLineNumber,Ye.startColumn,Ye.endLineNumber-1,this._context.model.getLineMaxColumn(Ye.endLineNumber-1))),Ee===je&&Ie===Ze&&ve.Range.areIntersectingOrTouching(Ne,Ye))?Ne=ve.Range.plusRange(Ne,Ye):(null!==Ee&&this._renderNormalDecoration(j,Ne,Ee,Ie,Ce,ye,he),Ee=je,Ie=Ze,Ne=Ye)}null!==Ee&&this._renderNormalDecoration(j,Ne,Ee,Ie,Ce,ye,he)}_renderNormalDecoration(j,te,he,ve,ye,Ee,Ie){const Ne=j.linesVisibleRangesForRange(te,"findMatch"===he);if(Ne)for(let j=0,te=Ne.length;j<te;j++){const te=Ne[j];if(te.outsideRenderedLine)continue;const Oe=te.lineNumber-Ee;if(ve&&1===te.ranges.length){const j=te.ranges[0];if(j.width<this._typicalHalfwidthCharacterWidth){const he=Math.round(j.left+j.width/2),ve=Math.max(0,Math.round(he-this._typicalHalfwidthCharacterWidth/2));te.ranges[0]=new Ce.HorizontalRange(ve,this._typicalHalfwidthCharacterWidth)}}for(let j=0,ve=te.ranges.length;j<ve;j++){const ve=te.ranges[j],Ce='<div class="cdr '+he+'" style="left:'+String(ve.left)+"px;width:"+String(ve.width)+"px;height:"+ye+'px;"></div>';Ie[Oe]+=Ce}}}render(j,te){if(!this._renderResult)return"";const he=te-j;return he<0||he>=this._renderResult.length?"":this._renderResult[he]}}te.DecorationsOverlay=I})),define(Ce[182],ie([1,0,100,353]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.GlyphMarginOverlay=te.DedupOverlay=te.DecorationToRender=void 0;class m{constructor(j,te,he){this._decorationToRenderBrand=void 0,this.startLineNumber=+j,this.endLineNumber=+te,this.className=String(he)}}te.DecorationToRender=m;class D extends he.DynamicViewOverlay{_render(j,te,he){const ve=[];for(let he=j;he<=te;he++){ve[he-j]=[]}if(0===he.length)return ve;he.sort(((j,te)=>j.className===te.className?j.startLineNumber===te.startLineNumber?j.endLineNumber-te.endLineNumber:j.startLineNumber-te.startLineNumber:j.className<te.className?-1:1));let Ce=null,ye=0;for(let Ee=0,Ie=he.length;Ee<Ie;Ee++){const Ie=he[Ee],Ne=Ie.className;let Oe=Math.max(Ie.startLineNumber,j)-j;const Ke=Math.min(Ie.endLineNumber,te)-j;Ce===Ne?(Oe=Math.max(ye+1,Oe),ye=Math.max(ye,Ke)):(Ce=Ne,ye=Ke);for(let j=Oe;j<=ye;j++)ve[j].push(Ce)}return ve}}te.DedupOverlay=D;te.GlyphMarginOverlay=class I extends D{constructor(j){super(),this._context=j;const te=this._context.configuration.options,he=te.get(131);this._lineHeight=te.get(59),this._glyphMargin=te.get(50),this._glyphMarginLeft=he.glyphMarginLeft,this._glyphMarginWidth=he.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(j){const te=this._context.configuration.options,he=te.get(131);return this._lineHeight=te.get(59),this._glyphMargin=te.get(50),this._glyphMarginLeft=he.glyphMarginLeft,this._glyphMarginWidth=he.glyphMarginWidth,!0}onDecorationsChanged(j){return!0}onFlushed(j){return!0}onLinesChanged(j){return!0}onLinesDeleted(j){return!0}onLinesInserted(j){return!0}onScrollChanged(j){return j.scrollTopChanged}onZonesChanged(j){return!0}_getDecorations(j){const te=j.getDecorationsInViewport(),he=[];let ve=0;for(let j=0,Ce=te.length;j<Ce;j++){const Ce=te[j],ye=Ce.options.glyphMarginClassName;ye&&(he[ve++]=new m(Ce.range.startLineNumber,Ce.range.endLineNumber,ye))}return he}prepareRender(j){if(!this._glyphMargin)return void(this._renderResult=null);const te=j.visibleRange.startLineNumber,he=j.visibleRange.endLineNumber,ve=this._render(te,he,this._getDecorations(j)),Ce=this._lineHeight.toString(),ye='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+Ce+'px;"></div>',Ee=[];for(let j=te;j<=he;j++){const he=j-te,Ce=ve[he];0===Ce.length?Ee[he]="":Ee[he]='<div class="cgmr codicon '+Ce.join(" ")+ye}this._renderResult=Ee}render(j,te){if(!this._renderResult)return"";const he=te-j;return he<0||he>=this._renderResult.length?"":this._renderResult[he]}}})),define(Ce[443],ie([1,0,182,357]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.LinesDecorationsOverlay=void 0;class m extends he.DedupOverlay{constructor(j){super(),this._context=j;const te=this._context.configuration.options.get(131);this._decorationsLeft=te.decorationsLeft,this._decorationsWidth=te.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(j){const te=this._context.configuration.options.get(131);return this._decorationsLeft=te.decorationsLeft,this._decorationsWidth=te.decorationsWidth,!0}onDecorationsChanged(j){return!0}onFlushed(j){return!0}onLinesChanged(j){return!0}onLinesDeleted(j){return!0}onLinesInserted(j){return!0}onScrollChanged(j){return j.scrollTopChanged}onZonesChanged(j){return!0}_getDecorations(j){const te=j.getDecorationsInViewport(),ve=[];let Ce=0;for(let j=0,ye=te.length;j<ye;j++){const ye=te[j],Ee=ye.options.linesDecorationsClassName;Ee&&(ve[Ce++]=new he.DecorationToRender(ye.range.startLineNumber,ye.range.endLineNumber,Ee));const Ie=ye.options.firstLineDecorationClassName;Ie&&(ve[Ce++]=new he.DecorationToRender(ye.range.startLineNumber,ye.range.startLineNumber,Ie))}return ve}prepareRender(j){const te=j.visibleRange.startLineNumber,he=j.visibleRange.endLineNumber,ve=this._render(te,he,this._getDecorations(j)),Ce='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',ye=[];for(let j=te;j<=he;j++){const he=j-te,Ee=ve[he];let Ie="";for(let j=0,te=Ee.length;j<te;j++)Ie+='<div class="cldr '+Ee[j]+Ce;ye[he]=Ie}this._renderResult=ye}render(j,te){return this._renderResult?this._renderResult[te-j]:""}}te.LinesDecorationsOverlay=m})),define(Ce[253],ie([1,0,30,50]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.Margin=void 0;class D extends ve.ViewPart{constructor(j){super(j);const te=this._context.configuration.options,ve=te.get(131);this._canUseLayerHinting=!te.get(28),this._contentLeft=ve.contentLeft,this._glyphMarginLeft=ve.glyphMarginLeft,this._glyphMarginWidth=ve.glyphMarginWidth,this._domNode=(0,he.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(D.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,he.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(D.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(j){const te=this._context.configuration.options,he=te.get(131);return this._canUseLayerHinting=!te.get(28),this._contentLeft=he.contentLeft,this._glyphMarginLeft=he.glyphMarginLeft,this._glyphMarginWidth=he.glyphMarginWidth,!0}onScrollChanged(j){return super.onScrollChanged(j)||j.scrollTopChanged}prepareRender(j){}render(j){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const te=j.scrollTop-j.bigNumbersDelta;this._domNode.setTop(-te);const he=Math.min(j.scrollHeight,1e6);this._domNode.setHeight(he),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(he)}}te.Margin=D,D.CLASS_NAME="glyph-margin",D.OUTER_CLASS_NAME="margin"})),define(Ce[444],ie([1,0,182,358]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.MarginViewLineDecorationsOverlay=void 0;class m extends he.DedupOverlay{constructor(j){super(),this._context=j,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(j){return!0}onDecorationsChanged(j){return!0}onFlushed(j){return!0}onLinesChanged(j){return!0}onLinesDeleted(j){return!0}onLinesInserted(j){return!0}onScrollChanged(j){return j.scrollTopChanged}onZonesChanged(j){return!0}_getDecorations(j){const te=j.getDecorationsInViewport(),ve=[];let Ce=0;for(let j=0,ye=te.length;j<ye;j++){const ye=te[j],Ee=ye.options.marginClassName;Ee&&(ve[Ce++]=new he.DecorationToRender(ye.range.startLineNumber,ye.range.endLineNumber,Ee))}return ve}prepareRender(j){const te=j.visibleRange.startLineNumber,he=j.visibleRange.endLineNumber,ve=this._render(te,he,this._getDecorations(j)),Ce=[];for(let j=te;j<=he;j++){const he=j-te,ye=ve[he];let Ee="";for(let j=0,te=ye.length;j<te;j++)Ee+='<div class="cmdr '+ye[j]+'" style=""></div>';Ce[he]=Ee}this._renderResult=Ce}render(j,te){return this._renderResult?this._renderResult[te-j]:""}}te.MarginViewLineDecorationsOverlay=m})),define(Ce[445],ie([1,0,30,50,360]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewOverlayWidgets=void 0;class D extends ve.ViewPart{constructor(j){super(j);const te=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=te.verticalScrollbarWidth,this._minimapWidth=te.minimap.minimapWidth,this._horizontalScrollbarHeight=te.horizontalScrollbarHeight,this._editorHeight=te.height,this._editorWidth=te.width,this._domNode=(0,he.createFastDomNode)(document.createElement("div")),ve.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(j){const te=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=te.verticalScrollbarWidth,this._minimapWidth=te.minimap.minimapWidth,this._horizontalScrollbarHeight=te.horizontalScrollbarHeight,this._editorHeight=te.height,this._editorWidth=te.width,!0}addWidget(j){const te=(0,he.createFastDomNode)(j.getDomNode());this._widgets[j.getId()]={widget:j,preference:null,domNode:te},te.setPosition("absolute"),te.setAttribute("widgetId",j.getId()),this._domNode.appendChild(te),this.setShouldRender()}setWidgetPosition(j,te){const he=this._widgets[j.getId()];return he.preference!==te&&(he.preference=te,this.setShouldRender(),!0)}removeWidget(j){const te=j.getId();if(this._widgets.hasOwnProperty(te)){const j=this._widgets[te].domNode.domNode;delete this._widgets[te],j.parentNode.removeChild(j),this.setShouldRender()}}_renderWidget(j){const te=j.domNode;if(null!==j.preference)if(0===j.preference)te.setTop(0),te.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===j.preference){const j=te.domNode.clientHeight;te.setTop(this._editorHeight-j-2*this._horizontalScrollbarHeight),te.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===j.preference&&(te.setTop(0),te.domNode.style.right="50%");else te.unsetTop()}prepareRender(j){}render(j){this._domNode.setWidth(this._editorWidth);const te=Object.keys(this._widgets);for(let j=0,he=te.length;j<he;j++){const he=te[j];this._renderWidget(this._widgets[he])}}}te.ViewOverlayWidgets=D})),define(Ce[446],ie([1,0,30,252,123]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.OverviewRuler=void 0;class I extends Ce.ViewEventHandler{constructor(j,te){super(),this._context=j;const Ce=this._context.configuration.options;this._domNode=(0,he.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(te),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new ve.OverviewZoneManager((j=>this._context.viewLayout.getVerticalOffsetForLineNumber(j))),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(Ce.get(59)),this._zoneManager.setPixelRatio(Ce.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(j){const te=this._context.configuration.options;return j.hasChanged(59)&&(this._zoneManager.setLineHeight(te.get(59)),this._render()),j.hasChanged(129)&&(this._zoneManager.setPixelRatio(te.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(j){return this._render(),!0}onScrollChanged(j){return j.scrollHeightChanged&&(this._zoneManager.setOuterHeight(j.scrollHeight),this._render()),!0}onZonesChanged(j){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(j){this._domNode.setTop(j.top),this._domNode.setRight(j.right);let te=!1;te=this._zoneManager.setDOMWidth(j.width)||te,te=this._zoneManager.setDOMHeight(j.height)||te,te&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(j){this._zoneManager.setZones(j),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const j=this._zoneManager.getCanvasWidth(),te=this._zoneManager.getCanvasHeight(),he=this._zoneManager.resolveColorZones(),ve=this._zoneManager.getId2Color(),Ce=this._domNode.domNode.getContext("2d");return Ce.clearRect(0,0,j,te),he.length>0&&this._renderOneLane(Ce,he,ve,j),!0}_renderOneLane(j,te,he,ve){let Ce=0,ye=0,Ee=0;for(const Ie of te){const te=Ie.colorId,Ne=Ie.from,Oe=Ie.to;te!==Ce?(j.fillRect(0,ye,ve,Ee-ye),Ce=te,j.fillStyle=he[Ce],ye=Ne,Ee=Oe):Ee>=Ne?Ee=Math.max(Ee,Oe):(j.fillRect(0,ye,ve,Ee-ye),ye=Ne,Ee=Oe)}j.fillRect(0,ye,ve,Ee-ye)}}te.OverviewRuler=I})),define(Ce[447],ie([1,0,30,13,50,11]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewZones=void 0;const w=()=>{throw new Error("Invalid change accessor")};class b extends Ce.ViewPart{constructor(j){super(j);const te=this._context.configuration.options,ve=te.get(131);this._lineHeight=te.get(59),this._contentWidth=ve.contentWidth,this._contentLeft=ve.contentLeft,this.domNode=(0,he.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,he.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const j=this._context.viewLayout.getWhitespaces(),te=new Map;for(const he of j)te.set(he.id,he);let he=!1;return this._context.model.changeWhitespace((j=>{const ve=Object.keys(this._zones);for(let Ce=0,ye=ve.length;Ce<ye;Ce++){const ye=ve[Ce],Ee=this._zones[ye],Ie=this._computeWhitespaceProps(Ee.delegate);Ee.isInHiddenArea=Ie.isInHiddenArea;const Ne=te.get(ye);Ne&&(Ne.afterLineNumber!==Ie.afterViewLineNumber||Ne.height!==Ie.heightInPx)&&(j.changeOneWhitespace(ye,Ie.afterViewLineNumber,Ie.heightInPx),this._safeCallOnComputedHeight(Ee.delegate,Ie.heightInPx),he=!0)}})),he}onConfigurationChanged(j){const te=this._context.configuration.options,he=te.get(131);return this._lineHeight=te.get(59),this._contentWidth=he.contentWidth,this._contentLeft=he.contentLeft,j.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(j){return this._recomputeWhitespacesProps()}onLinesDeleted(j){return!0}onScrollChanged(j){return j.scrollTopChanged||j.scrollWidthChanged}onZonesChanged(j){return!0}onLinesInserted(j){return!0}_getZoneOrdinal(j){return void 0!==j.afterColumn?j.afterColumn:1e4}_computeWhitespaceProps(j){if(0===j.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(j),minWidthInPx:this._minWidthInPixels(j)};let te,he;if(void 0!==j.afterColumn)te=this._context.model.validateModelPosition({lineNumber:j.afterLineNumber,column:j.afterColumn});else{const he=this._context.model.validateModelPosition({lineNumber:j.afterLineNumber,column:1}).lineNumber;te=new ye.Position(he,this._context.model.getModelLineMaxColumn(he))}he=te.column===this._context.model.getModelLineMaxColumn(te.lineNumber)?this._context.model.validateModelPosition({lineNumber:te.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:te.lineNumber,column:te.column+1});const ve=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(te,j.afterColumnAffinity),Ce=this._context.model.coordinatesConverter.modelPositionIsVisible(he);return{isInHiddenArea:!Ce,afterViewLineNumber:ve.lineNumber,heightInPx:Ce?this._heightInPixels(j):0,minWidthInPx:this._minWidthInPixels(j)}}changeViewZones(j){let te=!1;return this._context.model.changeWhitespace((he=>{const Ce={addZone:j=>(te=!0,this._addZone(he,j)),removeZone:j=>{!j||(te=this._removeZone(he,j)||te)},layoutZone:j=>{!j||(te=this._layoutZone(he,j)||te)}};(function p(j,te){try{return j(te)}catch(j){(0,ve.onUnexpectedError)(j)}})(j,Ce),Ce.addZone=w,Ce.removeZone=w,Ce.layoutZone=w})),te}_addZone(j,te){const ve=this._computeWhitespaceProps(te),Ce={whitespaceId:j.insertWhitespace(ve.afterViewLineNumber,this._getZoneOrdinal(te),ve.heightInPx,ve.minWidthInPx),delegate:te,isInHiddenArea:ve.isInHiddenArea,isVisible:!1,domNode:(0,he.createFastDomNode)(te.domNode),marginDomNode:te.marginDomNode?(0,he.createFastDomNode)(te.marginDomNode):null};return this._safeCallOnComputedHeight(Ce.delegate,ve.heightInPx),Ce.domNode.setPosition("absolute"),Ce.domNode.domNode.style.width="100%",Ce.domNode.setDisplay("none"),Ce.domNode.setAttribute("monaco-view-zone",Ce.whitespaceId),this.domNode.appendChild(Ce.domNode),Ce.marginDomNode&&(Ce.marginDomNode.setPosition("absolute"),Ce.marginDomNode.domNode.style.width="100%",Ce.marginDomNode.setDisplay("none"),Ce.marginDomNode.setAttribute("monaco-view-zone",Ce.whitespaceId),this.marginDomNode.appendChild(Ce.marginDomNode)),this._zones[Ce.whitespaceId]=Ce,this.setShouldRender(),Ce.whitespaceId}_removeZone(j,te){if(this._zones.hasOwnProperty(te)){const he=this._zones[te];return delete this._zones[te],j.removeWhitespace(he.whitespaceId),he.domNode.removeAttribute("monaco-visible-view-zone"),he.domNode.removeAttribute("monaco-view-zone"),he.domNode.domNode.parentNode.removeChild(he.domNode.domNode),he.marginDomNode&&(he.marginDomNode.removeAttribute("monaco-visible-view-zone"),he.marginDomNode.removeAttribute("monaco-view-zone"),he.marginDomNode.domNode.parentNode.removeChild(he.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(j,te){if(this._zones.hasOwnProperty(te)){const he=this._zones[te],ve=this._computeWhitespaceProps(he.delegate);return he.isInHiddenArea=ve.isInHiddenArea,j.changeOneWhitespace(he.whitespaceId,ve.afterViewLineNumber,ve.heightInPx),this._safeCallOnComputedHeight(he.delegate,ve.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(j){if(this._zones.hasOwnProperty(j)){const te=this._zones[j];return Boolean(te.delegate.suppressMouseDown)}return!1}_heightInPixels(j){return"number"==typeof j.heightInPx?j.heightInPx:"number"==typeof j.heightInLines?this._lineHeight*j.heightInLines:this._lineHeight}_minWidthInPixels(j){return"number"==typeof j.minWidthInPx?j.minWidthInPx:0}_safeCallOnComputedHeight(j,te){if("function"==typeof j.onComputedHeight)try{j.onComputedHeight(te)}catch(j){(0,ve.onUnexpectedError)(j)}}_safeCallOnDomNodeTop(j,te){if("function"==typeof j.onDomNodeTop)try{j.onDomNodeTop(te)}catch(j){(0,ve.onUnexpectedError)(j)}}prepareRender(j){}render(j){const te=j.viewportData.whitespaceViewportData,he={};let ve=!1;for(const j of te)this._zones[j.id].isInHiddenArea||(he[j.id]=j,ve=!0);const Ce=Object.keys(this._zones);for(let te=0,ve=Ce.length;te<ve;te++){const ve=Ce[te],ye=this._zones[ve];let Ee=0,Ie=0,Ne="none";he.hasOwnProperty(ve)?(Ee=he[ve].verticalOffset-j.bigNumbersDelta,Ie=he[ve].height,Ne="block",ye.isVisible||(ye.domNode.setAttribute("monaco-visible-view-zone","true"),ye.isVisible=!0),this._safeCallOnDomNodeTop(ye.delegate,j.getScrolledTopFromAbsoluteTop(he[ve].verticalOffset))):(ye.isVisible&&(ye.domNode.removeAttribute("monaco-visible-view-zone"),ye.isVisible=!1),this._safeCallOnDomNodeTop(ye.delegate,j.getScrolledTopFromAbsoluteTop(-1e6))),ye.domNode.setTop(Ee),ye.domNode.setHeight(Ie),ye.domNode.setDisplay(Ne),ye.marginDomNode&&(ye.marginDomNode.setTop(Ee),ye.marginDomNode.setHeight(Ie),ye.marginDomNode.setDisplay(Ne))}ve&&(this.domNode.setWidth(Math.max(j.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}te.ViewZones=b})),define(Ce[183],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewZonesChangedEvent=te.ViewTokensColorsChangedEvent=te.ViewTokensChangedEvent=te.ViewThemeChangedEvent=te.ViewScrollChangedEvent=te.ViewRevealRangeRequestEvent=te.ViewLinesInsertedEvent=te.ViewLinesDeletedEvent=te.ViewLinesChangedEvent=te.ViewLineMappingChangedEvent=te.ViewLanguageConfigurationEvent=te.ViewFocusChangedEvent=te.ViewFlushedEvent=te.ViewDecorationsChangedEvent=te.ViewCursorStateChangedEvent=te.ViewConfigurationChangedEvent=te.ViewCompositionEndEvent=te.ViewCompositionStartEvent=void 0;te.ViewCompositionStartEvent=class y{constructor(){this.type=0}};te.ViewCompositionEndEvent=class m{constructor(){this.type=1}};te.ViewConfigurationChangedEvent=class D{constructor(j){this.type=2,this._source=j}hasChanged(j){return this._source.hasChanged(j)}};te.ViewCursorStateChangedEvent=class I{constructor(j,te){this.type=3,this.selections=j,this.modelSelections=te}};te.ViewDecorationsChangedEvent=class w{constructor(j){this.type=4,j?(this.affectsMinimap=j.affectsMinimap,this.affectsOverviewRuler=j.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}};te.ViewFlushedEvent=class b{constructor(){this.type=5}};te.ViewFocusChangedEvent=class p{constructor(j){this.type=6,this.isFocused=j}};te.ViewLanguageConfigurationEvent=class h{constructor(){this.type=7}};te.ViewLineMappingChangedEvent=class g{constructor(){this.type=8}};te.ViewLinesChangedEvent=class t{constructor(j,te){this.type=9,this.fromLineNumber=j,this.toLineNumber=te}};te.ViewLinesDeletedEvent=class i{constructor(j,te){this.type=10,this.fromLineNumber=j,this.toLineNumber=te}};te.ViewLinesInsertedEvent=class n{constructor(j,te){this.type=11,this.fromLineNumber=j,this.toLineNumber=te}};te.ViewRevealRangeRequestEvent=class l{constructor(j,te,he,ve,Ce,ye,Ee){this.source=j,this.minimalReveal=te,this.range=he,this.selections=ve,this.verticalType=Ce,this.revealHorizontal=ye,this.scrollType=Ee,this.type=12}};te.ViewScrollChangedEvent=class c{constructor(j){this.type=13,this.scrollWidth=j.scrollWidth,this.scrollLeft=j.scrollLeft,this.scrollHeight=j.scrollHeight,this.scrollTop=j.scrollTop,this.scrollWidthChanged=j.scrollWidthChanged,this.scrollLeftChanged=j.scrollLeftChanged,this.scrollHeightChanged=j.scrollHeightChanged,this.scrollTopChanged=j.scrollTopChanged}};te.ViewThemeChangedEvent=class r{constructor(){this.type=14}};te.ViewTokensChangedEvent=class s{constructor(j){this.type=15,this.ranges=j}};te.ViewTokensColorsChangedEvent=class o{constructor(){this.type=16}};te.ViewZonesChangedEvent=class a{constructor(){this.type=17}}})),define(Ce[69],ie([1,0,8,3]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.OverviewRulerDecorationsGroup=te.ViewModelDecoration=te.SingleLineInlineDecoration=te.InlineDecoration=te.ViewLineRenderingData=te.ViewLineData=te.MinimapLinesRenderingData=te.Viewport=void 0;te.Viewport=class D{constructor(j,te,he,ve){this._viewportBrand=void 0,this.top=0|j,this.left=0|te,this.width=0|he,this.height=0|ve}};te.MinimapLinesRenderingData=class I{constructor(j,te){this.tabSize=j,this.data=te}};te.ViewLineData=class w{constructor(j,te,he,ve,Ce,ye,Ee){this._viewLineDataBrand=void 0,this.content=j,this.continuesWithWrappedLine=te,this.minColumn=he,this.maxColumn=ve,this.startVisibleColumn=Ce,this.tokens=ye,this.inlineDecorations=Ee}};class b{constructor(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){this.minColumn=j,this.maxColumn=te,this.content=he,this.continuesWithWrappedLine=ve,this.isBasicASCII=b.isBasicASCII(he,ye),this.containsRTL=b.containsRTL(he,this.isBasicASCII,Ce),this.tokens=Ee,this.inlineDecorations=Ie,this.tabSize=Ne,this.startVisibleColumn=Oe}static isBasicASCII(j,te){return!te||he.isBasicASCII(j)}static containsRTL(j,te,ve){return!(te||!ve)&&he.containsRTL(j)}}te.ViewLineRenderingData=b;class p{constructor(j,te,he){this.range=j,this.inlineClassName=te,this.type=he}}te.InlineDecoration=p;te.SingleLineInlineDecoration=class h{constructor(j,te,he,ve){this.startOffset=j,this.endOffset=te,this.inlineClassName=he,this.inlineClassNameAffectsLetterSpacing=ve}toInlineDecoration(j){return new p(new ve.Range(j,this.startOffset+1,j,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}};te.ViewModelDecoration=class g{constructor(j,te){this._viewModelDecorationBrand=void 0,this.range=j,this.options=te}};te.OverviewRulerDecorationsGroup=class t{constructor(j,te,he){this.color=j,this.zIndex=te,this.data=he}static cmp(j,te){return j.zIndex===te.zIndex?j.color<te.color?-1:j.color>te.color?1:0:j.zIndex-te.zIndex}}})),define(Ce[448],ie([1,0,75,11,91,69]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.createModelLineProjection=void 0,te.createModelLineProjection=function w(j,te){return null===j?te?p.INSTANCE:h.INSTANCE:new b(j,te)};class b{constructor(j,te){this._projectionData=j,this._isVisible=te}isVisible(){return this._isVisible}setVisible(j){return this._isVisible=j,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(j,te,he){this._assertVisible();const ve=he>0?this._projectionData.breakOffsets[he-1]:0,ye=this._projectionData.breakOffsets[he];let Ee;if(null!==this._projectionData.injectionOffsets){const he=this._projectionData.injectionOffsets.map(((j,te)=>new Ce.LineInjectedText(0,0,j+1,this._projectionData.injectionOptions[te],0)));Ee=Ce.LineInjectedText.applyInjectedText(j.getLineContent(te),he).substring(ve,ye)}else Ee=j.getValueInRange({startLineNumber:te,startColumn:ve+1,endLineNumber:te,endColumn:ye+1});return he>0&&(Ee=t(this._projectionData.wrappedTextIndentLength)+Ee),Ee}getViewLineLength(j,te,he){return this._assertVisible(),this._projectionData.getLineLength(he)}getViewLineMinColumn(j,te,he){return this._assertVisible(),this._projectionData.getMinOutputOffset(he)+1}getViewLineMaxColumn(j,te,he){return this._assertVisible(),this._projectionData.getMaxOutputOffset(he)+1}getViewLineData(j,te,he){const ve=new Array;return this.getViewLinesData(j,te,he,1,0,[!0],ve),ve[0]}getViewLinesData(j,te,ve,Ce,Ee,Ie,Ne){this._assertVisible();const Oe=this._projectionData,Ke=Oe.injectionOffsets,je=Oe.injectionOptions;let Ze,Ye=null;if(Ke){Ye=[];let j=0,te=0;for(let he=0;he<Oe.getOutputLineCount();he++){const ve=new Array;Ye[he]=ve;const Ce=he>0?Oe.breakOffsets[he-1]:0,Ee=Oe.breakOffsets[he];for(;te<Ke.length;){const Ie=je[te].content.length,Ne=Ke[te]+j,Ze=Ne+Ie;if(Ne>Ee)break;if(Ce<Ze){const j=je[te];if(j.inlineClassName){const te=he>0?Oe.wrappedTextIndentLength:0,Ie=te+Math.max(Ne-Ce,0),Ke=te+Math.min(Ze-Ce,Ee);Ie!==Ke&&ve.push(new ye.SingleLineInlineDecoration(Ie,Ke,j.inlineClassName,j.inlineClassNameAffectsLetterSpacing))}}if(!(Ze<=Ee))break;j+=Ie,te++}}}Ze=Ke?j.getLineTokens(te).withInserted(Ke.map(((j,te)=>({offset:j,text:je[te].content,tokenMetadata:he.LineTokens.defaultTokenMetadata})))):j.getLineTokens(te);for(let j=ve;j<ve+Ce;j++){const te=Ee+j-ve;Ie[te]?Ne[te]=this._getViewLineData(Ze,Ye?Ye[j]:null,j):Ne[te]=null}}_getViewLineData(j,te,he){this._assertVisible();const ve=this._projectionData,Ce=he>0?ve.wrappedTextIndentLength:0,Ee=he>0?ve.breakOffsets[he-1]:0,Ie=ve.breakOffsets[he],Ne=j.sliceAndInflate(Ee,Ie,Ce);let Oe=Ne.getLineContent();he>0&&(Oe=t(ve.wrappedTextIndentLength)+Oe);const Ke=this._projectionData.getMinOutputOffset(he)+1,je=Oe.length+1,Ze=he+1<this.getViewLineCount(),Ye=0===he?0:ve.breakOffsetsVisibleColumn[he-1];return new ye.ViewLineData(Oe,Ze,Ke,je,Ye,Ne,te)}getModelColumnOfViewPosition(j,te){return this._assertVisible(),this._projectionData.translateToInputOffset(j,te-1)+1}getViewPositionOfModelPosition(j,te,he=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(te-1,he).toPosition(j)}getViewLineNumberOfModelPosition(j,te){this._assertVisible();return j+this._projectionData.translateToOutputPosition(te-1).outputLineIndex}normalizePosition(j,te,he){const ve=te.lineNumber-j;return this._projectionData.normalizeOutputPosition(j,te.column-1,he).toPosition(ve)}getInjectedTextAt(j,te){return this._projectionData.getInjectedText(j,te-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class p{constructor(){}isVisible(){return!0}setVisible(j){return j?this:h.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(j,te,he){return j.getLineContent(te)}getViewLineLength(j,te,he){return j.getLineLength(te)}getViewLineMinColumn(j,te,he){return j.getLineMinColumn(te)}getViewLineMaxColumn(j,te,he){return j.getLineMaxColumn(te)}getViewLineData(j,te,he){const ve=j.getLineTokens(te),Ce=ve.getLineContent();return new ye.ViewLineData(Ce,!1,1,Ce.length+1,0,ve.inflate(),null)}getViewLinesData(j,te,he,ve,Ce,ye,Ee){ye[Ce]?Ee[Ce]=this.getViewLineData(j,te,0):Ee[Ce]=null}getModelColumnOfViewPosition(j,te){return te}getViewPositionOfModelPosition(j,te){return new ve.Position(j,te)}getViewLineNumberOfModelPosition(j,te){return j}normalizePosition(j,te,he){return te}getInjectedTextAt(j,te){return null}}p.INSTANCE=new p;class h{constructor(){}isVisible(){return!1}setVisible(j){return j?p.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(j,te,he){throw new Error("Not supported")}getViewLineLength(j,te,he){throw new Error("Not supported")}getViewLineMinColumn(j,te,he){throw new Error("Not supported")}getViewLineMaxColumn(j,te,he){throw new Error("Not supported")}getViewLineData(j,te,he){throw new Error("Not supported")}getViewLinesData(j,te,he,ve,Ce,ye,Ee){throw new Error("Not supported")}getModelColumnOfViewPosition(j,te){throw new Error("Not supported")}getViewPositionOfModelPosition(j,te){throw new Error("Not supported")}getViewLineNumberOfModelPosition(j,te){throw new Error("Not supported")}normalizePosition(j,te,he){throw new Error("Not supported")}getInjectedTextAt(j,te){throw new Error("Not supported")}}h.INSTANCE=new h;let Ee=[""];function t(j){if(j>=Ee.length)for(let te=1;te<=j;te++)Ee[te]=i(te);return Ee[j]}function i(j){return new Array(j+1).join(" ")}})),define(Ce[184],ie([1,0,4,2]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.ReadOnlyEditAttemptEvent=te.CursorStateChangedEvent=te.HiddenAreasChangedEvent=te.ViewZonesChangedEvent=te.ScrollChangedEvent=te.FocusChangedEvent=te.ContentSizeChangedEvent=te.ViewModelEventsCollector=te.ViewModelEventDispatcher=void 0;class D extends ve.Disposable{constructor(){super(),this._onEvent=this._register(new he.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(j){this._addOutgoingEvent(j),this._emitOutgoingEvents()}_addOutgoingEvent(j){for(let te=0,he=this._outgoingEvents.length;te<he;te++)if(this._outgoingEvents[te].kind===j.kind)return void(this._outgoingEvents[te]=this._outgoingEvents[te].merge(j));this._outgoingEvents.push(j)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const j=this._outgoingEvents.shift();j.isNoOp()||this._onEvent.fire(j)}}addViewEventHandler(j){for(let te=0,he=this._eventHandlers.length;te<he;te++)this._eventHandlers[te]===j&&console.warn("Detected duplicate listener in ViewEventDispatcher",j);this._eventHandlers.push(j)}removeViewEventHandler(j){for(let te=0;te<this._eventHandlers.length;te++)if(this._eventHandlers[te]===j){this._eventHandlers.splice(te,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new I),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const j=this._collector.outgoingEvents,te=this._collector.viewEvents;this._collector=null;for(const te of j)this._addOutgoingEvent(te);te.length>0&&this._emitMany(te)}this._emitOutgoingEvents()}emitSingleViewEvent(j){try{this.beginEmitViewEvents().emitViewEvent(j)}finally{this.endEmitViewEvents()}}_emitMany(j){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(j):this._viewEventQueue=j,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const j=this._viewEventQueue;this._viewEventQueue=null;const te=this._eventHandlers.slice(0);for(const he of te)he.handleEvents(j)}}}te.ViewModelEventDispatcher=D;class I{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(j){this.viewEvents.push(j)}emitOutgoingEvent(j){this.outgoingEvents.push(j)}}te.ViewModelEventsCollector=I;class w{constructor(j,te,he,ve){this.kind=0,this._oldContentWidth=j,this._oldContentHeight=te,this.contentWidth=he,this.contentHeight=ve,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(j){return 0!==j.kind?this:new w(this._oldContentWidth,this._oldContentHeight,j.contentWidth,j.contentHeight)}}te.ContentSizeChangedEvent=w;class b{constructor(j,te){this.kind=1,this.oldHasFocus=j,this.hasFocus=te}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(j){return 1!==j.kind?this:new b(this.oldHasFocus,j.hasFocus)}}te.FocusChangedEvent=b;class p{constructor(j,te,he,ve,Ce,ye,Ee,Ie){this.kind=2,this._oldScrollWidth=j,this._oldScrollLeft=te,this._oldScrollHeight=he,this._oldScrollTop=ve,this.scrollWidth=Ce,this.scrollLeft=ye,this.scrollHeight=Ee,this.scrollTop=Ie,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(j){return 2!==j.kind?this:new p(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,j.scrollWidth,j.scrollLeft,j.scrollHeight,j.scrollTop)}}te.ScrollChangedEvent=p;te.ViewZonesChangedEvent=class h{constructor(){this.kind=3}isNoOp(){return!1}merge(j){return this}};te.HiddenAreasChangedEvent=class g{constructor(){this.kind=4}isNoOp(){return!1}merge(j){return this}};class t{constructor(j,te,he,ve,Ce,ye,Ee){this.kind=6,this.oldSelections=j,this.selections=te,this.oldModelVersionId=he,this.modelVersionId=ve,this.source=Ce,this.reason=ye,this.reachedMaxCursorCount=Ee}static _selectionsAreEqual(j,te){if(!j&&!te)return!0;if(!j||!te)return!1;const he=j.length;if(he!==te.length)return!1;for(let ve=0;ve<he;ve++)if(!j[ve].equalsSelection(te[ve]))return!1;return!0}isNoOp(){return t._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(j){return 6!==j.kind?this:new t(this.oldSelections,j.selections,this.oldModelVersionId,j.modelVersionId,j.source,j.reason,this.reachedMaxCursorCount||j.reachedMaxCursorCount)}}te.CursorStateChangedEvent=t;te.ReadOnlyEditAttemptEvent=class i{constructor(){this.kind=5}isNoOp(){return!1}merge(j){return this}}})),define(Ce[449],ie([1,0,4,2,137,437,69,184]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewLayout=void 0;class h{constructor(j,te,he,ve){(j|=0)<0&&(j=0),(te|=0)<0&&(te=0),(he|=0)<0&&(he=0),(ve|=0)<0&&(ve=0),this.width=j,this.contentWidth=te,this.scrollWidth=Math.max(j,te),this.height=he,this.contentHeight=ve,this.scrollHeight=Math.max(he,ve)}equals(j){return this.width===j.width&&this.contentWidth===j.contentWidth&&this.height===j.height&&this.contentHeight===j.contentHeight}}class g extends ve.Disposable{constructor(j,te){super(),this._onDidContentSizeChange=this._register(new he.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new h(0,0,0,0),this._scrollable=this._register(new Ce.Scrollable({forceIntegerValues:!0,smoothScrollDuration:j,scheduleAtNextAnimationFrame:te})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(j){this._scrollable.setSmoothScrollDuration(j)}validateScrollPosition(j){return this._scrollable.validateScrollPosition(j)}getScrollDimensions(){return this._dimensions}setScrollDimensions(j){if(this._dimensions.equals(j))return;const te=this._dimensions;this._dimensions=j,this._scrollable.setScrollDimensions({width:j.width,scrollWidth:j.scrollWidth,height:j.height,scrollHeight:j.scrollHeight},!0);const he=te.contentWidth!==j.contentWidth,ve=te.contentHeight!==j.contentHeight;(he||ve)&&this._onDidContentSizeChange.fire(new Ie.ContentSizeChangedEvent(te.contentWidth,te.contentHeight,j.contentWidth,j.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(j){this._scrollable.setScrollPositionNow(j)}setScrollPositionSmooth(j){this._scrollable.setScrollPositionSmooth(j)}}class t extends ve.Disposable{constructor(j,te,he){super(),this._configuration=j;const ve=this._configuration.options,Ce=ve.get(131),Ee=ve.get(75);this._linesLayout=new ye.LinesLayout(te,ve.get(59),Ee.top,Ee.bottom),this._scrollable=this._register(new g(0,he)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new h(Ce.contentWidth,0,Ce.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?125:0)}onConfigurationChanged(j){const te=this._configuration.options;if(j.hasChanged(59)&&this._linesLayout.setLineHeight(te.get(59)),j.hasChanged(75)){const j=te.get(75);this._linesLayout.setPadding(j.top,j.bottom)}if(j.hasChanged(131)){const j=te.get(131),he=j.contentWidth,ve=j.height,Ce=this._scrollable.getScrollDimensions(),ye=Ce.contentWidth;this._scrollable.setScrollDimensions(new h(he,Ce.contentWidth,ve,this._getContentHeight(he,ve,ye)))}else this._updateHeight();j.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(j){this._linesLayout.onFlushed(j)}onLinesDeleted(j,te){this._linesLayout.onLinesDeleted(j,te)}onLinesInserted(j,te){this._linesLayout.onLinesInserted(j,te)}_getHorizontalScrollbarHeight(j,te){const he=this._configuration.options.get(92);return 2===he.horizontal||j>=te?0:he.horizontalScrollbarSize}_getContentHeight(j,te,he){const ve=this._configuration.options;let Ce=this._linesLayout.getLinesTotalHeight();return ve.get(94)?Ce+=Math.max(0,te-ve.get(59)-ve.get(75).bottom):Ce+=this._getHorizontalScrollbarHeight(j,he),Ce}_updateHeight(){const j=this._scrollable.getScrollDimensions(),te=j.width,he=j.height,ve=j.contentWidth;this._scrollable.setScrollDimensions(new h(te,j.contentWidth,he,this._getContentHeight(te,he,ve)))}getCurrentViewport(){const j=this._scrollable.getScrollDimensions(),te=this._scrollable.getCurrentScrollPosition();return new Ee.Viewport(te.scrollTop,te.scrollLeft,j.width,j.height)}getFutureViewport(){const j=this._scrollable.getScrollDimensions(),te=this._scrollable.getFutureScrollPosition();return new Ee.Viewport(te.scrollTop,te.scrollLeft,j.width,j.height)}_computeContentWidth(j){const te=this._configuration.options,he=te.get(132),ve=te.get(44);if(he.isViewportWrapping){const he=te.get(131),Ce=te.get(65);return j>he.contentWidth+ve.typicalHalfwidthCharacterWidth&&Ce.enabled&&"right"===Ce.side?j+he.verticalScrollbarWidth:j}{const he=te.get(93)*ve.typicalHalfwidthCharacterWidth,Ce=this._linesLayout.getWhitespaceMinWidth();return Math.max(j+he,Ce)}}setMaxLineWidth(j){const te=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new h(te.width,this._computeContentWidth(j),te.height,te.contentHeight)),this._updateHeight()}saveState(){const j=this._scrollable.getFutureScrollPosition(),te=j.scrollTop,he=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(te);return{scrollTop:te,scrollTopWithoutViewZones:te-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(he),scrollLeft:j.scrollLeft}}changeWhitespace(j){const te=this._linesLayout.changeWhitespace(j);return te&&this.onHeightMaybeChanged(),te}getVerticalOffsetForLineNumber(j){return this._linesLayout.getVerticalOffsetForLineNumber(j)}isAfterLines(j){return this._linesLayout.isAfterLines(j)}isInTopPadding(j){return this._linesLayout.isInTopPadding(j)}isInBottomPadding(j){return this._linesLayout.isInBottomPadding(j)}getLineNumberAtVerticalOffset(j){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(j)}getWhitespaceAtVerticalOffset(j){return this._linesLayout.getWhitespaceAtVerticalOffset(j)}getLinesViewportData(){const j=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(j.top,j.top+j.height)}getLinesViewportDataAtScrollTop(j){const te=this._scrollable.getScrollDimensions();return j+te.height>te.scrollHeight&&(j=te.scrollHeight-te.height),j<0&&(j=0),this._linesLayout.getLinesViewportData(j,j+te.height)}getWhitespaceViewportData(){const j=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(j.top,j.top+j.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(j){return this._scrollable.validateScrollPosition(j)}setScrollPosition(j,te){1===te?this._scrollable.setScrollPositionNow(j):this._scrollable.setScrollPositionSmooth(j)}deltaScrollNow(j,te){const he=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:he.scrollLeft+j,scrollTop:he.scrollTop+te})}}te.ViewLayout=t})),define(Ce[450],ie([1,0,3,22]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.MoveCaretCommand=void 0;te.MoveCaretCommand=class D{constructor(j,te){this._selection=j,this._isMovingLeft=te}getEditOperations(j,te){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const ve=this._selection.startLineNumber,Ce=this._selection.startColumn,ye=this._selection.endColumn;if((!this._isMovingLeft||1!==Ce)&&(this._isMovingLeft||ye!==j.getLineMaxColumn(ve)))if(this._isMovingLeft){const Ee=new he.Range(ve,Ce-1,ve,Ce),Ie=j.getValueInRange(Ee);te.addEditOperation(Ee,null),te.addEditOperation(new he.Range(ve,ye,ve,ye),Ie)}else{const Ee=new he.Range(ve,ye,ve,ye+1),Ie=j.getValueInRange(Ee);te.addEditOperation(Ee,null),te.addEditOperation(new he.Range(ve,Ce,ve,Ce),Ie)}}computeCursorState(j,te){return this._isMovingLeft?new ve.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new ve.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}})),define(Ce[152],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.CodeActionCommandArgs=te.filtersAction=te.mayIncludeActionsOfKind=te.CodeActionKind=void 0;class y{constructor(j){this.value=j}equals(j){return this.value===j.value}contains(j){return this.equals(j)||""===this.value||j.value.startsWith(this.value+y.sep)}intersects(j){return this.contains(j)||j.contains(this)}append(j){return new y(this.value+y.sep+j)}}function I(j,te,he){return!(!te.contains(j)||he&&te.contains(he))}te.CodeActionKind=y,y.sep=".",y.None=new y("@@none@@"),y.Empty=new y(""),y.QuickFix=new y("quickfix"),y.Refactor=new y("refactor"),y.Source=new y("source"),y.SourceOrganizeImports=y.Source.append("organizeImports"),y.SourceFixAll=y.Source.append("fixAll"),te.mayIncludeActionsOfKind=function m(j,te){return!(j.include&&!j.include.intersects(te)||j.excludes&&j.excludes.some((he=>I(te,he,j.include)))||!j.includeSourceActions&&y.Source.contains(te))},te.filtersAction=function D(j,te){const he=te.kind?new y(te.kind):void 0;return!(j.include&&(!he||!j.include.contains(he))||j.excludes&&he&&j.excludes.some((te=>I(he,te,j.include)))||!j.includeSourceActions&&he&&y.Source.contains(he)||j.onlyIncludePreferredActions&&!te.isPreferred)};class w{constructor(j,te,he){this.kind=j,this.apply=te,this.preferred=he}static fromUser(j,te){return j&&"object"==typeof j?new w(w.getKindFromUser(j,te.kind),w.getApplyFromUser(j,te.apply),w.getPreferredUser(j)):new w(te.kind,te.apply,!1)}static getApplyFromUser(j,te){switch("string"==typeof j.apply?j.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return te}}static getKindFromUser(j,te){return"string"==typeof j.kind?new y(j.kind):te}static getPreferredUser(j){return"boolean"==typeof j.preferred&&j.preferred}}te.CodeActionCommandArgs=w})),define(Ce[451],ie([1,0,4]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ColorPickerModel=void 0;te.ColorPickerModel=class m{constructor(j,te,ve){this.presentationIndex=ve,this._onColorFlushed=new he.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new he.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new he.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=j,this._color=j,this._colorPresentations=te}get color(){return this._color}set color(j){this._color.equals(j)||(this._color=j,this._onDidChangeColor.fire(j))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(j){this._colorPresentations=j,this.presentationIndex>j.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(j,te){for(let j=0;j<this.colorPresentations.length;j++)if(te.toLowerCase()===this.colorPresentations[j].label){this.presentationIndex=j,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}})),define(Ce[254],ie([1,0,61,11,3,22]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.BlockCommentCommand=void 0;class w{constructor(j,te,he){this.languageConfigurationService=he,this._selection=j,this._insertSpace=te,this._usedEndToken=null}static _haystackHasNeedleAtOffset(j,te,he){if(he<0)return!1;const ve=te.length;if(he+ve>j.length)return!1;for(let Ce=0;Ce<ve;Ce++){const ve=j.charCodeAt(he+Ce),ye=te.charCodeAt(Ce);if(!(ve===ye||ve>=65&&ve<=90&&ve+32===ye||ye>=65&&ye<=90&&ye+32===ve))return!1}return!0}_createOperationsForBlockComment(j,te,he,ve,ye,Ee){const Ie=j.startLineNumber,Ne=j.startColumn,Oe=j.endLineNumber,Ke=j.endColumn,je=ye.getLineContent(Ie),Ze=ye.getLineContent(Oe);let Ye,et=je.lastIndexOf(te,Ne-1+te.length),nt=Ze.indexOf(he,Ke-1-he.length);if(-1!==et&&-1!==nt)if(Ie===Oe)je.substring(et+te.length,nt).indexOf(he)>=0&&(et=-1,nt=-1);else{const j=je.substring(et+te.length),ve=Ze.substring(0,nt);(j.indexOf(he)>=0||ve.indexOf(he)>=0)&&(et=-1,nt=-1)}-1!==et&&-1!==nt?(ve&&et+te.length<je.length&&32===je.charCodeAt(et+te.length)&&(te+=" "),ve&&nt>0&&32===Ze.charCodeAt(nt-1)&&(he=" "+he,nt-=1),Ye=w._createRemoveBlockCommentOperations(new Ce.Range(Ie,et+te.length+1,Oe,nt+1),te,he)):(Ye=w._createAddBlockCommentOperations(j,te,he,this._insertSpace),this._usedEndToken=1===Ye.length?he:null);for(const j of Ye)Ee.addTrackedEditOperation(j.range,j.text)}static _createRemoveBlockCommentOperations(j,te,ve){let ye=[];return Ce.Range.isEmpty(j)?ye.push(he.EditOperation.delete(new Ce.Range(j.startLineNumber,j.startColumn-te.length,j.endLineNumber,j.endColumn+ve.length))):(ye.push(he.EditOperation.delete(new Ce.Range(j.startLineNumber,j.startColumn-te.length,j.startLineNumber,j.startColumn))),ye.push(he.EditOperation.delete(new Ce.Range(j.endLineNumber,j.endColumn,j.endLineNumber,j.endColumn+ve.length)))),ye}static _createAddBlockCommentOperations(j,te,ye,Ee){let Ie=[];return Ce.Range.isEmpty(j)?Ie.push(he.EditOperation.replace(new Ce.Range(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn),te+"  "+ye)):(Ie.push(he.EditOperation.insert(new ve.Position(j.startLineNumber,j.startColumn),te+(Ee?" ":""))),Ie.push(he.EditOperation.insert(new ve.Position(j.endLineNumber,j.endColumn),(Ee?" ":"")+ye))),Ie}getEditOperations(j,te){const he=this._selection.startLineNumber,ve=this._selection.startColumn;j.tokenizeIfCheap(he);const Ce=j.getLanguageIdAtPosition(he,ve),ye=this.languageConfigurationService.getLanguageConfiguration(Ce).comments;!ye||!ye.blockCommentStartToken||!ye.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,ye.blockCommentStartToken,ye.blockCommentEndToken,this._insertSpace,j,te)}computeCursorState(j,te){const he=te.getInverseEditOperations();if(2===he.length){const j=he[0],te=he[1];return new ye.Selection(j.range.endLineNumber,j.range.endColumn,te.range.startLineNumber,te.range.startColumn)}{const j=he[0].range,te=this._usedEndToken?-this._usedEndToken.length-1:0;return new ye.Selection(j.endLineNumber,j.endColumn+te,j.endLineNumber,j.endColumn+te)}}}te.BlockCommentCommand=w})),define(Ce[452],ie([1,0,3,22]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.DragAndDropCommand=void 0;te.DragAndDropCommand=class D{constructor(j,te,he){this.selection=j,this.targetPosition=te,this.copy=he,this.targetSelection=null}getEditOperations(j,te){let Ce=j.getValueInRange(this.selection);this.copy||te.addEditOperation(this.selection,null),te.addEditOperation(new he.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),Ce),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new ve.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new ve.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new ve.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new ve.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new ve.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}computeCursorState(j,te){return this.targetSelection}}})),define(Ce[453],ie([1,0,3]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ReplaceAllCommand=void 0;te.ReplaceAllCommand=class m{constructor(j,te,he){this._editorSelection=j,this._ranges=te,this._replaceStrings=he,this._trackedEditorSelectionId=null}getEditOperations(j,te){if(this._ranges.length>0){let j=[];for(let te=0;te<this._ranges.length;te++)j.push({range:this._ranges[te],text:this._replaceStrings[te]});j.sort(((j,te)=>he.Range.compareRangesUsingStarts(j.range,te.range)));let ve=[],Ce=j[0];for(let te=1;te<j.length;te++)Ce.range.endLineNumber===j[te].range.startLineNumber&&Ce.range.endColumn===j[te].range.startColumn?(Ce.range=Ce.range.plusRange(j[te].range),Ce.text=Ce.text+j[te].text):(ve.push(Ce),Ce=j[te]);ve.push(Ce);for(const j of ve)te.addEditOperation(j.range,j.text)}this._trackedEditorSelectionId=te.trackSelection(this._editorSelection)}computeCursorState(j,te){return te.getTrackedSelection(this._trackedEditorSelectionId)}}})),define(Ce[454],ie([1,0,320]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.parseReplaceString=te.ReplacePiece=te.ReplacePattern=void 0;class m{constructor(j){this.staticValue=j,this.kind=0}}class D{constructor(j){this.pieces=j,this.kind=1}}class I{constructor(j){j&&0!==j.length?1===j.length&&null!==j[0].staticValue?this._state=new m(j[0].staticValue):this._state=new D(j):this._state=new m("")}static fromStaticValue(j){return new I([w.staticValue(j)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(j,te){if(0===this._state.kind)return te?(0,he.buildReplaceStringWithCasePreserved)(j,this._state.staticValue):this._state.staticValue;let ve="";for(let te=0,he=this._state.pieces.length;te<he;te++){let he=this._state.pieces[te];if(null!==he.staticValue){ve+=he.staticValue;continue}let Ce=I._substitute(he.matchIndex,j);if(null!==he.caseOps&&he.caseOps.length>0){let j=[],te=he.caseOps.length,ve=0;for(let ye=0,Ee=Ce.length;ye<Ee;ye++){if(ve>=te){j.push(Ce.slice(ye));break}switch(he.caseOps[ve]){case"U":j.push(Ce[ye].toUpperCase());break;case"u":j.push(Ce[ye].toUpperCase()),ve++;break;case"L":j.push(Ce[ye].toLowerCase());break;case"l":j.push(Ce[ye].toLowerCase()),ve++;break;default:j.push(Ce[ye])}}Ce=j.join("")}ve+=Ce}return ve}static _substitute(j,te){if(null===te)return"";if(0===j)return te[0];let he="";for(;j>0;){if(j<te.length)return(te[j]||"")+he;he=String(j%10)+he,j=Math.floor(j/10)}return"$"+he}}te.ReplacePattern=I;class w{constructor(j,te,he){this.staticValue=j,this.matchIndex=te,he&&0!==he.length?this.caseOps=he.slice(0):this.caseOps=null}static staticValue(j){return new w(j,-1,null)}static caseOps(j,te){return new w(null,j,te)}}te.ReplacePiece=w;class b{constructor(j){this._source=j,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(j){this._emitStatic(this._source.substring(this._lastCharIndex,j)),this._lastCharIndex=j}emitStatic(j,te){this._emitStatic(j),this._lastCharIndex=te}_emitStatic(j){0!==j.length&&(this._currentStaticPiece+=j)}emitMatchIndex(j,te,he){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=w.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=w.caseOps(j,he),this._lastCharIndex=te}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=w.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new I(this._result)}}te.parseReplaceString=function p(j){if(!j||0===j.length)return new I(null);let te=[],he=new b(j);for(let ve=0,Ce=j.length;ve<Ce;ve++){let ye=j.charCodeAt(ve);if(92!==ye){if(36===ye){if(ve++,ve>=Ce)break;let ye=j.charCodeAt(ve);if(36===ye){he.emitUnchanged(ve-1),he.emitStatic("$",ve+1);continue}if(48===ye||38===ye){he.emitUnchanged(ve-1),he.emitMatchIndex(0,ve+1,te),te.length=0;continue}if(49<=ye&&ye<=57){let Ee=ye-48;if(ve+1<Ce){let Ce=j.charCodeAt(ve+1);if(48<=Ce&&Ce<=57){ve++,Ee=10*Ee+(Ce-48),he.emitUnchanged(ve-2),he.emitMatchIndex(Ee,ve+1,te),te.length=0;continue}}he.emitUnchanged(ve-1),he.emitMatchIndex(Ee,ve+1,te),te.length=0;continue}}}else{if(ve++,ve>=Ce)break;let ye=j.charCodeAt(ve);switch(ye){case 92:he.emitUnchanged(ve-1),he.emitStatic("\\",ve+1);break;case 110:he.emitUnchanged(ve-1),he.emitStatic("\n",ve+1);break;case 116:he.emitUnchanged(ve-1),he.emitStatic("\t",ve+1);break;case 117:case 85:case 108:case 76:he.emitUnchanged(ve-1),he.emitStatic("",ve+1),te.push(String.fromCharCode(ye))}}}return he.finalize()}})),define(Ce[185],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.FoldingRegion=te.FoldingRegions=te.MAX_LINE_NUMBER=te.MAX_FOLDING_REGIONS=void 0,te.MAX_FOLDING_REGIONS=65535,te.MAX_LINE_NUMBER=16777215;const he=4278190080;te.FoldingRegions=class m{constructor(j,he,ve){if(j.length!==he.length||j.length>te.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=j,this._endIndexes=he,this._collapseStates=new Uint32Array(Math.ceil(j.length/32)),this._types=ve,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let j=[],b=(te,he)=>{let ve=j[j.length-1];return this.getStartLineNumber(ve)<=te&&this.getEndLineNumber(ve)>=he};for(let he=0,ve=this._startIndexes.length;he<ve;he++){let ve=this._startIndexes[he],Ce=this._endIndexes[he];if(ve>te.MAX_LINE_NUMBER||Ce>te.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+te.MAX_LINE_NUMBER);for(;j.length>0&&!b(ve,Ce);)j.pop();let ye=j.length>0?j[j.length-1]:-1;j.push(he),this._startIndexes[he]=ve+((255&ye)<<24),this._endIndexes[he]=Ce+((65280&ye)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(j){return this._startIndexes[j]&te.MAX_LINE_NUMBER}getEndLineNumber(j){return this._endIndexes[j]&te.MAX_LINE_NUMBER}getType(j){return this._types?this._types[j]:void 0}hasTypes(){return!!this._types}isCollapsed(j){let te=j/32|0,he=j%32;return 0!=(this._collapseStates[te]&1<<he)}setCollapsed(j,te){let he=j/32|0,ve=j%32,Ce=this._collapseStates[he];this._collapseStates[he]=te?Ce|1<<ve:Ce&~(1<<ve)}setCollapsedAllOfType(j,te){let he=!1;if(this._types)for(let ve=0;ve<this._types.length;ve++)this._types[ve]===j&&(this.setCollapsed(ve,te),he=!0);return he}toRegion(j){return new D(this,j)}getParentIndex(j){this.ensureParentIndices();let ve=((this._startIndexes[j]&he)>>>24)+((this._endIndexes[j]&he)>>>16);return ve===te.MAX_FOLDING_REGIONS?-1:ve}contains(j,te){return this.getStartLineNumber(j)<=te&&this.getEndLineNumber(j)>=te}findIndex(j){let te=0,he=this._startIndexes.length;if(0===he)return-1;for(;te<he;){let ve=Math.floor((te+he)/2);j<this.getStartLineNumber(ve)?he=ve:te=ve+1}return te-1}findRange(j){let te=this.findIndex(j);if(te>=0){if(this.getEndLineNumber(te)>=j)return te;for(te=this.getParentIndex(te);-1!==te;){if(this.contains(te,j))return te;te=this.getParentIndex(te)}}return-1}toString(){let j=[];for(let te=0;te<this.length;te++)j[te]=`[${this.isCollapsed(te)?"+":"-"}] ${this.getStartLineNumber(te)}/${this.getEndLineNumber(te)}`;return j.join(", ")}};class D{constructor(j,te){this.ranges=j,this.index=te}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(j){return j.startLineNumber<=this.startLineNumber&&j.endLineNumber>=this.endLineNumber}containsLine(j){return this.startLineNumber<=j&&j<=this.endLineNumber}}te.FoldingRegion=D})),define(Ce[455],ie([1,0,4,185]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.getNextFoldLine=te.getPreviousFoldLine=te.getParentFoldLine=te.setCollapseStateForType=te.setCollapseStateForMatchingLines=te.setCollapseStateForRest=te.setCollapseStateAtLevel=te.setCollapseStateUp=te.setCollapseStateLevelsUp=te.setCollapseStateLevelsDown=te.toggleCollapseState=te.FoldingModel=void 0;te.FoldingModel=class D{constructor(j,te){this._updateEventEmitter=new he.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=j,this._decorationProvider=te,this._regions=new ve.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(j){if(!j.length)return;j=j.sort(((j,te)=>j.regionIndex-te.regionIndex));const te={};this._decorationProvider.changeDecorations((he=>{let ve=0,Ce=-1,ye=-1;const S=j=>{for(;ve<j;){const j=this._regions.getEndLineNumber(ve),te=this._regions.isCollapsed(ve);j<=Ce&&he.changeDecorationOptions(this._editorDecorationIds[ve],this._decorationProvider.getDecorationOption(te,j<=ye)),te&&j>ye&&(ye=j),ve++}};for(let he of j){let j=he.regionIndex,ve=this._editorDecorationIds[j];if(ve&&!te[ve]){te[ve]=!0,S(j);let he=!this._regions.isCollapsed(j);this._regions.setCollapsed(j,he),Ce=Math.max(Ce,this._regions.getEndLineNumber(j))}}S(this._regions.length)})),this._updateEventEmitter.fire({model:this,collapseStateChanged:j})}update(j,te=[]){let he=[],ve=-1,f=(Ce,ye)=>{const Ee=j.getStartLineNumber(Ce),Ie=j.getEndLineNumber(Ce);ye||(ye=j.isCollapsed(Ce)),ye&&((j,he)=>{for(let ve of te)if(j<ve&&ve<=he)return!0;return!1})(Ee,Ie)&&(ye=!1),j.setCollapsed(Ce,ye);const Ne=this._textModel.getLineMaxColumn(Ee),Oe={startLineNumber:Ee,startColumn:Math.max(Ne-1,1),endLineNumber:Ee,endColumn:Ne};he.push({range:Oe,options:this._decorationProvider.getDecorationOption(ye,Ie<=ve)}),ye&&Ie>ve&&(ve=Ie)},Ce=0,v=()=>{for(;Ce<this._regions.length;){let j=this._regions.isCollapsed(Ce);if(Ce++,j)return Ce-1}return-1},ye=0,Ee=v();for(;-1!==Ee&&ye<j.length;){let te=this._textModel.getDecorationRange(this._editorDecorationIds[Ee]);if(te){let he=te.startLineNumber;if(te.startColumn===Math.max(te.endColumn-1,1)&&this._textModel.getLineMaxColumn(he)===te.endColumn)for(;ye<j.length;){let te=j.getStartLineNumber(ye);if(!(he>=te))break;f(ye,he===te),ye++}}Ee=v()}for(;ye<j.length;)f(ye,!1),ye++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,he),this._regions=j,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let j=[];for(let te=0;te<this._regions.length;te++)if(this._regions.isCollapsed(te)){let he=this._textModel.getDecorationRange(this._editorDecorationIds[te]);if(he){let ve=he.startLineNumber,Ce=he.endLineNumber+this._regions.getEndLineNumber(te)-this._regions.getStartLineNumber(te);j.push({startLineNumber:ve,endLineNumber:Ce})}}if(j.length>0)return j}applyMemento(j){if(!Array.isArray(j))return;let te=[];for(let he of j){let j=this.getRegionAtLine(he.startLineNumber);j&&!j.isCollapsed&&te.push(j)}this.toggleCollapseState(te)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(j,te){let he=[];if(this._regions){let ve=this._regions.findRange(j),Ce=1;for(;ve>=0;){let j=this._regions.toRegion(ve);(!te||te(j,Ce))&&he.push(j),Ce++,ve=j.parentIndex}}return he}getRegionAtLine(j){if(this._regions){let te=this._regions.findRange(j);if(te>=0)return this._regions.toRegion(te)}return null}getRegionsInside(j,te){let he=[],ve=j?j.regionIndex+1:0,Ce=j?j.endLineNumber:Number.MAX_VALUE;if(te&&2===te.length){const j=[];for(let ye=ve,Ee=this._regions.length;ye<Ee;ye++){let ve=this._regions.toRegion(ye);if(!(this._regions.getStartLineNumber(ye)<Ce))break;for(;j.length>0&&!ve.containedBy(j[j.length-1]);)j.pop();j.push(ve),te(ve,j.length)&&he.push(ve)}}else for(let j=ve,ye=this._regions.length;j<ye;j++){let ve=this._regions.toRegion(j);if(!(this._regions.getStartLineNumber(j)<Ce))break;(!te||te(ve))&&he.push(ve)}return he}},te.toggleCollapseState=function I(j,te,he){let ve=[];for(let Ce of he){let he=j.getRegionAtLine(Ce);if(he){const Ce=!he.isCollapsed;if(ve.push(he),te>1){let ye=j.getRegionsInside(he,((j,he)=>j.isCollapsed!==Ce&&he<te));ve.push(...ye)}}}j.toggleCollapseState(ve)},te.setCollapseStateLevelsDown=function w(j,te,he=Number.MAX_VALUE,ve){let Ce=[];if(ve&&ve.length>0)for(let ye of ve){let ve=j.getRegionAtLine(ye);if(ve&&(ve.isCollapsed!==te&&Ce.push(ve),he>1)){let ye=j.getRegionsInside(ve,((j,ve)=>j.isCollapsed!==te&&ve<he));Ce.push(...ye)}}else{let ve=j.getRegionsInside(null,((j,ve)=>j.isCollapsed!==te&&ve<he));Ce.push(...ve)}j.toggleCollapseState(Ce)},te.setCollapseStateLevelsUp=function b(j,te,he,ve){let Ce=[];for(let ye of ve){let ve=j.getAllRegionsAtLine(ye,((j,ve)=>j.isCollapsed!==te&&ve<=he));Ce.push(...ve)}j.toggleCollapseState(Ce)},te.setCollapseStateUp=function p(j,te,he){let ve=[];for(let Ce of he){let he=j.getAllRegionsAtLine(Ce,(j=>j.isCollapsed!==te));he.length>0&&ve.push(he[0])}j.toggleCollapseState(ve)},te.setCollapseStateAtLevel=function h(j,te,he,ve){let Ce=j.getRegionsInside(null,((j,Ce)=>Ce===te&&j.isCollapsed!==he&&!ve.some((te=>j.containsLine(te)))));j.toggleCollapseState(Ce)},te.setCollapseStateForRest=function g(j,te,he){let ve=[];for(let te of he){const he=j.getAllRegionsAtLine(te,void 0);he.length>0&&ve.push(he[0])}let Ce=j.getRegionsInside(null,(j=>ve.every((te=>!te.containedBy(j)&&!j.containedBy(te)))&&j.isCollapsed!==te));j.toggleCollapseState(Ce)},te.setCollapseStateForMatchingLines=function t(j,te,he){let ve=j.textModel,Ce=j.regions,ye=[];for(let j=Ce.length-1;j>=0;j--)if(he!==Ce.isCollapsed(j)){let he=Ce.getStartLineNumber(j);te.test(ve.getLineContent(he))&&ye.push(Ce.toRegion(j))}j.toggleCollapseState(ye)},te.setCollapseStateForType=function i(j,te,he){let ve=j.regions,Ce=[];for(let j=ve.length-1;j>=0;j--)he!==ve.isCollapsed(j)&&te===ve.getType(j)&&Ce.push(ve.toRegion(j));j.toggleCollapseState(Ce)},te.getParentFoldLine=function n(j,te){let he=null,ve=te.getRegionAtLine(j);if(null!==ve&&(he=ve.startLineNumber,j===he)){let j=ve.parentIndex;he=-1!==j?te.regions.getStartLineNumber(j):null}return he},te.getPreviousFoldLine=function l(j,te){let he=te.getRegionAtLine(j);if(null!==he&&he.startLineNumber===j){if(j!==he.startLineNumber)return he.startLineNumber;{let j=he.parentIndex,ve=0;for(-1!==j&&(ve=te.regions.getStartLineNumber(he.parentIndex));null!==he;){if(!(he.regionIndex>0))return null;if(he=te.regions.toRegion(he.regionIndex-1),he.startLineNumber<=ve)return null;if(he.parentIndex===j)return he.startLineNumber}}}else if(te.regions.length>0)for(he=te.regions.toRegion(te.regions.length-1);null!==he;){if(he.startLineNumber<j)return he.startLineNumber;he=he.regionIndex>0?te.regions.toRegion(he.regionIndex-1):null}return null},te.getNextFoldLine=function c(j,te){let he=te.getRegionAtLine(j);if(null!==he&&he.startLineNumber===j){let j=he.parentIndex,ve=0;if(-1!==j)ve=te.regions.getEndLineNumber(he.parentIndex);else{if(0===te.regions.length)return null;ve=te.regions.getEndLineNumber(te.regions.length-1)}for(;null!==he;){if(!(he.regionIndex<te.regions.length))return null;if(he=te.regions.toRegion(he.regionIndex+1),he.startLineNumber>=ve)return null;if(he.parentIndex===j)return he.startLineNumber}}else if(te.regions.length>0)for(he=te.regions.toRegion(0);null!==he;){if(he.startLineNumber>j)return he.startLineNumber;he=he.regionIndex<te.regions.length?te.regions.toRegion(he.regionIndex+1):null}return null}})),define(Ce[456],ie([1,0,19,4,3,117]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.HiddenRangeModel=void 0;function p(j,te){let ve=(0,he.findFirstInSorted)(j,(j=>te<j.startLineNumber))-1;return ve>=0&&j[ve].endLineNumber>=te?j[ve]:null}te.HiddenRangeModel=class w{constructor(j){this._updateEventEmitter=new ve.Emitter,this._hasLineChanges=!1,this._foldingModel=j,this._foldingModelListener=j.onDidChange((j=>this.updateHiddenRanges())),this._hiddenRanges=[],j.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(j){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=j.changes.some((j=>j.range.endLineNumber!==j.range.startLineNumber||0!==(0,ye.countEOL)(j.text)[0])))}updateHiddenRanges(){let j=!1,te=[],he=0,ve=0,ye=Number.MAX_VALUE,Ee=-1,Ie=this._foldingModel.regions;for(;he<Ie.length;he++){if(!Ie.isCollapsed(he))continue;let Ne=Ie.getStartLineNumber(he)+1,Oe=Ie.getEndLineNumber(he);ye<=Ne&&Oe<=Ee||(!j&&ve<this._hiddenRanges.length&&this._hiddenRanges[ve].startLineNumber===Ne&&this._hiddenRanges[ve].endLineNumber===Oe?(te.push(this._hiddenRanges[ve]),ve++):(j=!0,te.push(new Ce.Range(Ne,1,Oe,1))),ye=Ne,Ee=Oe)}(this._hasLineChanges||j||ve<this._hiddenRanges.length)&&this.applyHiddenRanges(te)}applyMemento(j){if(!Array.isArray(j)||0===j.length)return!1;let te=[];for(let he of j){if(!he.startLineNumber||!he.endLineNumber)return!1;te.push(new Ce.Range(he.startLineNumber+1,1,he.endLineNumber,1))}return this.applyHiddenRanges(te),!0}getMemento(){return this._hiddenRanges.map((j=>({startLineNumber:j.startLineNumber-1,endLineNumber:j.endLineNumber})))}applyHiddenRanges(j){this._hiddenRanges=j,this._hasLineChanges=!1,this._updateEventEmitter.fire(j)}hasRanges(){return this._hiddenRanges.length>0}isHidden(j){return null!==p(this._hiddenRanges,j)}adjustSelections(j){let te=!1,he=this._foldingModel.textModel,ve=null,l=j=>((!ve||!function b(j,te){return j>=te.startLineNumber&&j<=te.endLineNumber}(j,ve))&&(ve=p(this._hiddenRanges,j)),ve?ve.startLineNumber-1:null);for(let ve=0,Ce=j.length;ve<Ce;ve++){let Ce=j[ve],ye=l(Ce.startLineNumber);ye&&(Ce=Ce.setStartPosition(ye,he.getLineMaxColumn(ye)),te=!0);let Ee=l(Ce.endLineNumber);Ee&&(Ce=Ce.setEndPosition(Ee,he.getLineMaxColumn(Ee)),te=!0),j[ve]=Ce}return te}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}})),define(Ce[457],ie([1,0,178,185]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.computeRanges=te.RangesCollector=te.IndentRangeProvider=te.ID_INDENT_PROVIDER=void 0;te.ID_INDENT_PROVIDER="indent";te.IndentRangeProvider=class I{constructor(j,he,ve){this.editorModel=j,this.languageConfigurationService=he,this.maxFoldingRegions=ve,this.id=te.ID_INDENT_PROVIDER}dispose(){}compute(j,te){let he=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,ve=he&&!!he.offSide,Ce=he&&he.markers;return Promise.resolve(b(this.editorModel,ve,Ce,this.maxFoldingRegions,te))}};class w{constructor(j,te){this._notifyTooManyRegions=te,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=j}insertFirst(j,te,he){if(j>ve.MAX_LINE_NUMBER||te>ve.MAX_LINE_NUMBER)return;let Ce=this._length;this._startIndexes[Ce]=j,this._endIndexes[Ce]=te,this._length++,he<1e3&&(this._indentOccurrences[he]=(this._indentOccurrences[he]||0)+1)}toIndentRanges(j){if(this._length<=this._foldingRangesLimit){let j=new Uint32Array(this._length),te=new Uint32Array(this._length);for(let he=this._length-1,ve=0;he>=0;he--,ve++)j[ve]=this._startIndexes[he],te[ve]=this._endIndexes[he];return new ve.FoldingRegions(j,te)}{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let te=0,Ce=this._indentOccurrences.length;for(let j=0;j<this._indentOccurrences.length;j++){let he=this._indentOccurrences[j];if(he){if(he+te>this._foldingRangesLimit){Ce=j;break}te+=he}}const ye=j.getOptions().tabSize;let Ee=new Uint32Array(this._foldingRangesLimit),Ie=new Uint32Array(this._foldingRangesLimit);for(let ve=this._length-1,Ne=0;ve>=0;ve--){let Oe=this._startIndexes[ve],Ke=j.getLineContent(Oe),je=(0,he.computeIndentLevel)(Ke,ye);(je<Ce||je===Ce&&te++<this._foldingRangesLimit)&&(Ee[Ne]=Oe,Ie[Ne]=this._endIndexes[ve],Ne++)}return new ve.FoldingRegions(Ee,Ie)}}}function b(j,te,ve,Ce,ye){const Ee=j.getOptions().tabSize;let Ie,Ne=new w(Ce=Ce??5e3,ye);ve&&(Ie=new RegExp(`(${ve.start.source})|(?:${ve.end.source})`));let Oe=[],Ke=j.getLineCount()+1;Oe.push({indent:-1,endAbove:Ke,line:Ke});for(let ve=j.getLineCount();ve>0;ve--){let Ce,ye=j.getLineContent(ve),Ke=(0,he.computeIndentLevel)(ye,Ee),je=Oe[Oe.length-1];if(-1!==Ke){if(Ie&&(Ce=ye.match(Ie))){if(!Ce[1]){Oe.push({indent:-2,endAbove:ve,line:ve});continue}{let j=Oe.length-1;for(;j>0&&-2!==Oe[j].indent;)j--;if(j>0){Oe.length=j+1,je=Oe[j],Ne.insertFirst(ve,je.line,Ke),je.line=ve,je.indent=Ke,je.endAbove=ve;continue}}}if(je.indent>Ke){do{Oe.pop(),je=Oe[Oe.length-1]}while(je.indent>Ke);let j=je.endAbove-1;j-ve>=1&&Ne.insertFirst(ve,j,Ke)}je.indent===Ke?je.endAbove=ve:Oe.push({indent:Ke,endAbove:ve,line:ve})}else te&&(je.endAbove=ve)}return Ne.toIndentRanges(j)}te.RangesCollector=w,te.computeRanges=b})),define(Ce[255],ie([1,0,13,2,185]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.sanitizeRanges=te.RangesCollector=te.SyntaxRangeProvider=te.ID_SYNTAX_PROVIDER=void 0;const ye={};te.ID_SYNTAX_PROVIDER="syntax";te.SyntaxRangeProvider=class w{constructor(j,he,Ce,ye){this.editorModel=j,this.providers=he,this.limit=ye,this.id=te.ID_SYNTAX_PROVIDER;for(const j of he)"function"==typeof j.onDidChange&&(this.disposables||(this.disposables=new ve.DisposableStore),this.disposables.add(j.onDidChange(Ce)))}compute(j,te){return function b(j,te,ve){let Ce=null,Ee=j.map(((j,Ee)=>Promise.resolve(j.provideFoldingRanges(te,ye,ve)).then((j=>{if(!ve.isCancellationRequested&&Array.isArray(j)){Array.isArray(Ce)||(Ce=[]);let he=te.getLineCount();for(let te of j)te.start>0&&te.end>te.start&&te.end<=he&&Ce.push({start:te.start,end:te.end,rank:Ee,kind:te.kind})}}),he.onUnexpectedExternalError)));return Promise.all(Ee).then((j=>Ce))}(this.providers,this.editorModel,j).then((j=>j?h(j,this.limit,te):null))}dispose(){var j;null===(j=this.disposables)||void 0===j||j.dispose()}};class p{constructor(j,te){this._notifyTooManyRegions=te,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=j}add(j,te,he,ve){if(j>Ce.MAX_LINE_NUMBER||te>Ce.MAX_LINE_NUMBER)return;let ye=this._length;this._startIndexes[ye]=j,this._endIndexes[ye]=te,this._nestingLevels[ye]=ve,this._types[ye]=he,this._length++,ve<30&&(this._nestingLevelCounts[ve]=(this._nestingLevelCounts[ve]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let j=new Uint32Array(this._length),te=new Uint32Array(this._length);for(let he=0;he<this._length;he++)j[he]=this._startIndexes[he],te[he]=this._endIndexes[he];return new Ce.FoldingRegions(j,te,this._types)}{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let j=0,te=this._nestingLevelCounts.length;for(let he=0;he<this._nestingLevelCounts.length;he++){let ve=this._nestingLevelCounts[he];if(ve){if(ve+j>this._foldingRangesLimit){te=he;break}j+=ve}}let he=new Uint32Array(this._foldingRangesLimit),ve=new Uint32Array(this._foldingRangesLimit),ye=[];for(let Ce=0,Ee=0;Ce<this._length;Ce++){let Ie=this._nestingLevels[Ce];(Ie<te||Ie===te&&j++<this._foldingRangesLimit)&&(he[Ee]=this._startIndexes[Ce],ve[Ee]=this._endIndexes[Ce],ye[Ee]=this._types[Ce],Ee++)}return new Ce.FoldingRegions(he,ve,ye)}}}function h(j,te,he){let ve,Ce=j.sort(((j,te)=>{let he=j.start-te.start;return 0===he&&(he=j.rank-te.rank),he})),ye=new p(te,he),Ee=[];for(let j of Ce)if(ve){if(j.start>ve.start)if(j.end<=ve.end)Ee.push(ve),ve=j,ye.add(j.start,j.end,j.kind&&j.kind.value,Ee.length);else{if(j.start>ve.end){do{ve=Ee.pop()}while(ve&&j.start>ve.end);ve&&Ee.push(ve),ve=j}ye.add(j.start,j.end,j.kind&&j.kind.value,Ee.length)}}else ve=j,ye.add(j.start,j.end,j.kind&&j.kind.value,Ee.length);return ye.toIndentRanges()}te.RangesCollector=p,te.sanitizeRanges=h})),define(Ce[458],ie([1,0,255]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.InitializingRangeProvider=te.ID_INIT_PROVIDER=void 0,te.ID_INIT_PROVIDER="init";te.InitializingRangeProvider=class m{constructor(j,he,ve,Ce){if(this.editorModel=j,this.id=te.ID_INIT_PROVIDER,he.length){let h=te=>({range:{startLineNumber:te.startLineNumber,startColumn:0,endLineNumber:te.endLineNumber,endColumn:j.getLineLength(te.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=j.deltaDecorations([],he.map(h)),this.timeout=setTimeout(ve,Ce)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(j){let te=[];if(this.decorationIds)for(let j of this.decorationIds){let he=this.editorModel.getDecorationRange(j);he&&te.push({start:he.startLineNumber,end:he.endLineNumber,rank:1})}return Promise.resolve((0,he.sanitizeRanges)(te,Number.MAX_VALUE))}}})),define(Ce[256],ie([1,0,61,3]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.FormattingEdit=void 0;class D{static _handleEolEdits(j,te){let he,ve=[];for(let j of te)"number"==typeof j.eol&&(he=j.eol),j.range&&"string"==typeof j.text&&ve.push(j);return"number"==typeof he&&j.hasModel()&&j.getModel().pushEOL(he),ve}static _isFullModelReplaceEdit(j,te){if(!j.hasModel())return!1;const he=j.getModel(),ve=he.validateRange(te.range);return he.getFullModelRange().equalsRange(ve)}static execute(j,te,Ce){Ce&&j.pushUndoStop();const ye=D._handleEolEdits(j,te);1===ye.length&&D._isFullModelReplaceEdit(j,ye[0])?j.executeEdits("formatEditsCommand",ye.map((j=>he.EditOperation.replace(ve.Range.lift(j.range),j.text)))):j.executeEdits("formatEditsCommand",ye.map((j=>he.EditOperation.replaceMove(ve.Range.lift(j.range),j.text)))),Ce&&j.pushUndoStop()}}te.FormattingEdit=D})),define(Ce[186],ie([1,0,4,2,17]),(function(j,te,he,ve,Ce){function I(j,te){return!!j[te]}Object.defineProperty(te,"__esModule",{value:!0}),te.ClickLinkGesture=te.ClickLinkOptions=te.ClickLinkKeyboardEvent=te.ClickLinkMouseEvent=void 0;class w{constructor(j,te){this.target=j.target,this.hasTriggerModifier=I(j.event,te.triggerModifier),this.hasSideBySideModifier=I(j.event,te.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=j.event.detail<=1}}te.ClickLinkMouseEvent=w;class b{constructor(j,te){this.keyCodeIsTriggerKey=j.keyCode===te.triggerKey,this.keyCodeIsSideBySideKey=j.keyCode===te.triggerSideBySideKey,this.hasTriggerModifier=I(j,te.triggerModifier)}}te.ClickLinkKeyboardEvent=b;class p{constructor(j,te,he,ve){this.triggerKey=j,this.triggerModifier=te,this.triggerSideBySideKey=he,this.triggerSideBySideModifier=ve}equals(j){return this.triggerKey===j.triggerKey&&this.triggerModifier===j.triggerModifier&&this.triggerSideBySideKey===j.triggerSideBySideKey&&this.triggerSideBySideModifier===j.triggerSideBySideModifier}}function h(j){return"altKey"===j?Ce.isMacintosh?new p(57,"metaKey",6,"altKey"):new p(5,"ctrlKey",6,"altKey"):Ce.isMacintosh?new p(6,"altKey",57,"metaKey"):new p(6,"altKey",5,"ctrlKey")}te.ClickLinkOptions=p;class g extends ve.Disposable{constructor(j){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new he.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new he.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new he.Emitter),this.onCancel=this._onCancel.event,this._editor=j,this._opts=h(this._editor.getOption(70)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration((j=>{if(j.hasChanged(70)){const j=h(this._editor.getOption(70));if(this._opts.equals(j))return;this._opts=j,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}}))),this._register(this._editor.onMouseMove((j=>this._onEditorMouseMove(new w(j,this._opts))))),this._register(this._editor.onMouseDown((j=>this._onEditorMouseDown(new w(j,this._opts))))),this._register(this._editor.onMouseUp((j=>this._onEditorMouseUp(new w(j,this._opts))))),this._register(this._editor.onKeyDown((j=>this._onEditorKeyDown(new b(j,this._opts))))),this._register(this._editor.onKeyUp((j=>this._onEditorKeyUp(new b(j,this._opts))))),this._register(this._editor.onMouseDrag((()=>this._resetHandler()))),this._register(this._editor.onDidChangeCursorSelection((j=>this._onDidChangeCursorSelection(j)))),this._register(this._editor.onDidChangeModel((j=>this._resetHandler()))),this._register(this._editor.onDidChangeModelContent((()=>this._resetHandler()))),this._register(this._editor.onDidScrollChange((j=>{(j.scrollTopChanged||j.scrollLeftChanged)&&this._resetHandler()})))}_onDidChangeCursorSelection(j){j.selection&&j.selection.startColumn!==j.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(j){this._lastMouseMoveEvent=j,this._onMouseMoveOrRelevantKeyDown.fire([j,null])}_onEditorMouseDown(j){this._hasTriggerKeyOnMouseDown=j.hasTriggerModifier,this._lineNumberOnMouseDown=j.target.position?j.target.position.lineNumber:0}_onEditorMouseUp(j){const te=j.target.position?j.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===te&&this._onExecute.fire(j)}_onEditorKeyDown(j){this._lastMouseMoveEvent&&(j.keyCodeIsTriggerKey||j.keyCodeIsSideBySideKey&&j.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,j]):j.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(j){j.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}te.ClickLinkGesture=g}));vi=this&&this.__asyncValues||function(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,he=j[Symbol.asyncIterator];return he?he.call(j):(j="function"==typeof __values?__values(j):j[Symbol.iterator](),te={},m("next"),m("throw"),m("return"),te[Symbol.asyncIterator]=function(){return this},te);function m(he){te[he]=j[he]&&function(te){return new Promise((function(ve,Ce){(function D(j,te,he,ve){Promise.resolve(ve).then((function(te){j({value:te,done:he})}),te)})(ve,Ce,(te=j[he](te)).done,te.value)}))}}};define(Ce[257],ie([1,0,10,13,4,2]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.HoverOperation=te.HoverResult=void 0;class w{constructor(j,te,he){this.value=j,this.isComplete=te,this.hasLoadingMessage=he}}te.HoverResult=w;class b extends ye.Disposable{constructor(j,te){super(),this._editor=j,this._computer=te,this._onResult=this._register(new Ce.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new he.RunOnceScheduler((()=>this._triggerAsyncComputation()),0)),this._secondWaitScheduler=this._register(new he.RunOnceScheduler((()=>this._triggerSyncComputation()),0)),this._loadingMessageScheduler=this._register(new he.RunOnceScheduler((()=>this._triggerLoadingMessage()),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(53).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(j,te=!0){this._state=j,te&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,he.createCancelableAsyncIterable)((j=>this._computer.computeAsync(j))),(()=>{fi(this,void 0,void 0,(function*(){var j,te;try{try{for(var he,Ce=vi(this._asyncIterable);!(he=yield Ce.next()).done;){const j=he.value;j&&(this._result.push(j),this._fireResult())}}catch(te){j={error:te}}finally{try{he&&!he.done&&(te=Ce.return)&&(yield te.call(Ce))}finally{if(j)throw j.error}}this._asyncIterableDone=!0,(3===this._state||4===this._state)&&this._setState(0)}catch(j){(0,ve.onUnexpectedError)(j)}}))})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const j=0===this._state,te=4===this._state;this._onResult.fire(new w(this._result.slice(0),j,te))}start(j){if(0===j)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}te.HoverOperation=b})),define(Ce[187],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.HoverForeignElementAnchor=te.HoverRangeAnchor=void 0;te.HoverRangeAnchor=class y{constructor(j,te){this.priority=j,this.range=te,this.type=1}equals(j){return 1===j.type&&this.range.equalsRange(j.range)}canAdoptVisibleHover(j,te){return 1===j.type&&te.lineNumber===this.range.startLineNumber}};te.HoverForeignElementAnchor=class m{constructor(j,te,he){this.priority=j,this.owner=te,this.range=he,this.type=2}equals(j){return 2===j.type&&this.owner===j.owner}canAdoptVisibleHover(j,te){return 2===j.type&&this.owner===j.owner}}})),define(Ce[459],ie([1,0,22]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.InPlaceReplaceCommand=void 0;te.InPlaceReplaceCommand=class m{constructor(j,te,he){this._editRange=j,this._originalSelection=te,this._text=he}getEditOperations(j,te){te.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(j,te){const ve=te.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new he.Selection(ve.endLineNumber,Math.min(this._originalSelection.positionColumn,ve.endColumn),ve.endLineNumber,Math.min(this._originalSelection.positionColumn,ve.endColumn)):new he.Selection(ve.endLineNumber,ve.endColumn-this._text.length,ve.endLineNumber,ve.endColumn)}}})),define(Ce[258],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.generateIndent=te.getSpaceCnt=void 0,te.getSpaceCnt=function y(j,te){let he=0;for(let ve=0;ve<j.length;ve++)"\t"===j.charAt(ve)?he+=te:he++;return he},te.generateIndent=function m(j,te,he){j=j<0?0:j;let ve="";if(!he){let he=Math.floor(j/te);j%=te;for(let j=0;j<he;j++)ve+="\t"}for(let te=0;te<j;te++)ve+=" ";return ve}})),define(Ce[460],ie([1,0,13,2,11,3,18]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.InlayHintsFragments=te.InlayHintItem=te.InlayHintAnchor=void 0;class b{constructor(j,te){this.range=j,this.direction=te}}te.InlayHintAnchor=b;class p{constructor(j,te,he){this.hint=j,this.anchor=te,this.provider=he,this._isResolved=!1}with(j){const te=new p(this.hint,j.anchor,this.provider);return te._isResolved=this._isResolved,te._currentResolve=this._currentResolve,te}resolve(j){return fi(this,void 0,void 0,(function*(){if("function"==typeof this.provider.resolveInlayHint){if(this._currentResolve)return yield this._currentResolve,j.isCancellationRequested?void 0:this.resolve(j);this._isResolved||(this._currentResolve=this._doResolve(j).finally((()=>this._currentResolve=void 0))),yield this._currentResolve}}))}_doResolve(j){var te,ve;return fi(this,void 0,void 0,(function*(){try{const he=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,j));this.hint.tooltip=null!==(te=null==he?void 0:he.tooltip)&&void 0!==te?te:this.hint.tooltip,this.hint.label=null!==(ve=null==he?void 0:he.label)&&void 0!==ve?ve:this.hint.label,this._isResolved=!0}catch(j){(0,he.onUnexpectedExternalError)(j),this._isResolved=!1}}))}}te.InlayHintItem=p;class h{constructor(j,te,he){this._disposables=new ve.DisposableStore,this.ranges=j,this.provider=new Set;const Ee=[];for(const[j,ve]of te){this._disposables.add(j),this.provider.add(ve);for(const te of j.hints){let j=he.validatePosition(te.position),Ce="before";const Ie=h._getRangeAtPosition(he,j);let Ne;Ie.getStartPosition().isBefore(j)?(Ne=ye.Range.fromPositions(Ie.getStartPosition(),j),Ce="after"):(Ne=ye.Range.fromPositions(j,Ie.getEndPosition()),Ce="before"),Ee.push(new p(te,new b(Ne,Ce),ve))}}this.items=Ee.sort(((j,te)=>Ce.Position.compare(j.hint.position,te.hint.position)))}static create(j,te,ve){return fi(this,void 0,void 0,(function*(){const Ce=[],ye=Ee.InlayHintsProviderRegistry.ordered(j).reverse().map((ye=>te.map((te=>fi(this,void 0,void 0,(function*(){try{const he=yield ye.provideInlayHints(j,te,ve);(null==he?void 0:he.hints.length)&&Ce.push([he,ye])}catch(j){(0,he.onUnexpectedExternalError)(j)}}))))));if(yield Promise.all(ye.flat()),ve.isCancellationRequested||j.isDisposed())throw new he.CancellationError;return new h(te,Ce,j)}))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(j,te){const he=te.lineNumber,ve=j.getWordAtPosition(te);if(ve)return new ye.Range(he,ve.startColumn,he,ve.endColumn);j.tokenizeIfCheap(he);const Ce=j.getLineTokens(he),Ee=te.column-1,Ie=Ce.findTokenIndexAtOffset(Ee);let Ne=Ce.getStartOffset(Ie),Oe=Ce.getEndOffset(Ie);return Oe-Ne==1&&(Ne===Ee&&Ie>1?(Ne=Ce.getStartOffset(Ie-1),Oe=Ce.getEndOffset(Ie-1)):Oe===Ee&&Ie<Ce.getCount()-1&&(Ne=Ce.getStartOffset(Ie+1),Oe=Ce.getEndOffset(Ie+1))),new ye.Range(he,Ne+1,he,Oe+1)}}te.InlayHintsFragments=h})),define(Ce[259],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.inlineSuggestCommitId=void 0,te.inlineSuggestCommitId="editor.action.inlineSuggest.commit"})),define(Ce[188],ie([1,0,4,2,3]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.BaseGhostTextWidgetModel=te.GhostTextPart=te.GhostText=void 0;te.GhostText=class I{constructor(j,te,he=0){this.lineNumber=j,this.parts=te,this.additionalReservedLineCount=he}renderForScreenReader(j){if(0===this.parts.length)return"";const te=this.parts[this.parts.length-1];return function b(j,te){const he=new w(j),ve=te.map((j=>{const te=Ce.Range.lift(j.range);return{startOffset:he.getOffset(te.getStartPosition()),endOffset:he.getOffset(te.getEndPosition()),text:j.text}}));ve.sort(((j,te)=>te.startOffset-j.startOffset));for(const te of ve)j=j.substring(0,te.startOffset)+te.text+j.substring(te.endOffset);return j}(j.substr(0,te.column-1),this.parts.map((j=>({range:{startLineNumber:1,endLineNumber:1,startColumn:j.column,endColumn:j.column},text:j.lines.join("\n")})))).substring(this.parts[0].column-1)}};class w{constructor(j){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let te=0;te<j.length;te++)"\n"===j.charAt(te)&&this.lineStartOffsetByLineIdx.push(te+1)}getOffset(j){return this.lineStartOffsetByLineIdx[j.lineNumber-1]+j.column-1}}te.GhostTextPart=class p{constructor(j,te,he){this.column=j,this.lines=te,this.preview=he}};class h extends ve.Disposable{constructor(j){super(),this.editor=j,this._expanded=void 0,this.onDidChangeEmitter=new he.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(j.onDidChangeConfiguration((j=>{j.hasChanged(106)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()})))}setExpanded(j){this._expanded=!0,this.onDidChangeEmitter.fire()}}te.BaseGhostTextWidgetModel=h})),define(Ce[189],ie([1,0,138,8,3,188]),(function(j,te,he,ve,Ce,ye){let Ee;Object.defineProperty(te,"__esModule",{value:!0}),te.inlineCompletionToGhostText=te.normalizedInlineCompletionsEquals=void 0,te.normalizedInlineCompletionsEquals=function w(j,te){return j===te||!(!j||!te)&&(j.range.equalsRange(te.range)&&j.text===te.text&&j.command===te.command)},te.inlineCompletionToGhostText=function b(j,te,Ie,Ne,Oe=0){if(j.range.startLineNumber!==j.range.endLineNumber)return;const Ke=te.getLineContent(j.range.startLineNumber),je=ve.getLeadingWhitespace(Ke).length;if(j.range.startColumn-1<=je){const te=ve.getLeadingWhitespace(j.text).length,he=Ke.substring(j.range.startColumn-1,je),ye=Ce.Range.fromPositions(j.range.getStartPosition().delta(0,he.length),j.range.getEndPosition()),Ee=j.text.startsWith(he)?j.text.substring(he.length):j.text.substring(te);j={range:ye,text:Ee,command:j.command}}const Ze=te.getValueInRange(j.range),Ye=function h(j,te){if((null==Ee?void 0:Ee.originalValue)===j&&(null==Ee?void 0:Ee.newValue)===te)return null==Ee?void 0:Ee.changes;{const ve=function g(j,te){if(j.length>5e3||te.length>5e3)return;function n(j){let te=0;for(let he=0,ve=j.length;he<ve;he++){const ve=j.charCodeAt(he);ve>te&&(te=ve)}return te}const ve=Math.max(n(j),n(te));function c(j){if(j<0)throw new Error("unexpected");return ve+j+1}function r(j){let te=0,he=0;const ve=new Int32Array(j.length);for(let Ce=0,ye=j.length;Ce<ye;Ce++){const ye=100*he+te;"("===j[Ce]?(ve[Ce]=c(2*ye),te++):")"===j[Ce]?(ve[Ce]=c(2*ye+1),1===te&&he++,te=Math.max(te-1,0)):ve[Ce]=j.charCodeAt(Ce)}return ve}const Ce=r(j),ye=r(te);return new he.LcsDiff({getElements:()=>Ce},{getElements:()=>ye}).ComputeDiff(!1).changes}(j,te);return Ee={originalValue:j,newValue:te,changes:ve},ve}}(Ze,j.text);if(!Ye)return;const et=j.range.startLineNumber,nt=new Array;if("prefix"===Ie){const j=Ye.filter((j=>0===j.originalLength));if(j.length>1||1===j.length&&j[0].originalStart!==Ze.length)return}const rt=j.text.length-Oe;for(const te of Ye){const he=j.range.startColumn+te.originalStart+te.originalLength;if("subwordSmart"===Ie&&Ne&&Ne.lineNumber===j.range.startLineNumber&&he<Ne.column||te.originalLength>0)return;if(0===te.modifiedLength)continue;const Ce=te.modifiedStart+te.modifiedLength,Ee=Math.max(te.modifiedStart,Math.min(Ce,rt)),Oe=j.text.substring(te.modifiedStart,Ee),Ke=j.text.substring(Ee,Math.max(te.modifiedStart,Ce));if(Oe.length>0){const j=ve.splitLines(Oe);nt.push(new ye.GhostTextPart(he,j,!1))}if(Ke.length>0){const j=ve.splitLines(Ke);nt.push(new ye.GhostTextPart(he,j,!0))}}return new ye.GhostText(et,nt,0)}})),define(Ce[461],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.createDisposableRef=void 0,te.createDisposableRef=function y(j,te){return{object:j,dispose:()=>null==te?void 0:te.dispose()}}})),define(Ce[462],ie([1,0,3,22]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.CopyLinesCommand=void 0;te.CopyLinesCommand=class D{constructor(j,te,he){this._selection=j,this._isCopyingDown=te,this._noop=he||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(j,te){let ve=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,ve.startLineNumber<ve.endLineNumber&&1===ve.endColumn&&(this._endLineNumberDelta=1,ve=ve.setEndPosition(ve.endLineNumber-1,j.getLineMaxColumn(ve.endLineNumber-1)));let Ce=[];for(let te=ve.startLineNumber;te<=ve.endLineNumber;te++)Ce.push(j.getLineContent(te));const ye=Ce.join("\n");""===ye&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?te.addEditOperation(new he.Range(ve.endLineNumber,j.getLineMaxColumn(ve.endLineNumber),ve.endLineNumber+1,1),ve.endLineNumber===j.getLineCount()?"":"\n"):this._isCopyingDown?te.addEditOperation(new he.Range(ve.startLineNumber,1,ve.startLineNumber,1),ye+"\n"):te.addEditOperation(new he.Range(ve.endLineNumber,j.getLineMaxColumn(ve.endLineNumber),ve.endLineNumber,j.getLineMaxColumn(ve.endLineNumber)),"\n"+ye),this._selectionId=te.trackSelection(ve),this._selectionDirection=this._selection.getDirection()}computeCursorState(j,te){let he=te.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let j=he.startLineNumber,te=he.startColumn,Ce=he.endLineNumber,ye=he.endColumn;0!==this._startLineNumberDelta&&(j+=this._startLineNumberDelta,te=1),0!==this._endLineNumberDelta&&(Ce+=this._endLineNumberDelta,ye=1),he=ve.Selection.createWithDirection(j,te,Ce,ye,this._selectionDirection)}return he}}})),define(Ce[463],ie([1,0,61,3]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.SortLinesCommand=void 0;class D{constructor(j,te){this.selection=j,this.descending=te,this.selectionId=null}static getCollator(){return D._COLLATOR||(D._COLLATOR=new Intl.Collator),D._COLLATOR}getEditOperations(j,te){let Ce=function w(j,te,Ce){let ye=I(j,te,Ce);return ye?he.EditOperation.replace(new ve.Range(ye.startLineNumber,1,ye.endLineNumber,j.getLineMaxColumn(ye.endLineNumber)),ye.after.join("\n")):null}(j,this.selection,this.descending);Ce&&te.addEditOperation(Ce.range,Ce.text),this.selectionId=te.trackSelection(this.selection)}computeCursorState(j,te){return te.getTrackedSelection(this.selectionId)}static canRun(j,te,he){if(null===j)return!1;let ve=I(j,te,he);if(!ve)return!1;for(let j=0,te=ve.before.length;j<te;j++)if(ve.before[j]!==ve.after[j])return!0;return!1}}function I(j,te,he){let ve=te.startLineNumber,Ce=te.endLineNumber;if(1===te.endColumn&&Ce--,ve>=Ce)return null;let ye=[];for(let te=ve;te<=Ce;te++)ye.push(j.getLineContent(te));let Ee=ye.slice(0);return Ee.sort(D.getCollator().compare),!0===he&&(Ee=Ee.reverse()),{startLineNumber:ve,endLineNumber:Ce,before:ye,after:Ee}}te.SortLinesCommand=D,D._COLLATOR=null})),define(Ce[260],ie([1,0,81,11,3]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.BracketSelectionRangeProvider=void 0;class I{provideSelectionRanges(j,te){return fi(this,void 0,void 0,(function*(){const he=[];for(const ve of te){const te=[];he.push(te);const Ce=new Map;yield new Promise((te=>I._bracketsRightYield(te,0,j,ve,Ce))),yield new Promise((he=>I._bracketsLeftYield(he,0,j,ve,Ce,te)))}return he}))}static _bracketsRightYield(j,te,ve,Ce,ye){const Ee=new Map,Ie=Date.now();for(;;){if(te>=I._maxRounds){j();break}if(!Ce){j();break}let Ne=ve.bracketPairs.findNextBracket(Ce);if(!Ne){j();break}if(Date.now()-Ie>I._maxDuration){setTimeout((()=>I._bracketsRightYield(j,te+1,ve,Ce,ye)));break}const Oe=Ne.close[0];if(Ne.isOpen){let j=Ee.has(Oe)?Ee.get(Oe):0;Ee.set(Oe,j+1)}else{let j=Ee.has(Oe)?Ee.get(Oe):0;if(j-=1,Ee.set(Oe,Math.max(0,j)),j<0){let j=ye.get(Oe);j||(j=new he.LinkedList,ye.set(Oe,j)),j.push(Ne.range)}}Ce=Ne.range.getEndPosition()}}static _bracketsLeftYield(j,te,he,ve,ye,Ee){const Ie=new Map,Ne=Date.now();for(;;){if(te>=I._maxRounds&&0===ye.size){j();break}if(!ve){j();break}let Oe=he.bracketPairs.findPrevBracket(ve);if(!Oe){j();break}if(Date.now()-Ne>I._maxDuration){setTimeout((()=>I._bracketsLeftYield(j,te+1,he,ve,ye,Ee)));break}const Ke=Oe.close[0];if(Oe.isOpen){let j=Ie.has(Ke)?Ie.get(Ke):0;if(j-=1,Ie.set(Ke,Math.max(0,j)),j<0){let j=ye.get(Ke);if(j){let te=j.shift();0===j.size&&ye.delete(Ke);const ve=Ce.Range.fromPositions(Oe.range.getEndPosition(),te.getStartPosition()),Ie=Ce.Range.fromPositions(Oe.range.getStartPosition(),te.getEndPosition());Ee.push({range:ve}),Ee.push({range:Ie}),I._addBracketLeading(he,Ie,Ee)}}}else{let j=Ie.has(Ke)?Ie.get(Ke):0;Ie.set(Ke,j+1)}ve=Oe.range.getStartPosition()}}static _addBracketLeading(j,te,he){if(te.startLineNumber===te.endLineNumber)return;const ye=te.startLineNumber,Ee=j.getLineFirstNonWhitespaceColumn(ye);0!==Ee&&Ee!==te.startColumn&&(he.push({range:Ce.Range.fromPositions(new ve.Position(ye,Ee),te.getEndPosition())}),he.push({range:Ce.Range.fromPositions(new ve.Position(ye,1),te.getEndPosition())}));const Ie=ye-1;if(Ie>0){const ye=j.getLineFirstNonWhitespaceColumn(Ie);ye===te.startColumn&&ye!==j.getLineLastNonWhitespaceColumn(Ie)&&(he.push({range:Ce.Range.fromPositions(new ve.Position(Ie,ye),te.getEndPosition())}),he.push({range:Ce.Range.fromPositions(new ve.Position(Ie,1),te.getEndPosition())}))}}}te.BracketSelectionRangeProvider=I,I._maxDuration=30,I._maxRounds=2})),define(Ce[464],ie([1,0,8,3]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.WordSelectionRangeProvider=void 0;te.WordSelectionRangeProvider=class D{provideSelectionRanges(j,te){const he=[];for(const ve of te){const te=[];he.push(te),this._addInWordRanges(te,j,ve),this._addWordRanges(te,j,ve),this._addWhitespaceLine(te,j,ve),te.push({range:j.getFullModelRange()})}return he}_addInWordRanges(j,te,Ce){const ye=te.getWordAtPosition(Ce);if(!ye)return;let{word:Ee,startColumn:Ie}=ye,Ne=Ce.column-Ie,Oe=Ne,Ke=Ne,je=0;for(;Oe>=0;Oe--){let j=Ee.charCodeAt(Oe);if(Oe!==Ne&&(95===j||45===j))break;if((0,he.isLowerAsciiLetter)(j)&&(0,he.isUpperAsciiLetter)(je))break;je=j}for(Oe+=1;Ke<Ee.length;Ke++){let j=Ee.charCodeAt(Ke);if((0,he.isUpperAsciiLetter)(j)&&(0,he.isLowerAsciiLetter)(je))break;if(95===j||45===j)break;je=j}Oe<Ke&&j.push({range:new ve.Range(Ce.lineNumber,Ie+Oe,Ce.lineNumber,Ie+Ke)})}_addWordRanges(j,te,he){const Ce=te.getWordAtPosition(he);Ce&&j.push({range:new ve.Range(he.lineNumber,Ce.startColumn,he.lineNumber,Ce.endColumn)})}_addWhitespaceLine(j,te,he){te.getLineLength(he.lineNumber)>0&&0===te.getLineFirstNonWhitespaceColumn(he.lineNumber)&&0===te.getLineLastNonWhitespaceColumn(he.lineNumber)&&j.push({range:new ve.Range(he.lineNumber,1,he.lineNumber,te.getLineMaxColumn(he.lineNumber))})}}})),define(Ce[124],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.SnippetParser=te.TextmateSnippet=te.Variable=te.FormatString=te.Transform=te.Choice=te.Placeholder=te.TransformableMarker=te.Text=te.Marker=te.Scanner=void 0;class y{constructor(){this.value="",this.pos=0}static isDigitCharacter(j){return j>=48&&j<=57}static isVariableCharacter(j){return 95===j||j>=97&&j<=122||j>=65&&j<=90}text(j){this.value=j,this.pos=0}tokenText(j){return this.value.substr(j.pos,j.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let j,te=this.pos,he=0,ve=this.value.charCodeAt(te);if(j=y._table[ve],"number"==typeof j)return this.pos+=1,{type:j,pos:te,len:1};if(y.isDigitCharacter(ve)){j=8;do{he+=1,ve=this.value.charCodeAt(te+he)}while(y.isDigitCharacter(ve));return this.pos+=he,{type:j,pos:te,len:he}}if(y.isVariableCharacter(ve)){j=9;do{ve=this.value.charCodeAt(te+ ++he)}while(y.isVariableCharacter(ve)||y.isDigitCharacter(ve));return this.pos+=he,{type:j,pos:te,len:he}}j=10;do{he+=1,ve=this.value.charCodeAt(te+he)}while(!isNaN(ve)&&void 0===y._table[ve]&&!y.isDigitCharacter(ve)&&!y.isVariableCharacter(ve));return this.pos+=he,{type:j,pos:te,len:he}}}te.Scanner=y,y._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class m{constructor(){this._children=[]}appendChild(j){return j instanceof D&&this._children[this._children.length-1]instanceof D?this._children[this._children.length-1].value+=j.value:(j.parent=this,this._children.push(j)),this}replace(j,te){const{parent:he}=j,ve=he.children.indexOf(j),Ce=he.children.slice(0);Ce.splice(ve,1,...te),he._children=Ce,function d(j,te){for(const he of j)he.parent=te,d(he.children,he)}(te,he)}get children(){return this._children}get snippet(){let j=this;for(;;){if(!j)return;if(j instanceof i)return j;j=j.parent}}toString(){return this.children.reduce(((j,te)=>j+te.toString()),"")}len(){return 0}}te.Marker=m;class D extends m{constructor(j){super(),this.value=j}toString(){return this.value}len(){return this.value.length}clone(){return new D(this.value)}}te.Text=D;class I extends m{}te.TransformableMarker=I;class w extends I{constructor(j){super(),this.index=j}static compareByIndex(j,te){return j.index===te.index?0:j.isFinalTabstop?1:te.isFinalTabstop||j.index<te.index?-1:j.index>te.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof b?this._children[0]:void 0}clone(){let j=new w(this.index);return this.transform&&(j.transform=this.transform.clone()),j._children=this.children.map((j=>j.clone())),j}}te.Placeholder=w;class b extends m{constructor(){super(...arguments),this.options=[]}appendChild(j){return j instanceof D&&(j.parent=this,this.options.push(j)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let j=new b;return this.options.forEach(j.appendChild,j),j}}te.Choice=b;class p extends m{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(j){const te=this;let he=!1,ve=j.replace(this.regexp,(function(){return he=!0,te._replace(Array.prototype.slice.call(arguments,0,-2))}));return!he&&this._children.some((j=>j instanceof h&&Boolean(j.elseValue)))&&(ve=this._replace([])),ve}_replace(j){let te="";for(const he of this._children)if(he instanceof h){let ve=j[he.index]||"";ve=he.resolve(ve),te+=ve}else te+=he.toString();return te}toString(){return""}clone(){let j=new p;return j.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),j._children=this.children.map((j=>j.clone())),j}}te.Transform=p;class h extends m{constructor(j,te,he,ve){super(),this.index=j,this.shorthandName=te,this.ifValue=he,this.elseValue=ve}resolve(j){return"upcase"===this.shorthandName?j?j.toLocaleUpperCase():"":"downcase"===this.shorthandName?j?j.toLocaleLowerCase():"":"capitalize"===this.shorthandName?j?j[0].toLocaleUpperCase()+j.substr(1):"":"pascalcase"===this.shorthandName?j?this._toPascalCase(j):"":"camelcase"===this.shorthandName?j?this._toCamelCase(j):"":Boolean(j)&&"string"==typeof this.ifValue?this.ifValue:Boolean(j)||"string"!=typeof this.elseValue?j||"":this.elseValue}_toPascalCase(j){const te=j.match(/[a-z0-9]+/gi);return te?te.map((j=>j.charAt(0).toUpperCase()+j.substr(1).toLowerCase())).join(""):j}_toCamelCase(j){const te=j.match(/[a-z0-9]+/gi);return te?te.map(((j,te)=>0===te?j.toLowerCase():j.charAt(0).toUpperCase()+j.substr(1).toLowerCase())).join(""):j}clone(){return new h(this.index,this.shorthandName,this.ifValue,this.elseValue)}}te.FormatString=h;class g extends I{constructor(j){super(),this.name=j}resolve(j){let te=j.resolve(this);return this.transform&&(te=this.transform.resolve(te||"")),void 0!==te&&(this._children=[new D(te)],!0)}clone(){const j=new g(this.name);return this.transform&&(j.transform=this.transform.clone()),j._children=this.children.map((j=>j.clone())),j}}function t(j,te){const he=[...j];for(;he.length>0;){const j=he.shift();if(!te(j))break;he.unshift(...j.children)}}te.Variable=g;class i extends m{get placeholderInfo(){if(!this._placeholders){let j,te=[];this.walk((function(he){return he instanceof w&&(te.push(he),j=!j||j.index<he.index?he:j),!0})),this._placeholders={all:te,last:j}}return this._placeholders}get placeholders(){const{all:j}=this.placeholderInfo;return j}offset(j){let te=0,he=!1;return this.walk((ve=>ve===j?(he=!0,!1):(te+=ve.len(),!0))),he?te:-1}fullLen(j){let te=0;return t([j],(j=>(te+=j.len(),!0))),te}enclosingPlaceholders(j){let te=[],{parent:he}=j;for(;he;)he instanceof w&&te.push(he),he=he.parent;return te}resolveVariables(j){return this.walk((te=>(te instanceof g&&te.resolve(j)&&(this._placeholders=void 0),!0))),this}appendChild(j){return this._placeholders=void 0,super.appendChild(j)}replace(j,te){return this._placeholders=void 0,super.replace(j,te)}clone(){let j=new i;return this._children=this.children.map((j=>j.clone())),j}walk(j){t(this.children,j)}}te.TextmateSnippet=i;te.SnippetParser=class n{constructor(){this._scanner=new y,this._token={type:14,pos:0,len:0}}static escape(j){return j.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(j){return/\${?CLIPBOARD/.test(j)}parse(j,te,he){this._scanner.text(j),this._token=this._scanner.next();const ve=new i;for(;this._parse(ve););const Ce=new Map,ye=[];let Ee=0;ve.walk((j=>(j instanceof w&&(Ee+=1,j.isFinalTabstop?Ce.set(0,void 0):!Ce.has(j.index)&&j.children.length>0?Ce.set(j.index,j.children):ye.push(j)),!0)));for(const j of ye){const te=Ce.get(j.index);if(te){const he=new w(j.index);he.transform=j.transform;for(const j of te)he.appendChild(j.clone());ve.replace(j,[he])}}return he||(he=Ee>0&&te),!Ce.has(0)&&he&&ve.appendChild(new w(0)),ve}_accept(j,te){if(void 0===j||this._token.type===j){let j=!te||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),j}return!1}_backTo(j){return this._scanner.pos=j.pos+j.len,this._token=j,!1}_until(j){const te=this._token;for(;this._token.type!==j;){if(14===this._token.type)return!1;if(5===this._token.type){const j=this._scanner.next();if(0!==j.type&&4!==j.type&&5!==j.type)return!1}this._token=this._scanner.next()}const he=this._scanner.value.substring(te.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),he}_parse(j){return this._parseEscaped(j)||this._parseTabstopOrVariableName(j)||this._parseComplexPlaceholder(j)||this._parseComplexVariable(j)||this._parseAnything(j)}_parseEscaped(j){let te;return!!(te=this._accept(5,!0))&&(te=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||te,j.appendChild(new D(te)),!0)}_parseTabstopOrVariableName(j){let te;const he=this._token;return this._accept(0)&&(te=this._accept(9,!0)||this._accept(8,!0))?(j.appendChild(/^\d+$/.test(te)?new w(Number(te)):new g(te)),!0):this._backTo(he)}_parseComplexPlaceholder(j){let te;const he=this._token;if(!(this._accept(0)&&this._accept(3)&&(te=this._accept(8,!0))))return this._backTo(he);const ve=new w(Number(te));if(this._accept(1))for(;;){if(this._accept(4))return j.appendChild(ve),!0;if(!this._parse(ve))return j.appendChild(new D("${"+te+":")),ve.children.forEach(j.appendChild,j),!0}else{if(!(ve.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(ve)?(j.appendChild(ve),!0):(this._backTo(he),!1):this._accept(4)?(j.appendChild(ve),!0):this._backTo(he);{const te=new b;for(;;){if(this._parseChoiceElement(te)){if(this._accept(2))continue;if(this._accept(7)&&(ve.appendChild(te),this._accept(4)))return j.appendChild(ve),!0}return this._backTo(he),!1}}}}_parseChoiceElement(j){const te=this._token,he=[];for(;2!==this._token.type&&7!==this._token.type;){let j;if(j=(j=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||j:this._accept(void 0,!0),!j)return this._backTo(te),!1;he.push(j)}return 0===he.length?(this._backTo(te),!1):(j.appendChild(new D(he.join(""))),!0)}_parseComplexVariable(j){let te;const he=this._token;if(!(this._accept(0)&&this._accept(3)&&(te=this._accept(9,!0))))return this._backTo(he);const ve=new g(te);if(!this._accept(1))return this._accept(6)?this._parseTransform(ve)?(j.appendChild(ve),!0):(this._backTo(he),!1):this._accept(4)?(j.appendChild(ve),!0):this._backTo(he);for(;;){if(this._accept(4))return j.appendChild(ve),!0;if(!this._parse(ve))return j.appendChild(new D("${"+te+":")),ve.children.forEach(j.appendChild,j),!0}}_parseTransform(j){let te=new p,he="",ve="";for(;!this._accept(6);){let j;if(j=this._accept(5,!0))j=this._accept(6,!0)||j,he+=j;else{if(14===this._token.type)return!1;he+=this._accept(void 0,!0)}}for(;!this._accept(6);){let j;if(j=this._accept(5,!0))j=this._accept(5,!0)||this._accept(6,!0)||j,te.appendChild(new D(j));else if(!this._parseFormatString(te)&&!this._parseAnything(te))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;ve+=this._accept(void 0,!0)}try{te.regexp=new RegExp(he,ve)}catch{return!1}return j.transform=te,!0}_parseFormatString(j){const te=this._token;if(!this._accept(0))return!1;let he=!1;this._accept(3)&&(he=!0);let ve=this._accept(8,!0);if(!ve)return this._backTo(te),!1;if(!he)return j.appendChild(new h(Number(ve))),!0;if(this._accept(4))return j.appendChild(new h(Number(ve))),!0;if(!this._accept(1))return this._backTo(te),!1;if(this._accept(6)){let he=this._accept(9,!0);return he&&this._accept(4)?(j.appendChild(new h(Number(ve),he)),!0):(this._backTo(te),!1)}if(this._accept(11)){let te=this._until(4);if(te)return j.appendChild(new h(Number(ve),void 0,te,void 0)),!0}else if(this._accept(12)){let te=this._until(4);if(te)return j.appendChild(new h(Number(ve),void 0,void 0,te)),!0}else if(this._accept(13)){let te=this._until(1);if(te){let he=this._until(4);if(he)return j.appendChild(new h(Number(ve),void 0,te,he)),!0}}else{let te=this._until(4);if(te)return j.appendChild(new h(Number(ve),void 0,void 0,te)),!0}return this._backTo(te),!1}_parseAnything(j){return 14!==this._token.type&&(j.appendChild(new D(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}})),define(Ce[465],ie([1,0,19,73,8]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.CompletionModel=te.LineContext=void 0;te.LineContext=class I{constructor(j,te){this.leadingLineContent=j,this.characterCountDelta=te}};class w{constructor(j,te,he,ve,Ce,ye,Ee){this.clipboardText=Ee,this._snippetCompareFn=w._compareCompletionItems,this._items=j,this._column=te,this._wordDistance=ve,this._options=Ce,this._refilterKind=1,this._lineContext=he,"top"===ye?this._snippetCompareFn=w._compareCompletionItemsSnippetsUp:"bottom"===ye&&(this._snippetCompareFn=w._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(j){(this._lineContext.leadingLineContent!==j.leadingLineContent||this._lineContext.characterCountDelta!==j.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<j.characterCountDelta&&this._filteredItems?2:1,this._lineContext=j)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const j=new Set;for(let[te,he]of this._providerInfo)he&&j.add(te);return j}adopt(j){let te=[];for(let he=0;he<this._items.length;)j.has(this._items[he].provider)?he++:(te.push(this._items[he]),this._items[he]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,te}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const j=[],{leadingLineContent:te,characterCountDelta:ye}=this._lineContext;let Ee="",Ie="";const Ne=1===this._refilterKind?this._items:this._filteredItems,Oe=[],Ke=!this._options.filterGraceful||Ne.length>2e3?ve.fuzzyScore:ve.fuzzyScoreGracefulAggressive;for(let he=0;he<Ne.length;he++){const je=Ne[he];if(je.isInvalid)continue;this._providerInfo.set(je.provider,Boolean(je.container.incomplete));const Ze=je.position.column-je.editStart.column,Ye=Ze+ye-(je.position.column-this._column);if(Ee.length!==Ye&&(Ee=0===Ye?"":te.slice(-Ye),Ie=Ee.toLowerCase()),je.word=Ee,0===Ye)je.score=ve.FuzzyScore.Default;else{let j=0;for(;j<Ze;){const te=Ee.charCodeAt(j);if(32!==te&&9!==te)break;j+=1}if(j>=Ye)je.score=ve.FuzzyScore.Default;else if("string"==typeof je.completion.filterText){let te=Ke(Ee,Ie,j,je.completion.filterText,je.filterTextLow,0,!1);if(!te)continue;0===(0,Ce.compareIgnoreCase)(je.completion.filterText,je.textLabel)?je.score=te:(je.score=(0,ve.anyScore)(Ee,Ie,j,je.textLabel,je.labelLow,0),je.score[0]=te[0])}else{let te=Ke(Ee,Ie,j,je.textLabel,je.labelLow,0,!1);if(!te)continue;je.score=te}}je.idx=he,je.distance=this._wordDistance.distance(je.position,je.completion),Oe.push(je),j.push(je.textLabel.length)}this._filteredItems=Oe.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:j.length?(0,he.quickSelect)(j.length-.85,j,((j,te)=>j-te)):0}}static _compareCompletionItems(j,te){return j.score[0]>te.score[0]?-1:j.score[0]<te.score[0]?1:j.distance<te.distance?-1:j.distance>te.distance?1:j.idx<te.idx?-1:j.idx>te.idx?1:0}static _compareCompletionItemsSnippetsDown(j,te){if(j.completion.kind!==te.completion.kind){if(27===j.completion.kind)return 1;if(27===te.completion.kind)return-1}return w._compareCompletionItems(j,te)}static _compareCompletionItemsSnippetsUp(j,te){if(j.completion.kind!==te.completion.kind){if(27===j.completion.kind)return-1;if(27===te.completion.kind)return 1}return w._compareCompletionItems(j,te)}}te.CompletionModel=w})),define(Ce[261],ie([1,0,7,114,4,2]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.ResizableHTMLElement=void 0;te.ResizableHTMLElement=class w{constructor(){this._onDidWillResize=new Ce.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new Ce.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new ye.DisposableStore,this._size=new he.Dimension(0,0),this._minSize=new he.Dimension(0,0),this._maxSize=new he.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new ve.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new ve.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new ve.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:ve.OrthogonalEdge.North}),this._southSash=new ve.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:ve.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let j,te=0,Ee=0;this._sashListener.add(Ce.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)((()=>{void 0===j&&(this._onDidWillResize.fire(),j=this._size,te=0,Ee=0)}))),this._sashListener.add(Ce.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)((()=>{void 0!==j&&(j=void 0,te=0,Ee=0,this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(this._eastSash.onDidChange((he=>{j&&(Ee=he.currentX-he.startX,this.layout(j.height+te,j.width+Ee),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))}))),this._sashListener.add(this._westSash.onDidChange((he=>{j&&(Ee=-(he.currentX-he.startX),this.layout(j.height+te,j.width+Ee),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))}))),this._sashListener.add(this._northSash.onDidChange((he=>{j&&(te=-(he.currentY-he.startY),this.layout(j.height+te,j.width+Ee),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))}))),this._sashListener.add(this._southSash.onDidChange((he=>{j&&(te=he.currentY-he.startY,this.layout(j.height+te,j.width+Ee),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))}))),this._sashListener.add(Ce.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)((j=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(Ce.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)((j=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))})))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(j,te,he,ve){this._northSash.state=j?3:0,this._eastSash.state=te?3:0,this._southSash.state=he?3:0,this._westSash.state=ve?3:0}layout(j=this.size.height,te=this.size.width){const{height:ve,width:Ce}=this._minSize,{height:ye,width:Ee}=this._maxSize;j=Math.max(ve,Math.min(ye,j)),te=Math.max(Ce,Math.min(Ee,te));const Ie=new he.Dimension(te,j);he.Dimension.equals(Ie,this._size)||(this.domNode.style.height=j+"px",this.domNode.style.width=te+"px",this._size=Ie,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(j){this._maxSize=j}get maxSize(){return this._maxSize}set minSize(j){this._minSize=j}get minSize(){return this._minSize}set preferredSize(j){this._preferredSize=j}get preferredSize(){return this._preferredSize}}})),define(Ce[466],ie([1,0,19,2,97]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.CommitCharacterController=void 0;te.CommitCharacterController=class I{constructor(j,te,he){this._disposables=new ve.DisposableStore,this._disposables.add(te.onDidShow((()=>this._onItem(te.getFocusedItem())))),this._disposables.add(te.onDidFocus(this._onItem,this)),this._disposables.add(te.onDidHide(this.reset,this)),this._disposables.add(j.onWillType((ve=>{if(this._active&&!te.isFrozen()){const te=ve.charCodeAt(ve.length-1);this._active.acceptCharacters.has(te)&&j.getOption(0)&&he(this._active.item)}})))}_onItem(j){if(!j||!(0,he.isNonEmptyArray)(j.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===j.item)return;const te=new Ce.CharacterSet;for(const he of j.item.completion.commitCharacters)he.length>0&&te.add(he.charCodeAt(0));this._active={acceptCharacters:te,item:j}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}})),define(Ce[467],ie([1,0,2]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.OvertypingCapturer=void 0;class m{constructor(j,te){this._disposables=new he.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(j.onWillType((()=>{if(!this._empty||!j.hasModel())return;const te=j.getSelections(),he=te.length;let ve=!1;for(let j=0;j<he;j++)if(!te[j].isEmpty()){ve=!0;break}if(!ve)return;this._lastOvertyped=[];const Ce=j.getModel();for(let j=0;j<he;j++){const he=te[j];if(Ce.getValueLengthInRange(he)>m._maxSelectionLength)return;this._lastOvertyped[j]={value:Ce.getValueInRange(he),multiline:he.startLineNumber!==he.endLineNumber}}this._empty=!1}))),this._disposables.add(te.onDidCancel((j=>{!this._empty&&!j.retrigger&&(this._empty=!0)})))}getLastOvertypedInfo(j){if(!this._empty&&j>=0&&j<this._lastOvertyped.length)return this._lastOvertyped[j]}dispose(){this._disposables.dispose()}}te.OvertypingCapturer=m,m._maxSelectionLength=51200})),define(Ce[468],ie([1,0,19,3,260]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.WordDistance=void 0;class I{static create(j,te){return fi(this,void 0,void 0,(function*(){if(!te.getOption(106).localityBonus||!te.hasModel())return I.None;const ye=te.getModel(),Ee=te.getPosition();if(!j.canComputeWordRanges(ye.uri))return I.None;const[Ie]=yield(new Ce.BracketSelectionRangeProvider).provideSelectionRanges(ye,[Ee]);if(0===Ie.length)return I.None;const Ne=yield j.computeWordRanges(ye.uri,Ie[0].range);if(!Ne)return I.None;const Oe=ye.getWordUntilPosition(Ee);return delete Ne[Oe.word],new class extends I{distance(j,Ce){if(!Ee.equals(te.getPosition()))return 0;if(17===Ce.kind)return 2<<20;let ye="string"==typeof Ce.label?Ce.label:Ce.label.label,Oe=Ne[ye];if((0,he.isFalsyOrEmpty)(Oe))return 2<<20;let Ke=(0,he.binarySearch)(Oe,ve.Range.fromPositions(j),ve.Range.compareRangesUsingStarts),je=Ke>=0?Oe[Ke]:Oe[Math.max(0,~Ke-1)],Ze=Ie.length;for(const j of Ie){if(!ve.Range.containsRange(j.range,je))break;Ze-=1}return Ze}}}))}}te.WordDistance=I,I.None=new class extends I{distance(){return 0}}})),define(Ce[262],ie([1,0]),(function(j,te){function y(j){return Array.isArray(j)}function D(j){return"string"==typeof j}function w(j){return!j}function b(j,te){return j.ignoreCase&&te?te.toLowerCase():te}Object.defineProperty(te,"__esModule",{value:!0}),te.stateExists=te.findRules=te.substituteMatches=te.createError=te.log=te.sanitize=te.fixCase=te.empty=te.isIAction=te.isString=te.isFuzzyAction=te.isFuzzyActionArr=void 0,te.isFuzzyActionArr=y,te.isFuzzyAction=function m(j){return!y(j)},te.isString=D,te.isIAction=function I(j){return!D(j)},te.empty=w,te.fixCase=b,te.sanitize=function p(j){return j.replace(/[&<>'"_]/g,"-")},te.log=function h(j,te){console.log(`${j.languageId}: ${te}`)},te.createError=function g(j,te){return new Error(`${j.languageId}: ${te}`)},te.substituteMatches=function t(j,te,he,ve,Ce){let ye=null;return te.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(te,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){return w(Ie)?w(Ne)?!w(Oe)&&Oe<ve.length?b(j,ve[Oe]):!w(je)&&j&&"string"==typeof j[je]?j[je]:(null===ye&&(ye=Ce.split("."),ye.unshift(Ce)),!w(Ke)&&Ke<ye.length?b(j,ye[Ke]):""):b(j,he):"$"}))},te.findRules=function i(j,te){let he=te;for(;he&&he.length>0;){const te=j.tokenizer[he];if(te)return te;const ve=he.lastIndexOf(".");he=ve<0?null:he.substr(0,ve)}return null},te.stateExists=function n(j,te){let he=te;for(;he&&he.length>0;){if(j.stateNames[he])return!0;const te=he.lastIndexOf(".");he=te<0?null:he.substr(0,te)}return!1}})),define(Ce[469],ie([1,0,262]),(function(j,te,he){function D(j,te){return"boolean"==typeof j?j:te}function I(j,te){return"string"==typeof j?j:te}function b(j,te=!1){te&&(j=j.map((function(j){return j.toLowerCase()})));const he=function w(j){const te={};for(const he of j)te[he]=!0;return te}(j);return te?function(j){return void 0!==he[j.toLowerCase()]&&he.hasOwnProperty(j.toLowerCase())}:function(j){return void 0!==he[j]&&he.hasOwnProperty(j)}}function p(j,te){te=te.replace(/@@/g,"");let ve,Ce=0;do{ve=!1,te=te.replace(/@(\w+)/g,(function(Ce,ye){ve=!0;let Ee="";if("string"==typeof j[ye])Ee=j[ye];else{if(!(j[ye]&&j[ye]instanceof RegExp))throw void 0===j[ye]?he.createError(j,"language definition does not contain attribute '"+ye+"', used at: "+te):he.createError(j,"attribute reference '"+ye+"' must be a string, used at: "+te);Ee=j[ye].source}return he.empty(Ee)?"":"(?:"+Ee+")"})),Ce++}while(ve&&Ce<5);te=te.replace(/\x01/g,"@");const ye=(j.ignoreCase?"i":"")+(j.unicode?"u":"");return new RegExp(te,ye)}function g(j,te,ve,Ce){let ye=-1,Ee=ve,Ie=ve.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);Ie&&(Ie[3]&&(ye=parseInt(Ie[3]),Ie[2]&&(ye+=100)),Ee=Ie[4]);let Ne,Oe="~",Ke=Ee;if(Ee&&0!==Ee.length?/^\w*$/.test(Ke)?Oe="==":(Ie=Ee.match(/^(@|!@|~|!~|==|!=)(.*)$/),Ie&&(Oe=Ie[1],Ke=Ie[2])):(Oe="!=",Ke=""),"~"!==Oe&&"!~"!==Oe||!/^(\w|\|)*$/.test(Ke))if("@"===Oe||"!@"===Oe){const ve=j[Ke];if(!ve)throw he.createError(j,"the @ match target '"+Ke+"' is not defined, in rule: "+te);if(!function m(j,te){if(!te||!Array.isArray(te))return!1;for(const he of te)if(!j(he))return!1;return!0}((function(j){return"string"==typeof j}),ve))throw he.createError(j,"the @ match target '"+Ke+"' must be an array of strings, in rule: "+te);const Ce=b(ve,j.ignoreCase);Ne=function(j){return"@"===Oe?Ce(j):!Ce(j)}}else if("~"===Oe||"!~"===Oe)if(Ke.indexOf("$")<0){const te=p(j,"^"+Ke+"$");Ne=function(j){return"~"===Oe?te.test(j):!te.test(j)}}else Ne=function(te,ve,Ce,ye){return p(j,"^"+he.substituteMatches(j,Ke,ve,Ce,ye)+"$").test(te)};else if(Ke.indexOf("$")<0){const te=he.fixCase(j,Ke);Ne=function(j){return"=="===Oe?j===te:j!==te}}else{const te=he.fixCase(j,Ke);Ne=function(ve,Ce,ye,Ee,Ie){const Ne=he.substituteMatches(j,te,Ce,ye,Ee);return"=="===Oe?ve===Ne:ve!==Ne}}else{const te=b(Ke.split("|"),j.ignoreCase);Ne=function(j){return"~"===Oe?te(j):!te(j)}}return-1===ye?{name:ve,value:Ce,test:function(j,te,he,ve){return Ne(j,j,te,he,ve)}}:{name:ve,value:Ce,test:function(j,te,he,ve){const Ce=function h(j,te,he,ve){if(ve<0)return j;if(ve<te.length)return te[ve];if(ve>=100){ve-=100;const j=he.split(".");if(j.unshift(he),ve<j.length)return j[ve]}return null}(j,te,he,ye);return Ne(Ce||"",j,te,he,ve)}}}function t(j,te,ve){if(ve){if("string"==typeof ve)return ve;if(ve.token||""===ve.token){if("string"!=typeof ve.token)throw he.createError(j,"a 'token' attribute must be of type string, in rule: "+te);{const Ce={token:ve.token};if(ve.token.indexOf("$")>=0&&(Ce.tokenSubst=!0),"string"==typeof ve.bracket)if("@open"===ve.bracket)Ce.bracket=1;else{if("@close"!==ve.bracket)throw he.createError(j,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+te);Ce.bracket=-1}if(ve.next){if("string"!=typeof ve.next)throw he.createError(j,"the next state must be a string value in rule: "+te);{let ye=ve.next;if(!/^(@pop|@push|@popall)$/.test(ye)&&("@"===ye[0]&&(ye=ye.substr(1)),ye.indexOf("$")<0&&!he.stateExists(j,he.substituteMatches(j,ye,"",[],""))))throw he.createError(j,"the next state '"+ve.next+"' is not defined in rule: "+te);Ce.next=ye}}return"number"==typeof ve.goBack&&(Ce.goBack=ve.goBack),"string"==typeof ve.switchTo&&(Ce.switchTo=ve.switchTo),"string"==typeof ve.log&&(Ce.log=ve.log),"string"==typeof ve.nextEmbedded&&(Ce.nextEmbedded=ve.nextEmbedded,j.usesEmbedded=!0),Ce}}if(Array.isArray(ve)){const he=[];for(let Ce=0,ye=ve.length;Ce<ye;Ce++)he[Ce]=t(j,te,ve[Ce]);return{group:he}}if(ve.cases){const he=[];for(let Ce in ve.cases)if(ve.cases.hasOwnProperty(Ce)){const ye=t(j,te,ve.cases[Ce]);"@default"===Ce||"@"===Ce||""===Ce?he.push({test:void 0,value:ye,name:Ce}):"@eos"===Ce?he.push({test:function(j,te,he,ve){return ve},value:ye,name:Ce}):he.push(g(j,te,Ce,ye))}const Ce=j.defaultToken;return{test:function(j,te,ve,ye){for(const Ce of he)if(!Ce.test||Ce.test(j,te,ve,ye))return Ce.value;return Ce}}}throw he.createError(j,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+te)}return{token:""}}Object.defineProperty(te,"__esModule",{value:!0}),te.compile=void 0;class i{constructor(j){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=j}setRegex(j,te){let ve;if("string"==typeof te)ve=te;else{if(!(te instanceof RegExp))throw he.createError(j,"rules must start with a match string or regular expression: "+this.name);ve=te.source}this.matchOnlyAtLineStart=ve.length>0&&"^"===ve[0],this.name=this.name+": "+ve,this.regex=p(j,"^(?:"+(this.matchOnlyAtLineStart?ve.substr(1):ve)+")")}setAction(j,te){this.action=t(j,this.name,te)}}te.compile=function n(j,te){if(!te||"object"!=typeof te)throw new Error("Monarch: expecting a language definition object");const ve={};ve.languageId=j,ve.includeLF=D(te.includeLF,!1),ve.noThrow=!1,ve.maxStack=100,ve.start="string"==typeof te.start?te.start:null,ve.ignoreCase=D(te.ignoreCase,!1),ve.unicode=D(te.unicode,!1),ve.tokenPostfix=I(te.tokenPostfix,"."+ve.languageId),ve.defaultToken=I(te.defaultToken,"source"),ve.usesEmbedded=!1;const Ce=te;function o(j,ye,Ee){for(const Ie of Ee){let Ee=Ie.include;if(Ee){if("string"!=typeof Ee)throw he.createError(ve,"an 'include' attribute must be a string at: "+j);if("@"===Ee[0]&&(Ee=Ee.substr(1)),!te.tokenizer[Ee])throw he.createError(ve,"include target '"+Ee+"' is not defined at: "+j);o(j+"."+Ee,ye,te.tokenizer[Ee])}else{const te=new i(j);if(Array.isArray(Ie)&&Ie.length>=1&&Ie.length<=3)if(te.setRegex(Ce,Ie[0]),Ie.length>=3)if("string"==typeof Ie[1])te.setAction(Ce,{token:Ie[1],next:Ie[2]});else{if("object"!=typeof Ie[1])throw he.createError(ve,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+j);{const j=Ie[1];j.next=Ie[2],te.setAction(Ce,j)}}else te.setAction(Ce,Ie[1]);else{if(!Ie.regex)throw he.createError(ve,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+j);Ie.name&&"string"==typeof Ie.name&&(te.name=Ie.name),Ie.matchOnlyAtStart&&(te.matchOnlyAtLineStart=D(Ie.matchOnlyAtLineStart,!1)),te.setRegex(Ce,Ie.regex),te.setAction(Ce,Ie.action)}ye.push(te)}}}if(Ce.languageId=j,Ce.includeLF=ve.includeLF,Ce.ignoreCase=ve.ignoreCase,Ce.unicode=ve.unicode,Ce.noThrow=ve.noThrow,Ce.usesEmbedded=ve.usesEmbedded,Ce.stateNames=te.tokenizer,Ce.defaultToken=ve.defaultToken,!te.tokenizer||"object"!=typeof te.tokenizer)throw he.createError(ve,"a language definition must define the 'tokenizer' attribute as an object");ve.tokenizer=[];for(let j in te.tokenizer)if(te.tokenizer.hasOwnProperty(j)){ve.start||(ve.start=j);const he=te.tokenizer[j];ve.tokenizer[j]=new Array,o("tokenizer."+j,ve.tokenizer[j],he)}if(ve.usesEmbedded=Ce.usesEmbedded,te.brackets){if(!Array.isArray(te.brackets))throw he.createError(ve,"the 'brackets' attribute must be defined as an array")}else te.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const ye=[];for(let j of te.brackets){let te=j;if(te&&Array.isArray(te)&&3===te.length&&(te={token:te[2],open:te[0],close:te[1]}),te.open===te.close)throw he.createError(ve,"open and close brackets in a 'brackets' attribute must be different: "+te.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof te.open||"string"!=typeof te.token||"string"!=typeof te.close)throw he.createError(ve,"every element in the 'brackets' array must be a '{open,close,token}' object or array");ye.push({token:te.token+ve.tokenPostfix,open:he.fixCase(ve,te.open),close:he.fixCase(ve,te.close)})}return ve.brackets=ye,ve.noThrow=!0,ve}})),define(Ce[263],ie([1,0,18,121,262]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.MonarchTokenizer=void 0;class w{constructor(j){this._maxCacheDepth=j,this._entries=Object.create(null)}static create(j,te){return this._INSTANCE.create(j,te)}create(j,te){if(null!==j&&j.depth>=this._maxCacheDepth)return new b(j,te);let he=b.getStackElementId(j);he.length>0&&(he+="|"),he+=te;let ve=this._entries[he];return ve||(ve=new b(j,te),this._entries[he]=ve,ve)}}w._INSTANCE=new w(5);class b{constructor(j,te){this.parent=j,this.state=te,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(j){let te="";for(;null!==j;)te.length>0&&(te+="|"),te+=j.state,j=j.parent;return te}static _equals(j,te){for(;null!==j&&null!==te;){if(j===te)return!0;if(j.state!==te.state)return!1;j=j.parent,te=te.parent}return null===j&&null===te}equals(j){return b._equals(this,j)}push(j){return w.create(this,j)}pop(){return this.parent}popall(){let j=this;for(;j.parent;)j=j.parent;return j}switchTo(j){return w.create(this.parent,j)}}class p{constructor(j,te){this.languageId=j,this.state=te}equals(j){return this.languageId===j.languageId&&this.state.equals(j.state)}clone(){return this.state.clone()===this.state?this:new p(this.languageId,this.state)}}class h{constructor(j){this._maxCacheDepth=j,this._entries=Object.create(null)}static create(j,te){return this._INSTANCE.create(j,te)}create(j,te){if(null!==te)return new g(j,te);if(null!==j&&j.depth>=this._maxCacheDepth)return new g(j,te);const he=b.getStackElementId(j);let ve=this._entries[he];return ve||(ve=new g(j,null),this._entries[he]=ve,ve)}}h._INSTANCE=new h(5);class g{constructor(j,te){this.stack=j,this.embeddedLanguageData=te}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:h.create(this.stack,this.embeddedLanguageData)}equals(j){return!!(j instanceof g&&this.stack.equals(j.stack))&&(null===this.embeddedLanguageData&&null===j.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==j.embeddedLanguageData&&this.embeddedLanguageData.equals(j.embeddedLanguageData))}}class t{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(j){this._languageId=j}emit(j,te){this._lastTokenType===te&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=te,this._lastTokenLanguage=this._languageId,this._tokens.push(new he.Token(j,te,this._languageId)))}nestedLanguageTokenize(j,te,ve,Ce){const ye=ve.languageId,Ee=ve.state,Ie=he.TokenizationRegistry.get(ye);if(!Ie)return this.enterLanguage(ye),this.emit(Ce,""),Ee;const Ne=Ie.tokenize(j,te,Ee);if(0!==Ce)for(const j of Ne.tokens)this._tokens.push(new he.Token(j.offset+Ce,j.type,j.language));else this._tokens=this._tokens.concat(Ne.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,Ne.endState}finalize(j){return new he.TokenizationResult(this._tokens,j)}}class i{constructor(j,te){this._languageService=j,this._theme=te,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(j){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(j)}emit(j,te){const he=this._theme.match(this._currentLanguageId,te);this._lastTokenMetadata!==he&&(this._lastTokenMetadata=he,this._tokens.push(j),this._tokens.push(he))}static _merge(j,te,he){const ve=null!==j?j.length:0,Ce=te.length,ye=null!==he?he.length:0;if(0===ve&&0===Ce&&0===ye)return new Uint32Array(0);if(0===ve&&0===Ce)return he;if(0===Ce&&0===ye)return j;const Ee=new Uint32Array(ve+Ce+ye);null!==j&&Ee.set(j);for(let j=0;j<Ce;j++)Ee[ve+j]=te[j];return null!==he&&Ee.set(he,ve+Ce),Ee}nestedLanguageTokenize(j,te,ve,Ce){const ye=ve.languageId,Ee=ve.state,Ie=he.TokenizationRegistry.get(ye);if(!Ie)return this.enterLanguage(ye),this.emit(Ce,""),Ee;const Ne=Ie.tokenizeEncoded(j,te,Ee);if(0!==Ce)for(let j=0,te=Ne.tokens.length;j<te;j+=2)Ne.tokens[j]+=Ce;return this._prependTokens=i._merge(this._prependTokens,this._tokens,Ne.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,Ne.endState}finalize(j){return new he.EncodedTokenizationResult(i._merge(this._prependTokens,this._tokens,null),j)}}class n{constructor(j,te,ve,Ce){this._languageService=j,this._standaloneThemeService=te,this._languageId=ve,this._lexer=Ce,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let ye=!1;this._tokenizationRegistryListener=he.TokenizationRegistry.onDidChange((j=>{if(ye)return;let te=!1;for(let he=0,ve=j.changedLanguages.length;he<ve;he++){const ve=j.changedLanguages[he];if(this._embeddedLanguages[ve]){te=!0;break}}te&&(ye=!0,he.TokenizationRegistry.fire([this._languageId]),ye=!1)}))}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const j=[];for(let te in this._embeddedLanguages){const ve=he.TokenizationRegistry.get(te);if(ve){if(ve instanceof n){const te=ve.getLoadStatus();!1===te.loaded&&j.push(te.promise)}}else he.TokenizationRegistry.isResolved(te)||j.push(he.TokenizationRegistry.getOrCreate(te))}return 0===j.length?{loaded:!0}:{loaded:!1,promise:Promise.all(j).then((j=>{}))}}getInitialState(){const j=w.create(null,this._lexer.start);return h.create(j,null)}tokenize(j,te,he){const ve=new t,Ce=this._tokenize(j,te,he,ve);return ve.finalize(Ce)}tokenizeEncoded(j,te,he){const ve=new i(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),Ce=this._tokenize(j,te,he,ve);return ve.finalize(Ce)}_tokenize(j,te,he,ve){return he.embeddedLanguageData?this._nestedTokenize(j,te,he,0,ve):this._myTokenize(j,te,he,0,ve)}_findLeavingNestedLanguageOffset(j,te){let he=this._lexer.tokenizer[te.stack.state];if(!he&&(he=Ce.findRules(this._lexer,te.stack.state),!he))throw Ce.createError(this._lexer,"tokenizer state is not defined: "+te.stack.state);let ve=-1,ye=!1;for(const te of he){if(!Ce.isIAction(te.action)||"@pop"!==te.action.nextEmbedded)continue;ye=!0;let he=te.regex;const Ee=te.regex.source;if("^(?:"===Ee.substr(0,4)&&")"===Ee.substr(Ee.length-1,1)){const j=(he.ignoreCase?"i":"")+(he.unicode?"u":"");he=new RegExp(Ee.substr(4,Ee.length-5),j)}const Ie=j.search(he);-1===Ie||0!==Ie&&te.matchOnlyAtLineStart||(-1===ve||Ie<ve)&&(ve=Ie)}if(!ye)throw Ce.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+te.stack.state);return ve}_nestedTokenize(j,te,he,ve,Ce){const ye=this._findLeavingNestedLanguageOffset(j,he);if(-1===ye){const ye=Ce.nestedLanguageTokenize(j,te,he.embeddedLanguageData,ve);return h.create(he.stack,new p(he.embeddedLanguageData.languageId,ye))}const Ee=j.substring(0,ye);Ee.length>0&&Ce.nestedLanguageTokenize(Ee,!1,he.embeddedLanguageData,ve);const Ie=j.substring(ye);return this._myTokenize(Ie,te,he,ve+ye,Ce)}_safeRuleName(j){return j?j.name:"(unknown)"}_myTokenize(j,te,he,ve,ye){ye.enterLanguage(this._languageId);const Ee=j.length,Ie=te&&this._lexer.includeLF?j+"\n":j,Ne=Ie.length;let Oe=he.embeddedLanguageData,Ke=he.stack,je=0,Ze=null,Ye=!0;for(;Ye||je<Ne;){const he=je,et=Ke.depth,nt=Ze?Ze.groups.length:0,rt=Ke.state;let at=null,ct=null,ht=null,mt=null,pt=null;if(Ze){at=Ze.matches;const j=Ze.groups.shift();ct=j.matched,ht=j.action,mt=Ze.rule,0===Ze.groups.length&&(Ze=null)}else{if(!Ye&&je>=Ne)break;Ye=!1;let j=this._lexer.tokenizer[rt];if(!j&&(j=Ce.findRules(this._lexer,rt),!j))throw Ce.createError(this._lexer,"tokenizer state is not defined: "+rt);let te=Ie.substr(je);for(const he of j)if((0===je||!he.matchOnlyAtLineStart)&&(at=te.match(he.regex),at)){ct=at[0],ht=he.action;break}}if(at||(at=[""],ct=""),ht||(je<Ne&&(at=[Ie.charAt(je)],ct=at[0]),ht=this._lexer.defaultToken),null===ct)break;for(je+=ct.length;Ce.isFuzzyAction(ht)&&Ce.isIAction(ht)&&ht.test;)ht=ht.test(ct,at,rt,je===Ne);let ft=null;if("string"==typeof ht||Array.isArray(ht))ft=ht;else if(ht.group)ft=ht.group;else if(null!==ht.token&&void 0!==ht.token){if(ft=ht.tokenSubst?Ce.substituteMatches(this._lexer,ht.token,ct,at,rt):ht.token,ht.nextEmbedded)if("@pop"===ht.nextEmbedded){if(!Oe)throw Ce.createError(this._lexer,"cannot pop embedded language if not inside one");Oe=null}else{if(Oe)throw Ce.createError(this._lexer,"cannot enter embedded language from within an embedded language");pt=Ce.substituteMatches(this._lexer,ht.nextEmbedded,ct,at,rt)}if(ht.goBack&&(je=Math.max(0,je-ht.goBack)),ht.switchTo&&"string"==typeof ht.switchTo){let j=Ce.substituteMatches(this._lexer,ht.switchTo,ct,at,rt);if("@"===j[0]&&(j=j.substr(1)),!Ce.findRules(this._lexer,j))throw Ce.createError(this._lexer,"trying to switch to a state '"+j+"' that is undefined in rule: "+this._safeRuleName(mt));Ke=Ke.switchTo(j)}else{if(ht.transform&&"function"==typeof ht.transform)throw Ce.createError(this._lexer,"action.transform not supported");if(ht.next)if("@push"===ht.next){if(Ke.depth>=this._lexer.maxStack)throw Ce.createError(this._lexer,"maximum tokenizer stack size reached: ["+Ke.state+","+Ke.parent.state+",...]");Ke=Ke.push(rt)}else if("@pop"===ht.next){if(Ke.depth<=1)throw Ce.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(mt));Ke=Ke.pop()}else if("@popall"===ht.next)Ke=Ke.popall();else{let j=Ce.substituteMatches(this._lexer,ht.next,ct,at,rt);if("@"===j[0]&&(j=j.substr(1)),!Ce.findRules(this._lexer,j))throw Ce.createError(this._lexer,"trying to set a next state '"+j+"' that is undefined in rule: "+this._safeRuleName(mt));Ke=Ke.push(j)}}ht.log&&"string"==typeof ht.log&&Ce.log(this._lexer,this._lexer.languageId+": "+Ce.substituteMatches(this._lexer,ht.log,ct,at,rt))}if(null===ft)throw Ce.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(mt));const A=he=>{const Ce=this._languageService.getLanguageIdByLanguageName(he)||this._languageService.getLanguageIdByMimeType(he)||he,Ee=this._getNestedEmbeddedLanguageData(Ce);if(je<Ne){const he=j.substr(je);return this._nestedTokenize(he,te,h.create(Ke,Ee),ve+je,ye)}return h.create(Ke,Ee)};if(Array.isArray(ft)){if(Ze&&Ze.groups.length>0)throw Ce.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(mt));if(at.length!==ft.length+1)throw Ce.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(mt));let j=0;for(let te=1;te<at.length;te++)j+=at[te].length;if(j!==ct.length)throw Ce.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(mt));Ze={rule:mt,matches:at,groups:[]};for(let j=0;j<ft.length;j++)Ze.groups[j]={action:ft[j],matched:at[j+1]};je-=ct.length}else{{if("@rematch"===ft&&(je-=ct.length,ct="",at=null,ft="",null!==pt))return A(pt);if(0===ct.length){if(0===Ne||et!==Ke.depth||rt!==Ke.state||(Ze?Ze.groups.length:0)!==nt)continue;throw Ce.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(mt))}let j=null;if(Ce.isString(ft)&&0===ft.indexOf("@brackets")){const te=ft.substr(9),he=l(this._lexer,ct);if(!he)throw Ce.createError(this._lexer,"@brackets token returned but no bracket defined as: "+ct);j=Ce.sanitize(he.token+te)}else{const te=""===ft?"":ft+this._lexer.tokenPostfix;j=Ce.sanitize(te)}he<Ee&&ye.emit(he+ve,j)}if(null!==pt)return A(pt)}}return h.create(Ke,Oe)}_getNestedEmbeddedLanguageData(j){if(!this._languageService.isRegisteredLanguageId(j))return new p(j,ve.NullState);j!==this._languageId&&(he.TokenizationRegistry.getOrCreate(j),this._embeddedLanguages[j]=!0);const te=he.TokenizationRegistry.get(j);return new p(j,te?te.getInitialState():ve.NullState)}}function l(j,te){if(!te)return null;te=Ce.fixCase(j,te);const he=j.brackets;for(const j of he){if(j.open===te)return{token:j.token,bracketType:1};if(j.close===te)return{token:j.token,bracketType:-1}}return null}te.MonarchTokenizer=n})),define(Ce[470],ie([1,0,8,75,18,122,69,263]),(function(j,te,he,ve,Ce,ye,Ee,Ie){var Ne;Object.defineProperty(te,"__esModule",{value:!0}),te.Colorizer=void 0;const Oe=null===(Ne=window.trustedTypes)||void 0===Ne?void 0:Ne.createPolicy("standaloneColorizer",{createHTML:j=>j});function i(j,te,he){let Ce=[];const Ie=new Uint32Array(2);Ie[0]=0,Ie[1]=16793600;for(let Ne=0,Oe=j.length;Ne<Oe;Ne++){const Oe=j[Ne];Ie[0]=Oe.length;const Ke=new ve.LineTokens(Ie,Oe,he),je=Ee.ViewLineRenderingData.isBasicASCII(Oe,!0),Ze=Ee.ViewLineRenderingData.containsRTL(Oe,je,!0),Ye=(0,ye.renderViewLine2)(new ye.RenderLineInput(!1,!0,Oe,!1,je,Ze,0,Ke,[],te,0,0,0,0,-1,"none",!1,!1,null));Ce=Ce.concat(Ye.html),Ce.push("<br/>")}return Ce.join("")}te.Colorizer=class g{static colorizeElement(j,te,he,ve){const Ce=(ve=ve||{}).theme||"vs",ye=ve.mimeType||he.getAttribute("lang")||he.getAttribute("data-lang");if(!ye)return console.error("Mode not detected"),Promise.resolve();const Ee=te.getLanguageIdByMimeType(ye)||ye;j.setTheme(Ce);const Ie=he.firstChild?he.firstChild.nodeValue:"";he.className+=" "+Ce;return this.colorize(te,Ie||"",Ee,ve).then((j=>{var te;const ve=null!==(te=null==Oe?void 0:Oe.createHTML(j))&&void 0!==te?te:j;he.innerHTML=ve}),(j=>console.error(j)))}static colorize(j,te,Ne,Oe){return fi(this,void 0,void 0,(function*(){const Ke=j.languageIdCodec;let je=4;Oe&&"number"==typeof Oe.tabSize&&(je=Oe.tabSize),he.startsWithUTF8BOM(te)&&(te=te.substr(1));const Ze=he.splitLines(te);if(!j.isRegisteredLanguageId(Ne))return i(Ze,je,Ke);const Ye=yield Ce.TokenizationRegistry.getOrCreate(Ne);return Ye?function t(j,te,he,Ce){return new Promise(((Ne,Oe)=>{const d=()=>{const Ke=function n(j,te,he,Ce){let Ie=[],Ne=he.getInitialState();for(let Oe=0,Ke=j.length;Oe<Ke;Oe++){const Ke=j[Oe],je=he.tokenizeEncoded(Ke,!0,Ne);ve.LineTokens.convertToEndOffset(je.tokens,Ke.length);const Ze=new ve.LineTokens(je.tokens,Ke,Ce),Ye=Ee.ViewLineRenderingData.isBasicASCII(Ke,!0),et=Ee.ViewLineRenderingData.containsRTL(Ke,Ye,!0),nt=(0,ye.renderViewLine2)(new ye.RenderLineInput(!1,!0,Ke,!1,Ye,et,0,Ze.inflate(),[],te,0,0,0,0,-1,"none",!1,!1,null));Ie=Ie.concat(nt.html),Ie.push("<br/>"),Ne=je.endState}return Ie.join("")}(j,te,he,Ce);if(he instanceof Ie.MonarchTokenizer){const j=he.getLoadStatus();if(!1===j.loaded)return void j.promise.then(d,Oe)}Ne(Ke)};d()}))}(Ze,je,Ye,Ke):i(Ze,je,Ke)}))}static colorizeLine(j,te,he,ve,Ce=4){const Ie=Ee.ViewLineRenderingData.isBasicASCII(j,te),Ne=Ee.ViewLineRenderingData.containsRTL(j,Ie,he);return(0,ye.renderViewLine2)(new ye.RenderLineInput(!1,!0,j,!1,Ie,Ne,0,ve,[],Ce,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(j,te,he=4){const ve=j.getLineContent(te);j.forceTokenization(te);const Ce=j.getLineTokens(te).inflate();return this.colorizeLine(ve,j.mightContainNonBasicASCII(),j.mightContainRTL(),Ce,he)}}})),define(Ce[471],ie([5,6]),(function(j,te){return j.create("vs/base/browser/ui/actionbar/actionViewItems",te)})),define(Ce[472],ie([5,6]),(function(j,te){return j.create("vs/base/browser/ui/findinput/findInput",te)})),define(Ce[473],ie([5,6]),(function(j,te){return j.create("vs/base/browser/ui/findinput/findInputCheckboxes",te)})),define(Ce[264],ie([1,0,172,27,473]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.RegexCheckbox=te.WholeWordsCheckbox=te.CaseSensitiveCheckbox=void 0;const ye=Ce.localize(0,null),Ee=Ce.localize(1,null),Ie=Ce.localize(2,null);class p extends he.Checkbox{constructor(j){super({icon:ve.Codicon.caseSensitive,title:ye+j.appendTitle,isChecked:j.isChecked,inputActiveOptionBorder:j.inputActiveOptionBorder,inputActiveOptionForeground:j.inputActiveOptionForeground,inputActiveOptionBackground:j.inputActiveOptionBackground})}}te.CaseSensitiveCheckbox=p;class h extends he.Checkbox{constructor(j){super({icon:ve.Codicon.wholeWord,title:Ee+j.appendTitle,isChecked:j.isChecked,inputActiveOptionBorder:j.inputActiveOptionBorder,inputActiveOptionForeground:j.inputActiveOptionForeground,inputActiveOptionBackground:j.inputActiveOptionBackground})}}te.WholeWordsCheckbox=h;class g extends he.Checkbox{constructor(j){super({icon:ve.Codicon.regex,title:Ie+j.appendTitle,isChecked:j.isChecked,inputActiveOptionBorder:j.inputActiveOptionBorder,inputActiveOptionForeground:j.inputActiveOptionForeground,inputActiveOptionBackground:j.inputActiveOptionBackground})}}te.RegexCheckbox=g})),define(Ce[474],ie([5,6]),(function(j,te){return j.create("vs/base/browser/ui/findinput/replaceInput",te)})),define(Ce[475],ie([5,6]),(function(j,te){return j.create("vs/base/browser/ui/iconLabel/iconLabelHover",te)})),define(Ce[476],ie([1,0,7,10,21,66,95,2,20,475]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.setupCustomHover=te.setupNativeHover=void 0,te.setupNativeHover=function g(j,te){(0,Ne.isString)(te)?j.title=(0,Ee.stripIcons)(te):(null==te?void 0:te.markdownNotSupportedFallback)?j.title=te.markdownNotSupportedFallback:j.removeAttribute("title")};class t{constructor(j,te,he){this.hoverDelegate=j,this.target=te,this.fadeInAnimation=he}update(j,te){var he;return fi(this,void 0,void 0,(function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let ve;if(void 0===j||(0,Ne.isString)(j)||j instanceof HTMLElement)ve=j;else if((0,Ne.isFunction)(j.markdown)){this._hoverWidget||this.show((0,Oe.localize)(0,null),te),this._cancellationTokenSource=new Ce.CancellationTokenSource;const he=this._cancellationTokenSource.token;if(ve=yield j.markdown(he),this.isDisposed||he.isCancellationRequested)return}else ve=null!==(he=j.markdown)&&void 0!==he?he:j.markdownNotSupportedFallback;this.show(ve,te)}))}show(j,te){const he=this._hoverWidget;if(this.hasContent(j)){const ve={content:j,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!he};this._hoverWidget=this.hoverDelegate.showHover(ve,te)}null==he||he.dispose()}hasContent(j){return!!j&&(!(0,ye.isMarkdownString)(j)||!!j.value)}get isDisposed(){var j;return null===(j=this._hoverWidget)||void 0===j?void 0:j.isDisposed}dispose(){var j,te;null===(j=this._hoverWidget)||void 0===j||j.dispose(),null===(te=this._cancellationTokenSource)||void 0===te||te.dispose(!0),this._cancellationTokenSource=void 0}}te.setupCustomHover=function i(j,te,Ce){let ye,Ee;const o=(te,he)=>{var ve;te&&(null==Ee||Ee.dispose(),Ee=void 0),he&&(null==ye||ye.dispose(),ye=void 0),null===(ve=j.onDidHideHover)||void 0===ve||ve.call(j)},a=(he,ye,Ie)=>new ve.TimeoutTimer((()=>fi(this,void 0,void 0,(function*(){(!Ee||Ee.isDisposed)&&(Ee=new t(j,Ie||te,he>0),yield Ee.update(Ce,ye))}))),he),Ne=he.addDisposableListener(te,he.EventType.MOUSE_OVER,(()=>{if(ye)return;const ve=new Ie.DisposableStore;ve.add(he.addDisposableListener(te,he.EventType.MOUSE_LEAVE,(j=>o(!1,j.fromElement===te)),!0));ve.add(he.addDisposableListener(te,he.EventType.MOUSE_DOWN,(()=>o(!0,!0)),!0));const Ce={targetElements:[te],dispose:()=>{}};if(void 0===j.placement||"mouse"===j.placement){const L=j=>Ce.x=j.x+10;ve.add(he.addDisposableListener(te,he.EventType.MOUSE_MOVE,L,!0))}ve.add(a(j.delay,!1,Ce)),ye=ve}),!0);return{show:j=>{o(!1,!0),a(0,j)},hide:()=>{o(!0,!0)},update:j=>fi(this,void 0,void 0,(function*(){Ce=j,yield null==Ee?void 0:Ee.update(Ce)})),dispose:()=>{Ne.dispose(),o(!0,!0)}}}})),define(Ce[190],ie([1,0,7,217,476,2,39,136,337]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.IconLabel=void 0;class p{constructor(j){this._element=j}get element(){return this._element}set textContent(j){this.disposed||j===this._textContent||(this._textContent=j,this._element.textContent=j)}set className(j){this.disposed||j===this._className||(this._className=j,this._element.className=j)}set empty(j){this.disposed||j===this._empty||(this._empty=j,this._element.style.marginLeft=j?"0":"")}dispose(){this.disposed=!0}}class h extends ye.Disposable{constructor(j,te){super(),this.customHovers=new Map,this.domNode=this._register(new p(he.append(j,he.$(".monaco-icon-label")))),this.labelContainer=he.append(this.domNode.element,he.$(".monaco-icon-label-container"));const Ce=he.append(this.labelContainer,he.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new p(he.append(this.labelContainer,he.$("span.monaco-icon-description-container")))),(null==te?void 0:te.supportHighlights)||(null==te?void 0:te.supportIcons)?this.nameNode=new i(Ce,!!te.supportIcons):this.nameNode=new g(Ce),(null==te?void 0:te.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new ve.HighlightedLabel(he.append(this.descriptionContainer.element,he.$("span.label-description")),{supportIcons:!!te.supportIcons}):this.descriptionNodeFactory=()=>this._register(new p(he.append(this.descriptionContainer.element,he.$("span.label-description")))),this.hoverDelegate=null==te?void 0:te.hoverDelegate}get element(){return this.domNode.element}setLabel(j,te,he){const Ce=["monaco-icon-label"];he&&(he.extraClasses&&Ce.push(...he.extraClasses),he.italic&&Ce.push("italic"),he.strikethrough&&Ce.push("strikethrough")),this.domNode.className=Ce.join(" "),this.setupHover((null==he?void 0:he.descriptionTitle)?this.labelContainer:this.element,null==he?void 0:he.title),this.nameNode.setLabel(j,he),(te||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof ve.HighlightedLabel?(this.descriptionNode.set(te||"",he?he.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==he?void 0:he.descriptionTitle)):(this.descriptionNode.textContent=te||"",this.setupHover(this.descriptionNode.element,(null==he?void 0:he.descriptionTitle)||""),this.descriptionNode.empty=!te))}setupHover(j,te){const he=this.customHovers.get(j);if(he&&(he.dispose(),this.customHovers.delete(j)),te)if(this.hoverDelegate){const he=(0,Ce.setupCustomHover)(this.hoverDelegate,j,te);he&&this.customHovers.set(j,he)}else(0,Ce.setupNativeHover)(j,te);else j.removeAttribute("title")}dispose(){super.dispose();for(const j of this.customHovers.values())j.dispose();this.customHovers.clear()}}te.IconLabel=h;class g{constructor(j){this.container=j,this.label=void 0,this.singleLabel=void 0}setLabel(j,te){if(this.label!==j||!(0,Ee.equals)(this.options,te))if(this.label=j,this.options=te,"string"==typeof j)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=he.append(this.container,he.$("a.label-name",{id:null==te?void 0:te.domId}))),this.singleLabel.textContent=j;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let ve=0;ve<j.length;ve++){const Ce=j[ve],ye=(null==te?void 0:te.domId)&&`${null==te?void 0:te.domId}_${ve}`;he.append(this.container,he.$("a.label-name",{id:ye,"data-icon-label-count":j.length,"data-icon-label-index":ve,role:"treeitem"},Ce)),ve<j.length-1&&he.append(this.container,he.$("span.label-separator",void 0,(null==te?void 0:te.separator)||"/"))}}}}class i{constructor(j,te){this.container=j,this.supportIcons=te,this.label=void 0,this.singleLabel=void 0}setLabel(j,te){if(this.label!==j||!(0,Ee.equals)(this.options,te))if(this.label=j,this.options=te,"string"==typeof j)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new ve.HighlightedLabel(he.append(this.container,he.$("a.label-name",{id:null==te?void 0:te.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(j,null==te?void 0:te.matches,void 0,null==te?void 0:te.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const Ce=(null==te?void 0:te.separator)||"/",ye=function t(j,te,he){if(!he)return;let ve=0;return j.map((j=>{const Ce={start:ve,end:ve+j.length},ye=he.map((j=>Ie.Range.intersect(Ce,j))).filter((j=>!Ie.Range.isEmpty(j))).map((({start:j,end:te})=>({start:j-ve,end:te-ve})));return ve=Ce.end+te.length,ye}))}(j,Ce,null==te?void 0:te.matches);for(let Ee=0;Ee<j.length;Ee++){const Ie=j[Ee],Ne=ye?ye[Ee]:void 0,Oe=(null==te?void 0:te.domId)&&`${null==te?void 0:te.domId}_${Ee}`,Ke=he.$("a.label-name",{id:Oe,"data-icon-label-count":j.length,"data-icon-label-index":Ee,role:"treeitem"});new ve.HighlightedLabel(he.append(this.container,Ke),{supportIcons:this.supportIcons}).set(Ie,Ne,void 0,null==te?void 0:te.labelEscapeNewLines),Ee<j.length-1&&he.append(Ke,he.$("span.label-separator",void 0,Ce))}}}}})),define(Ce[477],ie([5,6]),(function(j,te){return j.create("vs/base/browser/ui/inputbox/inputBox",te)})),define(Ce[478],ie([5,6]),(function(j,te){return j.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",te)})),define(Ce[479],ie([5,6]),(function(j,te){return j.create("vs/base/browser/ui/tree/abstractTree",te)})),define(Ce[191],ie([1,0,164,7,89,46,173,115,167,109,19,10,27,214,4,73,2,111,17,479,349]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht){Object.defineProperty(te,"__esModule",{value:!0}),te.AbstractTree=te.RenderIndentGuides=te.ComposedTreeDelegate=void 0;class d extends Ee.ElementsDragAndDropData{constructor(j){super(j.elements.map((j=>j.element))),this.data=j}}function u(j){return j instanceof Ee.ElementsDragAndDropData?new d(j):j}class f{constructor(j,te){this.modelProvider=j,this.dnd=te,this.autoExpandDisposable=rt.Disposable.None}getDragURI(j){return this.dnd.getDragURI(j.element)}getDragLabel(j,te){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(j.map((j=>j.element)),te)}onDragStart(j,te){this.dnd.onDragStart&&this.dnd.onDragStart(u(j),te)}onDragOver(j,te,he,ve,Ce=!0){const ye=this.dnd.onDragOver(u(j),te&&te.element,he,ve),Ee=this.autoExpandNode!==te;if(Ee&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=te),void 0===te)return ye;if(Ee&&"boolean"!=typeof ye&&ye.autoExpand&&(this.autoExpandDisposable=(0,je.disposableTimeout)((()=>{const j=this.modelProvider(),he=j.getNodeLocation(te);j.isCollapsed(he)&&j.setCollapsed(he,!1),this.autoExpandNode=void 0}),500)),"boolean"==typeof ye||!ye.accept||void 0===ye.bubble||ye.feedback){if(!Ce){return{accept:"boolean"==typeof ye?ye:ye.accept,effect:"boolean"==typeof ye?void 0:ye.effect,feedback:[he]}}return ye}if(1===ye.bubble){const he=this.modelProvider(),Ce=he.getNodeLocation(te),ye=he.getParentNodeLocation(Ce),Ee=he.getNode(ye),Ie=ye&&he.getListIndex(ye);return this.onDragOver(j,Ee,Ie,ve,!1)}const Ie=this.modelProvider(),Ne=Ie.getNodeLocation(te),Oe=Ie.getListIndex(Ne),Ze=Ie.getListRenderCount(Ne);return Object.assign(Object.assign({},ye),{feedback:(0,Ke.range)(Oe,Oe+Ze)})}drop(j,te,he,ve){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(u(j),te&&te.element,he,ve)}onDragEnd(j){this.dnd.onDragEnd&&this.dnd.onDragEnd(j)}}class v{constructor(j){this.delegate=j}getHeight(j){return this.delegate.getHeight(j.element)}getTemplateId(j){return this.delegate.getTemplateId(j.element)}hasDynamicHeight(j){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(j.element)}setDynamicHeight(j,te){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(j.element,te)}}var mt,pt;te.ComposedTreeDelegate=v,(pt=mt=te.RenderIndentGuides||(te.RenderIndentGuides={})).None="none",pt.OnHover="onHover",pt.Always="always";class _{constructor(j,te=[]){this._elements=te,this.onDidChange=et.Event.forEach(j,(j=>this._elements=j))}get elements(){return this._elements}}class L{constructor(j,te,he,ve,Ce={}){this.renderer=j,this.modelProvider=te,this.activeNodes=ve,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=L.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new Ye.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=rt.Disposable.None,this.disposables=new rt.DisposableStore,this.templateId=j.templateId,this.updateOptions(Ce),et.Event.map(he,(j=>j.node))(this.onDidChangeNodeTwistieState,this,this.disposables),j.onDidChangeTwistieState&&j.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(j={}){if(void 0!==j.indent&&(this.indent=(0,at.clamp)(j.indent,0,40)),void 0!==j.renderIndentGuides){const te=j.renderIndentGuides!==mt.None;if(te!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=te,this.indentGuidesDisposable.dispose(),te)){const j=new rt.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,j),this.indentGuidesDisposable=j,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==j.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=j.hideTwistiesOfChildlessElements)}renderTemplate(j){const te=(0,ve.append)(j,(0,ve.$)(".monaco-tl-row")),he=(0,ve.append)(te,(0,ve.$)(".monaco-tl-indent")),Ce=(0,ve.append)(te,(0,ve.$)(".monaco-tl-twistie")),ye=(0,ve.append)(te,(0,ve.$)(".monaco-tl-contents")),Ee=this.renderer.renderTemplate(ye);return{container:j,indent:he,twistie:Ce,indentGuidesDisposable:rt.Disposable.None,templateData:Ee}}renderElement(j,te,he,ve){"number"==typeof ve&&(this.renderedNodes.set(j,{templateData:he,height:ve}),this.renderedElements.set(j.element,j));const Ce=L.DefaultIndent+(j.depth-1)*this.indent;he.twistie.style.paddingLeft=`${Ce}px`,he.indent.style.width=Ce+this.indent-16+"px",this.renderTwistie(j,he),"number"==typeof ve&&this.renderIndentGuides(j,he),this.renderer.renderElement(j,te,he.templateData,ve)}disposeElement(j,te,he,ve){he.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(j,te,he.templateData,ve),"number"==typeof ve&&(this.renderedNodes.delete(j),this.renderedElements.delete(j.element))}disposeTemplate(j){this.renderer.disposeTemplate(j.templateData)}onDidChangeTwistieState(j){const te=this.renderedElements.get(j);!te||this.onDidChangeNodeTwistieState(te)}onDidChangeNodeTwistieState(j){const te=this.renderedNodes.get(j);!te||(this.renderTwistie(j,te.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(j,te.templateData))}renderTwistie(j,te){te.twistie.classList.remove(...Ze.Codicon.treeItemExpanded.classNamesArray);let he=!1;this.renderer.renderTwistie&&(he=this.renderer.renderTwistie(j.element,te.twistie)),j.collapsible&&(!this.hideTwistiesOfChildlessElements||j.visibleChildrenCount>0)?(he||te.twistie.classList.add(...Ze.Codicon.treeItemExpanded.classNamesArray),te.twistie.classList.add("collapsible"),te.twistie.classList.toggle("collapsed",j.collapsed)):te.twistie.classList.remove("collapsible","collapsed"),j.collapsible?te.container.setAttribute("aria-expanded",String(!j.collapsed)):te.container.removeAttribute("aria-expanded")}renderIndentGuides(j,te){if((0,ve.clearNode)(te.indent),te.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const he=new rt.DisposableStore,Ce=this.modelProvider();let ye=j;for(;;){const j=Ce.getNodeLocation(ye),Ee=Ce.getParentNodeLocation(j);if(!Ee)break;const Ie=Ce.getNode(Ee),Ne=(0,ve.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Ie)&&Ne.classList.add("active"),0===te.indent.childElementCount?te.indent.appendChild(Ne):te.indent.insertBefore(Ne,te.indent.firstElementChild),this.renderedIndentGuides.add(Ie,Ne),he.add((0,rt.toDisposable)((()=>this.renderedIndentGuides.delete(Ie,Ne)))),ye=Ie}te.indentGuidesDisposable=he}_onDidChangeActiveNodes(j){if(!this.shouldRenderIndentGuides)return;const te=new Set,he=this.modelProvider();j.forEach((j=>{const ve=he.getNodeLocation(j);try{const Ce=he.getParentNodeLocation(ve);j.collapsible&&j.children.length>0&&!j.collapsed?te.add(j):Ce&&te.add(he.getNode(Ce))}catch{}})),this.activeIndentNodes.forEach((j=>{te.has(j)||this.renderedIndentGuides.forEach(j,(j=>j.classList.remove("active")))})),te.forEach((j=>{this.activeIndentNodes.has(j)||this.renderedIndentGuides.forEach(j,(j=>j.classList.add("active")))})),this.activeIndentNodes=te}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,rt.dispose)(this.disposables)}}L.DefaultIndent=8;class E{constructor(j,te,he){this.tree=j,this.keyboardNavigationLabelProvider=te,this._filter=he,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new rt.DisposableStore,j.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(j){this._pattern=j,this._lowercasePattern=j.toLowerCase()}filter(j,te){if(this._filter){const he=this._filter.filter(j,te);if(this.tree.options.simpleKeyboardNavigation)return he;let ve;if(ve="boolean"==typeof he?he?1:0:(0,Ne.isFilterResult)(he)?(0,Ne.getVisibleState)(he.visibility):he,0===ve)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:nt.FuzzyScore.Default,visibility:!0};const he=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(j),ve=Array.isArray(he)?he:[he];for(const j of ve){const te=j&&j.toString();if(void 0===te)return{data:nt.FuzzyScore.Default,visibility:!0};const he=(0,nt.fuzzyScore)(this._pattern,this._lowercasePattern,0,te,te.toLowerCase(),0,!0);if(he)return this._matchCount++,1===ve.length?{data:he,visibility:!0}:{data:{label:te,score:he},visibility:!0}}return this.tree.options.filterOnType?2:{data:nt.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,rt.dispose)(this.disposables)}}class N{constructor(j,te,he,Ce,ye){this.tree=j,this.view=he,this.filter=Ce,this.keyboardNavigationDelegate=ye,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new et.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new et.Emitter,this.enabledDisposables=new rt.DisposableStore,this.disposables=new rt.DisposableStore,this.domNode=(0,ve.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,ve.addDisposableListener)(this.domNode,"dragstart",(()=>this.onDragStart()))),this.messageDomNode=(0,ve.append)(he.getHTMLElement(),(0,ve.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,ve.append)(this.domNode,(0,ve.$)("span.label"));const Ee=(0,ve.append)(this.domNode,(0,ve.$)(".controls"));this._filterOnType=!!j.options.filterOnType,this.filterOnTypeDomNode=(0,ve.append)(Ee,(0,ve.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,ve.addDisposableListener)(this.filterOnTypeDomNode,"input",(()=>this.onDidChangeFilterOnType()))),this.clearDomNode=(0,ve.append)(Ee,(0,ve.$)("button.clear"+Ze.Codicon.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,ht.localize)(0,null),this.keyboardNavigationEventFilter=j.options.keyboardNavigationEventFilter,te.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(j.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(j){j.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==j.filterOnType&&(this._filterOnType=!!j.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==j.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=j.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const j=this.enabledDisposables.add(new Ce.DomEmitter(this.view.getHTMLElement(),"keydown")),te=et.Event.chain(j.event).filter((j=>!(0,Ie.isInputElement)(j.target)||j.target===this.filterOnTypeDomNode)).filter((j=>"Dead"!==j.key&&!/^Media/.test(j.key))).map((j=>new ye.StandardKeyboardEvent(j))).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter((()=>this.automaticKeyboardNavigation||this.triggered)).filter((j=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(j)&&!(18===j.keyCode||16===j.keyCode||15===j.keyCode||17===j.keyCode)||(this.pattern.length>0||this.triggered)&&(9===j.keyCode||1===j.keyCode)&&!j.altKey&&!j.ctrlKey&&!j.metaKey||1===j.keyCode&&(ct.isMacintosh?j.altKey&&!j.metaKey:j.ctrlKey)&&!j.shiftKey)).forEach((j=>{j.stopPropagation(),j.preventDefault()})).event,he=this.enabledDisposables.add(new Ce.DomEmitter(this.clearDomNode,"click"));et.Event.chain(et.Event.any(te,he.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(j){"string"==typeof j?this.onInput(j):j instanceof MouseEvent||9===j.keyCode||1===j.keyCode&&(ct.isMacintosh?j.altKey:j.ctrlKey)?this.onInput(""):1===j.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+j.browserEvent.key)}onInput(j){const te=this.view.getHTMLElement();j&&!this.domNode.parentElement?te.append(this.domNode):!j&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=j,this._onDidChangePattern.fire(j),this.filter.pattern=j,this.tree.refilter(),j&&this.tree.focusNext(0,!0,void 0,(j=>!nt.FuzzyScore.isDefault(j.filterData)));const he=this.tree.getFocus();if(he.length>0){const j=he[0];null===this.tree.getRelativeTop(j)&&this.tree.reveal(j,.5)}this.render(),j||(this.triggered=!1)}onDragStart(){const j=this.view.getHTMLElement(),{left:te}=(0,ve.getDomNodePagePosition)(j),Ce=j.clientWidth,ye=Ce/2,Ee=this.domNode.clientWidth,Ie=new rt.DisposableStore;let Ne=this.positionClassName;const re=()=>{switch(Ne){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=Ce-Ee-6+"px"}},oe=()=>{this.positionClassName=Ne,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,rt.dispose)(Ie)};re(),this.domNode.classList.remove(Ne),this.domNode.classList.add("dragging"),Ie.add((0,rt.toDisposable)((()=>this.domNode.classList.remove("dragging")))),Ie.add((0,ve.addDisposableListener)(document,"dragover",(j=>(j=>{j.preventDefault();const he=j.clientX-te;j.dataTransfer&&(j.dataTransfer.dropEffect="none"),Ne=he<ye?"nw":"ne",re()})(j)))),Ie.add((0,ve.addDisposableListener)(this.domNode,"dragend",(()=>oe()))),he.StaticDND.CurrentDragAndDropData=new he.DragAndDropData("vscode-ui"),Ie.add((0,rt.toDisposable)((()=>he.StaticDND.CurrentDragAndDropData=void 0)))}onDidSpliceModel(){!this._enabled||0===this.pattern.length||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...Ze.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...Ze.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,ht.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...Ze.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...Ze.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,ht.localize)(2,null))}render(){const j=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&j?(this.messageDomNode.textContent=(0,ht.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",j),this.domNode.title=(0,ht.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"…"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(j){return!(this.enabled&&this.pattern&&!this.filterOnType&&!(this.filter.totalCount>0&&this.filter.matchCount<=1))||!nt.FuzzyScore.isDefault(j.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,rt.dispose)(this.disposables)}}function k(j){let te=Oe.TreeMouseEventTarget.Unknown;return(0,ve.hasParentWithClass)(j.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?te=Oe.TreeMouseEventTarget.Twistie:(0,ve.hasParentWithClass)(j.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(te=Oe.TreeMouseEventTarget.Element),{browserEvent:j.browserEvent,element:j.element?j.element.element:null,target:te}}function M(j,te){te(j),j.children.forEach((j=>M(j,te)))}class O{constructor(j,te){this.getFirstViewElementWithTrait=j,this.identityProvider=te,this.nodes=[],this._onDidChange=new et.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(j,te){!(null==te?void 0:te.__forceEvent)&&(0,Ke.equals)(this.nodes,j)||this._set(j,!1,te)}_set(j,te,he){if(this.nodes=[...j],this.elements=void 0,this._nodeSet=void 0,!te){const j=this;this._onDidChange.fire({get elements(){return j.get()},browserEvent:he})}}get(){return this.elements||(this.elements=this.nodes.map((j=>j.element))),[...this.elements]}getNodes(){return this.nodes}has(j){return this.nodeSet.has(j)}onDidModelSplice({insertedNodes:j,deletedNodes:te}){if(!this.identityProvider){const j=this.createNodeSet(),ae=te=>j.delete(te);return te.forEach((j=>M(j,ae))),void this.set([...j.values()])}const he=new Set,H=j=>he.add(this.identityProvider.getId(j.element).toString());te.forEach((j=>M(j,H)));const ve=new Map,X=j=>ve.set(this.identityProvider.getId(j.element).toString(),j);j.forEach((j=>M(j,X)));const Ce=[];for(const j of this.nodes){const te=this.identityProvider.getId(j.element).toString();if(he.has(te)){const j=ve.get(te);j&&Ce.push(j)}else Ce.push(j)}if(this.nodes.length>0&&0===Ce.length){const j=this.getFirstViewElementWithTrait();j&&Ce.push(j)}this._set(Ce,!0)}createNodeSet(){const j=new Set;for(const te of this.nodes)j.add(te);return j}}class B extends Ie.MouseController{constructor(j,te){super(j),this.tree=te}onViewPointer(j){if((0,Ie.isInputElement)(j.browserEvent.target)||(0,Ie.isMonacoEditor)(j.browserEvent.target))return;const te=j.element;if(!te)return super.onViewPointer(j);if(this.isSelectionRangeChangeEvent(j)||this.isSelectionSingleChangeEvent(j))return super.onViewPointer(j);const he=j.browserEvent.target,ve=he.classList.contains("monaco-tl-twistie")||he.classList.contains("monaco-icon-label")&&he.classList.contains("folder-icon")&&j.browserEvent.offsetX<16;let Ce=!1;if(Ce="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(te.element):!!this.tree.expandOnlyOnTwistieClick,Ce&&!ve&&2!==j.browserEvent.detail)return super.onViewPointer(j);if(!this.tree.expandOnDoubleClick&&2===j.browserEvent.detail)return super.onViewPointer(j);if(te.collapsible){const he=this.tree.model,ye=he.getNodeLocation(te),Ee=j.browserEvent.altKey;if(this.tree.setFocus([ye]),he.setCollapsed(ye,void 0,Ee),Ce&&ve)return}super.onViewPointer(j)}onDoubleClick(j){j.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(j)}}class T extends Ie.List{constructor(j,te,he,ve,Ce,ye,Ee,Ie){super(j,te,he,ve,Ie),this.focusTrait=Ce,this.selectionTrait=ye,this.anchorTrait=Ee}createMouseController(j){return new B(this,j.tree)}splice(j,te,he=[]){if(super.splice(j,te,he),0===he.length)return;const ve=[],Ce=[];let ye;he.forEach(((te,he)=>{this.focusTrait.has(te)&&ve.push(j+he),this.selectionTrait.has(te)&&Ce.push(j+he),this.anchorTrait.has(te)&&(ye=j+he)})),ve.length>0&&super.setFocus((0,Ke.distinct)([...super.getFocus(),...ve])),Ce.length>0&&super.setSelection((0,Ke.distinct)([...super.getSelection(),...Ce])),"number"==typeof ye&&super.setAnchor(ye)}setFocus(j,te,he=!1){super.setFocus(j,te),he||this.focusTrait.set(j.map((j=>this.element(j))),te)}setSelection(j,te,he=!1){super.setSelection(j,te),he||this.selectionTrait.set(j.map((j=>this.element(j))),te)}setAnchor(j,te=!1){super.setAnchor(j),te||(void 0===j?this.anchorTrait.set([]):this.anchorTrait.set([this.element(j)]))}}te.AbstractTree=class R{constructor(j,te,he,Ce,Ee={}){this._user=j,this._options=Ee,this.eventBufferer=new et.EventBufferer,this.disposables=new rt.DisposableStore,this._onWillRefilter=new et.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new et.Emitter;const Ne=new v(he),Oe=new et.Relay,Ke=new et.Relay,je=new _(Ke.event);this.renderers=Ce.map((j=>new L(j,(()=>this.model),Oe.event,je,Ee)));for(let j of this.renderers)this.disposables.add(j);let Ze;Ee.keyboardNavigationLabelProvider&&(Ze=new E(this,Ee.keyboardNavigationLabelProvider,Ee.filter),Ee=Object.assign(Object.assign({},Ee),{filter:Ze}),this.disposables.add(Ze)),this.focus=new O((()=>this.view.getFocusedElements()[0]),Ee.identityProvider),this.selection=new O((()=>this.view.getSelectedElements()[0]),Ee.identityProvider),this.anchor=new O((()=>this.view.getAnchorElement()),Ee.identityProvider),this.view=new T(j,te,Ne,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},function S(j,te){return te&&Object.assign(Object.assign({},te),{identityProvider:te.identityProvider&&{getId:j=>te.identityProvider.getId(j.element)},dnd:te.dnd&&new f(j,te.dnd),multipleSelectionController:te.multipleSelectionController&&{isSelectionSingleChangeEvent:j=>te.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},j),{element:j.element})),isSelectionRangeChangeEvent:j=>te.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},j),{element:j.element}))},accessibilityProvider:te.accessibilityProvider&&Object.assign(Object.assign({},te.accessibilityProvider),{getSetSize(te){const he=j(),ve=he.getNodeLocation(te),Ce=he.getParentNodeLocation(ve);return he.getNode(Ce).visibleChildrenCount},getPosInSet:j=>j.visibleChildIndex+1,isChecked:te.accessibilityProvider&&te.accessibilityProvider.isChecked?j=>te.accessibilityProvider.isChecked(j.element):void 0,getRole:te.accessibilityProvider&&te.accessibilityProvider.getRole?j=>te.accessibilityProvider.getRole(j.element):()=>"treeitem",getAriaLabel:j=>te.accessibilityProvider.getAriaLabel(j.element),getWidgetAriaLabel:()=>te.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:te.accessibilityProvider&&te.accessibilityProvider.getWidgetRole?()=>te.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:te.accessibilityProvider&&te.accessibilityProvider.getAriaLevel?j=>te.accessibilityProvider.getAriaLevel(j.element):j=>j.depth,getActiveDescendantId:te.accessibilityProvider.getActiveDescendantId&&(j=>te.accessibilityProvider.getActiveDescendantId(j.element))}),keyboardNavigationLabelProvider:te.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},te.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:j=>te.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(j.element)}),enableKeyboardNavigation:te.simpleKeyboardNavigation})}((()=>this.model),Ee)),{tree:this})),this.model=this.createModel(j,this.view,Ee),Oe.input=this.model.onDidChangeCollapseState;const Ye=et.Event.forEach(this.model.onDidSplice,(j=>{this.eventBufferer.bufferEvents((()=>{this.focus.onDidModelSplice(j),this.selection.onDidModelSplice(j)}))}));if(Ye((()=>null),null,this.disposables),Ke.input=et.Event.chain(et.Event.any(Ye,this.focus.onDidChange,this.selection.onDidChange)).debounce((()=>null),0).map((()=>{const j=new Set;for(const te of this.focus.getNodes())j.add(te);for(const te of this.selection.getNodes())j.add(te);return[...j.values()]})).event,!1!==Ee.keyboardSupport){const j=et.Event.chain(this.view.onKeyDown).filter((j=>!(0,Ie.isInputElement)(j.target))).map((j=>new ye.StandardKeyboardEvent(j)));j.filter((j=>15===j.keyCode)).on(this.onLeftArrow,this,this.disposables),j.filter((j=>17===j.keyCode)).on(this.onRightArrow,this,this.disposables),j.filter((j=>10===j.keyCode)).on(this.onSpace,this,this.disposables)}if(Ee.keyboardNavigationLabelProvider){const j=Ee.keyboardNavigationDelegate||Ie.DefaultKeyboardNavigationDelegate;this.typeFilterController=new N(this,this.model,this.view,Ze,j),this.focusNavigationFilter=j=>this.typeFilterController.shouldAllowFocus(j),this.disposables.add(this.typeFilterController)}this.styleElement=(0,ve.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===mt.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return et.Event.map(this.view.onMouseDblClick,k)}get onPointer(){return et.Event.map(this.view.onPointer,k)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return et.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(j={}){this._options=Object.assign(Object.assign({},this._options),j);for(const te of this.renderers)te.updateOptions(j);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===mt.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(j){this.view.scrollTop=j}domFocus(){this.view.domFocus()}layout(j,te){this.view.layout(j,te)}style(j){const te=`.${this.view.domId}`,he=[];j.treeIndentGuidesStroke&&(he.push(`.monaco-list${te}:hover .monaco-tl-indent > .indent-guide, .monaco-list${te}.always .monaco-tl-indent > .indent-guide  { border-color: ${j.treeIndentGuidesStroke.transparent(.4)}; }`),he.push(`.monaco-list${te} .monaco-tl-indent > .indent-guide.active { border-color: ${j.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=he.join("\n"),this.view.style(j)}getParentElement(j){const te=this.model.getParentNodeLocation(j);return this.model.getNode(te).element}getFirstElementChild(j){return this.model.getFirstElementChild(j)}getNode(j){return this.model.getNode(j)}collapse(j,te=!1){return this.model.setCollapsed(j,!0,te)}expand(j,te=!1){return this.model.setCollapsed(j,!1,te)}isCollapsible(j){return this.model.isCollapsible(j)}setCollapsible(j,te){return this.model.setCollapsible(j,te)}isCollapsed(j){return this.model.isCollapsed(j)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(j,te){const he=j.map((j=>this.model.getNode(j)));this.selection.set(he,te);const ve=j.map((j=>this.model.getListIndex(j))).filter((j=>j>-1));this.view.setSelection(ve,te,!0)}getSelection(){return this.selection.get()}setFocus(j,te){const he=j.map((j=>this.model.getNode(j)));this.focus.set(he,te);const ve=j.map((j=>this.model.getListIndex(j))).filter((j=>j>-1));this.view.setFocus(ve,te,!0)}focusNext(j=1,te=!1,he,ve=this.focusNavigationFilter){this.view.focusNext(j,te,he,ve)}getFocus(){return this.focus.get()}reveal(j,te){this.model.expandTo(j);const he=this.model.getListIndex(j);-1!==he&&this.view.reveal(he,te)}getRelativeTop(j){const te=this.model.getListIndex(j);return-1===te?null:this.view.getRelativeTop(te)}onLeftArrow(j){j.preventDefault(),j.stopPropagation();const te=this.view.getFocusedElements();if(0===te.length)return;const he=te[0],ve=this.model.getNodeLocation(he);if(!this.model.setCollapsed(ve,!0)){const j=this.model.getParentNodeLocation(ve);if(!j)return;const te=this.model.getListIndex(j);this.view.reveal(te),this.view.setFocus([te])}}onRightArrow(j){j.preventDefault(),j.stopPropagation();const te=this.view.getFocusedElements();if(0===te.length)return;const he=te[0],ve=this.model.getNodeLocation(he);if(!this.model.setCollapsed(ve,!1)){if(!he.children.some((j=>j.visible)))return;const[j]=this.view.getFocus(),te=j+1;this.view.reveal(te),this.view.setFocus([te])}}onSpace(j){j.preventDefault(),j.stopPropagation();const te=this.view.getFocusedElements();if(0===te.length)return;const he=te[0],ve=this.model.getNodeLocation(he),Ce=j.browserEvent.altKey;this.model.setCollapsed(ve,void 0,Ce)}dispose(){(0,rt.dispose)(this.disposables),this.view.dispose()}}})),define(Ce[480],ie([1,0,191,168]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.DataTree=void 0;class D extends he.AbstractTree{constructor(j,te,he,ve,Ce,ye={}){super(j,te,he,ve,ye),this.user=j,this.dataSource=Ce,this.identityProvider=ye.identityProvider}createModel(j,te,he){return new ve.ObjectTreeModel(j,te,he)}}te.DataTree=D})),define(Ce[265],ie([1,0,191,318,168,93,54]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.CompressibleObjectTree=te.ObjectTree=void 0;class b extends he.AbstractTree{constructor(j,te,he,ve,Ce={}){super(j,te,he,ve,Ce),this.user=j}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(j,te=Ee.Iterable.empty(),he){this.model.setChildren(j,te,he)}rerender(j){void 0!==j?this.model.rerender(j):this.view.rerender()}hasElement(j){return this.model.has(j)}createModel(j,te,he){return new Ce.ObjectTreeModel(j,te,he)}}te.ObjectTree=b;class p{constructor(j,te){this._compressedTreeNodeProvider=j,this.renderer=te,this.templateId=te.templateId,te.onDidChangeTwistieState&&(this.onDidChangeTwistieState=te.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(j){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(j)}}renderElement(j,te,he,ve){const Ce=this.compressedTreeNodeProvider.getCompressedTreeNode(j.element);1===Ce.element.elements.length?(he.compressedTreeNode=void 0,this.renderer.renderElement(j,te,he.data,ve)):(he.compressedTreeNode=Ce,this.renderer.renderCompressedElements(Ce,te,he.data,ve))}disposeElement(j,te,he,ve){he.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(he.compressedTreeNode,te,he.data,ve):this.renderer.disposeElement&&this.renderer.disposeElement(j,te,he.data,ve)}disposeTemplate(j){this.renderer.disposeTemplate(j.data)}renderTwistie(j,te){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(j,te)}}Ci([ye.memoize],p.prototype,"compressedTreeNodeProvider",null);te.CompressibleObjectTree=class g extends b{constructor(j,te,he,ve,Ce={}){const s=()=>this;super(j,te,he,ve.map((j=>new p(s,j))),function h(j,te){return te&&Object.assign(Object.assign({},te),{keyboardNavigationLabelProvider:te.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(he){let ve;try{ve=j().getCompressedTreeNode(he)}catch{return te.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(he)}return 1===ve.element.elements.length?te.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(he):te.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(ve.element.elements)}}})}(s,Ce))}setChildren(j,te=Ee.Iterable.empty(),he){this.model.setChildren(j,te,he)}createModel(j,te,he){return new ve.CompressibleObjectTreeModel(j,te,he)}updateOptions(j={}){super.updateOptions(j),void 0!==j.compressionEnabled&&this.model.setCompressionEnabled(j.compressionEnabled)}getCompressedTreeNode(j=null){return this.model.getCompressedTreeNode(j)}}})),define(Ce[481],ie([1,0,173,191,167,265,109,10,27,13,4,54,2]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){function n(j){return Object.assign(Object.assign({},j),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function l(j,te){return!!te.parent&&(te.parent===j||l(j,te.parent))}Object.defineProperty(te,"__esModule",{value:!0}),te.CompressibleAsyncDataTree=te.AsyncDataTree=void 0;class r{constructor(j){this.node=j}get element(){return this.node.element.element}get children(){return this.node.children.map((j=>new r(j)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class s{constructor(j,te,he){this.renderer=j,this.nodeMapper=te,this.onDidChangeTwistieState=he,this.renderedNodes=new Map,this.templateId=j.templateId}renderTemplate(j){return{templateData:this.renderer.renderTemplate(j)}}renderElement(j,te,he,ve){this.renderer.renderElement(this.nodeMapper.map(j),te,he.templateData,ve)}renderTwistie(j,te){return j.slow?(te.classList.add(...Ne.Codicon.treeItemLoading.classNamesArray),!0):(te.classList.remove(...Ne.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(j,te,he,ve){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(j),te,he.templateData,ve)}disposeTemplate(j){this.renderer.disposeTemplate(j.templateData)}dispose(){this.renderedNodes.clear()}}function o(j){return{browserEvent:j.browserEvent,elements:j.elements.map((j=>j.element))}}function a(j){return{browserEvent:j.browserEvent,element:j.element&&j.element.element,target:j.target}}class d extends he.ElementsDragAndDropData{constructor(j){super(j.elements.map((j=>j.element))),this.data=j}}function u(j){return j instanceof he.ElementsDragAndDropData?new d(j):j}class f{constructor(j){this.dnd=j}getDragURI(j){return this.dnd.getDragURI(j.element)}getDragLabel(j,te){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(j.map((j=>j.element)),te)}onDragStart(j,te){this.dnd.onDragStart&&this.dnd.onDragStart(u(j),te)}onDragOver(j,te,he,ve,Ce=!0){return this.dnd.onDragOver(u(j),te&&te.element,he,ve)}drop(j,te,he,ve){this.dnd.drop(u(j),te&&te.element,he,ve)}onDragEnd(j){this.dnd.onDragEnd&&this.dnd.onDragEnd(j)}}function S(j){return j&&Object.assign(Object.assign({},j),{collapseByDefault:!0,identityProvider:j.identityProvider&&{getId:te=>j.identityProvider.getId(te.element)},dnd:j.dnd&&new f(j.dnd),multipleSelectionController:j.multipleSelectionController&&{isSelectionSingleChangeEvent:te=>j.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},te),{element:te.element})),isSelectionRangeChangeEvent:te=>j.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},te),{element:te.element}))},accessibilityProvider:j.accessibilityProvider&&Object.assign(Object.assign({},j.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:j.accessibilityProvider.getRole?te=>j.accessibilityProvider.getRole(te.element):()=>"treeitem",isChecked:j.accessibilityProvider.isChecked?te=>{var he;return!!(null===(he=j.accessibilityProvider)||void 0===he?void 0:he.isChecked(te.element))}:void 0,getAriaLabel:te=>j.accessibilityProvider.getAriaLabel(te.element),getWidgetAriaLabel:()=>j.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:j.accessibilityProvider.getWidgetRole?()=>j.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:j.accessibilityProvider.getAriaLevel&&(te=>j.accessibilityProvider.getAriaLevel(te.element)),getActiveDescendantId:j.accessibilityProvider.getActiveDescendantId&&(te=>j.accessibilityProvider.getActiveDescendantId(te.element))}),filter:j.filter&&{filter:(te,he)=>j.filter.filter(te.element,he)},keyboardNavigationLabelProvider:j.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},j.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:te=>j.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(te.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===j.expandOnlyOnTwistieClick?void 0:"function"!=typeof j.expandOnlyOnTwistieClick?j.expandOnlyOnTwistieClick:te=>j.expandOnlyOnTwistieClick(te.element),additionalScrollHeight:j.additionalScrollHeight})}function v(j,te){te(j),j.children.forEach((j=>v(j,te)))}class C{constructor(j,te,he,ve,Ce,ye={}){this.user=j,this.dataSource=Ce,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new Ke.Emitter,this._onDidChangeNodeSlowState=new Ke.Emitter,this.nodeMapper=new Ee.WeakMapper((j=>new r(j))),this.disposables=new Ze.DisposableStore,this.identityProvider=ye.identityProvider,this.autoExpandSingleChildren=void 0!==ye.autoExpandSingleChildren&&ye.autoExpandSingleChildren,this.sorter=ye.sorter,this.collapseByDefault=ye.collapseByDefault,this.tree=this.createTree(j,te,he,ve,ye),this.root=n({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return Ke.Event.map(this.tree.onDidChangeFocus,o)}get onDidChangeSelection(){return Ke.Event.map(this.tree.onDidChangeSelection,o)}get onMouseDblClick(){return Ke.Event.map(this.tree.onMouseDblClick,a)}get onPointer(){return Ke.Event.map(this.tree.onPointer,a)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(j,te,he,Ce,Ee){const Ie=new ve.ComposedTreeDelegate(he),Ne=Ce.map((j=>new s(j,this.nodeMapper,this._onDidChangeNodeSlowState.event))),Oe=S(Ee)||{};return new ye.ObjectTree(j,te,Ie,Ne,Oe)}updateOptions(j={}){this.tree.updateOptions(j)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(j){this.tree.scrollTop=j}domFocus(){this.tree.domFocus()}layout(j,te){this.tree.layout(j,te)}style(j){this.tree.style(j)}getInput(){return this.root.element}setInput(j,te){return fi(this,void 0,void 0,(function*(){this.refreshPromises.forEach((j=>j.cancel())),this.refreshPromises.clear(),this.root.element=j;const he=te&&{viewState:te,focus:[],selection:[]};yield this._updateChildren(j,!0,!1,he),he&&(this.tree.setFocus(he.focus),this.tree.setSelection(he.selection)),te&&"number"==typeof te.scrollTop&&(this.scrollTop=te.scrollTop)}))}_updateChildren(j=this.root.element,te=!0,he=!1,ve,Ce){return fi(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new Ee.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Ke.Event.toPromise(this._onDidRender.event));const ye=this.getDataNode(j);if(yield this.refreshAndRenderNode(ye,te,ve,Ce),he)try{this.tree.rerender(ye)}catch{}}))}rerender(j){if(void 0===j||j===this.root.element)return void this.tree.rerender();const te=this.getDataNode(j);this.tree.rerender(te)}getNode(j=this.root.element){const te=this.getDataNode(j),he=this.tree.getNode(te===this.root?null:te);return this.nodeMapper.map(he)}collapse(j,te=!1){const he=this.getDataNode(j);return this.tree.collapse(he===this.root?null:he,te)}expand(j,te=!1){return fi(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new Ee.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Ke.Event.toPromise(this._onDidRender.event));const he=this.getDataNode(j);if(this.tree.hasElement(he)&&!this.tree.isCollapsible(he)||(he.refreshPromise&&(yield this.root.refreshPromise,yield Ke.Event.toPromise(this._onDidRender.event)),he!==this.root&&!he.refreshPromise&&!this.tree.isCollapsed(he)))return!1;const ve=this.tree.expand(he===this.root?null:he,te);return he.refreshPromise&&(yield this.root.refreshPromise,yield Ke.Event.toPromise(this._onDidRender.event)),ve}))}setSelection(j,te){const he=j.map((j=>this.getDataNode(j)));this.tree.setSelection(he,te)}getSelection(){return this.tree.getSelection().map((j=>j.element))}setFocus(j,te){const he=j.map((j=>this.getDataNode(j)));this.tree.setFocus(he,te)}getFocus(){return this.tree.getFocus().map((j=>j.element))}reveal(j,te){this.tree.reveal(this.getDataNode(j),te)}getParentElement(j){const te=this.tree.getParentElement(this.getDataNode(j));return te&&te.element}getFirstElementChild(j=this.root.element){const te=this.getDataNode(j),he=this.tree.getFirstElementChild(te===this.root?null:te);return he&&he.element}getDataNode(j){const te=this.nodes.get(j===this.root.element?null:j);if(!te)throw new Ee.TreeError(this.user,`Data tree node not found: ${j}`);return te}refreshAndRenderNode(j,te,he,ve){return fi(this,void 0,void 0,(function*(){yield this.refreshNode(j,te,he),this.render(j,he,ve)}))}refreshNode(j,te,he){return fi(this,void 0,void 0,(function*(){let ve;return this.subTreeRefreshPromises.forEach(((Ce,ye)=>{!ve&&function c(j,te){return j===te||l(j,te)||l(te,j)}(ye,j)&&(ve=Ce.then((()=>this.refreshNode(j,te,he))))})),ve||this.doRefreshSubTree(j,te,he)}))}doRefreshSubTree(j,te,he){return fi(this,void 0,void 0,(function*(){let ve;j.refreshPromise=new Promise((j=>ve=j)),this.subTreeRefreshPromises.set(j,j.refreshPromise),j.refreshPromise.finally((()=>{j.refreshPromise=void 0,this.subTreeRefreshPromises.delete(j)}));try{const ve=yield this.doRefreshNode(j,te,he);j.stale=!1,yield Ie.Promises.settled(ve.map((j=>this.doRefreshSubTree(j,te,he))))}finally{ve()}}))}doRefreshNode(j,te,he){return fi(this,void 0,void 0,(function*(){let ve;if(j.hasChildren=!!this.dataSource.hasChildren(j.element),j.hasChildren){const te=(0,Ie.timeout)(800);te.then((()=>{j.slow=!0,this._onDidChangeNodeSlowState.fire(j)}),(j=>null)),ve=this.doGetChildren(j).finally((()=>te.cancel()))}else ve=Promise.resolve(je.Iterable.empty());try{const Ce=yield ve;return this.setChildren(j,Ce,te,he)}catch(te){if(j!==this.root&&this.tree.hasElement(j)&&this.tree.collapse(j),(0,Oe.isCancellationError)(te))return[];throw te}finally{j.slow&&(j.slow=!1,this._onDidChangeNodeSlowState.fire(j))}}))}doGetChildren(j){let te=this.refreshPromises.get(j);return te||(te=(0,Ie.createCancelablePromise)((()=>fi(this,void 0,void 0,(function*(){const te=yield this.dataSource.getChildren(j.element);return this.processChildren(te)})))),this.refreshPromises.set(j,te),te.finally((()=>{this.refreshPromises.delete(j)})))}_onDidChangeCollapseState({node:j,deep:te}){null!==j.element&&!j.collapsed&&j.element.stale&&(te?this.collapse(j.element.element):this.refreshAndRenderNode(j.element,!1).catch(Oe.onUnexpectedError))}setChildren(j,te,he,ve){const Ce=[...te];if(0===j.children.length&&0===Ce.length)return[];const ye=new Map,Ee=new Map;for(const te of j.children)if(ye.set(te.element,te),this.identityProvider){const j=this.tree.isCollapsed(te);Ee.set(te.id,{node:te,collapsed:j})}const Ie=[],Ne=Ce.map((te=>{const Ce=!!this.dataSource.hasChildren(te);if(!this.identityProvider){const he=n({element:te,parent:j,hasChildren:Ce});return Ce&&this.collapseByDefault&&!this.collapseByDefault(te)&&(he.collapsedByDefault=!1,Ie.push(he)),he}const Ne=this.identityProvider.getId(te).toString(),Oe=Ee.get(Ne);if(Oe){const j=Oe.node;return ye.delete(j.element),this.nodes.delete(j.element),this.nodes.set(te,j),j.element=te,j.hasChildren=Ce,he?Oe.collapsed?(j.children.forEach((j=>v(j,(j=>this.nodes.delete(j.element))))),j.children.splice(0,j.children.length),j.stale=!0):Ie.push(j):Ce&&this.collapseByDefault&&!this.collapseByDefault(te)&&(j.collapsedByDefault=!1,Ie.push(j)),j}const Ke=n({element:te,parent:j,id:Ne,hasChildren:Ce});return ve&&ve.viewState.focus&&ve.viewState.focus.indexOf(Ne)>-1&&ve.focus.push(Ke),ve&&ve.viewState.selection&&ve.viewState.selection.indexOf(Ne)>-1&&ve.selection.push(Ke),ve&&ve.viewState.expanded&&ve.viewState.expanded.indexOf(Ne)>-1?Ie.push(Ke):Ce&&this.collapseByDefault&&!this.collapseByDefault(te)&&(Ke.collapsedByDefault=!1,Ie.push(Ke)),Ke}));for(const j of ye.values())v(j,(j=>this.nodes.delete(j.element)));for(const j of Ne)this.nodes.set(j.element,j);return j.children.splice(0,j.children.length,...Ne),j!==this.root&&this.autoExpandSingleChildren&&1===Ne.length&&0===Ie.length&&(Ne[0].collapsedByDefault=!1,Ie.push(Ne[0])),Ie}render(j,te,he){const ve=j.children.map((j=>this.asTreeElement(j,te))),Ce=he&&Object.assign(Object.assign({},he),{diffIdentityProvider:he.diffIdentityProvider&&{getId:j=>he.diffIdentityProvider.getId(j.element)}});this.tree.setChildren(j===this.root?null:j,ve,Ce),j!==this.root&&this.tree.setCollapsible(j,j.hasChildren),this._onDidRender.fire()}asTreeElement(j,te){if(j.stale)return{element:j,collapsible:j.hasChildren,collapsed:!0};let he;return he=!(te&&te.viewState.expanded&&j.id&&te.viewState.expanded.indexOf(j.id)>-1)&&j.collapsedByDefault,j.collapsedByDefault=void 0,{element:j,children:j.hasChildren?je.Iterable.map(j.children,(j=>this.asTreeElement(j,te))):[],collapsible:j.hasChildren,collapsed:he}}processChildren(j){return this.sorter&&(j=[...j].sort(this.sorter.compare.bind(this.sorter))),j}dispose(){this.disposables.dispose()}}te.AsyncDataTree=C;class _{constructor(j){this.node=j}get element(){return{elements:this.node.element.elements.map((j=>j.element)),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((j=>new _(j)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class L{constructor(j,te,he,ve){this.renderer=j,this.nodeMapper=te,this.compressibleNodeMapperProvider=he,this.onDidChangeTwistieState=ve,this.renderedNodes=new Map,this.disposables=[],this.templateId=j.templateId}renderTemplate(j){return{templateData:this.renderer.renderTemplate(j)}}renderElement(j,te,he,ve){this.renderer.renderElement(this.nodeMapper.map(j),te,he.templateData,ve)}renderCompressedElements(j,te,he,ve){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(j),te,he.templateData,ve)}renderTwistie(j,te){return j.slow?(te.classList.add(...Ne.Codicon.treeItemLoading.classNamesArray),!0):(te.classList.remove(...Ne.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(j,te,he,ve){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(j),te,he.templateData,ve)}disposeCompressedElements(j,te,he,ve){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(j),te,he.templateData,ve)}disposeTemplate(j){this.renderer.disposeTemplate(j.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,Ze.dispose)(this.disposables)}}te.CompressibleAsyncDataTree=class N extends C{constructor(j,te,he,ve,Ce,ye,Ie={}){super(j,te,he,Ce,ye,Ie),this.compressionDelegate=ve,this.compressibleNodeMapper=new Ee.WeakMapper((j=>new _(j))),this.filter=Ie.filter}createTree(j,te,he,Ce,Ee){const Ie=new ve.ComposedTreeDelegate(he),Ne=Ce.map((j=>new L(j,this.nodeMapper,(()=>this.compressibleNodeMapper),this._onDidChangeNodeSlowState.event))),Oe=function E(j){const te=j&&S(j);return te&&Object.assign(Object.assign({},te),{keyboardNavigationLabelProvider:te.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},te.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:te=>j.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(te.map((j=>j.element)))})})}(Ee)||{};return new ye.CompressibleObjectTree(j,te,Ie,Ne,Oe)}asTreeElement(j,te){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(j.element)},super.asTreeElement(j,te))}updateOptions(j={}){this.tree.updateOptions(j)}render(j,te){if(!this.identityProvider)return super.render(j,te);const T=j=>this.identityProvider.getId(j).toString(),R=j=>{const te=new Set;for(const he of j){const j=this.tree.getCompressedTreeNode(he===this.root?null:he);if(j.element)for(const he of j.element.elements)te.add(T(he.element))}return te},he=R(this.tree.getSelection()),ve=R(this.tree.getFocus());super.render(j,te);const Ce=this.getSelection();let ye=!1;const Ee=this.getFocus();let Ie=!1;const X=j=>{const te=j.element;if(te)for(let j=0;j<te.elements.length;j++){const Ne=T(te.elements[j].element),Oe=te.elements[te.elements.length-1].element;he.has(Ne)&&-1===Ce.indexOf(Oe)&&(Ce.push(Oe),ye=!0),ve.has(Ne)&&-1===Ee.indexOf(Oe)&&(Ee.push(Oe),Ie=!0)}j.children.forEach(X)};X(this.tree.getCompressedTreeNode(j===this.root?null:j)),ye&&this.setSelection(Ce),Ie&&this.setFocus(Ee)}processChildren(j){return this.filter&&(j=je.Iterable.filter(j,(j=>{const te=function k(j){return"boolean"==typeof j?j?1:0:(0,Ce.isFilterResult)(j)?(0,Ce.getVisibleState)(j.visibility):(0,Ce.getVisibleState)(j)}(this.filter.filter(j,1));if(2===te)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===te}))),super.processChildren(j)}}})),define(Ce[482],ie([5,6]),(function(j,te){return j.create("vs/base/common/actions",te)})),define(Ce[44],ie([1,0,4,2,482]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.EmptySubmenuAction=te.SubmenuAction=te.Separator=te.ActionRunner=te.Action=void 0;class I extends ve.Disposable{constructor(j,te="",ve="",Ce=!0,ye){super(),this._onDidChange=this._register(new he.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=j,this._label=te,this._cssClass=ve,this._enabled=Ce,this._actionCallback=ye}get id(){return this._id}get label(){return this._label}set label(j){this._setLabel(j)}_setLabel(j){this._label!==j&&(this._label=j,this._onDidChange.fire({label:j}))}get tooltip(){return this._tooltip||""}set tooltip(j){this._setTooltip(j)}_setTooltip(j){this._tooltip!==j&&(this._tooltip=j,this._onDidChange.fire({tooltip:j}))}get class(){return this._cssClass}set class(j){this._setClass(j)}_setClass(j){this._cssClass!==j&&(this._cssClass=j,this._onDidChange.fire({class:j}))}get enabled(){return this._enabled}set enabled(j){this._setEnabled(j)}_setEnabled(j){this._enabled!==j&&(this._enabled=j,this._onDidChange.fire({enabled:j}))}get checked(){return this._checked}set checked(j){this._setChecked(j)}_setChecked(j){this._checked!==j&&(this._checked=j,this._onDidChange.fire({checked:j}))}run(j,te){return fi(this,void 0,void 0,(function*(){this._actionCallback&&(yield this._actionCallback(j))}))}}te.Action=I;class w extends ve.Disposable{constructor(){super(...arguments),this._onBeforeRun=this._register(new he.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new he.Emitter),this.onDidRun=this._onDidRun.event}run(j,te){return fi(this,void 0,void 0,(function*(){if(!j.enabled)return;let he;this._onBeforeRun.fire({action:j});try{yield this.runAction(j,te)}catch(j){he=j}this._onDidRun.fire({action:j,error:he})}))}runAction(j,te){return fi(this,void 0,void 0,(function*(){yield j.run(te)}))}}te.ActionRunner=w;class b extends I{constructor(j){super(b.ID,j,j?"separator text":"separator"),this.checked=!1,this.enabled=!1}}te.Separator=b,b.ID="vs.actions.separator";te.SubmenuAction=class p{constructor(j,te,he,ve){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=j,this.label=te,this.class=ve,this._actions=he}get actions(){return this._actions}dispose(){}run(){return fi(this,void 0,void 0,(function*(){}))}};class h extends I{constructor(){super(h.ID,Ce.localize(0,null),void 0,!1)}}te.EmptySubmenuAction=h,h.ID="vs.actions.empty"})),define(Ce[125],ie([1,0,34,164,7,57,44,2,17,20,471,221]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.ActionViewItem=te.BaseActionViewItem=void 0;class t extends Ie.Disposable{constructor(j,te,he={}){super(),this.options=he,this._context=j||this,this._action=te,te instanceof Ee.Action&&this._register(te.onDidChange((j=>{!this.element||this.handleActionChangeEvent(j)})))}handleActionChangeEvent(j){void 0!==j.enabled&&this.updateEnabled(),void 0!==j.checked&&this.updateChecked(),void 0!==j.class&&this.updateClass(),void 0!==j.label&&(this.updateLabel(),this.updateTooltip()),void 0!==j.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Ee.ActionRunner)),this._actionRunner}set actionRunner(j){this._actionRunner=j}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(j){this._context=j}render(j){const te=this.element=j;this._register(ye.Gesture.addTarget(j));const Ee=this.options&&this.options.draggable;Ee&&(j.draggable=!0,he.isFirefox&&this._register((0,Ce.addDisposableListener)(j,Ce.EventType.DRAG_START,(j=>{var te;return null===(te=j.dataTransfer)||void 0===te?void 0:te.setData(ve.DataTransfers.TEXT,this._action.label)})))),this._register((0,Ce.addDisposableListener)(te,ye.EventType.Tap,(j=>this.onClick(j,!0)))),this._register((0,Ce.addDisposableListener)(te,Ce.EventType.MOUSE_DOWN,(j=>{Ee||Ce.EventHelper.stop(j,!0),this._action.enabled&&0===j.button&&te.classList.add("active")}))),Ne.isMacintosh&&this._register((0,Ce.addDisposableListener)(te,Ce.EventType.CONTEXT_MENU,(j=>{0===j.button&&!0===j.ctrlKey&&this.onClick(j)}))),this._register((0,Ce.addDisposableListener)(te,Ce.EventType.CLICK,(j=>{Ce.EventHelper.stop(j,!0),this.options&&this.options.isMenu||this.onClick(j)}))),this._register((0,Ce.addDisposableListener)(te,Ce.EventType.DBLCLICK,(j=>{Ce.EventHelper.stop(j,!0)}))),[Ce.EventType.MOUSE_UP,Ce.EventType.MOUSE_OUT].forEach((j=>{this._register((0,Ce.addDisposableListener)(te,j,(j=>{Ce.EventHelper.stop(j),te.classList.remove("active")})))}))}onClick(j,te=!1){var he;Ce.EventHelper.stop(j,!0);const ve=Oe.isUndefinedOrNull(this._context)?(null===(he=this.options)||void 0===he?void 0:he.useEventAsContext)?j:{preserveFocus:te}:this._context;this.actionRunner.run(this._action,ve)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(j){this.element&&(this.element.tabIndex=j?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}te.BaseActionViewItem=t;te.ActionViewItem=class i extends t{constructor(j,te,he={}){super(j,te,he),this.options=he,this.options.icon=void 0!==he.icon&&he.icon,this.options.label=void 0===he.label||he.label,this.cssClass=""}render(j){super.render(j),this.element&&(this.label=(0,Ce.append)(this.element,(0,Ce.$)("a.action-label"))),this.label&&(this._action.id===Ee.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,Ce.append)(this.element,(0,Ce.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(j){this.label&&(this.label.tabIndex=j?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let j=null;this.getAction().tooltip?j=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(j=this.getAction().label,this.options.keybinding&&(j=Ke.localize(0,null,j,this.options.keybinding))),j&&this.label&&(this.label.title=j)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}})),define(Ce[84],ie([1,0,7,46,125,44,4,2,20,221]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.ActionBar=void 0;class h extends Ie.Disposable{constructor(j,te={}){var Ie,Ne,Oe,Ke,je,Ze;let Ye,et;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new Ee.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new Ee.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new Ee.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new Ee.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=te,this._context=null!==(Ie=te.context)&&void 0!==Ie?Ie:null,this._orientation=null!==(Ne=this.options.orientation)&&void 0!==Ne?Ne:0,this._triggerKeys={keyDown:null!==(Ke=null===(Oe=this.options.triggerKeys)||void 0===Oe?void 0:Oe.keyDown)&&void 0!==Ke&&Ke,keys:null!==(Ze=null===(je=this.options.triggerKeys)||void 0===je?void 0:je.keys)&&void 0!==Ze?Ze:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new ye.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun((j=>this._onDidRun.fire(j)))),this._register(this._actionRunner.onBeforeRun((j=>this._onBeforeRun.fire(j)))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==te.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:Ye=[15],et=[17];break;case 1:Ye=[16],et=[18],this.domNode.className+=" vertical"}this._register(he.addDisposableListener(this.domNode,he.EventType.KEY_DOWN,(j=>{const te=new ve.StandardKeyboardEvent(j);let he=!0;const ye="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;Ye&&(te.equals(Ye[0])||te.equals(Ye[1]))?he=this.focusPrevious():et&&(te.equals(et[0])||te.equals(et[1]))?he=this.focusNext():te.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():te.equals(14)?he=this.focusFirst():te.equals(13)?he=this.focusLast():te.equals(2)&&ye instanceof Ce.BaseActionViewItem&&ye.trapsArrowNavigation?he=this.focusNext():this.isTriggerKeyEvent(te)?this._triggerKeys.keyDown?this.doTrigger(te):this.triggerKeyDown=!0:he=!1,he&&(te.preventDefault(),te.stopPropagation())}))),this._register(he.addDisposableListener(this.domNode,he.EventType.KEY_UP,(j=>{const te=new ve.StandardKeyboardEvent(j);this.isTriggerKeyEvent(te)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(te)),te.preventDefault(),te.stopPropagation()):(te.equals(2)||te.equals(1026))&&this.updateFocusedItem()}))),this.focusTracker=this._register(he.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur((()=>{(he.getActiveElement()===this.domNode||!he.isAncestor(he.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)}))),this._register(this.focusTracker.onDidFocus((()=>this.updateFocusedItem()))),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),j.appendChild(this.domNode)}setFocusable(j){if(this.focusable=j,this.focusable){const j=this.viewItems.find((j=>j instanceof Ce.BaseActionViewItem&&j.isEnabled()));j instanceof Ce.BaseActionViewItem&&j.setFocusable(!0)}else this.viewItems.forEach((j=>{j instanceof Ce.BaseActionViewItem&&j.setFocusable(!1)}))}isTriggerKeyEvent(j){let te=!1;return this._triggerKeys.keys.forEach((he=>{te=te||j.equals(he)})),te}updateFocusedItem(){for(let j=0;j<this.actionsList.children.length;j++){const te=this.actionsList.children[j];if(he.isAncestor(he.getActiveElement(),te)){this.focusedItem=j;break}}}get context(){return this._context}set context(j){this._context=j,this.viewItems.forEach((te=>te.setActionContext(j)))}get actionRunner(){return this._actionRunner}set actionRunner(j){j&&(this._actionRunner=j,this.viewItems.forEach((te=>te.actionRunner=j)))}getContainer(){return this.domNode}push(j,te={}){const ve=Array.isArray(j)?j:[j];let ye=Ne.isNumber(te.index)?te.index:null;ve.forEach((j=>{const ve=document.createElement("li");let Ee;ve.className="action-item",ve.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(he.addDisposableListener(ve,he.EventType.CONTEXT_MENU,(j=>{he.EventHelper.stop(j,!0)}))),this.options.actionViewItemProvider&&(Ee=this.options.actionViewItemProvider(j)),Ee||(Ee=new Ce.ActionViewItem(this.context,j,te)),Ee.actionRunner=this._actionRunner,Ee.setActionContext(this.context),Ee.render(ve),this.focusable&&Ee instanceof Ce.BaseActionViewItem&&0===this.viewItems.length&&Ee.setFocusable(!0),null===ye||ye<0||ye>=this.actionsList.children.length?(this.actionsList.appendChild(ve),this.viewItems.push(Ee),this._actionIds.push(j.id)):(this.actionsList.insertBefore(ve,this.actionsList.children[ye]),this.viewItems.splice(ye,0,Ee),this._actionIds.splice(ye,0,j.id),ye++)})),"number"==typeof this.focusedItem&&this.focus(this.focusedItem)}clear(){(0,Ie.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],he.clearNode(this.actionsList)}length(){return this.viewItems.length}focus(j){let te,he=!1;if(void 0===j?he=!0:"number"==typeof j?te=j:"boolean"==typeof j&&(he=j),he&&void 0===this.focusedItem){const j=this.viewItems.findIndex((j=>j.isEnabled()));this.focusedItem=-1===j?void 0:j,this.updateFocus(void 0,void 0,!0)}else void 0!==te&&(this.focusedItem=te),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(j){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const te=this.focusedItem;let he;do{if(!j&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=te,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,he=this.viewItems[this.focusedItem]}while(this.focusedItem!==te&&this.options.focusOnlyEnabledItems&&!he.isEnabled());return this.updateFocus(),!0}focusPrevious(j){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const te=this.focusedItem;let he;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!j&&this.options.preventLoopNavigation)return this.focusedItem=te,!1;this.focusedItem=this.viewItems.length-1}he=this.viewItems[this.focusedItem]}while(this.focusedItem!==te&&this.options.focusOnlyEnabledItems&&!he.isEnabled());return this.updateFocus(!0),!0}updateFocus(j,te,he=!1){var ve;void 0===this.focusedItem&&this.actionsList.focus({preventScroll:te}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(ve=this.viewItems[this.previouslyFocusedItem])||void 0===ve||ve.blur());const Ce=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(Ce){let ve=!0;Ne.isFunction(Ce.focus)||(ve=!1),this.options.focusOnlyEnabledItems&&Ne.isFunction(Ce.isEnabled)&&!Ce.isEnabled()&&(ve=!1),ve?(he||this.previouslyFocusedItem!==this.focusedItem)&&(Ce.focus(j),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:te}),this.previouslyFocusedItem=void 0)}}doTrigger(j){if(void 0===this.focusedItem)return;const te=this.viewItems[this.focusedItem];if(te instanceof Ce.BaseActionViewItem){const he=null===te._context||void 0===te._context?j:te._context;this.run(te._action,he)}}run(j,te){return fi(this,void 0,void 0,(function*(){yield this._actionRunner.run(j,te)}))}dispose(){(0,Ie.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}te.ActionBar=h})),define(Ce[483],ie([1,0,7,46,57,44,4,224]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.DropdownMenu=te.BaseDropdown=void 0;class b extends ye.ActionRunner{constructor(j,te){super(),this._onDidChangeVisibility=this._register(new Ee.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,he.append)(j,(0,he.$)(".monaco-dropdown")),this._label=(0,he.append)(this._element,(0,he.$)(".dropdown-label"));let ye=te.labelRenderer;ye||(ye=j=>(j.textContent=te.label||"",null));for(const j of[he.EventType.CLICK,he.EventType.MOUSE_DOWN,Ce.EventType.Tap])this._register((0,he.addDisposableListener)(this.element,j,(j=>he.EventHelper.stop(j,!0))));for(const j of[he.EventType.MOUSE_DOWN,Ce.EventType.Tap])this._register((0,he.addDisposableListener)(this._label,j,(j=>{j instanceof MouseEvent&&j.detail>1||(this.visible?this.hide():this.show())})));this._register((0,he.addDisposableListener)(this._label,he.EventType.KEY_UP,(j=>{const te=new ve.StandardKeyboardEvent(j);(te.equals(3)||te.equals(10))&&(he.EventHelper.stop(j,!0),this.visible?this.hide():this.show())})));const Ie=ye(this._label);Ie&&this._register(Ie),this._register(Ce.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}te.BaseDropdown=b;te.DropdownMenu=class p extends b{constructor(j,te){super(j,te),this._actions=[],this._contextMenuProvider=te.contextMenuProvider,this.actions=te.actions||[],this.actionProvider=te.actionProvider,this.menuClassName=te.menuClassName||"",this.menuAsChild=!!te.menuAsChild}set menuOptions(j){this._menuOptions=j}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(j){this._actions=j}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:j=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(j):void 0,getKeyBinding:j=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(j):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}})),define(Ce[484],ie([1,0,7,125,483,4,224]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.DropdownMenuActionViewItem=void 0;class w extends ve.BaseActionViewItem{constructor(j,te,he,ve=Object.create(null)){super(null,j,ve),this.actionItem=null,this._onDidChangeVisibility=this._register(new ye.Emitter),this.menuActionsOrProvider=te,this.contextMenuProvider=he,this.options=ve,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(j){this.actionItem=j;const te=Array.isArray(this.menuActionsOrProvider),ve={contextMenuProvider:this.contextMenuProvider,labelRenderer:j=>{this.element=(0,he.append)(j,(0,he.$)("a.action-label"));let te=[];return"string"==typeof this.options.classNames?te=this.options.classNames.split(/\s+/g).filter((j=>!!j)):this.options.classNames&&(te=this.options.classNames),te.find((j=>"icon"===j))||te.push("codicon"),this.element.classList.add(...te),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:te?this.menuActionsOrProvider:void 0,actionProvider:te?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new Ce.DropdownMenu(j,ve)),this._register(this.dropdownMenu.onDidChangeVisibility((j=>{var te;null===(te=this.element)||void 0===te||te.setAttribute("aria-expanded",`${j}`),this._onDidChangeVisibility.fire(j)}))),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const j=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return j.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(j){super.setActionContext(j),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=j:this.dropdownMenu.menuOptions={context:j})}updateEnabled(){var j,te;const he=!this.getAction().enabled;null===(j=this.actionItem)||void 0===j||j.classList.toggle("disabled",he),null===(te=this.element)||void 0===te||te.classList.toggle("disabled",he)}}te.DropdownMenuActionViewItem=w})),define(Ce[192],ie([1,0,7,89,169,84,43,67,60,29,4,313,39,477,338]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){Object.defineProperty(te,"__esModule",{value:!0}),te.HistoryInputBox=te.InputBox=void 0;const et=he.$,nt={inputBackground:Oe.Color.fromHex("#3C3C3C"),inputForeground:Oe.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:Oe.Color.fromHex("#55AAFF"),inputValidationInfoBackground:Oe.Color.fromHex("#063B49"),inputValidationWarningBorder:Oe.Color.fromHex("#B89500"),inputValidationWarningBackground:Oe.Color.fromHex("#352A05"),inputValidationErrorBorder:Oe.Color.fromHex("#BE1100"),inputValidationErrorBackground:Oe.Color.fromHex("#5A1D1D")};class r extends Ne.Widget{constructor(j,te,Ce){var Ee;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new Ke.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new Ke.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=te,this.options=Ce||Object.create(null),(0,Ze.mixin)(this.options,nt,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(Ee=this.options.tooltip)&&void 0!==Ee?Ee:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=he.append(j,et(".monaco-inputbox.idle"));let Ne=this.options.flexibleHeight?"textarea":"input",Oe=he.append(this.element,et(".ibwrapper"));if(this.input=he.append(Oe,et(Ne+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,(()=>this.element.classList.add("synthetic-focus"))),this.onblur(this.input,(()=>this.element.classList.remove("synthetic-focus"))),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=he.append(Oe,et("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new Ie.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),he.append(j,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((j=>this.input.scrollTop=j.scrollTop)));const te=this._register(new ve.DomEmitter(document,"selectionchange")),Ce=Ke.Event.filter(te.event,(()=>{const j=document.getSelection();return(null==j?void 0:j.anchorNode)===Oe}));this._register(Ce(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,(()=>this.onValueChange())),this.onblur(this.input,(()=>this.onBlur())),this.onfocus(this.input,(()=>this.onFocus())),this.ignoreGesture(this.input),setTimeout((()=>this.updateMirror()),0),this.options.actions&&(this.actionbar=this._register(new ye.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(j){this.placeholder=j,this.input.setAttribute("placeholder",j)}setTooltip(j){this.tooltip=j,this.input.title=j}setAriaLabel(j){this.ariaLabel=j,j?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(j){this.input.value!==j&&(this.input.value=j,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:he.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(j=null){this.input.select(),j&&(this.input.setSelectionRange(j.start,j.end),j.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return he.getTotalWidth(this.input)}set width(j){if(this.options.flexibleHeight&&this.options.flexibleWidth){let te=0;if(this.mirror){te=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)}this.input.style.width=j-te+"px"}else this.input.style.width=j+"px";this.mirror&&(this.mirror.style.width=j+"px")}set paddingRight(j){this.input.style.width=`calc(100% - ${j}px)`,this.mirror&&(this.mirror.style.paddingRight=j+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const j=this.cachedContentHeight,te=this.cachedHeight,he=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:j,height:te}),this.scrollableElement.setScrollPosition({scrollTop:he})}showMessage(j,te){this.message=j,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(j.type));const he=this.stylesForType(this.message.type);this.element.style.border=he.border?`1px solid ${he.border}`:"",(this.hasFocus()||te)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let j=null;return this.validation&&(j=this.validation(this.value),j?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(j)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==j?void 0:j.type}stylesForType(j){switch(j){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(j){switch(j){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let j,te,d=()=>j.style.width=he.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:te=>{if(!this.message)return null;j=he.append(te,et(".monaco-inputbox-container")),d();const ve={inline:!0,className:"monaco-inputbox-message"},ye=this.message.formatContent?(0,Ce.renderFormattedText)(this.message.content,ve):(0,Ce.renderText)(this.message.content,ve);ye.classList.add(this.classForType(this.message.type));const Ee=this.stylesForType(this.message.type);return ye.style.backgroundColor=Ee.background?Ee.background.toString():"",ye.style.color=Ee.foreground?Ee.foreground.toString():"",ye.style.border=Ee.border?`1px solid ${Ee.border}`:"",he.append(j,ye),null},onHide:()=>{this.state="closed"},layout:d}),te=3===this.message.type?Ye.localize(0,null,this.message.content):2===this.message.type?Ye.localize(1,null,this.message.content):Ye.localize(2,null,this.message.content),Ee.alert(te),this.state="open"}_hideMessage(){!this.contextViewProvider||("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const j=this.value,te=10===j.charCodeAt(j.length-1)?" ":"";(j+te).replace(/\u000c/g,"")?this.mirror.textContent=j+te:this.mirror.innerText=" ",this.layout()}style(j){this.inputBackground=j.inputBackground,this.inputForeground=j.inputForeground,this.inputBorder=j.inputBorder,this.inputValidationInfoBackground=j.inputValidationInfoBackground,this.inputValidationInfoForeground=j.inputValidationInfoForeground,this.inputValidationInfoBorder=j.inputValidationInfoBorder,this.inputValidationWarningBackground=j.inputValidationWarningBackground,this.inputValidationWarningForeground=j.inputValidationWarningForeground,this.inputValidationWarningBorder=j.inputValidationWarningBorder,this.inputValidationErrorBackground=j.inputValidationErrorBackground,this.inputValidationErrorForeground=j.inputValidationErrorForeground,this.inputValidationErrorBorder=j.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const j=this.inputBackground?this.inputBackground.toString():"",te=this.inputForeground?this.inputForeground.toString():"",he=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=j,this.element.style.color=te,this.input.style.backgroundColor="inherit",this.input.style.color=te,this.element.style.borderWidth=he?"1px":"",this.element.style.borderStyle=he?"solid":"",this.element.style.borderColor=he}layout(){if(!this.mirror)return;const j=this.cachedContentHeight;this.cachedContentHeight=he.getTotalHeight(this.mirror),j!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(j){const te=this.inputElement,he=te.selectionStart,ve=te.selectionEnd,Ce=te.value;null!==he&&null!==ve&&(this.value=Ce.substr(0,he)+j+Ce.substr(ve),te.setSelectionRange(he+1,he+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}te.InputBox=r;te.HistoryInputBox=class s extends r{constructor(j,te,he){const ve=Ye.localize(3,null),Ce=` or ⇅ ${ve}`,ye=` (⇅ ${ve})`;super(j,te,he),this.history=new je.HistoryNavigator(he.history,100);const C=()=>{if(he.showHistoryHint&&he.showHistoryHint()&&!this.placeholder.endsWith(Ce)&&!this.placeholder.endsWith(ye)&&this.history.getHistory().length){const j=this.placeholder.endsWith(")")?Ce:ye,te=this.placeholder+j;he.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=te:this.setPlaceHolder(te)}};this.observer=new MutationObserver(((j,te)=>{j.forEach((j=>{j.target.textContent||C()}))})),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,(()=>C())),this.onblur(this.input,(()=>{const _=j=>{if(this.placeholder.endsWith(j)){const te=this.placeholder.slice(0,this.placeholder.length-j.length);return he.showPlaceholderOnFocus?this.placeholder=te:this.setPlaceHolder(te),!0}return!1};_(ye)||_(Ce)}))}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let j=this.getNextValue();j&&(j=j===this.value?this.getNextValue():j),j&&(this.value=j,Ee.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let j=this.getPreviousValue();j&&(j=j===this.value?this.getPreviousValue():j),j&&(this.value=j,Ee.status(this.value))}getCurrentValue(){let j=this.history.current();return j||(j=this.history.last(),this.history.next()),j}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}})),define(Ce[485],ie([1,0,7,264,192,60,4,472,225]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.FindInput=void 0;const Ne=Ie.localize(0,null);class h extends ye.Widget{constructor(j,te,ye,Ie){super(),this._showOptionButtons=ye,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new Ee.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Ee.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Ee.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new Ee.Emitter),this._onKeyUp=this._register(new Ee.Emitter),this._onCaseSensitiveKeyDown=this._register(new Ee.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new Ee.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=te,this.placeholder=Ie.placeholder||"",this.validation=Ie.validation,this.label=Ie.label||Ne,this.inputActiveOptionBorder=Ie.inputActiveOptionBorder,this.inputActiveOptionForeground=Ie.inputActiveOptionForeground,this.inputActiveOptionBackground=Ie.inputActiveOptionBackground,this.inputBackground=Ie.inputBackground,this.inputForeground=Ie.inputForeground,this.inputBorder=Ie.inputBorder,this.inputValidationInfoBorder=Ie.inputValidationInfoBorder,this.inputValidationInfoBackground=Ie.inputValidationInfoBackground,this.inputValidationInfoForeground=Ie.inputValidationInfoForeground,this.inputValidationWarningBorder=Ie.inputValidationWarningBorder,this.inputValidationWarningBackground=Ie.inputValidationWarningBackground,this.inputValidationWarningForeground=Ie.inputValidationWarningForeground,this.inputValidationErrorBorder=Ie.inputValidationErrorBorder,this.inputValidationErrorBackground=Ie.inputValidationErrorBackground,this.inputValidationErrorForeground=Ie.inputValidationErrorForeground;const Oe=Ie.appendCaseSensitiveLabel||"",Ke=Ie.appendWholeWordsLabel||"",je=Ie.appendRegexLabel||"",Ze=Ie.history||[],Ye=!!Ie.flexibleHeight,et=!!Ie.flexibleWidth,nt=Ie.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Ce.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:Ze,showHistoryHint:Ie.showHistoryHint,flexibleHeight:Ye,flexibleWidth:et,flexibleMaxHeight:nt})),this.regex=this._register(new ve.RegexCheckbox({appendTitle:je,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange((j=>{this._onDidOptionChange.fire(j),!j&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.regex.onKeyDown((j=>{this._onRegexKeyDown.fire(j)}))),this.wholeWords=this._register(new ve.WholeWordsCheckbox({appendTitle:Ke,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange((j=>{this._onDidOptionChange.fire(j),!j&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this.caseSensitive=this._register(new ve.CaseSensitiveCheckbox({appendTitle:Oe,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange((j=>{this._onDidOptionChange.fire(j),!j&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.caseSensitive.onKeyDown((j=>{this._onCaseSensitiveKeyDown.fire(j)}))),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let rt=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(j=>{if(j.equals(15)||j.equals(17)||j.equals(9)){let te=rt.indexOf(document.activeElement);if(te>=0){let ve=-1;j.equals(17)?ve=(te+1)%rt.length:j.equals(15)&&(ve=0===te?rt.length-1:te-1),j.equals(9)?(rt[te].blur(),this.inputBox.focus()):ve>=0&&rt[ve].focus(),he.EventHelper.stop(j,!0)}}})),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),j&&j.appendChild(this.domNode),this._register(he.addDisposableListener(this.inputBox.inputElement,"compositionstart",(j=>{this.imeSessionInProgress=!0}))),this._register(he.addDisposableListener(this.inputBox.inputElement,"compositionend",(j=>{this.imeSessionInProgress=!1,this._onInput.fire()}))),this.onkeydown(this.inputBox.inputElement,(j=>this._onKeyDown.fire(j))),this.onkeyup(this.inputBox.inputElement,(j=>this._onKeyUp.fire(j))),this.oninput(this.inputBox.inputElement,(j=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(j=>this._onMouseDown.fire(j)))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(j){this.fixFocusOnOptionClickEnabled=j}setEnabled(j){j?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(j){this.inputBox.value!==j&&(this.inputBox.value=j)}style(j){this.inputActiveOptionBorder=j.inputActiveOptionBorder,this.inputActiveOptionForeground=j.inputActiveOptionForeground,this.inputActiveOptionBackground=j.inputActiveOptionBackground,this.inputBackground=j.inputBackground,this.inputForeground=j.inputForeground,this.inputBorder=j.inputBorder,this.inputValidationInfoBackground=j.inputValidationInfoBackground,this.inputValidationInfoForeground=j.inputValidationInfoForeground,this.inputValidationInfoBorder=j.inputValidationInfoBorder,this.inputValidationWarningBackground=j.inputValidationWarningBackground,this.inputValidationWarningForeground=j.inputValidationWarningForeground,this.inputValidationWarningBorder=j.inputValidationWarningBorder,this.inputValidationErrorBackground=j.inputValidationErrorBackground,this.inputValidationErrorForeground=j.inputValidationErrorForeground,this.inputValidationErrorBorder=j.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const j={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(j),this.wholeWords.style(j),this.caseSensitive.style(j);const te={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(te)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(j){this.caseSensitive.checked=j}getWholeWords(){return this.wholeWords.checked}setWholeWords(j){this.wholeWords.checked=j}getRegex(){return this.regex.checked}setRegex(j){this.regex.checked=j,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}te.FindInput=h})),define(Ce[486],ie([1,0,7,172,192,60,27,4,474,225]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.ReplaceInput=te.PreserveCaseCheckbox=void 0;const Oe=Ne.localize(0,null),Ke=Ne.localize(1,null);class t extends ve.Checkbox{constructor(j){super({icon:Ee.Codicon.preserveCase,title:Ke+j.appendTitle,isChecked:j.isChecked,inputActiveOptionBorder:j.inputActiveOptionBorder,inputActiveOptionForeground:j.inputActiveOptionForeground,inputActiveOptionBackground:j.inputActiveOptionBackground})}}te.PreserveCaseCheckbox=t;class i extends ye.Widget{constructor(j,te,ve,ye){super(),this._showOptionButtons=ve,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new Ie.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Ie.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Ie.Emitter),this._onInput=this._register(new Ie.Emitter),this._onKeyUp=this._register(new Ie.Emitter),this._onPreserveCaseKeyDown=this._register(new Ie.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=te,this.placeholder=ye.placeholder||"",this.validation=ye.validation,this.label=ye.label||Oe,this.inputActiveOptionBorder=ye.inputActiveOptionBorder,this.inputActiveOptionForeground=ye.inputActiveOptionForeground,this.inputActiveOptionBackground=ye.inputActiveOptionBackground,this.inputBackground=ye.inputBackground,this.inputForeground=ye.inputForeground,this.inputBorder=ye.inputBorder,this.inputValidationInfoBorder=ye.inputValidationInfoBorder,this.inputValidationInfoBackground=ye.inputValidationInfoBackground,this.inputValidationInfoForeground=ye.inputValidationInfoForeground,this.inputValidationWarningBorder=ye.inputValidationWarningBorder,this.inputValidationWarningBackground=ye.inputValidationWarningBackground,this.inputValidationWarningForeground=ye.inputValidationWarningForeground,this.inputValidationErrorBorder=ye.inputValidationErrorBorder,this.inputValidationErrorBackground=ye.inputValidationErrorBackground,this.inputValidationErrorForeground=ye.inputValidationErrorForeground;const Ee=ye.appendPreserveCaseLabel||"",Ne=ye.history||[],Ke=!!ye.flexibleHeight,je=!!ye.flexibleWidth,Ze=ye.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Ce.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:Ne,showHistoryHint:ye.showHistoryHint,flexibleHeight:Ke,flexibleWidth:je,flexibleMaxHeight:Ze})),this.preserveCase=this._register(new t({appendTitle:Ee,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange((j=>{this._onDidOptionChange.fire(j),!j&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.preserveCase.onKeyDown((j=>{this._onPreserveCaseKeyDown.fire(j)}))),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let Ye=[this.preserveCase.domNode];this.onkeydown(this.domNode,(j=>{if(j.equals(15)||j.equals(17)||j.equals(9)){let te=Ye.indexOf(document.activeElement);if(te>=0){let ve=-1;j.equals(17)?ve=(te+1)%Ye.length:j.equals(15)&&(ve=0===te?Ye.length-1:te-1),j.equals(9)?(Ye[te].blur(),this.inputBox.focus()):ve>=0&&Ye[ve].focus(),he.EventHelper.stop(j,!0)}}}));let et=document.createElement("div");et.className="controls",et.style.display=this._showOptionButtons?"block":"none",et.appendChild(this.preserveCase.domNode),this.domNode.appendChild(et),j&&j.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(j=>this._onKeyDown.fire(j))),this.onkeyup(this.inputBox.inputElement,(j=>this._onKeyUp.fire(j))),this.oninput(this.inputBox.inputElement,(j=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(j=>this._onMouseDown.fire(j)))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(j){j?this.enable():this.disable()}style(j){this.inputActiveOptionBorder=j.inputActiveOptionBorder,this.inputActiveOptionForeground=j.inputActiveOptionForeground,this.inputActiveOptionBackground=j.inputActiveOptionBackground,this.inputBackground=j.inputBackground,this.inputForeground=j.inputForeground,this.inputBorder=j.inputBorder,this.inputValidationInfoBackground=j.inputValidationInfoBackground,this.inputValidationInfoForeground=j.inputValidationInfoForeground,this.inputValidationInfoBorder=j.inputValidationInfoBorder,this.inputValidationWarningBackground=j.inputValidationWarningBackground,this.inputValidationWarningForeground=j.inputValidationWarningForeground,this.inputValidationWarningBorder=j.inputValidationWarningBorder,this.inputValidationErrorBackground=j.inputValidationErrorBackground,this.inputValidationErrorForeground=j.inputValidationErrorForeground,this.inputValidationErrorBorder=j.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const j={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(j);const te={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(te)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(j){this.preserveCase.checked=j}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(j){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=j,this.domNode.style.width=j+"px"}dispose(){super.dispose()}}te.ReplaceInput=i})),define(Ce[487],ie([1,0,34,57,7,46,56,84,125,140,222,67,44,10,27,95,2,17,8]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct){var ht,mt;Object.defineProperty(te,"__esModule",{value:!0}),te.cleanMnemonic=te.Menu=te.Direction=te.MENU_ESCAPED_MNEMONIC_REGEX=te.MENU_MNEMONIC_REGEX=void 0,te.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,te.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g,(mt=ht=te.Direction||(te.Direction={}))[mt.Right=0]="Right",mt[mt.Left=1]="Left";class d extends Ie.ActionBar{constructor(j,te,he={}){j.classList.add("monaco-menu-container"),j.setAttribute("role","presentation");const Ee=document.createElement("div");Ee.classList.add("monaco-menu"),Ee.setAttribute("role","presentation"),super(Ee,{orientation:1,actionViewItemProvider:j=>this.doGetActionViewItem(j,he,Ie),context:he.context,actionRunner:he.actionRunner,ariaLabel:he.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...at.isMacintosh||at.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=Ee,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new rt.DisposableStore),this.initializeOrUpdateStyleSheet(j,{}),this._register(ve.Gesture.addTarget(Ee)),(0,Ce.addDisposableListener)(Ee,Ce.EventType.KEY_DOWN,(j=>{new ye.StandardKeyboardEvent(j).equals(2)&&j.preventDefault()})),he.enableMnemonics&&this.menuDisposables.add((0,Ce.addDisposableListener)(Ee,Ce.EventType.KEY_DOWN,(j=>{const te=j.key.toLocaleLowerCase();if(this.mnemonics.has(te)){Ce.EventHelper.stop(j,!0);const he=this.mnemonics.get(te);if(1===he.length&&(he[0]instanceof f&&he[0].container&&this.focusItemByElement(he[0].container),he[0].onClick(j)),he.length>1){const j=he.shift();j&&j.container&&(this.focusItemByElement(j.container),he.push(j)),this.mnemonics.set(te,he)}}}))),at.isLinux&&this._register((0,Ce.addDisposableListener)(Ee,Ce.EventType.KEY_DOWN,(j=>{const te=new ye.StandardKeyboardEvent(j);te.equals(14)||te.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Ce.EventHelper.stop(j,!0)):(te.equals(13)||te.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Ce.EventHelper.stop(j,!0))}))),this._register((0,Ce.addDisposableListener)(this.domNode,Ce.EventType.MOUSE_OUT,(j=>{let te=j.relatedTarget;(0,Ce.isAncestor)(te,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),j.stopPropagation())}))),this._register((0,Ce.addDisposableListener)(this.actionsList,Ce.EventType.MOUSE_OVER,(j=>{let te=j.target;if(te&&(0,Ce.isAncestor)(te,this.actionsList)&&te!==this.actionsList){for(;te.parentElement!==this.actionsList&&null!==te.parentElement;)te=te.parentElement;if(te.classList.contains("action-item")){const j=this.focusedItem;this.setFocusedItem(te),j!==this.focusedItem&&this.updateFocus()}}}))),this._register(ve.Gesture.addTarget(this.actionsList)),this._register((0,Ce.addDisposableListener)(this.actionsList,ve.EventType.Tap,(j=>{let te=j.initialTarget;if(te&&(0,Ce.isAncestor)(te,this.actionsList)&&te!==this.actionsList){for(;te.parentElement!==this.actionsList&&null!==te.parentElement;)te=te.parentElement;if(te.classList.contains("action-item")){const j=this.focusedItem;this.setFocusedItem(te),j!==this.focusedItem&&this.updateFocus()}}})));let Ie={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new je.DomScrollableElement(Ee,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const Ne=this.scrollableElement.getDomNode();Ne.style.position="",this._register((0,Ce.addDisposableListener)(Ee,ve.EventType.Change,(j=>{Ce.EventHelper.stop(j,!0);const te=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:te-j.translationY})}))),this._register((0,Ce.addDisposableListener)(Ne,Ce.EventType.MOUSE_UP,(j=>{j.preventDefault()}))),Ee.style.maxHeight=`${Math.max(10,window.innerHeight-j.getBoundingClientRect().top-35)}px`,te=te.filter((j=>{var te;return!(null===(te=he.submenuIds)||void 0===te?void 0:te.has(j.id))||(console.warn(`Found submenu cycle: ${j.id}`),!1)})),this.push(te,{icon:!0,label:!0,isMenu:!0}),j.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((j=>!(j instanceof S))).forEach(((j,te,he)=>{j.updatePositionInSet(te+1,he.length)}))}initializeOrUpdateStyleSheet(j,te){this.styleSheet||((0,Ce.isInShadowDOM)(j)?this.styleSheet=(0,Ce.createStyleSheet)(j):(d.globalStyleSheet||(d.globalStyleSheet=(0,Ce.createStyleSheet)()),this.styleSheet=d.globalStyleSheet)),this.styleSheet.textContent=function C(j){let te=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${(0,Oe.formatRule)(et.Codicon.menuSelection)}\n${(0,Oe.formatRule)(et.Codicon.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n`;const he=j.scrollbarShadow;he&&(te+=`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${he} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${he} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${he} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const ve=j.scrollbarSliderBackground;ve&&(te+=`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${ve};\n\t\t\t}\n\t\t`);const Ce=j.scrollbarSliderHoverBackground;Ce&&(te+=`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${Ce};\n\t\t\t}\n\t\t`);const ye=j.scrollbarSliderActiveBackground;return ye&&(te+=`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${ye};\n\t\t\t}\n\t\t`),te}(te)}style(j){const te=this.getContainer();this.initializeOrUpdateStyleSheet(te,j);const he=j.foregroundColor?`${j.foregroundColor}`:"",ve=j.backgroundColor?`${j.backgroundColor}`:"",Ce=j.borderColor?`1px solid ${j.borderColor}`:"",ye=j.shadowColor?`0 2px 4px ${j.shadowColor}`:"";te.style.border=Ce,this.domNode.style.color=he,this.domNode.style.backgroundColor=ve,te.style.boxShadow=ye,this.viewItems&&this.viewItems.forEach((te=>{(te instanceof u||te instanceof S)&&te.style(j)}))}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(j){const te=this.focusedItem;this.setFocusedItem(j),te!==this.focusedItem&&this.updateFocus()}setFocusedItem(j){for(let te=0;te<this.actionsList.children.length;te++){if(j===this.actionsList.children[te]){this.focusedItem=te;break}}}updateFocus(j){super.updateFocus(j,!0,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(j,te,he){if(j instanceof Ze.Separator)return new S(te.context,j,{icon:!0});if(j instanceof Ze.SubmenuAction){const ve=new f(j,j.actions,he,Object.assign(Object.assign({},te),{submenuIds:new Set([...te.submenuIds||[],j.id])}));if(te.enableMnemonics){const j=ve.getMnemonic();if(j&&ve.isEnabled()){let te=[];this.mnemonics.has(j)&&(te=this.mnemonics.get(j)),te.push(ve),this.mnemonics.set(j,te)}}return ve}{const he={enableMnemonics:te.enableMnemonics,useEventAsContext:te.useEventAsContext};if(te.getKeyBinding){const ve=te.getKeyBinding(j);if(ve){const j=ve.getLabel();j&&(he.keybinding=j)}}const ve=new u(te.context,j,he);if(te.enableMnemonics){const j=ve.getMnemonic();if(j&&ve.isEnabled()){let te=[];this.mnemonics.has(j)&&(te=this.mnemonics.get(j)),te.push(ve),this.mnemonics.set(j,te)}}return ve}}}te.Menu=d;class u extends Ne.BaseActionViewItem{constructor(j,ve,ye={}){if(ye.isMenu=!0,super(ve,ve,ye),this.options=ye,this.options.icon=void 0!==ye.icon&&ye.icon,this.options.label=void 0===ye.label||ye.label,this.cssClass="",this.options.label&&ye.enableMnemonics){let j=this.getAction().label;if(j){let he=te.MENU_MNEMONIC_REGEX.exec(j);he&&(this.mnemonic=(he[1]?he[1]:he[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Ye.RunOnceScheduler((()=>{!this.element||(this._register((0,Ce.addDisposableListener)(this.element,Ce.EventType.MOUSE_UP,(j=>{if(Ce.EventHelper.stop(j,!0),he.isFirefox){if(new Ee.StandardMouseEvent(j).rightButton)return;this.onClick(j)}else setTimeout((()=>{this.onClick(j)}),0)}))),this._register((0,Ce.addDisposableListener)(this.element,Ce.EventType.CONTEXT_MENU,(j=>{Ce.EventHelper.stop(j,!0)}))))}),100),this._register(this.runOnceToEnableMouseUp)}render(j){super.render(j),this.element&&(this.container=j,this.item=(0,Ce.append)(this.element,(0,Ce.$)("a.action-menu-item")),this._action.id===Ze.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,Ce.append)(this.item,(0,Ce.$)("span.menu-item-check"+et.Codicon.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,Ce.append)(this.item,(0,Ce.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,Ce.append)(this.item,(0,Ce.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(j,te){this.item&&(this.item.setAttribute("aria-posinset",`${j}`),this.item.setAttribute("aria-setsize",`${te}`))}updateLabel(){if(this.label&&this.options.label){(0,Ce.clearNode)(this.label);let j=(0,nt.stripIcons)(this.getAction().label);if(j){const he=v(j);this.options.enableMnemonics||(j=he),this.label.setAttribute("aria-label",he.replace(/&&/g,"&"));const ve=te.MENU_MNEMONIC_REGEX.exec(j);if(ve){j=ct.escape(j),te.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let he=te.MENU_ESCAPED_MNEMONIC_REGEX.exec(j);for(;he&&he[1];)he=te.MENU_ESCAPED_MNEMONIC_REGEX.exec(j);const M=j=>j.replace(/&amp;&amp;/g,"&amp;");he?this.label.append(ct.ltrim(M(j.substr(0,he.index))," "),(0,Ce.$)("u",{"aria-hidden":"true"},he[3]),ct.rtrim(M(j.substr(he.index+he[0].length))," ")):this.label.innerText=M(j).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(ve[1]?ve[1]:ve[3]).toLocaleLowerCase())}else this.label.innerText=j.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const j=this.getAction().checked;this.item.classList.toggle("checked",!!j),void 0!==j?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",j?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const j=this.element&&this.element.classList.contains("focused"),te=j&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,he=j&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,ve=j&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=te?te.toString():"",this.item.style.backgroundColor=he?he.toString():""),this.check&&(this.check.style.color=te?te.toString():""),this.container&&(this.container.style.border=ve)}style(j){this.menuStyle=j,this.applyStyle()}}class f extends u{constructor(j,te,he,ve){super(j,j,ve),this.submenuActions=te,this.parentData=he,this.submenuOptions=ve,this.mysubmenu=null,this.submenuDisposables=this._register(new rt.DisposableStore),this.mouseOver=!1,this.expandDirection=ve&&void 0!==ve.expandDirection?ve.expandDirection:ht.Right,this.showScheduler=new Ye.RunOnceScheduler((()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))}),250),this.hideScheduler=new Ye.RunOnceScheduler((()=>{this.element&&!(0,Ce.isAncestor)((0,Ce.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}),750)}render(j){super.render(j),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,Ce.append)(this.item,(0,Ce.$)("span.submenu-indicator"+et.Codicon.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,Ce.addDisposableListener)(this.element,Ce.EventType.KEY_UP,(j=>{let te=new ye.StandardKeyboardEvent(j);(te.equals(17)||te.equals(3))&&(Ce.EventHelper.stop(j,!0),this.createSubmenu(!0))}))),this._register((0,Ce.addDisposableListener)(this.element,Ce.EventType.KEY_DOWN,(j=>{let te=new ye.StandardKeyboardEvent(j);(0,Ce.getActiveElement)()===this.item&&(te.equals(17)||te.equals(3))&&Ce.EventHelper.stop(j,!0)}))),this._register((0,Ce.addDisposableListener)(this.element,Ce.EventType.MOUSE_OVER,(j=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())}))),this._register((0,Ce.addDisposableListener)(this.element,Ce.EventType.MOUSE_LEAVE,(j=>{this.mouseOver=!1}))),this._register((0,Ce.addDisposableListener)(this.element,Ce.EventType.FOCUS_OUT,(j=>{this.element&&!(0,Ce.isAncestor)((0,Ce.getActiveElement)(),this.element)&&this.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)}))))}updateEnabled(){}onClick(j){Ce.EventHelper.stop(j,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(j){if(this.parentData.submenu&&(j||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(j,te,he,ve){const Ce={top:0,left:0};return Ce.left=(0,Ke.layout)(j.width,te.width,{position:ve===ht.Right?0:1,offset:he.left,size:he.width}),Ce.left>=he.left&&Ce.left<he.left+he.width&&(he.left+10+te.width<=j.width&&(Ce.left=he.left+10),he.top+=10,he.height=0),Ce.top=(0,Ke.layout)(j.height,te.height,{position:0,offset:he.top,size:0}),Ce.top+te.height===he.top&&Ce.top+he.height+te.height<=j.height&&(Ce.top+=he.height),Ce}createSubmenu(j=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,Ce.append)(this.element,(0,Ce.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const te=getComputedStyle(this.parentData.parent.domNode),he=parseFloat(te.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new d(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Ze.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const ve=this.element.getBoundingClientRect(),Ee={top:ve.top-he,left:ve.left,height:ve.height+2*he,width:ve.width},Ie=this.submenuContainer.getBoundingClientRect(),{top:Ne,left:Oe}=this.calculateSubmenuMenuLayout(new Ce.Dimension(window.innerWidth,window.innerHeight),Ce.Dimension.lift(Ie),Ee,this.expandDirection);this.submenuContainer.style.left=Oe-Ie.left+"px",this.submenuContainer.style.top=Ne-Ie.top+"px",this.submenuDisposables.add((0,Ce.addDisposableListener)(this.submenuContainer,Ce.EventType.KEY_UP,(j=>{new ye.StandardKeyboardEvent(j).equals(15)&&(Ce.EventHelper.stop(j,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add((0,Ce.addDisposableListener)(this.submenuContainer,Ce.EventType.KEY_DOWN,(j=>{new ye.StandardKeyboardEvent(j).equals(15)&&Ce.EventHelper.stop(j,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(j),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(j){var te;this.item&&(null===(te=this.item)||void 0===te||te.setAttribute("aria-expanded",j))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const j=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=j?`${j}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class S extends Ne.ActionViewItem{style(j){this.label&&(this.label.style.borderBottomColor=j.separatorColor?`${j.separatorColor}`:"")}}function v(j){const he=te.MENU_MNEMONIC_REGEX,ve=he.exec(j);if(!ve)return j;const Ce=!ve[1];return j.replace(he,Ce?"$2$3":"").trim()}te.cleanMnemonic=v})),define(Ce[488],ie([1,0,7,46,56,192,2,74,142]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.QuickInputBox=void 0;const Ne=he.$;class h extends Ee.Disposable{constructor(j){super(),this.parent=j,this.onKeyDown=j=>he.addDisposableListener(this.inputBox.inputElement,he.EventType.KEY_DOWN,(te=>{j(new ve.StandardKeyboardEvent(te))})),this.onMouseDown=j=>he.addDisposableListener(this.inputBox.inputElement,he.EventType.MOUSE_DOWN,(te=>{j(new Ce.StandardMouseEvent(te))})),this.onDidChange=j=>this.inputBox.onDidChange(j),this.container=he.append(this.parent,Ne(".quick-input-box")),this.inputBox=this._register(new ye.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(j){this.inputBox.value=j}select(j=null){this.inputBox.select(j)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(j){this.inputBox.setPlaceHolder(j)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(j){this.inputBox.setAriaLabel(j)}get password(){return"password"===this.inputBox.inputElement.type}set password(j){this.inputBox.inputElement.type=j?"password":"text"}setAttribute(j,te){this.inputBox.inputElement.setAttribute(j,te)}removeAttribute(j){this.inputBox.inputElement.removeAttribute(j)}showDecoration(j){j===Ie.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:j===Ie.default.Info?1:j===Ie.default.Warning?2:3,content:""})}stylesForType(j){return this.inputBox.stylesForType(j===Ie.default.Info?1:j===Ie.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(j){this.inputBox.style(j)}}te.QuickInputBox=h})),define(Ce[489],ie([5,6]),(function(j,te){return j.create("vs/base/common/errorMessage",te)})),define(Ce[490],ie([1,0,19,20,489]),(function(j,te,he,ve,Ce){function I(j,te){return te&&(j.stack||j.stacktrace)?Ce.localize(0,null,b(j),w(j.stack)||w(j.stacktrace)):b(j)}function w(j){return Array.isArray(j)?j.join("\n"):j}function b(j){return"string"==typeof j.code&&"number"==typeof j.errno&&"string"==typeof j.syscall?Ce.localize(1,null,j.message):j.message||Ce.localize(2,null)}Object.defineProperty(te,"__esModule",{value:!0}),te.toErrorMessage=void 0,te.toErrorMessage=function p(j=null,te=!1){if(!j)return Ce.localize(3,null);if(Array.isArray(j)){const ve=he.coalesce(j),ye=p(ve[0],te);return ve.length>1?Ce.localize(4,null,ye,ve.length):ye}if(ve.isString(j))return j;if(j.detail){const he=j.detail;if(he.error)return I(he.error,te);if(he.exception)return I(he.exception,te)}return j.stack?I(j,te):j.message?j.message:Ce.localize(5,null)}})),define(Ce[491],ie([5,6]),(function(j,te){return j.create("vs/base/common/keybindingLabels",te)})),define(Ce[193],ie([1,0,491]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.UserSettingsLabelProvider=te.ElectronAcceleratorLabelProvider=te.AriaLabelProvider=te.UILabelProvider=te.ModifierLabelProvider=void 0;class m{constructor(j,te,he=te){this.modifierLabels=[null],this.modifierLabels[2]=j,this.modifierLabels[1]=te,this.modifierLabels[3]=he}toLabel(j,te,he){if(0===te.length)return null;const ve=[];for(let Ce=0,ye=te.length;Ce<ye;Ce++){const ye=te[Ce],Ee=he(ye);if(null===Ee)return null;ve[Ce]=D(ye,Ee,this.modifierLabels[j])}return ve.join(" ")}}function D(j,te,he){if(null===te)return"";const ve=[];return j.ctrlKey&&ve.push(he.ctrlKey),j.shiftKey&&ve.push(he.shiftKey),j.altKey&&ve.push(he.altKey),j.metaKey&&ve.push(he.metaKey),""!==te&&ve.push(te),ve.join(he.separator)}te.ModifierLabelProvider=m,te.UILabelProvider=new m({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:he.localize(0,null),shiftKey:he.localize(1,null),altKey:he.localize(2,null),metaKey:he.localize(3,null),separator:"+"},{ctrlKey:he.localize(4,null),shiftKey:he.localize(5,null),altKey:he.localize(6,null),metaKey:he.localize(7,null),separator:"+"}),te.AriaLabelProvider=new m({ctrlKey:he.localize(8,null),shiftKey:he.localize(9,null),altKey:he.localize(10,null),metaKey:he.localize(11,null),separator:"+"},{ctrlKey:he.localize(12,null),shiftKey:he.localize(13,null),altKey:he.localize(14,null),metaKey:he.localize(15,null),separator:"+"},{ctrlKey:he.localize(16,null),shiftKey:he.localize(17,null),altKey:he.localize(18,null),metaKey:he.localize(19,null),separator:"+"}),te.ElectronAcceleratorLabelProvider=new m({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),te.UserSettingsLabelProvider=new m({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})})),define(Ce[492],ie([1,0,7,193,39,478,339]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.KeybindingLabel=void 0;const Ee=he.$;class b{constructor(j,te,ve){this.os=te,this.keyElements=new Set,this.options=ve||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=he.append(j,Ee(".monaco-keybinding")),this.didEverRender=!1,j.appendChild(this.domNode)}get element(){return this.domNode}set(j,te){this.didEverRender&&this.keybinding===j&&b.areSame(this.matches,te)||(this.keybinding=j,this.matches=te,this.render())}render(){if(this.clear(),this.keybinding){let[j,te]=this.keybinding.getParts();j&&this.renderPart(this.domNode,j,this.matches?this.matches.firstPart:null),te&&(he.append(this.domNode,Ee("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,te,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){he.clearNode(this.domNode),this.keyElements.clear()}renderPart(j,te,he){const Ce=ve.UILabelProvider.modifierLabels[this.os];te.ctrlKey&&this.renderKey(j,Ce.ctrlKey,Boolean(null==he?void 0:he.ctrlKey),Ce.separator),te.shiftKey&&this.renderKey(j,Ce.shiftKey,Boolean(null==he?void 0:he.shiftKey),Ce.separator),te.altKey&&this.renderKey(j,Ce.altKey,Boolean(null==he?void 0:he.altKey),Ce.separator),te.metaKey&&this.renderKey(j,Ce.metaKey,Boolean(null==he?void 0:he.metaKey),Ce.separator);const ye=te.keyLabel;ye&&this.renderKey(j,ye,Boolean(null==he?void 0:he.keyCode),"")}renderKey(j,te,ve,Ce){he.append(j,this.createKeyElement(te,ve?".highlight":"")),Ce&&he.append(j,Ee("span.monaco-keybinding-key-separator",void 0,Ce))}renderUnbound(j){he.append(j,this.createKeyElement((0,ye.localize)(0,null)))}createKeyElement(j,te=""){const he=Ee("span.monaco-keybinding-key"+te,void 0,j);return this.keyElements.add(he),he}style(j){this.labelBackground=j.keybindingLabelBackground,this.labelForeground=j.keybindingLabelForeground,this.labelBorder=j.keybindingLabelBorder,this.labelBottomBorder=j.keybindingLabelBottomBorder,this.labelShadow=j.keybindingLabelShadow,this.applyStyles()}applyStyles(){var j;if(this.element){for(const te of this.keyElements)this.labelBackground&&(te.style.backgroundColor=null===(j=this.labelBackground)||void 0===j?void 0:j.toString()),this.labelBorder&&(te.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(te.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(te.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(j,te){return j===te||!j&&!te||!!j&&!!te&&(0,Ce.equals)(j.firstPart,te.firstPart)&&(0,Ce.equals)(j.chordPart,te.chordPart)}}te.KeybindingLabel=b})),define(Ce[493],ie([5,6]),(function(j,te){return j.create("vs/base/parts/quickinput/browser/quickInput",te)})),define(Ce[494],ie([5,6]),(function(j,te){return j.create("vs/base/parts/quickinput/browser/quickInputList",te)})),define(Ce[495],ie([1,0,7,46,84,190,492,44,19,27,317,93,4,95,2,17,20,229,494,142]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct){Object.defineProperty(te,"__esModule",{value:!0}),te.QuickInputList=te.QuickInputListFocus=void 0;const ht=he.$;class d{constructor(j){this.hidden=!1,this._onChecked=new Ze.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,j)}get checked(){return!!this._checked}set checked(j){j!==this._checked&&(this._checked=j,this._onChecked.fire(j))}dispose(){this._onChecked.dispose()}}class u{get templateId(){return u.ID}renderTemplate(j){const te=Object.create(null);te.toDisposeElement=[],te.toDisposeTemplate=[],te.entry=he.append(j,ht(".quick-input-list-entry"));const ve=he.append(te.entry,ht("label.quick-input-list-label"));te.toDisposeTemplate.push(he.addStandardDisposableListener(ve,he.EventType.CLICK,(j=>{te.checkbox.offsetParent||j.preventDefault()}))),te.checkbox=he.append(ve,ht("input.quick-input-list-checkbox")),te.checkbox.type="checkbox",te.toDisposeTemplate.push(he.addStandardDisposableListener(te.checkbox,he.EventType.CHANGE,(j=>{te.element.checked=te.checkbox.checked})));const Ie=he.append(ve,ht(".quick-input-list-rows")),Ne=he.append(Ie,ht(".quick-input-list-row")),Oe=he.append(Ie,ht(".quick-input-list-row"));te.label=new ye.IconLabel(Ne,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const Ke=he.append(Ne,ht(".quick-input-list-entry-keybinding"));te.keybinding=new Ee.KeybindingLabel(Ke,nt.OS);const je=he.append(Oe,ht(".quick-input-list-label-meta"));return te.detail=new ye.IconLabel(je,{supportHighlights:!0,supportIcons:!0}),te.separator=he.append(te.entry,ht(".quick-input-list-separator")),te.actionBar=new Ce.ActionBar(te.entry),te.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),te.toDisposeTemplate.push(te.actionBar),te}renderElement(j,te,he){he.toDisposeElement=(0,et.dispose)(he.toDisposeElement),he.element=j,he.checkbox.checked=j.checked,he.toDisposeElement.push(j.onChecked((j=>he.checkbox.checked=j)));const{labelHighlights:ve,descriptionHighlights:Ce,detailHighlights:ye}=j,Ee=Object.create(null);Ee.matches=ve||[],Ee.descriptionTitle=j.saneDescription,Ee.descriptionMatches=Ce||[],Ee.extraClasses=j.item.iconClasses,Ee.italic=j.item.italic,Ee.strikethrough=j.item.strikethrough,he.label.setLabel(j.saneLabel,j.saneDescription,Ee),he.keybinding.set(j.item.keybinding),j.saneDetail&&he.detail.setLabel(j.saneDetail,void 0,{matches:ye,title:j.saneDetail}),j.separator&&j.separator.label?(he.separator.textContent=j.separator.label,he.separator.style.display=""):he.separator.style.display="none",he.entry.classList.toggle("quick-input-list-separator-border",!!j.separator),he.actionBar.clear();const Ne=j.item.buttons;Ne&&Ne.length?(he.actionBar.push(Ne.map(((te,he)=>{let ve=te.iconClass||(te.iconPath?(0,at.getIconClass)(te.iconPath):void 0);te.alwaysVisible&&(ve=ve?`${ve} always-visible`:"always-visible");const Ce=new Ie.Action(`id-${he}`,"",ve,!0,(()=>fi(this,void 0,void 0,(function*(){j.fireButtonTriggered({button:te,item:j.item})}))));return Ce.tooltip=te.tooltip||"",Ce})),{icon:!0,label:!1}),he.entry.classList.add("has-actions")):he.entry.classList.remove("has-actions")}disposeElement(j,te,he){he.toDisposeElement=(0,et.dispose)(he.toDisposeElement)}disposeTemplate(j){j.toDisposeElement=(0,et.dispose)(j.toDisposeElement),j.toDisposeTemplate=(0,et.dispose)(j.toDisposeTemplate)}}u.ID="listelement";class f{getHeight(j){return j.saneDetail?44:22}getTemplateId(j){return u.ID}}var mt,pt;(pt=mt=te.QuickInputListFocus||(te.QuickInputListFocus={}))[pt.First=1]="First",pt[pt.Second=2]="Second",pt[pt.Last=3]="Last",pt[pt.Next=4]="Next",pt[pt.Previous=5]="Previous",pt[pt.NextPage=6]="NextPage",pt[pt.PreviousPage=7]="PreviousPage";class v{constructor(j,te,Ce){this.parent=j,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Ze.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Ze.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Ze.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Ze.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Ze.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new Ze.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Ze.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=te,this.container=he.append(this.parent,ht(".quick-input-list"));const ye=new f,Ee=new _;this.list=Ce.createList("QuickInput",this.container,ye,[new u],{identityProvider:{getId:j=>j.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:Ee}),this.list.getHTMLElement().id=te,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((j=>{const te=new ve.StandardKeyboardEvent(j);switch(te.keyCode){case 10:this.toggleCheckbox();break;case 31:(nt.isMacintosh?j.metaKey:j.ctrlKey)&&this.list.setFocus((0,Ne.range)(this.list.length));break;case 16:{const j=this.list.getFocus();1===j.length&&0===j[0]&&this._onLeave.fire();break}case 18:{const j=this.list.getFocus();1===j.length&&j[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(te)}))),this.disposables.push(this.list.onMouseDown((j=>{2!==j.browserEvent.button&&j.browserEvent.preventDefault()}))),this.disposables.push(he.addDisposableListener(this.container,he.EventType.CLICK,(j=>{(j.x||j.y)&&this._onLeave.fire()}))),this.disposables.push(this.list.onMouseMiddleClick((j=>{this._onLeave.fire()}))),this.disposables.push(this.list.onContextMenu((j=>{"number"==typeof j.index&&(j.browserEvent.preventDefault(),this.list.setSelection([j.index]))}))),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Ze.Event.map(this.list.onDidChangeFocus,(j=>j.elements.map((j=>j.item))))}get onDidChangeSelection(){return Ze.Event.map(this.list.onDidChangeSelection,(j=>({items:j.elements.map((j=>j.item)),event:j.browserEvent})))}get scrollTop(){return this.list.scrollTop}set scrollTop(j){this.list.scrollTop=j}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(j,te=!0){for(let he=0,ve=j.length;he<ve;he++){const ve=j[he];if(!ve.hidden){if(!ve.checked)return!1;te=!0}}return te}getCheckedCount(){let j=0;const te=this.elements;for(let he=0,ve=te.length;he<ve;he++)te[he].checked&&j++;return j}getVisibleCount(){let j=0;const te=this.elements;for(let he=0,ve=te.length;he<ve;he++)te[he].hidden||j++;return j}setAllVisibleChecked(j){try{this._fireCheckedEvents=!1,this.elements.forEach((te=>{te.hidden||(te.checked=j)}))}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(j){this.elementDisposables=(0,et.dispose)(this.elementDisposables);const N=j=>this.fireButtonTriggered(j);this.inputElements=j,this.elements=j.reduce(((te,he,ve)=>{var Ce,ye,Ee;if("separator"!==he.type){const Ie=ve&&j[ve-1],Ne=he.label&&he.label.replace(/\r?\n/g," "),Ke=he.meta&&he.meta.replace(/\r?\n/g," "),je=he.description&&he.description.replace(/\r?\n/g," "),Ze=he.detail&&he.detail.replace(/\r?\n/g," "),Ye=he.ariaLabel||[Ne,je,Ze].map((j=>(0,Oe.getCodiconAriaLabel)(j))).filter((j=>!!j)).join(", ");te.push(new d({index:ve,item:he,saneLabel:Ne,saneMeta:Ke,saneAriaLabel:Ye,saneDescription:je,saneDetail:Ze,labelHighlights:null===(Ce=he.highlights)||void 0===Ce?void 0:Ce.label,descriptionHighlights:null===(ye=he.highlights)||void 0===ye?void 0:ye.description,detailHighlights:null===(Ee=he.highlights)||void 0===Ee?void 0:Ee.detail,checked:!1,separator:Ie&&"separator"===Ie.type?Ie:void 0,fireButtonTriggered:N}))}return te}),[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map((j=>j.onChecked((()=>this.fireCheckedEvents()))))),this.elementsToIndexes=this.elements.reduce(((j,te,he)=>(j.set(te.item,he),j)),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((j=>j.item))}setFocusedElements(j){if(this.list.setFocus(j.filter((j=>this.elementsToIndexes.has(j))).map((j=>this.elementsToIndexes.get(j)))),j.length>0){const j=this.list.getFocus()[0];"number"==typeof j&&this.list.reveal(j)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(j){this.list.setSelection(j.filter((j=>this.elementsToIndexes.has(j))).map((j=>this.elementsToIndexes.get(j))))}getCheckedElements(){return this.elements.filter((j=>j.checked)).map((j=>j.item))}setCheckedElements(j){try{this._fireCheckedEvents=!1;const te=new Set;for(const he of j)te.add(he);for(const j of this.elements)j.checked=te.has(j.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(j){this.list.getHTMLElement().style.pointerEvents=j?"":"none"}focus(j){if(!this.list.length)return;switch(j===mt.Next&&this.list.getFocus()[0]===this.list.length-1&&(j=mt.First),j===mt.Previous&&0===this.list.getFocus()[0]&&(j=mt.Last),j===mt.Second&&this.list.length<2&&(j=mt.First),j){case mt.First:this.list.focusFirst();break;case mt.Second:this.list.focusNth(1);break;case mt.Last:this.list.focusLast();break;case mt.Next:this.list.focusNext();break;case mt.Previous:this.list.focusPrevious();break;case mt.NextPage:this.list.focusNextPage();break;case mt.PreviousPage:this.list.focusPreviousPage()}const te=this.list.getFocus()[0];"number"==typeof te&&this.list.reveal(te)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(j){this.list.getHTMLElement().style.maxHeight=j?`calc(${44*Math.floor(j/44)}px)`:"",this.list.layout()}filter(j){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((j=j.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let te;this.elements.forEach((he=>{const ve=this.matchOnLabel?(0,rt.withNullAsUndefined)((0,Ye.matchesFuzzyIconAware)(j,(0,Ye.parseLabelWithIcons)(he.saneLabel))):void 0,Ce=this.matchOnDescription?(0,rt.withNullAsUndefined)((0,Ye.matchesFuzzyIconAware)(j,(0,Ye.parseLabelWithIcons)(he.saneDescription||""))):void 0,ye=this.matchOnDetail?(0,rt.withNullAsUndefined)((0,Ye.matchesFuzzyIconAware)(j,(0,Ye.parseLabelWithIcons)(he.saneDetail||""))):void 0,Ee=this.matchOnMeta?(0,rt.withNullAsUndefined)((0,Ye.matchesFuzzyIconAware)(j,(0,Ye.parseLabelWithIcons)(he.saneMeta||""))):void 0;if(ve||Ce||ye||Ee?(he.labelHighlights=ve,he.descriptionHighlights=Ce,he.detailHighlights=ye,he.hidden=!1):(he.labelHighlights=void 0,he.descriptionHighlights=void 0,he.detailHighlights=void 0,he.hidden=!he.item.alwaysShow),he.separator=void 0,!this.sortByLabel){const j=he.index&&this.inputElements[he.index-1];te=j&&"separator"===j.type?j:te,te&&!he.hidden&&(he.separator=te,te=void 0)}}))}else this.elements.forEach((j=>{j.labelHighlights=void 0,j.descriptionHighlights=void 0,j.detailHighlights=void 0,j.hidden=!1;const te=j.index&&this.inputElements[j.index-1];j.separator=te&&"separator"===te.type?te:void 0}));const te=this.elements.filter((j=>!j.hidden));if(this.sortByLabel&&j){const he=j.toLowerCase();te.sort(((j,te)=>function C(j,te,he){const ve=j.labelHighlights||[],Ce=te.labelHighlights||[];return ve.length&&!Ce.length?-1:!ve.length&&Ce.length?1:0===ve.length&&0===Ce.length?0:(0,Ke.compareAnything)(j.saneLabel,te.saneLabel,he)}(j,te,he)))}return this.elementsToIndexes=te.reduce(((j,te,he)=>(j.set(te.item,he),j)),new Map),this.list.splice(0,this.list.length,te),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(te.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const j=this.list.getFocusedElements(),te=this.allVisibleChecked(j);for(const he of j)he.checked=!te}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(j){this.container.style.display=j?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,et.dispose)(this.elementDisposables),this.disposables=(0,et.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(j){this._onButtonTriggered.fire(j)}style(j){this.list.style(j)}}Ci([je.memoize],v.prototype,"onDidChangeFocus",null),Ci([je.memoize],v.prototype,"onDidChangeSelection",null),te.QuickInputList=v;class _{getWidgetAriaLabel(){return(0,ct.localize)(0,null)}getAriaLabel(j){return j.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}})),define(Ce[496],ie([1,0,7,46,84,330,223,113,342,44,19,10,21,27,4,2,17,74,20,229,220,493,488,495,142]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t){Object.defineProperty(te,"__esModule",{value:!0}),te.QuickInputController=void 0;const Ct=he.$,bt={iconClass:Ye.Codicon.quickInputBack.classNames,tooltip:(0,pt.localize)(0,null),handle:-1};class _ extends nt.Disposable{constructor(j){super(),this.ui=j,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=_.noPromptMessage,this._severity=at.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new et.Emitter),this.onDidHideEmitter=this._register(new et.Emitter),this.onDisposeEmitter=this._register(new et.Emitter),this.visibleDisposables=this._register(new nt.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(j){this._title=j,this.update()}get description(){return this._description}set description(j){this._description=j,this.update()}get step(){return this._steps}set step(j){this._steps=j,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(j){this._totalSteps=j,this.update()}get enabled(){return this._enabled}set enabled(j){this._enabled=j,this.update()}get contextKey(){return this._contextKey}set contextKey(j){this._contextKey=j,this.update()}get busy(){return this._busy}set busy(j){this._busy=j,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(j){const te=this._ignoreFocusOut!==j&&!rt.isIOS;this._ignoreFocusOut=j&&!rt.isIOS,te&&this.update()}get buttons(){return this._buttons}set buttons(j){this._buttons=j,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(j){this._validationMessage=j,this.update()}get severity(){return this._severity}set severity(j){this._severity=j,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((j=>{-1!==this.buttons.indexOf(j)&&this.onDidTriggerButtonEmitter.fire(j)}))),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(j=mt.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:j})}update(){if(!this.visible)return;const j=this.getTitle();j&&this.ui.title.textContent!==j?this.ui.title.textContent=j:!j&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText=" ");const te=this.getDescription();if(this.ui.description1.textContent!==te&&(this.ui.description1.textContent=te),this.ui.description2.textContent!==te&&(this.ui.description2.textContent=te),this.busy&&!this.busyDelay&&(this.busyDelay=new je.TimeoutTimer,this.busyDelay.setIfNotSet((()=>{this.visible&&this.ui.progressBar.infinite()}),800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const j=this.buttons.filter((j=>j===bt));this.ui.leftActionBar.push(j.map(((j,te)=>{const he=new Oe.Action(`id-${te}`,"",j.iconClass||(0,ht.getIconClass)(j.iconPath),!0,(()=>fi(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(j)}))));return he.tooltip=j.tooltip||"",he})),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const te=this.buttons.filter((j=>j!==bt));this.ui.rightActionBar.push(te.map(((j,te)=>{const he=new Oe.Action(`id-${te}`,"",j.iconClass||(0,ht.getIconClass)(j.iconPath),!0,(()=>fi(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(j)}))));return he.tooltip=j.tooltip||"",he})),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const ve=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==ve&&(this._lastValidationMessage=ve,he.reset(this.ui.message,...(0,Ie.renderLabelWithIcons)(ve))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,pt.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(j){if(this.ui.inputBox.showDecoration(j),j!==at.default.Ignore){const te=this.ui.inputBox.stylesForType(j);this.ui.message.style.color=te.foreground?`${te.foreground}`:"",this.ui.message.style.backgroundColor=te.background?`${te.background}`:"",this.ui.message.style.border=te.border?`1px solid ${te.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}_.noPromptMessage=(0,pt.localize)(1,null);class L extends _{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new et.Emitter),this.onWillAcceptEmitter=this._register(new et.Emitter),this.onDidAcceptEmitter=this._register(new et.Emitter),this.onDidCustomEmitter=this._register(new et.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?mt.ItemActivation.NONE:mt.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new et.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new et.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new et.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=j=>j,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(j){this._quickNavigate=j,this.update()}get value(){return this._value}set value(j){this.doSetValue(j)}doSetValue(j,te){this._value!==j&&(this._value=j,te||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(j){this._ariaLabel=j,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(j){this._placeholder=j,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(j){this.ui.list.scrollTop=j}set items(j){this._items=j,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(j){this._canSelectMany=j,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(j){this._canAcceptInBackground=j}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(j){this._matchOnDescription=j,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(j){this._matchOnDetail=j,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(j){this._matchOnLabel=j,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(j){this._sortByLabel=j,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(j){this._autoFocusOnList=j,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(j){this._keepScrollPosition=j}get itemActivation(){return this._itemActivation}set itemActivation(j){this._itemActivation=j}get activeItems(){return this._activeItems}set activeItems(j){this._activeItems=j,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(j){this._selectedItems=j,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?mt.NO_KEY_MODS:this.ui.keyMods}set valueSelection(j){this._valueSelection=j,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(j){this._customButton=j,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(j){this._customButtonLabel=j,this.update()}get customHover(){return this._customButtonHover}set customHover(j){this._customButtonHover=j,this.update()}get ok(){return this._ok}set ok(j){this._ok=j,this.update()}get hideInput(){return!!this._hideInput}set hideInput(j){this._hideInput=j,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(_t.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((j=>{this.doSetValue(j,!0)}))),this.visibleDisposables.add(this.ui.inputBox.onMouseDown((j=>{this.autoFocusOnList||this.ui.list.clearFocus()}))),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((j=>{switch(j.keyCode){case 18:this.ui.list.focus(_t.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),he.EventHelper.stop(j,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(_t.QuickInputListFocus.Previous):this.ui.list.focus(_t.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),he.EventHelper.stop(j,!0);break;case 12:this.ui.list.focus(_t.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),he.EventHelper.stop(j,!0);break;case 11:this.ui.list.focus(_t.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),he.EventHelper.stop(j,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(j.ctrlKey||j.metaKey)&&!j.shiftKey&&!j.altKey&&(this.ui.list.focus(_t.QuickInputListFocus.First),he.EventHelper.stop(j,!0));break;case 13:(j.ctrlKey||j.metaKey)&&!j.shiftKey&&!j.altKey&&(this.ui.list.focus(_t.QuickInputListFocus.Last),he.EventHelper.stop(j,!0))}}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)}))),this.visibleDisposables.add(this.ui.onDidCustom((()=>{this.onDidCustomEmitter.fire()}))),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((j=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,Ke.equals)(j,this._activeItems,((j,te)=>j===te))||(this._activeItems=j,this.onDidChangeActiveEmitter.fire(j))}))),this.visibleDisposables.add(this.ui.list.onDidChangeSelection((({items:j,event:te})=>{this.canSelectMany?j.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,Ke.equals)(j,this._selectedItems,((j,te)=>j===te))||(this._selectedItems=j,this.onDidChangeSelectionEmitter.fire(j),j.length&&this.handleAccept(te instanceof MouseEvent&&1===te.button))}))),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((j=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,Ke.equals)(j,this._selectedItems,((j,te)=>j===te))||(this._selectedItems=j,this.onDidChangeSelectionEmitter.fire(j))}))),this.visibleDisposables.add(this.ui.list.onButtonTriggered((j=>this.onDidTriggerItemButtonEmitter.fire(j)))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(j){let te=!1;this.onWillAcceptEmitter.fire({veto:()=>te=!0}),te||this.onDidAcceptEmitter.fire({inBackground:j})}registerQuickNavigation(){return he.addDisposableListener(this.ui.container,he.EventType.KEY_UP,(j=>{if(this.canSelectMany||!this._quickNavigate)return;const te=new ve.StandardKeyboardEvent(j),he=te.keyCode;this._quickNavigate.keybindings.some((j=>{const[ve,Ce]=j.getParts();return!Ce&&(ve.shiftKey&&4===he?!(te.ctrlKey||te.altKey||te.metaKey):!!(ve.altKey&&6===he||ve.ctrlKey&&5===he||ve.metaKey&&57===he))}))&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)}))}update(){if(!this.visible)return;const j=this.keepScrollPosition?this.scrollTop:0,te=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",te&&!this.description);const he={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!te,progressBar:!te,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(he),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const ve=this.ariaLabel||this.placeholder||L.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==ve&&(this.ui.inputBox.ariaLabel=ve),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case mt.ItemActivation.NONE:this._itemActivation=mt.ItemActivation.FIRST;break;case mt.ItemActivation.SECOND:this.ui.list.focus(_t.QuickInputListFocus.Second),this._itemActivation=mt.ItemActivation.FIRST;break;case mt.ItemActivation.LAST:this.ui.list.focus(_t.QuickInputListFocus.Last),this._itemActivation=mt.ItemActivation.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),he.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(_t.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=j)}}L.DEFAULT_ARIA_LABEL=(0,pt.localize)(3,null);class E extends nt.Disposable{constructor(j){super(),this.options=j,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new et.Emitter),this.onDidCustomEmitter=this._register(new et.Emitter),this.onDidTriggerButtonEmitter=this._register(new et.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new et.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new et.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=j.idPrefix,this.parentElement=j.container,this.styles=j.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const k=j=>{this.keyMods.ctrlCmd=j.ctrlKey||j.metaKey,this.keyMods.alt=j.altKey};this._register(he.addDisposableListener(window,he.EventType.KEY_DOWN,k,!0)),this._register(he.addDisposableListener(window,he.EventType.KEY_UP,k,!0)),this._register(he.addDisposableListener(window,he.EventType.MOUSE_DOWN,k,!0))}getUI(){if(this.ui)return this.ui;const j=he.append(this.parentElement,Ct(".quick-input-widget.show-file-icons"));j.tabIndex=-1,j.style.display="none";const te=he.createStyleSheet(j),Ie=he.append(j,Ct(".quick-input-titlebar")),Oe=this._register(new Ce.ActionBar(Ie));Oe.domNode.classList.add("quick-input-left-action-bar");const Ke=he.append(Ie,Ct(".quick-input-title")),je=this._register(new Ce.ActionBar(Ie));je.domNode.classList.add("quick-input-right-action-bar");const Ze=he.append(j,Ct(".quick-input-description")),Ye=he.append(j,Ct(".quick-input-header")),et=he.append(Ye,Ct("input.quick-input-check-all"));et.type="checkbox",this._register(he.addStandardDisposableListener(et,he.EventType.CHANGE,(j=>{const te=et.checked;Ut.setAllVisibleChecked(te)}))),this._register(he.addDisposableListener(et,he.EventType.CLICK,(j=>{(j.x||j.y)&&ct.setFocus()})));const nt=he.append(Ye,Ct(".quick-input-description")),rt=he.append(Ye,Ct(".quick-input-and-message")),at=he.append(rt,Ct(".quick-input-filter")),ct=this._register(new ft.QuickInputBox(at));ct.setAttribute("aria-describedby",`${this.idPrefix}message`);const ht=he.append(at,Ct(".quick-input-visible-count"));ht.setAttribute("aria-live","polite"),ht.setAttribute("aria-atomic","true");const bt=new Ee.CountBadge(ht,{countFormat:(0,pt.localize)(4,null)}),St=he.append(at,Ct(".quick-input-count"));St.setAttribute("aria-live","polite");const Dt=new Ee.CountBadge(St,{countFormat:(0,pt.localize)(5,null)}),It=he.append(Ye,Ct(".quick-input-action")),kt=new ye.Button(It);kt.label=(0,pt.localize)(6,null),this._register(kt.onDidClick((j=>{this.onDidAcceptEmitter.fire()})));const At=he.append(Ye,Ct(".quick-input-action")),Pt=new ye.Button(At);Pt.label=(0,pt.localize)(7,null),this._register(Pt.onDidClick((j=>{this.onDidCustomEmitter.fire()})));const Kt=he.append(rt,Ct(`#${this.idPrefix}message.quick-input-message`)),Ut=this._register(new _t.QuickInputList(j,this.idPrefix+"list",this.options));this._register(Ut.onChangedAllVisibleChecked((j=>{et.checked=j}))),this._register(Ut.onChangedVisibleCount((j=>{bt.setCount(j)}))),this._register(Ut.onChangedCheckedCount((j=>{Dt.setCount(j)}))),this._register(Ut.onLeave((()=>{setTimeout((()=>{ct.setFocus(),this.controller instanceof L&&this.controller.canSelectMany&&Ut.clearFocus()}),0)}))),this._register(Ut.onDidChangeFocus((()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")})));const jt=new Ne.ProgressBar(j);jt.getContainer().classList.add("quick-input-progress");const $t=he.trackFocus(j);return this._register($t),this._register(he.addDisposableListener(j,he.EventType.FOCUS,(j=>{this.previousFocusElement=j.relatedTarget instanceof HTMLElement?j.relatedTarget:void 0}),!0)),this._register($t.onDidBlur((()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(mt.QuickInputHideReason.Blur),this.previousFocusElement=void 0}))),this._register(he.addDisposableListener(j,he.EventType.FOCUS,(j=>{ct.setFocus()}))),this._register(he.addDisposableListener(j,he.EventType.KEY_DOWN,(te=>{const Ce=new ve.StandardKeyboardEvent(te);switch(Ce.keyCode){case 3:he.EventHelper.stop(te,!0),this.onDidAcceptEmitter.fire();break;case 9:he.EventHelper.stop(te,!0),this.hide(mt.QuickInputHideReason.Gesture);break;case 2:if(!Ce.altKey&&!Ce.ctrlKey&&!Ce.metaKey){const ve=[".action-label.codicon"];j.classList.contains("show-checkboxes")?ve.push("input"):ve.push("input[type=text]"),this.getUI().list.isDisplayed()&&ve.push(".monaco-list");const ye=j.querySelectorAll(ve.join(", "));Ce.shiftKey&&Ce.target===ye[0]?(he.EventHelper.stop(te,!0),ye[ye.length-1].focus()):!Ce.shiftKey&&Ce.target===ye[ye.length-1]&&(he.EventHelper.stop(te,!0),ye[0].focus())}}}))),this.ui={container:j,styleSheet:te,leftActionBar:Oe,titleBar:Ie,title:Ke,description1:Ze,description2:nt,rightActionBar:je,checkAll:et,filterContainer:at,inputBox:ct,visibleCountContainer:ht,visibleCount:bt,countContainer:St,count:Dt,okContainer:It,ok:kt,message:Kt,customButtonContainer:At,customButton:Pt,list:Ut,progressBar:jt,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:j=>this.show(j),hide:()=>this.hide(),setVisibilities:j=>this.setVisibilities(j),setComboboxAccessibility:j=>this.setComboboxAccessibility(j),setEnabled:j=>this.setEnabled(j),setContextKey:j=>this.options.setContextKey(j)},this.updateStyles(),this.ui}pick(j,te={},he=Ze.CancellationToken.None){return new Promise(((ve,Ce)=>{let R=j=>{R=ve,te.onKeyMods&&te.onKeyMods(ye.keyMods),ve(j)};if(he.isCancellationRequested)return void R(void 0);const ye=this.createQuickPick();let Ee;const Ie=[ye,ye.onDidAccept((()=>{if(ye.canSelectMany)R(ye.selectedItems.slice()),ye.hide();else{const j=ye.activeItems[0];j&&(R(j),ye.hide())}})),ye.onDidChangeActive((j=>{const he=j[0];he&&te.onDidFocus&&te.onDidFocus(he)})),ye.onDidChangeSelection((j=>{if(!ye.canSelectMany){const te=j[0];te&&(R(te),ye.hide())}})),ye.onDidTriggerItemButton((j=>te.onDidTriggerItemButton&&te.onDidTriggerItemButton(Object.assign(Object.assign({},j),{removeItem:()=>{const te=ye.items.indexOf(j.item);if(-1!==te){const j=ye.items.slice(),he=j.splice(te,1),ve=ye.activeItems.filter((j=>j!==he[0])),Ce=ye.keepScrollPosition;ye.keepScrollPosition=!0,ye.items=j,ve&&(ye.activeItems=ve),ye.keepScrollPosition=Ce}}})))),ye.onDidChangeValue((j=>{Ee&&!j&&(1!==ye.activeItems.length||ye.activeItems[0]!==Ee)&&(ye.activeItems=[Ee])})),he.onCancellationRequested((()=>{ye.hide()})),ye.onDidHide((()=>{(0,nt.dispose)(Ie),R(void 0)}))];ye.title=te.title,ye.canSelectMany=!!te.canPickMany,ye.placeholder=te.placeHolder,ye.ignoreFocusOut=!!te.ignoreFocusLost,ye.matchOnDescription=!!te.matchOnDescription,ye.matchOnDetail=!!te.matchOnDetail,ye.matchOnLabel=void 0===te.matchOnLabel||te.matchOnLabel,ye.autoFocusOnList=void 0===te.autoFocusOnList||te.autoFocusOnList,ye.quickNavigate=te.quickNavigate,ye.contextKey=te.contextKey,ye.busy=!0,Promise.all([j,te.activeItem]).then((([j,te])=>{Ee=te,ye.busy=!1,ye.items=j,ye.canSelectMany&&(ye.selectedItems=j.filter((j=>"separator"!==j.type&&j.picked))),Ee&&(ye.activeItems=[Ee])})),ye.show(),Promise.resolve(j).then(void 0,(j=>{Ce(j),ye.hide()}))}))}createQuickPick(){const j=this.getUI();return new L(j)}show(j){const te=this.getUI();this.onShowEmitter.fire();const ve=this.controller;this.controller=j,ve&&ve.didHide(),this.setEnabled(!0),te.leftActionBar.clear(),te.title.textContent="",te.description1.textContent="",te.description2.textContent="",te.rightActionBar.clear(),te.checkAll.checked=!1,te.inputBox.placeholder="",te.inputBox.password=!1,te.inputBox.showDecoration(at.default.Ignore),te.visibleCount.setCount(0),te.count.setCount(0),he.reset(te.message),te.progressBar.stop(),te.list.setElements([]),te.list.matchOnDescription=!1,te.list.matchOnDetail=!1,te.list.matchOnLabel=!0,te.list.sortByLabel=!0,te.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),te.inputBox.ariaLabel="";const Ce=this.options.backKeybindingLabel();bt.tooltip=Ce?(0,pt.localize)(8,null,Ce):(0,pt.localize)(9,null),te.container.style.display="",this.updateLayout(),te.inputBox.setFocus()}setVisibilities(j){const te=this.getUI();te.title.style.display=j.title?"":"none",te.description1.style.display=j.description&&(j.inputBox||j.checkAll)?"":"none",te.description2.style.display=!j.description||j.inputBox||j.checkAll?"none":"",te.checkAll.style.display=j.checkAll?"":"none",te.filterContainer.style.display=j.inputBox?"":"none",te.visibleCountContainer.style.display=j.visibleCount?"":"none",te.countContainer.style.display=j.count?"":"none",te.okContainer.style.display=j.ok?"":"none",te.customButtonContainer.style.display=j.customButton?"":"none",te.message.style.display=j.message?"":"none",te.progressBar.getContainer().style.display=j.progressBar?"":"none",te.list.display(!!j.list),te.container.classList[j.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(j){if(j!==this.comboboxAccessibility){const te=this.getUI();this.comboboxAccessibility=j,this.comboboxAccessibility?(te.inputBox.setAttribute("role","combobox"),te.inputBox.setAttribute("aria-haspopup","true"),te.inputBox.setAttribute("aria-autocomplete","list"),te.inputBox.setAttribute("aria-activedescendant",te.list.getActiveDescendant()||"")):(te.inputBox.removeAttribute("role"),te.inputBox.removeAttribute("aria-haspopup"),te.inputBox.removeAttribute("aria-autocomplete"),te.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(j){if(j!==this.enabled){this.enabled=j;for(const te of this.getUI().leftActionBar.viewItems)te.getAction().enabled=j;for(const te of this.getUI().rightActionBar.viewItems)te.getAction().enabled=j;this.getUI().checkAll.disabled=!j,this.getUI().ok.enabled=j,this.getUI().list.enabled=j}}hide(j){var te;const he=this.controller;if(he){const ve=!(null===(te=this.ui)||void 0===te?void 0:te.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!ve){let j=this.previousFocusElement;for(;j&&!j.offsetParent;)j=(0,ct.withNullAsUndefined)(j.parentElement);(null==j?void 0:j.offsetParent)?(j.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}he.didHide(j)}}layout(j,te){this.dimension=j,this.titleBarOffset=te,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const j=this.ui.container.style,te=Math.min(.62*this.dimension.width,E.MAX_WIDTH);j.width=te+"px",j.marginLeft="-"+te/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(j){this.styles=j,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:j,quickInputBackground:te,quickInputForeground:he,contrastBorder:ve,widgetShadow:Ce}=this.styles.widget;this.ui.titleBar.style.backgroundColor=j?j.toString():"",this.ui.container.style.backgroundColor=te?te.toString():"",this.ui.container.style.color=he?he.toString():"",this.ui.container.style.border=ve?`1px solid ${ve}`:"",this.ui.container.style.boxShadow=Ce?`0 0 8px 2px ${Ce}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const ye=[];this.styles.list.pickerGroupBorder&&ye.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&ye.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(ye.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&ye.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&ye.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&ye.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&ye.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&ye.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),ye.push("}"));const Ee=ye.join("\n");Ee!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=Ee)}}}te.QuickInputController=E,E.MAX_WIDTH=600})),define(Ce[497],ie([5,6]),(function(j,te){return j.create("vs/editor/browser/controller/coreCommands",te)})),define(Ce[498],ie([5,6]),(function(j,te){return j.create("vs/editor/browser/controller/textAreaHandler",te)})),define(Ce[499],ie([5,6]),(function(j,te){return j.create("vs/editor/browser/editorExtensions",te)})),define(Ce[500],ie([5,6]),(function(j,te){return j.create("vs/editor/browser/widget/codeEditorWidget",te)})),define(Ce[501],ie([5,6]),(function(j,te){return j.create("vs/editor/browser/widget/diffEditorWidget",te)})),define(Ce[502],ie([5,6]),(function(j,te){return j.create("vs/editor/browser/widget/diffReview",te)})),define(Ce[503],ie([5,6]),(function(j,te){return j.create("vs/editor/browser/widget/inlineDiffMargin",te)})),define(Ce[504],ie([1,0,503,7,44,2,3,27]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.InlineDiffMargin=void 0;class p extends ye.Disposable{constructor(j,te,ye,Ne,Oe,Ke){super(),this._viewZoneId=j,this._marginDomNode=te,this.editor=ye,this.diff=Ne,this._contextMenuService=Oe,this._clipboardService=Ke,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Ie.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const je=ye.getOption(59),Ze=ye.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${je}px`,this._diffActions.style.lineHeight=`${je}px`,this._marginDomNode.appendChild(this._diffActions);const Ye=[],et=0===Ne.modifiedEndLineNumber;Ye.push(new Ce.Action("diff.clipboard.copyDeletedContent",et?Ne.originalEndLineNumber>Ne.modifiedStartLineNumber?he.localize(0,null):he.localize(1,null):Ne.originalEndLineNumber>Ne.modifiedStartLineNumber?he.localize(2,null):he.localize(3,null),void 0,!0,(()=>fi(this,void 0,void 0,(function*(){const j=new Ee.Range(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber+1,1),te=Ne.originalModel.getValueInRange(j);yield this._clipboardService.writeText(te)})))));let nt,rt=0;Ne.originalEndLineNumber>Ne.modifiedStartLineNumber&&(nt=new Ce.Action("diff.clipboard.copyDeletedLineContent",et?he.localize(4,null,Ne.originalStartLineNumber):he.localize(5,null,Ne.originalStartLineNumber),void 0,!0,(()=>fi(this,void 0,void 0,(function*(){const j=Ne.originalModel.getLineContent(Ne.originalStartLineNumber+rt);if(""===j){const j=Ne.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===j?"\n":"\r\n")}else yield this._clipboardService.writeText(j)})))),Ye.push(nt)),ye.getOption(81)||Ye.push(new Ce.Action("diff.inline.revertChange",he.localize(6,null),void 0,!0,(()=>fi(this,void 0,void 0,(function*(){const j=new Ee.Range(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber,Ne.originalModel.getLineMaxColumn(Ne.originalEndLineNumber)),te=Ne.originalModel.getValueInRange(j);if(0===Ne.modifiedEndLineNumber){const j=ye.getModel().getLineMaxColumn(Ne.modifiedStartLineNumber);ye.executeEdits("diffEditor",[{range:new Ee.Range(Ne.modifiedStartLineNumber,j,Ne.modifiedStartLineNumber,j),text:Ze+te}])}else{const j=ye.getModel().getLineMaxColumn(Ne.modifiedEndLineNumber);ye.executeEdits("diffEditor",[{range:new Ee.Range(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,j),text:te}])}})))));const S=(j,te)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:j,y:te}),getActions:()=>(nt&&(nt.label=et?he.localize(7,null,Ne.originalStartLineNumber+rt):he.localize(8,null,Ne.originalStartLineNumber+rt)),Ye),autoSelectFirstItem:!0})};this._register(ve.addStandardDisposableListener(this._diffActions,"mousedown",(j=>{const{top:te,height:he}=ve.getDomNodePagePosition(this._diffActions),Ce=Math.floor(je/3);j.preventDefault(),S(j.posx,te+he+Ce)}))),this._register(ye.onMouseMove((j=>{(8===j.target.type||5===j.target.type)&&j.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,rt=this._updateLightBulbPosition(this._marginDomNode,j.event.browserEvent.y,je)):this.visibility=!1}))),this._register(ye.onMouseDown((j=>{!j.event.rightButton||(8===j.target.type||5===j.target.type)&&j.target.detail.viewZoneId===this._viewZoneId&&(j.event.preventDefault(),rt=this._updateLightBulbPosition(this._marginDomNode,j.event.browserEvent.y,je),S(j.event.posx,j.event.posy+je))})))}get visibility(){return this._visibility}set visibility(j){this._visibility!==j&&(this._visibility=j,this._diffActions.style.visibility=j?"visible":"hidden")}_updateLightBulbPosition(j,te,he){const{top:Ce}=ve.getDomNodePagePosition(j),ye=te-Ce,Ee=Math.floor(ye/he),Ie=Ee*he;if(this._diffActions.style.top=`${Ie}px`,this.diff.viewLineCounts){let j=0;for(let te=0;te<this.diff.viewLineCounts.length;te++)if(j+=this.diff.viewLineCounts[te],Ee<j)return te}return Ee}}te.InlineDiffMargin=p})),define(Ce[505],ie([5,6]),(function(j,te){return j.create("vs/editor/common/config/editorConfigurationSchema",te)})),define(Ce[506],ie([5,6]),(function(j,te){return j.create("vs/editor/common/config/editorOptions",te)})),define(Ce[31],ie([1,0,506,17,146,19,39,145]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.EditorOptions=te.editorOptionsRegistry=te.EDITOR_FONT_DEFAULTS=te.unicodeHighlightConfigKeys=te.inUntrustedWorkspace=te.filterValidationDecorations=te.EditorLayoutInfoComputer=te.EditorFontLigatures=te.TextEditorCursorStyle=te.stringSet=te.clampedInt=te.boolean=te.ApplyUpdateResult=te.ComputeOptionsMemory=te.ConfigurationChangedEvent=te.MINIMAP_GUTTER_WIDTH=void 0,te.MINIMAP_GUTTER_WIDTH=8;te.ConfigurationChangedEvent=class p{constructor(j){this._values=j}hasChanged(j){return this._values[j]}};class h{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}te.ComputeOptionsMemory=h;class g{constructor(j,te,he,ve){this.id=j,this.name=te,this.defaultValue=he,this.schema=ve}applyUpdate(j,te){return i(j,te)}compute(j,te,he){return he}}class t{constructor(j,te){this.newValue=j,this.didChange=te}}function i(j,te){if("object"!=typeof j||"object"!=typeof te||!j||!te)return new t(te,j!==te);if(Array.isArray(j)||Array.isArray(te)){const he=Array.isArray(j)&&Array.isArray(te)&&ye.equals(j,te);return new t(te,he)}let he=!1;for(const ve in te)if(te.hasOwnProperty(ve)){const Ce=i(j[ve],te[ve]);Ce.didChange&&(j[ve]=Ce.newValue,he=!0)}return new t(j,he)}te.ApplyUpdateResult=t;class n{constructor(j){this.schema=void 0,this.id=j,this.name="_never_",this.defaultValue=void 0}applyUpdate(j,te){return i(j,te)}validate(j){return this.defaultValue}}class l{constructor(j,te,he,ve){this.id=j,this.name=te,this.defaultValue=he,this.schema=ve}applyUpdate(j,te){return i(j,te)}validate(j){return void 0===j?this.defaultValue:j}compute(j,te,he){return he}}function c(j,te){return void 0===j?te:"false"!==j&&Boolean(j)}te.boolean=c;class r extends l{constructor(j,te,he,ve=void 0){void 0!==ve&&(ve.type="boolean",ve.default=he),super(j,te,he,ve)}validate(j){return c(j,this.defaultValue)}}function s(j,te,he,ve){if(void 0===j)return te;let Ce=parseInt(j,10);return isNaN(Ce)?te:(Ce=Math.max(he,Ce),Ce=Math.min(ve,Ce),0|Ce)}te.clampedInt=s;class o extends l{constructor(j,te,he,ve,Ce,ye=void 0){void 0!==ye&&(ye.type="integer",ye.default=he,ye.minimum=ve,ye.maximum=Ce),super(j,te,he,ye),this.minimum=ve,this.maximum=Ce}static clampedInt(j,te,he,ve){return s(j,te,he,ve)}validate(j){return o.clampedInt(j,this.defaultValue,this.minimum,this.maximum)}}class a extends l{constructor(j,te,he,ve,Ce){void 0!==Ce&&(Ce.type="number",Ce.default=he),super(j,te,he,Ce),this.validationFn=ve}static clamp(j,te,he){return j<te?te:j>he?he:j}static float(j,te){if("number"==typeof j)return j;if(void 0===j)return te;const he=parseFloat(j);return isNaN(he)?te:he}validate(j){return this.validationFn(a.float(j,this.defaultValue))}}class d extends l{static string(j,te){return"string"!=typeof j?te:j}constructor(j,te,he,ve=void 0){void 0!==ve&&(ve.type="string",ve.default=he),super(j,te,he,ve)}validate(j){return d.string(j,this.defaultValue)}}function u(j,te,he){return"string"!=typeof j||-1===he.indexOf(j)?te:j}te.stringSet=u;class f extends l{constructor(j,te,he,ve,Ce=void 0){void 0!==Ce&&(Ce.type="string",Ce.enum=ve,Ce.default=he),super(j,te,he,Ce),this._allowedValues=ve}validate(j){return u(j,this.defaultValue,this._allowedValues)}}class S extends g{constructor(j,te,he,ve,Ce,ye,Ee=void 0){void 0!==Ee&&(Ee.type="string",Ee.enum=Ce,Ee.default=ve),super(j,te,he,Ee),this._allowedValues=Ce,this._convert=ye}validate(j){return"string"!=typeof j||-1===this._allowedValues.indexOf(j)?this.defaultValue:this._convert(j)}}var Ne,Oe;(Oe=Ne=te.TextEditorCursorStyle||(te.TextEditorCursorStyle={}))[Oe.Line=1]="Line",Oe[Oe.Block=2]="Block",Oe[Oe.Underline=3]="Underline",Oe[Oe.LineThin=4]="LineThin",Oe[Oe.BlockOutline=5]="BlockOutline",Oe[Oe.UnderlineThin=6]="UnderlineThin";class B extends g{constructor(){super(45,"fontLigatures",B.OFF,{anyOf:[{type:"boolean",description:he.localize(19,null)},{type:"string",description:he.localize(20,null)}],description:he.localize(21,null),default:!1})}validate(j){return void 0===j?this.defaultValue:"string"==typeof j?"false"===j?B.OFF:"true"===j?B.ON:j:Boolean(j)?B.ON:B.OFF}}te.EditorFontLigatures=B,B.OFF='"liga" off, "calt" off',B.ON='"liga" on, "calt" on';class P extends g{constructor(){super(47,"fontWeight",te.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:P.MINIMUM_VALUE,maximum:P.MAXIMUM_VALUE,errorMessage:he.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:P.SUGGESTION_VALUES}],default:te.EDITOR_FONT_DEFAULTS.fontWeight,description:he.localize(24,null)})}validate(j){return"normal"===j||"bold"===j?j:String(o.clampedInt(j,te.EDITOR_FONT_DEFAULTS.fontWeight,P.MINIMUM_VALUE,P.MAXIMUM_VALUE))}}P.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],P.MINIMUM_VALUE=1,P.MAXIMUM_VALUE=1e3;class A extends n{constructor(){super(131)}compute(j,te,he){return A.computeLayout(te,{memory:j.memory,outerWidth:j.outerWidth,outerHeight:j.outerHeight,isDominatedByLongLines:j.isDominatedByLongLines,lineHeight:j.fontInfo.lineHeight,viewLineCount:j.viewLineCount,lineNumbersDigitCount:j.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:j.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:j.fontInfo.maxDigitWidth,pixelRatio:j.pixelRatio})}static computeContainedMinimapLineCount(j){const te=j.height/j.lineHeight,he=j.scrollBeyondLastLine?te-1:0,ve=(j.viewLineCount+he)/(j.pixelRatio*j.height);return{typicalViewportLineCount:te,extraLinesBeyondLastLine:he,desiredRatio:ve,minimapLineCount:Math.floor(j.viewLineCount/ve)}}static _computeMinimapLayout(j,he){const ve=j.outerWidth,Ce=j.outerHeight,ye=j.pixelRatio;if(!j.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ye*Ce),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Ce};const Ee=he.stableMinimapLayoutInput,Ie=Ee&&j.outerHeight===Ee.outerHeight&&j.lineHeight===Ee.lineHeight&&j.typicalHalfwidthCharacterWidth===Ee.typicalHalfwidthCharacterWidth&&j.pixelRatio===Ee.pixelRatio&&j.scrollBeyondLastLine===Ee.scrollBeyondLastLine&&j.minimap.enabled===Ee.minimap.enabled&&j.minimap.side===Ee.minimap.side&&j.minimap.size===Ee.minimap.size&&j.minimap.showSlider===Ee.minimap.showSlider&&j.minimap.renderCharacters===Ee.minimap.renderCharacters&&j.minimap.maxColumn===Ee.minimap.maxColumn&&j.minimap.scale===Ee.minimap.scale&&j.verticalScrollbarWidth===Ee.verticalScrollbarWidth&&j.isViewportWrapping===Ee.isViewportWrapping,Ne=j.lineHeight,Oe=j.typicalHalfwidthCharacterWidth,Ke=j.scrollBeyondLastLine,je=j.minimap.renderCharacters;let Ze=ye>=2?Math.round(2*j.minimap.scale):j.minimap.scale;const Ye=j.minimap.maxColumn,et=j.minimap.size,nt=j.minimap.side,rt=j.verticalScrollbarWidth,at=j.viewLineCount,ct=j.remainingWidth,ht=j.isViewportWrapping,mt=je?2:3;let pt=Math.floor(ye*Ce);const ft=pt/ye;let _t=!1,Ct=!1,bt=mt*Ze,St=Ze/ye,Dt=1;if("fill"===et||"fit"===et){const{typicalViewportLineCount:te,extraLinesBeyondLastLine:ve,desiredRatio:Ee,minimapLineCount:Oe}=A.computeContainedMinimapLineCount({viewLineCount:at,scrollBeyondLastLine:Ke,height:Ce,lineHeight:Ne,pixelRatio:ye});if(at/Oe>1)_t=!0,Ct=!0,Ze=1,bt=1,St=Ze/ye;else{let Ce=!1,Oe=Ze+1;if("fit"===et){const j=Math.ceil((at+ve)*bt);ht&&Ie&&ct<=he.stableFitRemainingWidth?(Ce=!0,Oe=he.stableFitMaxMinimapScale):Ce=j>pt}if("fill"===et||Ce){_t=!0;const Ce=Ze;bt=Math.min(Ne*ye,Math.max(1,Math.floor(1/Ee))),ht&&Ie&&ct<=he.stableFitRemainingWidth&&(Oe=he.stableFitMaxMinimapScale),Ze=Math.min(Oe,Math.max(1,Math.floor(bt/mt))),Ze>Ce&&(Dt=Math.min(2,Ze/Ce)),St=Ze/ye/Dt,pt=Math.ceil(Math.max(te,at+ve)*bt),ht?(he.stableMinimapLayoutInput=j,he.stableFitRemainingWidth=ct,he.stableFitMaxMinimapScale=Ze):(he.stableMinimapLayoutInput=null,he.stableFitRemainingWidth=0)}}}const It=Math.floor(Ye*St),kt=Math.min(It,Math.max(0,Math.floor((ct-rt-2)*St/(Oe+St)))+te.MINIMAP_GUTTER_WIDTH);let At=Math.floor(ye*kt);const Pt=At/ye;At=Math.floor(At*Dt);return{renderMinimap:je?1:2,minimapLeft:"left"===nt?0:ve-kt-rt,minimapWidth:kt,minimapHeightIsEditorHeight:_t,minimapIsSampling:Ct,minimapScale:Ze,minimapLineHeight:bt,minimapCanvasInnerWidth:At,minimapCanvasInnerHeight:pt,minimapCanvasOuterWidth:Pt,minimapCanvasOuterHeight:ft}}static computeLayout(j,te){const he=0|te.outerWidth,ve=0|te.outerHeight,Ce=0|te.lineHeight,ye=0|te.lineNumbersDigitCount,Ee=te.typicalHalfwidthCharacterWidth,Ie=te.maxDigitWidth,Ne=te.pixelRatio,Oe=te.viewLineCount,Ke=j.get(123),je="inherit"===Ke?j.get(122):Ke,Ze="inherit"===je?j.get(118):je,Ye=j.get(121),et=j.get(2),nt=te.isDominatedByLongLines,rt=j.get(50),at=0!==j.get(60).renderType,ct=j.get(61),ht=j.get(94),mt=j.get(65),pt=j.get(92),ft=pt.verticalScrollbarSize,_t=pt.verticalHasArrows,Ct=pt.arrowSize,bt=pt.horizontalScrollbarSize,St=j.get(58),Dt=j.get(37);let It;if("string"==typeof St&&/^\d+(\.\d+)?ch$/.test(St)){const j=parseFloat(St.substr(0,St.length-2));It=o.clampedInt(j*Ee,0,0,1e3)}else It=o.clampedInt(St,0,0,1e3);Dt&&(It+=16);let kt=0;if(at){const j=Math.max(ye,ct);kt=Math.round(j*Ie)}let At=0;rt&&(At=Ce);let Pt=0,Kt=Pt+At,Ut=Kt+kt,jt=Ut+It;const $t=he-At-kt-It;let qt=!1,Gt=!1,Zt=-1;2!==et&&("inherit"===je&&nt?(qt=!0,Gt=!0):"on"===Ze||"bounded"===Ze?Gt=!0:"wordWrapColumn"===Ze&&(Zt=Ye));const Yt=A._computeMinimapLayout({outerWidth:he,outerHeight:ve,lineHeight:Ce,typicalHalfwidthCharacterWidth:Ee,pixelRatio:Ne,scrollBeyondLastLine:ht,minimap:mt,verticalScrollbarWidth:ft,viewLineCount:Oe,remainingWidth:$t,isViewportWrapping:Gt},te.memory||new h);0!==Yt.renderMinimap&&0===Yt.minimapLeft&&(Pt+=Yt.minimapWidth,Kt+=Yt.minimapWidth,Ut+=Yt.minimapWidth,jt+=Yt.minimapWidth);const li=$t-Yt.minimapWidth,di=Math.max(1,Math.floor((li-ft-2)/Ee)),ci=_t?Ct:0;return Gt&&(Zt=Math.max(1,di),"bounded"===Ze&&(Zt=Math.min(Zt,Ye))),{width:he,height:ve,glyphMarginLeft:Pt,glyphMarginWidth:At,lineNumbersLeft:Kt,lineNumbersWidth:kt,decorationsLeft:Ut,decorationsWidth:It,contentLeft:jt,contentWidth:li,minimap:Yt,viewportColumn:di,isWordWrapMinified:qt,isViewportWrapping:Gt,wrappingColumn:Zt,verticalScrollbarWidth:ft,horizontalScrollbarHeight:bt,overviewRuler:{top:ci,width:ft,height:ve-2*ci,right:0}}}}te.EditorLayoutInfoComputer=A;te.filterValidationDecorations=function Q(j){const te=j.get(87);return"editable"===te?j.get(81):"on"!==te};function ce(j,te){if("string"!=typeof j)return te;switch(j){case"hidden":return 2;case"visible":return 3;default:return 1}}te.inUntrustedWorkspace="inUntrustedWorkspace",te.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function K(j,te,he){const ve=he.indexOf(j);return-1===ve?te:he[ve]}function pe(j){return te.editorOptionsRegistry[j.id]=j,j}te.EDITOR_FONT_DEFAULTS={fontFamily:ve.isMacintosh?"Menlo, Monaco, 'Courier New', monospace":ve.isLinux?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:ve.isMacintosh?12:14,lineHeight:0,letterSpacing:0},te.editorOptionsRegistry=[],te.EditorOptions={acceptSuggestionOnCommitCharacter:pe(new r(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:he.localize(148,null)})),acceptSuggestionOnEnter:pe(new f(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",he.localize(149,null),""],markdownDescription:he.localize(150,null)})),accessibilitySupport:pe(new class C extends g{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[he.localize(0,null),he.localize(1,null),he.localize(2,null)],default:"auto",description:he.localize(3,null)})}validate(j){switch(j){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(j,te,he){return 0===he?j.accessibilitySupport:he}}),accessibilityPageSize:pe(new o(3,"accessibilityPageSize",10,1,1073741824,{description:he.localize(151,null)})),ariaLabel:pe(new d(4,"ariaLabel",he.localize(152,null))),autoClosingBrackets:pe(new f(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",he.localize(153,null),he.localize(154,null),""],description:he.localize(155,null)})),autoClosingDelete:pe(new f(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",he.localize(156,null),""],description:he.localize(157,null)})),autoClosingOvertype:pe(new f(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",he.localize(158,null),""],description:he.localize(159,null)})),autoClosingQuotes:pe(new f(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",he.localize(160,null),he.localize(161,null),""],description:he.localize(162,null)})),autoIndent:pe(new S(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],(function v(j){switch(j){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}),{enumDescriptions:[he.localize(163,null),he.localize(164,null),he.localize(165,null),he.localize(166,null),he.localize(167,null)],description:he.localize(168,null)})),automaticLayout:pe(new r(10,"automaticLayout",!1)),autoSurround:pe(new f(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[he.localize(169,null),he.localize(170,null),he.localize(171,null),""],description:he.localize(172,null)})),bracketPairColorization:pe(new class V extends g{constructor(){const j={enabled:Ie.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",j,{"editor.bracketPairColorization.enabled":{type:"boolean",default:j.enabled,description:he.localize(93,null)}})}validate(j){return j&&"object"==typeof j?{enabled:c(j.enabled,this.defaultValue.enabled)}:this.defaultValue}}),bracketPairGuides:pe(new class $ extends g{constructor(){const j={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",j,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[he.localize(94,null),he.localize(95,null),he.localize(96,null)],default:j.bracketPairs,description:he.localize(97,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[he.localize(98,null),he.localize(99,null),he.localize(100,null)],default:j.bracketPairsHorizontal,description:he.localize(101,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:j.highlightActiveBracketPair,description:he.localize(102,null)},"editor.guides.indentation":{type:"boolean",default:j.indentation,description:he.localize(103,null)},"editor.guides.highlightActiveIndentation":{type:"boolean",default:j.highlightActiveIndentation,description:he.localize(104,null)}})}validate(j){if(!j||"object"!=typeof j)return this.defaultValue;const te=j;return{bracketPairs:K(te.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:K(te.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:c(te.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:c(te.indentation,this.defaultValue.indentation),highlightActiveIndentation:c(te.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}),stickyTabStops:pe(new r(104,"stickyTabStops",!1,{description:he.localize(173,null)})),codeLens:pe(new r(14,"codeLens",!0,{description:he.localize(174,null)})),codeLensFontFamily:pe(new d(15,"codeLensFontFamily","",{description:he.localize(175,null)})),codeLensFontSize:pe(new o(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:he.localize(176,null)})),colorDecorators:pe(new r(17,"colorDecorators",!0,{description:he.localize(177,null)})),columnSelection:pe(new r(18,"columnSelection",!1,{description:he.localize(178,null)})),comments:pe(new class _ extends g{constructor(){const j={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",j,{"editor.comments.insertSpace":{type:"boolean",default:j.insertSpace,description:he.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:j.ignoreEmptyLines,description:he.localize(5,null)}})}validate(j){if(!j||"object"!=typeof j)return this.defaultValue;const te=j;return{insertSpace:c(te.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:c(te.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:pe(new r(20,"contextmenu",!0)),copyWithSyntaxHighlighting:pe(new r(21,"copyWithSyntaxHighlighting",!0,{description:he.localize(179,null)})),cursorBlinking:pe(new S(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],(function L(j){switch(j){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}),{description:he.localize(180,null)})),cursorSmoothCaretAnimation:pe(new r(23,"cursorSmoothCaretAnimation",!1,{description:he.localize(181,null)})),cursorStyle:pe(new S(24,"cursorStyle",Ne.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],(function N(j){switch(j){case"line":return Ne.Line;case"block":return Ne.Block;case"underline":return Ne.Underline;case"line-thin":return Ne.LineThin;case"block-outline":return Ne.BlockOutline;case"underline-thin":return Ne.UnderlineThin}}),{description:he.localize(182,null)})),cursorSurroundingLines:pe(new o(25,"cursorSurroundingLines",0,0,1073741824,{description:he.localize(183,null)})),cursorSurroundingLinesStyle:pe(new f(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[he.localize(184,null),he.localize(185,null)],description:he.localize(186,null)})),cursorWidth:pe(new o(27,"cursorWidth",0,0,1073741824,{markdownDescription:he.localize(187,null)})),disableLayerHinting:pe(new r(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:pe(new r(29,"disableMonospaceOptimizations",!1)),domReadOnly:pe(new r(30,"domReadOnly",!1)),dragAndDrop:pe(new r(31,"dragAndDrop",!0,{description:he.localize(188,null)})),emptySelectionClipboard:pe(new class M extends r{constructor(){super(32,"emptySelectionClipboard",!0,{description:he.localize(6,null)})}compute(j,te,he){return he&&j.emptySelectionClipboard}}),extraEditorClassName:pe(new d(33,"extraEditorClassName","")),fastScrollSensitivity:pe(new a(34,"fastScrollSensitivity",5,(j=>j<=0?5:j),{markdownDescription:he.localize(189,null)})),find:pe(new class O extends g{constructor(){const j={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",j,{"editor.find.cursorMoveOnType":{type:"boolean",default:j.cursorMoveOnType,description:he.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:j.seedSearchStringFromSelection,enumDescriptions:[he.localize(8,null),he.localize(9,null),he.localize(10,null)],description:he.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:j.autoFindInSelection,enumDescriptions:[he.localize(12,null),he.localize(13,null),he.localize(14,null)],description:he.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:j.globalFindClipboard,description:he.localize(16,null),included:ve.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:j.addExtraSpaceOnTop,description:he.localize(17,null)},"editor.find.loop":{type:"boolean",default:j.loop,description:he.localize(18,null)}})}validate(j){if(!j||"object"!=typeof j)return this.defaultValue;const te=j;return{cursorMoveOnType:c(te.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof j.seedSearchStringFromSelection?j.seedSearchStringFromSelection?"always":"never":u(te.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof j.autoFindInSelection?j.autoFindInSelection?"always":"never":u(te.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:c(te.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:c(te.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:c(te.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:pe(new r(36,"fixedOverflowWidgets",!1)),folding:pe(new r(37,"folding",!0,{description:he.localize(190,null)})),foldingStrategy:pe(new f(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[he.localize(191,null),he.localize(192,null)],description:he.localize(193,null)})),foldingHighlight:pe(new r(39,"foldingHighlight",!0,{description:he.localize(194,null)})),foldingImportsByDefault:pe(new r(40,"foldingImportsByDefault",!1,{description:he.localize(195,null)})),foldingMaximumRegions:pe(new o(41,"foldingMaximumRegions",5e3,10,65e3,{description:he.localize(196,null)})),unfoldOnClickAfterEndOfLine:pe(new r(42,"unfoldOnClickAfterEndOfLine",!1,{description:he.localize(197,null)})),fontFamily:pe(new d(43,"fontFamily",te.EDITOR_FONT_DEFAULTS.fontFamily,{description:he.localize(198,null)})),fontInfo:pe(new class T extends n{constructor(){super(44)}compute(j,te,he){return j.fontInfo}}),fontLigatures2:pe(new B),fontSize:pe(new class R extends l{constructor(){super(46,"fontSize",te.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:te.EDITOR_FONT_DEFAULTS.fontSize,description:he.localize(22,null)})}validate(j){const he=a.float(j,this.defaultValue);return 0===he?te.EDITOR_FONT_DEFAULTS.fontSize:a.clamp(he,6,100)}compute(j,te,he){return j.fontInfo.fontSize}}),fontWeight:pe(new P),formatOnPaste:pe(new r(48,"formatOnPaste",!1,{description:he.localize(199,null)})),formatOnType:pe(new r(49,"formatOnType",!1,{description:he.localize(200,null)})),glyphMargin:pe(new r(50,"glyphMargin",!0,{description:he.localize(201,null)})),gotoLocation:pe(new class F extends g{constructor(){const j={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},te={type:"string",enum:["peek","gotoAndPeek","goto"],default:j.multiple,enumDescriptions:[he.localize(25,null),he.localize(26,null),he.localize(27,null)]},ve=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",j,{"editor.gotoLocation.multiple":{deprecationMessage:he.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:he.localize(29,null)},te),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:he.localize(30,null)},te),"editor.gotoLocation.multipleDeclarations":Object.assign({description:he.localize(31,null)},te),"editor.gotoLocation.multipleImplementations":Object.assign({description:he.localize(32,null)},te),"editor.gotoLocation.multipleReferences":Object.assign({description:he.localize(33,null)},te),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:j.alternativeDefinitionCommand,enum:ve,description:he.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:j.alternativeTypeDefinitionCommand,enum:ve,description:he.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:j.alternativeDeclarationCommand,enum:ve,description:he.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:j.alternativeImplementationCommand,enum:ve,description:he.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:j.alternativeReferenceCommand,enum:ve,description:he.localize(38,null)}})}validate(j){var te,he,ve,Ce,ye;if(!j||"object"!=typeof j)return this.defaultValue;const Ee=j;return{multiple:u(Ee.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(te=Ee.multipleDefinitions)&&void 0!==te?te:u(Ee.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(he=Ee.multipleTypeDefinitions)&&void 0!==he?he:u(Ee.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(ve=Ee.multipleDeclarations)&&void 0!==ve?ve:u(Ee.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(Ce=Ee.multipleImplementations)&&void 0!==Ce?Ce:u(Ee.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(ye=Ee.multipleReferences)&&void 0!==ye?ye:u(Ee.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:d.string(Ee.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:d.string(Ee.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:d.string(Ee.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:d.string(Ee.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:d.string(Ee.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:pe(new r(52,"hideCursorInOverviewRuler",!1,{description:he.localize(202,null)})),hover:pe(new class W extends g{constructor(){const j={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",j,{"editor.hover.enabled":{type:"boolean",default:j.enabled,description:he.localize(39,null)},"editor.hover.delay":{type:"number",default:j.delay,minimum:0,maximum:1e4,description:he.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:j.sticky,description:he.localize(41,null)},"editor.hover.above":{type:"boolean",default:j.above,description:he.localize(42,null)}})}validate(j){if(!j||"object"!=typeof j)return this.defaultValue;const te=j;return{enabled:c(te.enabled,this.defaultValue.enabled),delay:o.clampedInt(te.delay,this.defaultValue.delay,0,1e4),sticky:c(te.sticky,this.defaultValue.sticky),above:c(te.above,this.defaultValue.above)}}}),inDiffEditor:pe(new r(54,"inDiffEditor",!1)),letterSpacing:pe(new a(56,"letterSpacing",te.EDITOR_FONT_DEFAULTS.letterSpacing,(j=>a.clamp(j,-5,20)),{description:he.localize(203,null)})),lightbulb:pe(new class H extends g{constructor(){const j={enabled:!0};super(57,"lightbulb",j,{"editor.lightbulb.enabled":{type:"boolean",default:j.enabled,description:he.localize(43,null)}})}validate(j){return j&&"object"==typeof j?{enabled:c(j.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:pe(new l(58,"lineDecorationsWidth",10)),lineHeight:pe(new class X extends a{constructor(){super(59,"lineHeight",te.EDITOR_FONT_DEFAULTS.lineHeight,(j=>a.clamp(j,0,150)),{markdownDescription:he.localize(47,null)})}compute(j,te,he){return j.fontInfo.lineHeight}}),lineNumbers:pe(new class U extends g{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[he.localize(66,null),he.localize(67,null),he.localize(68,null),he.localize(69,null)],default:"on",description:he.localize(70,null)})}validate(j){let te=this.defaultValue.renderType,he=this.defaultValue.renderFn;return void 0!==j&&("function"==typeof j?(te=4,he=j):te="interval"===j?3:"relative"===j?2:"on"===j?1:0),{renderType:te,renderFn:he}}}),lineNumbersMinChars:pe(new o(61,"lineNumbersMinChars",5,1,300)),linkedEditing:pe(new r(62,"linkedEditing",!1,{description:he.localize(204,null)})),links:pe(new r(63,"links",!0,{description:he.localize(205,null)})),matchBrackets:pe(new f(64,"matchBrackets","always",["always","near","never"],{description:he.localize(206,null)})),minimap:pe(new class G extends g{constructor(){const j={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",j,{"editor.minimap.enabled":{type:"boolean",default:j.enabled,description:he.localize(48,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[he.localize(49,null),he.localize(50,null),he.localize(51,null)],default:j.size,description:he.localize(52,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:j.side,description:he.localize(53,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:j.showSlider,description:he.localize(54,null)},"editor.minimap.scale":{type:"number",default:j.scale,minimum:1,maximum:3,enum:[1,2,3],description:he.localize(55,null)},"editor.minimap.renderCharacters":{type:"boolean",default:j.renderCharacters,description:he.localize(56,null)},"editor.minimap.maxColumn":{type:"number",default:j.maxColumn,description:he.localize(57,null)}})}validate(j){if(!j||"object"!=typeof j)return this.defaultValue;const te=j;return{enabled:c(te.enabled,this.defaultValue.enabled),size:u(te.size,this.defaultValue.size,["proportional","fill","fit"]),side:u(te.side,this.defaultValue.side,["right","left"]),showSlider:u(te.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:c(te.renderCharacters,this.defaultValue.renderCharacters),scale:o.clampedInt(te.scale,1,1,3),maxColumn:o.clampedInt(te.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:pe(new f(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:pe(new a(67,"mouseWheelScrollSensitivity",1,(j=>0===j?1:j),{markdownDescription:he.localize(207,null)})),mouseWheelZoom:pe(new r(68,"mouseWheelZoom",!1,{markdownDescription:he.localize(208,null)})),multiCursorMergeOverlapping:pe(new r(69,"multiCursorMergeOverlapping",!0,{description:he.localize(209,null)})),multiCursorModifier:pe(new S(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],(function re(j){return"ctrlCmd"===j?ve.isMacintosh?"metaKey":"ctrlKey":"altKey"}),{markdownEnumDescriptions:[he.localize(210,null),he.localize(211,null)],markdownDescription:he.localize(212,null)})),multiCursorPaste:pe(new f(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[he.localize(213,null),he.localize(214,null)],markdownDescription:he.localize(215,null)})),occurrencesHighlight:pe(new r(72,"occurrencesHighlight",!0,{description:he.localize(216,null)})),overviewRulerBorder:pe(new r(73,"overviewRulerBorder",!0,{description:he.localize(217,null)})),overviewRulerLanes:pe(new o(74,"overviewRulerLanes",3,0,3)),padding:pe(new class ae extends g{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:he.localize(58,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:he.localize(59,null)}})}validate(j){if(!j||"object"!=typeof j)return this.defaultValue;const te=j;return{top:o.clampedInt(te.top,0,0,1e3),bottom:o.clampedInt(te.bottom,0,0,1e3)}}}),parameterHints:pe(new class oe extends g{constructor(){const j={enabled:!0,cycle:!1};super(76,"parameterHints",j,{"editor.parameterHints.enabled":{type:"boolean",default:j.enabled,description:he.localize(60,null)},"editor.parameterHints.cycle":{type:"boolean",default:j.cycle,description:he.localize(61,null)}})}validate(j){if(!j||"object"!=typeof j)return this.defaultValue;const te=j;return{enabled:c(te.enabled,this.defaultValue.enabled),cycle:c(te.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:pe(new f(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[he.localize(218,null),he.localize(219,null)],description:he.localize(220,null)})),definitionLinkOpensInPeek:pe(new r(78,"definitionLinkOpensInPeek",!1,{description:he.localize(221,null)})),quickSuggestions:pe(new class x extends g{constructor(){const j={other:!0,comments:!1,strings:!1};super(79,"quickSuggestions",j,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:j.strings,description:he.localize(62,null)},comments:{type:"boolean",default:j.comments,description:he.localize(63,null)},other:{type:"boolean",default:j.other,description:he.localize(64,null)}}}],default:j,description:he.localize(65,null)}),this.defaultValue=j}validate(j){if("boolean"==typeof j)return j;if(j&&"object"==typeof j){const te=j,he={other:c(te.other,this.defaultValue.other),comments:c(te.comments,this.defaultValue.comments),strings:c(te.strings,this.defaultValue.strings)};return!!(he.other&&he.comments&&he.strings)||!!(he.other||he.comments||he.strings)&&he}return this.defaultValue}}),quickSuggestionsDelay:pe(new o(80,"quickSuggestionsDelay",10,0,1073741824,{description:he.localize(222,null)})),readOnly:pe(new r(81,"readOnly",!1)),renameOnType:pe(new r(82,"renameOnType",!1,{description:he.localize(223,null),markdownDeprecationMessage:he.localize(224,null)})),renderControlCharacters:pe(new r(83,"renderControlCharacters",!0,{description:he.localize(225,null),restricted:!0})),renderFinalNewline:pe(new r(84,"renderFinalNewline",!0,{description:he.localize(226,null)})),renderLineHighlight:pe(new f(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",he.localize(227,null)],description:he.localize(228,null)})),renderLineHighlightOnlyWhenFocus:pe(new r(86,"renderLineHighlightOnlyWhenFocus",!1,{description:he.localize(229,null)})),renderValidationDecorations:pe(new f(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:pe(new f(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",he.localize(230,null),he.localize(231,null),he.localize(232,null),""],description:he.localize(233,null)})),revealHorizontalRightPadding:pe(new o(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:pe(new r(90,"roundedSelection",!0,{description:he.localize(234,null)})),rulers:pe(new class ne extends g{constructor(){const j=[],te={type:"number",description:he.localize(71,null)};super(91,"rulers",j,{type:"array",items:{anyOf:[te,{type:["object"],properties:{column:te,color:{type:"string",description:he.localize(72,null),format:"color-hex"}}}]},default:j,description:he.localize(73,null)})}validate(j){if(Array.isArray(j)){const te=[];for(let he of j)if("number"==typeof he)te.push({column:o.clampedInt(he,0,0,1e4),color:null});else if(he&&"object"==typeof he){const j=he;te.push({column:o.clampedInt(j.column,0,0,1e4),color:j.color})}return te.sort(((j,te)=>j.column-te.column)),te}return this.defaultValue}}),scrollbar:pe(new class ee extends g{constructor(){const j={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",j,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[he.localize(74,null),he.localize(75,null),he.localize(76,null)],default:"auto",description:he.localize(77,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[he.localize(78,null),he.localize(79,null),he.localize(80,null)],default:"auto",description:he.localize(81,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:j.verticalScrollbarSize,description:he.localize(82,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:j.horizontalScrollbarSize,description:he.localize(83,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:j.scrollByPage,description:he.localize(84,null)}})}validate(j){if(!j||"object"!=typeof j)return this.defaultValue;const te=j,he=o.clampedInt(te.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),ve=o.clampedInt(te.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:o.clampedInt(te.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ce(te.vertical,this.defaultValue.vertical),horizontal:ce(te.horizontal,this.defaultValue.horizontal),useShadows:c(te.useShadows,this.defaultValue.useShadows),verticalHasArrows:c(te.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:c(te.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:c(te.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:c(te.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:he,horizontalSliderSize:o.clampedInt(te.horizontalSliderSize,he,0,1e3),verticalScrollbarSize:ve,verticalSliderSize:o.clampedInt(te.verticalSliderSize,ve,0,1e3),scrollByPage:c(te.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:pe(new o(93,"scrollBeyondLastColumn",5,0,1073741824,{description:he.localize(235,null)})),scrollBeyondLastLine:pe(new r(94,"scrollBeyondLastLine",!0,{description:he.localize(236,null)})),scrollPredominantAxis:pe(new r(95,"scrollPredominantAxis",!0,{description:he.localize(237,null)})),selectionClipboard:pe(new r(96,"selectionClipboard",!0,{description:he.localize(238,null),included:ve.isLinux})),selectionHighlight:pe(new r(97,"selectionHighlight",!0,{description:he.localize(239,null)})),selectOnLineNumbers:pe(new r(98,"selectOnLineNumbers",!0)),showFoldingControls:pe(new f(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[he.localize(240,null),he.localize(241,null)],description:he.localize(242,null)})),showUnused:pe(new r(100,"showUnused",!0,{description:he.localize(243,null)})),showDeprecated:pe(new r(126,"showDeprecated",!0,{description:he.localize(244,null)})),inlayHints:pe(new class q extends g{constructor(){const j={enabled:!0,fontSize:0,fontFamily:""};super(127,"inlayHints",j,{"editor.inlayHints.enabled":{type:"boolean",default:j.enabled,description:he.localize(44,null)},"editor.inlayHints.fontSize":{type:"number",default:j.fontSize,markdownDescription:he.localize(45,null)},"editor.inlayHints.fontFamily":{type:"string",default:j.fontFamily,markdownDescription:he.localize(46,null)}})}validate(j){if(!j||"object"!=typeof j)return this.defaultValue;const te=j;return{enabled:c(te.enabled,this.defaultValue.enabled),fontSize:o.clampedInt(te.fontSize,this.defaultValue.fontSize,0,100),fontFamily:d.string(te.fontFamily,this.defaultValue.fontFamily)}}}),snippetSuggestions:pe(new f(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[he.localize(245,null),he.localize(246,null),he.localize(247,null),he.localize(248,null)],description:he.localize(249,null)})),smartSelect:pe(new class Y extends g{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:he.localize(147,null),default:!0,type:"boolean"}})}validate(j){return j&&"object"==typeof j?{selectLeadingAndTrailingWhitespace:c(j.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:pe(new r(103,"smoothScrolling",!1,{description:he.localize(250,null)})),stopRenderingLineAfter:pe(new o(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:pe(new class J extends g{constructor(){const j={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",j,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[he.localize(105,null),he.localize(106,null)],default:j.insertMode,description:he.localize(107,null)},"editor.suggest.filterGraceful":{type:"boolean",default:j.filterGraceful,description:he.localize(108,null)},"editor.suggest.localityBonus":{type:"boolean",default:j.localityBonus,description:he.localize(109,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:j.shareSuggestSelections,markdownDescription:he.localize(110,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:j.snippetsPreventQuickSuggestions,description:he.localize(111,null)},"editor.suggest.showIcons":{type:"boolean",default:j.showIcons,description:he.localize(112,null)},"editor.suggest.showStatusBar":{type:"boolean",default:j.showStatusBar,description:he.localize(113,null)},"editor.suggest.preview":{type:"boolean",default:j.preview,description:he.localize(114,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:j.showInlineDetails,description:he.localize(115,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:he.localize(116,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:he.localize(117,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:he.localize(118,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:he.localize(119,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:he.localize(120,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:he.localize(121,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:he.localize(122,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:he.localize(123,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:he.localize(124,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:he.localize(125,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:he.localize(126,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:he.localize(127,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:he.localize(128,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:he.localize(129,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:he.localize(130,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:he.localize(131,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:he.localize(132,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:he.localize(133,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:he.localize(134,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:he.localize(135,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:he.localize(136,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:he.localize(137,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:he.localize(138,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:he.localize(139,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:he.localize(140,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:he.localize(141,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:he.localize(142,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:he.localize(143,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:he.localize(144,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:he.localize(145,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:he.localize(146,null)}})}validate(j){if(!j||"object"!=typeof j)return this.defaultValue;const te=j;return{insertMode:u(te.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:c(te.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:c(te.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:c(te.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:c(te.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:c(te.showIcons,this.defaultValue.showIcons),showStatusBar:c(te.showStatusBar,this.defaultValue.showStatusBar),preview:c(te.preview,this.defaultValue.preview),previewMode:u(te.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:c(te.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:c(te.showMethods,this.defaultValue.showMethods),showFunctions:c(te.showFunctions,this.defaultValue.showFunctions),showConstructors:c(te.showConstructors,this.defaultValue.showConstructors),showDeprecated:c(te.showDeprecated,this.defaultValue.showDeprecated),showFields:c(te.showFields,this.defaultValue.showFields),showVariables:c(te.showVariables,this.defaultValue.showVariables),showClasses:c(te.showClasses,this.defaultValue.showClasses),showStructs:c(te.showStructs,this.defaultValue.showStructs),showInterfaces:c(te.showInterfaces,this.defaultValue.showInterfaces),showModules:c(te.showModules,this.defaultValue.showModules),showProperties:c(te.showProperties,this.defaultValue.showProperties),showEvents:c(te.showEvents,this.defaultValue.showEvents),showOperators:c(te.showOperators,this.defaultValue.showOperators),showUnits:c(te.showUnits,this.defaultValue.showUnits),showValues:c(te.showValues,this.defaultValue.showValues),showConstants:c(te.showConstants,this.defaultValue.showConstants),showEnums:c(te.showEnums,this.defaultValue.showEnums),showEnumMembers:c(te.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:c(te.showKeywords,this.defaultValue.showKeywords),showWords:c(te.showWords,this.defaultValue.showWords),showColors:c(te.showColors,this.defaultValue.showColors),showFiles:c(te.showFiles,this.defaultValue.showFiles),showReferences:c(te.showReferences,this.defaultValue.showReferences),showFolders:c(te.showFolders,this.defaultValue.showFolders),showTypeParameters:c(te.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:c(te.showSnippets,this.defaultValue.showSnippets),showUsers:c(te.showUsers,this.defaultValue.showUsers),showIssues:c(te.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:pe(new class z extends g{constructor(){const j={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",j,{"editor.inlineSuggest.enabled":{type:"boolean",default:j.enabled,description:he.localize(92,null)}})}validate(j){if(!j||"object"!=typeof j)return this.defaultValue;const te=j;return{enabled:c(te.enabled,this.defaultValue.enabled),mode:u(te.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:pe(new o(107,"suggestFontSize",0,0,1e3,{markdownDescription:he.localize(251,null)})),suggestLineHeight:pe(new o(108,"suggestLineHeight",0,0,1e3,{markdownDescription:he.localize(252,null)})),suggestOnTriggerCharacters:pe(new r(109,"suggestOnTriggerCharacters",!0,{description:he.localize(253,null)})),suggestSelection:pe(new f(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[he.localize(254,null),he.localize(255,null),he.localize(256,null)],description:he.localize(257,null)})),tabCompletion:pe(new f(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[he.localize(258,null),he.localize(259,null),he.localize(260,null)],description:he.localize(261,null)})),tabIndex:pe(new o(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:pe(new class ue extends g{constructor(){const j={nonBasicASCII:te.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:te.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",j,{[te.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,te.inUntrustedWorkspace],default:j.nonBasicASCII,description:he.localize(85,null)},[te.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:j.invisibleCharacters,description:he.localize(86,null)},[te.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:j.ambiguousCharacters,description:he.localize(87,null)},[te.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,te.inUntrustedWorkspace],default:j.includeComments,description:he.localize(88,null)},[te.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,te.inUntrustedWorkspace],default:j.includeStrings,description:he.localize(89,null)},[te.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:j.allowedCharacters,description:he.localize(90,null),additionalProperties:{type:"boolean"}},[te.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:j.allowedLocales,description:he.localize(91,null)}})}applyUpdate(j,te){let he=!1;te.allowedCharacters&&(Ee.equals(j.allowedCharacters,te.allowedCharacters)||(j=Object.assign(Object.assign({},j),{allowedCharacters:te.allowedCharacters}),he=!0)),te.allowedLocales&&(Ee.equals(j.allowedLocales,te.allowedLocales)||(j=Object.assign(Object.assign({},j),{allowedLocales:te.allowedLocales}),he=!0));const ve=super.applyUpdate(j,te);return he?new t(ve.newValue,!0):ve}validate(j){if(!j||"object"!=typeof j)return this.defaultValue;const he=j;return{nonBasicASCII:K(he.nonBasicASCII,te.inUntrustedWorkspace,[!0,!1,te.inUntrustedWorkspace]),invisibleCharacters:c(he.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:c(he.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:K(he.includeComments,te.inUntrustedWorkspace,[!0,!1,te.inUntrustedWorkspace]),includeStrings:K(he.includeStrings,te.inUntrustedWorkspace,[!0,!1,te.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(j.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(j.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(j,te){if("object"!=typeof j||!j)return te;const he={};for(const[te,ve]of Object.entries(j))!0===ve&&(he[te]=!0);return he}}),unusualLineTerminators:pe(new f(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[he.localize(262,null),he.localize(263,null),he.localize(264,null)],description:he.localize(265,null)})),useShadowDOM:pe(new r(115,"useShadowDOM",!0)),useTabStops:pe(new r(116,"useTabStops",!0,{description:he.localize(266,null)})),wordSeparators:pe(new d(117,"wordSeparators",Ce.USUAL_WORD_SEPARATORS,{description:he.localize(267,null)})),wordWrap:pe(new f(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[he.localize(268,null),he.localize(269,null),he.localize(270,null),he.localize(271,null)],description:he.localize(272,null)})),wordWrapBreakAfterCharacters:pe(new d(119,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:pe(new d(120,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:pe(new o(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:he.localize(273,null)})),wordWrapOverride1:pe(new f(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:pe(new f(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:pe(new S(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],(function ge(j){switch(j){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}),{enumDescriptions:[he.localize(274,null),he.localize(275,null),he.localize(276,null),he.localize(277,null)],description:he.localize(278,null)})),wrappingStrategy:pe(new f(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[he.localize(279,null),he.localize(280,null)],description:he.localize(281,null)})),editorClassName:pe(new class k extends n{constructor(){super(128)}compute(j,te,he){const ve=["monaco-editor"];return te.get(33)&&ve.push(te.get(33)),j.extraEditorClassName&&ve.push(j.extraEditorClassName),"default"===te.get(66)?ve.push("mouse-default"):"copy"===te.get(66)&&ve.push("mouse-copy"),te.get(100)&&ve.push("showUnused"),te.get(126)&&ve.push("showDeprecated"),ve.join(" ")}}),pixelRatio:pe(new class Z extends n{constructor(){super(129)}compute(j,te,he){return j.pixelRatio}}),tabFocusMode:pe(new class se extends n{constructor(){super(130)}compute(j,te,he){return!!te.get(81)||j.tabFocusMode}}),layoutInfo:pe(new A),wrappingInfo:pe(new class me extends n{constructor(){super(132)}compute(j,te,he){const ve=te.get(131);return{isDominatedByLongLines:j.isDominatedByLongLines,isWordWrapMinified:ve.isWordWrapMinified,isViewportWrapping:ve.isViewportWrapping,wrappingColumn:ve.wrappingColumn}}})}})),define(Ce[62],ie([1,0,34,30,31]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.applyFontInfo=void 0,te.applyFontInfo=function I(j,te){j instanceof ve.FastDomNode?(j.setFontFamily(te.getMassagedFontFamily(he.isSafari?Ce.EDITOR_FONT_DEFAULTS.fontFamily:null)),j.setFontWeight(te.fontWeight),j.setFontSize(te.fontSize),j.setFontFeatureSettings(te.fontFeatureSettings),j.setLineHeight(te.lineHeight),j.setLetterSpacing(te.letterSpacing)):(j.style.fontFamily=te.getMassagedFontFamily(he.isSafari?Ce.EDITOR_FONT_DEFAULTS.fontFamily:null),j.style.fontWeight=te.fontWeight,j.style.fontSize=te.fontSize+"px",j.style.fontFeatureSettings=te.fontFeatureSettings,j.style.lineHeight=te.lineHeight+"px",j.style.letterSpacing=te.letterSpacing+"px")}})),define(Ce[507],ie([1,0,62]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.readCharWidths=te.CharWidthRequest=void 0;te.CharWidthRequest=class m{constructor(j,te){this.chr=j,this.type=te,this.width=0}fulfill(j){this.width=j}};class D{constructor(j,te){this._bareFontInfo=j,this._requests=te,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const j=document.createElement("div");j.style.position="absolute",j.style.top="-50000px",j.style.width="50000px";const te=document.createElement("div");(0,he.applyFontInfo)(te,this._bareFontInfo),j.appendChild(te);const ve=document.createElement("div");(0,he.applyFontInfo)(ve,this._bareFontInfo),ve.style.fontWeight="bold",j.appendChild(ve);const Ce=document.createElement("div");(0,he.applyFontInfo)(Ce,this._bareFontInfo),Ce.style.fontStyle="italic",j.appendChild(Ce);const ye=[];for(const j of this._requests){let he;0===j.type&&(he=te),2===j.type&&(he=ve),1===j.type&&(he=Ce),he.appendChild(document.createElement("br"));const Ee=document.createElement("span");D._render(Ee,j),he.appendChild(Ee),ye.push(Ee)}this._container=j,this._testElements=ye}static _render(j,te){if(" "===te.chr){let te=" ";for(let j=0;j<8;j++)te+=te;j.innerText=te}else{let he=te.chr;for(let j=0;j<8;j++)he+=he;j.textContent=he}}_readFromDomElements(){for(let j=0,te=this._requests.length;j<te;j++){const te=this._requests[j],he=this._testElements[j];te.fulfill(he.offsetWidth/256)}}}te.readCharWidths=function I(j,te){new D(j,te).read()}})),define(Ce[266],ie([1,0,34,4,2,507,31,174]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.FontMeasurements=void 0;class p extends Ce.Disposable{constructor(){super(),this._onDidChange=this._register(new ve.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new h,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new h,this._onDidChange.fire()}_writeToCache(j,te){this._cache.put(j,te),!te.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=window.setTimeout((()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()}),5e3))}_evictUntrustedReadings(){const j=this._cache.getValues();let te=!1;for(const he of j)he.isTrusted||(te=!0,this._cache.remove(he));te&&this._onDidChange.fire()}readFontInfo(j){if(!this._cache.has(j)){let te=this._actualReadFontInfo(j);(te.typicalHalfwidthCharacterWidth<=2||te.typicalFullwidthCharacterWidth<=2||te.spaceWidth<=2||te.maxDigitWidth<=2)&&(te=new Ie.FontInfo({pixelRatio:he.PixelRatio.value,fontFamily:te.fontFamily,fontWeight:te.fontWeight,fontSize:te.fontSize,fontFeatureSettings:te.fontFeatureSettings,lineHeight:te.lineHeight,letterSpacing:te.letterSpacing,isMonospace:te.isMonospace,typicalHalfwidthCharacterWidth:Math.max(te.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(te.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:te.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(te.spaceWidth,5),middotWidth:Math.max(te.middotWidth,5),wsmiddotWidth:Math.max(te.wsmiddotWidth,5),maxDigitWidth:Math.max(te.maxDigitWidth,5)},!1)),this._writeToCache(j,te)}return this._cache.get(j)}_createRequest(j,te,he,ve){const Ce=new ye.CharWidthRequest(j,te);return he.push(Ce),ve&&ve.push(Ce),Ce}_actualReadFontInfo(j){const te=[],ve=[],Ce=this._createRequest("n",0,te,ve),Ne=this._createRequest("ｍ",0,te,null),Oe=this._createRequest(" ",0,te,ve),Ke=this._createRequest("0",0,te,ve),je=this._createRequest("1",0,te,ve),Ze=this._createRequest("2",0,te,ve),Ye=this._createRequest("3",0,te,ve),et=this._createRequest("4",0,te,ve),nt=this._createRequest("5",0,te,ve),rt=this._createRequest("6",0,te,ve),at=this._createRequest("7",0,te,ve),ct=this._createRequest("8",0,te,ve),ht=this._createRequest("9",0,te,ve),mt=this._createRequest("→",0,te,ve),pt=this._createRequest("￫",0,te,null),ft=this._createRequest("·",0,te,ve),_t=this._createRequest(String.fromCharCode(11825),0,te,null),Ct="|/-_ilm%";for(let j=0,he=8;j<he;j++)this._createRequest(Ct.charAt(j),0,te,ve),this._createRequest(Ct.charAt(j),1,te,ve),this._createRequest(Ct.charAt(j),2,te,ve);(0,ye.readCharWidths)(j,te);const bt=Math.max(Ke.width,je.width,Ze.width,Ye.width,et.width,nt.width,rt.width,at.width,ct.width,ht.width);let St=j.fontFeatureSettings===Ee.EditorFontLigatures.OFF;const Dt=ve[0].width;for(let j=1,te=ve.length;St&&j<te;j++){const te=Dt-ve[j].width;if(te<-.001||te>.001){St=!1;break}}let It=!0;return St&&pt.width!==Dt&&(It=!1),pt.width>mt.width&&(It=!1),new Ie.FontInfo({pixelRatio:he.PixelRatio.value,fontFamily:j.fontFamily,fontWeight:j.fontWeight,fontSize:j.fontSize,fontFeatureSettings:j.fontFeatureSettings,lineHeight:j.lineHeight,letterSpacing:j.letterSpacing,isMonospace:St,typicalHalfwidthCharacterWidth:Ce.width,typicalFullwidthCharacterWidth:Ne.width,canUseHalfwidthRightwardsArrow:It,spaceWidth:Oe.width,middotWidth:ft.width,wsmiddotWidth:_t.width,maxDigitWidth:bt},!0)}}class h{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(j){const te=j.getId();return!!this._values[te]}get(j){const te=j.getId();return this._values[te]}put(j,te){const he=j.getId();this._keys[he]=j,this._values[he]=te}remove(j){const te=j.getId();delete this._keys[te],delete this._values[te]}getValues(){return Object.keys(this._keys).map((j=>this._values[j]))}}te.FontMeasurements=new p})),define(Ce[508],ie([1,0,90,8,62,91,251]),(function(j,te,he,ve,Ce,ye,Ee){var Ie;Object.defineProperty(te,"__esModule",{value:!0}),te.DOMLineBreaksComputerFactory=void 0;const Ne=null===(Ie=window.trustedTypes)||void 0===Ie?void 0:Ie.createPolicy("domLineBreaksComputer",{createHTML:j=>j});class h{static create(){return new h}constructor(){}createLineBreaksComputer(j,te,Ie,Oe){const Ke=[],je=[];return{addRequest:(j,te,he)=>{Ke.push(j),je.push(te)},finalize:()=>function g(j,te,Ie,Oe,Ke,je){var Ze;function f(te){const he=je[te];if(he){const ve=ye.LineInjectedText.applyInjectedText(j[te],he),Ce=he.map((j=>j.options)),Ie=he.map((j=>j.column-1));return new Ee.ModelLineProjectionData(Ie,Ce,[ve.length],[],0)}return null}if(-1===Oe){const te=[];for(let he=0,ve=j.length;he<ve;he++)te[he]=f(he);return te}const Ye=Math.round(Oe*te.typicalHalfwidthCharacterWidth),et=Math.round(Ie*(3===Ke?2:2===Ke?1:0)),nt=Math.ceil(te.spaceWidth*et),rt=document.createElement("div");(0,Ce.applyFontInfo)(rt,te);const at=(0,he.createStringBuilder)(1e4),ct=[],ht=[],mt=[],pt=[],ft=[];for(let he=0;he<j.length;he++){const Ce=ye.LineInjectedText.applyInjectedText(j[he],je[he]);let Ee=0,Ne=0,Oe=Ye;if(0!==Ke)if(Ee=ve.firstNonWhitespaceIndex(Ce),-1===Ee)Ee=0;else{for(let j=0;j<Ee;j++)Ne+=9===Ce.charCodeAt(j)?Ie-Ne%Ie:1;const j=Math.ceil(te.spaceWidth*Ne);j+te.typicalFullwidthCharacterWidth>Ye?(Ee=0,Ne=0):Oe=Ye-j}const Ze=Ce.substr(Ee),et=t(Ze,Ne,Ie,Oe,at,nt);ct[he]=Ee,ht[he]=Ne,mt[he]=Ze,pt[he]=et[0],ft[he]=et[1]}const _t=at.build(),Ct=null!==(Ze=null==Ne?void 0:Ne.createHTML(_t))&&void 0!==Ze?Ze:_t;rt.innerHTML=Ct,rt.style.position="absolute",rt.style.top="10000",rt.style.wordWrap="break-word",document.body.appendChild(rt);const bt=document.createRange(),St=Array.prototype.slice.call(rt.children,0),Dt=[];for(let te=0;te<j.length;te++){const j=i(bt,St[te],mt[te],pt[te]);if(null===j){Dt[te]=f(te);continue}const he=ct[te],ve=ht[te]+et,Ce=ft[te],ye=[];for(let te=0,he=j.length;te<he;te++)ye[te]=Ce[j[te]];if(0!==he)for(let te=0,ve=j.length;te<ve;te++)j[te]+=he;let Ie,Ne;const Oe=je[te];Oe?(Ie=Oe.map((j=>j.options)),Ne=Oe.map((j=>j.column-1))):(Ie=null,Ne=null),Dt[te]=new Ee.ModelLineProjectionData(Ne,Ie,j,ye,ve)}return document.body.removeChild(rt),Dt}(Ke,j,te,Ie,Oe,je)}}}function t(j,te,he,Ce,ye,Ee){if(0!==Ee){const j=String(Ee);ye.appendASCIIString('<div style="text-indent: -'),ye.appendASCIIString(j),ye.appendASCIIString("px; padding-left: "),ye.appendASCIIString(j),ye.appendASCIIString("px; box-sizing: border-box; width:")}else ye.appendASCIIString('<div style="width:');ye.appendASCIIString(String(Ce)),ye.appendASCIIString('px;">');const Ie=j.length;let Ne=te,Oe=0;const Ke=[],je=[];let Ze=0<Ie?j.charCodeAt(0):0;ye.appendASCIIString("<span>");for(let te=0;te<Ie;te++){0!==te&&te%16384==0&&ye.appendASCIIString("</span><span>"),Ke[te]=Oe,je[te]=Ne;const Ce=Ze;Ze=te+1<Ie?j.charCodeAt(te+1):0;let Ee=1,Ye=1;switch(Ce){case 9:Ee=he-Ne%he,Ye=Ee;for(let j=1;j<=Ee;j++)j<Ee?ye.write1(160):ye.appendASCII(32);break;case 32:32===Ze?ye.write1(160):ye.appendASCII(32);break;case 60:ye.appendASCIIString("&lt;");break;case 62:ye.appendASCIIString("&gt;");break;case 38:ye.appendASCIIString("&amp;");break;case 0:ye.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:ye.write1(65533);break;default:ve.isFullWidthCharacter(Ce)&&Ye++,Ce<32?ye.write1(9216+Ce):ye.write1(Ce)}Oe+=Ee,Ne+=Ye}return ye.appendASCIIString("</span>"),Ke[j.length]=Oe,je[j.length]=Ne,ye.appendASCIIString("</div>"),[Ke,je]}function i(j,te,he,ve){if(he.length<=1)return null;const Ce=Array.prototype.slice.call(te.children,0),ye=[];try{n(j,Ce,ve,0,null,he.length-1,null,ye)}catch(j){return console.log(j),null}return 0===ye.length?null:(ye.push(he.length),ye)}function n(j,te,he,ve,Ce,ye,Ee,Ie){if(ve===ye||(Ce=Ce||l(j,te,he[ve],he[ve+1]),Ee=Ee||l(j,te,he[ye],he[ye+1]),Math.abs(Ce[0].top-Ee[0].top)<=.1))return;if(ve+1===ye)return void Ie.push(ye);const Ne=ve+(ye-ve)/2|0,Oe=l(j,te,he[Ne],he[Ne+1]);n(j,te,he,ve,Ce,Ne,Oe,Ie),n(j,te,he,Ne,Oe,ye,Ee,Ie)}function l(j,te,he,ve){return j.setStart(te[he/16384|0].firstChild,he%16384),j.setEnd(te[ve/16384|0].firstChild,ve%16384),j.getClientRects()}te.DOMLineBreaksComputerFactory=h})),define(Ce[509],ie([1,0,30,62,176,50]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.MarginViewOverlays=te.ContentViewOverlays=te.ViewOverlayLine=te.ViewOverlays=void 0;class w extends ye.ViewPart{constructor(j){super(j),this._visibleLines=new Ce.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let j=0,te=this._dynamicOverlays.length;j<te;j++)if(this._dynamicOverlays[j].shouldRender())return!0;return!1}dispose(){super.dispose();for(let j=0,te=this._dynamicOverlays.length;j<te;j++)this._dynamicOverlays[j].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new b(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(j){this._dynamicOverlays.push(j)}onConfigurationChanged(j){this._visibleLines.onConfigurationChanged(j);const te=this._visibleLines.getStartLineNumber(),he=this._visibleLines.getEndLineNumber();for(let ve=te;ve<=he;ve++)this._visibleLines.getVisibleLine(ve).onConfigurationChanged(j);return!0}onFlushed(j){return this._visibleLines.onFlushed(j)}onFocusChanged(j){return this._isFocused=j.isFocused,!0}onLinesChanged(j){return this._visibleLines.onLinesChanged(j)}onLinesDeleted(j){return this._visibleLines.onLinesDeleted(j)}onLinesInserted(j){return this._visibleLines.onLinesInserted(j)}onScrollChanged(j){return this._visibleLines.onScrollChanged(j)||!0}onTokensChanged(j){return this._visibleLines.onTokensChanged(j)}onZonesChanged(j){return this._visibleLines.onZonesChanged(j)}prepareRender(j){const te=this._dynamicOverlays.filter((j=>j.shouldRender()));for(let he=0,ve=te.length;he<ve;he++){const ve=te[he];ve.prepareRender(j),ve.onDidRender()}}render(j){this._viewOverlaysRender(j),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(j){this._visibleLines.renderLines(j.viewportData)}}te.ViewOverlays=w;class b{constructor(j,te){this._configuration=j,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=te,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(j){this._domNode=(0,he.createFastDomNode)(j)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(j){this._lineHeight=this._configuration.options.get(59)}renderLine(j,te,he,ve){let Ce="";for(let te=0,ve=this._dynamicOverlays.length;te<ve;te++)Ce+=this._dynamicOverlays[te].render(he.startLineNumber,j);return this._renderedContent!==Ce&&(this._renderedContent=Ce,ve.appendASCIIString('<div style="position:absolute;top:'),ve.appendASCIIString(String(te)),ve.appendASCIIString("px;width:100%;height:"),ve.appendASCIIString(String(this._lineHeight)),ve.appendASCIIString('px;">'),ve.appendASCIIString(Ce),ve.appendASCIIString("</div>"),!0)}layoutLine(j,te){this._domNode&&(this._domNode.setTop(te),this._domNode.setHeight(this._lineHeight))}}te.ViewOverlayLine=b;te.ContentViewOverlays=class p extends w{constructor(j){super(j);const te=this._context.configuration.options.get(131);this._contentWidth=te.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(j){const te=this._context.configuration.options.get(131);return this._contentWidth=te.contentWidth,super.onConfigurationChanged(j)||!0}onScrollChanged(j){return super.onScrollChanged(j)||j.scrollWidthChanged}_viewOverlaysRender(j){super._viewOverlaysRender(j),this.domNode.setWidth(Math.max(j.scrollWidth,this._contentWidth))}};te.MarginViewOverlays=class h extends w{constructor(j){super(j);const te=this._context.configuration.options,he=te.get(131);this._contentLeft=he.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,ve.applyFontInfo)(this.domNode,te.get(44))}onConfigurationChanged(j){const te=this._context.configuration.options;(0,ve.applyFontInfo)(this.domNode,te.get(44));const he=te.get(131);return this._contentLeft=he.contentLeft,super.onConfigurationChanged(j)||!0}onScrollChanged(j){return super.onScrollChanged(j)||j.scrollHeightChanged}_viewOverlaysRender(j){super._viewOverlaysRender(j);const te=Math.min(j.scrollHeight,1e6);this.domNode.setHeight(te),this.domNode.setWidth(this._contentLeft)}}})),define(Ce[510],ie([1,0,7,30,8,62,31,11,3,141]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewCursor=void 0;class g{constructor(j,te,he,ve,Ce,ye){this.top=j,this.left=te,this.width=he,this.height=ve,this.textContent=Ce,this.textContentClassName=ye}}te.ViewCursor=class t{constructor(j){this._context=j;const te=this._context.configuration.options,he=te.get(44);this._cursorStyle=te.get(24),this._lineHeight=te.get(59),this._typicalHalfwidthCharacterWidth=he.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(te.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,ve.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${Oe.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,ye.applyFontInfo)(this._domNode,he),this._domNode.setDisplay("none"),this._position=new Ie.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(j){const te=this._context.configuration.options,he=te.get(44);return this._cursorStyle=te.get(24),this._lineHeight=te.get(59),this._typicalHalfwidthCharacterWidth=he.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(te.get(27),this._typicalHalfwidthCharacterWidth),(0,ye.applyFontInfo)(this._domNode,he),!0}onCursorPositionChanged(j){return this._position=j,!0}_getGraphemeAwarePosition(){const{lineNumber:j,column:te}=this._position,he=this._context.model.getLineContent(j),[ve,ye]=Ce.getCharContainingOffset(he,te-1);return[new Ie.Position(j,ve+1),he.substring(ve,ye)]}_prepareRender(j){let te="";const[ve,Ce]=this._getGraphemeAwarePosition();if(this._cursorStyle===Ee.TextEditorCursorStyle.Line||this._cursorStyle===Ee.TextEditorCursorStyle.LineThin){const ye=j.visibleRangeForPosition(ve);if(!ye||ye.outsideRenderedLine)return null;let Ie;this._cursorStyle===Ee.TextEditorCursorStyle.Line?(Ie=he.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),Ie>2&&(te=Ce)):Ie=he.computeScreenAwareSize(1);let Ne=ye.left;Ie>=2&&Ne>=1&&(Ne-=1);const Oe=j.getVerticalOffsetForLineNumber(ve.lineNumber)-j.bigNumbersDelta;return new g(Oe,Ne,Ie,this._lineHeight,te,"")}const ye=j.linesVisibleRangesForRange(new Ne.Range(ve.lineNumber,ve.column,ve.lineNumber,ve.column+Ce.length),!1);if(!ye||0===ye.length)return null;const Ie=ye[0];if(Ie.outsideRenderedLine||0===Ie.ranges.length)return null;const Oe=Ie.ranges[0],Ke=Oe.width<1?this._typicalHalfwidthCharacterWidth:Oe.width;let je="";if(this._cursorStyle===Ee.TextEditorCursorStyle.Block){const j=this._context.model.getViewLineData(ve.lineNumber);te=Ce;const he=j.tokens.findTokenIndexAtOffset(ve.column-1);je=j.tokens.getClassName(he)}let Ze=j.getVerticalOffsetForLineNumber(ve.lineNumber)-j.bigNumbersDelta,Ye=this._lineHeight;return(this._cursorStyle===Ee.TextEditorCursorStyle.Underline||this._cursorStyle===Ee.TextEditorCursorStyle.UnderlineThin)&&(Ze+=this._lineHeight-2,Ye=2),new g(Ze,Oe.left,Ke,Ye,te,je)}prepareRender(j){this._renderData=this._prepareRender(j)}render(j){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Oe.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}})),define(Ce[267],ie([1,0,11,3,69,31]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.isModelDecorationInString=te.isModelDecorationInComment=te.isModelDecorationVisible=te.ViewModelDecorations=void 0;function b(j,te){return!(te.options.hideInCommentTokens&&p(j,te)||te.options.hideInStringTokens&&h(j,te))}function p(j,te){return g(j,te.range,(j=>1===j))}function h(j,te){return g(j,te.range,(j=>2===j))}function g(j,te,he){for(let ve=te.startLineNumber;ve<=te.endLineNumber;ve++){const Ce=j.getLineTokens(ve),ye=ve===te.startLineNumber,Ee=ve===te.endLineNumber;let Ie=ye?Ce.findTokenIndexAtOffset(te.startColumn-1):0;for(;Ie<Ce.getCount()&&!(Ee&&Ce.getStartOffset(Ie)>te.endColumn-1);){if(!he(Ce.getStandardTokenType(Ie)))return!1;Ie++}}return!0}te.ViewModelDecorations=class w{constructor(j,te,he,ve,Ce){this.editorId=j,this.model=te,this.configuration=he,this._linesCollection=ve,this._coordinatesConverter=Ce,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(j){const te=j.id;let ye=this._decorationsCache[te];if(!ye){const Ee=j.range,Ie=j.options;let Ne;if(Ie.isWholeLine){const j=this._coordinatesConverter.convertModelPositionToViewPosition(new he.Position(Ee.startLineNumber,1),0),te=this._coordinatesConverter.convertModelPositionToViewPosition(new he.Position(Ee.endLineNumber,this.model.getLineMaxColumn(Ee.endLineNumber)),1);Ne=new ve.Range(j.lineNumber,j.column,te.lineNumber,te.column)}else Ne=this._coordinatesConverter.convertModelRangeToViewRange(Ee,1);ye=new Ce.ViewModelDecoration(Ne,Ie),this._decorationsCache[te]=ye}return ye}getDecorationsViewportData(j){let te=null!==this._cachedModelDecorationsResolver;return te=te&&j.equalsRange(this._cachedModelDecorationsResolverViewRange),te||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(j),this._cachedModelDecorationsResolverViewRange=j),this._cachedModelDecorationsResolver}_getDecorationsViewportData(j){const te=this._linesCollection.getDecorationsInRange(j,this.editorId,(0,ye.filterValidationDecorations)(this.configuration.options)),he=j.startLineNumber,Ee=j.endLineNumber,Ie=[];let Ne=0;const Oe=[];for(let j=he;j<=Ee;j++)Oe[j-he]=[];for(let j=0,ye=te.length;j<ye;j++){const ye=te[j],Ke=ye.options;if(!b(this.model,ye))continue;const je=this._getOrCreateViewModelDecoration(ye),Ze=je.range;if(Ie[Ne++]=je,Ke.inlineClassName){const j=new Ce.InlineDecoration(Ze,Ke.inlineClassName,Ke.inlineClassNameAffectsLetterSpacing?3:0),te=Math.max(he,Ze.startLineNumber),ve=Math.min(Ee,Ze.endLineNumber);for(let Ce=te;Ce<=ve;Ce++)Oe[Ce-he].push(j)}if(Ke.beforeContentClassName&&he<=Ze.startLineNumber&&Ze.startLineNumber<=Ee){const j=new Ce.InlineDecoration(new ve.Range(Ze.startLineNumber,Ze.startColumn,Ze.startLineNumber,Ze.startColumn),Ke.beforeContentClassName,1);Oe[Ze.startLineNumber-he].push(j)}if(Ke.afterContentClassName&&he<=Ze.endLineNumber&&Ze.endLineNumber<=Ee){const j=new Ce.InlineDecoration(new ve.Range(Ze.endLineNumber,Ze.endColumn,Ze.endLineNumber,Ze.endColumn),Ke.afterContentClassName,2);Oe[Ze.endLineNumber-he].push(j)}}return{decorations:Ie,inlineDecorations:Oe}}},te.isModelDecorationVisible=b,te.isModelDecorationInComment=p,te.isModelDecorationInString=h})),define(Ce[511],ie([5,6]),(function(j,te){return j.create("vs/editor/common/core/editorColorRegistry",te)})),define(Ce[512],ie([5,6]),(function(j,te){return j.create("vs/editor/common/editorContextKeys",te)})),define(Ce[513],ie([5,6]),(function(j,te){return j.create("vs/editor/common/languages/modesRegistry",te)})),define(Ce[514],ie([5,6]),(function(j,te){return j.create("vs/editor/common/model/editStack",te)})),define(Ce[268],ie([1,0,514,13,22,25,237,110,41]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){function h(j){return j.toString()}Object.defineProperty(te,"__esModule",{value:!0}),te.EditStack=te.isEditStackElement=te.MultiModelEditStackElement=te.SingleModelEditStackElement=te.SingleModelEditStackData=void 0;class g{constructor(j,te,he,ve,Ce,ye,Ee){this.beforeVersionId=j,this.afterVersionId=te,this.beforeEOL=he,this.afterEOL=ve,this.beforeCursorState=Ce,this.afterCursorState=ye,this.changes=Ee}static create(j,te){const he=j.getAlternativeVersionId(),ve=n(j);return new g(he,he,ve,ve,te,te,[])}append(j,te,he,ve,Ce){te.length>0&&(this.changes=(0,Ee.compressConsecutiveTextChanges)(this.changes,te)),this.afterEOL=he,this.afterVersionId=ve,this.afterCursorState=Ce}static _writeSelectionsSize(j){return 4+16*(j?j.length:0)}static _writeSelections(j,te,he){if(Ie.writeUInt32BE(j,te?te.length:0,he),he+=4,te)for(const ve of te)Ie.writeUInt32BE(j,ve.selectionStartLineNumber,he),he+=4,Ie.writeUInt32BE(j,ve.selectionStartColumn,he),he+=4,Ie.writeUInt32BE(j,ve.positionLineNumber,he),he+=4,Ie.writeUInt32BE(j,ve.positionColumn,he),he+=4;return he}static _readSelections(j,te,he){const ve=Ie.readUInt32BE(j,te);te+=4;for(let ye=0;ye<ve;ye++){const ve=Ie.readUInt32BE(j,te);te+=4;const ye=Ie.readUInt32BE(j,te);te+=4;const Ee=Ie.readUInt32BE(j,te);te+=4;const Ne=Ie.readUInt32BE(j,te);te+=4,he.push(new Ce.Selection(ve,ye,Ee,Ne))}return te}serialize(){let j=10+g._writeSelectionsSize(this.beforeCursorState)+g._writeSelectionsSize(this.afterCursorState)+4;for(const te of this.changes)j+=te.writeSize();const te=new Uint8Array(j);let he=0;Ie.writeUInt32BE(te,this.beforeVersionId,he),he+=4,Ie.writeUInt32BE(te,this.afterVersionId,he),he+=4,Ie.writeUInt8(te,this.beforeEOL,he),he+=1,Ie.writeUInt8(te,this.afterEOL,he),he+=1,he=g._writeSelections(te,this.beforeCursorState,he),he=g._writeSelections(te,this.afterCursorState,he),Ie.writeUInt32BE(te,this.changes.length,he),he+=4;for(const j of this.changes)he=j.write(te,he);return te.buffer}static deserialize(j){const te=new Uint8Array(j);let he=0;const ve=Ie.readUInt32BE(te,he);he+=4;const Ce=Ie.readUInt32BE(te,he);he+=4;const ye=Ie.readUInt8(te,he);he+=1;const Ne=Ie.readUInt8(te,he);he+=1;const Oe=[];he=g._readSelections(te,he,Oe);const Ke=[];he=g._readSelections(te,he,Ke);const je=Ie.readUInt32BE(te,he);he+=4;const Ze=[];for(let j=0;j<je;j++)he=Ee.TextChange.read(te,he,Ze);return new g(ve,Ce,ye,Ne,Oe,Ke,Ze)}}te.SingleModelEditStackData=g;class t{constructor(j,te){this.model=j,this._data=g.create(j,te)}get type(){return 0}get resource(){return ye.URI.isUri(this.model)?this.model:this.model.uri}get label(){return he.localize(0,null)}toString(){return(this._data instanceof g?this._data:g.deserialize(this._data)).changes.map((j=>j.toString())).join(", ")}matchesResource(j){return(ye.URI.isUri(this.model)?this.model:this.model.uri).toString()===j.toString()}setModel(j){this.model=j}canAppend(j){return this.model===j&&this._data instanceof g}append(j,te,he,ve,Ce){this._data instanceof g&&this._data.append(j,te,he,ve,Ce)}close(){this._data instanceof g&&(this._data=this._data.serialize())}open(){this._data instanceof g||(this._data=g.deserialize(this._data))}undo(){if(ye.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const j=g.deserialize(this._data);this.model._applyUndo(j.changes,j.beforeEOL,j.beforeVersionId,j.beforeCursorState)}redo(){if(ye.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof g&&(this._data=this._data.serialize());const j=g.deserialize(this._data);this.model._applyRedo(j.changes,j.afterEOL,j.afterVersionId,j.afterCursorState)}heapSize(){return this._data instanceof g&&(this._data=this._data.serialize()),this._data.byteLength+168}}te.SingleModelEditStackElement=t;class i{constructor(j,te){this.type=1,this.label=j,this._isOpen=!0,this._editStackElementsArr=te.slice(0),this._editStackElementsMap=new Map;for(const j of this._editStackElementsArr){const te=h(j.resource);this._editStackElementsMap.set(te,j)}this._delegate=null}get resources(){return this._editStackElementsArr.map((j=>j.resource))}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(j){const te=h(j);return this._editStackElementsMap.has(te)}setModel(j){const te=h(ye.URI.isUri(j)?j:j.uri);this._editStackElementsMap.has(te)&&this._editStackElementsMap.get(te).setModel(j)}canAppend(j){if(!this._isOpen)return!1;const te=h(j.uri);return!!this._editStackElementsMap.has(te)&&this._editStackElementsMap.get(te).canAppend(j)}append(j,te,he,ve,Ce){const ye=h(j.uri);this._editStackElementsMap.get(ye).append(j,te,he,ve,Ce)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const j of this._editStackElementsArr)j.undo()}redo(){for(const j of this._editStackElementsArr)j.redo()}heapSize(j){const te=h(j);return this._editStackElementsMap.has(te)?this._editStackElementsMap.get(te).heapSize():0}split(){return this._editStackElementsArr}toString(){let j=[];for(const te of this._editStackElementsArr)j.push(`${(0,Ne.basename)(te.resource)}: ${te}`);return`{${j.join(", ")}}`}}function n(j){return"\n"===j.getEOL()?0:1}function l(j){return!!j&&(j instanceof t||j instanceof i)}te.MultiModelEditStackElement=i,te.isEditStackElement=l;class c{constructor(j,te){this._model=j,this._undoRedoService=te}pushStackElement(){const j=this._undoRedoService.getLastElement(this._model.uri);l(j)&&j.close()}popStackElement(){const j=this._undoRedoService.getLastElement(this._model.uri);l(j)&&j.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(j){const te=this._undoRedoService.getLastElement(this._model.uri);if(l(te)&&te.canAppend(this._model))return te;const he=new t(this._model,j);return this._undoRedoService.pushElement(he),he}pushEOL(j){const te=this._getOrCreateEditStackElement(null);this._model.setEOL(j),te.append(this._model,[],n(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(j,te,he){const ve=this._getOrCreateEditStackElement(j),Ce=this._model.applyEdits(te,!0),ye=c._computeCursorState(he,Ce),Ee=Ce.map(((j,te)=>({index:te,textChange:j.textChange})));return Ee.sort(((j,te)=>j.textChange.oldPosition===te.textChange.oldPosition?j.index-te.index:j.textChange.oldPosition-te.textChange.oldPosition)),ve.append(this._model,Ee.map((j=>j.textChange)),n(this._model),this._model.getAlternativeVersionId(),ye),ye}static _computeCursorState(j,te){try{return j?j(te):null}catch(j){return(0,ve.onUnexpectedError)(j),null}}}te.EditStack=c})),define(Ce[515],ie([5,6]),(function(j,te){return j.create("vs/editor/common/standaloneStrings",te)})),define(Ce[70],ie([1,0,515]),(function(j,te,he){var ve;Object.defineProperty(te,"__esModule",{value:!0}),te.StandaloneServicesNLS=te.ToggleHighContrastNLS=te.StandaloneCodeEditorNLS=te.QuickOutlineNLS=te.QuickCommandNLS=te.QuickHelpNLS=te.GoToLineNLS=te.InspectTokensNLS=te.AccessibilityHelpNLS=void 0,(ve=te.AccessibilityHelpNLS||(te.AccessibilityHelpNLS={})).noSelection=he.localize(0,null),ve.singleSelectionRange=he.localize(1,null),ve.singleSelection=he.localize(2,null),ve.multiSelectionRange=he.localize(3,null),ve.multiSelection=he.localize(4,null),ve.emergencyConfOn=he.localize(5,null),ve.openingDocs=he.localize(6,null),ve.readonlyDiffEditor=he.localize(7,null),ve.editableDiffEditor=he.localize(8,null),ve.readonlyEditor=he.localize(9,null),ve.editableEditor=he.localize(10,null),ve.changeConfigToOnMac=he.localize(11,null),ve.changeConfigToOnWinLinux=he.localize(12,null),ve.auto_on=he.localize(13,null),ve.auto_off=he.localize(14,null),ve.tabFocusModeOnMsg=he.localize(15,null),ve.tabFocusModeOnMsgNoKb=he.localize(16,null),ve.tabFocusModeOffMsg=he.localize(17,null),ve.tabFocusModeOffMsgNoKb=he.localize(18,null),ve.openDocMac=he.localize(19,null),ve.openDocWinLinux=he.localize(20,null),ve.outroMsg=he.localize(21,null),ve.showAccessibilityHelpAction=he.localize(22,null),function(j){j.inspectTokensAction=he.localize(23,null)}(te.InspectTokensNLS||(te.InspectTokensNLS={})),function(j){j.gotoLineActionLabel=he.localize(24,null)}(te.GoToLineNLS||(te.GoToLineNLS={})),function(j){j.helpQuickAccessActionLabel=he.localize(25,null)}(te.QuickHelpNLS||(te.QuickHelpNLS={})),function(j){j.quickCommandActionLabel=he.localize(26,null),j.quickCommandHelp=he.localize(27,null)}(te.QuickCommandNLS||(te.QuickCommandNLS={})),function(j){j.quickOutlineActionLabel=he.localize(28,null),j.quickOutlineByCategoryActionLabel=he.localize(29,null)}(te.QuickOutlineNLS||(te.QuickOutlineNLS={})),function(j){j.editorViewAccessibleLabel=he.localize(30,null),j.accessibilityHelpMessage=he.localize(31,null)}(te.StandaloneCodeEditorNLS||(te.StandaloneCodeEditorNLS={})),function(j){j.toggleHighContrast=he.localize(32,null)}(te.ToggleHighContrastNLS||(te.ToggleHighContrastNLS={})),function(j){j.bulkEditServiceSummary=he.localize(33,null)}(te.StandaloneServicesNLS||(te.StandaloneServicesNLS={}))})),define(Ce[516],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",te)})),define(Ce[517],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",te)})),define(Ce[518],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/caretOperations/browser/caretOperations",te)})),define(Ce[519],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/caretOperations/browser/transpose",te)})),define(Ce[520],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/clipboard/browser/clipboard",te)})),define(Ce[521],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/codeAction/browser/codeActionCommands",te)})),define(Ce[522],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",te)})),define(Ce[523],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/codelens/browser/codelensController",te)})),define(Ce[524],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",te)})),define(Ce[525],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/comment/browser/comment",te)})),define(Ce[526],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/contextmenu/browser/contextmenu",te)})),define(Ce[527],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",te)})),define(Ce[528],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/editorState/browser/keybindingCancellation",te)})),define(Ce[529],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/find/browser/findController",te)})),define(Ce[530],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/find/browser/findWidget",te)})),define(Ce[531],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/folding/browser/folding",te)})),define(Ce[532],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/folding/browser/foldingDecorations",te)})),define(Ce[533],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/fontZoom/browser/fontZoom",te)})),define(Ce[534],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/format/browser/format",te)})),define(Ce[535],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/format/browser/formatActions",te)})),define(Ce[536],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/gotoError/browser/gotoError",te)})),define(Ce[537],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",te)})),define(Ce[538],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",te)})),define(Ce[539],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",te)})),define(Ce[540],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",te)})),define(Ce[541],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",te)})),define(Ce[542],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",te)})),define(Ce[543],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",te)})),define(Ce[126],ie([1,0,13,4,133,2,47,41,8,3,543]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.ReferencesModel=te.FileReferences=te.FilePreview=te.OneReference=void 0;class t{constructor(j,te,he,ve){this.isProviderFirst=j,this.parent=te,this.link=he,this._rangeCallback=ve,this.id=Ce.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var j,te;return null!==(te=null!==(j=this._range)&&void 0!==j?j:this.link.targetSelectionRange)&&void 0!==te?te:this.link.range}set range(j){this._range=j,this._rangeCallback(this)}get ariaMessage(){var j;const te=null===(j=this.parent.getPreview(this))||void 0===j?void 0:j.preview(this.range);return te?(0,Ke.localize)(1,null,(0,Ie.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,te.value):(0,Ke.localize)(0,null,(0,Ie.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}te.OneReference=t;class i{constructor(j){this._modelReference=j}dispose(){this._modelReference.dispose()}preview(j,te=8){const he=this._modelReference.object.textEditorModel;if(!he)return;const{startLineNumber:ve,startColumn:Ce,endLineNumber:ye,endColumn:Ee}=j,Ie=he.getWordUntilPosition({lineNumber:ve,column:Ce-te}),Ne=new Oe.Range(ve,Ie.startColumn,ve,Ce),Ke=new Oe.Range(ye,Ee,ye,1073741824),je=he.getValueInRange(Ne).replace(/^\s+/,""),Ze=he.getValueInRange(j);return{value:je+Ze+he.getValueInRange(Ke).replace(/\s+$/,""),highlight:{start:je.length,end:je.length+Ze.length}}}}te.FilePreview=i;class n{constructor(j,te){this.parent=j,this.uri=te,this.children=[],this._previews=new Ee.ResourceMap}dispose(){(0,ye.dispose)(this._previews.values()),this._previews.clear()}getPreview(j){return this._previews.get(j.uri)}get ariaMessage(){const j=this.children.length;return 1===j?(0,Ke.localize)(2,null,(0,Ie.basename)(this.uri),this.uri.fsPath):(0,Ke.localize)(3,null,j,(0,Ie.basename)(this.uri),this.uri.fsPath)}resolve(j){return fi(this,void 0,void 0,(function*(){if(0!==this._previews.size)return this;for(let te of this.children)if(!this._previews.has(te.uri))try{const he=yield j.createModelReference(te.uri);this._previews.set(te.uri,new i(he))}catch(j){(0,he.onUnexpectedError)(j)}return this}))}}te.FileReferences=n;class l{constructor(j,te){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new ve.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=j,this._title=te;const[he]=j;let Ce;j.sort(l._compareReferences);for(let te of j)if((!Ce||!Ie.extUri.isEqual(Ce.uri,te.uri,!0))&&(Ce=new n(this,te.uri),this.groups.push(Ce)),0===Ce.children.length||0!==l._compareReferences(te,Ce.children[Ce.children.length-1])){const j=new t(he===te,Ce,te,(j=>this._onDidChangeReferenceRange.fire(j)));this.references.push(j),Ce.children.push(j)}}dispose(){(0,ye.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new l(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,Ke.localize)(4,null):1===this.references.length?(0,Ke.localize)(5,null,this.references[0].uri.fsPath):1===this.groups.length?(0,Ke.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,Ke.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(j,te){let{parent:he}=j,ve=he.children.indexOf(j),Ce=he.children.length,ye=he.parent.groups.length;return 1===ye||te&&ve+1<Ce||!te&&ve>0?(ve=te?(ve+1)%Ce:(ve+Ce-1)%Ce,he.children[ve]):(ve=he.parent.groups.indexOf(he),te?(ve=(ve+1)%ye,he.parent.groups[ve].children[0]):(ve=(ve+ye-1)%ye,he.parent.groups[ve].children[he.parent.groups[ve].children.length-1]))}nearestReference(j,te){const he=this.references.map(((he,ve)=>({idx:ve,prefixLen:Ne.commonPrefixLength(he.uri.toString(),j.toString()),offsetDist:100*Math.abs(he.range.startLineNumber-te.lineNumber)+Math.abs(he.range.startColumn-te.column)}))).sort(((j,te)=>j.prefixLen>te.prefixLen?-1:j.prefixLen<te.prefixLen?1:j.offsetDist<te.offsetDist?-1:j.offsetDist>te.offsetDist?1:0))[0];if(he)return this.references[he.idx]}referenceAt(j,te){for(const he of this.references)if(he.uri.toString()===j.toString()&&Oe.Range.containsPosition(he.range,te))return he}firstReference(){for(const j of this.references)if(j.isProviderFirst)return j;return this.references[0]}static _compareReferences(j,te){return Ie.extUri.compare(j.uri,te.uri)||Oe.Range.compareRangesUsingStarts(j.range,te.range)}}te.ReferencesModel=l})),define(Ce[544],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",te)})),define(Ce[545],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/hover/browser/hover",te)})),define(Ce[546],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",te)})),define(Ce[547],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/hover/browser/markerHoverParticipant",te)})),define(Ce[548],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",te)})),define(Ce[549],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/indentation/browser/indentation",te)})),define(Ce[550],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/inlineCompletions/browser/ghostTextController",te)})),define(Ce[551],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHoverParticipant",te)})),define(Ce[552],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/lineSelection/browser/lineSelection",te)})),define(Ce[553],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/linesOperations/browser/linesOperations",te)})),define(Ce[554],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",te)})),define(Ce[555],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/links/browser/links",te)})),define(Ce[556],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/message/browser/messageController",te)})),define(Ce[557],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/multicursor/browser/multicursor",te)})),define(Ce[558],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/parameterHints/browser/parameterHints",te)})),define(Ce[559],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",te)})),define(Ce[560],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/peekView/browser/peekView",te)})),define(Ce[561],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",te)})),define(Ce[562],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",te)})),define(Ce[563],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/rename/browser/rename",te)})),define(Ce[564],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/rename/browser/renameInputField",te)})),define(Ce[565],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/smartSelect/browser/smartSelect",te)})),define(Ce[566],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/snippet/browser/snippetController2",te)})),define(Ce[567],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/snippet/browser/snippetVariables",te)})),define(Ce[568],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/suggest/browser/suggest",te)})),define(Ce[569],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/suggest/browser/suggestController",te)})),define(Ce[570],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/suggest/browser/suggestWidget",te)})),define(Ce[571],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",te)})),define(Ce[572],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",te)})),define(Ce[573],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",te)})),define(Ce[574],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",te)})),define(Ce[575],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",te)})),define(Ce[576],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/tokenization/browser/tokenization",te)})),define(Ce[577],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",te)})),define(Ce[578],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",te)})),define(Ce[579],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",te)})),define(Ce[580],ie([5,6]),(function(j,te){return j.create("vs/editor/contrib/wordOperations/browser/wordOperations",te)})),define(Ce[581],ie([5,6]),(function(j,te){return j.create("vs/platform/actions/browser/menuEntryActionViewItem",te)})),define(Ce[582],ie([5,6]),(function(j,te){return j.create("vs/platform/configuration/common/configurationRegistry",te)})),define(Ce[583],ie([5,6]),(function(j,te){return j.create("vs/platform/contextkey/browser/contextKeyService",te)})),define(Ce[584],ie([5,6]),(function(j,te){return j.create("vs/platform/contextkey/common/contextkeys",te)})),define(Ce[585],ie([5,6]),(function(j,te){return j.create("vs/platform/keybinding/common/abstractKeybindingService",te)})),define(Ce[586],ie([5,6]),(function(j,te){return j.create("vs/platform/list/browser/listService",te)})),define(Ce[587],ie([5,6]),(function(j,te){return j.create("vs/platform/markers/common/markers",te)})),define(Ce[588],ie([5,6]),(function(j,te){return j.create("vs/platform/quickinput/browser/commandsQuickAccess",te)})),define(Ce[589],ie([5,6]),(function(j,te){return j.create("vs/platform/quickinput/browser/helpQuickAccess",te)})),define(Ce[590],ie([5,6]),(function(j,te){return j.create("vs/platform/theme/common/colorRegistry",te)})),define(Ce[591],ie([5,6]),(function(j,te){return j.create("vs/platform/theme/common/iconRegistry",te)})),define(Ce[592],ie([5,6]),(function(j,te){return j.create("vs/platform/undoRedo/common/undoRedoService",te)})),define(Ce[593],ie([5,6]),(function(j,te){return j.create("vs/platform/workspaces/common/workspaces",te)})),define(Ce[594],ie([1,0]),(function(j,te){var he;Object.defineProperty(te,"__esModule",{value:!0}),te.EditorOpenContext=void 0,(he=te.EditorOpenContext||(te.EditorOpenContext={}))[he.API=0]="API",he[he.USER=1]="USER"})),define(Ce[595],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.ExtensionIdentifier=void 0;te.ExtensionIdentifier=class y{constructor(j){this.value=j,this._lower=j.toLowerCase()}static toKey(j){return"string"==typeof j?j.toLowerCase():j._lower}}})),define(Ce[269],ie([1,0]),(function(j,te){var he;Object.defineProperty(te,"__esModule",{value:!0}),te.FileKind=void 0,(he=te.FileKind||(te.FileKind={}))[he.FILE=0]="FILE",he[he.FOLDER=1]="FOLDER",he[he.ROOT_FOLDER=2]="ROOT_FOLDER"})),define(Ce[596],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.showHistoryKeybindingHint=void 0,te.showHistoryKeybindingHint=function y(j){var te,he;return"Up"===(null===(te=j.lookupKeybinding("history.showPrevious"))||void 0===te?void 0:te.getElectronAccelerator())&&"Down"===(null===(he=j.lookupKeybinding("history.showNext"))||void 0===he?void 0:he.getElectronAccelerator())}})),define(Ce[194],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.SyncDescriptor=void 0;te.SyncDescriptor=class y{constructor(j,te=[],he=!1){this.ctor=j,this.staticArguments=te,this.supportsDelayedInstantiation=he}}})),define(Ce[53],ie([1,0,194]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.getSingletonServiceDescriptors=te.registerSingleton=void 0;const ve=[];te.registerSingleton=function D(j,te,Ce){te instanceof he.SyncDescriptor||(te=new he.SyncDescriptor(te,[],Ce)),ve.push([j,te])},te.getSingletonServiceDescriptors=function I(){return ve}})),define(Ce[597],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.Graph=te.Node=void 0;class y{constructor(j){this.incoming=new Map,this.outgoing=new Map,this.data=j}}te.Node=y;te.Graph=class m{constructor(j){this._hashFn=j,this._nodes=new Map}roots(){const j=[];for(let te of this._nodes.values())0===te.outgoing.size&&j.push(te);return j}insertEdge(j,te){const he=this.lookupOrInsertNode(j),ve=this.lookupOrInsertNode(te);he.outgoing.set(this._hashFn(te),ve),ve.incoming.set(this._hashFn(j),he)}removeNode(j){const te=this._hashFn(j);this._nodes.delete(te);for(let j of this._nodes.values())j.outgoing.delete(te),j.incoming.delete(te)}lookupOrInsertNode(j){const te=this._hashFn(j);let he=this._nodes.get(te);return he||(he=new y(j),this._nodes.set(te,he)),he}isEmpty(){return 0===this._nodes.size}toString(){let j=[];for(let[te,he]of this._nodes)j.push(`${te}, (incoming)[${[...he.incoming.keys()].join(", ")}], (outgoing)[${[...he.outgoing.keys()].join(",")}]`);return j.join("\n")}findCycleSlow(){for(let[j,te]of this._nodes){const he=new Set([j]),ve=this._findCycle(te,he);if(ve)return ve}}_findCycle(j,te){for(let[he,ve]of j.outgoing){if(te.has(he))return[...te,he].join(" -> ");te.add(he);const j=this._findCycle(ve,te);if(j)return j;te.delete(he)}}}})),define(Ce[9],ie([1,0]),(function(j,te){var he,ve;function D(j){if(he.serviceIds.has(j))return he.serviceIds.get(j);const w=function(j,te,ve){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function m(j,te,ve,Ce){te[he.DI_TARGET]===te?te[he.DI_DEPENDENCIES].push({id:j,index:ve,optional:Ce}):(te[he.DI_DEPENDENCIES]=[{id:j,index:ve,optional:Ce}],te[he.DI_TARGET]=te)}(w,j,ve,!1)};return w.toString=()=>j,he.serviceIds.set(j,w),w}Object.defineProperty(te,"__esModule",{value:!0}),te.createDecorator=te.IInstantiationService=te._util=void 0,(ve=he=te._util||(te._util={})).serviceIds=new Map,ve.DI_TARGET="$di$target",ve.DI_DEPENDENCIES="$di$dependencies",ve.getServiceDependencies=function w(j){return j[ve.DI_DEPENDENCIES]||[]},te.IInstantiationService=D("instantiationService"),te.createDecorator=D})),define(Ce[195],ie([1,0,9,25,20]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.ResourceFileEdit=te.ResourceTextEdit=te.ResourceEdit=te.IBulkEditService=void 0,te.IBulkEditService=(0,he.createDecorator)("IWorkspaceEditService");class b{constructor(j){this.metadata=j}static convert(j){return j.edits.map((j=>{if(function w(j){return(0,Ce.isObject)(j)&&ve.URI.isUri(j.resource)&&(0,Ce.isObject)(j.edit)}(j))return new p(j.resource,j.edit,j.modelVersionId,j.metadata);if(function I(j){return(0,Ce.isObject)(j)&&(Boolean(j.newUri)||Boolean(j.oldUri))}(j))return new h(j.oldUri,j.newUri,j.options,j.metadata);throw new Error("Unsupported edit")}))}}te.ResourceEdit=b;class p extends b{constructor(j,te,he,ve){super(ve),this.resource=j,this.textEdit=te,this.versionId=he}}te.ResourceTextEdit=p;class h extends b{constructor(j,te,he,ve){super(ve),this.oldResource=j,this.newResource=te,this.options=he}}te.ResourceFileEdit=h})),define(Ce[28],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ICodeEditorService=void 0,te.ICodeEditorService=(0,he.createDecorator)("codeEditorService")})),define(Ce[85],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.IEditorWorkerService=te.ID_EDITOR_WORKER_SERVICE=void 0,te.ID_EDITOR_WORKER_SERVICE="editorWorkerService",te.IEditorWorkerService=(0,he.createDecorator)(te.ID_EDITOR_WORKER_SERVICE)})),define(Ce[35],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ILanguageService=void 0,te.ILanguageService=(0,he.createDecorator)("languageService")})),define(Ce[196],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.IMarkerDecorationsService=void 0,te.IMarkerDecorationsService=(0,he.createDecorator)("markerDecorationsService")})),define(Ce[45],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.IModelService=void 0,te.IModelService=(0,he.createDecorator)("modelService")})),define(Ce[58],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ITextModelService=void 0,te.ITextModelService=(0,he.createDecorator)("textModelService")})),define(Ce[153],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ITextResourcePropertiesService=te.ITextResourceConfigurationService=void 0,te.ITextResourceConfigurationService=(0,he.createDecorator)("textResourceConfigurationService"),te.ITextResourcePropertiesService=(0,he.createDecorator)("textResourcePropertiesService")})),define(Ce[101],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.IStandaloneThemeService=void 0,te.IStandaloneThemeService=(0,he.createDecorator)("themeService")})),define(Ce[102],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.IClipboardService=void 0,te.IClipboardService=(0,he.createDecorator)("clipboardService")})),define(Ce[26],ie([1,0,4,54,2,81,20,9]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.NullCommandService=te.CommandsRegistry=te.ICommandService=void 0,te.ICommandService=(0,Ie.createDecorator)("commandService"),te.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new he.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(j,te){if(!j)throw new Error("invalid command");if("string"==typeof j){if(!te)throw new Error("invalid command");return this.registerCommand({id:j,handler:te})}if(j.description){const te=[];for(let he of j.description.args)te.push(he.constraint);const he=j.handler;j.handler=function(j,...ve){return(0,Ee.validateConstraints)(ve,te),he(j,...ve)}}const{id:he}=j;let ve=this._commands.get(he);ve||(ve=new ye.LinkedList,this._commands.set(he,ve));let Ie=ve.unshift(j),Ne=(0,Ce.toDisposable)((()=>{Ie();const j=this._commands.get(he);(null==j?void 0:j.isEmpty())&&this._commands.delete(he)}));return this._onDidRegisterCommand.fire(he),Ne}registerCommandAlias(j,he){return te.CommandsRegistry.registerCommand(j,((j,...ve)=>j.get(te.ICommandService).executeCommand(he,...ve)))}getCommand(j){const te=this._commands.get(j);if(te&&!te.isEmpty())return ve.Iterable.first(te)}getCommands(){const j=new Map;for(const te of this._commands.keys()){const he=this.getCommand(te);he&&j.set(te,he)}return j}},te.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>Ce.Disposable.None,onDidExecuteCommand:()=>Ce.Disposable.None,executeCommand:()=>Promise.resolve(void 0)},te.CommandsRegistry.registerCommand("noop",(()=>{}))})),define(Ce[270],ie([1,0,21,13,25,18,45,26,20,423,3]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){function t(j){return j&&!!j.data}function i(j){return j&&Array.isArray(j.edits)}Object.defineProperty(te,"__esModule",{value:!0}),te.getDocumentRangeSemanticTokens=te.hasDocumentRangeSemanticTokensProvider=te.getDocumentSemanticTokens=te.hasDocumentSemanticTokensProvider=te.DocumentSemanticTokensResult=te.isSemanticTokensEdits=te.isSemanticTokens=void 0,te.isSemanticTokens=t,te.isSemanticTokensEdits=i;class n{constructor(j,te,he){this.provider=j,this.tokens=te,this.error=he}}function l(j){return ye.DocumentSemanticTokensProviderRegistry.has(j)}function r(j,te,he,ve){return fi(this,void 0,void 0,(function*(){const Ce=function c(j){const te=ye.DocumentSemanticTokensProviderRegistry.orderedGroups(j);return te.length>0?te[0]:[]}(j),Ee=yield Promise.all(Ce.map((Ce=>fi(this,void 0,void 0,(function*(){let ye,Ee=null;try{ye=yield Ce.provideDocumentSemanticTokens(j,Ce===te?he:null,ve)}catch(j){Ee=j,ye=null}return(!ye||!t(ye)&&!i(ye))&&(ye=null),new n(Ce,ye,Ee)})))));for(const j of Ee){if(j.error)throw j.error;if(j.tokens)return j}return Ee.length>0?Ee[0]:null}))}te.DocumentSemanticTokensResult=n,te.hasDocumentSemanticTokensProvider=l,te.getDocumentSemanticTokens=r;class o{constructor(j,te){this.provider=j,this.tokens=te}}function d(j){const te=ye.DocumentRangeSemanticTokensProviderRegistry.orderedGroups(j);return te.length>0?te[0]:[]}function u(j,te,he){return fi(this,void 0,void 0,(function*(){const Ce=d(j),ye=yield Promise.all(Ce.map((Ce=>fi(this,void 0,void 0,(function*(){let ye;try{ye=yield Ce.provideDocumentRangeSemanticTokens(j,te,he)}catch(j){(0,ve.onUnexpectedExternalError)(j),ye=null}return(!ye||!t(ye))&&(ye=null),new o(Ce,ye)})))));for(const j of ye)if(j.tokens)return j;return ye.length>0?ye[0]:null}))}te.hasDocumentRangeSemanticTokensProvider=function a(j){return ye.DocumentRangeSemanticTokensProviderRegistry.has(j)},te.getDocumentRangeSemanticTokens=u,Ie.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",((j,...te)=>fi(void 0,void 0,void 0,(function*(){const[he]=te;(0,Ne.assertType)(he instanceof Ce.URI);const ve=j.get(Ee.IModelService).getModel(he);if(!ve)return;const Oe=function s(j){const te=ye.DocumentSemanticTokensProviderRegistry.orderedGroups(j);return te.length>0?te[0]:null}(ve);return Oe?Oe[0].getLegend():j.get(Ie.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",he)})))),Ie.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",((j,...te)=>fi(void 0,void 0,void 0,(function*(){const[ve]=te;(0,Ne.assertType)(ve instanceof Ce.URI);const ye=j.get(Ee.IModelService).getModel(ve);if(!ye)return;if(!l(ye))return j.get(Ie.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",ve,ye.getFullModelRange());const Ke=yield r(ye,null,null,he.CancellationToken.None);if(!Ke)return;const{provider:je,tokens:Ze}=Ke;if(!Ze||!t(Ze))return;const Ye=(0,Oe.encodeSemanticTokensDto)({id:0,type:"full",data:Ze.data});return Ze.resultId&&je.releaseDocumentSemanticTokens(Ze.resultId),Ye})))),Ie.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",((j,...te)=>fi(void 0,void 0,void 0,(function*(){const[ve,ye]=te;(0,Ne.assertType)(ve instanceof Ce.URI);const Ie=j.get(Ee.IModelService).getModel(ve);if(!Ie)return;const Oe=d(Ie);if(0===Oe.length)return;if(1===Oe.length)return Oe[0].getLegend();if(!ye||!Ke.Range.isIRange(ye))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),Oe[0].getLegend();const je=yield u(Ie,Ke.Range.lift(ye),he.CancellationToken.None);return je?je.provider.getLegend():void 0})))),Ie.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",((j,...te)=>fi(void 0,void 0,void 0,(function*(){const[ve,ye]=te;(0,Ne.assertType)(ve instanceof Ce.URI),(0,Ne.assertType)(Ke.Range.isIRange(ye));const Ie=j.get(Ee.IModelService).getModel(ve);if(!Ie)return;const je=yield u(Ie,Ke.Range.lift(ye),he.CancellationToken.None);return je&&je.tokens?(0,Oe.encodeSemanticTokensDto)({id:0,type:"full",data:je.tokens.data}):void 0}))))})),define(Ce[271],ie([1,0,21,13,2,20,25,18,45,26]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.getCodeLensModel=te.CodeLensModel=void 0;class g{constructor(){this.lenses=[],this._disposables=new Ce.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(j,te){this._disposables.add(j);for(const he of j.lenses)this.lenses.push({symbol:he,provider:te})}}function t(j,te){return fi(this,void 0,void 0,(function*(){const he=Ie.CodeLensProviderRegistry.ordered(j),Ce=new Map,ye=new g,Ee=he.map(((he,Ee)=>fi(this,void 0,void 0,(function*(){Ce.set(he,Ee);try{const ve=yield Promise.resolve(he.provideCodeLenses(j,te));ve&&ye.add(ve,he)}catch(j){(0,ve.onUnexpectedExternalError)(j)}}))));return yield Promise.all(Ee),ye.lenses=ye.lenses.sort(((j,te)=>j.symbol.range.startLineNumber<te.symbol.range.startLineNumber?-1:j.symbol.range.startLineNumber>te.symbol.range.startLineNumber?1:Ce.get(j.provider)<Ce.get(te.provider)?-1:Ce.get(j.provider)>Ce.get(te.provider)?1:j.symbol.range.startColumn<te.symbol.range.startColumn?-1:j.symbol.range.startColumn>te.symbol.range.startColumn?1:0)),ye}))}te.CodeLensModel=g,te.getCodeLensModel=t,Oe.CommandsRegistry.registerCommand("_executeCodeLensProvider",(function(j,...te){let[Ie,Oe]=te;(0,ye.assertType)(Ee.URI.isUri(Ie)),(0,ye.assertType)("number"==typeof Oe||!Oe);const Ke=j.get(Ne.IModelService).getModel(Ie);if(!Ke)throw(0,ve.illegalArgument)();const je=[],Ze=new Ce.DisposableStore;return t(Ke,he.CancellationToken.None).then((j=>{Ze.add(j);let te=[];for(const ve of j.lenses)null==Oe||Boolean(ve.symbol.command)?je.push(ve.symbol):Oe-- >0&&ve.provider.resolveCodeLens&&te.push(Promise.resolve(ve.provider.resolveCodeLens(Ke,ve.symbol,he.CancellationToken.None)).then((j=>je.push(j||ve.symbol))));return Promise.all(te)})).then((()=>je)).finally((()=>{setTimeout((()=>Ze.dispose()),100)}))}))})),define(Ce[272],ie([1,0,21,13,25,3,18,45,26]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.getColorPresentations=te.getColors=void 0,te.getColors=function h(j,te){const he=[],ve=Ee.ColorProviderRegistry.ordered(j).reverse().map((ve=>Promise.resolve(ve.provideDocumentColors(j,te)).then((j=>{if(Array.isArray(j))for(let te of j)he.push({colorInfo:te,provider:ve})}))));return Promise.all(ve).then((()=>he))},te.getColorPresentations=function g(j,te,he,ve){return Promise.resolve(he.provideColorPresentations(j,te,ve))},Ne.CommandsRegistry.registerCommand("_executeDocumentColorProvider",(function(j,...te){const[ye]=te;if(!(ye instanceof Ce.URI))throw(0,ve.illegalArgument)();const Ne=j.get(Ie.IModelService).getModel(ye);if(!Ne)throw(0,ve.illegalArgument)();const Oe=[],Ke=Ee.ColorProviderRegistry.ordered(Ne).reverse().map((j=>Promise.resolve(j.provideDocumentColors(Ne,he.CancellationToken.None)).then((j=>{if(Array.isArray(j))for(let te of j)Oe.push({range:te.range,color:[te.color.red,te.color.green,te.color.blue,te.color.alpha]})}))));return Promise.all(Ke).then((()=>Oe))})),Ne.CommandsRegistry.registerCommand("_executeColorPresentationProvider",(function(j,...te){const[Ne,Oe]=te,{uri:Ke,range:je}=Oe;if(!(Ke instanceof Ce.URI&&Array.isArray(Ne)&&4===Ne.length&&ye.Range.isIRange(je)))throw(0,ve.illegalArgument)();const[Ze,Ye,et,nt]=Ne,rt=j.get(Ie.IModelService).getModel(Ke);if(!rt)throw(0,ve.illegalArgument)();const at={range:je,color:{red:Ze,green:Ye,blue:et,alpha:nt}},ct=[],ht=Ee.ColorProviderRegistry.ordered(rt).reverse().map((j=>Promise.resolve(j.provideColorPresentations(rt,at,he.CancellationToken.None)).then((j=>{Array.isArray(j)&&ct.push(...j)}))));return Promise.all(ht).then((()=>ct))}))})),define(Ce[598],ie([1,0,19,21,13,2,20,25,3,18,45,26]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){Object.defineProperty(te,"__esModule",{value:!0}),te.getLinks=te.LinksList=te.Link=void 0;class i{constructor(j,te){this._link=j,this._provider=te}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(j){return fi(this,void 0,void 0,(function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,j)).then((te=>(this._link=te||this._link,this._link.url?this.resolve(j):Promise.reject(new Error("missing"))))):Promise.reject(new Error("missing"))}))}}te.Link=i;class n{constructor(j){this._disposables=new ye.DisposableStore;let te=[];for(const[he,ve]of j){const j=he.links.map((j=>new i(j,ve)));te=n._union(te,j),(0,ye.isDisposable)(he)&&this._disposables.add(he)}this.links=te}dispose(){this._disposables.dispose(),this.links.length=0}static _union(j,te){let he,ve,Ce,ye,Ee=[];for(he=0,Ce=0,ve=j.length,ye=te.length;he<ve&&Ce<ye;){const ve=j[he],ye=te[Ce];Ne.Range.areIntersectingOrTouching(ve.range,ye.range)?he++:Ne.Range.compareRangesUsingStarts(ve.range,ye.range)<0?(Ee.push(ve),he++):(Ee.push(ye),Ce++)}for(;he<ve;he++)Ee.push(j[he]);for(;Ce<ye;Ce++)Ee.push(te[Ce]);return Ee}}function l(j,te){const ve=[],ye=Oe.LinkProviderRegistry.ordered(j).reverse().map(((he,ye)=>Promise.resolve(he.provideLinks(j,te)).then((j=>{j&&(ve[ye]=[j,he])}),Ce.onUnexpectedExternalError)));return Promise.all(ye).then((()=>{const j=new n((0,he.coalesce)(ve));return te.isCancellationRequested?(j.dispose(),new n([])):j}))}te.LinksList=n,te.getLinks=l,je.CommandsRegistry.registerCommand("_executeLinkProvider",((j,...te)=>fi(void 0,void 0,void 0,(function*(){let[he,Ce]=te;(0,Ee.assertType)(he instanceof Ie.URI),"number"!=typeof Ce&&(Ce=0);const ye=j.get(Ke.IModelService).getModel(he);if(!ye)return[];const Ne=yield l(ye,ve.CancellationToken.None);if(!Ne)return[];for(let j=0;j<Math.min(Ce,Ne.links.length);j++)yield Ne.links[j].resolve(ve.CancellationToken.None);const Oe=Ne.links.slice(0);return Ne.dispose(),Oe}))))})),define(Ce[40],ie([1,0,9]),(function(j,te,he){function D(j,te,he,ve){const Ce=te.split("."),ye=Ce.pop();let Ee=j;for(let j=0;j<Ce.length;j++){let he=Ce[j],ye=Ee[he];switch(typeof ye){case"undefined":ye=Ee[he]=Object.create(null);break;case"object":break;default:return void ve(`Ignoring ${te} as ${Ce.slice(0,j+1).join(".")} is ${JSON.stringify(ye)}`)}Ee=ye}if("object"==typeof Ee&&null!==Ee)try{Ee[ye]=he}catch{ve(`Ignoring ${te} as ${Ce.join(".")} is ${JSON.stringify(Ee)}`)}else ve(`Ignoring ${te} as ${Ce.join(".")} is ${JSON.stringify(Ee)}`)}function w(j,te){const he=te.shift();if(0!==te.length){if(-1!==Object.keys(j).indexOf(he)){const ve=j[he];"object"==typeof ve&&!Array.isArray(ve)&&(w(ve,te),0===Object.keys(ve).length&&delete j[he])}}else delete j[he]}Object.defineProperty(te,"__esModule",{value:!0}),te.getConfigurationValue=te.removeFromValueTree=te.addToValueTree=te.toValuesTree=te.IConfigurationService=void 0,te.IConfigurationService=(0,he.createDecorator)("configurationService"),te.toValuesTree=function m(j,te){const he=Object.create(null);for(let ve in j)D(he,ve,j[ve],te);return he},te.addToValueTree=D,te.removeFromValueTree=function I(j,te){w(j,te.split("."))},te.getConfigurationValue=function b(j,te,he){const ve=function t(j,te){let he=j;for(const j of te){if("object"!=typeof he||null===he)return;he=he[j]}return he}(j,te.split("."));return void 0===ve?he:ve}}));var Zi=this&&this.__param||function(j,te){return function(he,ve){te(he,ve,j)}};define(Ce[32],ie([1,0,4,2,8,146,119,120,407,411,408,410,177,9,40,35,53]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt){Object.defineProperty(te,"__esModule",{value:!0}),te.ResolvedLanguageConfiguration=te.LanguageConfigurationRegistry=te.LanguageConfigurationRegistryImpl=te.LanguageConfigurationChangeEvent=te.LanguageConfigurationService=te.ILanguageConfigurationService=te.LanguageConfigurationServiceChangeEvent=void 0;class s{constructor(j){this.languageId=j}affects(j){return!this.languageId||this.languageId===j}}te.LanguageConfigurationServiceChangeEvent=s,te.ILanguageConfigurationService=(0,Ye.createDecorator)("languageConfigurationService");let at=class extends ve.Disposable{constructor(j,ve){super(),this.configurationService=j,this.languageService=ve,this.onDidChangeEmitter=this._register(new he.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const Ce=new Set(Object.values(ct));this._register(this.configurationService.onDidChangeConfiguration((j=>{const te=j.change.keys.some((j=>Ce.has(j))),he=j.change.overrides.filter((([j,te])=>te.some((j=>Ce.has(j))))).map((([j])=>j));if(te)this.configurations.clear(),this.onDidChangeEmitter.fire(new s(void 0));else for(const j of he)this.languageService.isRegisteredLanguageId(j)&&(this.configurations.delete(j),this.onDidChangeEmitter.fire(new s(j)))}))),this._register(te.LanguageConfigurationRegistry.onDidChange((j=>{this.configurations.delete(j.languageId),this.onDidChangeEmitter.fire(new s(j.languageId))})))}getLanguageConfiguration(j){let he=this.configurations.get(j);return he||(he=function a(j,he,ve){let Ce=te.LanguageConfigurationRegistry.getLanguageConfiguration(j);if(!Ce){if(!ve.isRegisteredLanguageId(j))throw new Error("Unexpected languageId");Ce=new E(j,{})}const ye=function u(j,te){const he=te.getValue(ct.brackets,{overrideIdentifier:j}),ve=te.getValue(ct.colorizedBracketPairs,{overrideIdentifier:j});return{brackets:f(he),colorizedBracketPairs:f(ve)}}(Ce.languageId,he),Ee=_([Ce.underlyingConfig,ye]);return new E(Ce.languageId,Ee)}(j,this.configurationService,this.languageService),this.configurations.set(j,he)),he}};at=Ci([Zi(0,et.IConfigurationService),Zi(1,nt.ILanguageService)],at),te.LanguageConfigurationService=at;const ct={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function f(j){if(Array.isArray(j))return j.map((j=>{if(Array.isArray(j)&&2===j.length)return[j[0],j[1]]})).filter((j=>!!j))}class S{constructor(j){this.languageId=j}}te.LanguageConfigurationChangeEvent=S;class v{constructor(){this._entries=new Map,this._onDidChange=new he.Emitter,this.onDidChange=this._onDidChange.event}register(j,te,he=0){let Ce=this._entries.get(j);Ce||(Ce=new C(j),this._entries.set(j,Ce));const ye=Ce.register(te,he);return this._onDidChange.fire(new S(j)),(0,ve.toDisposable)((()=>{ye.dispose(),this._onDidChange.fire(new S(j))}))}getLanguageConfiguration(j){const te=this._entries.get(j);return(null==te?void 0:te.getResolvedConfiguration())||null}getComments(j){const te=this.getLanguageConfiguration(j);return te&&te.comments||null}getIndentRulesSupport(j){const te=this.getLanguageConfiguration(j);return te&&te.indentRulesSupport||null}getPrecedingValidLine(j,te,he){const ve=j.getLanguageIdAtPosition(te,0);if(te>1){let Ce,ye=-1;for(Ce=te-1;Ce>=1;Ce--){if(j.getLanguageIdAtPosition(Ce,0)!==ve)return ye;const te=j.getLineContent(Ce);if(!he.shouldIgnore(te)&&!/^\s+$/.test(te)&&""!==te)return Ce;ye=Ce}}return-1}getInheritIndentForLine(j,te,he,ve=!0){if(j<4)return null;const ye=this.getIndentRulesSupport(te.getLanguageId());if(!ye)return null;if(he<=1)return{indentation:"",action:null};const Ie=this.getPrecedingValidLine(te,he,ye);if(Ie<0)return null;if(Ie<1)return{indentation:"",action:null};const Ne=te.getLineContent(Ie);if(ye.shouldIncrease(Ne)||ye.shouldIndentNextLine(Ne))return{indentation:Ce.getLeadingWhitespace(Ne),action:Ee.IndentAction.Indent,line:Ie};if(ye.shouldDecrease(Ne))return{indentation:Ce.getLeadingWhitespace(Ne),action:null,line:Ie};{if(1===Ie)return{indentation:Ce.getLeadingWhitespace(te.getLineContent(Ie)),action:null,line:Ie};const j=Ie-1,he=ye.getIndentMetadata(te.getLineContent(j));if(!(3&he)&&4&he){let he=0;for(let ve=j-1;ve>0;ve--)if(!ye.shouldIndentNextLine(te.getLineContent(ve))){he=ve;break}return{indentation:Ce.getLeadingWhitespace(te.getLineContent(he+1)),action:null,line:he+1}}if(ve)return{indentation:Ce.getLeadingWhitespace(te.getLineContent(Ie)),action:null,line:Ie};for(let j=Ie;j>0;j--){const he=te.getLineContent(j);if(ye.shouldIncrease(he))return{indentation:Ce.getLeadingWhitespace(he),action:Ee.IndentAction.Indent,line:j};if(ye.shouldIndentNextLine(he)){let he=0;for(let ve=j-1;ve>0;ve--)if(!ye.shouldIndentNextLine(te.getLineContent(j))){he=ve;break}return{indentation:Ce.getLeadingWhitespace(te.getLineContent(he+1)),action:null,line:he+1}}if(ye.shouldDecrease(he))return{indentation:Ce.getLeadingWhitespace(he),action:null,line:j}}return{indentation:Ce.getLeadingWhitespace(te.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(j,te,he,ve,ye){if(j<4)return null;const Ie=this.getLanguageConfiguration(he);if(!Ie)return null;const Ne=this.getIndentRulesSupport(he);if(!Ne)return null;const Oe=this.getInheritIndentForLine(j,te,ve),Ke=te.getLineContent(ve);if(Oe){const he=Oe.line;if(void 0!==he){const ve=Ie.onEnter(j,"",te.getLineContent(he),"");if(ve){let j=Ce.getLeadingWhitespace(te.getLineContent(he));return ve.removeText&&(j=j.substring(0,j.length-ve.removeText)),ve.indentAction===Ee.IndentAction.Indent||ve.indentAction===Ee.IndentAction.IndentOutdent?j=ye.shiftIndent(j):ve.indentAction===Ee.IndentAction.Outdent&&(j=ye.unshiftIndent(j)),Ne.shouldDecrease(Ke)&&(j=ye.unshiftIndent(j)),ve.appendText&&(j+=ve.appendText),Ce.getLeadingWhitespace(j)}}return Ne.shouldDecrease(Ke)?Oe.action===Ee.IndentAction.Indent?Oe.indentation:ye.unshiftIndent(Oe.indentation):Oe.action===Ee.IndentAction.Indent?ye.shiftIndent(Oe.indentation):Oe.indentation}return null}getIndentForEnter(j,te,he,ve){if(j<4)return null;te.forceTokenization(he.startLineNumber);const ye=te.getLineTokens(he.startLineNumber),Ne=(0,Ie.createScopedLineTokens)(ye,he.startColumn-1),Oe=Ne.getLineContent();let Ke,je,Ze=!1;Ne.firstCharOffset>0&&ye.getLanguageId(0)!==Ne.languageId?(Ze=!0,Ke=Oe.substr(0,he.startColumn-1-Ne.firstCharOffset)):Ke=ye.getLineContent().substring(0,he.startColumn-1),je=he.isEmpty()?Oe.substr(he.startColumn-1-Ne.firstCharOffset):this.getScopedLineTokens(te,he.endLineNumber,he.endColumn).getLineContent().substr(he.endColumn-1-Ne.firstCharOffset);const Ye=this.getIndentRulesSupport(Ne.languageId);if(!Ye)return null;const et=Ke,nt=Ce.getLeadingWhitespace(Ke),rt={getLineTokens:j=>te.getLineTokens(j),getLanguageId:()=>te.getLanguageId(),getLanguageIdAtPosition:(j,he)=>te.getLanguageIdAtPosition(j,he),getLineContent:j=>j===he.startLineNumber?et:te.getLineContent(j)},at=Ce.getLeadingWhitespace(ye.getLineContent()),ct=this.getInheritIndentForLine(j,rt,he.startLineNumber+1);if(!ct){const j=Ze?at:nt;return{beforeEnter:j,afterEnter:j}}let ht=Ze?at:ct.indentation;return ct.action===Ee.IndentAction.Indent&&(ht=ve.shiftIndent(ht)),Ye.shouldDecrease(je)&&(ht=ve.unshiftIndent(ht)),{beforeEnter:Ze?at:nt,afterEnter:ht}}getIndentActionForType(j,te,he,ve,Ce){if(j<4)return null;const ye=this.getScopedLineTokens(te,he.startLineNumber,he.startColumn);if(ye.firstCharOffset)return null;const Ie=this.getIndentRulesSupport(ye.languageId);if(!Ie)return null;const Ne=ye.getLineContent(),Oe=Ne.substr(0,he.startColumn-1-ye.firstCharOffset);let Ke;if(Ke=he.isEmpty()?Ne.substr(he.startColumn-1-ye.firstCharOffset):this.getScopedLineTokens(te,he.endLineNumber,he.endColumn).getLineContent().substr(he.endColumn-1-ye.firstCharOffset),!Ie.shouldDecrease(Oe+Ke)&&Ie.shouldDecrease(Oe+ve+Ke)){const ve=this.getInheritIndentForLine(j,te,he.startLineNumber,!1);if(!ve)return null;let ye=ve.indentation;return ve.action!==Ee.IndentAction.Indent&&(ye=Ce.unshiftIndent(ye)),ye}return null}getIndentMetadata(j,te){const he=this.getIndentRulesSupport(j.getLanguageId());return!he||te<1||te>j.getLineCount()?null:he.getIndentMetadata(j.getLineContent(te))}getEnterAction(j,te,he){const ve=this.getScopedLineTokens(te,he.startLineNumber,he.startColumn),Ce=this.getLanguageConfiguration(ve.languageId);if(!Ce)return null;const ye=ve.getLineContent(),Ie=ye.substr(0,he.startColumn-1-ve.firstCharOffset);let Ne;Ne=he.isEmpty()?ye.substr(he.startColumn-1-ve.firstCharOffset):this.getScopedLineTokens(te,he.endLineNumber,he.endColumn).getLineContent().substr(he.endColumn-1-ve.firstCharOffset);let Oe="";if(he.startLineNumber>1&&0===ve.firstCharOffset){const j=this.getScopedLineTokens(te,he.startLineNumber-1);j.languageId===ve.languageId&&(Oe=j.getLineContent())}const Ke=Ce.onEnter(j,Oe,Ie,Ne);if(!Ke)return null;const je=Ke.indentAction;let Ze=Ke.appendText;const Ye=Ke.removeText||0;Ze?je===Ee.IndentAction.Indent&&(Ze="\t"+Ze):Ze=je===Ee.IndentAction.Indent||je===Ee.IndentAction.IndentOutdent?"\t":"";let et=this.getIndentationAtPosition(te,he.startLineNumber,he.startColumn);return Ye&&(et=et.substring(0,et.length-Ye)),{indentAction:je,appendText:Ze,removeText:Ye,indentation:et}}getIndentationAtPosition(j,te,he){const ve=j.getLineContent(te);let ye=Ce.getLeadingWhitespace(ve);return ye.length>he-1&&(ye=ye.substring(0,he-1)),ye}getScopedLineTokens(j,te,he){j.forceTokenization(te);const ve=j.getLineTokens(te),Ce=void 0===he?j.getLineMaxColumn(te)-1:he-1;return(0,Ie.createScopedLineTokens)(ve,Ce)}}te.LanguageConfigurationRegistryImpl=v,te.LanguageConfigurationRegistry=new v;class C{constructor(j){this.languageId=j,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(j,te){const he=new L(j,te,++this._order);return this._entries.push(he),this._resolved=null,(0,ve.toDisposable)((()=>{for(let j=0;j<this._entries.length;j++)if(this._entries[j]===he){this._entries.splice(j,1),this._resolved=null;break}}))}getResolvedConfiguration(){if(!this._resolved){const j=this._resolve();j&&(this._resolved=new E(this.languageId,j))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(L.cmp),_(this._entries.map((j=>j.configuration))))}}function _(j){let te={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const he of j)te={comments:he.comments||te.comments,brackets:he.brackets||te.brackets,wordPattern:he.wordPattern||te.wordPattern,indentationRules:he.indentationRules||te.indentationRules,onEnterRules:he.onEnterRules||te.onEnterRules,autoClosingPairs:he.autoClosingPairs||te.autoClosingPairs,surroundingPairs:he.surroundingPairs||te.surroundingPairs,autoCloseBefore:he.autoCloseBefore||te.autoCloseBefore,folding:he.folding||te.folding,colorizedBracketPairs:he.colorizedBracketPairs||te.colorizedBracketPairs,__electricCharacterSupport:he.__electricCharacterSupport||te.__electricCharacterSupport};return te}class L{constructor(j,te,he){this.configuration=j,this.priority=te,this.order=he}static cmp(j,te){return j.priority===te.priority?j.order-te.order:j.priority-te.priority}}class E{constructor(j,te){this.languageId=j,this.underlyingConfig=te,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new je.OnEnterSupport(this.underlyingConfig):null,this.comments=E._handleComments(this.underlyingConfig),this.characterPair=new Ne.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||ye.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new Ke.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,ye.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new Ze.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new Oe.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(j,te,he,ve){return this._onEnterSupport?this._onEnterSupport.onEnter(j,te,he,ve):null}getAutoClosingPairs(){return new Ee.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(j){const te=j.comments;if(!te)return null;const he={};if(te.lineComment&&(he.lineCommentToken=te.lineComment),te.blockComment){const[j,ve]=te.blockComment;he.blockCommentStartToken=j,he.blockCommentEndToken=ve}return he}}te.ResolvedLanguageConfiguration=E,(0,rt.registerSingleton)(te.ILanguageConfigurationService,at)})),define(Ce[197],ie([1,0,8,68,3,22,32]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.ShiftCommand=te.cachedStringRepeat=void 0;const Ie=Object.create(null);function p(j,te){if(te<=0)return"";Ie[j]||(Ie[j]=["",j]);const he=Ie[j];for(let ve=he.length;ve<=te;ve++)he[ve]=he[ve-1]+j;return he[te]}te.cachedStringRepeat=p;class h{constructor(j,te){this._opts=te,this._selection=j,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(j,te,he,Ce,ye){const Ee=ve.CursorColumns.visibleColumnFromColumn(j,te,he);if(ye){const j=p(" ",Ce);return p(j,ve.CursorColumns.prevIndentTabStop(Ee,Ce)/Ce)}return p("\t",ve.CursorColumns.prevRenderTabStop(Ee,he)/he)}static shiftIndent(j,te,he,Ce,ye){const Ee=ve.CursorColumns.visibleColumnFromColumn(j,te,he);if(ye){const j=p(" ",Ce);return p(j,ve.CursorColumns.nextIndentTabStop(Ee,Ce)/Ce)}return p("\t",ve.CursorColumns.nextRenderTabStop(Ee,he)/he)}_addEditOperation(j,te,he){this._useLastEditRangeForCursorEndPosition?j.addTrackedEditOperation(te,he):j.addEditOperation(te,he)}getEditOperations(j,te){const ye=this._selection.startLineNumber;let Ie=this._selection.endLineNumber;1===this._selection.endColumn&&ye!==Ie&&(Ie-=1);const{tabSize:Ne,indentSize:Oe,insertSpaces:Ke}=this._opts,je=ye===Ie;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(j.getLineContent(ye))&&(this._useLastEditRangeForCursorEndPosition=!0);let Ze=0,Ye=0;for(let et=ye;et<=Ie;et++,Ze=Ye){Ye=0;const Ie=j.getLineContent(et);let nt,rt=he.firstNonWhitespaceIndex(Ie);if((!this._opts.isUnshift||0!==Ie.length&&0!==rt)&&(je||this._opts.isUnshift||0!==Ie.length)){if(-1===rt&&(rt=Ie.length),et>1&&ve.CursorColumns.visibleColumnFromColumn(Ie,rt+1,Ne)%Oe!=0&&j.isCheapToTokenize(et-1)){const te=Ee.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,j,new Ce.Range(et-1,j.getLineMaxColumn(et-1),et-1,j.getLineMaxColumn(et-1)));if(te){if(Ye=Ze,te.appendText)for(let j=0,he=te.appendText.length;j<he&&Ye<Oe&&32===te.appendText.charCodeAt(j);j++)Ye++;te.removeText&&(Ye=Math.max(0,Ye-te.removeText));for(let j=0;j<Ye&&0!==rt&&32===Ie.charCodeAt(rt-1);j++)rt--}}this._opts.isUnshift&&0===rt||(nt=this._opts.isUnshift?h.unshiftIndent(Ie,rt+1,Ne,Oe,Ke):h.shiftIndent(Ie,rt+1,Ne,Oe,Ke),this._addEditOperation(te,new Ce.Range(et,1,et,rt+1),nt),et===ye&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=rt+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===j.getLineLength(ye)&&(this._useLastEditRangeForCursorEndPosition=!0);const ve=Ke?p(" ",Oe):"\t";for(let Ee=ye;Ee<=Ie;Ee++){const Ie=j.getLineContent(Ee);let Ne=he.firstNonWhitespaceIndex(Ie);if((!this._opts.isUnshift||0!==Ie.length&&0!==Ne)&&(je||this._opts.isUnshift||0!==Ie.length)&&(-1===Ne&&(Ne=Ie.length),!this._opts.isUnshift||0!==Ne))if(this._opts.isUnshift){Ne=Math.min(Ne,Oe);for(let j=0;j<Ne;j++)if(9===Ie.charCodeAt(j)){Ne=j+1;break}this._addEditOperation(te,new Ce.Range(Ee,1,Ee,Ne+1),"")}else this._addEditOperation(te,new Ce.Range(Ee,1,Ee,1),ve),Ee===ye&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=te.trackSelection(this._selection)}computeCursorState(j,te){if(this._useLastEditRangeForCursorEndPosition){const j=te.getInverseEditOperations()[0];return new ye.Selection(j.range.endLineNumber,j.range.endColumn,j.range.endLineNumber,j.range.endColumn)}const he=te.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const j=this._selection.startColumn;return he.startColumn<=j?he:0===he.getDirection()?new ye.Selection(he.startLineNumber,j,he.endLineNumber,he.endColumn):new ye.Selection(he.endLineNumber,he.endColumn,he.startLineNumber,j)}return he}}te.ShiftCommand=h})),define(Ce[599],ie([1,0,8,61,11,3,22,32,254]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.LineCommentCommand=void 0;class h{constructor(j,te,he,ve,Ce,ye,Ee){this.languageConfigurationService=j,this._selection=te,this._tabSize=he,this._type=ve,this._insertSpace=Ce,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=ye,this._ignoreFirstLine=Ee||!1}static _gatherPreflightCommentStrings(j,te,he,ve){j.tokenizeIfCheap(te);const Ce=j.getLanguageIdAtPosition(te,1),ye=ve.getLanguageConfiguration(Ce).comments,Ee=ye?ye.lineCommentToken:null;if(!Ee)return null;let Ie=[];for(let j=0,ve=he-te+1;j<ve;j++)Ie[j]={ignore:!1,commentStr:Ee,commentStrOffset:0,commentStrLength:Ee.length};return Ie}static _analyzeLines(j,te,ve,Ce,ye,Ee,Ie,Oe){let Ke,je=!0;Ke=0===j||1!==j;for(let Oe=0,Ze=Ce.length;Oe<Ze;Oe++){const Ze=Ce[Oe],Ye=ye+Oe;if(Ye===ye&&Ie){Ze.ignore=!0;continue}const et=ve.getLineContent(Ye),nt=he.firstNonWhitespaceIndex(et);if(-1!==nt){if(je=!1,Ze.ignore=!1,Ze.commentStrOffset=nt,Ke&&!Ne.BlockCommentCommand._haystackHasNeedleAtOffset(et,Ze.commentStr,nt)&&(0===j?Ke=!1:1===j||(Ze.ignore=!0)),Ke&&te){const j=nt+Ze.commentStrLength;j<et.length&&32===et.charCodeAt(j)&&(Ze.commentStrLength+=1)}}else Ze.ignore=Ee,Ze.commentStrOffset=et.length}if(0===j&&je){Ke=!1;for(let j=0,te=Ce.length;j<te;j++)Ce[j].ignore=!1}return{supported:!0,shouldRemoveComments:Ke,lines:Ce}}static _gatherPreflightData(j,te,he,ve,Ce,ye,Ee,Ie){const Ne=h._gatherPreflightCommentStrings(he,ve,Ce,Ie);return null===Ne?{supported:!1}:h._analyzeLines(j,te,he,Ne,ve,ye,Ee,Ie)}_executeLineComments(j,te,he,ve){let Ee;he.shouldRemoveComments?Ee=h._createRemoveLineCommentsOperations(he.lines,ve.startLineNumber):(h._normalizeInsertionPoint(j,he.lines,ve.startLineNumber,this._tabSize),Ee=this._createAddLineCommentsOperations(he.lines,ve.startLineNumber));const Ie=new Ce.Position(ve.positionLineNumber,ve.positionColumn);for(let he=0,ve=Ee.length;he<ve;he++)te.addEditOperation(Ee[he].range,Ee[he].text),ye.Range.isEmpty(Ee[he].range)&&ye.Range.getStartPosition(Ee[he].range).equals(Ie)&&j.getLineContent(Ie.lineNumber).length+1===Ie.column&&(this._deltaColumn=(Ee[he].text||"").length);this._selectionId=te.trackSelection(ve)}_attemptRemoveBlockComment(j,te,he,ve){let Ce=te.startLineNumber,Ee=te.endLineNumber,Ie=ve.length+Math.max(j.getLineFirstNonWhitespaceColumn(te.startLineNumber),te.startColumn),Oe=j.getLineContent(Ce).lastIndexOf(he,Ie-1),Ke=j.getLineContent(Ee).indexOf(ve,te.endColumn-1-he.length);return-1!==Oe&&-1===Ke&&(Ke=j.getLineContent(Ce).indexOf(ve,Oe+he.length),Ee=Ce),-1===Oe&&-1!==Ke&&(Oe=j.getLineContent(Ee).lastIndexOf(he,Ke),Ce=Ee),te.isEmpty()&&(-1===Oe||-1===Ke)&&(Oe=j.getLineContent(Ce).indexOf(he),-1!==Oe&&(Ke=j.getLineContent(Ce).indexOf(ve,Oe+he.length))),-1!==Oe&&32===j.getLineContent(Ce).charCodeAt(Oe+he.length)&&(he+=" "),-1!==Ke&&32===j.getLineContent(Ee).charCodeAt(Ke-1)&&(ve=" "+ve,Ke-=1),-1!==Oe&&-1!==Ke?Ne.BlockCommentCommand._createRemoveBlockCommentOperations(new ye.Range(Ce,Oe+he.length+1,Ee,Ke+1),he,ve):null}_executeBlockComment(j,te,ve){j.tokenizeIfCheap(ve.startLineNumber);let Ce=j.getLanguageIdAtPosition(ve.startLineNumber,1),Ee=Ie.LanguageConfigurationRegistry.getComments(Ce);if(!Ee||!Ee.blockCommentStartToken||!Ee.blockCommentEndToken)return;const Oe=Ee.blockCommentStartToken,Ke=Ee.blockCommentEndToken;let je=this._attemptRemoveBlockComment(j,ve,Oe,Ke);if(!je){if(ve.isEmpty()){const te=j.getLineContent(ve.startLineNumber);let Ce=he.firstNonWhitespaceIndex(te);-1===Ce&&(Ce=te.length),je=Ne.BlockCommentCommand._createAddBlockCommentOperations(new ye.Range(ve.startLineNumber,Ce+1,ve.startLineNumber,te.length+1),Oe,Ke,this._insertSpace)}else je=Ne.BlockCommentCommand._createAddBlockCommentOperations(new ye.Range(ve.startLineNumber,j.getLineFirstNonWhitespaceColumn(ve.startLineNumber),ve.endLineNumber,j.getLineMaxColumn(ve.endLineNumber)),Oe,Ke,this._insertSpace);1===je.length&&(this._deltaColumn=Oe.length+1)}this._selectionId=te.trackSelection(ve);for(const j of je)te.addEditOperation(j.range,j.text)}getEditOperations(j,te){let he=this._selection;if(this._moveEndPositionDown=!1,he.startLineNumber===he.endLineNumber&&this._ignoreFirstLine)return te.addEditOperation(new ye.Range(he.startLineNumber,j.getLineMaxColumn(he.startLineNumber),he.startLineNumber+1,1),he.startLineNumber===j.getLineCount()?"":"\n"),void(this._selectionId=te.trackSelection(he));he.startLineNumber<he.endLineNumber&&1===he.endColumn&&(this._moveEndPositionDown=!0,he=he.setEndPosition(he.endLineNumber-1,j.getLineMaxColumn(he.endLineNumber-1)));const ve=h._gatherPreflightData(this._type,this._insertSpace,j,he.startLineNumber,he.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return ve.supported?this._executeLineComments(j,te,ve,he):this._executeBlockComment(j,te,he)}computeCursorState(j,te){let he=te.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(he=he.setEndPosition(he.endLineNumber+1,1)),new Ee.Selection(he.selectionStartLineNumber,he.selectionStartColumn+this._deltaColumn,he.positionLineNumber,he.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(j,te){let he=[];for(let Ce=0,Ee=j.length;Ce<Ee;Ce++){const Ee=j[Ce];Ee.ignore||he.push(ve.EditOperation.delete(new ye.Range(te+Ce,Ee.commentStrOffset+1,te+Ce,Ee.commentStrOffset+Ee.commentStrLength+1)))}return he}_createAddLineCommentsOperations(j,te){let he=[];const ye=this._insertSpace?" ":"";for(let Ee=0,Ie=j.length;Ee<Ie;Ee++){const Ie=j[Ee];Ie.ignore||he.push(ve.EditOperation.insert(new Ce.Position(te+Ee,Ie.commentStrOffset+1),Ie.commentStr+ye))}return he}static nextVisibleColumn(j,te,he,ve){return he?j+(te-j%te):j+ve}static _normalizeInsertionPoint(j,te,he,ve){let Ce,ye,Ee=1073741824;for(let Ce=0,ye=te.length;Ce<ye;Ce++){if(te[Ce].ignore)continue;const ye=j.getLineContent(he+Ce);let Ie=0;for(let j=0,he=te[Ce].commentStrOffset;Ie<Ee&&j<he;j++)Ie=h.nextVisibleColumn(Ie,ve,9===ye.charCodeAt(j),1);Ie<Ee&&(Ee=Ie)}Ee=Math.floor(Ee/ve)*ve;for(let Ie=0,Ne=te.length;Ie<Ne;Ie++){if(te[Ie].ignore)continue;const Ne=j.getLineContent(he+Ie);let Oe=0;for(Ce=0,ye=te[Ie].commentStrOffset;Oe<Ee&&Ce<ye;Ce++)Oe=h.nextVisibleColumn(Oe,ve,9===Ne.charCodeAt(Ce),1);te[Ie].commentStrOffset=Oe>Ee?Ce-1:Ce}}}te.LineCommentCommand=h})),define(Ce[600],ie([1,0,8,197,3,22,119,32,258]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.MoveLinesCommand=void 0;te.MoveLinesCommand=class h{constructor(j,te,he){this._selection=j,this._isMovingDown=te,this._autoIndent=he,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(j,te){let ve=j.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===ve)return void(this._selectionId=te.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=te.trackSelection(this._selection));this._moveEndPositionDown=!1;let Ee=this._selection;Ee.startLineNumber<Ee.endLineNumber&&1===Ee.endColumn&&(this._moveEndPositionDown=!0,Ee=Ee.setEndPosition(Ee.endLineNumber-1,j.getLineMaxColumn(Ee.endLineNumber-1)));const{tabSize:Oe,indentSize:Ke,insertSpaces:je}=j.getOptions();let Ze=this.buildIndentConverter(Oe,Ke,je),Ye={getLineTokens:te=>j.getLineTokens(te),getLanguageId:()=>j.getLanguageId(),getLanguageIdAtPosition:(te,he)=>j.getLanguageIdAtPosition(te,he),getLineContent:null};if(Ee.startLineNumber===Ee.endLineNumber&&1===j.getLineMaxColumn(Ee.startLineNumber)){let he=Ee.startLineNumber,ve=this._isMovingDown?he+1:he-1;1===j.getLineMaxColumn(ve)?te.addEditOperation(new Ce.Range(1,1,1,1),null):(te.addEditOperation(new Ce.Range(he,1,he,1),j.getLineContent(ve)),te.addEditOperation(new Ce.Range(ve,1,ve,j.getLineMaxColumn(ve)),null)),Ee=new ye.Selection(ve,1,ve,1)}else{let ve,ye;if(this._isMovingDown){ve=Ee.endLineNumber+1,ye=j.getLineContent(ve),te.addEditOperation(new Ce.Range(ve-1,j.getLineMaxColumn(ve-1),ve,j.getLineMaxColumn(ve)),null);let Ke=ye;if(this.shouldAutoIndent(j,Ee)){let et=this.matchEnterRule(j,Ze,Oe,ve,Ee.startLineNumber-1);if(null!==et){let te=he.getLeadingWhitespace(j.getLineContent(ve)),Ce=et+Ne.getSpaceCnt(te,Oe);Ke=Ne.generateIndent(Ce,Oe,je)+this.trimLeft(ye)}else{Ye.getLineContent=te=>te===Ee.startLineNumber?j.getLineContent(ve):j.getLineContent(te);let te=Ie.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,Ye,j.getLanguageIdAtPosition(ve,1),Ee.startLineNumber,Ze);if(null!==te){let Ce=he.getLeadingWhitespace(j.getLineContent(ve)),Ee=Ne.getSpaceCnt(te,Oe);Ee!==Ne.getSpaceCnt(Ce,Oe)&&(Ke=Ne.generateIndent(Ee,Oe,je)+this.trimLeft(ye))}}te.addEditOperation(new Ce.Range(Ee.startLineNumber,1,Ee.startLineNumber,1),Ke+"\n");let nt=this.matchEnterRuleMovingDown(j,Ze,Oe,Ee.startLineNumber,ve,Ke);if(null!==nt)0!==nt&&this.getIndentEditsOfMovingBlock(j,te,Ee,Oe,je,nt);else{Ye.getLineContent=te=>te===Ee.startLineNumber?Ke:te>=Ee.startLineNumber+1&&te<=Ee.endLineNumber+1?j.getLineContent(te-1):j.getLineContent(te);let Ce=Ie.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,Ye,j.getLanguageIdAtPosition(ve,1),Ee.startLineNumber+1,Ze);if(null!==Ce){const ve=he.getLeadingWhitespace(j.getLineContent(Ee.startLineNumber)),ye=Ne.getSpaceCnt(Ce,Oe),Ie=Ne.getSpaceCnt(ve,Oe);if(ye!==Ie){const he=ye-Ie;this.getIndentEditsOfMovingBlock(j,te,Ee,Oe,je,he)}}}}else te.addEditOperation(new Ce.Range(Ee.startLineNumber,1,Ee.startLineNumber,1),Ke+"\n")}else if(ve=Ee.startLineNumber-1,ye=j.getLineContent(ve),te.addEditOperation(new Ce.Range(ve,1,ve+1,1),null),te.addEditOperation(new Ce.Range(Ee.endLineNumber,j.getLineMaxColumn(Ee.endLineNumber),Ee.endLineNumber,j.getLineMaxColumn(Ee.endLineNumber)),"\n"+ye),this.shouldAutoIndent(j,Ee)){Ye.getLineContent=te=>te===ve?j.getLineContent(Ee.startLineNumber):j.getLineContent(te);let Ce=this.matchEnterRule(j,Ze,Oe,Ee.startLineNumber,Ee.startLineNumber-2);if(null!==Ce)0!==Ce&&this.getIndentEditsOfMovingBlock(j,te,Ee,Oe,je,Ce);else{let Ce=Ie.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,Ye,j.getLanguageIdAtPosition(Ee.startLineNumber,1),ve,Ze);if(null!==Ce){let ve=he.getLeadingWhitespace(j.getLineContent(Ee.startLineNumber)),ye=Ne.getSpaceCnt(Ce,Oe),Ie=Ne.getSpaceCnt(ve,Oe);if(ye!==Ie){let he=ye-Ie;this.getIndentEditsOfMovingBlock(j,te,Ee,Oe,je,he)}}}}}this._selectionId=te.trackSelection(Ee)}buildIndentConverter(j,te,he){return{shiftIndent:Ce=>ve.ShiftCommand.shiftIndent(Ce,Ce.length+1,j,te,he),unshiftIndent:Ce=>ve.ShiftCommand.unshiftIndent(Ce,Ce.length+1,j,te,he)}}parseEnterResult(j,te,ve,Ce,ye){if(ye){let Oe=ye.indentation;ye.indentAction===Ee.IndentAction.None||ye.indentAction===Ee.IndentAction.Indent?Oe=ye.indentation+ye.appendText:ye.indentAction===Ee.IndentAction.IndentOutdent?Oe=ye.indentation:ye.indentAction===Ee.IndentAction.Outdent&&(Oe=te.unshiftIndent(ye.indentation)+ye.appendText);let Ke=j.getLineContent(Ce);if(this.trimLeft(Ke).indexOf(this.trimLeft(Oe))>=0){let ye=he.getLeadingWhitespace(j.getLineContent(Ce)),Ee=he.getLeadingWhitespace(Oe),Ke=Ie.LanguageConfigurationRegistry.getIndentMetadata(j,Ce);return null!==Ke&&2&Ke&&(Ee=te.unshiftIndent(Ee)),Ne.getSpaceCnt(Ee,ve)-Ne.getSpaceCnt(ye,ve)}}return null}matchEnterRuleMovingDown(j,te,ve,ye,Ee,Ne){if(he.lastNonWhitespaceIndex(Ne)>=0){let he=j.getLineMaxColumn(Ee),Ne=Ie.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,j,new Ce.Range(Ee,he,Ee,he));return this.parseEnterResult(j,te,ve,ye,Ne)}{let Ee=ye-1;for(;Ee>=1;){let te=j.getLineContent(Ee);if(he.lastNonWhitespaceIndex(te)>=0)break;Ee--}if(Ee<1||ye>j.getLineCount())return null;let Ne=j.getLineMaxColumn(Ee),Oe=Ie.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,j,new Ce.Range(Ee,Ne,Ee,Ne));return this.parseEnterResult(j,te,ve,ye,Oe)}}matchEnterRule(j,te,ve,ye,Ee,Ne){let Oe=Ee;for(;Oe>=1;){let te;if(te=Oe===Ee&&void 0!==Ne?Ne:j.getLineContent(Oe),he.lastNonWhitespaceIndex(te)>=0)break;Oe--}if(Oe<1||ye>j.getLineCount())return null;let Ke=j.getLineMaxColumn(Oe),je=Ie.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,j,new Ce.Range(Oe,Ke,Oe,Ke));return this.parseEnterResult(j,te,ve,ye,je)}trimLeft(j){return j.replace(/^\s+/,"")}shouldAutoIndent(j,te){if(this._autoIndent<4||!j.isCheapToTokenize(te.startLineNumber))return!1;let he=j.getLanguageIdAtPosition(te.startLineNumber,1);return!(he!==j.getLanguageIdAtPosition(te.endLineNumber,1)||null===Ie.LanguageConfigurationRegistry.getIndentRulesSupport(he))}getIndentEditsOfMovingBlock(j,te,ve,ye,Ee,Ie){for(let Oe=ve.startLineNumber;Oe<=ve.endLineNumber;Oe++){let Ke=j.getLineContent(Oe),je=he.getLeadingWhitespace(Ke),Ze=Ne.getSpaceCnt(je,ye)+Ie,Ye=Ne.generateIndent(Ze,ye,Ee);Ye!==je&&(te.addEditOperation(new Ce.Range(Oe,1,Oe,je.length+1),Ye),Oe===ve.endLineNumber&&ve.endColumn<=je.length+1&&""===Ye&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(j,te){let he=te.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(he=he.setEndPosition(he.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&he.startLineNumber<he.endLineNumber&&(he=he.setEndPosition(he.endLineNumber,2)),he}}})),define(Ce[16],ie([1,0,17,8,9]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.implies=te.SET_CONTEXT_COMMAND_ID=te.IContextKeyService=te.RawContextKey=te.ContextKeyNotRegexExpr=te.ContextKeyRegexExpr=te.ContextKeySmallerEqualsExpr=te.ContextKeySmallerExpr=te.ContextKeyGreaterEqualsExpr=te.ContextKeyGreaterExpr=te.ContextKeyNotExpr=te.ContextKeyNotEqualsExpr=te.ContextKeyNotInExpr=te.ContextKeyInExpr=te.ContextKeyEqualsExpr=te.ContextKeyDefinedExpr=te.ContextKeyTrueExpr=te.ContextKeyFalseExpr=te.expressionsAreEqualWithConstantSubstitution=te.ContextKeyExpr=void 0;const ye=new Map;ye.set("false",!1),ye.set("true",!0),ye.set("isMac",he.isMacintosh),ye.set("isLinux",he.isLinux),ye.set("isWindows",he.isWindows),ye.set("isWeb",he.isWeb),ye.set("isMacNative",he.isMacintosh&&!he.isWeb),ye.set("isEdge",he.isEdge),ye.set("isFirefox",he.isFirefox),ye.set("isChrome",he.isChrome),ye.set("isSafari",he.isSafari);const Ee=Object.prototype.hasOwnProperty;function h(j,te){return j.cmp(te)}te.ContextKeyExpr=class b{static has(j){return i.create(j)}static equals(j,te){return n.create(j,te)}static regex(j,te){return S.create(j,te)}static not(j){return s.create(j)}static and(...j){return _.create(j,null)}static or(...j){return L.create(j,null,!0)}static deserialize(j,te=!1){if(j)return this._deserializeOrExpression(j,te)}static _deserializeOrExpression(j,te){let he=j.split("||");return L.create(he.map((j=>this._deserializeAndExpression(j,te))),null,!0)}static _deserializeAndExpression(j,te){let he=j.split("&&");return _.create(he.map((j=>this._deserializeOne(j,te))),null)}static _deserializeOne(j,te){if((j=j.trim()).indexOf("!=")>=0){let he=j.split("!=");return r.create(he[0].trim(),this._deserializeValue(he[1],te))}if(j.indexOf("==")>=0){let he=j.split("==");return n.create(he[0].trim(),this._deserializeValue(he[1],te))}if(j.indexOf("=~")>=0){let he=j.split("=~");return S.create(he[0].trim(),this._deserializeRegexValue(he[1],te))}if(j.indexOf(" in ")>=0){let te=j.split(" in ");return l.create(te[0].trim(),te[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(j)){const te=j.split(">=");return d.create(te[0].trim(),te[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(j)){const te=j.split(">");return a.create(te[0].trim(),te[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(j)){const te=j.split("<=");return f.create(te[0].trim(),te[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(j)){const te=j.split("<");return u.create(te[0].trim(),te[1].trim())}return/^\!\s*/.test(j)?s.create(j.substr(1).trim()):i.create(j)}static _deserializeValue(j,te){if("true"===(j=j.trim()))return!0;if("false"===j)return!1;let he=/^'([^']*)'$/.exec(j);return he?he[1].trim():j}static _deserializeRegexValue(j,te){if((0,ve.isFalsyOrWhitespace)(j)){if(te)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let he=j.indexOf("/"),Ce=j.lastIndexOf("/");if(he===Ce||he<0){if(te)throw new Error(`bad regexp-value '${j}', missing /-enclosure`);return console.warn(`bad regexp-value '${j}', missing /-enclosure`),null}let ye=j.slice(he+1,Ce),Ee="i"===j[Ce+1]?"i":"";try{return new RegExp(ye,Ee)}catch(he){if(te)throw new Error(`bad regexp-value '${j}', parse error: ${he}`);return console.warn(`bad regexp-value '${j}', parse error: ${he}`),null}}},te.expressionsAreEqualWithConstantSubstitution=function p(j,te){const he=j?j.substituteConstants():void 0,ve=te?te.substituteConstants():void 0;return!he&&!ve||!(!he||!ve)&&he.equals(ve)};class g{constructor(){this.type=0}cmp(j){return this.type-j.type}equals(j){return j.type===this.type}substituteConstants(){return this}evaluate(j){return!1}serialize(){return"false"}keys(){return[]}negate(){return t.INSTANCE}}te.ContextKeyFalseExpr=g,g.INSTANCE=new g;class t{constructor(){this.type=1}cmp(j){return this.type-j.type}equals(j){return j.type===this.type}substituteConstants(){return this}evaluate(j){return!0}serialize(){return"true"}keys(){return[]}negate(){return g.INSTANCE}}te.ContextKeyTrueExpr=t,t.INSTANCE=new t;class i{constructor(j,te){this.key=j,this.negated=te,this.type=2}static create(j,te=null){const he=ye.get(j);return"boolean"==typeof he?he?t.INSTANCE:g.INSTANCE:new i(j,te)}cmp(j){return j.type!==this.type?this.type-j.type:N(this.key,j.key)}equals(j){return j.type===this.type&&this.key===j.key}substituteConstants(){const j=ye.get(this.key);return"boolean"==typeof j?j?t.INSTANCE:g.INSTANCE:this}evaluate(j){return!!j.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=s.create(this.key,this)),this.negated}}te.ContextKeyDefinedExpr=i;class n{constructor(j,te,he){this.key=j,this.value=te,this.negated=he,this.type=4}static create(j,te,he=null){if("boolean"==typeof te)return te?i.create(j,he):s.create(j,he);const ve=ye.get(j);return"boolean"==typeof ve?te===(ve?"true":"false")?t.INSTANCE:g.INSTANCE:new n(j,te,he)}cmp(j){return j.type!==this.type?this.type-j.type:k(this.key,this.value,j.key,j.value)}equals(j){return j.type===this.type&&(this.key===j.key&&this.value===j.value)}substituteConstants(){const j=ye.get(this.key);if("boolean"==typeof j){const te=j?"true":"false";return this.value===te?t.INSTANCE:g.INSTANCE}return this}evaluate(j){return j.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=r.create(this.key,this.value,this)),this.negated}}te.ContextKeyEqualsExpr=n;class l{constructor(j,te){this.key=j,this.valueKey=te,this.type=10,this.negated=null}static create(j,te){return new l(j,te)}cmp(j){return j.type!==this.type?this.type-j.type:k(this.key,this.valueKey,j.key,j.valueKey)}equals(j){return j.type===this.type&&(this.key===j.key&&this.valueKey===j.valueKey)}substituteConstants(){return this}evaluate(j){const te=j.getValue(this.valueKey),he=j.getValue(this.key);return Array.isArray(te)?te.indexOf(he)>=0:"string"==typeof he&&"object"==typeof te&&null!==te&&Ee.call(te,he)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=c.create(this)),this.negated}}te.ContextKeyInExpr=l;class c{constructor(j){this._actual=j,this.type=11}static create(j){return new c(j)}cmp(j){return j.type!==this.type?this.type-j.type:this._actual.cmp(j._actual)}equals(j){return j.type===this.type&&this._actual.equals(j._actual)}substituteConstants(){return this}evaluate(j){return!this._actual.evaluate(j)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}te.ContextKeyNotInExpr=c;class r{constructor(j,te,he){this.key=j,this.value=te,this.negated=he,this.type=5}static create(j,te,he=null){if("boolean"==typeof te)return te?s.create(j,he):i.create(j,he);const ve=ye.get(j);return"boolean"==typeof ve?te===(ve?"true":"false")?g.INSTANCE:t.INSTANCE:new r(j,te,he)}cmp(j){return j.type!==this.type?this.type-j.type:k(this.key,this.value,j.key,j.value)}equals(j){return j.type===this.type&&(this.key===j.key&&this.value===j.value)}substituteConstants(){const j=ye.get(this.key);if("boolean"==typeof j){const te=j?"true":"false";return this.value===te?g.INSTANCE:t.INSTANCE}return this}evaluate(j){return j.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=n.create(this.key,this.value,this)),this.negated}}te.ContextKeyNotEqualsExpr=r;class s{constructor(j,te){this.key=j,this.negated=te,this.type=3}static create(j,te=null){const he=ye.get(j);return"boolean"==typeof he?he?g.INSTANCE:t.INSTANCE:new s(j,te)}cmp(j){return j.type!==this.type?this.type-j.type:N(this.key,j.key)}equals(j){return j.type===this.type&&this.key===j.key}substituteConstants(){const j=ye.get(this.key);return"boolean"==typeof j?j?g.INSTANCE:t.INSTANCE:this}evaluate(j){return!j.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=i.create(this.key,this)),this.negated}}function o(j,te){if("string"==typeof j){const te=parseFloat(j);isNaN(te)||(j=te)}return"string"==typeof j||"number"==typeof j?te(j):g.INSTANCE}te.ContextKeyNotExpr=s;class a{constructor(j,te,he){this.key=j,this.value=te,this.negated=he,this.type=12}static create(j,te,he=null){return o(te,(te=>new a(j,te,he)))}cmp(j){return j.type!==this.type?this.type-j.type:k(this.key,this.value,j.key,j.value)}equals(j){return j.type===this.type&&(this.key===j.key&&this.value===j.value)}substituteConstants(){return this}evaluate(j){return"string"!=typeof this.value&&parseFloat(j.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this.key,this.value,this)),this.negated}}te.ContextKeyGreaterExpr=a;class d{constructor(j,te,he){this.key=j,this.value=te,this.negated=he,this.type=13}static create(j,te,he=null){return o(te,(te=>new d(j,te,he)))}cmp(j){return j.type!==this.type?this.type-j.type:k(this.key,this.value,j.key,j.value)}equals(j){return j.type===this.type&&(this.key===j.key&&this.value===j.value)}substituteConstants(){return this}evaluate(j){return"string"!=typeof this.value&&parseFloat(j.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=u.create(this.key,this.value,this)),this.negated}}te.ContextKeyGreaterEqualsExpr=d;class u{constructor(j,te,he){this.key=j,this.value=te,this.negated=he,this.type=14}static create(j,te,he=null){return o(te,(te=>new u(j,te,he)))}cmp(j){return j.type!==this.type?this.type-j.type:k(this.key,this.value,j.key,j.value)}equals(j){return j.type===this.type&&(this.key===j.key&&this.value===j.value)}substituteConstants(){return this}evaluate(j){return"string"!=typeof this.value&&parseFloat(j.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=d.create(this.key,this.value,this)),this.negated}}te.ContextKeySmallerExpr=u;class f{constructor(j,te,he){this.key=j,this.value=te,this.negated=he,this.type=15}static create(j,te,he=null){return o(te,(te=>new f(j,te,he)))}cmp(j){return j.type!==this.type?this.type-j.type:k(this.key,this.value,j.key,j.value)}equals(j){return j.type===this.type&&(this.key===j.key&&this.value===j.value)}substituteConstants(){return this}evaluate(j){return"string"!=typeof this.value&&parseFloat(j.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this.value,this)),this.negated}}te.ContextKeySmallerEqualsExpr=f;class S{constructor(j,te){this.key=j,this.regexp=te,this.type=7,this.negated=null}static create(j,te){return new S(j,te)}cmp(j){if(j.type!==this.type)return this.type-j.type;if(this.key<j.key)return-1;if(this.key>j.key)return 1;const te=this.regexp?this.regexp.source:"",he=j.regexp?j.regexp.source:"";return te<he?-1:te>he?1:0}equals(j){if(j.type===this.type){const te=this.regexp?this.regexp.source:"",he=j.regexp?j.regexp.source:"";return this.key===j.key&&te===he}return!1}substituteConstants(){return this}evaluate(j){let te=j.getValue(this.key);return!!this.regexp&&this.regexp.test(te)}serialize(){const j=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${j}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this)),this.negated}}te.ContextKeyRegexExpr=S;class v{constructor(j){this._actual=j,this.type=8}static create(j){return new v(j)}cmp(j){return j.type!==this.type?this.type-j.type:this._actual.cmp(j._actual)}equals(j){return j.type===this.type&&this._actual.equals(j._actual)}substituteConstants(){return this}evaluate(j){return!this._actual.evaluate(j)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function C(j){let te=null;for(let he=0,ve=j.length;he<ve;he++){const ve=j[he].substituteConstants();if(j[he]!==ve&&null===te){te=[];for(let ve=0;ve<he;ve++)te[ve]=j[ve]}null!==te&&(te[he]=ve)}return null===te?j:te}te.ContextKeyNotRegexExpr=v;class _{constructor(j,te){this.expr=j,this.negated=te,this.type=6}static create(j,te){return _._normalizeArr(j,te)}cmp(j){if(j.type!==this.type)return this.type-j.type;if(this.expr.length<j.expr.length)return-1;if(this.expr.length>j.expr.length)return 1;for(let te=0,he=this.expr.length;te<he;te++){const he=h(this.expr[te],j.expr[te]);if(0!==he)return he}return 0}equals(j){if(j.type===this.type){if(this.expr.length!==j.expr.length)return!1;for(let te=0,he=this.expr.length;te<he;te++)if(!this.expr[te].equals(j.expr[te]))return!1;return!0}return!1}substituteConstants(){const j=C(this.expr);return j===this.expr?this:_.create(j,this.negated)}evaluate(j){for(let te=0,he=this.expr.length;te<he;te++)if(!this.expr[te].evaluate(j))return!1;return!0}static _normalizeArr(j,te){const he=[];let ve=!1;for(const te of j)if(te){if(1===te.type){ve=!0;continue}if(0===te.type)return g.INSTANCE;if(6===te.type){he.push(...te.expr);continue}he.push(te)}if(0===he.length&&ve)return t.INSTANCE;if(0!==he.length){if(1===he.length)return he[0];he.sort(h);for(let j=1;j<he.length;j++)he[j-1].equals(he[j])&&(he.splice(j,1),j--);if(1===he.length)return he[0];for(;he.length>1;){const j=he[he.length-1];if(9!==j.type)break;he.pop();const te=he.pop(),ve=0===he.length,Ce=L.create(j.expr.map((j=>_.create([j,te],null))),null,ve);Ce&&(he.push(Ce),he.sort(h))}return 1===he.length?he[0]:new _(he,te)}}serialize(){return this.expr.map((j=>j.serialize())).join(" && ")}keys(){const j=[];for(let te of this.expr)j.push(...te.keys());return j}negate(){if(!this.negated){const j=[];for(let te of this.expr)j.push(te.negate());this.negated=L.create(j,this,!0)}return this.negated}}class L{constructor(j,te){this.expr=j,this.negated=te,this.type=9}static create(j,te,he){return L._normalizeArr(j,te,he)}cmp(j){if(j.type!==this.type)return this.type-j.type;if(this.expr.length<j.expr.length)return-1;if(this.expr.length>j.expr.length)return 1;for(let te=0,he=this.expr.length;te<he;te++){const he=h(this.expr[te],j.expr[te]);if(0!==he)return he}return 0}equals(j){if(j.type===this.type){if(this.expr.length!==j.expr.length)return!1;for(let te=0,he=this.expr.length;te<he;te++)if(!this.expr[te].equals(j.expr[te]))return!1;return!0}return!1}substituteConstants(){const j=C(this.expr);return j===this.expr?this:L.create(j,this.negated,!1)}evaluate(j){for(let te=0,he=this.expr.length;te<he;te++)if(this.expr[te].evaluate(j))return!0;return!1}static _normalizeArr(j,te,he){let ve=[],Ce=!1;if(j){for(let te=0,he=j.length;te<he;te++){const he=j[te];if(he){if(0===he.type){Ce=!0;continue}if(1===he.type)return t.INSTANCE;if(9===he.type){ve=ve.concat(he.expr);continue}ve.push(he)}}if(0===ve.length&&Ce)return g.INSTANCE;ve.sort(h)}if(0!==ve.length){if(1===ve.length)return ve[0];for(let j=1;j<ve.length;j++)ve[j-1].equals(ve[j])&&(ve.splice(j,1),j--);if(1===ve.length)return ve[0];if(he){for(let j=0;j<ve.length;j++)for(let te=j+1;te<ve.length;te++)M(ve[j],ve[te])&&(ve.splice(te,1),te--);if(1===ve.length)return ve[0]}return new L(ve,te)}}serialize(){return this.expr.map((j=>j.serialize())).join(" || ")}keys(){const j=[];for(let te of this.expr)j.push(...te.keys());return j}negate(){if(!this.negated){let j=[];for(let te of this.expr)j.push(te.negate());for(;j.length>1;){const te=j.shift(),he=j.shift(),ve=[];for(const j of O(te))for(const te of O(he))ve.push(_.create([j,te],null));const Ce=0===j.length;j.unshift(L.create(ve,null,Ce))}this.negated=j[0]}return this.negated}}class E extends i{constructor(j,te,he){super(j,null),this._defaultValue=te,"object"==typeof he?E._info.push(Object.assign(Object.assign({},he),{key:j})):!0!==he&&E._info.push({key:j,description:he,type:null!=te?typeof te:void 0})}static all(){return E._info.values()}bindTo(j){return j.createKey(this.key,this._defaultValue)}getValue(j){return j.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(j){return n.create(this.key,j)}}function N(j,te){return j<te?-1:j>te?1:0}function k(j,te,he,ve){return j<he?-1:j>he?1:te<ve?-1:te>ve?1:0}function M(j,te){if(6===te.type&&9!==j.type&&6!==j.type)for(const he of te.expr)if(j.equals(he))return!0;const he=O(j.negate()).concat(O(te));he.sort(h);for(let j=0;j<he.length;j++){const te=he[j].negate();for(let ve=j+1;ve<he.length;ve++){const j=he[ve];if(te.equals(j))return!0}}return!1}function O(j){return 9===j.type?j.expr:[j]}te.RawContextKey=E,E._info=[],te.IContextKeyService=(0,Ce.createDecorator)("contextKeyService"),te.SET_CONTEXT_COMMAND_ID="setContext",te.implies=M})),define(Ce[24],ie([1,0,512,16]),(function(j,te,he,ve){var Ce;Object.defineProperty(te,"__esModule",{value:!0}),te.EditorContextKeys=void 0,(Ce=te.EditorContextKeys||(te.EditorContextKeys={})).editorSimpleInput=new ve.RawContextKey("editorSimpleInput",!1,!0),Ce.editorTextFocus=new ve.RawContextKey("editorTextFocus",!1,he.localize(0,null)),Ce.focus=new ve.RawContextKey("editorFocus",!1,he.localize(1,null)),Ce.textInputFocus=new ve.RawContextKey("textInputFocus",!1,he.localize(2,null)),Ce.readOnly=new ve.RawContextKey("editorReadonly",!1,he.localize(3,null)),Ce.inDiffEditor=new ve.RawContextKey("inDiffEditor",!1,he.localize(4,null)),Ce.columnSelection=new ve.RawContextKey("editorColumnSelection",!1,he.localize(5,null)),Ce.writable=Ce.readOnly.toNegated(),Ce.hasNonEmptySelection=new ve.RawContextKey("editorHasSelection",!1,he.localize(6,null)),Ce.hasOnlyEmptySelection=Ce.hasNonEmptySelection.toNegated(),Ce.hasMultipleSelections=new ve.RawContextKey("editorHasMultipleSelections",!1,he.localize(7,null)),Ce.hasSingleSelection=Ce.hasMultipleSelections.toNegated(),Ce.tabMovesFocus=new ve.RawContextKey("editorTabMovesFocus",!1,he.localize(8,null)),Ce.tabDoesNotMoveFocus=Ce.tabMovesFocus.toNegated(),Ce.isInWalkThroughSnippet=new ve.RawContextKey("isInEmbeddedEditor",!1,!0),Ce.canUndo=new ve.RawContextKey("canUndo",!1,!0),Ce.canRedo=new ve.RawContextKey("canRedo",!1,!0),Ce.hoverVisible=new ve.RawContextKey("editorHoverVisible",!1,he.localize(9,null)),Ce.inCompositeEditor=new ve.RawContextKey("inCompositeEditor",void 0,he.localize(10,null)),Ce.notInCompositeEditor=Ce.inCompositeEditor.toNegated(),Ce.languageId=new ve.RawContextKey("editorLangId","",he.localize(11,null)),Ce.hasCompletionItemProvider=new ve.RawContextKey("editorHasCompletionItemProvider",!1,he.localize(12,null)),Ce.hasCodeActionsProvider=new ve.RawContextKey("editorHasCodeActionsProvider",!1,he.localize(13,null)),Ce.hasCodeLensProvider=new ve.RawContextKey("editorHasCodeLensProvider",!1,he.localize(14,null)),Ce.hasDefinitionProvider=new ve.RawContextKey("editorHasDefinitionProvider",!1,he.localize(15,null)),Ce.hasDeclarationProvider=new ve.RawContextKey("editorHasDeclarationProvider",!1,he.localize(16,null)),Ce.hasImplementationProvider=new ve.RawContextKey("editorHasImplementationProvider",!1,he.localize(17,null)),Ce.hasTypeDefinitionProvider=new ve.RawContextKey("editorHasTypeDefinitionProvider",!1,he.localize(18,null)),Ce.hasHoverProvider=new ve.RawContextKey("editorHasHoverProvider",!1,he.localize(19,null)),Ce.hasDocumentHighlightProvider=new ve.RawContextKey("editorHasDocumentHighlightProvider",!1,he.localize(20,null)),Ce.hasDocumentSymbolProvider=new ve.RawContextKey("editorHasDocumentSymbolProvider",!1,he.localize(21,null)),Ce.hasReferenceProvider=new ve.RawContextKey("editorHasReferenceProvider",!1,he.localize(22,null)),Ce.hasRenameProvider=new ve.RawContextKey("editorHasRenameProvider",!1,he.localize(23,null)),Ce.hasSignatureHelpProvider=new ve.RawContextKey("editorHasSignatureHelpProvider",!1,he.localize(24,null)),Ce.hasInlayHintsProvider=new ve.RawContextKey("editorHasInlayHintsProvider",!1,he.localize(25,null)),Ce.hasDocumentFormattingProvider=new ve.RawContextKey("editorHasDocumentFormattingProvider",!1,he.localize(26,null)),Ce.hasDocumentSelectionFormattingProvider=new ve.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,he.localize(27,null)),Ce.hasMultipleDocumentFormattingProvider=new ve.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,he.localize(28,null)),Ce.hasMultipleDocumentSelectionFormattingProvider=new ve.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,he.localize(29,null))})),define(Ce[198],ie([1,0,21,13,20,25,11,18,58,26,16]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){function t(j,te,he,Ce){return fi(this,void 0,void 0,(function*(){const ye=Ie.SignatureHelpProviderRegistry.ordered(j);for(const Ee of ye)try{const ve=yield Ee.provideSignatureHelp(j,te,Ce,he);if(ve)return ve}catch(j){(0,ve.onUnexpectedExternalError)(j)}}))}Object.defineProperty(te,"__esModule",{value:!0}),te.provideSignatureHelp=te.Context=void 0,te.Context={Visible:new Ke.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new Ke.RawContextKey("parameterHintsMultipleSignatures",!1)},te.provideSignatureHelp=t,Oe.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",((j,...te)=>fi(void 0,void 0,void 0,(function*(){const[ve,Oe,Ke]=te;(0,Ce.assertType)(ye.URI.isUri(ve)),(0,Ce.assertType)(Ee.Position.isIPosition(Oe)),(0,Ce.assertType)("string"==typeof Ke||!Ke);const je=yield j.get(Ne.ITextModelService).createModelReference(ve);try{const j=yield t(je.object.textEditorModel,Ee.Position.lift(Oe),{triggerKind:Ie.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:Ke},he.CancellationToken.None);return j?(setTimeout((()=>j.dispose()),0),j.value):void 0}finally{je.dispose()}}))))})),define(Ce[601],ie([1,0,10,13,4,2,97,18,198]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){var Oe;Object.defineProperty(te,"__esModule",{value:!0}),te.ParameterHintsModel=void 0,function(j){j.Default={type:0};j.Pending=class n{constructor(j,te){this.request=j,this.previouslyActiveHints=te,this.type=2}};j.Active=class l{constructor(j){this.hints=j,this.type=1}}}(Oe||(Oe={}));class g extends ye.Disposable{constructor(j,te=g.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new Ce.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Oe.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new ye.MutableDisposable),this.triggerChars=new Ee.CharacterSet,this.retriggerChars=new Ee.CharacterSet,this.triggerId=0,this.editor=j,this.throttledDelayer=new he.Delayer(te),this._register(this.editor.onDidBlurEditorWidget((()=>this.cancel()))),this._register(this.editor.onDidChangeConfiguration((()=>this.onEditorConfigurationChange()))),this._register(this.editor.onDidChangeModel((j=>this.onModelChanged()))),this._register(this.editor.onDidChangeModelLanguage((j=>this.onModelChanged()))),this._register(this.editor.onDidChangeCursorSelection((j=>this.onCursorChange(j)))),this._register(this.editor.onDidChangeModelContent((j=>this.onModelContentChange()))),this._register(Ie.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType((j=>this.onDidType(j)))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(j){2===this._state.type&&this._state.request.cancel(),this._state=j}cancel(j=!1){this.state=Oe.Default,this.throttledDelayer.cancel(),j||this._onChangedHints.fire(void 0)}trigger(j,te){const he=this.editor.getModel();if(!he||!Ie.SignatureHelpProviderRegistry.has(he))return;const Ce=++this.triggerId;this._pendingTriggers.push(j),this.throttledDelayer.trigger((()=>this.doTrigger(Ce)),te).catch(ve.onUnexpectedError)}next(){if(1!==this.state.type)return;const j=this.state.hints.signatures.length,te=this.state.hints.activeSignature,he=te%j==j-1,ve=this.editor.getOption(76).cycle;!(j<2||he)||ve?this.updateActiveSignature(he&&ve?0:te+1):this.cancel()}previous(){if(1!==this.state.type)return;const j=this.state.hints.signatures.length,te=this.state.hints.activeSignature,he=0===te,ve=this.editor.getOption(76).cycle;!(j<2||he)||ve?this.updateActiveSignature(he&&ve?j-1:te-1):this.cancel()}updateActiveSignature(j){1===this.state.type&&(this.state=new Oe.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:j})),this._onChangedHints.fire(this.state.hints))}doTrigger(j){return fi(this,void 0,void 0,(function*(){const te=1===this.state.type||2===this.state.type,Ce=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const ye=this._pendingTriggers.reduce(t);this._pendingTriggers=[];const Ee={triggerKind:ye.triggerKind,triggerCharacter:ye.triggerCharacter,isRetrigger:te,activeSignatureHelp:Ce};if(!this.editor.hasModel())return!1;const Ie=this.editor.getModel(),Ke=this.editor.getPosition();this.state=new Oe.Pending((0,he.createCancelablePromise)((j=>(0,Ne.provideSignatureHelp)(Ie,Ke,Ee,j))),Ce);try{const te=yield this.state.request;return j!==this.triggerId?(null==te||te.dispose(),!1):te&&te.value.signatures&&0!==te.value.signatures.length?(this.state=new Oe.Active(te.value),this._lastSignatureHelpResult.value=te,this._onChangedHints.fire(this.state.hints),!0):(null==te||te.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(te){return j===this.triggerId&&(this.state=Oe.Default),(0,ve.onUnexpectedError)(te),!1}}))}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new Ee.CharacterSet,this.retriggerChars=new Ee.CharacterSet;const j=this.editor.getModel();if(j)for(const te of Ie.SignatureHelpProviderRegistry.ordered(j)){for(const j of te.signatureHelpTriggerCharacters||[])this.triggerChars.add(j.charCodeAt(0)),this.retriggerChars.add(j.charCodeAt(0));for(const j of te.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(j.charCodeAt(0))}}onDidType(j){if(!this.triggerOnType)return;const te=j.length-1,he=j.charCodeAt(te);(this.triggerChars.has(he)||this.isTriggered&&this.retriggerChars.has(he))&&this.trigger({triggerKind:Ie.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:j.charAt(te)})}onCursorChange(j){"mouse"===j.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:Ie.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Ie.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(76).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function t(j,te){switch(te.triggerKind){case Ie.SignatureHelpTriggerKind.Invoke:return te;case Ie.SignatureHelpTriggerKind.ContentChange:return j;case Ie.SignatureHelpTriggerKind.TriggerCharacter:default:return te}}te.ParameterHintsModel=g,g.DEFAULT_DELAY=120})),define(Ce[602],ie([1,0,16]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.SuggestAlternatives=void 0;let ve=class Ot{constructor(j,te){this._editor=j,this._index=0,this._ckOtherSuggestions=Ot.OtherSuggestions.bindTo(te)}dispose(){this.reset()}reset(){var j;this._ckOtherSuggestions.reset(),null===(j=this._listener)||void 0===j||j.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:j,index:te},he){0!==j.items.length&&Ot._moveIndex(!0,j,te)!==te?(this._acceptNext=he,this._model=j,this._index=te,this._listener=this._editor.onDidChangeCursorPosition((()=>{this._ignore||this.reset()})),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(j,te,he){let ve=he;for(;ve=(ve+te.items.length+(j?1:-1))%te.items.length,ve!==he&&te.items[ve].completion.additionalTextEdits;);return ve}next(){this._move(!0)}prev(){this._move(!1)}_move(j){if(this._model)try{this._ignore=!0,this._index=Ot._moveIndex(j,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};ve.OtherSuggestions=new he.RawContextKey("hasOtherSuggestions",!1),ve=Ci([Zi(1,he.IContextKeyService)],ve),te.SuggestAlternatives=ve})),define(Ce[603],ie([1,0,16]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.WordContextKey=void 0;let ve=class _i{constructor(j,te){this._editor=j,this._enabled=!1,this._ckAtEnd=_i.AtEnd.bindTo(te),this._configListener=this._editor.onDidChangeConfiguration((j=>j.hasChanged(111)&&this._update())),this._update()}dispose(){var j;this._configListener.dispose(),null===(j=this._selectionListener)||void 0===j||j.dispose(),this._ckAtEnd.reset()}_update(){const j="on"===this._editor.getOption(111);if(this._enabled!==j)if(this._enabled=j,this._enabled){const w=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const j=this._editor.getModel(),te=this._editor.getSelection(),he=j.getWordAtPosition(te.getStartPosition());he?this._ckAtEnd.set(he.endColumn===te.getStartPosition().column):this._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(w),w()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};ve.AtEnd=new he.RawContextKey("atEndOfWord",!1),ve=Ci([Zi(1,he.IContextKeyService)],ve),te.WordContextKey=ve})),define(Ce[63],ie([1,0,16,9]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.CONTEXT_ACCESSIBILITY_MODE_ENABLED=te.IAccessibilityService=void 0,te.IAccessibilityService=(0,ve.createDecorator)("accessibilityService"),te.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new he.RawContextKey("accessibilityModeEnabled",!1)})),define(Ce[604],ie([1,0,34,19,4,2,39,17,230,266,397,231,31,144,174,63]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt){Object.defineProperty(te,"__esModule",{value:!0}),te.ComputedEditorOptions=te.EditorConfiguration=void 0;let rt=class extends ye.Disposable{constructor(j,te,ve,ye){super(),this._accessibilityService=ye,this._onDidChange=this._register(new Ce.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new Ce.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new Ze.ComputeOptionsMemory,this.isSimpleWidget=j,this._containerObserver=this._register(new Ne.ElementSizeObserver(ve,te.dimension)),this._rawOptions=f(te),this._validatedOptions=u.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(Ye.EditorZoom.onDidChangeZoomLevel((()=>this._recomputeOptions()))),this._register(je.TabFocus.onDidChangeTabFocus((()=>this._recomputeOptions()))),this._register(this._containerObserver.onDidChange((()=>this._recomputeOptions()))),this._register(Oe.FontMeasurements.onDidChange((()=>this._recomputeOptions()))),this._register(he.PixelRatio.onDidChange((()=>this._recomputeOptions()))),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized((()=>this._recomputeOptions())))}_recomputeOptions(){const j=this._computeOptions(),te=u.checkEquals(this.options,j);null!==te&&(this.options=j,this._onDidChangeFast.fire(te),this._onDidChange.fire(te))}_computeOptions(){const j=this._readEnvConfiguration(),te=et.BareFontInfo.createFromValidatedSettings(this._validatedOptions,j.pixelRatio,this.isSimpleWidget),he=this._readFontInfo(te),ve={memory:this._computeOptionsMemory,outerWidth:j.outerWidth,outerHeight:j.outerHeight-this._reservedHeight,fontInfo:he,extraEditorClassName:j.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:j.emptySelectionClipboard,pixelRatio:j.pixelRatio,tabFocusMode:je.TabFocus.getTabFocusMode(),accessibilitySupport:j.accessibilitySupport};return u.computeOptions(this._validatedOptions,ve)}_readEnvConfiguration(){return{extraEditorClassName:o(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:he.isWebKit||he.isFirefox,pixelRatio:he.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(j){return Oe.FontMeasurements.readFontInfo(j)}getRawOptions(){return this._rawOptions}updateOptions(j){const te=f(j);!u.applyUpdate(this._rawOptions,te)||(this._validatedOptions=u.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(j){this._containerObserver.observe(j)}setIsDominatedByLongLines(j){this._isDominatedByLongLines!==j&&(this._isDominatedByLongLines=j,this._recomputeOptions())}setModelLineCount(j){const te=function s(j){let te=0;for(;j;)j=Math.floor(j/10),te++;return te||1}(j);this._lineNumbersDigitCount!==te&&(this._lineNumbersDigitCount=te,this._recomputeOptions())}setViewLineCount(j){this._viewLineCount!==j&&(this._viewLineCount=j,this._recomputeOptions())}setReservedHeight(j){this._reservedHeight!==j&&(this._reservedHeight=j,this._recomputeOptions())}};function o(){let j="";return!he.isSafari&&!he.isWebkitWebView&&(j+="no-user-select "),he.isSafari&&(j+="no-minimap-shadow "),Ie.isMacintosh&&(j+="mac "),j}rt=Ci([Zi(3,nt.IAccessibilityService)],rt),te.EditorConfiguration=rt;class a{constructor(){this._values=[]}_read(j){return this._values[j]}get(j){return this._values[j]}_write(j,te){this._values[j]=te}}class d{constructor(){this._values=[]}_read(j){if(j>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[j]}get(j){return this._read(j)}_write(j,te){this._values[j]=te}}te.ComputedEditorOptions=d;class u{static validateOptions(j){const te=new a;for(const he of Ze.editorOptionsRegistry){const ve="_never_"===he.name?void 0:j[he.name];te._write(he.id,he.validate(ve))}return te}static computeOptions(j,te){const he=new d;for(const ve of Ze.editorOptionsRegistry)he._write(ve.id,ve.compute(te,he,j._read(ve.id)));return he}static _deepEquals(j,te){if("object"!=typeof j||"object"!=typeof te||!j||!te)return j===te;if(Array.isArray(j)||Array.isArray(te))return!(!Array.isArray(j)||!Array.isArray(te))&&ve.equals(j,te);if(Object.keys(j).length!==Object.keys(te).length)return!1;for(const he in j)if(!u._deepEquals(j[he],te[he]))return!1;return!0}static checkEquals(j,te){const he=[];let ve=!1;for(const Ce of Ze.editorOptionsRegistry){const ye=!u._deepEquals(j._read(Ce.id),te._read(Ce.id));he[Ce.id]=ye,ye&&(ve=!0)}return ve?new Ze.ConfigurationChangedEvent(he):null}static applyUpdate(j,te){let he=!1;for(const ve of Ze.editorOptionsRegistry)if(te.hasOwnProperty(ve.name)){const Ce=ve.applyUpdate(j[ve.name],te[ve.name]);j[ve.name]=Ce.newValue,he=he||Ce.didChange}return he}}function f(j){const te=Ee.deepClone(j);return(0,Ke.migrateOptions)(te),te}})),define(Ce[605],ie([1,0,4,2,63,40,16]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.AccessibilityService=void 0;let Ie=class extends ve.Disposable{constructor(j,te){super(),this._contextKeyService=j,this._configurationService=te,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new he.Emitter,this._accessibilityModeEnabledContext=Ce.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const t=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((j=>{j.affectsConfiguration("editor.accessibilitySupport")&&(t(),this._onDidChangeScreenReaderOptimized.fire())}))),t(),this.onDidChangeScreenReaderOptimized((()=>t()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const j=this._configurationService.getValue("editor.accessibilitySupport");return"on"===j||"auto"===j&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};Ie=Ci([Zi(0,Ee.IContextKeyService),Zi(1,ye.IConfigurationService)],Ie),te.AccessibilityService=Ie})),define(Ce[606],ie([1,0,4,54,2,47,583,26,40,16]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.ContextKeyService=te.AbstractContextKeyService=te.Context=void 0;const Ke="data-keybinding-context";class t{constructor(j,te){this._id=j,this._parent=te,this._value=Object.create(null),this._value._contextId=j}setValue(j,te){return this._value[j]!==te&&(this._value[j]=te,!0)}removeValue(j){return j in this._value&&(delete this._value[j],!0)}getValue(j){const te=this._value[j];return void 0===te&&this._parent?this._parent.getValue(j):te}}te.Context=t;class i extends t{constructor(){super(-1,null)}setValue(j,te){return!1}removeValue(j){return!1}getValue(j){}}i.INSTANCE=new i;class n extends t{constructor(j,te,he){super(j,null),this._configurationService=te,this._values=ye.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((j=>{if(6===j.source){const j=Array.from(ve.Iterable.map(this._values,(([j])=>j)));this._values.clear(),he.fire(new r(j))}else{const te=[];for(const he of j.affectedKeys){const j=`config.${he}`,Ce=this._values.findSuperstr(j);void 0!==Ce&&(te.push(...ve.Iterable.map(Ce,(([j])=>j))),this._values.deleteSuperstr(j)),this._values.has(j)&&(te.push(j),this._values.delete(j))}he.fire(new r(te))}}))}dispose(){this._listener.dispose()}getValue(j){if(0!==j.indexOf(n._keyPrefix))return super.getValue(j);if(this._values.has(j))return this._values.get(j);const te=j.substr(n._keyPrefix.length),he=this._configurationService.getValue(te);let ve;switch(typeof he){case"number":case"boolean":case"string":ve=he;break;default:ve=Array.isArray(he)?JSON.stringify(he):he}return this._values.set(j,ve),ve}setValue(j,te){return super.setValue(j,te)}removeValue(j){return super.removeValue(j)}}n._keyPrefix="config.";class l{constructor(j,te,he){this._service=j,this._key=te,this._defaultValue=he,this.reset()}set(j){this._service.setContext(this._key,j)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class c{constructor(j){this.key=j}affectsSome(j){return j.has(this.key)}}class r{constructor(j){this.keys=j}affectsSome(j){for(const te of this.keys)if(j.has(te))return!0;return!1}}class s{constructor(j){this.events=j}affectsSome(j){for(const te of this.events)if(te.affectsSome(j))return!0;return!1}}class o{constructor(j){this._onDidChangeContext=new he.PauseableEmitter({merge:j=>new s(j)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=j}createKey(j,te){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new l(this,j,te)}bufferChangeEvents(j){this._onDidChangeContext.pause();try{j()}finally{this._onDidChangeContext.resume()}}createScoped(j){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new d(this,j)}contextMatchesRules(j){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const te=this.getContextValuesContainer(this._myContextId);return!j||j.evaluate(te)}getContextKeyValue(j){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(j)}setContext(j,te){if(this._isDisposed)return;const he=this.getContextValuesContainer(this._myContextId);!he||he.setValue(j,te)&&this._onDidChangeContext.fire(new c(j))}removeContext(j){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(j)&&this._onDidChangeContext.fire(new c(j))}getContext(j){return this._isDisposed?i.INSTANCE:this.getContextValuesContainer(function u(j){for(;j;){if(j.hasAttribute(Ke)){const te=j.getAttribute(Ke);return te?parseInt(te,10):NaN}j=j.parentElement}return 0}(j))}}te.AbstractContextKeyService=o;let je=class extends o{constructor(j){super(0),this._contexts=new Map,this._toDispose=new Ce.DisposableStore,this._lastContextId=0;const te=new n(this._myContextId,j,this._onDidChangeContext);this._contexts.set(this._myContextId,te),this._toDispose.add(te)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(j){return this._isDisposed?i.INSTANCE:this._contexts.get(j)||i.INSTANCE}createChildContext(j=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let te=++this._lastContextId;return this._contexts.set(te,new t(te,this.getContextValuesContainer(j))),te}disposeContext(j){this._isDisposed||this._contexts.delete(j)}};je=Ci([Zi(0,Ne.IConfigurationService)],je),te.ContextKeyService=je;class d extends o{constructor(j,te){if(super(j.createChildContext()),this._parentChangeListener=new Ce.MutableDisposable,this._parent=j,this._updateParentChangeListener(),this._domNode=te,this._domNode.hasAttribute(Ke)){let j="";this._domNode.classList&&(j=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(j?": "+j:""))}this._domNode.setAttribute(Ke,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(Ke),this._isDisposed=!0)}getContextValuesContainer(j){return this._isDisposed?i.INSTANCE:this._parent.getContextValuesContainer(j)}createChildContext(j=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(j)}disposeContext(j){this._isDisposed||this._parent.disposeContext(j)}}Ie.CommandsRegistry.registerCommand(Oe.SET_CONTEXT_COMMAND_ID,(function(j,te,he){j.get(Oe.IContextKeyService).createKey(String(te),he)})),Ie.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler:()=>[...Oe.RawContextKey.all()].sort(((j,te)=>j.key.localeCompare(te.key))),description:{description:(0,Ee.localize)(0,null),args:[]}}),Ie.CommandsRegistry.registerCommand("_generateContextKeyInfo",(function(){const j=[],te=new Set;for(let he of Oe.RawContextKey.all())te.has(he.key)||(te.add(he.key),j.push(he));j.sort(((j,te)=>j.key.localeCompare(te.key))),console.log(JSON.stringify(j,void 0,2))}))})),define(Ce[273],ie([1,0,17,584,16]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.InputFocusedContext=te.InputFocusedContextKey=te.IsDevelopmentContext=te.IsIOSContext=te.IsMacNativeContext=te.IsWebContext=te.IsWindowsContext=te.IsLinuxContext=te.IsMacContext=void 0,te.IsMacContext=new Ce.RawContextKey("isMac",he.isMacintosh,(0,ve.localize)(0,null)),te.IsLinuxContext=new Ce.RawContextKey("isLinux",he.isLinux,(0,ve.localize)(1,null)),te.IsWindowsContext=new Ce.RawContextKey("isWindows",he.isWindows,(0,ve.localize)(2,null)),te.IsWebContext=new Ce.RawContextKey("isWeb",he.isWeb,(0,ve.localize)(3,null)),te.IsMacNativeContext=new Ce.RawContextKey("isMacNative",he.isMacintosh&&!he.isWeb,(0,ve.localize)(4,null)),te.IsIOSContext=new Ce.RawContextKey("isIOS",he.isIOS,(0,ve.localize)(5,null)),te.IsDevelopmentContext=new Ce.RawContextKey("isDevelopment",!1,!0),te.InputFocusedContextKey="inputFocus",te.InputFocusedContext=new Ce.RawContextKey(te.InputFocusedContextKey,!1,(0,ve.localize)(6,null))})),define(Ce[76],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.IContextMenuService=te.IContextViewService=void 0,te.IContextViewService=(0,he.createDecorator)("contextViewService"),te.IContextMenuService=(0,he.createDecorator)("contextMenuService")})),define(Ce[127],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.IDialogService=void 0,te.IDialogService=(0,he.createDecorator)("dialogService")})),define(Ce[154],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.ServiceCollection=void 0;te.ServiceCollection=class y{constructor(...j){this._entries=new Map;for(let[te,he]of j)this.set(te,he)}set(j,te){const he=this._entries.get(j);return this._entries.set(j,te),he}get(j){return this._entries.get(j)}}})),define(Ce[607],ie([1,0,10,13,194,597,9,154]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.Trace=te.InstantiationService=void 0;class h extends Error{constructor(j){var te;super("cyclic dependency between services"),this.message=null!==(te=j.findCycleSlow())&&void 0!==te?te:`UNABLE to detect cycle, dumping graph: \n${j.toString()}`}}class g{constructor(j=new Ie.ServiceCollection,te=!1,he){this._activeInstantiations=new Set,this._services=j,this._strict=te,this._parent=he,this._services.set(Ee.IInstantiationService,this)}createChild(j){return new g(j,this._strict,this)}invokeFunction(j,...te){let he=t.traceInvocation(j),Ce=!1;try{return j({get:j=>{if(Ce)throw(0,ve.illegalState)("service accessor is only valid during the invocation of its target method");const te=this._getOrCreateServiceInstance(j,he);if(!te)throw new Error(`[invokeFunction] unknown service '${j}'`);return te}},...te)}finally{Ce=!0,he.stop()}}createInstance(j,...te){let he,ve;return j instanceof Ce.SyncDescriptor?(he=t.traceCreation(j.ctor),ve=this._createInstance(j.ctor,j.staticArguments.concat(te),he)):(he=t.traceCreation(j),ve=this._createInstance(j,te,he)),he.stop(),ve}_createInstance(j,te=[],he){let ve=Ee._util.getServiceDependencies(j).sort(((j,te)=>j.index-te.index)),Ce=[];for(const te of ve){let ve=this._getOrCreateServiceInstance(te.id,he);if(!ve&&this._strict&&!te.optional)throw new Error(`[createInstance] ${j.name} depends on UNKNOWN service ${te.id}.`);Ce.push(ve)}let ye=ve.length>0?ve[0].index:te.length;if(te.length!==ye){console.warn(`[createInstance] First service dependency of ${j.name} at position ${ye+1} conflicts with ${te.length} static arguments`);let he=ye-te.length;te=he>0?te.concat(new Array(he)):te.slice(0,ye)}return new j(...[...te,...Ce])}_setServiceInstance(j,te){if(this._services.get(j)instanceof Ce.SyncDescriptor)this._services.set(j,te);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(j,te)}}_getServiceInstanceOrDescriptor(j){let te=this._services.get(j);return!te&&this._parent?this._parent._getServiceInstanceOrDescriptor(j):te}_getOrCreateServiceInstance(j,te){let he=this._getServiceInstanceOrDescriptor(j);return he instanceof Ce.SyncDescriptor?this._safeCreateAndCacheServiceInstance(j,he,te.branch(j,!0)):(te.branch(j,!1),he)}_safeCreateAndCacheServiceInstance(j,te,he){if(this._activeInstantiations.has(j))throw new Error(`illegal state - RECURSIVELY instantiating service '${j}'`);this._activeInstantiations.add(j);try{return this._createAndCacheServiceInstance(j,te,he)}finally{this._activeInstantiations.delete(j)}}_createAndCacheServiceInstance(j,te,he){const ve=new ye.Graph((j=>j.id.toString()));let Ie=0;const Ne=[{id:j,desc:te,_trace:he}];for(;Ne.length;){const te=Ne.pop();if(ve.lookupOrInsertNode(te),Ie++>1e3)throw new h(ve);for(let he of Ee._util.getServiceDependencies(te.desc.ctor)){let ye=this._getServiceInstanceOrDescriptor(he.id);if(!ye&&!he.optional&&console.warn(`[createInstance] ${j} depends on ${he.id} which is NOT registered.`),ye instanceof Ce.SyncDescriptor){const j={id:he.id,desc:ye,_trace:te._trace.branch(he.id,!0)};ve.insertEdge(te,j),Ne.push(j)}}}for(;;){const j=ve.roots();if(0===j.length){if(!ve.isEmpty())throw new h(ve);break}for(const{data:te}of j){if(this._getServiceInstanceOrDescriptor(te.id)instanceof Ce.SyncDescriptor){const j=this._createServiceInstanceWithOwner(te.id,te.desc.ctor,te.desc.staticArguments,te.desc.supportsDelayedInstantiation,te._trace);this._setServiceInstance(te.id,j)}ve.removeNode(te)}}return this._getServiceInstanceOrDescriptor(j)}_createServiceInstanceWithOwner(j,te,he=[],ve,ye){if(this._services.get(j)instanceof Ce.SyncDescriptor)return this._createServiceInstance(te,he,ve,ye);if(this._parent)return this._parent._createServiceInstanceWithOwner(j,te,he,ve,ye);throw new Error(`illegalState - creating UNKNOWN service instance ${te.name}`)}_createServiceInstance(j,te=[],ve,Ce){if(ve){const ve=new he.IdleValue((()=>this._createInstance(j,te,Ce)));return new Proxy(Object.create(null),{get(j,te){if(te in j)return j[te];let he=ve.value,Ce=he[te];return"function"!=typeof Ce||(Ce=Ce.bind(he),j[te]=Ce),Ce},set:(j,te,he)=>(ve.value[te]=he,!0)})}return this._createInstance(j,te,Ce)}}te.InstantiationService=g;class t{constructor(j,te){this.type=j,this.name=te,this._start=Date.now(),this._dep=[]}static traceInvocation(j){return t._None}static traceCreation(j){return t._None}branch(j,te){let he=new t(2,j.toString());return this._dep.push([j,te,he]),he}stop(){let j=Date.now()-this._start;t._totals+=j;let te=!1;let he=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function c(j,he){let ve=[],Ce=new Array(j+1).join("\t");for(const[ye,Ee,Ie]of he._dep)if(Ee&&Ie){te=!0,ve.push(`${Ce}CREATES -> ${ye}`);let he=c(j+1,Ie);he&&ve.push(he)}else ve.push(`${Ce}uses -> ${ye}`);return ve.join("\n")}(1,this)}`,`DONE, took ${j.toFixed(2)}ms (grand total ${t._totals.toFixed(2)}ms)`];(j>2||te)&&console.log(he.join("\n"))}}te.Trace=t,t._None=new class extends t{constructor(){super(-1,null)}stop(){}branch(){return this}},t._totals=0})),define(Ce[608],ie([1,0,10,4,2,585]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.AbstractKeybindingService=void 0;const Ee=/^(cursor|delete)/;class b extends Ce.Disposable{constructor(j,te,Ce,ye,Ee){super(),this._contextKeyService=j,this._commandService=te,this._telemetryService=Ce,this._notificationService=ye,this._logService=Ee,this._onDidUpdateKeybindings=this._register(new ve.Emitter),this._currentChord=null,this._currentChordChecker=new he.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=p.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new he.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:ve.Event.None}dispose(){super.dispose()}_log(j){this._logging&&this._logService.info(`[KeybindingService]: ${j}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(j,te){const he=this._getResolver().lookupPrimaryKeybinding(j,te||this._contextKeyService);if(he)return he.resolvedKeybinding}dispatchEvent(j,te){return this._dispatch(j,te)}softDispatch(j,te){const he=this.resolveKeyboardEvent(j);if(he.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[ve]=he.getDispatchParts();if(null===ve)return null;const Ce=this._contextKeyService.getContext(te),ye=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(Ce,ye,ve)}_enterChordMode(j,te){this._currentChord={keypress:j,label:te},this._currentChordStatusMessage=this._notificationService.status(ye.localize(0,null,te));const he=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-he>5e3&&this._leaveChordMode():this._leaveChordMode()}),500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(j,te){return this._doDispatch(this.resolveKeyboardEvent(j),te,!1)}_singleModifierDispatch(j,te){const he=this.resolveKeyboardEvent(j),[ve]=he.getSingleModifierDispatchParts();if(ve)return this._ignoreSingleModifiers.has(ve)?(this._log(`+ Ignoring single modifier ${ve} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=p.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=p.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${ve}.`),this._currentSingleModifier=ve,this._currentSingleModifierClearTimeout.cancelAndSet((()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null}),300),!1):ve===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${ve} ${ve}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(he,te,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${ve}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[Ce]=he.getParts();return this._ignoreSingleModifiers=new p(Ce),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(j,te,he=!1){let ve=!1;if(j.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let Ce=null,Ie=null;if(he){const[te]=j.getSingleModifierDispatchParts();Ce=te,Ie=te}else[Ce]=j.getDispatchParts(),Ie=this._currentChord?this._currentChord.keypress:null;if(null===Ce)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),ve;const Ne=this._contextKeyService.getContext(te),Oe=j.getLabel(),Ke=this._getResolver().resolve(Ne,Ie,Ce);return this._logService.trace("KeybindingService#dispatch",Oe,null==Ke?void 0:Ke.commandId),Ke&&Ke.enterChord?(ve=!0,this._enterChordMode(Ce,Oe),ve):(this._currentChord&&(!Ke||!Ke.commandId)&&(this._notificationService.status(ye.localize(1,null,this._currentChord.label,Oe),{hideAfter:1e4}),ve=!0),this._leaveChordMode(),Ke&&Ke.commandId&&(Ke.bubble||(ve=!0),void 0===Ke.commandArgs?this._commandService.executeCommand(Ke.commandId).then(void 0,(j=>this._notificationService.warn(j))):this._commandService.executeCommand(Ke.commandId,Ke.commandArgs).then(void 0,(j=>this._notificationService.warn(j))),Ee.test(Ke.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Ke.commandId,from:"keybinding"})),ve)}mightProducePrintableCharacter(j){return!j.ctrlKey&&!j.metaKey&&(j.keyCode>=31&&j.keyCode<=56||j.keyCode>=21&&j.keyCode<=30)}}te.AbstractKeybindingService=b;class p{constructor(j){this._ctrlKey=!!j&&j.ctrlKey,this._shiftKey=!!j&&j.shiftKey,this._altKey=!!j&&j.altKey,this._metaKey=!!j&&j.metaKey}has(j){switch(j){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}p.EMPTY=new p(null)})),define(Ce[609],ie([1,0,13,193,94]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.BaseResolvedKeybinding=void 0;class I extends Ce.ResolvedKeybinding{constructor(j,te){if(super(),0===te.length)throw(0,he.illegalArgument)("parts");this._os=j,this._parts=te}getLabel(){return ve.UILabelProvider.toLabel(this._os,this._parts,(j=>this._getLabel(j)))}getAriaLabel(){return ve.AriaLabelProvider.toLabel(this._os,this._parts,(j=>this._getAriaLabel(j)))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:ve.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,(j=>this._getElectronAccelerator(j)))}isChord(){return this._parts.length>1}getParts(){return this._parts.map((j=>this._getPart(j)))}_getPart(j){return new Ce.ResolvedKeybindingPart(j.ctrlKey,j.shiftKey,j.altKey,j.metaKey,this._getLabel(j),this._getAriaLabel(j))}getDispatchParts(){return this._parts.map((j=>this._getDispatchPart(j)))}getSingleModifierDispatchParts(){return this._parts.map((j=>this._getSingleModifierDispatchPart(j)))}}te.BaseResolvedKeybinding=I})),define(Ce[42],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.IKeybindingService=void 0,te.IKeybindingService=(0,he.createDecorator)("keybindingService")})),define(Ce[610],ie([1,0,16]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.KeybindingResolver=void 0;class m{constructor(j,te,he){this._log=he,this._defaultKeybindings=j,this._defaultBoundCommands=new Map;for(const te of j){const j=te.command;j&&"-"!==j.charAt(0)&&this._defaultBoundCommands.set(j,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=m.handleRemovals([].concat(j).concat(te));for(let j=0,te=this._keybindings.length;j<te;j++){let te=this._keybindings[j];0!==te.keypressParts.length&&(te.when&&0===te.when.type||this._addKeyPress(te.keypressParts[0],te))}}static _isTargetedForRemoval(j,te,ve,Ce){return!(te&&j.keypressParts[0]!==te||ve&&j.keypressParts[1]!==ve||Ce&&(!j.when||!(0,he.expressionsAreEqualWithConstantSubstitution)(Ce,j.when)))}static handleRemovals(j){const te=new Map;for(let he=0,ve=j.length;he<ve;he++){const ve=j[he];if(ve.command&&"-"===ve.command.charAt(0)){const j=ve.command.substring(1);te.has(j)?te.get(j).push(ve):te.set(j,[ve])}}if(0===te.size)return j;const he=[];for(let ve=0,Ce=j.length;ve<Ce;ve++){const Ce=j[ve];if(!Ce.command||0===Ce.command.length){he.push(Ce);continue}if("-"===Ce.command.charAt(0))continue;const ye=te.get(Ce.command);if(!ye||!Ce.isDefault){he.push(Ce);continue}let Ee=!1;for(const j of ye){const te=j.keypressParts[0],he=j.keypressParts[1],ve=j.when;if(this._isTargetedForRemoval(Ce,te,he,ve)){Ee=!0;break}}Ee||he.push(Ce)}return he}_addKeyPress(j,te){const he=this._map.get(j);if(void 0===he)return this._map.set(j,[te]),void this._addToLookupMap(te);for(let j=he.length-1;j>=0;j--){let ve=he[j];if(ve.command===te.command)continue;const Ce=ve.keypressParts.length>1,ye=te.keypressParts.length>1;Ce&&ye&&ve.keypressParts[1]!==te.keypressParts[1]||m.whenIsEntirelyIncluded(ve.when,te.when)&&this._removeFromLookupMap(ve)}he.push(te),this._addToLookupMap(te)}_addToLookupMap(j){if(!j.command)return;let te=this._lookupMap.get(j.command);void 0===te?(te=[j],this._lookupMap.set(j.command,te)):te.push(j)}_removeFromLookupMap(j){if(!j.command)return;let te=this._lookupMap.get(j.command);if(void 0!==te)for(let he=0,ve=te.length;he<ve;he++)if(te[he]===j)return void te.splice(he,1)}static whenIsEntirelyIncluded(j,te){return!te||1===te.type||!(!j||1===j.type)&&(0,he.implies)(j,te)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(j,te){const he=this._lookupMap.get(j);if(void 0===he||0===he.length)return null;if(1===he.length)return he[0];for(let j=he.length-1;j>=0;j--){const ve=he[j];if(te.contextMatchesRules(ve.when))return ve}return he[he.length-1]}resolve(j,te,he){this._log(`| Resolving ${he}${te?` chorded from ${te}`:""}`);let ve=null;if(null!==te){const j=this._map.get(te);if(void 0===j)return this._log("\\ No keybinding entries."),null;ve=[];for(let te=0,Ce=j.length;te<Ce;te++){let Ce=j[te];Ce.keypressParts[1]===he&&ve.push(Ce)}}else{const j=this._map.get(he);if(void 0===j)return this._log("\\ No keybinding entries."),null;ve=j}let Ce=this._findCommand(j,ve);return Ce?null===te&&Ce.keypressParts.length>1&&null!==Ce.keypressParts[1]?(this._log(`\\ From ${ve.length} keybinding entries, matched chord, when: ${D(Ce.when)}, source: ${I(Ce)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${ve.length} keybinding entries, matched ${Ce.command}, when: ${D(Ce.when)}, source: ${I(Ce)}.`),{enterChord:!1,leaveChord:Ce.keypressParts.length>1,commandId:Ce.command,commandArgs:Ce.commandArgs,bubble:Ce.bubble}):(this._log(`\\ From ${ve.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(j,te){for(let he=te.length-1;he>=0;he--){let ve=te[he];if(m._contextMatchesRules(j,ve.when))return ve}return null}static _contextMatchesRules(j,te){return!te||te.evaluate(j)}}function D(j){return j?`${j.serialize()}`:"no when condition"}function I(j){return j.extensionId?j.isBuiltinExtension?`built-in extension ${j.extensionId}`:`user extension ${j.extensionId}`:j.isDefault?"built-in":"user"}te.KeybindingResolver=m})),define(Ce[274],ie([1,0]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0}),te.removeElementsAfterNulls=te.ResolvedKeybindingItem=void 0;function m(j){let te=[];for(let he=0,ve=j.length;he<ve;he++){const ve=j[he];if(!ve)return te;te.push(ve)}return te}te.ResolvedKeybindingItem=class y{constructor(j,te,he,ve,Ce,ye,Ee){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=j,this.keypressParts=j?m(j.getDispatchParts()):[],j&&0===this.keypressParts.length&&(this.keypressParts=m(j.getSingleModifierDispatchParts())),this.bubble=!!te&&94===te.charCodeAt(0),this.command=this.bubble?te.substr(1):te,this.commandArgs=he,this.when=ve,this.isDefault=Ce,this.extensionId=ye,this.isBuiltinExtension=Ee}},te.removeElementsAfterNulls=m})),define(Ce[611],ie([1,0,55,94,609,274]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.USLayoutResolvedKeybinding=void 0;class w extends Ce.BaseResolvedKeybinding{constructor(j,te){super(te,j.parts)}_keyCodeToUILabel(j){if(2===this._os)switch(j){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return he.KeyCodeUtils.toString(j)}_getLabel(j){return j.isDuplicateModifierCase()?"":this._keyCodeToUILabel(j.keyCode)}_getAriaLabel(j){return j.isDuplicateModifierCase()?"":he.KeyCodeUtils.toString(j.keyCode)}_getElectronAccelerator(j){return he.KeyCodeUtils.toElectronAccelerator(j.keyCode)}_getDispatchPart(j){return w.getDispatchStr(j)}static getDispatchStr(j){if(j.isModifierKey())return null;let te="";return j.ctrlKey&&(te+="ctrl+"),j.shiftKey&&(te+="shift+"),j.altKey&&(te+="alt+"),j.metaKey&&(te+="meta+"),te+=he.KeyCodeUtils.toString(j.keyCode),te}_getSingleModifierDispatchPart(j){return 5!==j.keyCode||j.shiftKey||j.altKey||j.metaKey?4!==j.keyCode||j.ctrlKey||j.altKey||j.metaKey?6!==j.keyCode||j.ctrlKey||j.shiftKey||j.metaKey?57!==j.keyCode||j.ctrlKey||j.shiftKey||j.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(j){const te=he.IMMUTABLE_CODE_TO_KEY_CODE[j];if(-1!==te)return te;switch(j){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(j){if(!j)return null;if(j instanceof ve.SimpleKeybinding)return j;const te=this._scanCodeToKeyCode(j.scanCode);return 0===te?null:new ve.SimpleKeybinding(j.ctrlKey,j.shiftKey,j.altKey,j.metaKey,te)}static resolveUserBinding(j,te){const he=(0,ye.removeElementsAfterNulls)(j.map((j=>this._resolveSimpleUserBinding(j))));return he.length>0?[new w(new ve.ChordKeybinding(he),te)]:[]}}te.USLayoutResolvedKeybinding=w})),define(Ce[128],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ILabelService=void 0,te.ILabelService=(0,he.createDecorator)("labelService")})),define(Ce[129],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ILayoutService=void 0,te.ILayoutService=(0,he.createDecorator)("layoutService")})),define(Ce[275],ie([1,0,7,4,129,28,53]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.EditorScopedLayoutService=void 0;let Ie=class{constructor(j){this._codeEditorService=j,this.onDidLayout=ve.Event.None}get dimension(){return this._dimension||(this._dimension=he.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var j;null===(j=this._codeEditorService.getFocusedCodeEditor())||void 0===j||j.focus()}};Ie=Ci([Zi(0,ye.ICodeEditorService)],Ie);let Ne=class extends Ie{constructor(j,te){super(te),this._container=j}get hasContainer(){return!1}get container(){return this._container}};Ne=Ci([Zi(1,ye.ICodeEditorService)],Ne),te.EditorScopedLayoutService=Ne,(0,Ee.registerSingleton)(Ce.ILayoutService,Ie)})),define(Ce[612],ie([1,0,222,2,129]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.ContextViewService=void 0;let ye=class extends ve.Disposable{constructor(j){super(),this.layoutService=j,this.currentViewDisposable=ve.Disposable.None,this.container=j.hasContainer?j.container:null,this.contextView=this._register(new he.ContextView(this.container,1)),this.layout(),this._register(j.onDidLayout((()=>this.layout())))}setContainer(j,te){this.contextView.setContainer(j,te||1)}showContextView(j,te,he){te?te!==this.container&&(this.container=te,this.setContainer(te,he?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(j);const Ce=(0,ve.toDisposable)((()=>{this.currentViewDisposable===Ce&&this.hideContextView()}));return this.currentViewDisposable=Ce,Ce}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(j){this.contextView.hide(j)}};ye=Ci([Zi(0,Ce.ILayoutService)],ye),te.ContextViewService=ye})),define(Ce[64],ie([1,0,4,2,9]),(function(j,te,he,ve,Ce){var ye,Ee;Object.defineProperty(te,"__esModule",{value:!0}),te.LogService=te.ConsoleLogger=te.AbstractLogger=te.DEFAULT_LOG_LEVEL=te.LogLevel=te.ILogService=void 0,te.ILogService=(0,Ce.createDecorator)("logService"),(Ee=ye=te.LogLevel||(te.LogLevel={}))[Ee.Trace=0]="Trace",Ee[Ee.Debug=1]="Debug",Ee[Ee.Info=2]="Info",Ee[Ee.Warning=3]="Warning",Ee[Ee.Error=4]="Error",Ee[Ee.Critical=5]="Critical",Ee[Ee.Off=6]="Off",te.DEFAULT_LOG_LEVEL=ye.Info;class w extends ve.Disposable{constructor(){super(...arguments),this.level=te.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new he.Emitter)}setLevel(j){this.level!==j&&(this.level=j,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}te.AbstractLogger=w;te.ConsoleLogger=class b extends w{constructor(j=te.DEFAULT_LOG_LEVEL){super(),this.setLevel(j)}trace(j,...te){this.getLevel()<=ye.Trace&&console.log("%cTRACE","color: #888",j,...te)}debug(j,...te){this.getLevel()<=ye.Debug&&console.log("%cDEBUG","background: #eee; color: #888",j,...te)}info(j,...te){this.getLevel()<=ye.Info&&console.log("%c INFO","color: #33f",j,...te)}error(j,...te){this.getLevel()<=ye.Error&&console.log("%c  ERR","color: #f33",j,...te)}dispose(){}};class p extends ve.Disposable{constructor(j){super(),this.logger=j,this._register(j)}getLevel(){return this.logger.getLevel()}trace(j,...te){this.logger.trace(j,...te)}debug(j,...te){this.logger.debug(j,...te)}info(j,...te){this.logger.info(j,...te)}error(j,...te){this.logger.error(j,...te)}}te.LogService=p})),define(Ce[276],ie([1,0,10,2,219,326,3,18,32,429,45,153,8,19,64,65,13]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt){Object.defineProperty(te,"__esModule",{value:!0}),te.EditorWorkerClient=te.EditorWorkerHost=te.EditorWorkerService=void 0;const at=3e5;function a(j,te){const he=j.getModel(te);return!(!he||he.isTooLargeForSyncing())}let ct=class extends ve.Disposable{constructor(j,te,he,ve){super(),this._modelService=j,this._workerManager=this._register(new f(this._modelService,ve)),this._logService=he,this._register(Ie.LinkProviderRegistry.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(j,te)=>a(this._modelService,j.uri)?this._workerManager.withWorker().then((te=>te.computeLinks(j.uri))).then((j=>j&&{links:j})):Promise.resolve({links:[]})})),this._register(Ie.CompletionProviderRegistry.register("*",new u(this._workerManager,te,this._modelService,ve)))}dispose(){super.dispose()}canComputeUnicodeHighlights(j){return a(this._modelService,j)}computedUnicodeHighlights(j,te,he){return this._workerManager.withWorker().then((ve=>ve.computedUnicodeHighlights(j,te,he)))}computeDiff(j,te,he,ve){return this._workerManager.withWorker().then((Ce=>Ce.computeDiff(j,te,he,ve)))}computeMoreMinimalEdits(j,te){if((0,Ye.isNonEmptyArray)(te)){if(!a(this._modelService,j))return Promise.resolve(te);const ve=nt.StopWatch.create(!0),Ce=this._workerManager.withWorker().then((he=>he.computeMoreMinimalEdits(j,te)));return Ce.finally((()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",j.toString(!0),ve.elapsed()))),Promise.race([Ce,(0,he.timeout)(1e3).then((()=>te))])}return Promise.resolve(void 0)}canNavigateValueSet(j){return a(this._modelService,j)}navigateValueSet(j,te,he){return this._workerManager.withWorker().then((ve=>ve.navigateValueSet(j,te,he)))}canComputeWordRanges(j){return a(this._modelService,j)}computeWordRanges(j,te){return this._workerManager.withWorker().then((he=>he.computeWordRanges(j,te)))}};ct=Ci([Zi(0,Ke.IModelService),Zi(1,je.ITextResourceConfigurationService),Zi(2,et.ILogService),Zi(3,Ne.ILanguageConfigurationService)],ct),te.EditorWorkerService=ct;class u{constructor(j,te,he,ve){this.languageConfigurationService=ve,this._debugDisplayName="wordbasedCompletions",this._workerManager=j,this._configurationService=te,this._modelService=he}provideCompletionItems(j,te){return fi(this,void 0,void 0,(function*(){const he=this._configurationService.getValue(j.uri,te,"editor");if(!he.wordBasedSuggestions)return;const ve=[];if("currentDocument"===he.wordBasedSuggestionsMode)a(this._modelService,j.uri)&&ve.push(j.uri);else for(const te of this._modelService.getModels())!a(this._modelService,te.uri)||(te===j?ve.unshift(te.uri):("allDocuments"===he.wordBasedSuggestionsMode||te.getLanguageId()===j.getLanguageId())&&ve.push(te.uri));if(0===ve.length)return;const Ce=this.languageConfigurationService.getLanguageConfiguration(j.getLanguageId()).getWordDefinition(),ye=j.getWordAtPosition(te),Ie=ye?new Ee.Range(te.lineNumber,ye.startColumn,te.lineNumber,ye.endColumn):Ee.Range.fromPositions(te),Ne=Ie.setEndPosition(te.lineNumber,te.column),Oe=yield(yield this._workerManager.withWorker()).textualSuggest(ve,null==ye?void 0:ye.word,Ce);return Oe?{duration:Oe.duration,suggestions:Oe.words.map((j=>({kind:18,label:j,insertText:j,range:{insert:Ne,replace:Ie}})))}:void 0}))}}class f extends ve.Disposable{constructor(j,te){super(),this.languageConfigurationService=te,this._modelService=j,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new he.IntervalTimer).cancelAndSet((()=>this._checkStopIdleWorker()),Math.round(at/2)),this._register(this._modelService.onModelRemoved((j=>this._checkStopEmptyWorker())))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>at&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new _(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class S extends ve.Disposable{constructor(j,te,ve){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=j,this._modelService=te,!ve){const j=new he.IntervalTimer;j.cancelAndSet((()=>this._checkStopModelSync()),Math.round(3e4)),this._register(j)}}dispose(){for(let j in this._syncedModels)(0,ve.dispose)(this._syncedModels[j]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(j,te){for(const he of j){const j=he.toString();this._syncedModels[j]||this._beginModelSync(he,te),this._syncedModels[j]&&(this._syncedModelsLastUsedTime[j]=(new Date).getTime())}}_checkStopModelSync(){const j=(new Date).getTime(),te=[];for(let he in this._syncedModelsLastUsedTime)j-this._syncedModelsLastUsedTime[he]>6e4&&te.push(he);for(const j of te)this._stopModelSync(j)}_beginModelSync(j,te){const he=this._modelService.getModel(j);if(!he||!te&&he.isTooLargeForSyncing())return;const Ce=j.toString();this._proxy.acceptNewModel({url:he.uri.toString(),lines:he.getLinesContent(),EOL:he.getEOL(),versionId:he.getVersionId()});const ye=new ve.DisposableStore;ye.add(he.onDidChangeContent((j=>{this._proxy.acceptModelChanged(Ce.toString(),j)}))),ye.add(he.onWillDispose((()=>{this._stopModelSync(Ce)}))),ye.add((0,ve.toDisposable)((()=>{this._proxy.acceptRemovedModel(Ce)}))),this._syncedModels[Ce]=ye}_stopModelSync(j){const te=this._syncedModels[j];delete this._syncedModels[j],delete this._syncedModelsLastUsedTime[j],(0,ve.dispose)(te)}}class v{constructor(j){this._instance=j,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class C{constructor(j){this._workerClient=j}fhr(j,te){return this._workerClient.fhr(j,te)}}te.EditorWorkerHost=C;class _ extends ve.Disposable{constructor(j,te,he,ve){super(),this.languageConfigurationService=ve,this._disposed=!1,this._modelService=j,this._keepIdleModels=te,this._workerFactory=new ye.DefaultWorkerFactory(he),this._worker=null,this._modelManager=null}fhr(j,te){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Ce.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new C(this)))}catch(j){(0,Ce.logOnceWebWorkerWarning)(j),this._worker=new v(new Oe.EditorSimpleWorker(new C(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(j=>((0,Ce.logOnceWebWorkerWarning)(j),this._worker=new v(new Oe.EditorSimpleWorker(new C(this),null)),this._getOrCreateWorker().getProxyObject())))}_getOrCreateModelManager(j){return this._modelManager||(this._modelManager=this._register(new S(j,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(j,te=!1){return fi(this,void 0,void 0,(function*(){return this._disposed?Promise.reject((0,rt.canceled)()):this._getProxy().then((he=>(this._getOrCreateModelManager(he).ensureSyncedResources(j,te),he)))}))}computedUnicodeHighlights(j,te,he){return this._withSyncedResources([j]).then((ve=>ve.computeUnicodeHighlights(j.toString(),te,he)))}computeDiff(j,te,he,ve){return this._withSyncedResources([j,te],!0).then((Ce=>Ce.computeDiff(j.toString(),te.toString(),he,ve)))}computeMoreMinimalEdits(j,te){return this._withSyncedResources([j]).then((he=>he.computeMoreMinimalEdits(j.toString(),te)))}computeLinks(j){return this._withSyncedResources([j]).then((te=>te.computeLinks(j.toString())))}textualSuggest(j,te,he){return fi(this,void 0,void 0,(function*(){const ve=yield this._withSyncedResources(j),Ce=he.source,ye=(0,Ze.regExpFlags)(he);return ve.textualSuggest(j.map((j=>j.toString())),te,Ce,ye)}))}computeWordRanges(j,te){return this._withSyncedResources([j]).then((he=>{const ve=this._modelService.getModel(j);if(!ve)return Promise.resolve(null);const Ce=this.languageConfigurationService.getLanguageConfiguration(ve.getLanguageId()).getWordDefinition(),ye=Ce.source,Ee=(0,Ze.regExpFlags)(Ce);return he.computeWordRanges(j.toString(),te,ye,Ee)}))}navigateValueSet(j,te,he){return this._withSyncedResources([j]).then((ve=>{const Ce=this._modelService.getModel(j);if(!Ce)return null;const ye=this.languageConfigurationService.getLanguageConfiguration(Ce.getLanguageId()).getWordDefinition(),Ee=ye.source,Ie=(0,Ze.regExpFlags)(ye);return ve.navigateValueSet(j.toString(),te,he,Ee,Ie)}))}dispose(){super.dispose(),this._disposed=!0}}te.EditorWorkerClient=_})),define(Ce[613],ie([1,0,276,20]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.createWebWorker=void 0,te.createWebWorker=function D(j,te,he){return new I(j,te,he)};class I extends he.EditorWorkerClient{constructor(j,te,he){super(j,he.keepIdleModels||!1,he.label,te),this._foreignModuleId=he.moduleId,this._foreignModuleCreateData=he.createData||null,this._foreignModuleHost=he.host||null,this._foreignProxy=null}fhr(j,te){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[j])return Promise.reject(new Error("Missing method "+j+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[j].apply(this._foreignModuleHost,te))}catch(j){return Promise.reject(j)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((j=>{const te=this._foreignModuleHost?ve.getAllMethodNames(this._foreignModuleHost):[];return j.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,te).then((te=>{this._foreignModuleCreateData=null;const g=(te,he)=>j.fmr(te,he),t=(j,te)=>function(){const he=Array.prototype.slice.call(arguments,0);return te(j,he)},he={};for(const j of te)he[j]=t(j,g);return he}))}))),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(j){return this._withSyncedResources(j).then((j=>this.getProxy()))}}})),define(Ce[92],ie([1,0,112,47,111,53,9,64]),(function(j,te,he,ve,Ce,ye,Ee,Ie){var Ne;Object.defineProperty(te,"__esModule",{value:!0}),te.LanguageFeatureDebounceService=te.ILanguageFeatureDebounceService=void 0,te.ILanguageFeatureDebounceService=(0,Ee.createDecorator)("ILanguageFeatureDebounceService"),function(j){const te=new WeakMap;let he=0;j.of=function l(j){let ve=te.get(j);return void 0===ve&&(ve=++he,te.set(j,ve)),ve}}(Ne||(Ne={}));class h{constructor(j,te,he,Ce,ye,Ee){this._logService=j,this._name=te,this._registry=he,this._default=Ce,this._min=ye,this._max=Ee,this._cache=new ve.LRUCache(50,.7)}_key(j){return j.id+this._registry.all(j).reduce(((j,te)=>(0,he.doHash)(Ne.of(te),j)),0)}get(j){const te=this._key(j),he=this._cache.get(te);return he?(0,Ce.clamp)(he.value,this._min,this._max):this.default()}update(j,te){const he=this._key(j);let ve=this._cache.get(he);ve||(ve=new Ce.SlidingWindowAverage(6),this._cache.set(he,ve));const ye=(0,Ce.clamp)(ve.update(te),this._min,this._max);return this._logService.trace(`[DEBOUNCE: ${this._name}] for ${j.uri.toString()} is ${ye}ms`),ye}_overall(){const j=new Ce.MovingAverage;for(const[,te]of this._cache)j.update(te.value);return j.value}default(){const j=0|this._overall()||this._default;return(0,Ce.clamp)(j,this._min,this._max)}}let Oe=class{constructor(j){this._logService=j,this._data=new Map}for(j,te,he){var ve,Ce,ye;const Ee=null!==(ve=null==he?void 0:he.min)&&void 0!==ve?ve:50,Ie=null!==(Ce=null==he?void 0:he.max)&&void 0!==Ce?Ce:Math.pow(Ee,2),Oe=null!==(ye=null==he?void 0:he.key)&&void 0!==ye?ye:void 0,Ke=`${Ne.of(j)},${Ee}${Oe?","+Oe:""}`;let je=this._data.get(Ke);return je||(je=new h(this._logService,te,j,0|this._overallAverage()||1.5*Ee,Ee,Ie),this._data.set(Ke,je)),je}_overallAverage(){let j=new Ce.MovingAverage;for(let te of this._data.values())j.update(te.default());return j.value}};Oe=Ci([Zi(0,Ie.ILogService)],Oe),te.LanguageFeatureDebounceService=Oe,(0,ye.registerSingleton)(te.ILanguageFeatureDebounceService,Oe,!0)})),define(Ce[199],ie([1,0,19,21,13,54,47,11,3,18,92,9,53,45,2]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et){Object.defineProperty(te,"__esModule",{value:!0}),te.OutlineModelService=te.IOutlineModelService=te.OutlineModel=te.OutlineGroup=te.OutlineElement=te.TreeElement=void 0;class c{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(j,te){let he;"string"==typeof j?he=`${te.id}/${j}`:(he=`${te.id}/${j.name}`,void 0!==te.children.get(he)&&(he=`${te.id}/${j.name}_${j.range.startLineNumber}_${j.range.startColumn}`));let ve=he;for(let j=0;void 0!==te.children.get(ve);j++)ve=`${he}_${j}`;return ve}static empty(j){return 0===j.children.size}}te.TreeElement=c;class r extends c{constructor(j,te,he){super(),this.id=j,this.parent=te,this.symbol=he,this.children=new Map}}te.OutlineElement=r;class s extends c{constructor(j,te,he,ve){super(),this.id=j,this.parent=te,this.label=he,this.order=ve,this.children=new Map}}te.OutlineGroup=s;class o extends c{constructor(j){super(),this.uri=j,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(j,te){const ye=new ve.CancellationTokenSource(te),Ee=new o(j.uri),Ie=Oe.DocumentSymbolProviderRegistry.ordered(j),Ne=Ie.map(((te,he)=>{var ve;let Ie=c.findId(`provider_${he}`,Ee),Ne=new s(Ie,Ee,null!==(ve=te.displayName)&&void 0!==ve?ve:"Unknown Outline Provider",he);return Promise.resolve(te.provideDocumentSymbols(j,ye.token)).then((j=>{for(const te of j||[])o._makeOutlineElement(te,Ne);return Ne}),(j=>((0,Ce.onUnexpectedExternalError)(j),Ne))).then((j=>{c.empty(j)?j.remove():Ee._groups.set(Ie,j)}))})),Ke=Oe.DocumentSymbolProviderRegistry.onDidChange((()=>{const te=Oe.DocumentSymbolProviderRegistry.ordered(j);(0,he.equals)(te,Ie)||ye.cancel()}));return Promise.all(Ne).then((()=>ye.token.isCancellationRequested&&!te.isCancellationRequested?o.create(j,te):Ee._compact())).finally((()=>{Ke.dispose()}))}static _makeOutlineElement(j,te){let he=c.findId(j,te),ve=new r(he,te,j);if(j.children)for(const te of j.children)o._makeOutlineElement(te,ve);te.children.set(ve.id,ve)}_compact(){let j=0;for(const[te,he]of this._groups)0===he.children.size?this._groups.delete(te):j+=1;if(1!==j)this.children=this._groups;else{let j=ye.Iterable.first(this._groups.values());for(let[,te]of j.children)te.parent=this,this.children.set(te.id,te)}return this}getTopLevelSymbols(){const j=[];for(const te of this.children.values())te instanceof r?j.push(te.symbol):j.push(...ye.Iterable.map(te.children.values(),(j=>j.symbol)));return j.sort(((j,te)=>Ne.Range.compareRangesUsingStarts(j.range,te.range)))}asListOfDocumentSymbols(){const j=this.getTopLevelSymbols(),te=[];return o._flattenDocumentSymbols(te,j,""),te.sort(((j,te)=>Ie.Position.compare(Ne.Range.getStartPosition(j.range),Ne.Range.getStartPosition(te.range))||Ie.Position.compare(Ne.Range.getEndPosition(te.range),Ne.Range.getEndPosition(j.range))))}static _flattenDocumentSymbols(j,te,he){for(const ve of te)j.push({kind:ve.kind,tags:ve.tags,name:ve.name,detail:ve.detail,containerName:ve.containerName||he,range:ve.range,selectionRange:ve.selectionRange,children:void 0}),ve.children&&o._flattenDocumentSymbols(j,ve.children,ve.name)}}te.OutlineModel=o,te.IOutlineModelService=(0,je.createDecorator)("IOutlineModelService");let nt=class{constructor(j,te){this._disposables=new et.DisposableStore,this._cache=new Ee.LRUCache(10,.7),this._debounceInformation=j.for(Oe.DocumentSymbolProviderRegistry,"DocumentSymbols",{min:350}),this._disposables.add(te.onModelRemoved((j=>{this._cache.delete(j.id)})))}dispose(){this._disposables.dispose()}getOrCreate(j,te){return fi(this,void 0,void 0,(function*(){const Ce=Oe.DocumentSymbolProviderRegistry.ordered(j);let ye=this._cache.get(j.id);if(!ye||ye.versionId!==j.getVersionId()||!(0,he.equals)(ye.provider,Ce)){let te=new ve.CancellationTokenSource;ye={versionId:j.getVersionId(),provider:Ce,promiseCnt:0,source:te,promise:o.create(j,te.token),model:void 0},this._cache.set(j.id,ye);const he=Date.now();ye.promise.then((te=>{ye.model=te,this._debounceInformation.update(j,Date.now()-he)})).catch((te=>{this._cache.delete(j.id)}))}if(ye.model)return ye.model;ye.promiseCnt+=1;const Ee=te.onCancellationRequested((()=>{0==--ye.promiseCnt&&(ye.source.cancel(),this._cache.delete(j.id))}));try{return yield ye.promise}finally{Ee.dispose()}}))}};nt=Ci([Zi(0,Ke.ILanguageFeatureDebounceService),Zi(1,Ye.IModelService)],nt),te.OutlineModelService=nt,(0,Ze.registerSingleton)(te.IOutlineModelService,nt,!0)})),define(Ce[614],ie([1,0,21,20,25,58,199,26]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),Ie.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",(function(j,...te){return fi(this,void 0,void 0,(function*(){const[Ie]=te;(0,ve.assertType)(Ce.URI.isUri(Ie));const Ne=j.get(Ee.IOutlineModelService),Oe=yield j.get(ye.ITextModelService).createModelReference(Ie);try{return(yield Ne.getOrCreate(Oe.object.textEditorModel,he.CancellationToken.None)).getTopLevelSymbols()}finally{Oe.dispose()}}))}))})),define(Ce[615],ie([1,0,34,7,10,2,129,64]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.BrowserClipboardService=void 0;let Ne=class extends ye.Disposable{constructor(j,te){super(),this.layoutService=j,this.logService=te,this.mapTextToType=new Map,this.findText="",(he.isSafari||he.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const g=()=>{const j=new Ce.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=j,navigator.clipboard.write([new ClipboardItem({"text/plain":j.p})]).catch((te=>fi(this,void 0,void 0,(function*(){(!(te instanceof Error)||"NotAllowedError"!==te.name||!j.isRejected)&&this.logService.error(te)}))))};this.layoutService.hasContainer&&(this._register((0,ve.addDisposableListener)(this.layoutService.container,"click",g)),this._register((0,ve.addDisposableListener)(this.layoutService.container,"keydown",g)))}writeText(j,te){return fi(this,void 0,void 0,(function*(){if(te)return void this.mapTextToType.set(te,j);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(j);try{return yield navigator.clipboard.writeText(j)}catch(j){console.error(j)}const he=document.activeElement,Ce=document.body.appendChild((0,ve.$)("textarea",{"aria-hidden":!0}));Ce.style.height="1px",Ce.style.width="1px",Ce.style.position="absolute",Ce.value=j,Ce.focus(),Ce.select(),document.execCommand("copy"),he instanceof HTMLElement&&he.focus(),document.body.removeChild(Ce)}))}readText(j){return fi(this,void 0,void 0,(function*(){if(j)return this.mapTextToType.get(j)||"";try{return yield navigator.clipboard.readText()}catch(j){return console.error(j),""}}))}readFindText(){return fi(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(j){return fi(this,void 0,void 0,(function*(){this.findText=j}))}};Ne=Ci([Zi(0,Ee.ILayoutService),Zi(1,Ie.ILogService)],Ne),te.BrowserClipboardService=Ne})),define(Ce[77],ie([1,0,74,587,9]),(function(j,te,he,ve,Ce){var ye,Ee;Object.defineProperty(te,"__esModule",{value:!0}),te.IMarkerService=te.IMarkerData=te.MarkerSeverity=void 0,(Ee=ye=te.MarkerSeverity||(te.MarkerSeverity={}))[Ee.Hint=1]="Hint",Ee[Ee.Info=2]="Info",Ee[Ee.Warning=4]="Warning",Ee[Ee.Error=8]="Error",function(j){j.compare=function p(j,te){return te-j};const te=Object.create(null);te[j.Error]=(0,ve.localize)(0,null),te[j.Warning]=(0,ve.localize)(1,null),te[j.Info]=(0,ve.localize)(2,null),j.toString=function g(j){return te[j]||""},j.fromSeverity=function t(te){switch(te){case he.default.Error:return j.Error;case he.default.Warning:return j.Warning;case he.default.Info:return j.Info;case he.default.Ignore:return j.Hint}},j.toSeverity=function i(te){switch(te){case j.Error:return he.default.Error;case j.Warning:return he.default.Warning;case j.Info:return he.default.Info;case j.Hint:return he.default.Ignore}}}(ye=te.MarkerSeverity||(te.MarkerSeverity={})),function(j){const te="";function g(j,he){let ve=[te];return j.source?ve.push(j.source.replace("¦","\\¦")):ve.push(te),j.code?"string"==typeof j.code?ve.push(j.code.replace("¦","\\¦")):ve.push(j.code.value.replace("¦","\\¦")):ve.push(te),void 0!==j.severity&&null!==j.severity?ve.push(ye.toString(j.severity)):ve.push(te),j.message&&he?ve.push(j.message.replace("¦","\\¦")):ve.push(te),void 0!==j.startLineNumber&&null!==j.startLineNumber?ve.push(j.startLineNumber.toString()):ve.push(te),void 0!==j.startColumn&&null!==j.startColumn?ve.push(j.startColumn.toString()):ve.push(te),void 0!==j.endLineNumber&&null!==j.endLineNumber?ve.push(j.endLineNumber.toString()):ve.push(te),void 0!==j.endColumn&&null!==j.endColumn?ve.push(j.endColumn.toString()):ve.push(te),ve.push(te),ve.join("¦")}j.makeKey=function h(j){return g(j,!0)},j.makeKeyOptionalMessage=g}(te.IMarkerData||(te.IMarkerData={})),te.IMarkerService=(0,Ce.createDecorator)("markerService")})),define(Ce[616],ie([1,0,19,4,2,81,8,25,3,53,9,77,40]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){Object.defineProperty(te,"__esModule",{value:!0}),te.IMarkerNavigationService=te.MarkerList=te.MarkerCoordinate=void 0;class n{constructor(j,te,he){this.marker=j,this.index=te,this.total=he}}te.MarkerCoordinate=n;let Ye=class{constructor(j,te,he){this._markerService=te,this._configService=he,this._onDidChange=new ve.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new Ce.DisposableStore,this._markers=[],this._nextIdx=-1,Ie.URI.isUri(j)?this._resourceFilter=te=>te.toString()===j.toString():j&&(this._resourceFilter=j);const ye=this._configService.getValue("problems.sortOrder"),u=(j,te)=>{let he=(0,Ee.compare)(j.resource.toString(),te.resource.toString());return he="position"===ye?Ne.Range.compareRangesUsingStarts(j,te)||je.MarkerSeverity.compare(j.severity,te.severity):je.MarkerSeverity.compare(j.severity,te.severity)||Ne.Range.compareRangesUsingStarts(j,te),he},f=()=>{this._markers=this._markerService.read({resource:Ie.URI.isUri(j)?j:void 0,severities:je.MarkerSeverity.Error|je.MarkerSeverity.Warning|je.MarkerSeverity.Info}),"function"==typeof j&&(this._markers=this._markers.filter((j=>this._resourceFilter(j.resource)))),this._markers.sort(u)};f(),this._dispoables.add(te.onMarkerChanged((j=>{(!this._resourceFilter||j.some((j=>this._resourceFilter(j))))&&(f(),this._nextIdx=-1,this._onDidChange.fire())})))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(j){return!this._resourceFilter&&!j||!(!this._resourceFilter||!j)&&this._resourceFilter(j)}get selected(){const j=this._markers[this._nextIdx];return j&&new n(j,this._nextIdx+1,this._markers.length)}_initIdx(j,te,ve){let Ce=!1,ye=this._markers.findIndex((te=>te.resource.toString()===j.uri.toString()));ye<0&&(ye=(0,he.binarySearch)(this._markers,{resource:j.uri},((j,te)=>(0,Ee.compare)(j.resource.toString(),te.resource.toString()))),ye<0&&(ye=~ye));for(let he=ye;he<this._markers.length;he++){let ve=Ne.Range.lift(this._markers[he]);if(ve.isEmpty()){const te=j.getWordAtPosition(ve.getStartPosition());te&&(ve=new Ne.Range(ve.startLineNumber,te.startColumn,ve.startLineNumber,te.endColumn))}if(te&&(ve.containsPosition(te)||te.isBeforeOrEqual(ve.getStartPosition()))){this._nextIdx=he,Ce=!0;break}if(this._markers[he].resource.toString()!==j.uri.toString())break}Ce||(this._nextIdx=ve?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(j,te,he){if(0===this._markers.length)return!1;let ve=this._nextIdx;return-1===this._nextIdx?this._initIdx(te,he,j):j?this._nextIdx=(this._nextIdx+1)%this._markers.length:j||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),ve!==this._nextIdx}find(j,te){let he=this._markers.findIndex((te=>te.resource.toString()===j.toString()));if(!(he<0))for(;he<this._markers.length;he++)if(Ne.Range.containsPosition(this._markers[he],te))return new n(this._markers[he],he+1,this._markers.length)}};Ye=Ci([Zi(1,je.IMarkerService),Zi(2,Ze.IConfigurationService)],Ye),te.MarkerList=Ye,te.IMarkerNavigationService=(0,Ke.createDecorator)("IMarkerNavigationService");let et=class{constructor(j,te){this._markerService=j,this._configService=te,this._provider=new ye.LinkedList}getMarkerList(j){for(let te of this._provider){const he=te.getMarkerList(j);if(he)return he}return new Ye(j,this._markerService,this._configService)}};et=Ci([Zi(0,je.IMarkerService),Zi(1,Ze.IConfigurationService)],et),(0,Oe.registerSingleton)(te.IMarkerNavigationService,et,!0)})),define(Ce[617],ie([1,0,19,4,54,47,48,25,77]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.MarkerService=void 0;class h{constructor(){this._byResource=new ye.ResourceMap,this._byOwner=new Map}set(j,te,he){let ve=this._byResource.get(j);ve||(ve=new Map,this._byResource.set(j,ve)),ve.set(te,he);let Ce=this._byOwner.get(te);Ce||(Ce=new ye.ResourceMap,this._byOwner.set(te,Ce)),Ce.set(j,he)}get(j,te){let he=this._byResource.get(j);return null==he?void 0:he.get(te)}delete(j,te){let he=!1,ve=!1,Ce=this._byResource.get(j);Ce&&(he=Ce.delete(te));let ye=this._byOwner.get(te);if(ye&&(ve=ye.delete(j)),he!==ve)throw new Error("illegal state");return he&&ve}values(j){var te,he,ve,ye;return"string"==typeof j?null!==(he=null===(te=this._byOwner.get(j))||void 0===te?void 0:te.values())&&void 0!==he?he:Ce.Iterable.empty():Ie.URI.isUri(j)?null!==(ye=null===(ve=this._byResource.get(j))||void 0===ve?void 0:ve.values())&&void 0!==ye?ye:Ce.Iterable.empty():Ce.Iterable.map(Ce.Iterable.concat(...this._byOwner.values()),(j=>j[1]))}}class g{constructor(j){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new ye.ResourceMap,this._service=j,this._subscription=j.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(j){for(const te of j){const j=this._data.get(te);j&&this._substract(j);const he=this._resourceStats(te);this._add(he),this._data.set(te,he)}}_resourceStats(j){const te={errors:0,warnings:0,infos:0,unknowns:0};if(j.scheme===Ee.Schemas.inMemory||j.scheme===Ee.Schemas.walkThrough||j.scheme===Ee.Schemas.walkThroughSnippet)return te;for(const{severity:he}of this._service.read({resource:j}))he===Ne.MarkerSeverity.Error?te.errors+=1:he===Ne.MarkerSeverity.Warning?te.warnings+=1:he===Ne.MarkerSeverity.Info?te.infos+=1:te.unknowns+=1;return te}_substract(j){this.errors-=j.errors,this.warnings-=j.warnings,this.infos-=j.infos,this.unknowns-=j.unknowns}_add(j){this.errors+=j.errors,this.warnings+=j.warnings,this.infos+=j.infos,this.unknowns+=j.unknowns}}class t{constructor(){this._onMarkerChanged=new ve.DebounceEmitter({delay:0,merge:t._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new h,this._stats=new g(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(j,te){for(const he of te||[])this.changeOne(j,he,[])}changeOne(j,te,ve){if((0,he.isFalsyOrEmpty)(ve))this._data.delete(te,j)&&this._onMarkerChanged.fire([te]);else{const he=[];for(const Ce of ve){const ve=t._toMarker(j,te,Ce);ve&&he.push(ve)}this._data.set(te,j,he),this._onMarkerChanged.fire([te])}}static _toMarker(j,te,he){let{code:ve,severity:Ce,message:ye,source:Ee,startLineNumber:Ie,startColumn:Ne,endLineNumber:Oe,endColumn:Ke,relatedInformation:je,tags:Ze}=he;if(ye)return Ie=Ie>0?Ie:1,Ne=Ne>0?Ne:1,Oe=Oe>=Ie?Oe:Ie,Ke=Ke>0?Ke:Ne,{resource:te,owner:j,code:ve,severity:Ce,message:ye,source:Ee,startLineNumber:Ie,startColumn:Ne,endLineNumber:Oe,endColumn:Ke,relatedInformation:je,tags:Ze}}read(j=Object.create(null)){let{owner:te,resource:he,severities:ve,take:Ce}=j;if((!Ce||Ce<0)&&(Ce=-1),te&&he){const j=this._data.get(he,te);if(j){const te=[];for(const he of j)if(t._accept(he,ve)){const j=te.push(he);if(Ce>0&&j===Ce)break}return te}return[]}if(te||he){const j=this._data.values(he??te),ye=[];for(const te of j)for(const j of te)if(t._accept(j,ve)){const te=ye.push(j);if(Ce>0&&te===Ce)return ye}return ye}{const j=[];for(let te of this._data.values())for(let he of te)if(t._accept(he,ve)){const te=j.push(he);if(Ce>0&&te===Ce)return j}return j}}static _accept(j,te){return void 0===te||(te&j.severity)===j.severity}static _merge(j){const te=new ye.ResourceMap;for(let he of j)for(let j of he)te.set(j,!0);return Array.from(te.keys())}}te.MarkerService=t})),define(Ce[38],ie([1,0,74,9]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.NoOpNotification=te.INotificationService=te.Severity=void 0,te.Severity=he.default,te.INotificationService=(0,ve.createDecorator)("notificationService");te.NoOpNotification=class D{}})),define(Ce[51],ie([1,0,2,8,25,9]),(function(j,te,he,ve,Ce,ye){function w(j,te){return Ce.URI.isUri(j)?(0,ve.equalsIgnoreCase)(j.scheme,te):(0,ve.startsWithIgnoreCase)(j,te+":")}Object.defineProperty(te,"__esModule",{value:!0}),te.selectionFragment=te.matchesSomeScheme=te.matchesScheme=te.NullOpenerService=te.IOpenerService=void 0,te.IOpenerService=(0,ye.createDecorator)("openerService"),te.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener:()=>he.Disposable.None,registerValidator:()=>he.Disposable.None,registerExternalUriResolver:()=>he.Disposable.None,setDefaultExternalOpener(){},registerExternalOpener:()=>he.Disposable.None,open(){return fi(this,void 0,void 0,(function*(){return!1}))},resolveExternalUri(j){return fi(this,void 0,void 0,(function*(){return{resolved:j,dispose(){}}}))}}),te.matchesScheme=w,te.matchesSomeScheme=function b(j,...te){return te.some((te=>w(j,te)))},te.selectionFragment=function p(j){let te;const he=/^L?(\d+)(?:,(\d+))?/.exec(j.fragment);return he&&(te={startLineNumber:parseInt(he[1]),startColumn:he[2]?parseInt(he[2]):1}),te}})),define(Ce[618],ie([1,0,7,21,81,47,216,48,41,25,28,26,594,51]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){Object.defineProperty(te,"__esModule",{value:!0}),te.OpenerService=void 0;let et=class{constructor(j){this._commandService=j}open(j,te){return fi(this,void 0,void 0,(function*(){if(!(0,Ye.matchesScheme)(j,Ie.Schemas.command))return!1;if(!(null==te?void 0:te.allowCommands))return!0;"string"==typeof j&&(j=Oe.URI.parse(j));let he=[];try{he=(0,Ee.parse)(decodeURIComponent(j.query))}catch{try{he=(0,Ee.parse)(j.query)}catch{}}return Array.isArray(he)||(he=[he]),yield this._commandService.executeCommand(j.path,...he),!0}))}};et=Ci([Zi(0,je.ICommandService)],et);let nt=class{constructor(j){this._editorService=j}open(j,te){return fi(this,void 0,void 0,(function*(){"string"==typeof j&&(j=Oe.URI.parse(j));const he=(0,Ye.selectionFragment)(j);return he&&(j=j.with({fragment:""})),j.scheme===Ie.Schemas.file&&(j=(0,Ne.normalizePath)(j)),yield this._editorService.openCodeEditor({resource:j,options:Object.assign({selection:he,context:(null==te?void 0:te.fromUserGesture)?Ze.EditorOpenContext.USER:Ze.EditorOpenContext.API},null==te?void 0:te.editorOptions)},this._editorService.getFocusedCodeEditor(),null==te?void 0:te.openToSide),!0}))}};nt=Ci([Zi(0,Ke.ICodeEditorService)],nt);let rt=class{constructor(j,te){this._openers=new Ce.LinkedList,this._validators=new Ce.LinkedList,this._resolvers=new Ce.LinkedList,this._resolvedUriTargets=new ye.ResourceMap((j=>j.with({path:null,fragment:null,query:null}).toString())),this._externalOpeners=new Ce.LinkedList,this._defaultExternalOpener={openExternal:j=>fi(this,void 0,void 0,(function*(){return(0,Ye.matchesSomeScheme)(j,Ie.Schemas.http,Ie.Schemas.https)?he.windowOpenNoOpener(j):window.location.href=j,!0}))},this._openers.push({open:(j,te)=>fi(this,void 0,void 0,(function*(){return!(!(null==te?void 0:te.openExternal)&&!(0,Ye.matchesSomeScheme)(j,Ie.Schemas.mailto,Ie.Schemas.http,Ie.Schemas.https,Ie.Schemas.vsls))&&(yield this._doOpenExternal(j,te),!0)}))}),this._openers.push(new et(te)),this._openers.push(new nt(j))}registerOpener(j){return{dispose:this._openers.unshift(j)}}registerValidator(j){return{dispose:this._validators.push(j)}}registerExternalUriResolver(j){return{dispose:this._resolvers.push(j)}}setDefaultExternalOpener(j){this._defaultExternalOpener=j}registerExternalOpener(j){return{dispose:this._externalOpeners.push(j)}}open(j,te){var he;return fi(this,void 0,void 0,(function*(){const ve="string"==typeof j?Oe.URI.parse(j):j,Ce=null!==(he=this._resolvedUriTargets.get(ve))&&void 0!==he?he:j;for(const j of this._validators)if(!(yield j.shouldOpen(Ce)))return!1;for(const he of this._openers)if(yield he.open(j,te))return!0;return!1}))}resolveExternalUri(j,te){return fi(this,void 0,void 0,(function*(){for(const he of this._resolvers)try{const ve=yield he.resolveExternalUri(j,te);if(ve)return this._resolvedUriTargets.has(ve.resolved)||this._resolvedUriTargets.set(ve.resolved,j),ve}catch{}throw new Error("Could not resolve external URI: "+j.toString())}))}_doOpenExternal(j,te){return fi(this,void 0,void 0,(function*(){const he="string"==typeof j?Oe.URI.parse(j):j;let Ce,ye;try{Ce=(yield this.resolveExternalUri(he,te)).resolved}catch{Ce=he}if(ye="string"==typeof j&&he.toString()===Ce.toString()?j:encodeURI(Ce.toString(!0)),null==te?void 0:te.allowContributedOpeners){const j="string"==typeof(null==te?void 0:te.allowContributedOpeners)?null==te?void 0:te.allowContributedOpeners:void 0;for(const te of this._externalOpeners)if(yield te.openExternal(ye,{sourceUri:he,preferredOpenerId:j},ve.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(ye,{sourceUri:he},ve.CancellationToken.None)}))}dispose(){this._validators.clear()}};rt=Ci([Zi(0,Ke.ICodeEditorService),Zi(1,je.ICommandService)],rt),te.OpenerService=rt})),define(Ce[71],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.IEditorProgressService=te.Progress=te.emptyProgressRunner=void 0,te.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class m{constructor(j){this.callback=j}report(j){this._value=j,this.callback(this._value)}}te.Progress=m,m.None=Object.freeze({report(){}}),te.IEditorProgressService=(0,he.createDecorator)("editorProgressService")})),define(Ce[619],ie([1,0,10,21,2]),(function(j,te,he,ve,Ce){var ye,Ee;function w(j){const te=j;return Array.isArray(te.items)}Object.defineProperty(te,"__esModule",{value:!0}),te.PickerQuickAccessProvider=te.TriggerAction=void 0,(Ee=ye=te.TriggerAction||(te.TriggerAction={}))[Ee.NO_ACTION=0]="NO_ACTION",Ee[Ee.CLOSE_PICKER=1]="CLOSE_PICKER",Ee[Ee.REFRESH_PICKER=2]="REFRESH_PICKER",Ee[Ee.REMOVE_ITEM=3]="REMOVE_ITEM";class p extends Ce.Disposable{constructor(j,te){super(),this.prefix=j,this.options=te}provide(j,te){var Ee;const Ie=new Ce.DisposableStore;let Ne;j.canAcceptInBackground=!!(null===(Ee=this.options)||void 0===Ee?void 0:Ee.canAcceptInBackground),j.matchOnLabel=j.matchOnDescription=j.matchOnDetail=j.sortByLabel=!1;const Oe=Ie.add(new Ce.MutableDisposable),r=()=>fi(this,void 0,void 0,(function*(){const ye=Oe.value=new Ce.DisposableStore;null==Ne||Ne.dispose(!0),j.busy=!1,Ne=new ve.CancellationTokenSource(te);const Ee=Ne.token,Ie=j.value.substr(this.prefix.length).trim(),Ke=this._getPicks(Ie,ye,Ee),u=(te,he)=>{var ve;let Ce,ye;if(w(te)?(Ce=te.items,ye=te.active):Ce=te,0===Ce.length){if(he)return!1;Ie.length>0&&(null===(ve=this.options)||void 0===ve?void 0:ve.noResultsPick)&&(Ce=[this.options.noResultsPick])}return j.items=Ce,ye&&(j.activeItems=[ye]),!0};if(null!==Ke)if(function b(j){const te=j;return!!te.picks&&te.additionalPicks instanceof Promise}(Ke)){let te=!1,ve=!1;yield Promise.all([(()=>fi(this,void 0,void 0,(function*(){yield(0,he.timeout)(p.FAST_PICKS_RACE_DELAY),!Ee.isCancellationRequested&&(ve||(te=u(Ke.picks,!0)))})))(),(()=>fi(this,void 0,void 0,(function*(){j.busy=!0;try{const he=yield Ke.additionalPicks;if(Ee.isCancellationRequested)return;let ve,Ce,ye,Ie;if(w(Ke.picks)?(ve=Ke.picks.items,Ce=Ke.picks.active):ve=Ke.picks,w(he)?(ye=he.items,Ie=he.active):ye=he,ye.length>0||!te){let te;if(!Ce&&!Ie){const he=j.activeItems[0];he&&-1!==ve.indexOf(he)&&(te=he)}u({items:[...ve,...ye],active:Ce||Ie||te})}}finally{Ee.isCancellationRequested||(j.busy=!1),ve=!0}})))()])}else if(Ke instanceof Promise){j.busy=!0;try{const j=yield Ke;if(Ee.isCancellationRequested)return;u(j)}finally{Ee.isCancellationRequested||(j.busy=!1)}}else u(Ke)}));return Ie.add(j.onDidChangeValue((()=>r()))),r(),Ie.add(j.onDidAccept((te=>{const[he]=j.selectedItems;"function"==typeof(null==he?void 0:he.accept)&&(te.inBackground||j.hide(),he.accept(j.keyMods,te))}))),Ie.add(j.onDidTriggerItemButton((({button:he,item:ve})=>fi(this,void 0,void 0,(function*(){var Ce,Ee;if("function"==typeof ve.trigger){const Ie=null!==(Ee=null===(Ce=ve.buttons)||void 0===Ce?void 0:Ce.indexOf(he))&&void 0!==Ee?Ee:-1;if(Ie>=0){const he=ve.trigger(Ie,j.keyMods),Ce="number"==typeof he?he:yield he;if(te.isCancellationRequested)return;switch(Ce){case ye.NO_ACTION:break;case ye.CLOSE_PICKER:j.hide();break;case ye.REFRESH_PICKER:r();break;case ye.REMOVE_ITEM:{const te=j.items.indexOf(ve);if(-1!==te){const he=j.items.slice(),ve=he.splice(te,1),Ce=j.activeItems.filter((j=>j!==ve[0])),ye=j.keepScrollPosition;j.keepScrollPosition=!0,j.items=he,Ce&&(j.activeItems=Ce),j.keepScrollPosition=ye}break}}}}}))))),Ie}}te.PickerQuickAccessProvider=p,p.FAST_PICKS_RACE_DELAY=200}));var Xi=this&&this.__createBinding||(Object.create?function(j,te,he,ve){void 0===ve&&(ve=he),Object.defineProperty(j,ve,{enumerable:!0,get:function(){return te[he]}})}:function(j,te,he,ve){void 0===ve&&(ve=he),j[ve]=te[he]}),Qi=this&&this.__exportStar||function(j,te){for(var he in j)"default"!==he&&!Object.prototype.hasOwnProperty.call(te,he)&&Xi(te,j,he)};define(Ce[78],ie([1,0,9,220]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.IQuickInputService=void 0,Qi(ve,te),te.IQuickInputService=(0,he.createDecorator)("quickInputService")})),define(Ce[36],ie([1,0,213,20]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.Registry=void 0;te.Registry=new class D{constructor(){this.data=new Map}add(j,te){he.ok(ve.isString(j)),he.ok(ve.isObject(te)),he.ok(!this.data.has(j),"There is already an extension with this id"),this.data.set(j,te)}as(j){return this.data.get(j)||null}}})),define(Ce[200],ie([1,0,4,36]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.Extensions=void 0,te.Extensions={JSONContribution:"base.contributions.json"};const Ce=new class I{constructor(){this._onDidChangeSchema=new he.Emitter,this.schemasById={}}registerSchema(j,te){this.schemasById[function D(j){return j.length>0&&"#"===j.charAt(j.length-1)?j.substring(0,j.length-1):j}(j)]=te,this._onDidChangeSchema.fire(j)}notifySchemaChanged(j){this._onDidChangeSchema.fire(j)}};ve.Registry.add(te.Extensions.JSONContribution,Ce)})),define(Ce[103],ie([1,0,19,4,20,582,200,36]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.validateProperty=te.getDefaultValue=te.overrideIdentifiersFromKey=te.OVERRIDE_PROPERTY_REGEX=te.OVERRIDE_PROPERTY_PATTERN=te.resourceLanguageSettingsSchemaId=te.resourceSettings=te.windowSettings=te.machineOverridableSettings=te.machineSettings=te.applicationSettings=te.allSettings=te.Extensions=void 0,te.Extensions={Configuration:"base.contributions.configuration"},te.allSettings={properties:{},patternProperties:{}},te.applicationSettings={properties:{},patternProperties:{}},te.machineSettings={properties:{},patternProperties:{}},te.machineOverridableSettings={properties:{},patternProperties:{}},te.windowSettings={properties:{},patternProperties:{}},te.resourceSettings={properties:{},patternProperties:{}},te.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const Ne=Ie.Registry.as(Ee.Extensions.JSONContribution);const Oe="\\[([^\\]]+)\\]",Ke=new RegExp(Oe,"g");function i(j){const ve=[];if(te.OVERRIDE_PROPERTY_REGEX.test(j)){let te=Ke.exec(j);for(;null==te?void 0:te.length;){const he=te[1].trim();he&&ve.push(he),te=Ke.exec(j)}}return(0,he.distinct)(ve)}function n(j){switch(Array.isArray(j)?j[0]:j){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}te.OVERRIDE_PROPERTY_PATTERN=`^(${Oe})+$`,te.OVERRIDE_PROPERTY_REGEX=new RegExp(te.OVERRIDE_PROPERTY_PATTERN),te.overrideIdentifiersFromKey=i,te.getDefaultValue=n;const je=new class h{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new ve.Emitter,this._onDidUpdateConfiguration=new ve.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:ye.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},Ne.registerSchema(te.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(j,te=!0){this.registerConfigurations([j],te)}registerConfigurations(j,he=!0){const ve=this.doRegisterConfigurations(j,he);Ne.registerSchema(te.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:ve})}registerDefaultConfigurations(j){var he;const ve=[],Ee=[];for(const{overrides:Ie,source:Ne}of j)for(const j in Ie)if(ve.push(j),te.OVERRIDE_PROPERTY_REGEX.test(j)){const ve=Object.assign(Object.assign({},(null===(he=this.configurationDefaultsOverrides.get(j))||void 0===he?void 0:he.value)||{}),Ie[j]);this.configurationDefaultsOverrides.set(j,{source:Ne,value:ve});const Oe={type:"object",default:ve,description:ye.localize(1,null,j),$ref:te.resourceLanguageSettingsSchemaId,defaultDefaultValue:ve,source:Ce.isString(Ne)?void 0:Ne};Ee.push(...i(j)),this.configurationProperties[j]=Oe,this.defaultLanguageConfigurationOverridesNode.properties[j]=Oe}else{this.configurationDefaultsOverrides.set(j,{value:Ie[j],source:Ne});const te=this.configurationProperties[j];te&&(this.updatePropertyDefaultValue(j,te),this.updateSchema(j,te))}this.registerOverrideIdentifiers(Ee),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:ve,defaultsOverrides:!0})}registerOverrideIdentifiers(j){for(const te of j)this.overrideIdentifiers.add(te);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(j,te){const he=[];return j.forEach((j=>{he.push(...this.validateAndRegisterProperties(j,te,j.extensionInfo,j.restrictedProperties)),this.configurationContributors.push(j),this.registerJSONConfiguration(j)})),he}validateAndRegisterProperties(j,he=!0,ve,ye,Ee=3){Ee=Ce.isUndefinedOrNull(j.scope)?Ee:j.scope;let Ie=[],Ne=j.properties;if(Ne)for(let j in Ne){if(he&&c(j)){delete Ne[j];continue}const Oe=Ne[j];(Oe.source=ve,Oe.defaultDefaultValue=Ne[j].default,this.updatePropertyDefaultValue(j,Oe),te.OVERRIDE_PROPERTY_REGEX.test(j)?Oe.scope=void 0:(Oe.scope=Ce.isUndefinedOrNull(Oe.scope)?Ee:Oe.scope,Oe.restricted=Ce.isUndefinedOrNull(Oe.restricted)?!!(null==ye?void 0:ye.includes(j)):Oe.restricted),!Ne[j].hasOwnProperty("included")||Ne[j].included)?(this.configurationProperties[j]=Ne[j],!Ne[j].deprecationMessage&&Ne[j].markdownDeprecationMessage&&(Ne[j].deprecationMessage=Ne[j].markdownDeprecationMessage),Ie.push(j)):(this.excludedConfigurationProperties[j]=Ne[j],delete Ne[j])}let Oe=j.allOf;if(Oe)for(let j of Oe)Ie.push(...this.validateAndRegisterProperties(j,he,ve,ye,Ee));return Ie}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(j){const o=j=>{let te=j.properties;if(te)for(const j in te)this.updateSchema(j,te[j]);let he=j.allOf;he&&he.forEach(o)};o(j)}updateSchema(j,he){switch(te.allSettings.properties[j]=he,he.scope){case 1:te.applicationSettings.properties[j]=he;break;case 2:te.machineSettings.properties[j]=he;break;case 6:te.machineOverridableSettings.properties[j]=he;break;case 3:te.windowSettings.properties[j]=he;break;case 4:te.resourceSettings.properties[j]=he;break;case 5:te.resourceSettings.properties[j]=he,this.resourceLanguageSettingsSchema.properties[j]=he}}updateOverridePropertyPatternKey(){for(const j of this.overrideIdentifiers.values()){const he=`[${j}]`,ve={type:"object",description:ye.localize(2,null),errorMessage:ye.localize(3,null),$ref:te.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(he,ve),te.allSettings.properties[he]=ve,te.applicationSettings.properties[he]=ve,te.machineSettings.properties[he]=ve,te.machineOverridableSettings.properties[he]=ve,te.windowSettings.properties[he]=ve,te.resourceSettings.properties[he]=ve}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const j={type:"object",description:ye.localize(4,null),errorMessage:ye.localize(5,null),$ref:te.resourceLanguageSettingsSchemaId};te.allSettings.patternProperties[te.OVERRIDE_PROPERTY_PATTERN]=j,te.applicationSettings.patternProperties[te.OVERRIDE_PROPERTY_PATTERN]=j,te.machineSettings.patternProperties[te.OVERRIDE_PROPERTY_PATTERN]=j,te.machineOverridableSettings.patternProperties[te.OVERRIDE_PROPERTY_PATTERN]=j,te.windowSettings.patternProperties[te.OVERRIDE_PROPERTY_PATTERN]=j,te.resourceSettings.patternProperties[te.OVERRIDE_PROPERTY_PATTERN]=j,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(j,te){const he=this.configurationDefaultsOverrides.get(j);let ve=null==he?void 0:he.value,ye=null==he?void 0:he.source;Ce.isUndefined(ve)&&(ve=te.defaultDefaultValue,ye=void 0),Ce.isUndefined(ve)&&(ve=n(te.type)),te.default=ve,te.defaultValueSource=ye}};function c(j){return j.trim()?te.OVERRIDE_PROPERTY_REGEX.test(j)?ye.localize(7,null,j):void 0!==je.getConfigurationProperties()[j]?ye.localize(8,null,j):null:ye.localize(6,null)}Ie.Registry.add(te.Extensions.Configuration,je),te.validateProperty=c})),define(Ce[620],ie([1,0,31,145,505,103,36]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.isDiffEditorConfigurationKey=te.isEditorConfigurationKey=te.editorConfigurationBaseNode=void 0,te.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:Ce.localize(0,null),scope:5});const Ie=Object.assign(Object.assign({},te.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:ve.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:Ce.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:ve.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:Ce.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:ve.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:Ce.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:ve.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:Ce.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:ve.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:Ce.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:Ce.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[Ce.localize(7,null),Ce.localize(8,null),Ce.localize(9,null)],description:Ce.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[Ce.localize(11,null),Ce.localize(12,null),Ce.localize(13,null)],default:"configuredByTheme",description:Ce.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:Ce.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:Ce.localize(16,null)},"editor.language.brackets":{type:"array",default:!1,description:Ce.localize(17,null),items:{type:"array",items:[{type:"string",description:Ce.localize(18,null)},{type:"string",description:Ce.localize(19,null)}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:Ce.localize(20,null),items:{type:"array",items:[{type:"string",description:Ce.localize(21,null)},{type:"string",description:Ce.localize(22,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:Ce.localize(23,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:Ce.localize(24,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:Ce.localize(25,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:Ce.localize(26,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:Ce.localize(27,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:Ce.localize(28,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[Ce.localize(29,null),Ce.localize(30,null),Ce.localize(31,null)]}}});function p(j){return void 0!==j.type||void 0!==j.anyOf}for(const j of he.editorOptionsRegistry){const te=j.schema;if(void 0!==te)if(p(te))Ie.properties[`editor.${j.name}`]=te;else for(const j in te)Object.hasOwnProperty.call(te,j)&&(Ie.properties[j]=te[j])}let Ne=null;function g(){return null===Ne&&(Ne=Object.create(null),Object.keys(Ie.properties).forEach((j=>{Ne[j]=!0}))),Ne}te.isEditorConfigurationKey=function t(j){return g()[`editor.${j}`]||!1},te.isDiffEditorConfigurationKey=function i(j){return g()[`diffEditor.${j}`]||!1},Ee.Registry.as(ye.Extensions.Configuration).registerConfiguration(Ie)})),define(Ce[79],ie([1,0,513,4,32,36,135,103]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.PLAINTEXT_EXTENSION=te.PLAINTEXT_LANGUAGE_ID=te.ModesRegistry=te.EditorModesRegistry=te.Extensions=void 0,te.Extensions={ModesRegistry:"editor.modesRegistry"};class p{constructor(){this._onDidChangeLanguages=new ve.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(j){return this._languages.push(j),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let te=0,he=this._languages.length;te<he;te++)if(this._languages[te]===j)return void this._languages.splice(te,1)}}}getLanguages(){return this._languages}}te.EditorModesRegistry=p,te.ModesRegistry=new p,ye.Registry.add(te.Extensions.ModesRegistry,te.ModesRegistry),te.PLAINTEXT_LANGUAGE_ID="plaintext",te.PLAINTEXT_EXTENSION=".txt",te.ModesRegistry.registerLanguage({id:te.PLAINTEXT_LANGUAGE_ID,extensions:[te.PLAINTEXT_EXTENSION],aliases:[he.localize(0,null),"text"],mimetypes:[Ee.Mimes.text]}),Ce.LanguageConfigurationRegistry.register(te.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),ye.Registry.as(Ie.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])})),define(Ce[621],ie([1,0,48,41,79,269]),(function(j,te,he,ve,Ce,ye){function p(j){return j.replace(/[\11\12\14\15\40]/g,"/")}Object.defineProperty(te,"__esModule",{value:!0}),te.cssEscape=te.getIconClasses=void 0,te.getIconClasses=function w(j,te,Ee,Ie){const Ne=Ie===ye.FileKind.ROOT_FOLDER?["rootfolder-icon"]:Ie===ye.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(Ee){let Oe;if(Oe=Ee.scheme===he.Schemas.data?ve.DataUri.parseMetaData(Ee).get(ve.DataUri.META_DATA_LABEL):p((0,ve.basenameOrAuthority)(Ee).toLowerCase()),Ie===ye.FileKind.FOLDER)Ne.push(`${Oe}-name-folder-icon`);else{if(Oe){if(Ne.push(`${Oe}-name-file-icon`),Oe.length<=255){const j=Oe.split(".");for(let te=1;te<j.length;te++)Ne.push(`${j.slice(te).join(".")}-ext-file-icon`)}Ne.push("ext-file-icon")}const ye=function b(j,te,ye){if(!ye)return null;let Ee=null;if(ye.scheme===he.Schemas.data){const j=ve.DataUri.parseMetaData(ye).get(ve.DataUri.META_DATA_MIME);j&&(Ee=te.getLanguageIdByMimeType(j))}else{const te=j.getModel(ye);te&&(Ee=te.getLanguageId())}return Ee&&Ee!==Ce.PLAINTEXT_LANGUAGE_ID?Ee:te.guessLanguageIdByFilepathOrFirstLine(ye)}(j,te,Ee);ye&&Ne.push(`${p(ye)}-lang-file-icon`)}}return Ne},te.cssEscape=p})),define(Ce[622],ie([1,0,19,13,4,2,8,422,79,103,36]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.LanguagesRegistry=te.LanguageIdCodec=void 0;const je=Object.prototype.hasOwnProperty,Ze="vs.editor.nullLanguage";class n{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Ze,0),this._register(Ne.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(j,te){this._languageIdToLanguage[te]=j,this._languageToLanguageId.set(j,te)}register(j){if(this._languageToLanguageId.has(j))return;const te=this._nextLanguageId++;this._register(j,te)}encodeLanguageId(j){return this._languageToLanguageId.get(j)||0}decodeLanguageId(j){return this._languageIdToLanguage[j]||Ze}}te.LanguageIdCodec=n;class l extends ye.Disposable{constructor(j=!0,te=!1){super(),this._onDidChange=this._register(new Ce.Emitter),this.onDidChange=this._onDidChange.event,l.instanceCount++,this._warnOnOverwrite=te,this.languageIdCodec=new n,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},j&&(this._initializeFromRegistry(),this._register(Ne.ModesRegistry.onDidChangeLanguages((j=>{this._initializeFromRegistry()}))))}dispose(){l.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,Ie.clearLanguageAssociations)();const j=[].concat(Ne.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(j)}_registerLanguages(j){for(const te of j)this._registerLanguage(te);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((j=>{const te=this._languages[j];te.name&&(this._nameMap[te.name]=te.identifier),te.aliases.forEach((j=>{this._lowercaseNameMap[j.toLowerCase()]=te.identifier})),te.mimetypes.forEach((j=>{this._mimeTypesMap[j]=te.identifier}))})),Ke.Registry.as(Oe.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(j){const te=j.id;let he;je.call(this._languages,te)?he=this._languages[te]:(this.languageIdCodec.register(te),he={identifier:te,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[te]=he),this._mergeLanguage(he,j)}_mergeLanguage(j,te){const he=te.id;let Ce=null;if(Array.isArray(te.mimetypes)&&te.mimetypes.length>0&&(j.mimetypes.push(...te.mimetypes),Ce=te.mimetypes[0]),Ce||(Ce=`text/x-${he}`,j.mimetypes.push(Ce)),Array.isArray(te.extensions)){te.configuration?j.extensions=te.extensions.concat(j.extensions):j.extensions=j.extensions.concat(te.extensions);for(let j of te.extensions)(0,Ie.registerLanguageAssociation)({id:he,mime:Ce,extension:j},this._warnOnOverwrite)}if(Array.isArray(te.filenames))for(let ve of te.filenames)(0,Ie.registerLanguageAssociation)({id:he,mime:Ce,filename:ve},this._warnOnOverwrite),j.filenames.push(ve);if(Array.isArray(te.filenamePatterns))for(let j of te.filenamePatterns)(0,Ie.registerLanguageAssociation)({id:he,mime:Ce,filepattern:j},this._warnOnOverwrite);if("string"==typeof te.firstLine&&te.firstLine.length>0){let j=te.firstLine;"^"!==j.charAt(0)&&(j="^"+j);try{const te=new RegExp(j);(0,Ee.regExpLeadsToEndlessLoop)(te)||(0,Ie.registerLanguageAssociation)({id:he,mime:Ce,firstline:te},this._warnOnOverwrite)}catch(j){(0,ve.onUnexpectedError)(j)}}j.aliases.push(he);let ye=null;if(void 0!==te.aliases&&Array.isArray(te.aliases)&&(ye=0===te.aliases.length?[null]:te.aliases),null!==ye)for(const te of ye)!te||0===te.length||j.aliases.push(te);const Ne=null!==ye&&ye.length>0;if(!Ne||null!==ye[0]){const te=(Ne?ye[0]:null)||he;(Ne||!j.name)&&(j.name=te)}te.configuration&&j.configurationFiles.push(te.configuration),te.icon&&j.icons.push(te.icon)}isRegisteredLanguageId(j){return!!j&&je.call(this._languages,j)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(j){const te=j.toLowerCase();return je.call(this._lowercaseNameMap,te)?this._lowercaseNameMap[te]:null}getLanguageIdByMimeType(j){return j&&je.call(this._mimeTypesMap,j)?this._mimeTypesMap[j]:null}guessLanguageIdByFilepathOrFirstLine(j,te){if(!j&&!te)return[];const ve=(0,Ie.getMimeTypes)(j,te);return(0,he.coalesce)(ve.map((j=>this.getLanguageIdByMimeType(j))))}}te.LanguagesRegistry=l,l.instanceCount=0})),define(Ce[623],ie([1,0,4,2,622,19,18,79]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.LanguageService=void 0;class p extends ve.Disposable{constructor(j=!1){super(),this._onDidEncounterLanguage=this._register(new he.Emitter),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new he.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,p.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Ce.LanguagesRegistry(!0,j)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange((()=>this._onDidChange.fire())))}dispose(){p.instanceCount--,super.dispose()}isRegisteredLanguageId(j){return this._registry.isRegisteredLanguageId(j)}getLanguageIdByLanguageName(j){return this._registry.getLanguageIdByLanguageName(j)}getLanguageIdByMimeType(j){return this._registry.getLanguageIdByMimeType(j)}guessLanguageIdByFilepathOrFirstLine(j,te){const he=this._registry.guessLanguageIdByFilepathOrFirstLine(j,te);return(0,ye.firstOrDefault)(he,null)}createById(j){return new h(this.onDidChange,(()=>this._createAndGetLanguageIdentifier(j)))}createByFilepathOrFirstLine(j,te){return new h(this.onDidChange,(()=>{const he=this.guessLanguageIdByFilepathOrFirstLine(j,te);return this._createAndGetLanguageIdentifier(he)}))}_createAndGetLanguageIdentifier(j){return(!j||!this.isRegisteredLanguageId(j))&&(j=Ie.PLAINTEXT_LANGUAGE_ID),this._encounteredLanguages.has(j)||(this._encounteredLanguages.add(j),Ee.TokenizationRegistry.getOrCreate(j),this._onDidEncounterLanguage.fire(j)),j}}te.LanguageService=p,p.instanceCount=0;class h{constructor(j,te){this._onDidChangeLanguages=j,this._selector=te,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages((()=>this._evaluate()))),this._emitter||(this._emitter=new he.Emitter({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const j=this._selector();j!==this.languageId&&(this.languageId=j,this._emitter&&this._emitter.fire(this.languageId))}}})),define(Ce[104],ie([1,0,324,51,35,13,249,4,2,62,79]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){var je;Object.defineProperty(te,"__esModule",{value:!0}),te.MarkdownRenderer=void 0;let Ze=class Si{constructor(j,te,he){this._options=j,this._languageService=te,this._openerService=he,this._onDidRenderAsync=new Ie.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(j,te,ve){if(!j)return{element:document.createElement("span"),dispose:()=>{}};const Ce=new Ne.DisposableStore;return{element:Ce.add((0,he.renderMarkdown)(j,Object.assign(Object.assign({},this._getRenderOptions(j,Ce)),te),ve)).element,dispose:()=>Ce.dispose()}}_getRenderOptions(j,te){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(j,te)=>fi(this,void 0,void 0,(function*(){var he,ve,Ce;let ye;j?ye=this._languageService.getLanguageIdByLanguageName(j):this._options.editor&&(ye=null===(he=this._options.editor.getModel())||void 0===he?void 0:he.getLanguageId()),ye||(ye=Ke.PLAINTEXT_LANGUAGE_ID);const Ie=yield(0,Ee.tokenizeToString)(this._languageService,te,ye),Ne=document.createElement("span");if(Ne.innerHTML=null!==(Ce=null===(ve=Si._ttpTokenizer)||void 0===ve?void 0:ve.createHTML(Ie))&&void 0!==Ce?Ce:Ie,this._options.editor){const j=this._options.editor.getOption(44);(0,Oe.applyFontInfo)(Ne,j)}else this._options.codeBlockFontFamily&&(Ne.style.fontFamily=this._options.codeBlockFontFamily);return Ne})),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:te=>this._openerService.open(te,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:j.isTrusted}).catch(ye.onUnexpectedError),disposables:te}}}};Ze._ttpTokenizer=null===(je=window.trustedTypes)||void 0===je?void 0:je.createPolicy("tokenizeToString",{createHTML:j=>j}),Ze=Ci([Zi(1,Ce.ILanguageService),Zi(2,ve.IOpenerService)],Ze),te.MarkdownRenderer=Ze})),define(Ce[624],ie([1,0,7,19,66,2,104,257,51,227]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.MarginHoverWidget=void 0;const Ke=he.$;class t extends ye.Disposable{constructor(j,te,he=Ne.NullOpenerService){super(),this._renderDisposeables=this._register(new ye.DisposableStore),this._editor=j,this._isVisible=!1,this._messages=[],this._hover=this._register(new Oe.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Ee.MarkdownRenderer({editor:this._editor},te,he)),this._computer=new i(this._editor),this._hoverOperation=this._register(new Ie.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult((j=>{this._withResult(j.value)}))),this._register(this._editor.onDidChangeModelDecorations((()=>this._onModelDecorationsChanged()))),this._register(this._editor.onDidChangeConfiguration((j=>{j.hasChanged(44)&&this._updateFont()}))),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return t.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((j=>this._editor.applyFontInfo(j)))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(j){this._computer.lineNumber!==j&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=j,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(j){this._messages=j,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(j,te){this._renderDisposeables.clear();const ve=document.createDocumentFragment();for(const j of te){const te=Ke("div.hover-row.markdown-hover"),Ce=he.append(te,Ke("div.hover-contents")),ye=this._renderDisposeables.add(this._markdownRenderer.render(j.value));Ce.appendChild(ye.element),ve.appendChild(te)}this._updateContents(ve),this._showAt(j)}_updateContents(j){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(j),this._updateFont()}_showAt(j){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const te=this._editor.getLayoutInfo(),he=this._editor.getTopForLineNumber(j),ve=this._editor.getScrollTop(),Ce=this._editor.getOption(59),ye=he-ve-(this._hover.containerDomNode.clientHeight-Ce)/2;this._hover.containerDomNode.style.left=`${te.glyphMarginLeft+te.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(ye),0)}px`}}te.MarginHoverWidget=t,t.ID="editor.contrib.modesGlyphHoverWidget";class i{constructor(j){this._editor=j,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(j){this._lineNumber=j}computeSync(){const l=j=>({value:j}),j=this._editor.getLineDecorations(this._lineNumber),te=[];if(!j)return te;for(const he of j){if(!he.options.glyphMarginClassName)continue;const j=he.options.glyphMarginHoverMessage;!j||(0,Ce.isEmptyMarkdownString)(j)||te.push(...(0,ve.asArray)(j).map(l))}return te}}})),define(Ce[277],ie([1,0,34,7,67,27,4,66,2,104,31,261,571,9]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){function l(j){return!!j&&Boolean(j.completion.documentation||j.completion.detail&&j.completion.detail!==j.completion.label)}Object.defineProperty(te,"__esModule",{value:!0}),te.SuggestDetailsOverlay=te.SuggestDetailsWidget=te.canExpandCompletionItem=void 0,te.canExpandCompletionItem=l;let et=class{constructor(j,te){this._editor=j,this._onDidClose=new Ee.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new Ee.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Ne.DisposableStore,this._renderDisposeable=new Ne.DisposableStore,this._borderWidth=1,this._size=new ve.Dimension(330,0),this.domNode=ve.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=te.createInstance(Oe.MarkdownRenderer,{editor:j}),this._body=ve.$(".body"),this._scrollbar=new Ce.DomScrollableElement(this._body,{}),ve.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ve.append(this._body,ve.$(".header")),this._close=ve.append(this._header,ve.$("span"+ye.Codicon.close.cssSelector)),this._close.title=Ze.localize(0,null),this._type=ve.append(this._header,ve.$("p.type")),this._docs=ve.append(this._body,ve.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((j=>{j.hasChanged(44)&&this._configureFont()})))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const j=this._editor.getOptions(),te=j.get(44),ve=te.getMassagedFontFamily(he.isSafari?Ke.EDITOR_FONT_DEFAULTS.fontFamily:null),Ce=j.get(107)||te.fontSize,ye=j.get(108)||te.lineHeight,Ee=te.fontWeight,Ie=`${Ce}px`,Ne=`${ye}px`;this.domNode.style.fontSize=Ie,this.domNode.style.lineHeight=""+ye/Ce,this.domNode.style.fontWeight=Ee,this.domNode.style.fontFeatureSettings=te.fontFeatureSettings,this._type.style.fontFamily=ve,this._close.style.height=Ne,this._close.style.width=Ne}getLayoutInfo(){const j=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,te=this._borderWidth;return{lineHeight:j,borderWidth:te,borderHeight:2*te,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=Ze.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(j,te){var he,Ce;this._renderDisposeable.clear();let{detail:ye,documentation:Ee}=j.completion;if(te){let te="";te+=`score: ${j.score[0]}\n`,te+=`prefix: ${null!==(he=j.word)&&void 0!==he?he:"(no prefix)"}\n`,te+=`word: ${j.completion.filterText?j.completion.filterText+" (filterText)":j.textLabel}\n`,te+=`distance: ${j.distance} (localityBonus-setting)\n`,te+=`index: ${j.idx}, based on ${j.completion.sortText&&`sortText: "${j.completion.sortText}"`||"label"}\n`,te+=`commit_chars: ${null===(Ce=j.completion.commitCharacters)||void 0===Ce?void 0:Ce.join("")}\n`,Ee=(new Ie.MarkdownString).appendCodeblock("empty",te),ye=`Provider: ${j.provider._debugDisplayName}`}if(te||l(j)){if(this.domNode.classList.remove("no-docs","no-type"),ye){const j=ye.length>1e5?`${ye.substr(0,1e5)}…`:ye;this._type.textContent=j,this._type.title=j,ve.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(j))}else ve.clearNode(this._type),this._type.title="",ve.hide(this._type),this.domNode.classList.add("no-type");if(ve.clearNode(this._docs),"string"==typeof Ee)this._docs.classList.remove("markdown-docs"),this._docs.textContent=Ee;else if(Ee){this._docs.classList.add("markdown-docs"),ve.clearNode(this._docs);const j=this._markdownRenderer.render(Ee);this._docs.appendChild(j.element),this._renderDisposeable.add(j),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync((()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)})))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=j=>{j.preventDefault(),j.stopPropagation()},this._close.onclick=j=>{j.preventDefault(),j.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(j,te){const he=new ve.Dimension(j,te);ve.Dimension.equals(he,this._size)||(this._size=he,ve.size(this.domNode,j,te)),this._scrollbar.scanDomNode()}scrollDown(j=8){this._body.scrollTop+=j}scrollUp(j=8){this._body.scrollTop-=j}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(j){this._borderWidth=j}get borderWidth(){return this._borderWidth}};et=Ci([Zi(1,Ye.IInstantiationService)],et),te.SuggestDetailsWidget=et;te.SuggestDetailsOverlay=class r{constructor(j,te){this.widget=j,this._editor=te,this._disposables=new Ne.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new je.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(j.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let he,ve,Ce=0,ye=0;this._disposables.add(this._resizable.onDidWillResize((()=>{he=this._topLeft,ve=this._resizable.size}))),this._disposables.add(this._resizable.onDidResize((j=>{if(he&&ve){this.widget.layout(j.dimension.width,j.dimension.height);let te=!1;j.west&&(ye=ve.width-j.dimension.width,te=!0),j.north&&(Ce=ve.height-j.dimension.height,te=!0),te&&this._applyTopLeft({top:he.top+Ce,left:he.left+ye})}j.done&&(he=void 0,ve=void 0,Ce=0,ye=0,this._userSize=j.dimension)}))),this._disposables.add(this.widget.onDidChangeContents((()=>{var j;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(j=this._userSize)&&void 0!==j?j:this.widget.size,this._preferAlignAtTop)})))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(j=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),j&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(j,te){var he;const ve=j.getBoundingClientRect();this._anchorBox=ve,this._preferAlignAtTop=te,this._placeAtAnchor(this._anchorBox,null!==(he=this._userSize)&&void 0!==he?he:this.widget.size,te)}_placeAtAnchor(j,te,he){var Ce;const ye=ve.getClientArea(document.body),Ee=this.widget.getLayoutInfo(),Ie=new ve.Dimension(220,2*Ee.lineHeight),Ne=j.top,Oe=function(){const he=ye.width-(j.left+j.width+Ee.borderWidth+Ee.horizontalPadding),Ce=-Ee.borderWidth+j.left+j.width,Oe=new ve.Dimension(he,ye.height-j.top-Ee.borderHeight-Ee.verticalPadding),Ke=Oe.with(void 0,j.top+j.height-Ee.borderHeight-Ee.verticalPadding);return{top:Ne,left:Ce,fit:he-te.width,maxSizeTop:Oe,maxSizeBottom:Ke,minSize:Ie.with(Math.min(he,Ie.width))}}(),Ke=[Oe,function(){const he=j.left-Ee.borderWidth-Ee.horizontalPadding,Ce=Math.max(Ee.horizontalPadding,j.left-te.width-Ee.borderWidth),Oe=new ve.Dimension(he,ye.height-j.top-Ee.borderHeight-Ee.verticalPadding),Ke=Oe.with(void 0,j.top+j.height-Ee.borderHeight-Ee.verticalPadding);return{top:Ne,left:Ce,fit:he-te.width,maxSizeTop:Oe,maxSizeBottom:Ke,minSize:Ie.with(Math.min(he,Ie.width))}}(),function(){const he=j.left,Ce=-Ee.borderWidth+j.top+j.height,Ne=new ve.Dimension(j.width-Ee.borderHeight,ye.height-j.top-j.height-Ee.verticalPadding);return{top:Ce,left:he,fit:Ne.height-te.height,maxSizeBottom:Ne,maxSizeTop:Ne,minSize:Ie.with(Ne.width)}}()],je=null!==(Ce=Ke.find((j=>j.fit>=0)))&&void 0!==Ce?Ce:Ke.sort(((j,te)=>te.fit-j.fit))[0],Ze=j.top+j.height-Ee.borderHeight;let Ye,et=te.height;const nt=Math.max(je.maxSizeTop.height,je.maxSizeBottom.height);let rt;et>nt&&(et=nt),he?et<=je.maxSizeTop.height?(Ye=!0,rt=je.maxSizeTop):(Ye=!1,rt=je.maxSizeBottom):et<=je.maxSizeBottom.height?(Ye=!1,rt=je.maxSizeBottom):(Ye=!0,rt=je.maxSizeTop),this._applyTopLeft({left:je.left,top:Ye?je.top:Ze-et}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!Ye,je===Oe,Ye,je!==Oe),this._resizable.minSize=je.minSize,this._resizable.maxSize=rt,this._resizable.layout(et,Math.min(rt.width,te.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(j){this._topLeft=j,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}})),define(Ce[625],ie([1,0,19,47,39,20,25,40,103,36]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.ConfigurationChangeEvent=te.Configuration=te.DefaultConfigurationModel=te.ConfigurationModel=void 0;class g{constructor(j={},te=[],he=[]){this._contents=j,this._keys=te,this._overrides=he,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(j){return j?(0,Ie.getConfigurationValue)(this.contents,j):this.contents}getOverrideValue(j,te){const he=this.getContentsForOverrideIdentifer(te);return he?j?(0,Ie.getConfigurationValue)(he,j):he:void 0}override(j){let te=this.overrideConfigurations.get(j);return te||(te=this.createOverrideConfigurationModel(j),this.overrideConfigurations.set(j,te)),te}merge(...j){const te=Ce.deepClone(this.contents),ve=Ce.deepClone(this.overrides),ye=[...this.keys];for(const Ee of j){this.mergeContents(te,Ee.contents);for(const j of Ee.overrides){const[te]=ve.filter((te=>he.equals(te.identifiers,j.identifiers)));te?(this.mergeContents(te.contents,j.contents),te.keys.push(...j.keys),te.keys=he.distinct(te.keys)):ve.push(Ce.deepClone(j))}for(const j of Ee.keys)-1===ye.indexOf(j)&&ye.push(j)}return new g(te,ye,ve)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(j){const te=this.getContentsForOverrideIdentifer(j);if(!te||"object"!=typeof te||!Object.keys(te).length)return this;let ve={};for(const j of he.distinct([...Object.keys(this.contents),...Object.keys(te)])){let he=this.contents[j],ye=te[j];ye&&("object"==typeof he&&"object"==typeof ye?(he=Ce.deepClone(he),this.mergeContents(he,ye)):he=ye),ve[j]=he}return new g(ve,this.keys,this.overrides)}mergeContents(j,te){for(const he of Object.keys(te))he in j&&ye.isObject(j[he])&&ye.isObject(te[he])?this.mergeContents(j[he],te[he]):j[he]=Ce.deepClone(te[he])}checkAndFreeze(j){return this.isFrozen&&!Object.isFrozen(j)?Ce.deepFreeze(j):j}getContentsForOverrideIdentifer(j){let te=null,ve=null;const o=j=>{j&&(ve?this.mergeContents(ve,j):ve=Ce.deepClone(j))};for(const ve of this.overrides)he.equals(ve.identifiers,[j])?te=ve.contents:ve.identifiers.includes(j)&&o(ve.contents);return o(te),ve}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(j,te){this.addKey(j),(0,Ie.addToValueTree)(this.contents,j,te,(j=>{throw new Error(j)}))}removeValue(j){this.removeKey(j)&&(0,Ie.removeFromValueTree)(this.contents,j)}addKey(j){let te=this.keys.length;for(let he=0;he<te;he++)0===j.indexOf(this.keys[he])&&(te=he);this.keys.splice(te,1,j)}removeKey(j){let te=this.keys.indexOf(j);return-1!==te&&(this.keys.splice(te,1),!0)}}te.ConfigurationModel=g;te.DefaultConfigurationModel=class t extends g{constructor(j={}){const te=Oe.Registry.as(Ne.Extensions.Configuration).getConfigurationProperties(),he=Object.keys(te),ve=Object.create(null),Ce=[];for(const he in te){const Ce=j[he],ye=void 0!==Ce?Ce:te[he].default;(0,Ie.addToValueTree)(ve,he,ye,(j=>console.error(`Conflict in default settings: ${j}`)))}for(const j of Object.keys(ve))Ne.OVERRIDE_PROPERTY_REGEX.test(j)&&Ce.push({identifiers:(0,Ne.overrideIdentifiersFromKey)(j),keys:Object.keys(ve[j]),contents:(0,Ie.toValuesTree)(ve[j],(j=>console.error(`Conflict in default settings file: ${j}`)))});super(ve,he,Ce)}};class i{constructor(j,te,he=new g,Ce=new g,ye=new ve.ResourceMap,Ee=new g,Ie=new ve.ResourceMap,Ne=!0){this._defaultConfiguration=j,this._localUserConfiguration=te,this._remoteUserConfiguration=he,this._workspaceConfiguration=Ce,this._folderConfigurations=ye,this._memoryConfiguration=Ee,this._memoryConfigurationByResource=Ie,this._freeze=Ne,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new ve.ResourceMap,this._userConfiguration=null}getValue(j,te,he){return this.getConsolidateConfigurationModel(te,he).getValue(j)}updateValue(j,te,he={}){let ve;he.resource?(ve=this._memoryConfigurationByResource.get(he.resource),ve||(ve=new g,this._memoryConfigurationByResource.set(he.resource,ve))):ve=this._memoryConfiguration,void 0===te?ve.removeValue(j):ve.setValue(j,te),he.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(j,te,ve){const Ce=this.getConsolidateConfigurationModel(te,ve),ye=this.getFolderConfigurationModelForResource(te.resource,ve),Ee=te.resource&&this._memoryConfigurationByResource.get(te.resource)||this._memoryConfiguration,Ie=te.overrideIdentifier?this._defaultConfiguration.freeze().override(te.overrideIdentifier).getValue(j):this._defaultConfiguration.freeze().getValue(j),Ne=te.overrideIdentifier?this.userConfiguration.freeze().override(te.overrideIdentifier).getValue(j):this.userConfiguration.freeze().getValue(j),Oe=te.overrideIdentifier?this.localUserConfiguration.freeze().override(te.overrideIdentifier).getValue(j):this.localUserConfiguration.freeze().getValue(j),Ke=te.overrideIdentifier?this.remoteUserConfiguration.freeze().override(te.overrideIdentifier).getValue(j):this.remoteUserConfiguration.freeze().getValue(j),je=ve?te.overrideIdentifier?this._workspaceConfiguration.freeze().override(te.overrideIdentifier).getValue(j):this._workspaceConfiguration.freeze().getValue(j):void 0,Ze=ye?te.overrideIdentifier?ye.freeze().override(te.overrideIdentifier).getValue(j):ye.freeze().getValue(j):void 0,Ye=te.overrideIdentifier?Ee.override(te.overrideIdentifier).getValue(j):Ee.getValue(j),et=Ce.getValue(j),nt=he.distinct(he.flatten(Ce.overrides.map((j=>j.identifiers)))).filter((te=>void 0!==Ce.getOverrideValue(j,te)));return{defaultValue:Ie,userValue:Ne,userLocalValue:Oe,userRemoteValue:Ke,workspaceValue:je,workspaceFolderValue:Ze,memoryValue:Ye,value:et,default:void 0!==Ie?{value:this._defaultConfiguration.freeze().getValue(j),override:te.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(j,te.overrideIdentifier):void 0}:void 0,user:void 0!==Ne?{value:this.userConfiguration.freeze().getValue(j),override:te.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(j,te.overrideIdentifier):void 0}:void 0,userLocal:void 0!==Oe?{value:this.localUserConfiguration.freeze().getValue(j),override:te.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(j,te.overrideIdentifier):void 0}:void 0,userRemote:void 0!==Ke?{value:this.remoteUserConfiguration.freeze().getValue(j),override:te.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(j,te.overrideIdentifier):void 0}:void 0,workspace:void 0!==je?{value:this._workspaceConfiguration.freeze().getValue(j),override:te.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(j,te.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==Ze?{value:null==ye?void 0:ye.freeze().getValue(j),override:te.overrideIdentifier?null==ye?void 0:ye.freeze().getOverrideValue(j,te.overrideIdentifier):void 0}:void 0,memory:void 0!==Ye?{value:Ee.getValue(j),override:te.overrideIdentifier?Ee.getOverrideValue(j,te.overrideIdentifier):void 0}:void 0,overrideIdentifiers:nt.length?nt:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(j,te){let he=this.getConsolidatedConfigurationModelForResource(j,te);return j.overrideIdentifier?he.override(j.overrideIdentifier):he}getConsolidatedConfigurationModelForResource({resource:j},te){let he=this.getWorkspaceConsolidatedConfiguration();if(te&&j){const ve=te.getFolder(j);ve&&(he=this.getFolderConsolidatedConfiguration(ve.uri)||he);const Ce=this._memoryConfigurationByResource.get(j);Ce&&(he=he.merge(Ce))}return he}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(j){let te=this._foldersConsolidatedConfigurations.get(j);if(!te){const he=this.getWorkspaceConsolidatedConfiguration(),ve=this._folderConfigurations.get(j);ve?(te=he.merge(ve),this._freeze&&(te=te.freeze()),this._foldersConsolidatedConfigurations.set(j,te)):te=he}return te}getFolderConfigurationModelForResource(j,te){if(te&&j){const he=te.getFolder(j);if(he)return this._folderConfigurations.get(he.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((j,te)=>{const{contents:he,overrides:ve,keys:Ce}=this._folderConfigurations.get(te);return j.push([te,{contents:he,overrides:ve,keys:Ce}]),j}),[])}}static parse(j){const te=this.parseConfigurationModel(j.defaults),he=this.parseConfigurationModel(j.user),Ce=this.parseConfigurationModel(j.workspace),ye=j.folders.reduce(((j,te)=>(j.set(Ee.URI.revive(te[0]),this.parseConfigurationModel(te[1])),j)),new ve.ResourceMap);return new i(te,he,new g,Ce,ye,new g,new ve.ResourceMap,!1)}static parseConfigurationModel(j){return new g(j.contents,j.keys,j.overrides).freeze()}}te.Configuration=i;te.ConfigurationChangeEvent=class n{constructor(j,te,he,ve){this.change=j,this.previous=te,this.currentConfiguraiton=he,this.currentWorkspace=ve,this._previousConfiguration=void 0;const Ce=new Set;j.keys.forEach((j=>Ce.add(j))),j.overrides.forEach((([,j])=>j.forEach((j=>Ce.add(j))))),this.affectedKeys=[...Ce.values()];const ye=new g;this.affectedKeys.forEach((j=>ye.setValue(j,{}))),this.affectedKeysTree=ye.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=i.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(j,te){var he;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,j)){if(te){const ve=this.previousConfiguration?this.previousConfiguration.getValue(j,te,null===(he=this.previous)||void 0===he?void 0:he.workspace):void 0,ye=this.currentConfiguraiton.getValue(j,te,this.currentWorkspace);return!Ce.equals(ve,ye)}return!0}return!1}doesAffectedKeysTreeContains(j,te){let he,ve=(0,Ie.toValuesTree)({[te]:!0},(()=>{}));for(;"object"==typeof ve&&(he=Object.keys(ve)[0]);){if(!(j=j[he]))return!1;ve=ve[he]}return!0}}})),define(Ce[86],ie([1,0,94,17,26,36]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.Extensions=te.KeybindingsRegistry=void 0;class w{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(j){if(1===ve.OS){if(j&&j.win)return j.win}else if(2===ve.OS){if(j&&j.mac)return j.mac}else if(j&&j.linux)return j.linux;return j}registerKeybindingRule(j){const te=w.bindToCurrentPlatform(j);if(te&&te.primary){const Ce=(0,he.createKeybinding)(te.primary,ve.OS);Ce&&this._registerDefaultKeybinding(Ce,j.id,j.args,j.weight,0,j.when)}if(te&&Array.isArray(te.secondary))for(let Ce=0,ye=te.secondary.length;Ce<ye;Ce++){const ye=te.secondary[Ce],Ee=(0,he.createKeybinding)(ye,ve.OS);Ee&&this._registerDefaultKeybinding(Ee,j.id,j.args,j.weight,-Ce-1,j.when)}}registerCommandAndKeybindingRule(j){this.registerKeybindingRule(j),Ce.CommandsRegistry.registerCommand(j)}static _mightProduceChar(j){return j>=21&&j<=30||j>=31&&j<=56||(80===j||81===j||82===j||83===j||84===j||85===j||86===j||110===j||111===j||87===j||88===j||89===j||90===j||91===j||92===j)}_assertNoCtrlAlt(j,te){j.ctrlKey&&j.altKey&&!j.metaKey&&w._mightProduceChar(j.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",j," for ",te)}_registerDefaultKeybinding(j,te,he,Ce,ye,Ee){1===ve.OS&&this._assertNoCtrlAlt(j.parts[0],te),this._coreKeybindings.push({keybinding:j.parts,command:te,commandArgs:he,when:Ee,weight1:Ce,weight2:ye,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(b)),this._cachedMergedKeybindings.slice(0)}}function b(j,te){return j.weight1!==te.weight1?j.weight1-te.weight1:j.command<te.command?-1:j.command>te.command?1:j.weight2-te.weight2}te.KeybindingsRegistry=new w,te.Extensions={EditorModes:"platform.keybindingsRegistry"},ye.Registry.add(te.Extensions.EditorModes,te.KeybindingsRegistry)})),define(Ce[626],ie([1,0,485,486,16,86]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.ContextScopedReplaceInput=te.ContextScopedFindInput=te.createAndBindHistoryNavigationWidgetScopedContextKeyService=te.HistoryNavigationWidgetContext=void 0;const Ee="suggestWidgetVisible";te.HistoryNavigationWidgetContext="historyNavigationWidget";const Ie="historyNavigationForwardsEnabled",Ne="historyNavigationBackwardsEnabled";function t(j,te){return j.getContext(document.activeElement).getValue(te)}function i(j,he){const ve=function g(j,te){return j.createScoped(te.target)}(j,he);!function h(j,te,he){new Ce.RawContextKey(he,te).bindTo(j)}(ve,he,te.HistoryNavigationWidgetContext);return{scopedContextKeyService:ve,historyNavigationForwardsEnablement:new Ce.RawContextKey(Ie,!0).bindTo(ve),historyNavigationBackwardsEnablement:new Ce.RawContextKey(Ne,!0).bindTo(ve)}}te.createAndBindHistoryNavigationWidgetScopedContextKeyService=i;let Oe=class extends he.FindInput{constructor(j,te,he,ve,Ce=!1){super(j,te,Ce,he),this._register(i(ve,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Oe=Ci([Zi(3,Ce.IContextKeyService)],Oe),te.ContextScopedFindInput=Oe;let Ke=class extends ve.ReplaceInput{constructor(j,te,he,ve,Ce=!1){super(j,te,Ce,he),this._register(i(ve,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Ke=Ci([Zi(3,Ce.IContextKeyService)],Ke),te.ContextScopedReplaceInput=Ke,ye.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Ce.ContextKeyExpr.and(Ce.ContextKeyExpr.has(te.HistoryNavigationWidgetContext),Ce.ContextKeyExpr.equals(Ne,!0),Ce.ContextKeyExpr.equals(Ee,!1)),primary:16,secondary:[528],handler:j=>{const he=t(j.get(Ce.IContextKeyService),te.HistoryNavigationWidgetContext);he&&he.historyNavigator.showPreviousValue()}}),ye.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Ce.ContextKeyExpr.and(Ce.ContextKeyExpr.has(te.HistoryNavigationWidgetContext),Ce.ContextKeyExpr.equals(Ie,!0),Ce.ContextKeyExpr.equals(Ee,!1)),primary:18,secondary:[530],handler:j=>{const he=t(j.get(Ce.IContextKeyService),te.HistoryNavigationWidgetContext);he&&he.historyNavigator.showNextValue()}})})),define(Ce[105],ie([1,0,19,2,36]),(function(j,te,he,ve,Ce){var ye;Object.defineProperty(te,"__esModule",{value:!0}),te.QuickAccessRegistry=te.Extensions=te.DefaultQuickAccessFilterValue=void 0,(ye=te.DefaultQuickAccessFilterValue||(te.DefaultQuickAccessFilterValue={}))[ye.PRESERVE=0]="PRESERVE",ye[ye.LAST=1]="LAST",te.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class w{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(j){return 0===j.prefix.length?this.defaultProvider=j:this.providers.push(j),this.providers.sort(((j,te)=>te.prefix.length-j.prefix.length)),(0,ve.toDisposable)((()=>{this.providers.splice(this.providers.indexOf(j),1),this.defaultProvider===j&&(this.defaultProvider=void 0)}))}getQuickAccessProviders(){return(0,he.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(j){return j&&this.providers.find((te=>j.startsWith(te.prefix)))||this.defaultProvider}}te.QuickAccessRegistry=w,Ce.Registry.add(te.Extensions.Quickaccess,new w)})),define(Ce[627],ie([1,0,2,589,105,78,36]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.HelpQuickAccessProvider=void 0;let Ie=class Ft{constructor(j){this.quickInputService=j,this.registry=Ee.Registry.as(Ce.Extensions.Quickaccess)}provide(j){const te=new he.DisposableStore;te.add(j.onDidAccept((()=>{const[te]=j.selectedItems;te&&this.quickInputService.quickAccess.show(te.prefix,{preserveValue:!0})}))),te.add(j.onDidChangeValue((j=>{const te=this.registry.getQuickAccessProvider(j.substr(Ft.PREFIX.length));te&&te.prefix&&te.prefix!==Ft.PREFIX&&this.quickInputService.quickAccess.show(te.prefix,{preserveValue:!0})})));const{editorProviders:Ce,globalProviders:ye}=this.getQuickAccessProviders();return j.items=0===Ce.length||0===ye.length?[...0===Ce.length?ye:Ce]:[{label:(0,ve.localize)(0,null),type:"separator"},...ye,{label:(0,ve.localize)(1,null),type:"separator"},...Ce],te}getQuickAccessProviders(){const j=[],te=[];for(const he of this.registry.getQuickAccessProviders().sort(((j,te)=>j.prefix.localeCompare(te.prefix))))if(he.prefix!==Ft.PREFIX)for(const Ce of he.helpEntries){const ye=Ce.prefix||he.prefix,Ee=ye||"…";(Ce.needsEditor?te:j).push({prefix:ye,label:Ee,ariaLabel:(0,ve.localize)(2,null,Ee,Ce.description),description:Ce.description})}return{editorProviders:te,globalProviders:j}}};Ie.PREFIX="?",Ie=Ci([Zi(0,ye.IQuickInputService)],Ie),te.HelpQuickAccessProvider=Ie})),define(Ce[628],ie([1,0,36,105,70,627]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),he.Registry.as(ve.Extensions.Quickaccess).registerQuickAccessProvider({ctor:ye.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:Ce.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})})),define(Ce[629],ie([1,0,10,21,88,2,9,105,78,36]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.QuickAccessController=void 0;let Ke=class extends ye.Disposable{constructor(j,te){super(),this.quickInputService=j,this.instantiationService=te,this.registry=Oe.Registry.as(Ie.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(j="",te){this.doShowOrPick(j,!1,te)}doShowOrPick(j,te,Ee){var Oe;const[Ke,je]=this.getOrInstantiateProvider(j),Ze=this.visibleQuickAccess,Ye=null==Ze?void 0:Ze.descriptor;if(Ze&&je&&Ye===je)return j!==je.prefix&&!(null==Ee?void 0:Ee.preserveValue)&&(Ze.picker.value=j),void this.adjustValueSelection(Ze.picker,je,Ee);if(je&&!(null==Ee?void 0:Ee.preserveValue)){let te;if(Ze&&Ye&&Ye!==je){const j=Ze.value.substr(Ye.prefix.length);j&&(te=`${je.prefix}${j}`)}if(!te){const j=null==Ke?void 0:Ke.defaultFilterValue;j===Ie.DefaultQuickAccessFilterValue.LAST?te=this.lastAcceptedPickerValues.get(je):"string"==typeof j&&(te=`${je.prefix}${j}`)}"string"==typeof te&&(j=te)}const et=new ye.DisposableStore,nt=et.add(this.quickInputService.createQuickPick());let rt;nt.value=j,this.adjustValueSelection(nt,je,Ee),nt.placeholder=null==je?void 0:je.placeholder,nt.quickNavigate=null==Ee?void 0:Ee.quickNavigateConfiguration,nt.hideInput=!!nt.quickNavigate&&!Ze,("number"==typeof(null==Ee?void 0:Ee.itemActivation)||(null==Ee?void 0:Ee.quickNavigateConfiguration))&&(nt.itemActivation=null!==(Oe=null==Ee?void 0:Ee.itemActivation)&&void 0!==Oe?Oe:Ne.ItemActivation.SECOND),nt.contextKey=null==je?void 0:je.contextKey,nt.filterValue=j=>j.substring(je?je.prefix.length:0),(null==je?void 0:je.placeholder)&&(nt.ariaLabel=null==je?void 0:je.placeholder),te&&(rt=new he.DeferredPromise,et.add((0,Ce.once)(nt.onWillAccept)((j=>{j.veto(),nt.hide()})))),et.add(this.registerPickerListeners(nt,Ke,je,j));const at=et.add(new ve.CancellationTokenSource);return Ke&&et.add(Ke.provide(nt,at.token)),(0,Ce.once)(nt.onDidHide)((()=>{0===nt.selectedItems.length&&at.cancel(),et.dispose(),null==rt||rt.complete(nt.selectedItems.slice(0))})),nt.show(),te?null==rt?void 0:rt.p:void 0}adjustValueSelection(j,te,he){var ve;let Ce;Ce=(null==he?void 0:he.preserveValue)?[j.value.length,j.value.length]:[null!==(ve=null==te?void 0:te.prefix.length)&&void 0!==ve?ve:0,j.value.length],j.valueSelection=Ce}registerPickerListeners(j,te,he,ve){const Ce=new ye.DisposableStore,Ee=this.visibleQuickAccess={picker:j,descriptor:he,value:ve};return Ce.add((0,ye.toDisposable)((()=>{Ee===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)}))),Ce.add(j.onDidChangeValue((j=>{const[he]=this.getOrInstantiateProvider(j);he!==te?this.show(j,{preserveValue:!0}):Ee.value=j}))),he&&Ce.add(j.onDidAccept((()=>{this.lastAcceptedPickerValues.set(he,j.value)}))),Ce}getOrInstantiateProvider(j){const te=this.registry.getQuickAccessProvider(j);if(!te)return[void 0,void 0];let he=this.mapProviderToDescriptor.get(te);return he||(he=this.instantiationService.createInstance(te.ctor),this.mapProviderToDescriptor.set(te,he)),[he,te]}};Ke=Ci([Zi(0,Ne.IQuickInputService),Zi(1,Ee.IInstantiationService)],Ke),te.QuickAccessController=Ke})),define(Ce[80],ie([1,0,4,2,20,327,9]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.InMemoryStorageService=te.AbstractStorageService=te.WillSaveStateReason=te.IStorageService=void 0;const Ie="__$__targetStorageMarker";var Ne;te.IStorageService=(0,Ee.createDecorator)("storageService"),(Ne=te.WillSaveStateReason||(te.WillSaveStateReason={}))[Ne.NONE=0]="NONE",Ne[Ne.SHUTDOWN=1]="SHUTDOWN";class h extends ve.Disposable{constructor(j={flushInterval:h.DEFAULT_FLUSH_INTERVAL}){super(),this.options=j,this._onDidChangeValue=this._register(new he.PauseableEmitter),this._onDidChangeTarget=this._register(new he.PauseableEmitter),this._onWillSaveState=this._register(new he.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(j,te){te===Ie?(0===j?this._globalKeyTargets=void 0:1===j&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:j})):this._onDidChangeValue.fire({scope:j,key:te,target:this.getKeyTargets(j)[te]})}get(j,te,he){var ve;return null===(ve=this.getStorage(te))||void 0===ve?void 0:ve.get(j,he)}getBoolean(j,te,he){var ve;return null===(ve=this.getStorage(te))||void 0===ve?void 0:ve.getBoolean(j,he)}getNumber(j,te,he){var ve;return null===(ve=this.getStorage(te))||void 0===ve?void 0:ve.getNumber(j,he)}store(j,te,he,ve){(0,Ce.isUndefinedOrNull)(te)?this.remove(j,he):this.withPausedEmitters((()=>{var Ce;this.updateKeyTarget(j,he,ve),null===(Ce=this.getStorage(he))||void 0===Ce||Ce.set(j,te)}))}remove(j,te){this.withPausedEmitters((()=>{var he;this.updateKeyTarget(j,te,void 0),null===(he=this.getStorage(te))||void 0===he||he.delete(j)}))}withPausedEmitters(j){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{j()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(j,te,he){var ve,Ce;const ye=this.getKeyTargets(te);"number"==typeof he?ye[j]!==he&&(ye[j]=he,null===(ve=this.getStorage(te))||void 0===ve||ve.set(Ie,JSON.stringify(ye))):"number"==typeof ye[j]&&(delete ye[j],null===(Ce=this.getStorage(te))||void 0===Ce||Ce.set(Ie,JSON.stringify(ye)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(j){return 0===j?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(j){const te=this.get(Ie,j);if(te)try{return JSON.parse(te)}catch{}return Object.create(null)}}te.AbstractStorageService=h,h.DEFAULT_FLUSH_INTERVAL=6e4;te.InMemoryStorageService=class g extends h{constructor(){super(),this.globalStorage=this._register(new ye.Storage(new ye.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new ye.Storage(new ye.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage((j=>this.emitDidChangeValue(1,j)))),this._register(this.globalStorage.onDidChangeStorage((j=>this.emitDidChangeValue(0,j))))}getStorage(j){return 0===j?this.globalStorage:this.workspaceStorage}}})),define(Ce[630],ie([1,0,10,88,47,3,271,53,9,80]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.CodeLensCache=te.ICodeLensCache=void 0,te.ICodeLensCache=(0,Ne.createDecorator)("ICodeLensCache");class g{constructor(j,te){this.lineCount=j,this.data=te}}let Ke=class{constructor(j){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Ce.LRUCache(20,.75);(0,he.runWhenIdle)((()=>j.remove("codelens/cache",1)));const te="codelens/cache2",ye=j.get(te,1,"{}");this._deserialize(ye),(0,ve.once)(j.onWillSaveState)((he=>{he.reason===Oe.WillSaveStateReason.SHUTDOWN&&j.store(te,this._serialize(),1,1)}))}put(j,te){const he=te.lenses.map((j=>{var te;return{range:j.symbol.range,command:j.symbol.command&&{id:"",title:null===(te=j.symbol.command)||void 0===te?void 0:te.title}}})),ve=new Ee.CodeLensModel;ve.add({lenses:he,dispose:()=>{}},this._fakeProvider);const Ce=new g(j.getLineCount(),ve);this._cache.set(j.uri.toString(),Ce)}get(j){const te=this._cache.get(j.uri.toString());return te&&te.lineCount===j.getLineCount()?te.data:void 0}delete(j){this._cache.delete(j.uri.toString())}_serialize(){const j=Object.create(null);for(const[te,he]of this._cache){const ve=new Set;for(const j of he.data.lenses)ve.add(j.symbol.range.startLineNumber);j[te]={lineCount:he.lineCount,lines:[...ve.values()]}}return JSON.stringify(j)}_deserialize(j){try{const te=JSON.parse(j);for(const j in te){const he=te[j],ve=[];for(const j of he.lines)ve.push({range:new ye.Range(j,1,j,11)});const Ce=new Ee.CodeLensModel;Ce.add({lenses:ve,dispose(){}},this._fakeProvider),this._cache.set(j,new g(he.lineCount,Ce))}}catch{}}};Ke=Ci([Zi(0,Oe.IStorageService)],Ke),te.CodeLensCache=Ke,(0,Ie.registerSingleton)(te.ICodeLensCache,Ke)})),define(Ce[631],ie([1,0,10,2,47,18,40,53,9,80]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.ISuggestMemoryService=te.SuggestMemoryService=te.PrefixMemory=te.LRUMemory=te.NoMemory=te.Memory=void 0;class g{constructor(j){this.name=j}select(j,te,he){if(0===he.length)return 0;let ve=he[0].score[0];for(let j=0;j<he.length;j++){const{score:te,completion:Ce}=he[j];if(te[0]!==ve)break;if(Ce.preselect)return j}return 0}}te.Memory=g;class t extends g{constructor(){super("first")}memorize(j,te,he){}toJSON(){}fromJSON(){}}te.NoMemory=t;class i extends g{constructor(){super("recentlyUsed"),this._cache=new Ce.LRUCache(300,.66),this._seq=0}memorize(j,te,he){const ve=`${j.getLanguageId()}/${he.textLabel}`;this._cache.set(ve,{touch:this._seq++,type:he.completion.kind,insertText:he.completion.insertText})}select(j,te,he){if(0===he.length)return 0;const ve=j.getLineContent(te.lineNumber).substr(te.column-10,te.column-1);if(/\s$/.test(ve))return super.select(j,te,he);let Ce=he[0].score[0],ye=-1,Ee=-1,Ie=-1;for(let te=0;te<he.length&&he[te].score[0]===Ce;te++){const ve=`${j.getLanguageId()}/${he[te].textLabel}`,Ce=this._cache.peek(ve);if(Ce&&Ce.touch>Ie&&Ce.type===he[te].completion.kind&&Ce.insertText===he[te].completion.insertText&&(Ie=Ce.touch,Ee=te),he[te].completion.preselect&&-1===ye)return te}return-1!==Ee?Ee:-1!==ye?ye:0}toJSON(){return this._cache.toJSON()}fromJSON(j){this._cache.clear();for(const[te,he]of j)he.touch=0,he.type="number"==typeof he.type?he.type:ye.CompletionItemKinds.fromString(he.type),this._cache.set(te,he);this._seq=this._cache.size}}te.LRUMemory=i;class n extends g{constructor(){super("recentlyUsedByPrefix"),this._trie=Ce.TernarySearchTree.forStrings(),this._seq=0}memorize(j,te,he){const{word:ve}=j.getWordUntilPosition(te),Ce=`${j.getLanguageId()}/${ve}`;this._trie.set(Ce,{type:he.completion.kind,insertText:he.completion.insertText,touch:this._seq++})}select(j,te,he){let{word:ve}=j.getWordUntilPosition(te);if(!ve)return super.select(j,te,he);let Ce=`${j.getLanguageId()}/${ve}`,ye=this._trie.get(Ce);if(ye||(ye=this._trie.findSubstr(Ce)),ye)for(let j=0;j<he.length;j++){let{kind:te,insertText:ve}=he[j].completion;if(te===ye.type&&ve===ye.insertText)return j}return super.select(j,te,he)}toJSON(){let j=[];return this._trie.forEach(((te,he)=>j.push([he,te]))),j.sort(((j,te)=>-(j[1].touch-te[1].touch))).forEach(((j,te)=>j[1].touch=te)),j.slice(0,200)}fromJSON(j){if(this._trie.clear(),j.length>0){this._seq=j[0][1].touch+1;for(const[te,he]of j)he.type="number"==typeof he.type?he.type:ye.CompletionItemKinds.fromString(he.type),this._trie.set(te,he)}}}te.PrefixMemory=n;let Ke=class Bt{constructor(j,te){this._storageService=j,this._configService=te,this._disposables=new ve.DisposableStore,this._persistSoon=new he.RunOnceScheduler((()=>this._saveState()),500),this._disposables.add(j.onWillSaveState((j=>{j.reason===Oe.WillSaveStateReason.SHUTDOWN&&this._saveState()})))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(j,te,he){this._withStrategy(j,te).memorize(j,te,he),this._persistSoon.schedule()}select(j,te,he){return this._withStrategy(j,te).select(j,te,he)}_withStrategy(j,te){var he;const ve=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:j.getLanguageIdAtPosition(te.lineNumber,te.column),resource:j.uri});if((null===(he=this._strategy)||void 0===he?void 0:he.name)!==ve){this._saveState();const j=Bt._strategyCtors.get(ve)||t;this._strategy=new j;try{const j=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,te=this._storageService.get(`${Bt._storagePrefix}/${ve}`,j);te&&this._strategy.fromJSON(JSON.parse(te))}catch{}}return this._strategy}_saveState(){if(this._strategy){const j=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,te=JSON.stringify(this._strategy);this._storageService.store(`${Bt._storagePrefix}/${this._strategy.name}`,te,j,1)}}};Ke._strategyCtors=new Map([["recentlyUsedByPrefix",n],["recentlyUsed",i],["first",t]]),Ke._storagePrefix="suggest/memories",Ke=Ci([Zi(0,Oe.IStorageService),Zi(1,Ee.IConfigurationService)],Ke),te.SuggestMemoryService=Ke,te.ISuggestMemoryService=(0,Ne.createDecorator)("ISuggestMemories"),(0,Ie.registerSingleton)(te.ISuggestMemoryService,Ke,!0)})),define(Ce[87],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.ITelemetryService=void 0,te.ITelemetryService=(0,he.createDecorator)("telemetryService")})),define(Ce[632],ie([1,0,490,13,73,2,47,74,20,588,26,40,127,9,42,619,80,87]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at){Object.defineProperty(te,"__esModule",{value:!0}),te.CommandsHistory=te.AbstractCommandsQuickAccessProvider=void 0;let ct=class Wt extends nt.PickerQuickAccessProvider{constructor(j,te,he,ve,Ce,ye){super(Wt.PREFIX,j),this.instantiationService=te,this.keybindingService=he,this.commandService=ve,this.telemetryService=Ce,this.dialogService=ye,this.commandsHistory=this._register(this.instantiationService.createInstance(ht)),this.options=j}_getPicks(j,te,Ce){return fi(this,void 0,void 0,(function*(){const ye=yield this.getCommandPicks(te,Ce);if(Ce.isCancellationRequested)return[];const Ee=[];for(const te of ye){const he=(0,Ne.withNullAsUndefined)(Wt.WORD_FILTER(j,te.label)),ve=te.commandAlias?(0,Ne.withNullAsUndefined)(Wt.WORD_FILTER(j,te.commandAlias)):void 0;he||ve?(te.highlights={label:he,detail:this.options.showAlias?ve:void 0},Ee.push(te)):j===te.commandId&&Ee.push(te)}const Ke=new Map;for(const j of Ee){const te=Ke.get(j.label);te?(j.description=j.commandId,te.description=te.commandId):Ke.set(j.label,j)}Ee.sort(((j,te)=>{const he=this.commandsHistory.peek(j.commandId),ve=this.commandsHistory.peek(te.commandId);return he&&ve?he>ve?-1:1:he?-1:ve?1:j.label.localeCompare(te.label)}));const je=[];let Ze=!1;for(let j=0;j<Ee.length;j++){const te=Ee[j],Ce=this.keybindingService.lookupKeybinding(te.commandId),ye=Ce?(0,Oe.localize)(0,null,te.label,Ce.getAriaLabel()):te.label;0===j&&this.commandsHistory.peek(te.commandId)&&(je.push({type:"separator",label:(0,Oe.localize)(1,null)}),Ze=!0),0!==j&&Ze&&!this.commandsHistory.peek(te.commandId)&&(je.push({type:"separator",label:(0,Oe.localize)(2,null)}),Ze=!1),je.push(Object.assign(Object.assign({},te),{ariaLabel:ye,detail:this.options.showAlias&&te.commandAlias!==te.label?te.commandAlias:void 0,keybinding:Ce,accept:()=>fi(this,void 0,void 0,(function*(){this.commandsHistory.push(te.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:te.commandId,from:"quick open"});try{yield this.commandService.executeCommand(te.commandId)}catch(j){(0,ve.isCancellationError)(j)||this.dialogService.show(Ie.default.Error,(0,Oe.localize)(3,null,te.label,(0,he.toErrorMessage)(j)))}}))}))}return je}))}};ct.PREFIX=">",ct.WORD_FILTER=(0,Ce.or)(Ce.matchesPrefix,Ce.matchesWords,Ce.matchesContiguousSubString),ct=Ci([Zi(1,Ye.IInstantiationService),Zi(2,et.IKeybindingService),Zi(3,Ke.ICommandService),Zi(4,at.ITelemetryService),Zi(5,Ze.IDialogService)],ct),te.AbstractCommandsQuickAccessProvider=ct;let ht=class st extends ye.Disposable{constructor(j,te){super(),this.storageService=j,this.configurationService=te,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((()=>this.updateConfiguration())))}updateConfiguration(){this.configuredCommandsHistoryLength=st.getConfiguredCommandHistoryLength(this.configurationService),st.cache&&st.cache.limit!==this.configuredCommandsHistoryLength&&(st.cache.limit=this.configuredCommandsHistoryLength,st.saveState(this.storageService))}load(){const j=this.storageService.get(st.PREF_KEY_CACHE,0);let te;if(j)try{te=JSON.parse(j)}catch{}const he=st.cache=new Ee.LRUCache(this.configuredCommandsHistoryLength,1);if(te){let j;j=te.usesLRU?te.entries:te.entries.sort(((j,te)=>j.value-te.value)),j.forEach((j=>he.set(j.key,j.value)))}st.counter=this.storageService.getNumber(st.PREF_KEY_COUNTER,0,st.counter)}push(j){!st.cache||(st.cache.set(j,st.counter++),st.saveState(this.storageService))}peek(j){var te;return null===(te=st.cache)||void 0===te?void 0:te.peek(j)}static saveState(j){if(!st.cache)return;const te={usesLRU:!0,entries:[]};st.cache.forEach(((j,he)=>te.entries.push({key:he,value:j}))),j.store(st.PREF_KEY_CACHE,JSON.stringify(te),0,0),j.store(st.PREF_KEY_COUNTER,st.counter,0,0)}static getConfiguredCommandHistoryLength(j){var te,he;const ve=null===(he=null===(te=j.getValue().workbench)||void 0===te?void 0:te.commandPalette)||void 0===he?void 0:he.history;return"number"==typeof ve?ve:st.DEFAULT_COMMANDS_HISTORY_LENGTH}};ht.DEFAULT_COMMANDS_HISTORY_LENGTH=50,ht.PREF_KEY_CACHE="commandPalette.mru.cache",ht.PREF_KEY_COUNTER="commandPalette.mru.counter",ht.counter=1,ht=Ci([Zi(0,rt.IStorageService),Zi(1,je.IConfigurationService)],ht),te.CommandsHistory=ht})),define(Ce[633],ie([1,0,95,632]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.AbstractEditorCommandsQuickAccessProvider=void 0;class D extends ve.AbstractCommandsQuickAccessProvider{constructor(j,te,he,ve,Ce,ye){super(j,te,he,ve,Ce,ye)}getCodeEditorCommandPicks(){const j=this.activeTextEditorControl;if(!j)return[];const te=[];for(const ve of j.getSupportedActions())te.push({commandId:ve.id,commandAlias:ve.alias,label:(0,he.stripIcons)(ve.label)||ve.id});return te}}te.AbstractEditorCommandsQuickAccessProvider=D})),define(Ce[23],ie([1,0,10,29,4,20,590,200,36]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.workbenchColorsSchemaId=te.resolveColorValue=te.ifDefinedThenElse=te.oneOf=te.transparent=te.lighten=te.darken=te.executeTransform=te.chartsPurple=te.chartsGreen=te.chartsOrange=te.chartsYellow=te.chartsBlue=te.chartsRed=te.chartsLines=te.chartsForeground=te.problemsInfoIconForeground=te.problemsWarningIconForeground=te.problemsErrorIconForeground=te.minimapSliderActiveBackground=te.minimapSliderHoverBackground=te.minimapSliderBackground=te.minimapForegroundOpacity=te.minimapBackground=te.minimapWarning=te.minimapError=te.minimapSelection=te.minimapSelectionOccurrenceHighlight=te.minimapFindMatch=te.overviewRulerSelectionHighlightForeground=te.overviewRulerFindMatchForeground=te.overviewRulerCommonContentForeground=te.overviewRulerIncomingContentForeground=te.overviewRulerCurrentContentForeground=te.mergeBorder=te.mergeCommonContentBackground=te.mergeCommonHeaderBackground=te.mergeIncomingContentBackground=te.mergeIncomingHeaderBackground=te.mergeCurrentContentBackground=te.mergeCurrentHeaderBackground=te.breadcrumbsPickerBackground=te.breadcrumbsActiveSelectionForeground=te.breadcrumbsFocusForeground=te.breadcrumbsBackground=te.breadcrumbsForeground=te.snippetFinalTabstopHighlightBorder=te.snippetFinalTabstopHighlightBackground=te.snippetTabstopHighlightBorder=te.snippetTabstopHighlightBackground=te.toolbarActiveBackground=te.toolbarHoverOutline=te.toolbarHoverBackground=te.menuSeparatorBackground=te.menuSelectionBorder=te.menuSelectionBackground=te.menuSelectionForeground=te.menuBackground=te.menuForeground=te.menuBorder=te.quickInputListFocusBackground=te.quickInputListFocusIconForeground=te.quickInputListFocusForeground=te._deprecatedQuickInputListFocusBackground=te.listDeemphasizedForeground=te.tableOddRowsBackgroundColor=te.tableColumnsBorder=te.treeIndentGuidesStroke=te.listFilterMatchHighlightBorder=te.listFilterMatchHighlight=te.listFilterWidgetNoMatchesOutline=te.listFilterWidgetOutline=te.listFilterWidgetBackground=te.listWarningForeground=te.listErrorForeground=te.listInvalidItemForeground=te.listFocusHighlightForeground=te.listHighlightForeground=te.listDropBackground=te.listHoverForeground=te.listHoverBackground=te.listInactiveFocusOutline=te.listInactiveFocusBackground=te.listInactiveSelectionIconForeground=te.listInactiveSelectionForeground=te.listInactiveSelectionBackground=te.listActiveSelectionIconForeground=te.listActiveSelectionForeground=te.listActiveSelectionBackground=te.listFocusOutline=te.listFocusForeground=te.listFocusBackground=te.diffDiagonalFill=te.diffBorder=te.diffRemovedOutline=te.diffInsertedOutline=te.diffRemoved=te.diffInserted=te.defaultRemoveColor=te.defaultInsertColor=te.editorLightBulbAutoFixForeground=te.editorLightBulbForeground=te.editorInlayHintParameterBackground=te.editorInlayHintParameterForeground=te.editorInlayHintTypeBackground=te.editorInlayHintTypeForeground=te.editorInlayHintBackground=te.editorInlayHintForeground=te.editorActiveLinkForeground=te.editorHoverStatusBarBackground=te.editorHoverBorder=te.editorHoverForeground=te.editorHoverBackground=te.editorHoverHighlight=te.searchEditorFindMatchBorder=te.searchEditorFindMatch=te.editorFindRangeHighlightBorder=te.editorFindMatchHighlightBorder=te.editorFindMatchBorder=te.editorFindRangeHighlight=te.editorFindMatchHighlight=te.editorFindMatch=te.editorSelectionHighlightBorder=te.editorSelectionHighlight=te.editorInactiveSelection=te.editorSelectionForeground=te.editorSelectionBackground=te.keybindingLabelBottomBorder=te.keybindingLabelBorder=te.keybindingLabelForeground=te.keybindingLabelBackground=te.pickerGroupBorder=te.pickerGroupForeground=te.quickInputTitleBackground=te.quickInputForeground=te.quickInputBackground=te.editorWidgetResizeBorder=te.editorWidgetBorder=te.editorWidgetForeground=te.editorWidgetBackground=te.editorForeground=te.editorBackground=te.sashHoverBorder=te.editorHintBorder=te.editorHintForeground=te.editorInfoBorder=te.editorInfoForeground=te.editorInfoBackground=te.editorWarningBorder=te.editorWarningForeground=te.editorWarningBackground=te.editorErrorBorder=te.editorErrorForeground=te.editorErrorBackground=te.progressBarBackground=te.scrollbarSliderActiveBackground=te.scrollbarSliderHoverBackground=te.scrollbarSliderBackground=te.scrollbarShadow=te.badgeForeground=te.badgeBackground=te.buttonSecondaryHoverBackground=te.buttonSecondaryBackground=te.buttonSecondaryForeground=te.buttonBorder=te.buttonHoverBackground=te.buttonBackground=te.buttonForeground=te.simpleCheckboxBorder=te.simpleCheckboxForeground=te.simpleCheckboxBackground=te.selectBorder=te.selectForeground=te.selectListBackground=te.selectBackground=te.inputValidationErrorBorder=te.inputValidationErrorForeground=te.inputValidationErrorBackground=te.inputValidationWarningBorder=te.inputValidationWarningForeground=te.inputValidationWarningBackground=te.inputValidationInfoBorder=te.inputValidationInfoForeground=te.inputValidationInfoBackground=te.inputPlaceholderForeground=te.inputActiveOptionForeground=te.inputActiveOptionBackground=te.inputActiveOptionHoverBackground=te.inputActiveOptionBorder=te.inputBorder=te.inputForeground=te.inputBackground=te.widgetShadow=te.textCodeBlockBackground=te.textBlockQuoteBorder=te.textBlockQuoteBackground=te.textPreformatForeground=te.textLinkActiveForeground=te.textLinkForeground=te.textSeparatorForeground=te.selectionBackground=te.activeContrastBorder=te.contrastBorder=te.focusBorder=te.iconForeground=te.descriptionForeground=te.errorForeground=te.foreground=te.registerColor=te.Extensions=te.asCssVariableName=void 0,te.asCssVariableName=function h(j){return`--vscode-${j.replace(".","-")}`},te.Extensions={ColorContribution:"base.contributions.colors"};const Oe=new class g{constructor(){this._onDidChangeSchema=new Ce.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(j,te,he,ve=!1,Ce){let ye={id:j,description:he,defaults:te,needsTransparency:ve,deprecationMessage:Ce};this.colorsById[j]=ye;let Ee={type:"string",description:he,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Ce&&(Ee.deprecationMessage=Ce),this.colorSchema.properties[j]=Ee,this.colorReferenceSchema.enum.push(j),this.colorReferenceSchema.enumDescriptions.push(he),this._onDidChangeSchema.fire(),j}getColors(){return Object.keys(this.colorsById).map((j=>this.colorsById[j]))}resolveDefaultColor(j,te){const he=this.colorsById[j];if(he&&he.defaults){return _(he.defaults[te.type],te)}}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort(((j,te)=>{let he=-1===j.indexOf(".")?0:1,ve=-1===te.indexOf(".")?0:1;return he!==ve?he-ve:j.localeCompare(te)})).map((j=>`- \`${j}\`: ${this.colorsById[j].description}`)).join("\n")}};function i(j,te,he,ve,Ce){return Oe.registerColor(j,te,he,ve,Ce)}Ne.Registry.add(te.Extensions.ColorContribution,Oe),te.registerColor=i,te.foreground=i("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},Ee.localize(0,null)),te.errorForeground=i("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},Ee.localize(1,null)),te.descriptionForeground=i("descriptionForeground",{light:"#717171",dark:f(te.foreground,.7),hc:f(te.foreground,.7)},Ee.localize(2,null)),te.iconForeground=i("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},Ee.localize(3,null)),te.focusBorder=i("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},Ee.localize(4,null)),te.contrastBorder=i("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},Ee.localize(5,null)),te.activeContrastBorder=i("contrastActiveBorder",{light:null,dark:null,hc:te.focusBorder},Ee.localize(6,null)),te.selectionBackground=i("selection.background",{light:null,dark:null,hc:null},Ee.localize(7,null)),te.textSeparatorForeground=i("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:ve.Color.black},Ee.localize(8,null)),te.textLinkForeground=i("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},Ee.localize(9,null)),te.textLinkActiveForeground=i("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},Ee.localize(10,null)),te.textPreformatForeground=i("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},Ee.localize(11,null)),te.textBlockQuoteBackground=i("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},Ee.localize(12,null)),te.textBlockQuoteBorder=i("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:ve.Color.white},Ee.localize(13,null)),te.textCodeBlockBackground=i("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:ve.Color.black},Ee.localize(14,null)),te.widgetShadow=i("widget.shadow",{dark:f(ve.Color.black,.36),light:f(ve.Color.black,.16),hc:null},Ee.localize(15,null)),te.inputBackground=i("input.background",{dark:"#3C3C3C",light:ve.Color.white,hc:ve.Color.black},Ee.localize(16,null)),te.inputForeground=i("input.foreground",{dark:te.foreground,light:te.foreground,hc:te.foreground},Ee.localize(17,null)),te.inputBorder=i("input.border",{dark:null,light:null,hc:te.contrastBorder},Ee.localize(18,null)),te.inputActiveOptionBorder=i("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:te.contrastBorder},Ee.localize(19,null)),te.inputActiveOptionHoverBackground=i("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},Ee.localize(20,null)),te.inputActiveOptionBackground=i("inputOption.activeBackground",{dark:f(te.focusBorder,.4),light:f(te.focusBorder,.2),hc:ve.Color.transparent},Ee.localize(21,null)),te.inputActiveOptionForeground=i("inputOption.activeForeground",{dark:ve.Color.white,light:ve.Color.black,hc:null},Ee.localize(22,null)),te.inputPlaceholderForeground=i("input.placeholderForeground",{light:f(te.foreground,.5),dark:f(te.foreground,.5),hc:f(te.foreground,.7)},Ee.localize(23,null)),te.inputValidationInfoBackground=i("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:ve.Color.black},Ee.localize(24,null)),te.inputValidationInfoForeground=i("inputValidation.infoForeground",{dark:null,light:null,hc:null},Ee.localize(25,null)),te.inputValidationInfoBorder=i("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:te.contrastBorder},Ee.localize(26,null)),te.inputValidationWarningBackground=i("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:ve.Color.black},Ee.localize(27,null)),te.inputValidationWarningForeground=i("inputValidation.warningForeground",{dark:null,light:null,hc:null},Ee.localize(28,null)),te.inputValidationWarningBorder=i("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:te.contrastBorder},Ee.localize(29,null)),te.inputValidationErrorBackground=i("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:ve.Color.black},Ee.localize(30,null)),te.inputValidationErrorForeground=i("inputValidation.errorForeground",{dark:null,light:null,hc:null},Ee.localize(31,null)),te.inputValidationErrorBorder=i("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:te.contrastBorder},Ee.localize(32,null)),te.selectBackground=i("dropdown.background",{dark:"#3C3C3C",light:ve.Color.white,hc:ve.Color.black},Ee.localize(33,null)),te.selectListBackground=i("dropdown.listBackground",{dark:null,light:null,hc:ve.Color.black},Ee.localize(34,null)),te.selectForeground=i("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:ve.Color.white},Ee.localize(35,null)),te.selectBorder=i("dropdown.border",{dark:te.selectBackground,light:"#CECECE",hc:te.contrastBorder},Ee.localize(36,null)),te.simpleCheckboxBackground=i("checkbox.background",{dark:te.selectBackground,light:te.selectBackground,hc:te.selectBackground},Ee.localize(37,null)),te.simpleCheckboxForeground=i("checkbox.foreground",{dark:te.selectForeground,light:te.selectForeground,hc:te.selectForeground},Ee.localize(38,null)),te.simpleCheckboxBorder=i("checkbox.border",{dark:te.selectBorder,light:te.selectBorder,hc:te.selectBorder},Ee.localize(39,null)),te.buttonForeground=i("button.foreground",{dark:ve.Color.white,light:ve.Color.white,hc:ve.Color.white},Ee.localize(40,null)),te.buttonBackground=i("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},Ee.localize(41,null)),te.buttonHoverBackground=i("button.hoverBackground",{dark:u(te.buttonBackground,.2),light:d(te.buttonBackground,.2),hc:null},Ee.localize(42,null)),te.buttonBorder=i("button.border",{dark:te.contrastBorder,light:te.contrastBorder,hc:te.contrastBorder},Ee.localize(43,null)),te.buttonSecondaryForeground=i("button.secondaryForeground",{dark:ve.Color.white,light:ve.Color.white,hc:ve.Color.white},Ee.localize(44,null)),te.buttonSecondaryBackground=i("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},Ee.localize(45,null)),te.buttonSecondaryHoverBackground=i("button.secondaryHoverBackground",{dark:u(te.buttonSecondaryBackground,.2),light:d(te.buttonSecondaryBackground,.2),hc:null},Ee.localize(46,null)),te.badgeBackground=i("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:ve.Color.black},Ee.localize(47,null)),te.badgeForeground=i("badge.foreground",{dark:ve.Color.white,light:"#333",hc:ve.Color.white},Ee.localize(48,null)),te.scrollbarShadow=i("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},Ee.localize(49,null)),te.scrollbarSliderBackground=i("scrollbarSlider.background",{dark:ve.Color.fromHex("#797979").transparent(.4),light:ve.Color.fromHex("#646464").transparent(.4),hc:f(te.contrastBorder,.6)},Ee.localize(50,null)),te.scrollbarSliderHoverBackground=i("scrollbarSlider.hoverBackground",{dark:ve.Color.fromHex("#646464").transparent(.7),light:ve.Color.fromHex("#646464").transparent(.7),hc:f(te.contrastBorder,.8)},Ee.localize(51,null)),te.scrollbarSliderActiveBackground=i("scrollbarSlider.activeBackground",{dark:ve.Color.fromHex("#BFBFBF").transparent(.4),light:ve.Color.fromHex("#000000").transparent(.6),hc:te.contrastBorder},Ee.localize(52,null)),te.progressBarBackground=i("progressBar.background",{dark:ve.Color.fromHex("#0E70C0"),light:ve.Color.fromHex("#0E70C0"),hc:te.contrastBorder},Ee.localize(53,null)),te.editorErrorBackground=i("editorError.background",{dark:null,light:null,hc:null},Ee.localize(54,null),!0),te.editorErrorForeground=i("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},Ee.localize(55,null)),te.editorErrorBorder=i("editorError.border",{dark:null,light:null,hc:ve.Color.fromHex("#E47777").transparent(.8)},Ee.localize(56,null)),te.editorWarningBackground=i("editorWarning.background",{dark:null,light:null,hc:null},Ee.localize(57,null),!0),te.editorWarningForeground=i("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},Ee.localize(58,null)),te.editorWarningBorder=i("editorWarning.border",{dark:null,light:null,hc:ve.Color.fromHex("#FFCC00").transparent(.8)},Ee.localize(59,null)),te.editorInfoBackground=i("editorInfo.background",{dark:null,light:null,hc:null},Ee.localize(60,null),!0),te.editorInfoForeground=i("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},Ee.localize(61,null)),te.editorInfoBorder=i("editorInfo.border",{dark:null,light:null,hc:ve.Color.fromHex("#3794FF").transparent(.8)},Ee.localize(62,null)),te.editorHintForeground=i("editorHint.foreground",{dark:ve.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},Ee.localize(63,null)),te.editorHintBorder=i("editorHint.border",{dark:null,light:null,hc:ve.Color.fromHex("#eeeeee").transparent(.8)},Ee.localize(64,null)),te.sashHoverBorder=i("sash.hoverBorder",{dark:te.focusBorder,light:te.focusBorder,hc:te.focusBorder},Ee.localize(65,null)),te.editorBackground=i("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:ve.Color.black},Ee.localize(66,null)),te.editorForeground=i("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:ve.Color.white},Ee.localize(67,null)),te.editorWidgetBackground=i("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},Ee.localize(68,null)),te.editorWidgetForeground=i("editorWidget.foreground",{dark:te.foreground,light:te.foreground,hc:te.foreground},Ee.localize(69,null)),te.editorWidgetBorder=i("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:te.contrastBorder},Ee.localize(70,null)),te.editorWidgetResizeBorder=i("editorWidget.resizeBorder",{light:null,dark:null,hc:null},Ee.localize(71,null)),te.quickInputBackground=i("quickInput.background",{dark:te.editorWidgetBackground,light:te.editorWidgetBackground,hc:te.editorWidgetBackground},Ee.localize(72,null)),te.quickInputForeground=i("quickInput.foreground",{dark:te.editorWidgetForeground,light:te.editorWidgetForeground,hc:te.editorWidgetForeground},Ee.localize(73,null)),te.quickInputTitleBackground=i("quickInputTitle.background",{dark:new ve.Color(new ve.RGBA(255,255,255,.105)),light:new ve.Color(new ve.RGBA(0,0,0,.06)),hc:"#000000"},Ee.localize(74,null)),te.pickerGroupForeground=i("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:ve.Color.white},Ee.localize(75,null)),te.pickerGroupBorder=i("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:ve.Color.white},Ee.localize(76,null)),te.keybindingLabelBackground=i("keybindingLabel.background",{dark:new ve.Color(new ve.RGBA(128,128,128,.17)),light:new ve.Color(new ve.RGBA(221,221,221,.4)),hc:ve.Color.transparent},Ee.localize(77,null)),te.keybindingLabelForeground=i("keybindingLabel.foreground",{dark:ve.Color.fromHex("#CCCCCC"),light:ve.Color.fromHex("#555555"),hc:ve.Color.white},Ee.localize(78,null)),te.keybindingLabelBorder=i("keybindingLabel.border",{dark:new ve.Color(new ve.RGBA(51,51,51,.6)),light:new ve.Color(new ve.RGBA(204,204,204,.4)),hc:new ve.Color(new ve.RGBA(111,195,223))},Ee.localize(79,null)),te.keybindingLabelBottomBorder=i("keybindingLabel.bottomBorder",{dark:new ve.Color(new ve.RGBA(68,68,68,.6)),light:new ve.Color(new ve.RGBA(187,187,187,.4)),hc:new ve.Color(new ve.RGBA(111,195,223))},Ee.localize(80,null)),te.editorSelectionBackground=i("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},Ee.localize(81,null)),te.editorSelectionForeground=i("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},Ee.localize(82,null)),te.editorInactiveSelection=i("editor.inactiveSelectionBackground",{light:f(te.editorSelectionBackground,.5),dark:f(te.editorSelectionBackground,.5),hc:f(te.editorSelectionBackground,.5)},Ee.localize(83,null),!0),te.editorSelectionHighlight=i("editor.selectionHighlightBackground",{light:C(te.editorSelectionBackground,te.editorBackground,.3,.6),dark:C(te.editorSelectionBackground,te.editorBackground,.3,.6),hc:null},Ee.localize(84,null),!0),te.editorSelectionHighlightBorder=i("editor.selectionHighlightBorder",{light:null,dark:null,hc:te.activeContrastBorder},Ee.localize(85,null)),te.editorFindMatch=i("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},Ee.localize(86,null)),te.editorFindMatchHighlight=i("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},Ee.localize(87,null),!0),te.editorFindRangeHighlight=i("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},Ee.localize(88,null),!0),te.editorFindMatchBorder=i("editor.findMatchBorder",{light:null,dark:null,hc:te.activeContrastBorder},Ee.localize(89,null)),te.editorFindMatchHighlightBorder=i("editor.findMatchHighlightBorder",{light:null,dark:null,hc:te.activeContrastBorder},Ee.localize(90,null)),te.editorFindRangeHighlightBorder=i("editor.findRangeHighlightBorder",{dark:null,light:null,hc:f(te.activeContrastBorder,.4)},Ee.localize(91,null),!0),te.searchEditorFindMatch=i("searchEditor.findMatchBackground",{light:f(te.editorFindMatchHighlight,.66),dark:f(te.editorFindMatchHighlight,.66),hc:te.editorFindMatchHighlight},Ee.localize(92,null)),te.searchEditorFindMatchBorder=i("searchEditor.findMatchBorder",{light:f(te.editorFindMatchHighlightBorder,.66),dark:f(te.editorFindMatchHighlightBorder,.66),hc:te.editorFindMatchHighlightBorder},Ee.localize(93,null)),te.editorHoverHighlight=i("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},Ee.localize(94,null),!0),te.editorHoverBackground=i("editorHoverWidget.background",{light:te.editorWidgetBackground,dark:te.editorWidgetBackground,hc:te.editorWidgetBackground},Ee.localize(95,null)),te.editorHoverForeground=i("editorHoverWidget.foreground",{light:te.editorWidgetForeground,dark:te.editorWidgetForeground,hc:te.editorWidgetForeground},Ee.localize(96,null)),te.editorHoverBorder=i("editorHoverWidget.border",{light:te.editorWidgetBorder,dark:te.editorWidgetBorder,hc:te.editorWidgetBorder},Ee.localize(97,null)),te.editorHoverStatusBarBackground=i("editorHoverWidget.statusBarBackground",{dark:u(te.editorHoverBackground,.2),light:d(te.editorHoverBackground,.05),hc:te.editorWidgetBackground},Ee.localize(98,null)),te.editorActiveLinkForeground=i("editorLink.activeForeground",{dark:"#4E94CE",light:ve.Color.blue,hc:ve.Color.cyan},Ee.localize(99,null)),te.editorInlayHintForeground=i("editorInlayHint.foreground",{dark:f(te.badgeForeground,.8),light:f(te.badgeForeground,.8),hc:te.badgeForeground},Ee.localize(100,null)),te.editorInlayHintBackground=i("editorInlayHint.background",{dark:f(te.badgeBackground,.6),light:f(te.badgeBackground,.3),hc:te.badgeBackground},Ee.localize(101,null)),te.editorInlayHintTypeForeground=i("editorInlayHint.typeForeground",{dark:te.editorInlayHintForeground,light:te.editorInlayHintForeground,hc:te.editorInlayHintForeground},Ee.localize(102,null)),te.editorInlayHintTypeBackground=i("editorInlayHint.typeBackground",{dark:te.editorInlayHintBackground,light:te.editorInlayHintBackground,hc:te.editorInlayHintBackground},Ee.localize(103,null)),te.editorInlayHintParameterForeground=i("editorInlayHint.parameterForeground",{dark:te.editorInlayHintForeground,light:te.editorInlayHintForeground,hc:te.editorInlayHintForeground},Ee.localize(104,null)),te.editorInlayHintParameterBackground=i("editorInlayHint.parameterBackground",{dark:te.editorInlayHintBackground,light:te.editorInlayHintBackground,hc:te.editorInlayHintBackground},Ee.localize(105,null)),te.editorLightBulbForeground=i("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},Ee.localize(106,null)),te.editorLightBulbAutoFixForeground=i("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Ee.localize(107,null)),te.defaultInsertColor=new ve.Color(new ve.RGBA(155,185,85,.2)),te.defaultRemoveColor=new ve.Color(new ve.RGBA(255,0,0,.2)),te.diffInserted=i("diffEditor.insertedTextBackground",{dark:te.defaultInsertColor,light:te.defaultInsertColor,hc:null},Ee.localize(108,null),!0),te.diffRemoved=i("diffEditor.removedTextBackground",{dark:te.defaultRemoveColor,light:te.defaultRemoveColor,hc:null},Ee.localize(109,null),!0),te.diffInsertedOutline=i("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},Ee.localize(110,null)),te.diffRemovedOutline=i("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},Ee.localize(111,null)),te.diffBorder=i("diffEditor.border",{dark:null,light:null,hc:te.contrastBorder},Ee.localize(112,null)),te.diffDiagonalFill=i("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},Ee.localize(113,null)),te.listFocusBackground=i("list.focusBackground",{dark:null,light:null,hc:null},Ee.localize(114,null)),te.listFocusForeground=i("list.focusForeground",{dark:null,light:null,hc:null},Ee.localize(115,null)),te.listFocusOutline=i("list.focusOutline",{dark:te.focusBorder,light:te.focusBorder,hc:te.activeContrastBorder},Ee.localize(116,null)),te.listActiveSelectionBackground=i("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},Ee.localize(117,null)),te.listActiveSelectionForeground=i("list.activeSelectionForeground",{dark:ve.Color.white,light:ve.Color.white,hc:null},Ee.localize(118,null)),te.listActiveSelectionIconForeground=i("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},Ee.localize(119,null)),te.listInactiveSelectionBackground=i("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},Ee.localize(120,null)),te.listInactiveSelectionForeground=i("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},Ee.localize(121,null)),te.listInactiveSelectionIconForeground=i("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},Ee.localize(122,null)),te.listInactiveFocusBackground=i("list.inactiveFocusBackground",{dark:null,light:null,hc:null},Ee.localize(123,null)),te.listInactiveFocusOutline=i("list.inactiveFocusOutline",{dark:null,light:null,hc:null},Ee.localize(124,null)),te.listHoverBackground=i("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},Ee.localize(125,null)),te.listHoverForeground=i("list.hoverForeground",{dark:null,light:null,hc:null},Ee.localize(126,null)),te.listDropBackground=i("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},Ee.localize(127,null)),te.listHighlightForeground=i("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:te.focusBorder},Ee.localize(128,null)),te.listFocusHighlightForeground=i("list.focusHighlightForeground",{dark:te.listHighlightForeground,light:v(te.listActiveSelectionBackground,te.listHighlightForeground,"#9DDDFF"),hc:te.listHighlightForeground},Ee.localize(129,null)),te.listInvalidItemForeground=i("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},Ee.localize(130,null)),te.listErrorForeground=i("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},Ee.localize(131,null)),te.listWarningForeground=i("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},Ee.localize(132,null)),te.listFilterWidgetBackground=i("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:ve.Color.black},Ee.localize(133,null)),te.listFilterWidgetOutline=i("listFilterWidget.outline",{dark:ve.Color.transparent,light:ve.Color.transparent,hc:"#f38518"},Ee.localize(134,null)),te.listFilterWidgetNoMatchesOutline=i("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:te.contrastBorder},Ee.localize(135,null)),te.listFilterMatchHighlight=i("list.filterMatchBackground",{dark:te.editorFindMatchHighlight,light:te.editorFindMatchHighlight,hc:null},Ee.localize(136,null)),te.listFilterMatchHighlightBorder=i("list.filterMatchBorder",{dark:te.editorFindMatchHighlightBorder,light:te.editorFindMatchHighlightBorder,hc:te.contrastBorder},Ee.localize(137,null)),te.treeIndentGuidesStroke=i("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},Ee.localize(138,null)),te.tableColumnsBorder=i("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},Ee.localize(139,null)),te.tableOddRowsBackgroundColor=i("tree.tableOddRowsBackground",{dark:f(te.foreground,.04),light:f(te.foreground,.04),hc:null},Ee.localize(140,null)),te.listDeemphasizedForeground=i("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},Ee.localize(141,null)),te._deprecatedQuickInputListFocusBackground=i("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,Ee.localize(142,null)),te.quickInputListFocusForeground=i("quickInputList.focusForeground",{dark:te.listActiveSelectionForeground,light:te.listActiveSelectionForeground,hc:te.listActiveSelectionForeground},Ee.localize(143,null)),te.quickInputListFocusIconForeground=i("quickInputList.focusIconForeground",{dark:te.listActiveSelectionIconForeground,light:te.listActiveSelectionIconForeground,hc:te.listActiveSelectionIconForeground},Ee.localize(144,null)),te.quickInputListFocusBackground=i("quickInputList.focusBackground",{dark:S(te._deprecatedQuickInputListFocusBackground,te.listActiveSelectionBackground),light:S(te._deprecatedQuickInputListFocusBackground,te.listActiveSelectionBackground),hc:null},Ee.localize(145,null)),te.menuBorder=i("menu.border",{dark:null,light:null,hc:te.contrastBorder},Ee.localize(146,null)),te.menuForeground=i("menu.foreground",{dark:te.selectForeground,light:te.foreground,hc:te.selectForeground},Ee.localize(147,null)),te.menuBackground=i("menu.background",{dark:te.selectBackground,light:te.selectBackground,hc:te.selectBackground},Ee.localize(148,null)),te.menuSelectionForeground=i("menu.selectionForeground",{dark:te.listActiveSelectionForeground,light:te.listActiveSelectionForeground,hc:te.listActiveSelectionForeground},Ee.localize(149,null)),te.menuSelectionBackground=i("menu.selectionBackground",{dark:te.listActiveSelectionBackground,light:te.listActiveSelectionBackground,hc:te.listActiveSelectionBackground},Ee.localize(150,null)),te.menuSelectionBorder=i("menu.selectionBorder",{dark:null,light:null,hc:te.activeContrastBorder},Ee.localize(151,null)),te.menuSeparatorBackground=i("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:te.contrastBorder},Ee.localize(152,null)),te.toolbarHoverBackground=i("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},Ee.localize(153,null)),te.toolbarHoverOutline=i("toolbar.hoverOutline",{dark:null,light:null,hc:te.activeContrastBorder},Ee.localize(154,null)),te.toolbarActiveBackground=i("toolbar.activeBackground",{dark:u(te.toolbarHoverBackground,.1),light:d(te.toolbarHoverBackground,.1),hc:null},Ee.localize(155,null)),te.snippetTabstopHighlightBackground=i("editor.snippetTabstopHighlightBackground",{dark:new ve.Color(new ve.RGBA(124,124,124,.3)),light:new ve.Color(new ve.RGBA(10,50,100,.2)),hc:new ve.Color(new ve.RGBA(124,124,124,.3))},Ee.localize(156,null)),te.snippetTabstopHighlightBorder=i("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},Ee.localize(157,null)),te.snippetFinalTabstopHighlightBackground=i("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},Ee.localize(158,null)),te.snippetFinalTabstopHighlightBorder=i("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new ve.Color(new ve.RGBA(10,50,100,.5)),hc:"#525252"},Ee.localize(159,null)),te.breadcrumbsForeground=i("breadcrumb.foreground",{light:f(te.foreground,.8),dark:f(te.foreground,.8),hc:f(te.foreground,.8)},Ee.localize(160,null)),te.breadcrumbsBackground=i("breadcrumb.background",{light:te.editorBackground,dark:te.editorBackground,hc:te.editorBackground},Ee.localize(161,null)),te.breadcrumbsFocusForeground=i("breadcrumb.focusForeground",{light:d(te.foreground,.2),dark:u(te.foreground,.1),hc:u(te.foreground,.1)},Ee.localize(162,null)),te.breadcrumbsActiveSelectionForeground=i("breadcrumb.activeSelectionForeground",{light:d(te.foreground,.2),dark:u(te.foreground,.1),hc:u(te.foreground,.1)},Ee.localize(163,null)),te.breadcrumbsPickerBackground=i("breadcrumbPicker.background",{light:te.editorWidgetBackground,dark:te.editorWidgetBackground,hc:te.editorWidgetBackground},Ee.localize(164,null));const Ke=ve.Color.fromHex("#40C8AE").transparent(.5),je=ve.Color.fromHex("#40A6FF").transparent(.5),Ze=ve.Color.fromHex("#606060").transparent(.4),Ye=.4;function a(j,te){var he,Ce,Ee;switch(j.op){case 0:return null===(he=_(j.value,te))||void 0===he?void 0:he.darken(j.factor);case 1:return null===(Ce=_(j.value,te))||void 0===Ce?void 0:Ce.lighten(j.factor);case 2:return null===(Ee=_(j.value,te))||void 0===Ee?void 0:Ee.transparent(j.factor);case 3:for(const he of j.values){const j=_(he,te);if(j)return j}return;case 5:return _(te.defines(j.if)?j.then:j.else,te);case 4:{const he=_(j.value,te);if(!he)return;const Ce=_(j.background,te);return Ce?he.isDarkerThan(Ce)?ve.Color.getLighterColor(he,Ce,j.factor).transparent(j.transparency):ve.Color.getDarkerColor(he,Ce,j.factor).transparent(j.transparency):he.transparent(j.factor*j.transparency)}default:throw(0,ye.assertNever)(j)}}function d(j,te){return{op:0,value:j,factor:te}}function u(j,te){return{op:1,value:j,factor:te}}function f(j,te){return{op:2,value:j,factor:te}}function S(...j){return{op:3,values:j}}function v(j,te,he){return{op:5,if:j,then:te,else:he}}function C(j,te,he,ve){return{op:4,value:j,background:te,factor:he,transparency:ve}}function _(j,te){if(null!==j){if("string"==typeof j)return"#"===j[0]?ve.Color.fromHex(j):te.getColor(j);if(j instanceof ve.Color)return j;if("object"==typeof j)return a(j,te)}}te.mergeCurrentHeaderBackground=i("merge.currentHeaderBackground",{dark:Ke,light:Ke,hc:null},Ee.localize(165,null),!0),te.mergeCurrentContentBackground=i("merge.currentContentBackground",{dark:f(te.mergeCurrentHeaderBackground,Ye),light:f(te.mergeCurrentHeaderBackground,Ye),hc:f(te.mergeCurrentHeaderBackground,Ye)},Ee.localize(166,null),!0),te.mergeIncomingHeaderBackground=i("merge.incomingHeaderBackground",{dark:je,light:je,hc:null},Ee.localize(167,null),!0),te.mergeIncomingContentBackground=i("merge.incomingContentBackground",{dark:f(te.mergeIncomingHeaderBackground,Ye),light:f(te.mergeIncomingHeaderBackground,Ye),hc:f(te.mergeIncomingHeaderBackground,Ye)},Ee.localize(168,null),!0),te.mergeCommonHeaderBackground=i("merge.commonHeaderBackground",{dark:Ze,light:Ze,hc:null},Ee.localize(169,null),!0),te.mergeCommonContentBackground=i("merge.commonContentBackground",{dark:f(te.mergeCommonHeaderBackground,Ye),light:f(te.mergeCommonHeaderBackground,Ye),hc:f(te.mergeCommonHeaderBackground,Ye)},Ee.localize(170,null),!0),te.mergeBorder=i("merge.border",{dark:null,light:null,hc:"#C3DF6F"},Ee.localize(171,null)),te.overviewRulerCurrentContentForeground=i("editorOverviewRuler.currentContentForeground",{dark:f(te.mergeCurrentHeaderBackground,1),light:f(te.mergeCurrentHeaderBackground,1),hc:te.mergeBorder},Ee.localize(172,null)),te.overviewRulerIncomingContentForeground=i("editorOverviewRuler.incomingContentForeground",{dark:f(te.mergeIncomingHeaderBackground,1),light:f(te.mergeIncomingHeaderBackground,1),hc:te.mergeBorder},Ee.localize(173,null)),te.overviewRulerCommonContentForeground=i("editorOverviewRuler.commonContentForeground",{dark:f(te.mergeCommonHeaderBackground,1),light:f(te.mergeCommonHeaderBackground,1),hc:te.mergeBorder},Ee.localize(174,null)),te.overviewRulerFindMatchForeground=i("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},Ee.localize(175,null),!0),te.overviewRulerSelectionHighlightForeground=i("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},Ee.localize(176,null),!0),te.minimapFindMatch=i("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},Ee.localize(177,null),!0),te.minimapSelectionOccurrenceHighlight=i("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},Ee.localize(178,null),!0),te.minimapSelection=i("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},Ee.localize(179,null),!0),te.minimapError=i("minimap.errorHighlight",{dark:new ve.Color(new ve.RGBA(255,18,18,.7)),light:new ve.Color(new ve.RGBA(255,18,18,.7)),hc:new ve.Color(new ve.RGBA(255,50,50,1))},Ee.localize(180,null)),te.minimapWarning=i("minimap.warningHighlight",{dark:te.editorWarningForeground,light:te.editorWarningForeground,hc:te.editorWarningBorder},Ee.localize(181,null)),te.minimapBackground=i("minimap.background",{dark:null,light:null,hc:null},Ee.localize(182,null)),te.minimapForegroundOpacity=i("minimap.foregroundOpacity",{dark:ve.Color.fromHex("#000f"),light:ve.Color.fromHex("#000f"),hc:ve.Color.fromHex("#000f")},Ee.localize(183,null)),te.minimapSliderBackground=i("minimapSlider.background",{light:f(te.scrollbarSliderBackground,.5),dark:f(te.scrollbarSliderBackground,.5),hc:f(te.scrollbarSliderBackground,.5)},Ee.localize(184,null)),te.minimapSliderHoverBackground=i("minimapSlider.hoverBackground",{light:f(te.scrollbarSliderHoverBackground,.5),dark:f(te.scrollbarSliderHoverBackground,.5),hc:f(te.scrollbarSliderHoverBackground,.5)},Ee.localize(185,null)),te.minimapSliderActiveBackground=i("minimapSlider.activeBackground",{light:f(te.scrollbarSliderActiveBackground,.5),dark:f(te.scrollbarSliderActiveBackground,.5),hc:f(te.scrollbarSliderActiveBackground,.5)},Ee.localize(186,null)),te.problemsErrorIconForeground=i("problemsErrorIcon.foreground",{dark:te.editorErrorForeground,light:te.editorErrorForeground,hc:te.editorErrorForeground},Ee.localize(187,null)),te.problemsWarningIconForeground=i("problemsWarningIcon.foreground",{dark:te.editorWarningForeground,light:te.editorWarningForeground,hc:te.editorWarningForeground},Ee.localize(188,null)),te.problemsInfoIconForeground=i("problemsInfoIcon.foreground",{dark:te.editorInfoForeground,light:te.editorInfoForeground,hc:te.editorInfoForeground},Ee.localize(189,null)),te.chartsForeground=i("charts.foreground",{dark:te.foreground,light:te.foreground,hc:te.foreground},Ee.localize(190,null)),te.chartsLines=i("charts.lines",{dark:f(te.foreground,.5),light:f(te.foreground,.5),hc:f(te.foreground,.5)},Ee.localize(191,null)),te.chartsRed=i("charts.red",{dark:te.editorErrorForeground,light:te.editorErrorForeground,hc:te.editorErrorForeground},Ee.localize(192,null)),te.chartsBlue=i("charts.blue",{dark:te.editorInfoForeground,light:te.editorInfoForeground,hc:te.editorInfoForeground},Ee.localize(193,null)),te.chartsYellow=i("charts.yellow",{dark:te.editorWarningForeground,light:te.editorWarningForeground,hc:te.editorWarningForeground},Ee.localize(194,null)),te.chartsOrange=i("charts.orange",{dark:te.minimapFindMatch,light:te.minimapFindMatch,hc:te.minimapFindMatch},Ee.localize(195,null)),te.chartsGreen=i("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},Ee.localize(196,null)),te.chartsPurple=i("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Ee.localize(197,null)),te.executeTransform=a,te.darken=d,te.lighten=u,te.transparent=f,te.oneOf=S,te.ifDefinedThenElse=v,te.resolveColorValue=_,te.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let et=Ne.Registry.as(Ie.Extensions.JSONContribution);et.registerSchema(te.workbenchColorsSchemaId,Oe.getColorSchema());const nt=new he.RunOnceScheduler((()=>et.notifySchemaChanged(te.workbenchColorsSchemaId)),200);Oe.onDidChangeSchema((()=>{nt.isScheduled()||nt.schedule()}))})),define(Ce[130],ie([1,0,7,96,56,10,2,23]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.DynamicCssRules=te.GlobalEditorMouseMoveMonitor=te.EditorPointerEventFactory=te.EditorMouseEventFactory=te.EditorMouseEvent=te.createCoordinatesRelativeToEditor=te.createEditorPagePosition=te.CoordinatesRelativeToEditor=te.EditorPagePosition=te.ClientCoordinates=te.PageCoordinates=void 0;class p{constructor(j,te){this.x=j,this.y=te,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new h(this.x-he.StandardWindow.scrollX,this.y-he.StandardWindow.scrollY)}}te.PageCoordinates=p;class h{constructor(j,te){this.clientX=j,this.clientY=te,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new p(this.clientX+he.StandardWindow.scrollX,this.clientY+he.StandardWindow.scrollY)}}te.ClientCoordinates=h;class g{constructor(j,te,he,ve){this.x=j,this.y=te,this.width=he,this.height=ve,this._editorPagePositionBrand=void 0}}te.EditorPagePosition=g;class t{constructor(j,te){this.x=j,this.y=te,this._positionRelativeToEditorBrand=void 0}}function i(j){const te=he.getDomNodePagePosition(j);return new g(te.left,te.top,te.width,te.height)}function n(j,te,he){const ve=te.width/j.offsetWidth,Ce=te.height/j.offsetHeight,ye=(he.x-te.x)/ve,Ee=(he.y-te.y)/Ce;return new t(ye,Ee)}te.CoordinatesRelativeToEditor=t,te.createEditorPagePosition=i,te.createCoordinatesRelativeToEditor=n;class l extends Ce.StandardMouseEvent{constructor(j,te){super(j),this._editorMouseEventBrand=void 0,this.pos=new p(this.posx,this.posy),this.editorPos=i(te),this.relativePos=n(te,this.editorPos,this.pos)}}te.EditorMouseEvent=l;te.EditorMouseEventFactory=class c{constructor(j){this._editorViewDomNode=j}_create(j){return new l(j,this._editorViewDomNode)}onContextMenu(j,te){return he.addDisposableListener(j,"contextmenu",(j=>{te(this._create(j))}))}onMouseUp(j,te){return he.addDisposableListener(j,"mouseup",(j=>{te(this._create(j))}))}onMouseDown(j,te){return he.addDisposableListener(j,"mousedown",(j=>{te(this._create(j))}))}onMouseLeave(j,te){return he.addDisposableNonBubblingMouseOutListener(j,(j=>{te(this._create(j))}))}onMouseMoveThrottled(j,te,ve,Ce){return he.addDisposableThrottledListener(j,"mousemove",te,((j,te)=>ve(j,this._create(te))),Ce)}};te.EditorPointerEventFactory=class r{constructor(j){this._editorViewDomNode=j}_create(j){return new l(j,this._editorViewDomNode)}onPointerUp(j,te){return he.addDisposableListener(j,"pointerup",(j=>{te(this._create(j))}))}onPointerDown(j,te){return he.addDisposableListener(j,"pointerdown",(j=>{te(this._create(j))}))}onPointerLeave(j,te){return he.addDisposableNonBubblingPointerOutListener(j,(j=>{te(this._create(j))}))}onPointerMoveThrottled(j,te,ve,Ce){return he.addDisposableThrottledListener(j,"pointermove",te,((j,te)=>ve(j,this._create(te))),Ce)}};class s extends Ee.Disposable{constructor(j){super(),this._editorViewDomNode=j,this._globalMouseMoveMonitor=this._register(new ve.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(j,te,ve,Ce,ye){this._keydownListener=he.addStandardDisposableListener(document,"keydown",(j=>{j.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,j.browserEvent)}),!0);this._globalMouseMoveMonitor.startMonitoring(j,te,((j,te)=>ve(j,new l(te,this._editorViewDomNode))),Ce,(j=>{this._keydownListener.dispose(),ye(j)}))}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}te.GlobalEditorMouseMoveMonitor=s;class o{constructor(j){this._editor=j,this._instanceId=++o._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new ye.RunOnceScheduler((()=>this.garbageCollect()),1e3)}createClassNameRef(j){const te=this.getOrCreateRule(j);return te.increaseRefCount(),{className:te.className,dispose:()=>{te.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(j){const te=this.computeUniqueKey(j);let ve=this._rules.get(te);if(!ve){const Ce=this._counter++;ve=new a(te,`dyn-rule-${this._instanceId}-${Ce}`,he.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,j),this._rules.set(te,ve)}return ve}computeUniqueKey(j){return JSON.stringify(j)}garbageCollect(){for(const j of this._rules.values())j.hasReferences()||(this._rules.delete(j.key),j.dispose())}}te.DynamicCssRules=o,o._idPool=0;class a{constructor(j,te,ve,Ce){this.key=j,this.className=te,this.properties=Ce,this._referenceCount=0,this._styleElement=he.createStyleSheet(ve),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(j,te){let he=`.${j} {`;for(const j in te){const Ce=te[j];let ye;ye="object"==typeof Ce?`var(${(0,Ie.asCssVariableName)(Ce.id)})`:Ce,he+=`\n\t${ve=j,ve.replace(/(^[A-Z])/,(([j])=>j.toLowerCase())).replace(/([A-Z])/g,(([j])=>`-${j.toLowerCase()}`))}: ${ye};`}var ve;return he+="\n}",he}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}})),define(Ce[131],ie([1,0,23]),(function(j,te,he){function m(j,te){const ve=Object.create(null);for(let Ce in te){const ye=te[Ce];ye&&(ve[Ce]=(0,he.resolveColorValue)(ye,j))}return ve}function D(j,te,he){function t(){const ve=m(j.getColorTheme(),te);"function"==typeof he?he(ve):he.style(ve)}return t(),j.onDidColorThemeChange(t)}Object.defineProperty(te,"__esModule",{value:!0}),te.attachMenuStyler=te.defaultMenuStyles=te.defaultListStyles=te.attachListStyler=te.attachBadgeStyler=te.attachStyler=te.computeStyles=void 0,te.computeStyles=m,te.attachStyler=D,te.attachBadgeStyler=function I(j,te,ve){return D(te,{badgeBackground:(null==ve?void 0:ve.badgeBackground)||he.badgeBackground,badgeForeground:(null==ve?void 0:ve.badgeForeground)||he.badgeForeground,badgeBorder:he.contrastBorder},j)},te.attachListStyler=function w(j,he,ve){return D(he,Object.assign(Object.assign({},te.defaultListStyles),ve||{}),j)},te.defaultListStyles={listFocusBackground:he.listFocusBackground,listFocusForeground:he.listFocusForeground,listFocusOutline:he.listFocusOutline,listActiveSelectionBackground:he.listActiveSelectionBackground,listActiveSelectionForeground:he.listActiveSelectionForeground,listActiveSelectionIconForeground:he.listActiveSelectionIconForeground,listFocusAndSelectionBackground:he.listActiveSelectionBackground,listFocusAndSelectionForeground:he.listActiveSelectionForeground,listInactiveSelectionBackground:he.listInactiveSelectionBackground,listInactiveSelectionIconForeground:he.listInactiveSelectionIconForeground,listInactiveSelectionForeground:he.listInactiveSelectionForeground,listInactiveFocusBackground:he.listInactiveFocusBackground,listInactiveFocusOutline:he.listInactiveFocusOutline,listHoverBackground:he.listHoverBackground,listHoverForeground:he.listHoverForeground,listDropBackground:he.listDropBackground,listSelectionOutline:he.activeContrastBorder,listHoverOutline:he.activeContrastBorder,listFilterWidgetBackground:he.listFilterWidgetBackground,listFilterWidgetOutline:he.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:he.listFilterWidgetNoMatchesOutline,listMatchesShadow:he.widgetShadow,treeIndentGuidesStroke:he.treeIndentGuidesStroke,tableColumnsBorder:he.tableColumnsBorder,tableOddRowsBackgroundColor:he.tableOddRowsBackgroundColor},te.defaultMenuStyles={shadowColor:he.widgetShadow,borderColor:he.menuBorder,foregroundColor:he.menuForeground,backgroundColor:he.menuBackground,selectionForegroundColor:he.menuSelectionForeground,selectionBackgroundColor:he.menuSelectionBackground,selectionBorderColor:he.menuSelectionBorder,separatorColor:he.menuSeparatorBackground,scrollbarShadow:he.scrollbarShadow,scrollbarSliderBackground:he.scrollbarSliderBackground,scrollbarSliderHoverBackground:he.scrollbarSliderHoverBackground,scrollbarSliderActiveBackground:he.scrollbarSliderActiveBackground},te.attachMenuStyler=function b(j,he,ve){return D(he,Object.assign(Object.assign({},te.defaultMenuStyles),ve),j)}})),define(Ce[634],ie([1,0,7,56,487,44,13,2,131,396]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.ContextMenuHandler=void 0;te.ContextMenuHandler=class h{constructor(j,te,he,ve,Ce){this.contextViewService=j,this.telemetryService=te,this.notificationService=he,this.keybindingService=ve,this.themeService=Ce,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(j){this.options=j}showContextMenu(j){const te=j.getActions();if(!te.length)return;this.focusToReturn=document.activeElement;let Ee,Oe=(0,he.isHTMLElement)(j.domForShadowRoot)?j.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>j.getAnchor(),canRelayout:!1,anchorAlignment:j.anchorAlignment,anchorAxisAlignment:j.anchorAxisAlignment,render:Oe=>{let Ke=j.getMenuClassName?j.getMenuClassName():"";Ke&&(Oe.className+=" "+Ke),this.options.blockMouse&&(this.block=Oe.appendChild((0,he.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,he.addDisposableListener)(this.block,he.EventType.MOUSE_DOWN,(j=>j.stopPropagation())));const je=new Ie.DisposableStore,Ze=j.actionRunner||new ye.ActionRunner;return Ze.onBeforeRun(this.onActionRun,this,je),Ze.onDidRun(this.onDidActionRun,this,je),Ee=new Ce.Menu(Oe,te,{actionViewItemProvider:j.getActionViewItem,context:j.getActionsContext?j.getActionsContext():null,actionRunner:Ze,getKeyBinding:j.getKeyBinding?j.getKeyBinding:j=>this.keybindingService.lookupKeybinding(j.id)}),je.add((0,Ne.attachMenuStyler)(Ee,this.themeService)),Ee.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,je),Ee.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,je),je.add((0,he.addDisposableListener)(window,he.EventType.BLUR,(()=>this.contextViewService.hideContextView(!0)))),je.add((0,he.addDisposableListener)(window,he.EventType.MOUSE_DOWN,(j=>{if(j.defaultPrevented)return;let te=new ve.StandardMouseEvent(j),he=te.target;if(!te.rightButton){for(;he;){if(he===Oe)return;he=he.parentElement}this.contextViewService.hideContextView(!0)}}))),(0,Ie.combinedDisposable)(je,Ee)},focus:()=>{Ee&&Ee.focus(!!j.autoSelectFirstItem)},onHide:te=>{j.onHide&&j.onHide(!!te),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},Oe,!!Oe)}onActionRun(j){this.telemetryService.publicLog2("workbenchActionExecuted",{id:j.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(j){j.error&&!(0,Ee.isCancellationError)(j.error)&&this.notificationService.error(j.error)}}})),define(Ce[132],ie([1,0]),(function(j,te){var he;Object.defineProperty(te,"__esModule",{value:!0}),te.ColorScheme=void 0,(he=te.ColorScheme||(te.ColorScheme={})).DARK="dark",he.LIGHT="light",he.HIGH_CONTRAST="hc"})),define(Ce[278],ie([1,0,34,30,17,398,116,151,122,132,31]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewLine=te.ViewLineOptions=te.DomReadingContext=void 0;const je=!!Ce.isNative||!(Ce.isLinux||he.isFirefox||he.isSafari);let Ze=!0;te.DomReadingContext=class n{constructor(j,te){this._domNode=j,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=te}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const j=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=j.left,this._clientRectScale=j.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}};te.ViewLineOptions=class l{constructor(j,te){this.themeType=te;const he=j.options,ve=he.get(44);this.renderWhitespace=he.get(88),this.renderControlCharacters=he.get(83),this.spaceWidth=ve.spaceWidth,this.middotWidth=ve.middotWidth,this.wsmiddotWidth=ve.wsmiddotWidth,this.useMonospaceOptimizations=ve.isMonospace&&!he.get(29),this.canUseHalfwidthRightwardsArrow=ve.canUseHalfwidthRightwardsArrow,this.lineHeight=he.get(59),this.stopRenderingLineAfter=he.get(105),this.fontLigatures=he.get(45)}equals(j){return this.themeType===j.themeType&&this.renderWhitespace===j.renderWhitespace&&this.renderControlCharacters===j.renderControlCharacters&&this.spaceWidth===j.spaceWidth&&this.middotWidth===j.middotWidth&&this.wsmiddotWidth===j.wsmiddotWidth&&this.useMonospaceOptimizations===j.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===j.canUseHalfwidthRightwardsArrow&&this.lineHeight===j.lineHeight&&this.stopRenderingLineAfter===j.stopRenderingLineAfter&&this.fontLigatures===j.fontLigatures}};class c{constructor(j){this._options=j,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(j){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,ve.createFastDomNode)(j)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(j){this._isMaybeInvalid=!0,this._options=j}onSelectionChanged(){return(this._options.themeType===Oe.ColorScheme.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(j,te,he,ve){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const Ce=he.getViewLineRenderingData(j),ye=this._options,Ee=Ie.LineDecoration.filter(Ce.inlineDecorations,j,Ce.minColumn,Ce.maxColumn);let et=null;if(ye.themeType===Oe.ColorScheme.HIGH_CONTRAST||"selection"===this._options.renderWhitespace){const te=he.selections;for(const he of te){if(he.endLineNumber<j||he.startLineNumber>j)continue;const te=he.startLineNumber===j?he.startColumn:Ce.minColumn,ve=he.endLineNumber===j?he.endColumn:Ce.maxColumn;te<ve&&(ye.themeType===Oe.ColorScheme.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?Ee.push(new Ie.LineDecoration(te,ve,"inline-selected-text",0)):(et||(et=[]),et.push(new Ne.LineRange(te-1,ve-1))))}}const nt=new Ne.RenderLineInput(ye.useMonospaceOptimizations,ye.canUseHalfwidthRightwardsArrow,Ce.content,Ce.continuesWithWrappedLine,Ce.isBasicASCII,Ce.containsRTL,Ce.minColumn-1,Ce.tokens,Ee,Ce.tabSize,Ce.startVisibleColumn,ye.spaceWidth,ye.middotWidth,ye.wsmiddotWidth,ye.stopRenderingLineAfter,ye.renderWhitespace,ye.renderControlCharacters,ye.fontLigatures!==Ke.EditorFontLigatures.OFF,et);if(this._renderedViewLine&&this._renderedViewLine.input.equals(nt))return!1;ve.appendASCIIString('<div style="top:'),ve.appendASCIIString(String(te)),ve.appendASCIIString("px;height:"),ve.appendASCIIString(String(this._options.lineHeight)),ve.appendASCIIString('px;" class="'),ve.appendASCIIString(c.CLASS_NAME),ve.appendASCIIString('">');const rt=(0,Ne.renderViewLine)(nt,ve);ve.appendASCIIString("</div>");let at=null;return Ze&&je&&Ce.isBasicASCII&&ye.useMonospaceOptimizations&&0===rt.containsForeignElements&&Ce.content.length<300&&nt.lineTokens.getCount()<100&&(at=new r(this._renderedViewLine?this._renderedViewLine.domNode:null,nt,rt.characterMapping)),at||(at=Ye(this._renderedViewLine?this._renderedViewLine.domNode:null,nt,rt.characterMapping,rt.containsRTL,rt.containsForeignElements)),this._renderedViewLine=at,!0}layoutLine(j,te){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(te),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof r}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof r?this._renderedViewLine.monospaceAssumptionsAreValid():Ze}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof r&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(j,te,he,ve){if(!this._renderedViewLine)return null;te=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,te)),he=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,he));const Ce=this._renderedViewLine.input.stopRenderingLineAfter;let ye=!1;-1!==Ce&&te>Ce+1&&he>Ce+1&&(ye=!0),-1!==Ce&&te>Ce+1&&(te=Ce+1),-1!==Ce&&he>Ce+1&&(he=Ce+1);const Ie=this._renderedViewLine.getVisibleRangesForRange(j,te,he,ve);return Ie&&Ie.length>0?new Ee.VisibleRanges(ye,Ie):null}getColumnOfNodeOffset(j,te,he){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(j,te,he):1}}te.ViewLine=c,c.CLASS_NAME="view-line";class r{constructor(j,te,he){this.domNode=j,this.input=te,this._characterMapping=he,this._charWidth=te.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Ze;const j=this.getWidth(),te=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(j-te)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Ze=!1),Ze}toSlowRenderedLine(){return Ye(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(j,te,he,ve){const Ce=this._getCharPosition(te),ye=this._getCharPosition(he);return[new Ee.FloatHorizontalRange(Ce,ye-Ce)]}_getCharPosition(j){const te=this._characterMapping.getAbsoluteOffset(j);return this._charWidth*te}getColumnOfNodeOffset(j,te,he){const ve=te.textContent.length;let Ce=-1;for(;te;)te=te.previousSibling,Ce++;return this._characterMapping.getColumn(new Ne.DomPosition(Ce,he),ve)}}class s{constructor(j,te,he,ve,Ce){if(this.domNode=j,this.input=te,this._characterMapping=he,this._isWhitespaceOnly=/^\s*$/.test(te.lineContent),this._containsForeignElements=Ce,this._cachedWidth=-1,this._pixelOffsetCache=null,!ve||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let j=0,te=this._characterMapping.length;j<=te;j++)this._pixelOffsetCache[j]=-1}}_getReadingTarget(j){return j.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(j,te,he,ve){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const Ce=this._readPixelOffset(this.domNode,j,te,ve);if(-1===Ce)return null;const ye=this._readPixelOffset(this.domNode,j,he,ve);return-1===ye?null:[new Ee.FloatHorizontalRange(Ce,ye-Ce)]}return this._readVisibleRangesForRange(this.domNode,j,te,he,ve)}_readVisibleRangesForRange(j,te,he,ve,Ce){if(he===ve){const ve=this._readPixelOffset(j,te,he,Ce);return-1===ve?null:[new Ee.FloatHorizontalRange(ve,0)]}return this._readRawVisibleRangesForRange(j,he,ve,Ce)}_readPixelOffset(j,te,he,ve){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const te=this._getReadingTarget(j);return te.firstChild?te.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const Ce=this._pixelOffsetCache[he];if(-1!==Ce)return Ce;const ye=this._actualReadPixelOffset(j,te,he,ve);return this._pixelOffsetCache[he]=ye,ye}return this._actualReadPixelOffset(j,te,he,ve)}_actualReadPixelOffset(j,te,he,ve){if(0===this._characterMapping.length){const te=ye.RangeUtil.readHorizontalRanges(this._getReadingTarget(j),0,0,0,0,ve.clientRectDeltaLeft,ve.clientRectScale,ve.endNode);return te&&0!==te.length?te[0].left:-1}if(he===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const Ce=this._characterMapping.getDomPosition(he),Ee=ye.RangeUtil.readHorizontalRanges(this._getReadingTarget(j),Ce.partIndex,Ce.charIndex,Ce.partIndex,Ce.charIndex,ve.clientRectDeltaLeft,ve.clientRectScale,ve.endNode);if(!Ee||0===Ee.length)return-1;const Ie=Ee[0].left;if(this.input.isBasicASCII){const j=this._characterMapping.getAbsoluteOffset(he),te=Math.round(this.input.spaceWidth*j);if(Math.abs(te-Ie)<=1)return te}return Ie}_readRawVisibleRangesForRange(j,te,he,ve){if(1===te&&he===this._characterMapping.length)return[new Ee.FloatHorizontalRange(0,this.getWidth())];const Ce=this._characterMapping.getDomPosition(te),Ie=this._characterMapping.getDomPosition(he);return ye.RangeUtil.readHorizontalRanges(this._getReadingTarget(j),Ce.partIndex,Ce.charIndex,Ie.partIndex,Ie.charIndex,ve.clientRectDeltaLeft,ve.clientRectScale,ve.endNode)}getColumnOfNodeOffset(j,te,he){const ve=te.textContent.length;let Ce=-1;for(;te;)te=te.previousSibling,Ce++;return this._characterMapping.getColumn(new Ne.DomPosition(Ce,he),ve)}}class o extends s{_readVisibleRangesForRange(j,te,he,ve,Ce){const ye=super._readVisibleRangesForRange(j,te,he,ve,Ce);if(!ye||0===ye.length||he===ve||1===he&&ve===this._characterMapping.length)return ye;if(!this.input.containsRTL){const he=this._readPixelOffset(j,te,ve,Ce);if(-1!==he){const j=ye[ye.length-1];j.left<he&&(j.width=he-j.left)}}return ye}}const Ye=he.isWebKit?d:u;function d(j,te,he,ve,Ce){return new o(j,te,he,ve,Ce)}function u(j,te,he,ve,Ce){return new s(j,te,he,ve,Ce)}})),define(Ce[279],ie([1,0,130,50,278,11,3,68,7,238]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.shadowCaretRangeFromPoint=te.MouseTargetFactory=te.HitTestContext=te.MouseTarget=te.PointerHandlerLastRenderData=void 0;class g{constructor(j=null){this.hitTarget=j,this.type=0}}class t{constructor(j,te,he){this.position=j,this.spanNode=te,this.injectedText=he,this.type=1}}var Ke;(Ke||(Ke={})).createFromDOMInfo=function C(j,te,he){const ve=j.getPositionFromDOMInfo(te,he);return ve?new t(ve,te,null):new g(te)};te.PointerHandlerLastRenderData=class n{constructor(j,te){this.lastViewCursorsRenderData=j,this.lastTextareaPosition=te}};class l{static _deduceRage(j,te=null){return!te&&j?new Ee.Range(j.lineNumber,j.column,j.lineNumber,j.column):te??null}static createUnknown(j,te,he){return{type:0,element:j,mouseColumn:te,position:he,range:this._deduceRage(he)}}static createTextarea(j,te){return{type:1,element:j,mouseColumn:te,position:null,range:null}}static createMargin(j,te,he,ve,Ce,ye){return{type:j,element:te,mouseColumn:he,position:ve,range:Ce,detail:ye}}static createViewZone(j,te,he,ve,Ce){return{type:j,element:te,mouseColumn:he,position:ve,range:this._deduceRage(ve),detail:Ce}}static createContentText(j,te,he,ve,Ce){return{type:6,element:j,mouseColumn:te,position:he,range:this._deduceRage(he,ve),detail:Ce}}static createContentEmpty(j,te,he,ve){return{type:7,element:j,mouseColumn:te,position:he,range:this._deduceRage(he),detail:ve}}static createContentWidget(j,te,he){return{type:9,element:j,mouseColumn:te,position:null,range:null,detail:he}}static createScrollbar(j,te,he){return{type:11,element:j,mouseColumn:te,position:he,range:this._deduceRage(he)}}static createOverlayWidget(j,te,he){return{type:12,element:j,mouseColumn:te,position:null,range:null,detail:he}}static createOutsideEditor(j,te){return{type:13,element:null,mouseColumn:j,position:te,range:this._deduceRage(te)}}static _typeToString(j){return 1===j?"TEXTAREA":2===j?"GUTTER_GLYPH_MARGIN":3===j?"GUTTER_LINE_NUMBERS":4===j?"GUTTER_LINE_DECORATIONS":5===j?"GUTTER_VIEW_ZONE":6===j?"CONTENT_TEXT":7===j?"CONTENT_EMPTY":8===j?"CONTENT_VIEW_ZONE":9===j?"CONTENT_WIDGET":10===j?"OVERVIEW_RULER":11===j?"SCROLLBAR":12===j?"OVERLAY_WIDGET":"UNKNOWN"}static toString(j){return this._typeToString(j.type)+": "+j.position+" - "+j.range+" - "+JSON.stringify(j.detail)}}te.MouseTarget=l;class c{static isTextArea(j){return 2===j.length&&3===j[0]&&6===j[1]}static isChildOfViewLines(j){return j.length>=4&&3===j[0]&&7===j[3]}static isStrictChildOfViewLines(j){return j.length>4&&3===j[0]&&7===j[3]}static isChildOfScrollableElement(j){return j.length>=2&&3===j[0]&&5===j[1]}static isChildOfMinimap(j){return j.length>=2&&3===j[0]&&8===j[1]}static isChildOfContentWidgets(j){return j.length>=4&&3===j[0]&&1===j[3]}static isChildOfOverflowingContentWidgets(j){return j.length>=1&&2===j[0]}static isChildOfOverlayWidgets(j){return j.length>=2&&3===j[0]&&4===j[1]}}class r{constructor(j,te,he){this.model=j.model;const ve=j.configuration.options;this.layoutInfo=ve.get(131),this.viewDomNode=te.viewDomNode,this.lineHeight=ve.get(59),this.stickyTabStops=ve.get(104),this.typicalHalfwidthCharacterWidth=ve.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=he,this._context=j,this._viewHelper=te}getZoneAtCoord(j){return r.getZoneAtCoord(this._context,j)}static getZoneAtCoord(j,te){const he=j.viewLayout.getWhitespaceAtVerticalOffset(te);if(he){const ve=he.verticalOffset+he.height/2,Ce=j.model.getLineCount();let Ee,Ie=null,Ne=null;return he.afterLineNumber!==Ce&&(Ne=new ye.Position(he.afterLineNumber+1,1)),he.afterLineNumber>0&&(Ie=new ye.Position(he.afterLineNumber,j.model.getLineMaxColumn(he.afterLineNumber))),Ee=null===Ne?Ie:null===Ie?Ne:te<ve?Ie:Ne,{viewZoneId:he.id,afterLineNumber:he.afterLineNumber,positionBefore:Ie,positionAfter:Ne,position:Ee}}return null}getFullLineRangeAtCoord(j){if(this._context.viewLayout.isAfterLines(j)){const j=this._context.model.getLineCount(),te=this._context.model.getLineMaxColumn(j);return{range:new Ee.Range(j,te,j,te),isAfterLines:!0}}const te=this._context.viewLayout.getLineNumberAtVerticalOffset(j),he=this._context.model.getLineMaxColumn(te);return{range:new Ee.Range(te,1,te,he),isAfterLines:!1}}getLineNumberAtVerticalOffset(j){return this._context.viewLayout.getLineNumberAtVerticalOffset(j)}isAfterLines(j){return this._context.viewLayout.isAfterLines(j)}isInTopPadding(j){return this._context.viewLayout.isInTopPadding(j)}isInBottomPadding(j){return this._context.viewLayout.isInBottomPadding(j)}getVerticalOffsetForLineNumber(j){return this._context.viewLayout.getVerticalOffsetForLineNumber(j)}findAttribute(j,te){return r._findAttribute(j,te,this._viewHelper.viewDomNode)}static _findAttribute(j,te,he){for(;j&&j!==document.body;){if(j.hasAttribute&&j.hasAttribute(te))return j.getAttribute(te);if(j===he)return null;j=j.parentNode}return null}getLineWidth(j){return this._viewHelper.getLineWidth(j)}visibleRangeForPosition(j,te){return this._viewHelper.visibleRangeForPosition(j,te)}getPositionFromDOMInfo(j,te){return this._viewHelper.getPositionFromDOMInfo(j,te)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}te.HitTestContext=r;class s{constructor(j,te,he,ve){this.editorPos=te,this.pos=he,this.relativePos=ve,this.mouseVerticalOffset=Math.max(0,j.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=j.getCurrentScrollLeft()+this.relativePos.x-j.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<j.layoutInfo.contentLeft&&this.relativePos.x>=j.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,u._getMouseColumn(this.mouseContentHorizontalOffset,j.typicalHalfwidthCharacterWidth))}}class o extends s{constructor(j,te,he,Ce,ye){super(j,te,he,Ce),this._ctx=j,ye?(this.target=ye,this.targetPath=ve.PartFingerprints.collect(ye,j.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(j=null){return j&&j.column<this._ctx.model.getLineMaxColumn(j.lineNumber)?Ie.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(j.lineNumber),j.column,this._ctx.model.getTextModelOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(j=null){return l.createUnknown(this.target,this._getMouseColumn(j),j)}fulfillTextarea(){return l.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(j,te,he,ve){return l.createMargin(j,this.target,this._getMouseColumn(te),te,he,ve)}fulfillViewZone(j,te,he){return l.createViewZone(j,this.target,this._getMouseColumn(te),te,he)}fulfillContentText(j,te,he){return l.createContentText(this.target,this._getMouseColumn(j),j,te,he)}fulfillContentEmpty(j,te){return l.createContentEmpty(this.target,this._getMouseColumn(j),j,te)}fulfillContentWidget(j){return l.createContentWidget(this.target,this._getMouseColumn(),j)}fulfillScrollbar(j){return l.createScrollbar(this.target,this._getMouseColumn(j),j)}fulfillOverlayWidget(j){return l.createOverlayWidget(this.target,this._getMouseColumn(),j)}withTarget(j){return new o(this._ctx,this.editorPos,this.pos,this.relativePos,j)}}const je={isAfterLines:!0};function d(j){return{isAfterLines:!1,horizontalDistanceToText:j}}class u{constructor(j,te){this._context=j,this._viewHelper=te}mouseTargetIsWidget(j){const te=j.target,he=ve.PartFingerprints.collect(te,this._viewHelper.viewDomNode);return!!(c.isChildOfContentWidgets(he)||c.isChildOfOverflowingContentWidgets(he)||c.isChildOfOverlayWidgets(he))}createMouseTarget(j,te,he,ve,Ce){const ye=new r(this._context,this._viewHelper,j),Ee=new o(ye,te,he,ve,Ce);try{return u._createMouseTarget(ye,Ee,!1)}catch{return Ee.fulfillUnknown()}}static _createMouseTarget(j,te,he){if(null===te.target){if(he)return te.fulfillUnknown();const ve=u._doHitTest(j,te);return 1===ve.type?u.createMouseTargetFromHitTestPosition(j,te,ve.spanNode,ve.position,ve.injectedText):this._createMouseTarget(j,te.withTarget(ve.hitTarget),!0)}const ve=te;let Ce=null;return Ce=Ce||u._hitTestContentWidget(j,ve),Ce=Ce||u._hitTestOverlayWidget(j,ve),Ce=Ce||u._hitTestMinimap(j,ve),Ce=Ce||u._hitTestScrollbarSlider(j,ve),Ce=Ce||u._hitTestViewZone(j,ve),Ce=Ce||u._hitTestMargin(j,ve),Ce=Ce||u._hitTestViewCursor(j,ve),Ce=Ce||u._hitTestTextArea(j,ve),Ce=Ce||u._hitTestViewLines(j,ve,he),Ce=Ce||u._hitTestScrollbar(j,ve),Ce||te.fulfillUnknown()}static _hitTestContentWidget(j,te){if(c.isChildOfContentWidgets(te.targetPath)||c.isChildOfOverflowingContentWidgets(te.targetPath)){const he=j.findAttribute(te.target,"widgetId");return he?te.fulfillContentWidget(he):te.fulfillUnknown()}return null}static _hitTestOverlayWidget(j,te){if(c.isChildOfOverlayWidgets(te.targetPath)){const he=j.findAttribute(te.target,"widgetId");return he?te.fulfillOverlayWidget(he):te.fulfillUnknown()}return null}static _hitTestViewCursor(j,te){if(te.target){const he=j.lastRenderData.lastViewCursorsRenderData;for(const j of he)if(te.target===j.domNode)return te.fulfillContentText(j.position,null,{mightBeForeignElement:!1,injectedText:null})}if(te.isInContentArea){const he=j.lastRenderData.lastViewCursorsRenderData,ve=te.mouseContentHorizontalOffset,Ce=te.mouseVerticalOffset;for(const ye of he){if(ve<ye.contentLeft||ve>ye.contentLeft+ye.width)continue;const he=j.getVerticalOffsetForLineNumber(ye.position.lineNumber);if(he<=Ce&&Ce<=he+ye.height)return te.fulfillContentText(ye.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(j,te){const he=j.getZoneAtCoord(te.mouseVerticalOffset);if(he){const j=te.isInContentArea?8:5;return te.fulfillViewZone(j,he.position,he)}return null}static _hitTestTextArea(j,te){return c.isTextArea(te.targetPath)?j.lastRenderData.lastTextareaPosition?te.fulfillContentText(j.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):te.fulfillTextarea():null}static _hitTestMargin(j,te){if(te.isInMarginArea){const he=j.getFullLineRangeAtCoord(te.mouseVerticalOffset),ve=he.range.getStartPosition();let Ce=Math.abs(te.relativePos.x);const ye={isAfterLines:he.isAfterLines,glyphMarginLeft:j.layoutInfo.glyphMarginLeft,glyphMarginWidth:j.layoutInfo.glyphMarginWidth,lineNumbersWidth:j.layoutInfo.lineNumbersWidth,offsetX:Ce};return Ce-=j.layoutInfo.glyphMarginLeft,Ce<=j.layoutInfo.glyphMarginWidth?te.fulfillMargin(2,ve,he.range,ye):(Ce-=j.layoutInfo.glyphMarginWidth,Ce<=j.layoutInfo.lineNumbersWidth?te.fulfillMargin(3,ve,he.range,ye):(Ce-=j.layoutInfo.lineNumbersWidth,te.fulfillMargin(4,ve,he.range,ye)))}return null}static _hitTestViewLines(j,te,he){if(!c.isChildOfViewLines(te.targetPath))return null;if(j.isInTopPadding(te.mouseVerticalOffset))return te.fulfillContentEmpty(new ye.Position(1,1),je);if(j.isAfterLines(te.mouseVerticalOffset)||j.isInBottomPadding(te.mouseVerticalOffset)){const he=j.model.getLineCount(),ve=j.model.getLineMaxColumn(he);return te.fulfillContentEmpty(new ye.Position(he,ve),je)}if(he){if(c.isStrictChildOfViewLines(te.targetPath)){const he=j.getLineNumberAtVerticalOffset(te.mouseVerticalOffset);if(0===j.model.getLineLength(he)){const ve=j.getLineWidth(he),Ce=d(te.mouseContentHorizontalOffset-ve);return te.fulfillContentEmpty(new ye.Position(he,1),Ce)}const ve=j.getLineWidth(he);if(te.mouseContentHorizontalOffset>=ve){const Ce=d(te.mouseContentHorizontalOffset-ve),Ee=new ye.Position(he,j.model.getLineMaxColumn(he));return te.fulfillContentEmpty(Ee,Ce)}}return te.fulfillUnknown()}const ve=u._doHitTest(j,te);return 1===ve.type?u.createMouseTargetFromHitTestPosition(j,te,ve.spanNode,ve.position,ve.injectedText):this._createMouseTarget(j,te.withTarget(ve.hitTarget),!0)}static _hitTestMinimap(j,te){if(c.isChildOfMinimap(te.targetPath)){const he=j.getLineNumberAtVerticalOffset(te.mouseVerticalOffset),ve=j.model.getLineMaxColumn(he);return te.fulfillScrollbar(new ye.Position(he,ve))}return null}static _hitTestScrollbarSlider(j,te){if(c.isChildOfScrollableElement(te.targetPath)&&te.target&&1===te.target.nodeType){const he=te.target.className;if(he&&/\b(slider|scrollbar)\b/.test(he)){const he=j.getLineNumberAtVerticalOffset(te.mouseVerticalOffset),ve=j.model.getLineMaxColumn(he);return te.fulfillScrollbar(new ye.Position(he,ve))}}return null}static _hitTestScrollbar(j,te){if(c.isChildOfScrollableElement(te.targetPath)){const he=j.getLineNumberAtVerticalOffset(te.mouseVerticalOffset),ve=j.model.getLineMaxColumn(he);return te.fulfillScrollbar(new ye.Position(he,ve))}return null}getMouseColumn(j){const te=this._context.configuration.options,he=te.get(131),ve=this._context.viewLayout.getCurrentScrollLeft()+j.x-he.contentLeft;return u._getMouseColumn(ve,te.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(j,te){return j<0?1:Math.round(j/te)+1}static createMouseTargetFromHitTestPosition(j,te,he,ve,Ce){const ye=ve.lineNumber,Ie=ve.column,Ne=j.getLineWidth(ye);if(te.mouseContentHorizontalOffset>Ne){const j=d(te.mouseContentHorizontalOffset-Ne);return te.fulfillContentEmpty(ve,j)}const Oe=j.visibleRangeForPosition(ye,Ie);if(!Oe)return te.fulfillUnknown(ve);const Ke=Oe.left;if(te.mouseContentHorizontalOffset===Ke)return te.fulfillContentText(ve,null,{mightBeForeignElement:!!Ce,injectedText:Ce});const je=[];if(je.push({offset:Oe.left,column:Ie}),Ie>1){const te=j.visibleRangeForPosition(ye,Ie-1);te&&je.push({offset:te.left,column:Ie-1})}if(Ie<j.model.getLineMaxColumn(ye)){const te=j.visibleRangeForPosition(ye,Ie+1);te&&je.push({offset:te.left,column:Ie+1})}je.sort(((j,te)=>j.offset-te.offset));const Ze=te.pos.toClientCoordinates(),Ye=he.getBoundingClientRect(),et=Ye.left<=Ze.clientX&&Ze.clientX<=Ye.right;for(let j=1;j<je.length;j++){const he=je[j-1],Ie=je[j];if(he.offset<=te.mouseContentHorizontalOffset&&te.mouseContentHorizontalOffset<=Ie.offset){const j=new Ee.Range(ye,he.column,ye,Ie.column);return te.fulfillContentText(ve,j,{mightBeForeignElement:!et||!!Ce,injectedText:Ce})}}return te.fulfillContentText(ve,null,{mightBeForeignElement:!et||!!Ce,injectedText:Ce})}static _doHitTestWithCaretRangeFromPoint(j,te){const ve=j.getLineNumberAtVerticalOffset(te.mouseVerticalOffset),Ce=j.getVerticalOffsetForLineNumber(ve)+Math.floor(j.lineHeight/2);let ye=te.pos.y+(Ce-te.mouseVerticalOffset);ye<=te.editorPos.y&&(ye=te.editorPos.y+1),ye>=te.editorPos.y+te.editorPos.height&&(ye=te.editorPos.y+te.editorPos.height-1);const Ee=new he.PageCoordinates(te.pos.x,ye),Ie=this._actualDoHitTestWithCaretRangeFromPoint(j,Ee.toClientCoordinates());return 1===Ie.type?Ie:this._actualDoHitTestWithCaretRangeFromPoint(j,te.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(j,te){const he=Ne.getShadowRoot(j.viewDomNode);let ve;if(ve=he?void 0===he.caretRangeFromPoint?f(he,te.clientX,te.clientY):he.caretRangeFromPoint(te.clientX,te.clientY):document.caretRangeFromPoint(te.clientX,te.clientY),!ve||!ve.startContainer)return new g;const ye=ve.startContainer;if(ye.nodeType===ye.TEXT_NODE){const te=ye.parentNode,he=te?te.parentNode:null,Ee=he?he.parentNode:null;return(Ee&&Ee.nodeType===Ee.ELEMENT_NODE?Ee.className:null)===Ce.ViewLine.CLASS_NAME?Ke.createFromDOMInfo(j,te,ve.startOffset):new g(ye.parentNode)}if(ye.nodeType===ye.ELEMENT_NODE){const te=ye.parentNode,he=te?te.parentNode:null;return(he&&he.nodeType===he.ELEMENT_NODE?he.className:null)===Ce.ViewLine.CLASS_NAME?Ke.createFromDOMInfo(j,ye,ye.textContent.length):new g(ye)}return new g}static _doHitTestWithCaretPositionFromPoint(j,te){const he=document.caretPositionFromPoint(te.clientX,te.clientY);if(he.offsetNode.nodeType===he.offsetNode.TEXT_NODE){const te=he.offsetNode.parentNode,ve=te?te.parentNode:null,ye=ve?ve.parentNode:null;return(ye&&ye.nodeType===ye.ELEMENT_NODE?ye.className:null)===Ce.ViewLine.CLASS_NAME?Ke.createFromDOMInfo(j,he.offsetNode.parentNode,he.offset):new g(he.offsetNode.parentNode)}if(he.offsetNode.nodeType===he.offsetNode.ELEMENT_NODE){const te=he.offsetNode.parentNode,ve=te&&te.nodeType===te.ELEMENT_NODE?te.className:null,ye=te?te.parentNode:null,Ee=ye&&ye.nodeType===ye.ELEMENT_NODE?ye.className:null;if(ve===Ce.ViewLine.CLASS_NAME){const te=he.offsetNode.childNodes[Math.min(he.offset,he.offsetNode.childNodes.length-1)];if(te)return Ke.createFromDOMInfo(j,te,0)}else if(Ee===Ce.ViewLine.CLASS_NAME)return Ke.createFromDOMInfo(j,he.offsetNode,0)}return new g(he.offsetNode)}static _snapToSoftTabBoundary(j,te){const he=te.getLineContent(j.lineNumber),{tabSize:ve}=te.getTextModelOptions(),Ce=Oe.AtomicTabMoveOperations.atomicPosition(he,j.column-1,ve,2);return-1!==Ce?new ye.Position(j.lineNumber,Ce+1):j}static _doHitTest(j,te){let he=new g;if("function"==typeof document.caretRangeFromPoint?he=this._doHitTestWithCaretRangeFromPoint(j,te):document.caretPositionFromPoint&&(he=this._doHitTestWithCaretPositionFromPoint(j,te.pos.toClientCoordinates())),1===he.type){const te=j.model.getInjectedTextAt(he.position),ve=j.model.normalizePosition(he.position,2);(te||!ve.equals(he.position))&&(he=new t(ve,he.spanNode,te))}return 1===he.type&&j.stickyTabStops&&(he=new t(this._snapToSoftTabBoundary(he.position,j.model),he.spanNode,he.injectedText)),he}}function f(j,te,he){const ve=document.createRange();let Ce=j.elementFromPoint(te,he);if(null!==Ce){for(;Ce&&Ce.firstChild&&Ce.firstChild.nodeType!==Ce.firstChild.TEXT_NODE&&Ce.lastChild&&Ce.lastChild.firstChild;)Ce=Ce.lastChild;const j=Ce.getBoundingClientRect(),he=window.getComputedStyle(Ce,null).getPropertyValue("font"),ye=Ce.innerText;let Ee,Ie=j.left,Ne=0;if(te>j.left+j.width)Ne=ye.length;else{const j=S.getInstance();for(let ve=0;ve<ye.length+1;ve++){if(Ee=j.getCharWidth(ye.charAt(ve),he)/2,Ie+=Ee,te<Ie){Ne=ve;break}Ie+=Ee}}ve.setStart(Ce.firstChild,Ne),ve.setEnd(Ce.firstChild,Ne)}return ve}te.MouseTargetFactory=u,te.shadowCaretRangeFromPoint=f;class S{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return S._INSTANCE||(S._INSTANCE=new S),S._INSTANCE}getCharWidth(j,te){const he=j+te;if(this._cache[he])return this._cache[he];const ve=this._canvas.getContext("2d");ve.font=te;const Ce=ve.measureText(j).width;return this._cache[he]=Ce,Ce}}S._INSTANCE=null})),define(Ce[635],ie([1,0,7,56,10,2,17,279,130,144,11,22,123]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){function n(j){return function(te,he){let ve=!1;return j&&(ve=j.mouseTargetIsWidget(he)),ve||he.preventDefault(),he}}Object.defineProperty(te,"__esModule",{value:!0}),te.MouseHandler=te.createMouseMoveEventMerger=void 0,te.createMouseMoveEventMerger=n;class l extends Ze.ViewEventHandler{constructor(j,te,Ce){super(),this._context=j,this.viewController=te,this.viewHelper=Ce,this.mouseTargetFactory=new Ie.MouseTargetFactory(this._context,Ce),this._mouseDownOperation=this._register(new c(this._context,this.viewController,this.viewHelper,((j,te)=>this._createMouseTarget(j,te)),(j=>this._getMouseColumn(j)))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;const ye=new Ne.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(ye.onContextMenu(this.viewHelper.viewDomNode,(j=>this._onContextMenu(j,!0)))),this._register(ye.onMouseMoveThrottled(this.viewHelper.viewDomNode,(j=>this._onMouseMove(j)),n(this.mouseTargetFactory),l.MOUSE_MOVE_MINIMUM_TIME)),this._register(ye.onMouseUp(this.viewHelper.viewDomNode,(j=>this._onMouseUp(j)))),this._register(ye.onMouseLeave(this.viewHelper.viewDomNode,(j=>this._onMouseLeave(j)))),this._register(ye.onMouseDown(this.viewHelper.viewDomNode,(j=>this._onMouseDown(j))));this._register(he.addDisposableListener(this.viewHelper.viewDomNode,he.EventType.MOUSE_WHEEL,(j=>{if(this.viewController.emitMouseWheel(j),!this._context.configuration.options.get(68))return;const te=new ve.StandardWheelEvent(j);if(Ee.isMacintosh?(j.metaKey||j.ctrlKey)&&!j.shiftKey&&!j.altKey:j.ctrlKey&&!j.metaKey&&!j.shiftKey&&!j.altKey){const j=Oe.EditorZoom.getZoomLevel(),he=te.deltaY>0?1:-1;Oe.EditorZoom.setZoomLevel(j+he),te.preventDefault(),te.stopPropagation()}}),{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(j){if(j.hasChanged(131)){const j=this._context.configuration.options.get(131).height;this._height!==j&&(this._height=j,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(j){return this._mouseDownOperation.onCursorStateChanged(j),!1}onFocusChanged(j){return!1}onScrollChanged(j){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(j,te){const he=new Ne.ClientCoordinates(j,te).toPageCoordinates(),ve=(0,Ne.createEditorPagePosition)(this.viewHelper.viewDomNode);if(he.y<ve.y||he.y>ve.y+ve.height||he.x<ve.x||he.x>ve.x+ve.width)return null;const Ce=(0,Ne.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,ve,he);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),ve,he,Ce,null)}_createMouseTarget(j,te){let ve=j.target;if(!this.viewHelper.viewDomNode.contains(ve)){const te=he.getShadowRoot(this.viewHelper.viewDomNode);te&&(ve=te.elementsFromPoint(j.posx,j.posy).find((j=>this.viewHelper.viewDomNode.contains(j))))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),j.editorPos,j.pos,j.relativePos,te?ve:null)}_getMouseColumn(j){return this.mouseTargetFactory.getMouseColumn(j.relativePos)}_onContextMenu(j,te){this.viewController.emitContextMenu({event:j,target:this._createMouseTarget(j,te)})}_onMouseMove(j){this._mouseDownOperation.isActive()||j.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:j,target:this._createMouseTarget(j,!0)})}_onMouseLeave(j){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:j,target:null})}_onMouseUp(j){this.viewController.emitMouseUp({event:j,target:this._createMouseTarget(j,!0)})}_onMouseDown(j){const te=this._createMouseTarget(j,!0),he=6===te.type||7===te.type,ve=2===te.type||3===te.type||4===te.type,Ce=3===te.type,ye=this._context.configuration.options.get(98),Ie=8===te.type||5===te.type,Ne=9===te.type;let Oe=j.leftButton||j.middleButton;Ee.isMacintosh&&j.leftButton&&j.ctrlKey&&(Oe=!1);const L=()=>{j.preventDefault(),this.viewHelper.focusTextArea()};if(Oe&&(he||Ce&&ye))L(),this._mouseDownOperation.start(te.type,j);else if(ve)j.preventDefault();else if(Ie){const he=te.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(he.viewZoneId)&&(L(),this._mouseDownOperation.start(te.type,j),j.preventDefault())}else Ne&&this.viewHelper.shouldSuppressMouseDownOnWidget(te.detail)&&(L(),j.preventDefault());this.viewController.emitMouseDown({event:j,target:te})}}te.MouseHandler=l,l.MOUSE_MOVE_MINIMUM_TIME=100;class c extends ye.Disposable{constructor(j,te,he,ve,ye){super(),this._context=j,this._viewController=te,this._viewHelper=he,this._createMouseTarget=ve,this._getMouseColumn=ye,this._mouseMoveMonitor=this._register(new Ne.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new Ce.TimeoutTimer),this._mouseState=new r,this._currentSelection=new je.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(j){this._lastMouseEvent=j,this._mouseState.setModifiers(j);const te=this._findMousePosition(j,!0);!te||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:j,target:te}):this._dispatchMouse(te,!0))}start(j,te){this._lastMouseEvent=te,this._mouseState.setStartedOnLineNumbers(3===j),this._mouseState.setStartButtons(te),this._mouseState.setModifiers(te);const he=this._findMousePosition(te,!0);if(!he||!he.position)return;this._mouseState.trySetCount(te.detail,he.position),te.detail=this._mouseState.count;const ve=this._context.configuration.options;if(!ve.get(81)&&ve.get(31)&&!ve.get(18)&&!this._mouseState.altKey&&te.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===he.type&&he.position&&this._currentSelection.containsPosition(he.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(te.target,te.buttons,n(null),(j=>this._onMouseDownThenMove(j)),(j=>{const te=this._findMousePosition(this._lastMouseEvent,!0);j&&j instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:te?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(he,te.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(te.target,te.buttons,n(null),(j=>this._onMouseDownThenMove(j)),(()=>this._stop())))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet((()=>{if(!this._lastMouseEvent)return;const j=this._findMousePosition(this._lastMouseEvent,!1);!j||this._mouseState.isDragAndDrop||this._dispatchMouse(j,!0)}),10)}onCursorStateChanged(j){this._currentSelection=j.selections[0]}_getPositionOutsideEditor(j){const te=j.editorPos,he=this._context.model,ve=this._context.viewLayout,Ce=this._getMouseColumn(j);if(j.posy<te.y){const he=Math.max(ve.getCurrentScrollTop()-(te.y-j.posy),0),ye=Ie.HitTestContext.getZoneAtCoord(this._context,he);if(ye){const j=this._helpPositionJumpOverViewZone(ye);if(j)return Ie.MouseTarget.createOutsideEditor(Ce,j)}const Ee=ve.getLineNumberAtVerticalOffset(he);return Ie.MouseTarget.createOutsideEditor(Ce,new Ke.Position(Ee,1))}if(j.posy>te.y+te.height){const te=ve.getCurrentScrollTop()+j.relativePos.y,ye=Ie.HitTestContext.getZoneAtCoord(this._context,te);if(ye){const j=this._helpPositionJumpOverViewZone(ye);if(j)return Ie.MouseTarget.createOutsideEditor(Ce,j)}const Ee=ve.getLineNumberAtVerticalOffset(te);return Ie.MouseTarget.createOutsideEditor(Ce,new Ke.Position(Ee,he.getLineMaxColumn(Ee)))}const ye=ve.getLineNumberAtVerticalOffset(ve.getCurrentScrollTop()+j.relativePos.y);return j.posx<te.x?Ie.MouseTarget.createOutsideEditor(Ce,new Ke.Position(ye,1)):j.posx>te.x+te.width?Ie.MouseTarget.createOutsideEditor(Ce,new Ke.Position(ye,he.getLineMaxColumn(ye))):null}_findMousePosition(j,te){const he=this._getPositionOutsideEditor(j);if(he)return he;const ve=this._createMouseTarget(j,te);if(!ve.position)return null;if(8===ve.type||5===ve.type){const j=this._helpPositionJumpOverViewZone(ve.detail);if(j)return Ie.MouseTarget.createViewZone(ve.type,ve.element,ve.mouseColumn,j,ve.detail)}return ve}_helpPositionJumpOverViewZone(j){const te=new Ke.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),he=j.positionBefore,ve=j.positionAfter;return he&&ve?he.isBefore(te)?he:ve:null}_dispatchMouse(j,te){!j.position||this._viewController.dispatchMouse({position:j.position,mouseColumn:j.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:te,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class r{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(j){this._altKey=j.altKey,this._ctrlKey=j.ctrlKey,this._metaKey=j.metaKey,this._shiftKey=j.shiftKey}setStartButtons(j){this._leftButton=j.leftButton,this._middleButton=j.middleButton}setStartedOnLineNumbers(j){this._startedOnLineNumbers=j}trySetCount(j,te){const he=(new Date).getTime();he-this._lastSetMouseDownCountTime>r.CLEAR_MOUSE_DOWN_COUNT_TIME&&(j=1),this._lastSetMouseDownCountTime=he,j>this._lastMouseDownCount+1&&(j=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(te)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=te,this._lastMouseDownCount=Math.min(j,this._lastMouseDownPositionEqualCount)}}r.CLEAR_MOUSE_DOWN_COUNT_TIME=400})),define(Ce[636],ie([1,0,7,17,57,2,635,130,165,175]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.PointerHandler=te.PointerEventHandler=void 0;class g extends Ee.MouseHandler{constructor(j,te,ve){super(j,te,ve),this._register(Ce.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(he.addDisposableListener(this.viewHelper.linesContentDomNode,Ce.EventType.Tap,(j=>this.onTap(j)))),this._register(he.addDisposableListener(this.viewHelper.linesContentDomNode,Ce.EventType.Change,(j=>this.onChange(j)))),this._register(he.addDisposableListener(this.viewHelper.linesContentDomNode,Ce.EventType.Contextmenu,(j=>this._onContextMenu(new Ie.EditorMouseEvent(j,this.viewHelper.viewDomNode),!1)))),this._lastPointerType="mouse",this._register(he.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",(j=>{const te=j.pointerType;this._lastPointerType="mouse"!==te?"touch"===te?"touch":"pen":"mouse"})));const ye=new Ie.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(ye.onPointerMoveThrottled(this.viewHelper.viewDomNode,(j=>this._onMouseMove(j)),(0,Ee.createMouseMoveEventMerger)(this.mouseTargetFactory),Ee.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(ye.onPointerUp(this.viewHelper.viewDomNode,(j=>this._onMouseUp(j)))),this._register(ye.onPointerLeave(this.viewHelper.viewDomNode,(j=>this._onMouseLeave(j)))),this._register(ye.onPointerDown(this.viewHelper.viewDomNode,(j=>this._onMouseDown(j))))}onTap(j){if(!j.initialTarget||!this.viewHelper.linesContentDomNode.contains(j.initialTarget))return;j.preventDefault(),this.viewHelper.focusTextArea();const te=this._createMouseTarget(new Ie.EditorMouseEvent(j,this.viewHelper.viewDomNode),!1);te.position&&this.viewController.dispatchMouse({position:te.position,mouseColumn:te.position.column,startedOnLineNumbers:!1,mouseDownCount:j.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(j){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-j.translationX,-j.translationY)}_onMouseDown(j){"touch"!==j.browserEvent.pointerType&&super._onMouseDown(j)}}te.PointerEventHandler=g;class t extends Ee.MouseHandler{constructor(j,te,ve){super(j,te,ve),this._register(Ce.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(he.addDisposableListener(this.viewHelper.linesContentDomNode,Ce.EventType.Tap,(j=>this.onTap(j)))),this._register(he.addDisposableListener(this.viewHelper.linesContentDomNode,Ce.EventType.Change,(j=>this.onChange(j)))),this._register(he.addDisposableListener(this.viewHelper.linesContentDomNode,Ce.EventType.Contextmenu,(j=>this._onContextMenu(new Ie.EditorMouseEvent(j,this.viewHelper.viewDomNode),!1))))}onTap(j){j.preventDefault(),this.viewHelper.focusTextArea();const te=this._createMouseTarget(new Ie.EditorMouseEvent(j,this.viewHelper.viewDomNode),!1);if(te.position){const j=document.createEvent("CustomEvent");j.initEvent(Oe.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(j),this.viewController.moveTo(te.position)}}onChange(j){this._context.model.deltaScrollNow(-j.translationX,-j.translationY)}}class i extends ye.Disposable{constructor(j,te,he){super(),ve.isIOS&&Ne.BrowserFeatures.pointerEvents?this.handler=this._register(new g(j,te,he)):window.TouchEvent?this.handler=this._register(new t(j,te,he)):this.handler=this._register(new Ee.MouseHandler(j,te,he))}getTargetAtClientPoint(j,te){return this.handler.getTargetAtClientPoint(j,te)}}te.PointerHandler=i})),define(Ce[637],ie([1,0,17,10,62,176,50,278,11,3,116,141,356]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new Oe.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(j){this._currentVisibleRange=j}}class n{constructor(j,te,he,ve,Ce,ye,Ee){this.minimalReveal=j,this.lineNumber=te,this.startColumn=he,this.endColumn=ve,this.startScrollTop=Ce,this.stopScrollTop=ye,this.scrollType=Ee,this.type="range",this.minLineNumber=te,this.maxLineNumber=te}}class l{constructor(j,te,he,ve,Ce){this.minimalReveal=j,this.selections=te,this.startScrollTop=he,this.stopScrollTop=ve,this.scrollType=Ce,this.type="selections";let ye=te[0].startLineNumber,Ee=te[0].endLineNumber;for(let j=1,he=te.length;j<he;j++){const he=te[j];ye=Math.min(ye,he.startLineNumber),Ee=Math.max(Ee,he.endLineNumber)}this.minLineNumber=ye,this.maxLineNumber=Ee}}class c extends Ee.ViewPart{constructor(j,te){super(j),this._linesContent=te,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new ye.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const he=this._context.configuration,Ne=this._context.configuration.options,Oe=Ne.get(44),Ke=Ne.get(132),Ze=Ne.get(131);this._lineHeight=Ne.get(59),this._typicalHalfwidthCharacterWidth=Oe.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Ke.isViewportWrapping,this._revealHorizontalRightPadding=Ne.get(89),this._horizontalScrollbarHeight=Ze.horizontalScrollbarHeight,this._cursorSurroundingLines=Ne.get(25),this._cursorSurroundingLinesStyle=Ne.get(26),this._canUseLayerHinting=!Ne.get(28),this._viewLineOptions=new Ie.ViewLineOptions(he,this._context.theme.type),Ee.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${je.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,Ce.applyFontInfo)(this.domNode,Oe),this._maxLineWidth=0,this._asyncUpdateLineWidths=new ve.RunOnceScheduler((()=>{this._updateLineWidthsSlow()}),200),this._asyncCheckMonospaceFontAssumptions=new ve.RunOnceScheduler((()=>{this._checkMonospaceFontAssumptions()}),2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Ie.ViewLine(this._viewLineOptions)}onConfigurationChanged(j){this._visibleLines.onConfigurationChanged(j),j.hasChanged(132)&&(this._maxLineWidth=0);const te=this._context.configuration.options,he=te.get(44),ve=te.get(132),ye=te.get(131);return this._lineHeight=te.get(59),this._typicalHalfwidthCharacterWidth=he.typicalHalfwidthCharacterWidth,this._isViewportWrapping=ve.isViewportWrapping,this._revealHorizontalRightPadding=te.get(89),this._horizontalScrollbarHeight=ye.horizontalScrollbarHeight,this._cursorSurroundingLines=te.get(25),this._cursorSurroundingLinesStyle=te.get(26),this._canUseLayerHinting=!te.get(28),(0,Ce.applyFontInfo)(this.domNode,he),this._onOptionsMaybeChanged(),j.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const j=this._context.configuration,te=new Ie.ViewLineOptions(j,this._context.theme.type);if(!this._viewLineOptions.equals(te)){this._viewLineOptions=te;const j=this._visibleLines.getStartLineNumber(),he=this._visibleLines.getEndLineNumber();for(let te=j;te<=he;te++)this._visibleLines.getVisibleLine(te).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(j){const te=this._visibleLines.getStartLineNumber(),he=this._visibleLines.getEndLineNumber();let ve=!1;for(let j=te;j<=he;j++)ve=this._visibleLines.getVisibleLine(j).onSelectionChanged()||ve;return ve}onDecorationsChanged(j){{const j=this._visibleLines.getStartLineNumber(),te=this._visibleLines.getEndLineNumber();for(let he=j;he<=te;he++)this._visibleLines.getVisibleLine(he).onDecorationsChanged()}return!0}onFlushed(j){const te=this._visibleLines.onFlushed(j);return this._maxLineWidth=0,te}onLinesChanged(j){return this._visibleLines.onLinesChanged(j)}onLinesDeleted(j){return this._visibleLines.onLinesDeleted(j)}onLinesInserted(j){return this._visibleLines.onLinesInserted(j)}onRevealRangeRequest(j){const te=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),j.source,j.minimalReveal,j.range,j.selections,j.verticalType);if(-1===te)return!1;let he=this._context.viewLayout.validateScrollPosition({scrollTop:te});j.revealHorizontal?j.range&&j.range.startLineNumber!==j.range.endLineNumber?he={scrollTop:he.scrollTop,scrollLeft:0}:j.range?this._horizontalRevealRequest=new n(j.minimalReveal,j.range.startLineNumber,j.range.startColumn,j.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),he.scrollTop,j.scrollType):j.selections&&j.selections.length>0&&(this._horizontalRevealRequest=new l(j.minimalReveal,j.selections,this._context.viewLayout.getCurrentScrollTop(),he.scrollTop,j.scrollType)):this._horizontalRevealRequest=null;const ve=Math.abs(this._context.viewLayout.getCurrentScrollTop()-he.scrollTop)<=this._lineHeight?1:j.scrollType;return this._context.model.setScrollPosition(he,ve),!0}onScrollChanged(j){if(this._horizontalRevealRequest&&j.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&j.scrollTopChanged){const te=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),he=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(j.scrollTop<te||j.scrollTop>he)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(j.scrollWidth),this._visibleLines.onScrollChanged(j)||!0}onTokensChanged(j){return this._visibleLines.onTokensChanged(j)}onZonesChanged(j){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(j)}onThemeChanged(j){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(j,te){const he=this._getViewLineDomNode(j);if(null===he)return null;const ve=this._getLineNumberFor(he);if(-1===ve||ve<1||ve>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(ve))return new Ne.Position(ve,1);const Ce=this._visibleLines.getStartLineNumber(),ye=this._visibleLines.getEndLineNumber();if(ve<Ce||ve>ye)return null;let Ee=this._visibleLines.getVisibleLine(ve).getColumnOfNodeOffset(ve,j,te);const Ie=this._context.model.getLineMinColumn(ve);return Ee<Ie&&(Ee=Ie),new Ne.Position(ve,Ee)}_getViewLineDomNode(j){for(;j&&1===j.nodeType;){if(j.className===Ie.ViewLine.CLASS_NAME)return j;j=j.parentElement}return null}_getLineNumberFor(j){const te=this._visibleLines.getStartLineNumber(),he=this._visibleLines.getEndLineNumber();for(let ve=te;ve<=he;ve++){if(j===this._visibleLines.getVisibleLine(ve).getDomNode())return ve}return-1}getLineWidth(j){const te=this._visibleLines.getStartLineNumber(),he=this._visibleLines.getEndLineNumber();return j<te||j>he?-1:this._visibleLines.getVisibleLine(j).getWidth()}linesVisibleRangesForRange(j,te){if(this.shouldRender())return null;const he=j.endLineNumber,ve=Oe.Range.intersectRanges(j,this._lastRenderedData.getCurrentVisibleRange());if(!ve)return null;let Ce=[],ye=0;const Ee=new Ie.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let je=0;te&&(je=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ne.Position(ve.startLineNumber,1)).lineNumber);const Ze=this._visibleLines.getStartLineNumber(),Ye=this._visibleLines.getEndLineNumber();for(let j=ve.startLineNumber;j<=ve.endLineNumber;j++){if(j<Ze||j>Ye)continue;const Ie=j===ve.startLineNumber?ve.startColumn:1,Oe=j===ve.endLineNumber?ve.endColumn:this._context.model.getLineMaxColumn(j),et=this._visibleLines.getVisibleLine(j).getVisibleRangesForRange(j,Ie,Oe,Ee);if(et){if(te&&j<he){const te=je;je=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ne.Position(j+1,1)).lineNumber,te!==je&&(et.ranges[et.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}Ce[ye++]=new Ke.LineVisibleRanges(et.outsideRenderedLine,j,Ke.HorizontalRange.from(et.ranges))}}return 0===ye?null:Ce}_visibleRangesForLineRange(j,te,he){return this.shouldRender()||j<this._visibleLines.getStartLineNumber()||j>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(j).getVisibleRangesForRange(j,te,he,new Ie.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(j){const te=this._visibleRangesForLineRange(j.lineNumber,j.column,j.column);return te?new Ke.HorizontalPosition(te.outsideRenderedLine,te.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(j){const te=this._visibleLines.getStartLineNumber(),he=this._visibleLines.getEndLineNumber();let ve=1,Ce=!0;for(let ye=te;ye<=he;ye++){const te=this._visibleLines.getVisibleLine(ye);!j||te.getWidthIsFast()?ve=Math.max(ve,te.getWidth()):Ce=!1}return Ce&&1===te&&he===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(ve),Ce}_checkMonospaceFontAssumptions(){let j=-1,te=-1;const he=this._visibleLines.getStartLineNumber(),ve=this._visibleLines.getEndLineNumber();for(let Ce=he;Ce<=ve;Ce++){const he=this._visibleLines.getVisibleLine(Ce);if(he.needsMonospaceFontCheck()){const ve=he.getWidth();ve>te&&(te=ve,j=Ce)}}if(-1!==j&&!this._visibleLines.getVisibleLine(j).monospaceAssumptionsAreValid())for(let j=he;j<=ve;j++)this._visibleLines.getVisibleLine(j).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(j){if(this._visibleLines.renderLines(j),this._lastRenderedData.setCurrentVisibleRange(j.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const te=this._horizontalRevealRequest;if(j.startLineNumber<=te.minLineNumber&&te.maxLineNumber<=j.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const j=this._computeScrollLeftToReveal(te);j&&(this._isViewportWrapping||this._ensureMaxLineWidth(j.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:j.scrollLeft},te.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),he.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const j=this._visibleLines.getStartLineNumber(),te=this._visibleLines.getEndLineNumber();for(let he=j;he<=te;he++)if(this._visibleLines.getVisibleLine(he).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const te=this._context.viewLayout.getCurrentScrollTop()-j.bigNumbersDelta;this._linesContent.setTop(-te),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(j){const te=Math.ceil(j);this._maxLineWidth<te&&(this._maxLineWidth=te,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(j,te,he,ve,Ce,ye){const Ee=j.top,Ie=j.height,Ne=Ee+Ie;let Oe,Ke,je,Ze;if(Ce&&Ce.length>0){let j=Ce[0].startLineNumber,te=Ce[0].endLineNumber;for(let he=1,ve=Ce.length;he<ve;he++){const ve=Ce[he];j=Math.min(j,ve.startLineNumber),te=Math.max(te,ve.endLineNumber)}Oe=!1,Ke=this._context.viewLayout.getVerticalOffsetForLineNumber(j),je=this._context.viewLayout.getVerticalOffsetForLineNumber(te)+this._lineHeight}else{if(!ve)return-1;Oe=!0,Ke=this._context.viewLayout.getVerticalOffsetForLineNumber(ve.startLineNumber),je=this._context.viewLayout.getVerticalOffsetForLineNumber(ve.endLineNumber)+this._lineHeight}if("mouse"!==te&&!he||"default"!==this._cursorSurroundingLinesStyle){const j=Math.min(Ie/this._lineHeight/2,this._cursorSurroundingLines);Ke-=j*this._lineHeight,je+=Math.max(0,j-1)*this._lineHeight}else he||(Ke-=this._lineHeight);if((0===ye||4===ye)&&(je+=he?this._horizontalScrollbarHeight:this._lineHeight),je-Ke>Ie){if(!Oe)return-1;Ze=Ke}else if(5===ye||6===ye)if(6===ye&&Ee<=Ke&&je<=Ne)Ze=Ee;else{const j=Ke-Math.max(5*this._lineHeight,.2*Ie),te=je-Ie;Ze=Math.max(te,j)}else if(1===ye||2===ye)if(2===ye&&Ee<=Ke&&je<=Ne)Ze=Ee;else{const j=(Ke+je)/2;Ze=Math.max(0,j-Ie/2)}else Ze=this._computeMinimumScrolling(Ee,Ne,Ke,je,3===ye,4===ye);return Ze}_computeScrollLeftToReveal(j){const te=this._context.viewLayout.getCurrentViewport(),he=te.left,ve=he+te.width;let Ce=1073741824,ye=0;if("range"===j.type){const te=this._visibleRangesForLineRange(j.lineNumber,j.startColumn,j.endColumn);if(!te)return null;for(const j of te.ranges)Ce=Math.min(Ce,Math.round(j.left)),ye=Math.max(ye,Math.round(j.left+j.width))}else for(const te of j.selections){if(te.startLineNumber!==te.endLineNumber)return null;const j=this._visibleRangesForLineRange(te.startLineNumber,te.startColumn,te.endColumn);if(!j)return null;for(const te of j.ranges)Ce=Math.min(Ce,Math.round(te.left)),ye=Math.max(ye,Math.round(te.left+te.width))}return j.minimalReveal||(Ce=Math.max(0,Ce-c.HORIZONTAL_EXTRA_PX),ye+=this._revealHorizontalRightPadding),"selections"===j.type&&ye-Ce>te.width?null:{scrollLeft:this._computeMinimumScrolling(he,ve,Ce,ye),maxHorizontalOffset:ye}}_computeMinimumScrolling(j,te,he,ve,Ce,ye){Ce=!!Ce,ye=!!ye;const Ee=(te|=0)-(j|=0);return(ve|=0)-(he|=0)<Ee?Ce?he:ye?Math.max(0,ve-Ee):he<j?he:ve>te?Math.max(0,ve-Ee):j:he}}te.ViewLines=c,c.HORIZONTAL_EXTRA_PX=30})),define(Ce[14],ie([1,0,27,4,2,9,36,132]),(function(j,te,he,ve,Ce,ye,Ee,Ie){var Ne;function h(j){return{id:j}}Object.defineProperty(te,"__esModule",{value:!0}),te.Themable=te.registerThemingParticipant=te.Extensions=te.getThemeTypeSelector=te.ThemeIcon=te.themeColorFromId=te.ThemeColor=te.IThemeService=void 0,te.IThemeService=(0,ye.createDecorator)("themeService"),(Ne=te.ThemeColor||(te.ThemeColor={})).isThemeColor=function s(j){return j&&"object"==typeof j&&"string"==typeof j.id},te.themeColorFromId=h,function(j){j.isThemeIcon=function s(j){return j&&"object"==typeof j&&"string"==typeof j.id&&(void 0===j.color||Ne.isThemeColor(j.color))};const te=new RegExp(`^\\$\\((${he.CSSIcon.iconNameExpression}(?:${he.CSSIcon.iconModifierExpression})?)\\)$`);j.fromString=function a(j){const he=te.exec(j);if(!he)return;let[,ve]=he;return{id:ve}},j.fromId=function d(j){return{id:j}},j.modify=function u(j,te){let he=j.id;const ve=he.lastIndexOf("~");return-1!==ve&&(he=he.substring(0,ve)),te&&(he=`${he}~${te}`),{id:he}},j.getModifier=function f(j){const te=j.id.lastIndexOf("~");if(-1!==te)return j.id.substring(te+1)},j.isEqual=function S(j,te){var he,ve;return j.id===te.id&&(null===(he=j.color)||void 0===he?void 0:he.id)===(null===(ve=te.color)||void 0===ve?void 0:ve.id)},j.asThemeIcon=function v(j,te){return{id:j.id,color:te?h(te):void 0}},j.asClassNameArray=he.CSSIcon.asClassNameArray,j.asClassName=he.CSSIcon.asClassName,j.asCSSSelector=he.CSSIcon.asCSSSelector}(te.ThemeIcon||(te.ThemeIcon={})),te.getThemeTypeSelector=function t(j){switch(j){case Ie.ColorScheme.DARK:return"vs-dark";case Ie.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}},te.Extensions={ThemingContribution:"base.contributions.theming"};let Oe=new class i{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new ve.Emitter}onColorThemeChange(j){return this.themingParticipants.push(j),this.onThemingParticipantAddedEmitter.fire(j),(0,Ce.toDisposable)((()=>{const te=this.themingParticipants.indexOf(j);this.themingParticipants.splice(te,1)}))}getThemingParticipants(){return this.themingParticipants}};Ee.Registry.add(te.Extensions.ThemingContribution,Oe),te.registerThemingParticipant=function l(j){return Oe.onColorThemeChange(j)};class c extends Ce.Disposable{constructor(j){super(),this.themeService=j,this.theme=j.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((j=>this.onThemeChange(j))))}onThemeChange(j){this.theme=j,this.updateStyles()}updateStyles(){}}te.Themable=c})),define(Ce[638],ie([1,0,4,2,14]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.GlobalStyleSheet=te.AbstractCodeEditorService=void 0;let ye=class extends ve.Disposable{constructor(j){super(),this._themeService=j,this._onCodeEditorAdd=this._register(new he.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new he.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new he.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new he.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(j){this._codeEditors[j.getId()]=j,this._onCodeEditorAdd.fire(j)}removeCodeEditor(j){delete this._codeEditors[j.getId()]&&this._onCodeEditorRemove.fire(j)}listCodeEditors(){return Object.keys(this._codeEditors).map((j=>this._codeEditors[j]))}addDiffEditor(j){this._diffEditors[j.getId()]=j,this._onDiffEditorAdd.fire(j)}removeDiffEditor(j){delete this._diffEditors[j.getId()]&&this._onDiffEditorRemove.fire(j)}listDiffEditors(){return Object.keys(this._diffEditors).map((j=>this._diffEditors[j]))}getFocusedCodeEditor(){let j=null;const te=this.listCodeEditors();for(const he of te){if(he.hasTextFocus())return he;he.hasWidgetFocus()&&(j=he)}return j}removeDecorationType(j){const te=this._decorationOptionProviders.get(j);te&&(te.refCount--,te.refCount<=0&&(this._decorationOptionProviders.delete(j),te.dispose(),this.listCodeEditors().forEach((te=>te.removeDecorations(j)))))}setModelProperty(j,te,he){const ve=j.toString();let Ce;this._modelProperties.has(ve)?Ce=this._modelProperties.get(ve):(Ce=new Map,this._modelProperties.set(ve,Ce)),Ce.set(te,he)}getModelProperty(j,te){const he=j.toString();if(this._modelProperties.has(he))return this._modelProperties.get(he).get(te)}};ye=Ci([Zi(0,Ce.IThemeService)],ye),te.AbstractCodeEditorService=ye;te.GlobalStyleSheet=class w{constructor(j){this._styleSheet=j}}})),define(Ce[639],ie([1,0,7,30,67,50,14,23]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.EditorScrollbar=void 0;class p extends ye.ViewPart{constructor(j,te,Ie,Ne){super(j);const Oe=this._context.configuration.options,Ke=Oe.get(92),je=Oe.get(67),Ze=Oe.get(34),Ye=Oe.get(95),et={listenOnDomNode:Ie.domNode,className:"editor-scrollable "+(0,Ee.getThemeTypeSelector)(j.theme.type),useShadows:!1,lazyRender:!0,vertical:Ke.vertical,horizontal:Ke.horizontal,verticalHasArrows:Ke.verticalHasArrows,horizontalHasArrows:Ke.horizontalHasArrows,verticalScrollbarSize:Ke.verticalScrollbarSize,verticalSliderSize:Ke.verticalSliderSize,horizontalScrollbarSize:Ke.horizontalScrollbarSize,horizontalSliderSize:Ke.horizontalSliderSize,handleMouseWheel:Ke.handleMouseWheel,alwaysConsumeMouseWheel:Ke.alwaysConsumeMouseWheel,arrowSize:Ke.arrowSize,mouseWheelScrollSensitivity:je,fastScrollSensitivity:Ze,scrollPredominantAxis:Ye,scrollByPage:Ke.scrollByPage};this.scrollbar=this._register(new Ce.SmoothScrollableElement(te.domNode,et,this._context.viewLayout.getScrollable())),ye.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,ve.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(j,te,he)=>{const ve={};if(te){const te=j.scrollTop;te&&(ve.scrollTop=this._context.viewLayout.getCurrentScrollTop()+te,j.scrollTop=0)}if(he){const te=j.scrollLeft;te&&(ve.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+te,j.scrollLeft=0)}this._context.model.setScrollPosition(ve,1)};this._register(he.addDisposableListener(Ie.domNode,"scroll",(j=>d(Ie.domNode,!0,!0)))),this._register(he.addDisposableListener(te.domNode,"scroll",(j=>d(te.domNode,!0,!1)))),this._register(he.addDisposableListener(Ne.domNode,"scroll",(j=>d(Ne.domNode,!0,!1)))),this._register(he.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",(j=>d(this.scrollbarDomNode.domNode,!0,!1))))}dispose(){super.dispose()}_setLayout(){const j=this._context.configuration.options,te=j.get(131);this.scrollbarDomNode.setLeft(te.contentLeft),"right"===j.get(65).side?this.scrollbarDomNode.setWidth(te.contentWidth+te.minimap.minimapWidth):this.scrollbarDomNode.setWidth(te.contentWidth),this.scrollbarDomNode.setHeight(te.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(j){this.scrollbar.delegateVerticalScrollbarMouseDown(j)}onConfigurationChanged(j){if(j.hasChanged(92)||j.hasChanged(67)||j.hasChanged(34)){const j=this._context.configuration.options,te=j.get(92),he=j.get(67),ve=j.get(34),Ce=j.get(95),ye={vertical:te.vertical,horizontal:te.horizontal,verticalScrollbarSize:te.verticalScrollbarSize,horizontalScrollbarSize:te.horizontalScrollbarSize,scrollByPage:te.scrollByPage,handleMouseWheel:te.handleMouseWheel,mouseWheelScrollSensitivity:he,fastScrollSensitivity:ve,scrollPredominantAxis:Ce};this.scrollbar.updateOptions(ye)}return j.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(j){return!0}onThemeChanged(j){return this.scrollbar.updateClassName("editor-scrollable "+(0,Ee.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(j){}render(j){this.scrollbar.renderNow()}}te.EditorScrollbar=p,(0,Ee.registerThemingParticipant)(((j,te)=>{const he=j.getColor(Ie.scrollbarShadow);he&&te.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${he} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${he} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${he} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const ve=j.getColor(Ie.scrollbarSliderBackground);ve&&te.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${ve};\n\t\t\t}\n\t\t`);const Ce=j.getColor(Ie.scrollbarSliderHoverBackground);Ce&&te.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${Ce};\n\t\t\t}\n\t\t`);const ye=j.getColor(Ie.scrollbarSliderActiveBackground);ye&&te.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${ye};\n\t\t\t}\n\t\t`)}))})),define(Ce[640],ie([1,0,7,30,96,2,17,8,176,50,31,3,236,250,69,23,14,22,57,401,49,88,359]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt){Object.defineProperty(te,"__esModule",{value:!0}),te.Minimap=void 0;class v{constructor(j,te,he){const ve=j.options,Ce=ve.get(129),ye=ve.get(131),Ee=ye.minimap,Ie=ve.get(44),Ne=ve.get(65);this.renderMinimap=Ee.renderMinimap,this.size=Ne.size,this.minimapHeightIsEditorHeight=Ee.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=ve.get(94),this.showSlider=Ne.showSlider,this.pixelRatio=Ce,this.typicalHalfwidthCharacterWidth=Ie.typicalHalfwidthCharacterWidth,this.lineHeight=ve.get(59),this.minimapLeft=Ee.minimapLeft,this.minimapWidth=Ee.minimapWidth,this.minimapHeight=ye.height,this.canvasInnerWidth=Ee.minimapCanvasInnerWidth,this.canvasInnerHeight=Ee.minimapCanvasInnerHeight,this.canvasOuterWidth=Ee.minimapCanvasOuterWidth,this.canvasOuterHeight=Ee.minimapCanvasOuterHeight,this.isSampling=Ee.minimapIsSampling,this.editorHeight=ye.height,this.fontScale=Ee.minimapScale,this.minimapLineHeight=Ee.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,pt.once)((()=>ht.MinimapCharRendererFactory.create(this.fontScale,Ie.fontFamily))),this.defaultBackgroundColor=he.getColor(2),this.backgroundColor=v._getMinimapBackground(te,this.defaultBackgroundColor),this.foregroundAlpha=v._getMinimapForegroundOpacity(te)}static _getMinimapBackground(j,te){const he=j.getColor(nt.minimapBackground);return he?new Ze.RGBA8(he.rgba.r,he.rgba.g,he.rgba.b,Math.round(255*he.rgba.a)):te}static _getMinimapForegroundOpacity(j){const te=j.getColor(nt.minimapForegroundOpacity);return te?Ze.RGBA8._clamp(Math.round(255*te.rgba.a)):255}equals(j){return this.renderMinimap===j.renderMinimap&&this.size===j.size&&this.minimapHeightIsEditorHeight===j.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===j.scrollBeyondLastLine&&this.showSlider===j.showSlider&&this.pixelRatio===j.pixelRatio&&this.typicalHalfwidthCharacterWidth===j.typicalHalfwidthCharacterWidth&&this.lineHeight===j.lineHeight&&this.minimapLeft===j.minimapLeft&&this.minimapWidth===j.minimapWidth&&this.minimapHeight===j.minimapHeight&&this.canvasInnerWidth===j.canvasInnerWidth&&this.canvasInnerHeight===j.canvasInnerHeight&&this.canvasOuterWidth===j.canvasOuterWidth&&this.canvasOuterHeight===j.canvasOuterHeight&&this.isSampling===j.isSampling&&this.editorHeight===j.editorHeight&&this.fontScale===j.fontScale&&this.minimapLineHeight===j.minimapLineHeight&&this.minimapCharWidth===j.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(j.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(j.backgroundColor)&&this.foregroundAlpha===j.foregroundAlpha}}class C{constructor(j,te,he,ve,Ce,ye,Ee,Ie){this.scrollTop=j,this.scrollHeight=te,this.sliderNeeded=he,this._computedSliderRatio=ve,this.sliderTop=Ce,this.sliderHeight=ye,this.startLineNumber=Ee,this.endLineNumber=Ie}getDesiredScrollTopFromDelta(j){return Math.round(this.scrollTop+j/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(j){return Math.round((j-this.sliderHeight/2)/this._computedSliderRatio)}static create(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){const je=j.pixelRatio,Ze=j.minimapLineHeight,Ye=Math.floor(j.canvasInnerHeight/Ze),et=j.lineHeight;if(j.minimapHeightIsEditorHeight){const te=Ie*j.lineHeight+(j.scrollBeyondLastLine?Ce-j.lineHeight:0),he=Math.max(1,Math.floor(Ce*Ce/te)),ve=Math.max(0,j.minimapHeight-he),ye=ve/(Oe-Ce),Ke=Ne*ye,je=ve>0,Ze=Math.floor(j.canvasInnerHeight/j.minimapLineHeight);return new C(Ne,Oe,je,ye,Ke,he,1,Math.min(Ee,Ze))}let nt,rt;if(ye&&he!==Ee){const j=he-te+1;nt=Math.floor(j*Ze/je)}else{const j=Ce/et;nt=Math.floor(j*Ze/je)}rt=j.scrollBeyondLastLine?(Ee-1)*Ze/je:Math.max(0,Ee*Ze/je-nt),rt=Math.min(j.minimapHeight-nt,rt);const at=rt/(Oe-Ce),ct=Ne*at;let ht=0;if(j.scrollBeyondLastLine&&(ht=Ce/et-1),Ye>=Ee+ht){return new C(Ne,Oe,rt>0,at,ct,nt,1,Ee)}{let j=Math.max(1,Math.floor(te-ct*je/Ze));Ke&&Ke.scrollHeight===Oe&&(Ke.scrollTop>Ne&&(j=Math.min(j,Ke.startLineNumber)),Ke.scrollTop<Ne&&(j=Math.max(j,Ke.startLineNumber)));const he=Math.min(Ee,j+Ye-1);return new C(Ne,Oe,!0,at,(te-j+(Ne-ve)/et)*Ze/je,nt,j,he)}}}class _{constructor(j){this.dy=j}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}_.INVALID=new _(-1);class L{constructor(j,te,he){this.renderedLayout=j,this._imageData=te,this._renderedLines=new Ne.RenderedLinesCollection((()=>_.INVALID)),this._renderedLines._set(j.startLineNumber,he)}linesEquals(j){if(!this.scrollEquals(j))return!1;const te=this._renderedLines._get().lines;for(let j=0,he=te.length;j<he;j++)if(-1===te[j].dy)return!1;return!0}scrollEquals(j){return this.renderedLayout.startLineNumber===j.startLineNumber&&this.renderedLayout.endLineNumber===j.endLineNumber}_get(){const j=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:j.rendLineNumberStart,lines:j.lines}}onLinesChanged(j,te){return this._renderedLines.onLinesChanged(j,te)}onLinesDeleted(j,te){this._renderedLines.onLinesDeleted(j,te)}onLinesInserted(j,te){this._renderedLines.onLinesInserted(j,te)}onTokensChanged(j){return this._renderedLines.onTokensChanged(j)}}class E{constructor(j,te,he,ve){this._backgroundFillData=E._createBackgroundFillData(te,he,ve),this._buffers=[j.createImageData(te,he),j.createImageData(te,he)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const j=this._buffers[this._lastUsedBuffer];return j.data.set(this._backgroundFillData),j}static _createBackgroundFillData(j,te,he){const ve=he.r,Ce=he.g,ye=he.b,Ee=he.a,Ie=new Uint8ClampedArray(j*te*4);let Ne=0;for(let he=0;he<te;he++)for(let te=0;te<j;te++)Ie[Ne]=ve,Ie[Ne+1]=Ce,Ie[Ne+2]=ye,Ie[Ne+3]=Ee,Ne+=4;return Ie}}class N{constructor(j,te){this.samplingRatio=j,this.minimapLines=te}static compute(j,te,he){if(0===j.renderMinimap||!j.isSampling)return[null,[]];const ve=j.pixelRatio,Ce=j.lineHeight,ye=j.scrollBeyondLastLine,{minimapLineCount:Ee}=Ke.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:te,scrollBeyondLastLine:ye,height:j.editorHeight,lineHeight:Ce,pixelRatio:ve}),Ie=te/Ee,Ne=Ie/2;if(!he||0===he.minimapLines.length){const j=[];if(j[0]=1,Ee>1){for(let te=0,he=Ee-1;te<he;te++)j[te]=Math.round(te*Ie+Ne);j[Ee-1]=te}return[new N(Ie,j),[]]}const Oe=he.minimapLines,je=Oe.length,Ze=[];let Ye=0,et=0,nt=1;let rt=[],at=null;for(let j=0;j<Ee;j++){const he=Math.max(nt,Math.round(j*Ie)),ve=Math.max(he,Math.round((j+1)*Ie));for(;Ye<je&&Oe[Ye]<he;){if(rt.length<10){const j=Ye+1+et;at&&"deleted"===at.type&&at._oldIndex===Ye-1?at.deleteToLineNumber++:(at={type:"deleted",_oldIndex:Ye,deleteFromLineNumber:j,deleteToLineNumber:j},rt.push(at)),et--}Ye++}let Ce;if(Ye<je&&Oe[Ye]<=ve)Ce=Oe[Ye],Ye++;else if(Ce=0===j?1:j+1===Ee?te:Math.round(j*Ie+Ne),rt.length<10){const te=Ye+1+et;at&&"inserted"===at.type&&at._i===j-1?at.insertToLineNumber++:(at={type:"inserted",_i:j,insertFromLineNumber:te,insertToLineNumber:te},rt.push(at)),et++}Ze[j]=Ce,nt=Ce}if(rt.length<10)for(;Ye<je;){const j=Ye+1+et;at&&"deleted"===at.type&&at._oldIndex===Ye-1?at.deleteToLineNumber++:(at={type:"deleted",_oldIndex:Ye,deleteFromLineNumber:j,deleteToLineNumber:j},rt.push(at)),et--,Ye++}else rt=[{type:"flush"}];return[new N(Ie,Ze),rt]}modelLineToMinimapLine(j){return Math.min(this.minimapLines.length,Math.max(1,Math.round(j/this.samplingRatio)))}modelLineRangeToMinimapLineRange(j,te){let he=this.modelLineToMinimapLine(j)-1;for(;he>0&&this.minimapLines[he-1]>=j;)he--;let ve=this.modelLineToMinimapLine(te)-1;for(;ve+1<this.minimapLines.length&&this.minimapLines[ve+1]<=te;)ve++;if(he===ve){const ve=this.minimapLines[he];if(ve<j||ve>te)return null}return[he+1,ve+1]}decorationLineRangeToMinimapLineRange(j,te){let he=this.modelLineToMinimapLine(j),ve=this.modelLineToMinimapLine(te);return j!==te&&ve===he&&(ve===this.minimapLines.length?he>1&&he--:ve++),[he,ve]}onLinesDeleted(j){const te=j.toLineNumber-j.fromLineNumber+1;let he=this.minimapLines.length,ve=0;for(let Ce=this.minimapLines.length-1;Ce>=0&&!(this.minimapLines[Ce]<j.fromLineNumber);Ce--)this.minimapLines[Ce]<=j.toLineNumber?(this.minimapLines[Ce]=Math.max(1,j.fromLineNumber-1),he=Math.min(he,Ce),ve=Math.max(ve,Ce)):this.minimapLines[Ce]-=te;return[he,ve]}onLinesInserted(j){const te=j.toLineNumber-j.fromLineNumber+1;for(let he=this.minimapLines.length-1;he>=0&&!(this.minimapLines[he]<j.fromLineNumber);he--)this.minimapLines[he]+=te}}class k extends Oe.ViewPart{constructor(j){super(j),this.tokensColorTracker=Ye.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new v(this._context.configuration,this._context.theme,this.tokensColorTracker);const[te]=N.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=te,this._shouldCheckSampling=!1,this._actual=new M(j.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const j=new v(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(j)&&(this.options=j,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(j){return this._onOptionsMaybeChanged()}onCursorStateChanged(j){return this._selections=j.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(j){return!!j.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(j){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(j){if(this._samplingState){const te=this._samplingState.modelLineRangeToMinimapLineRange(j.fromLineNumber,j.toLineNumber);return!!te&&this._actual.onLinesChanged(te[0],te[1])}return this._actual.onLinesChanged(j.fromLineNumber,j.toLineNumber)}onLinesDeleted(j){if(this._samplingState){const[te,he]=this._samplingState.onLinesDeleted(j);return te<=he&&this._actual.onLinesChanged(te+1,he+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(j.fromLineNumber,j.toLineNumber)}onLinesInserted(j){return this._samplingState?(this._samplingState.onLinesInserted(j),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(j.fromLineNumber,j.toLineNumber)}onScrollChanged(j){return this._actual.onScrollChanged()}onThemeChanged(j){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(j){if(this._samplingState){const te=[];for(const he of j.ranges){const j=this._samplingState.modelLineRangeToMinimapLineRange(he.fromLineNumber,he.toLineNumber);j&&te.push({fromLineNumber:j[0],toLineNumber:j[1]})}return!!te.length&&this._actual.onTokensChanged(te)}return this._actual.onTokensChanged(j.ranges)}onTokensColorsChanged(j){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(j){return this._actual.onZonesChanged()}prepareRender(j){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(j){let te=j.visibleRange.startLineNumber,he=j.visibleRange.endLineNumber;this._samplingState&&(te=this._samplingState.modelLineToMinimapLine(te),he=this._samplingState.modelLineToMinimapLine(he));const ve={viewportContainsWhitespaceGaps:j.viewportData.whitespaceViewportData.length>0,scrollWidth:j.scrollWidth,scrollHeight:j.scrollHeight,viewportStartLineNumber:te,viewportEndLineNumber:he,viewportStartLineNumberVerticalOffset:j.getVerticalOffsetForLineNumber(te),scrollTop:j.scrollTop,scrollLeft:j.scrollLeft,viewportWidth:j.viewportWidth,viewportHeight:j.viewportHeight};this._actual.render(ve)}_recreateLineSampling(){this._minimapSelections=null;const j=Boolean(this._samplingState),[te,he]=N.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=te,j&&this._samplingState)for(const j of he)switch(j.type){case"deleted":this._actual.onLinesDeleted(j.deleteFromLineNumber,j.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(j.insertFromLineNumber,j.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(j){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[j-1]):this._context.model.getLineContent(j)}getLineMaxColumn(j){return this._samplingState?this._context.model.getLineMaxColumn(this._samplingState.minimapLines[j-1]):this._context.model.getLineMaxColumn(j)}getMinimapLinesRenderingData(j,te,he){if(this._samplingState){const ve=[];for(let Ce=0,ye=te-j+1;Ce<ye;Ce++)he[Ce]?ve[Ce]=this._context.model.getViewLineData(this._samplingState.minimapLines[j+Ce-1]):ve[Ce]=null;return ve}return this._context.model.getMinimapLinesRenderingData(j,te,he).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const j of this._selections){const[te,he]=this._samplingState.decorationLineRangeToMinimapLineRange(j.startLineNumber,j.endLineNumber);this._minimapSelections.push(new at.Selection(te,j.startColumn,he,j.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(j,te){let he;if(this._samplingState){const ve=this._samplingState.minimapLines[j-1],Ce=this._samplingState.minimapLines[te-1];he=new je.Range(ve,1,Ce,this._context.model.getLineMaxColumn(Ce))}else he=new je.Range(j,1,te,this._context.model.getLineMaxColumn(te));const ve=this._context.model.getDecorationsInViewport(he);if(this._samplingState){const j=[];for(const te of ve){if(!te.options.minimap)continue;const he=te.range,ve=this._samplingState.modelLineToMinimapLine(he.startLineNumber),Ce=this._samplingState.modelLineToMinimapLine(he.endLineNumber);j.push(new et.ViewModelDecoration(new je.Range(ve,he.startColumn,Ce,he.endColumn),te.options))}return j}return ve}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(j){this._samplingState&&(j=this._samplingState.minimapLines[j-1]),this._context.model.revealRange("mouse",!1,new je.Range(j,1,j,1),1,0)}setScrollTop(j){this._context.model.setScrollPosition({scrollTop:j},1)}}te.Minimap=k;class M extends ye.Disposable{constructor(j,te){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=j,this._model=te,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(nt.minimapSelection),this._domNode=(0,ve.createFastDomNode)(document.createElement("div")),Oe.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,ve.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,ve.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,ve.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,ve.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,ve.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=he.addStandardDisposableListener(this._domNode.domNode,"mousedown",(j=>{if(j.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(j.leftButton&&this._lastRenderData){const te=he.getDomNodePagePosition(this._slider.domNode),ve=te.top+te.height/2;this._startSliderDragging(j.buttons,j.posx,ve,j.posy,this._lastRenderData.renderedLayout)}return}const te=this._model.options.minimapLineHeight,ve=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*j.browserEvent.offsetY;let Ce=Math.floor(ve/te)+this._lastRenderData.renderedLayout.startLineNumber;Ce=Math.min(Ce,this._model.getLineCount()),this._model.revealLineNumber(Ce)})),this._sliderMouseMoveMonitor=new Ce.GlobalMouseMoveMonitor,this._sliderMouseDownListener=he.addStandardDisposableListener(this._slider.domNode,"mousedown",(j=>{j.preventDefault(),j.stopPropagation(),j.leftButton&&this._lastRenderData&&this._startSliderDragging(j.buttons,j.posx,j.posy,j.posy,this._lastRenderData.renderedLayout)})),this._gestureDisposable=ct.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=he.addDisposableListener(this._domNode.domNode,ct.EventType.Start,(j=>{j.preventDefault(),j.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(j))}),{passive:!1}),this._sliderTouchMoveListener=he.addDisposableListener(this._domNode.domNode,ct.EventType.Change,(j=>{j.preventDefault(),j.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(j)}),{passive:!1}),this._sliderTouchEndListener=he.addStandardDisposableListener(this._domNode.domNode,ct.EventType.End,(j=>{j.preventDefault(),j.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)}))}_startSliderDragging(j,te,he,ve,ye){this._slider.toggleClassName("active",!0);const A=(j,ve)=>{const Ce=Math.abs(ve-te);if(Ee.isWindows&&Ce>140)return void this._model.setScrollTop(ye.scrollTop);const Ie=j-he;this._model.setScrollTop(ye.getDesiredScrollTopFromDelta(Ie))};ve!==he&&A(ve,te),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,j,Ce.standardMouseMoveMerger,(j=>A(j.posy,j.posx)),(()=>{this._slider.toggleClassName("active",!1)}))}scrollDueToTouchEvent(j){const te=this._domNode.domNode.getBoundingClientRect().top,he=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(j.pageY-te);this._model.setScrollTop(he)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new E(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(j,te){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(j,te)}onLinesDeleted(j,te){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(j,te),!0}onLinesInserted(j,te){return this._lastRenderData&&this._lastRenderData.onLinesInserted(j,te),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(nt.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(j){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(j)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(j){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);j.scrollLeft+j.viewportWidth>=j.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const te=C.create(this._model.options,j.viewportStartLineNumber,j.viewportEndLineNumber,j.viewportStartLineNumberVerticalOffset,j.viewportHeight,j.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),j.scrollTop,j.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(te.sliderNeeded?"block":"none"),this._slider.setTop(te.sliderTop),this._slider.setHeight(te.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(te.sliderHeight),this.renderDecorations(te),this._lastRenderData=this.renderLines(te)}renderDecorations(j){if(this._renderDecorations){this._renderDecorations=!1;const te=this._model.getSelections();te.sort(je.Range.compareRangesUsingStarts);const he=this._model.getMinimapDecorationsInViewport(j.startLineNumber,j.endLineNumber);he.sort(((j,te)=>(j.options.zIndex||0)-(te.options.zIndex||0)));const{canvasInnerWidth:ve,canvasInnerHeight:Ce}=this._model.options,ye=this._model.options.minimapLineHeight,Ee=this._model.options.minimapCharWidth,Ie=this._model.getOptions().tabSize,Ne=this._decorationsCanvas.domNode.getContext("2d");Ne.clearRect(0,0,ve,Ce);const Oe=new O(j.startLineNumber,j.endLineNumber,!1);this._renderSelectionLineHighlights(Ne,te,Oe,j,ye),this._renderDecorationsLineHighlights(Ne,he,Oe,j,ye);const Ke=new O(j.startLineNumber,j.endLineNumber,null);this._renderSelectionsHighlights(Ne,te,Ke,j,ye,Ie,Ee,ve),this._renderDecorationsHighlights(Ne,he,Ke,j,ye,Ie,Ee,ve)}}_renderSelectionLineHighlights(j,te,he,ve,Ce){if(!this._selectionColor||this._selectionColor.isTransparent())return;j.fillStyle=this._selectionColor.transparent(.5).toString();let ye=0,Ee=0;for(const Ie of te){const te=Math.max(ve.startLineNumber,Ie.startLineNumber),Ne=Math.min(ve.endLineNumber,Ie.endLineNumber);if(te>Ne)continue;for(let j=te;j<=Ne;j++)he.set(j,!0);const Oe=(te-ve.startLineNumber)*Ce,je=(Ne-ve.startLineNumber)*Ce+Ce;Ee>=Oe||(Ee>ye&&j.fillRect(Ke.MINIMAP_GUTTER_WIDTH,ye,j.canvas.width,Ee-ye),ye=Oe),Ee=je}Ee>ye&&j.fillRect(Ke.MINIMAP_GUTTER_WIDTH,ye,j.canvas.width,Ee-ye)}_renderDecorationsLineHighlights(j,te,he,ve,Ce){const ye=new Map;for(let Ee=te.length-1;Ee>=0;Ee--){const Ie=te[Ee],Ne=Ie.options.minimap;if(!Ne||Ne.position!==mt.MinimapPosition.Inline)continue;const Oe=Math.max(ve.startLineNumber,Ie.range.startLineNumber),je=Math.min(ve.endLineNumber,Ie.range.endLineNumber);if(Oe>je)continue;const Ze=Ne.getColor(this._theme.value);if(!Ze||Ze.isTransparent())continue;let Ye=ye.get(Ze.toString());Ye||(Ye=Ze.transparent(.5).toString(),ye.set(Ze.toString(),Ye)),j.fillStyle=Ye;for(let te=Oe;te<=je;te++){if(he.has(te))continue;he.set(te,!0);const ye=(Oe-ve.startLineNumber)*Ce;j.fillRect(Ke.MINIMAP_GUTTER_WIDTH,ye,j.canvas.width,Ce)}}}_renderSelectionsHighlights(j,te,he,ve,Ce,ye,Ee,Ie){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const Ne of te){const te=Math.max(ve.startLineNumber,Ne.startLineNumber),Oe=Math.min(ve.endLineNumber,Ne.endLineNumber);if(!(te>Oe))for(let Ke=te;Ke<=Oe;Ke++)this.renderDecorationOnLine(j,he,Ne,this._selectionColor,ve,Ke,Ce,Ce,ye,Ee,Ie)}}_renderDecorationsHighlights(j,te,he,ve,Ce,ye,Ee,Ie){for(const Ne of te){const te=Ne.options.minimap;if(!te)continue;const Oe=Math.max(ve.startLineNumber,Ne.range.startLineNumber),Ke=Math.min(ve.endLineNumber,Ne.range.endLineNumber);if(Oe>Ke)continue;const je=te.getColor(this._theme.value);if(je&&!je.isTransparent())for(let Ze=Oe;Ze<=Ke;Ze++)switch(te.position){case mt.MinimapPosition.Inline:this.renderDecorationOnLine(j,he,Ne.range,je,ve,Ze,Ce,Ce,ye,Ee,Ie);continue;case mt.MinimapPosition.Gutter:{const te=(Ze-ve.startLineNumber)*Ce,he=2;this.renderDecoration(j,je,he,te,2,Ce);continue}}}}renderDecorationOnLine(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){const je=(ye-Ce.startLineNumber)*Ie;if(je+Ee<0||je>this._model.options.canvasInnerHeight)return;const{startLineNumber:Ze,endLineNumber:Ye}=he,et=Ze===ye?he.startColumn:1,nt=Ye===ye?he.endColumn:this._model.getLineMaxColumn(ye),rt=this.getXOffsetForPosition(te,ye,et,Ne,Oe,Ke),at=this.getXOffsetForPosition(te,ye,nt,Ne,Oe,Ke);this.renderDecoration(j,ve,rt,je,at-rt,Ee)}getXOffsetForPosition(j,te,he,ve,Ce,ye){if(1===he)return Ke.MINIMAP_GUTTER_WIDTH;if((he-1)*Ce>=ye)return ye;let Ee=j.get(te);if(!Ee){const he=this._model.getLineContent(te);Ee=[Ke.MINIMAP_GUTTER_WIDTH];let Ne=Ke.MINIMAP_GUTTER_WIDTH;for(let j=1;j<he.length+1;j++){const te=he.charCodeAt(j-1),Oe=Ne+(9===te?ve*Ce:Ie.isFullWidthCharacter(te)?2*Ce:Ce);if(Oe>=ye){Ee[j]=ye;break}Ee[j]=Oe,Ne=Oe}j.set(te,Ee)}return he-1<Ee.length?Ee[he-1]:ye}renderDecoration(j,te,he,ve,Ce,ye){j.fillStyle=te&&te.toString()||"",j.fillRect(he,ve,Ce,ye)}renderLines(j){const te=j.startLineNumber,he=j.endLineNumber,ve=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(j)){const te=this._lastRenderData._get();return new L(j,te.imageData,te.lines)}const Ce=this._getBuffer();if(!Ce)return null;const[ye,Ee,Ie]=M._renderUntouchedLines(Ce,te,he,ve,this._lastRenderData),Ne=this._model.getMinimapLinesRenderingData(te,he,Ie),Oe=this._model.getOptions().tabSize,Ke=this._model.options.defaultBackgroundColor,je=this._model.options.backgroundColor,Ye=this._model.options.foregroundAlpha,et=this._model.tokensColorTracker,nt=et.backgroundIsLight(),rt=this._model.options.renderMinimap,at=this._model.options.charRenderer(),ct=this._model.options.fontScale,ht=this._model.options.minimapCharWidth,mt=(1===rt?2:3)*ct,pt=ve>mt?Math.floor((ve-mt)/2):0,ft=je.a/255,_t=new Ze.RGBA8(Math.round((je.r-Ke.r)*ft+Ke.r),Math.round((je.g-Ke.g)*ft+Ke.g),Math.round((je.b-Ke.b)*ft+Ke.b),255);let Ct=0;const bt=[];for(let j=0,ye=he-te+1;j<ye;j++)Ie[j]&&M._renderLine(Ce,_t,je.a,nt,rt,ht,et,Ye,at,Ct,pt,Oe,Ne[j],ct,ve),bt[j]=new _(Ct),Ct+=ve;const St=-1===ye?0:ye,Dt=(-1===Ee?Ce.height:Ee)-St;return this._canvas.domNode.getContext("2d").putImageData(Ce,0,0,0,St,Ce.width,Dt),new L(j,Ce,bt)}static _renderUntouchedLines(j,te,he,ve,Ce){const ye=[];if(!Ce){for(let j=0,ve=he-te+1;j<ve;j++)ye[j]=!0;return[-1,-1,ye]}const Ee=Ce._get(),Ie=Ee.imageData.data,Ne=Ee.rendLineNumberStart,Oe=Ee.lines,Ke=Oe.length,je=j.width,Ze=j.data,Ye=(he-te+1)*ve*je*4;let et=-1,nt=-1,rt=-1,at=-1,ct=-1,ht=-1,mt=0;for(let j=te;j<=he;j++){const he=j-te,Ce=j-Ne,Ee=Ce>=0&&Ce<Ke?Oe[Ce].dy:-1;if(-1===Ee){ye[he]=!0,mt+=ve;continue}const pt=Ee*je*4,ft=(Ee+ve)*je*4,_t=mt*je*4,Ct=(mt+ve)*je*4;at===pt&&ht===_t?(at=ft,ht=Ct):(-1!==rt&&(Ze.set(Ie.subarray(rt,at),ct),-1===et&&0===rt&&rt===ct&&(et=at),-1===nt&&at===Ye&&rt===ct&&(nt=rt)),rt=pt,at=ft,ct=_t,ht=Ct),ye[he]=!1,mt+=ve}-1!==rt&&(Ze.set(Ie.subarray(rt,at),ct),-1===et&&0===rt&&rt===ct&&(et=at),-1===nt&&at===Ye&&rt===ct&&(nt=rt));return[-1===et?-1:et/(4*je),-1===nt?-1:nt/(4*je),ye]}static _renderLine(j,te,he,ve,Ce,ye,Ee,Ne,Oe,je,Ze,Ye,et,nt,rt){const at=et.content,ct=et.tokens,ht=j.width-ye,mt=1===rt;let pt=Ke.MINIMAP_GUTTER_WIDTH,ft=0,_t=0;for(let Ke=0,et=ct.getCount();Ke<et;Ke++){const et=ct.getEndOffset(Ke),rt=ct.getForeground(Ke),Ct=Ee.getColor(rt);for(;ft<et;ft++){if(pt>ht)return;const Ee=at.charCodeAt(ft);if(9===Ee){const j=Ye-(ft+_t)%Ye;_t+=j-1,pt+=j*ye}else if(32===Ee)pt+=ye;else{const Ke=Ie.isFullWidthCharacter(Ee)?2:1;for(let Ie=0;Ie<Ke;Ie++)if(2===Ce?Oe.blockRenderChar(j,pt,je+Ze,Ct,Ne,te,he,mt):Oe.renderChar(j,pt,je+Ze,Ee,Ct,Ne,te,he,nt,ve,mt),pt+=ye,pt>ht)return}}}}}class O{constructor(j,te,he){this._startLineNumber=j,this._endLineNumber=te,this._defaultValue=he,this._values=[];for(let j=0,te=this._endLineNumber-this._startLineNumber+1;j<te;j++)this._values[j]=he}has(j){return this.get(j)!==this._defaultValue}set(j,te){j<this._startLineNumber||j>this._endLineNumber||(this._values[j-this._startLineNumber]=te)}get(j){return j<this._startLineNumber||j>this._endLineNumber?this._defaultValue:this._values[j-this._startLineNumber]}}(0,rt.registerThemingParticipant)(((j,te)=>{const he=j.getColor(nt.minimapSliderBackground);he&&te.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${he}; }`);const ve=j.getColor(nt.minimapSliderHoverBackground);ve&&te.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${ve}; }`);const Ce=j.getColor(nt.minimapSliderActiveBackground);Ce&&te.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${Ce}; }`);const ye=j.getColor(nt.scrollbarShadow);ye&&te.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${ye} -6px 0 6px -6px inset; }`)}))})),define(Ce[641],ie([1,0,30,50,23,14,362]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.ScrollDecorationViewPart=void 0;class w extends ve.ViewPart{constructor(j){super(j),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const te=this._context.configuration.options.get(92);this._useShadows=te.useShadows,this._domNode=(0,he.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const j=this._useShadows&&this._scrollTop>0;return this._shouldShow!==j&&(this._shouldShow=j,!0)}getDomNode(){return this._domNode}_updateWidth(){const j=this._context.configuration.options.get(131);0===j.minimap.renderMinimap||j.minimap.minimapWidth>0&&0===j.minimap.minimapLeft?this._width=j.width:this._width=j.width-j.minimap.minimapWidth-j.verticalScrollbarWidth}onConfigurationChanged(j){const te=this._context.configuration.options.get(92);return this._useShadows=te.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(j){return this._scrollTop=j.scrollTop,this._updateShouldShow()}prepareRender(j){}render(j){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}te.ScrollDecorationViewPart=w,(0,ye.registerThemingParticipant)(((j,te)=>{const he=j.getColor(Ce.scrollbarShadow);he&&te.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${he} 0 6px 6px -6px inset; }`)}))})),define(Ce[642],ie([1,0,100,23,14,363]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.SelectionsOverlay=void 0;class I{constructor(j){this.left=j.left,this.width=j.width,this.startStyle=null,this.endStyle=null}}class w{constructor(j,te){this.lineNumber=j,this.ranges=te}}function b(j){return new I(j)}function p(j){return new w(j.lineNumber,j.ranges.map(b))}class h extends he.DynamicViewOverlay{constructor(j){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=j;const te=this._context.configuration.options;this._lineHeight=te.get(59),this._roundedSelection=te.get(90),this._typicalHalfwidthCharacterWidth=te.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(j){const te=this._context.configuration.options;return this._lineHeight=te.get(59),this._roundedSelection=te.get(90),this._typicalHalfwidthCharacterWidth=te.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(j){return this._selections=j.selections.slice(0),!0}onDecorationsChanged(j){return!0}onFlushed(j){return!0}onLinesChanged(j){return!0}onLinesDeleted(j){return!0}onLinesInserted(j){return!0}onScrollChanged(j){return j.scrollTopChanged}onZonesChanged(j){return!0}_visibleRangesHaveGaps(j){for(let te=0,he=j.length;te<he;te++)if(j[te].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(j,te,he){const ve=this._typicalHalfwidthCharacterWidth/4;let Ce=null,ye=null;if(he&&he.length>0&&te.length>0){const ve=te[0].lineNumber;if(ve===j.startLineNumber)for(let j=0;!Ce&&j<he.length;j++)he[j].lineNumber===ve&&(Ce=he[j].ranges[0]);const Ee=te[te.length-1].lineNumber;if(Ee===j.endLineNumber)for(let j=he.length-1;!ye&&j>=0;j--)he[j].lineNumber===Ee&&(ye=he[j].ranges[0]);Ce&&!Ce.startStyle&&(Ce=null),ye&&!ye.startStyle&&(ye=null)}for(let j=0,he=te.length;j<he;j++){const Ee=te[j].ranges[0],Ie=Ee.left,Ne=Ee.left+Ee.width,Oe={top:0,bottom:0},Ke={top:0,bottom:0};if(j>0){const he=te[j-1].ranges[0].left,Ce=te[j-1].ranges[0].left+te[j-1].ranges[0].width;g(Ie-he)<ve?Oe.top=2:Ie>he&&(Oe.top=1),g(Ne-Ce)<ve?Ke.top=2:he<Ne&&Ne<Ce&&(Ke.top=1)}else Ce&&(Oe.top=Ce.startStyle.top,Ke.top=Ce.endStyle.top);if(j+1<he){const he=te[j+1].ranges[0].left,Ce=te[j+1].ranges[0].left+te[j+1].ranges[0].width;g(Ie-he)<ve?Oe.bottom=2:he<Ie&&Ie<Ce&&(Oe.bottom=1),g(Ne-Ce)<ve?Ke.bottom=2:Ne<Ce&&(Ke.bottom=1)}else ye&&(Oe.bottom=ye.startStyle.bottom,Ke.bottom=ye.endStyle.bottom);Ee.startStyle=Oe,Ee.endStyle=Ke}}_getVisibleRangesWithStyle(j,te,he){const ve=(te.linesVisibleRangesForRange(j,!0)||[]).map(p);return!this._visibleRangesHaveGaps(ve)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(te.visibleRange,ve,he),ve}_createSelectionPiece(j,te,he,ve,Ce){return'<div class="cslr '+he+'" style="top:'+j.toString()+"px;left:"+ve.toString()+"px;width:"+Ce.toString()+"px;height:"+te+'px;"></div>'}_actualRenderOneSelection(j,te,he,ve){if(0===ve.length)return;const Ce=!!ve[0].ranges[0].startStyle,ye=this._lineHeight.toString(),Ee=(this._lineHeight-1).toString(),Ie=ve[0].lineNumber,Ne=ve[ve.length-1].lineNumber;for(let Oe=0,Ke=ve.length;Oe<Ke;Oe++){const Ke=ve[Oe],je=Ke.lineNumber,Ze=je-te,Ye=!he||je!==Ne&&je!==Ie?ye:Ee,et=he&&je===Ie?1:0;let nt="",rt="";for(let j=0,te=Ke.ranges.length;j<te;j++){const te=Ke.ranges[j];if(Ce){const j=te.startStyle,he=te.endStyle;if(1===j.top||1===j.bottom){nt+=this._createSelectionPiece(et,Ye,h.SELECTION_CLASS_NAME,te.left-h.ROUNDED_PIECE_WIDTH,h.ROUNDED_PIECE_WIDTH);let he=h.EDITOR_BACKGROUND_CLASS_NAME;1===j.top&&(he+=" "+h.SELECTION_TOP_RIGHT),1===j.bottom&&(he+=" "+h.SELECTION_BOTTOM_RIGHT),nt+=this._createSelectionPiece(et,Ye,he,te.left-h.ROUNDED_PIECE_WIDTH,h.ROUNDED_PIECE_WIDTH)}if(1===he.top||1===he.bottom){nt+=this._createSelectionPiece(et,Ye,h.SELECTION_CLASS_NAME,te.left+te.width,h.ROUNDED_PIECE_WIDTH);let j=h.EDITOR_BACKGROUND_CLASS_NAME;1===he.top&&(j+=" "+h.SELECTION_TOP_LEFT),1===he.bottom&&(j+=" "+h.SELECTION_BOTTOM_LEFT),nt+=this._createSelectionPiece(et,Ye,j,te.left+te.width,h.ROUNDED_PIECE_WIDTH)}}let he=h.SELECTION_CLASS_NAME;if(Ce){const j=te.startStyle,ve=te.endStyle;0===j.top&&(he+=" "+h.SELECTION_TOP_LEFT),0===j.bottom&&(he+=" "+h.SELECTION_BOTTOM_LEFT),0===ve.top&&(he+=" "+h.SELECTION_TOP_RIGHT),0===ve.bottom&&(he+=" "+h.SELECTION_BOTTOM_RIGHT)}rt+=this._createSelectionPiece(et,Ye,he,te.left,te.width)}j[Ze][0]+=nt,j[Ze][1]+=rt}}prepareRender(j){const te=[],he=j.visibleRange.startLineNumber,ve=j.visibleRange.endLineNumber;for(let j=he;j<=ve;j++){te[j-he]=["",""]}const Ce=[];for(let ve=0,ye=this._selections.length;ve<ye;ve++){const ye=this._selections[ve];if(ye.isEmpty()){Ce[ve]=null;continue}const Ee=this._getVisibleRangesWithStyle(ye,j,this._previousFrameVisibleRangesWithStyle[ve]);Ce[ve]=Ee,this._actualRenderOneSelection(te,he,this._selections.length>1,Ee)}this._previousFrameVisibleRangesWithStyle=Ce,this._renderResult=te.map((([j,te])=>j+te))}render(j,te){if(!this._renderResult)return"";const he=te-j;return he<0||he>=this._renderResult.length?"":this._renderResult[he]}}function g(j){return j<0?-j:j}te.SelectionsOverlay=h,h.SELECTION_CLASS_NAME="selected-text",h.SELECTION_TOP_LEFT="top-left-radius",h.SELECTION_BOTTOM_LEFT="bottom-left-radius",h.SELECTION_TOP_RIGHT="top-right-radius",h.SELECTION_BOTTOM_RIGHT="bottom-right-radius",h.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",h.ROUNDED_PIECE_WIDTH=10,(0,Ce.registerThemingParticipant)(((j,te)=>{const he=j.getColor(ve.editorSelectionBackground);he&&te.addRule(`.monaco-editor .focused .selected-text { background-color: ${he}; }`);const Ce=j.getColor(ve.editorInactiveSelection);Ce&&te.addRule(`.monaco-editor .selected-text { background-color: ${Ce}; }`);const ye=j.getColor(ve.editorSelectionForeground);ye&&!ye.isTransparent()&&te.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${ye}; }`)}))})),define(Ce[52],ie([1,0,511,29,23,14]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.editorUnicodeHighlightBorder=te.editorBracketPairGuideActiveBackground6=te.editorBracketPairGuideActiveBackground5=te.editorBracketPairGuideActiveBackground4=te.editorBracketPairGuideActiveBackground3=te.editorBracketPairGuideActiveBackground2=te.editorBracketPairGuideActiveBackground1=te.editorBracketPairGuideBackground6=te.editorBracketPairGuideBackground5=te.editorBracketPairGuideBackground4=te.editorBracketPairGuideBackground3=te.editorBracketPairGuideBackground2=te.editorBracketPairGuideBackground1=te.editorBracketHighlightingUnexpectedBracketForeground=te.editorBracketHighlightingForeground6=te.editorBracketHighlightingForeground5=te.editorBracketHighlightingForeground4=te.editorBracketHighlightingForeground3=te.editorBracketHighlightingForeground2=te.editorBracketHighlightingForeground1=te.overviewRulerInfo=te.overviewRulerWarning=te.overviewRulerError=te.overviewRulerRangeHighlight=te.ghostTextBackground=te.ghostTextForeground=te.ghostTextBorder=te.editorUnnecessaryCodeOpacity=te.editorUnnecessaryCodeBorder=te.editorGutter=te.editorOverviewRulerBackground=te.editorOverviewRulerBorder=te.editorBracketMatchBorder=te.editorBracketMatchBackground=te.editorCodeLensForeground=te.editorRuler=te.editorActiveLineNumber=te.editorLineNumbers=te.editorActiveIndentGuides=te.editorIndentGuides=te.editorWhitespaces=te.editorCursorBackground=te.editorCursorForeground=te.editorSymbolHighlightBorder=te.editorSymbolHighlight=te.editorRangeHighlightBorder=te.editorRangeHighlight=te.editorLineHighlightBorder=te.editorLineHighlight=void 0,te.editorLineHighlight=(0,Ce.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},he.localize(0,null)),te.editorLineHighlightBorder=(0,Ce.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},he.localize(1,null)),te.editorRangeHighlight=(0,Ce.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},he.localize(2,null),!0),te.editorRangeHighlightBorder=(0,Ce.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hc:Ce.activeContrastBorder},he.localize(3,null),!0),te.editorSymbolHighlight=(0,Ce.registerColor)("editor.symbolHighlightBackground",{dark:Ce.editorFindMatchHighlight,light:Ce.editorFindMatchHighlight,hc:null},he.localize(4,null),!0),te.editorSymbolHighlightBorder=(0,Ce.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hc:Ce.activeContrastBorder},he.localize(5,null),!0),te.editorCursorForeground=(0,Ce.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:ve.Color.black,hc:ve.Color.white},he.localize(6,null)),te.editorCursorBackground=(0,Ce.registerColor)("editorCursor.background",null,he.localize(7,null)),te.editorWhitespaces=(0,Ce.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},he.localize(8,null)),te.editorIndentGuides=(0,Ce.registerColor)("editorIndentGuide.background",{dark:te.editorWhitespaces,light:te.editorWhitespaces,hc:te.editorWhitespaces},he.localize(9,null)),te.editorActiveIndentGuides=(0,Ce.registerColor)("editorIndentGuide.activeBackground",{dark:te.editorWhitespaces,light:te.editorWhitespaces,hc:te.editorWhitespaces},he.localize(10,null)),te.editorLineNumbers=(0,Ce.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:ve.Color.white},he.localize(11,null));const Ee=(0,Ce.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Ce.activeContrastBorder},he.localize(12,null),!1,he.localize(13,null));te.editorActiveLineNumber=(0,Ce.registerColor)("editorLineNumber.activeForeground",{dark:Ee,light:Ee,hc:Ee},he.localize(14,null)),te.editorRuler=(0,Ce.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:ve.Color.lightgrey,hc:ve.Color.white},he.localize(15,null)),te.editorCodeLensForeground=(0,Ce.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},he.localize(16,null)),te.editorBracketMatchBackground=(0,Ce.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},he.localize(17,null)),te.editorBracketMatchBorder=(0,Ce.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Ce.contrastBorder},he.localize(18,null)),te.editorOverviewRulerBorder=(0,Ce.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},he.localize(19,null)),te.editorOverviewRulerBackground=(0,Ce.registerColor)("editorOverviewRuler.background",null,he.localize(20,null)),te.editorGutter=(0,Ce.registerColor)("editorGutter.background",{dark:Ce.editorBackground,light:Ce.editorBackground,hc:Ce.editorBackground},he.localize(21,null)),te.editorUnnecessaryCodeBorder=(0,Ce.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hc:ve.Color.fromHex("#fff").transparent(.8)},he.localize(22,null)),te.editorUnnecessaryCodeOpacity=(0,Ce.registerColor)("editorUnnecessaryCode.opacity",{dark:ve.Color.fromHex("#000a"),light:ve.Color.fromHex("#0007"),hc:null},he.localize(23,null)),te.ghostTextBorder=(0,Ce.registerColor)("editorGhostText.border",{dark:null,light:null,hc:ve.Color.fromHex("#fff").transparent(.8)},he.localize(24,null)),te.ghostTextForeground=(0,Ce.registerColor)("editorGhostText.foreground",{dark:ve.Color.fromHex("#ffffff56"),light:ve.Color.fromHex("#0007"),hc:null},he.localize(25,null)),te.ghostTextBackground=(0,Ce.registerColor)("editorGhostText.background",{dark:null,light:null,hc:null},he.localize(26,null));const Ie=new ve.Color(new ve.RGBA(0,122,204,.6));te.overviewRulerRangeHighlight=(0,Ce.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:Ie,light:Ie,hc:Ie},he.localize(27,null),!0),te.overviewRulerError=(0,Ce.registerColor)("editorOverviewRuler.errorForeground",{dark:new ve.Color(new ve.RGBA(255,18,18,.7)),light:new ve.Color(new ve.RGBA(255,18,18,.7)),hc:new ve.Color(new ve.RGBA(255,50,50,1))},he.localize(28,null)),te.overviewRulerWarning=(0,Ce.registerColor)("editorOverviewRuler.warningForeground",{dark:Ce.editorWarningForeground,light:Ce.editorWarningForeground,hc:Ce.editorWarningBorder},he.localize(29,null)),te.overviewRulerInfo=(0,Ce.registerColor)("editorOverviewRuler.infoForeground",{dark:Ce.editorInfoForeground,light:Ce.editorInfoForeground,hc:Ce.editorInfoBorder},he.localize(30,null)),te.editorBracketHighlightingForeground1=(0,Ce.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},he.localize(31,null)),te.editorBracketHighlightingForeground2=(0,Ce.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},he.localize(32,null)),te.editorBracketHighlightingForeground3=(0,Ce.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},he.localize(33,null)),te.editorBracketHighlightingForeground4=(0,Ce.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(34,null)),te.editorBracketHighlightingForeground5=(0,Ce.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(35,null)),te.editorBracketHighlightingForeground6=(0,Ce.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(36,null)),te.editorBracketHighlightingUnexpectedBracketForeground=(0,Ce.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new ve.Color(new ve.RGBA(255,18,18,.8)),light:new ve.Color(new ve.RGBA(255,18,18,.8)),hc:new ve.Color(new ve.RGBA(255,50,50,1))},he.localize(37,null)),te.editorBracketPairGuideBackground1=(0,Ce.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(38,null)),te.editorBracketPairGuideBackground2=(0,Ce.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(39,null)),te.editorBracketPairGuideBackground3=(0,Ce.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(40,null)),te.editorBracketPairGuideBackground4=(0,Ce.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(41,null)),te.editorBracketPairGuideBackground5=(0,Ce.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(42,null)),te.editorBracketPairGuideBackground6=(0,Ce.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(43,null)),te.editorBracketPairGuideActiveBackground1=(0,Ce.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(44,null)),te.editorBracketPairGuideActiveBackground2=(0,Ce.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(45,null)),te.editorBracketPairGuideActiveBackground3=(0,Ce.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(46,null)),te.editorBracketPairGuideActiveBackground4=(0,Ce.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(47,null)),te.editorBracketPairGuideActiveBackground5=(0,Ce.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(48,null)),te.editorBracketPairGuideActiveBackground6=(0,Ce.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},he.localize(49,null)),te.editorUnicodeHighlightBorder=(0,Ce.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},he.localize(50,null)),(0,ye.registerThemingParticipant)(((j,he)=>{const ve=j.getColor(Ce.editorBackground);ve&&he.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${ve}; }`);const ye=j.getColor(Ce.editorForeground);ye&&he.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${ye}; }`);const Ee=j.getColor(te.editorGutter);Ee&&he.addRule(`.monaco-editor .margin { background-color: ${Ee}; }`);const Ie=j.getColor(te.editorRangeHighlight);Ie&&he.addRule(`.monaco-editor .rangeHighlight { background-color: ${Ie}; }`);const Ne=j.getColor(te.editorRangeHighlightBorder);Ne&&he.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===j.type?"dotted":"solid"} ${Ne}; }`);const Oe=j.getColor(te.editorSymbolHighlight);Oe&&he.addRule(`.monaco-editor .symbolHighlight { background-color: ${Oe}; }`);const Ke=j.getColor(te.editorSymbolHighlightBorder);Ke&&he.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===j.type?"dotted":"solid"} ${Ke}; }`);const je=j.getColor(te.editorWhitespaces);je&&(he.addRule(`.monaco-editor .mtkw { color: ${je} !important; }`),he.addRule(`.monaco-editor .mtkz { color: ${je} !important; }`))}))})),define(Ce[643],ie([1,0,100,52,19,14,22,351]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.CurrentLineMarginHighlightOverlay=te.CurrentLineHighlightOverlay=te.AbstractLineHighlightOverlay=void 0;class b extends he.DynamicViewOverlay{constructor(j){super(),this._context=j;const te=this._context.configuration.options,he=te.get(131);this._lineHeight=te.get(59),this._renderLineHighlight=te.get(85),this._renderLineHighlightOnlyWhenFocus=te.get(86),this._contentLeft=he.contentLeft,this._contentWidth=he.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Ee.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let j=!1;const te=this._selections.map((j=>j.positionLineNumber));te.sort(((j,te)=>j-te)),Ce.equals(this._cursorLineNumbers,te)||(this._cursorLineNumbers=te,j=!0);const he=this._selections.every((j=>j.isEmpty()));return this._selectionIsEmpty!==he&&(this._selectionIsEmpty=he,j=!0),j}onThemeChanged(j){return this._readFromSelections()}onConfigurationChanged(j){const te=this._context.configuration.options,he=te.get(131);return this._lineHeight=te.get(59),this._renderLineHighlight=te.get(85),this._renderLineHighlightOnlyWhenFocus=te.get(86),this._contentLeft=he.contentLeft,this._contentWidth=he.contentWidth,!0}onCursorStateChanged(j){return this._selections=j.selections,this._readFromSelections()}onFlushed(j){return!0}onLinesDeleted(j){return!0}onLinesInserted(j){return!0}onScrollChanged(j){return j.scrollWidthChanged||j.scrollTopChanged}onZonesChanged(j){return!0}onFocusChanged(j){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=j.isFocused,!0)}prepareRender(j){if(!this._shouldRenderThis())return void(this._renderData=null);const te=this._renderOne(j),he=j.visibleRange.startLineNumber,ve=j.visibleRange.endLineNumber,Ce=this._cursorLineNumbers.length;let ye=0;const Ee=[];for(let j=he;j<=ve;j++){const ve=j-he;for(;ye<Ce&&this._cursorLineNumbers[ye]<j;)ye++;ye<Ce&&this._cursorLineNumbers[ye]===j?Ee[ve]=te:Ee[ve]=""}this._renderData=Ee}render(j,te){if(!this._renderData)return"";const he=te-j;return he>=this._renderData.length?"":this._renderData[he]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}te.AbstractLineHighlightOverlay=b;te.CurrentLineHighlightOverlay=class p extends b{_renderOne(j){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(j.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}};te.CurrentLineMarginHighlightOverlay=class h extends b{_renderOne(j){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}},(0,ye.registerThemingParticipant)(((j,te)=>{const he=j.getColor(ve.editorLineHighlight);if(he&&(te.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${he}; }`),te.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${he}; border: none; }`)),!he||he.isTransparent()||j.defines(ve.editorLineHighlightBorder)){const he=j.getColor(ve.editorLineHighlightBorder);he&&(te.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${he}; }`),te.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${he}; }`),"hc"===j.type&&(te.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),te.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}))})),define(Ce[644],ie([1,0,100,52,14,11,19,20,246,180,354]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.IndentGuidesOverlay=void 0;class g extends he.DynamicViewOverlay{constructor(j){super(),this._context=j,this._primaryPosition=null;const te=this._context.configuration.options,he=te.get(132),ve=te.get(44);this._lineHeight=te.get(59),this._spaceWidth=ve.spaceWidth,this._maxIndentLeft=-1===he.wrappingColumn?-1:he.wrappingColumn*ve.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=te.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(j){const te=this._context.configuration.options,he=te.get(132),ve=te.get(44);return this._lineHeight=te.get(59),this._spaceWidth=ve.spaceWidth,this._maxIndentLeft=-1===he.wrappingColumn?-1:he.wrappingColumn*ve.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=te.get(13),!0}onCursorStateChanged(j){var te;const he=j.selections[0].getPosition();return!(null===(te=this._primaryPosition)||void 0===te?void 0:te.equals(he))&&(this._primaryPosition=he,!0)}onDecorationsChanged(j){return!0}onFlushed(j){return!0}onLinesChanged(j){return!0}onLinesDeleted(j){return!0}onLinesInserted(j){return!0}onScrollChanged(j){return j.scrollTopChanged}onZonesChanged(j){return!0}onLanguageConfigurationChanged(j){return!0}prepareRender(j){var te,he,ve,Ce;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const Ee=j.visibleRange.startLineNumber,Ie=j.visibleRange.endLineNumber,Ne=j.scrollWidth,Oe=this._lineHeight,Ke=this._primaryPosition,je=this.getGuidesByLine(Ee,Ie,Ke),Ze=[];for(let Ke=Ee;Ke<=Ie;Ke++){const Ie=Ke-Ee,Ye=je[Ie];let et="";const nt=null!==(he=null===(te=j.visibleRangeForPosition(new ye.Position(Ke,1)))||void 0===te?void 0:te.left)&&void 0!==he?he:0;for(const te of Ye){const he=nt+(te.visibleColumn-1)*this._spaceWidth;if(he>Ne||this._maxIndentLeft>0&&he>this._maxIndentLeft)break;const Ee=te.horizontalLine?te.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Ie=te.horizontalLine?(null!==(Ce=null===(ve=j.visibleRangeForPosition(new ye.Position(Ke,te.horizontalLine.endColumn)))||void 0===ve?void 0:ve.left)&&void 0!==Ce?Ce:he+this._spaceWidth)-he:this._spaceWidth;et+=`<div class="core-guide ${te.className} ${Ee}" style="left:${he}px;height:${Oe}px;width:${Ie}px"></div>`}Ze[Ie]=et}this._renderResult=Ze}getGuidesByLine(j,te,he){const ve=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.model.getBracketGuidesInRangeByLine(j,te,he,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?Oe.HorizontalGuidesState.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?Oe.HorizontalGuidesState.EnabledForActive:Oe.HorizontalGuidesState.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,Ce=this._bracketPairGuideOptions.indentation?this._context.model.getLinesIndentGuides(j,te):null;let ye=0,Ie=0,Ne=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&he){const ve=this._context.model.getActiveIndentGuide(he.lineNumber,j,te);ye=ve.startLineNumber,Ie=ve.endLineNumber,Ne=ve.indent}const{indentSize:Ke}=this._context.model.getTextModelOptions(),je=[];for(let he=j;he<=te;he++){const te=new Array;je.push(te);const Ze=ve?ve[he-j]:[],Ye=new Ee.ArrayQueue(Ze),et=Ce?Ce[he-j]:[];for(let j=1;j<=et;j++){const ve=(j-1)*Ke+1,Ce=0===Ze.length&&ye<=he&&he<=Ie&&j===Ne;te.push(...Ye.takeWhile((j=>j.visibleColumn<ve))||[]);const Ee=Ye.peek();(!Ee||Ee.visibleColumn!==ve||Ee.horizontalLine)&&te.push(new Oe.IndentGuide(ve,Ce?"core-guide-indent-active":"core-guide-indent",null))}te.push(...Ye.takeWhile((j=>!0))||[])}return je}render(j,te){if(!this._renderResult)return"";const he=te-j;return he<0||he>=this._renderResult.length?"":this._renderResult[he]}}function t(j){if(!j||!j.isTransparent())return j}te.IndentGuidesOverlay=g,(0,Ce.registerThemingParticipant)(((j,te)=>{const he=j.getColor(ve.editorIndentGuides);he&&te.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${he} inset; }`);const Ce=j.getColor(ve.editorActiveIndentGuides)||he;Ce&&te.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${Ce} inset; }`);const ye=[{bracketColor:ve.editorBracketHighlightingForeground1,guideColor:ve.editorBracketPairGuideBackground1,guideColorActive:ve.editorBracketPairGuideActiveBackground1},{bracketColor:ve.editorBracketHighlightingForeground2,guideColor:ve.editorBracketPairGuideBackground2,guideColorActive:ve.editorBracketPairGuideActiveBackground2},{bracketColor:ve.editorBracketHighlightingForeground3,guideColor:ve.editorBracketPairGuideBackground3,guideColorActive:ve.editorBracketPairGuideActiveBackground3},{bracketColor:ve.editorBracketHighlightingForeground4,guideColor:ve.editorBracketPairGuideBackground4,guideColorActive:ve.editorBracketPairGuideActiveBackground4},{bracketColor:ve.editorBracketHighlightingForeground5,guideColor:ve.editorBracketPairGuideBackground5,guideColorActive:ve.editorBracketPairGuideActiveBackground5},{bracketColor:ve.editorBracketHighlightingForeground6,guideColor:ve.editorBracketPairGuideBackground6,guideColorActive:ve.editorBracketPairGuideActiveBackground6}],Ee=new Ne.BracketPairGuidesClassNames,Oe=ye.map((te=>{var he,ve;const Ce=j.getColor(te.bracketColor),ye=j.getColor(te.guideColor),Ee=j.getColor(te.guideColorActive),Ie=t(null!==(he=t(ye))&&void 0!==he?he:null==Ce?void 0:Ce.transparent(.3)),Ne=t(null!==(ve=t(Ee))&&void 0!==ve?ve:Ce);if(Ie&&Ne)return{guideColor:Ie,guideColorActive:Ne}})).filter(Ie.isDefined);if(Oe.length>0){for(let j=0;j<30;j++){const he=Oe[j%Oe.length];te.addRule(`.monaco-editor .${Ee.getInlineClassNameOfLevel(j).replace(/ /g,".")} { --guide-color: ${he.guideColor}; --guide-color-active: ${he.guideColorActive}; }`)}te.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),te.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),te.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),te.addRule(`.monaco-editor .vertical.${Ee.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),te.addRule(`.monaco-editor .horizontal-top.${Ee.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),te.addRule(`.monaco-editor .horizontal-bottom.${Ee.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}}))})),define(Ce[280],ie([1,0,17,100,11,52,14,355]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.LineNumbersOverlay=void 0;class b extends ve.DynamicViewOverlay{constructor(j){super(),this._context=j,this._readConfig(),this._lastCursorModelPosition=new Ce.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const j=this._context.configuration.options;this._lineHeight=j.get(59);const te=j.get(60);this._renderLineNumbers=te.renderType,this._renderCustomLineNumbers=te.renderFn,this._renderFinalNewline=j.get(84);const he=j.get(131);this._lineNumbersLeft=he.lineNumbersLeft,this._lineNumbersWidth=he.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(j){return this._readConfig(),!0}onCursorStateChanged(j){const te=j.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(te);let he=!1;return this._activeLineNumber!==te.lineNumber&&(this._activeLineNumber=te.lineNumber,he=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&(he=!0),he}onFlushed(j){return!0}onLinesChanged(j){return!0}onLinesDeleted(j){return!0}onLinesInserted(j){return!0}onScrollChanged(j){return j.scrollTopChanged}onZonesChanged(j){return!0}_getLineRenderLineNumber(j){const te=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Ce.Position(j,1));if(1!==te.column)return"";const he=te.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(he);if(2===this._renderLineNumbers){const j=Math.abs(this._lastCursorModelPosition.lineNumber-he);return 0===j?'<span class="relative-current-line-number">'+he+"</span>":String(j)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===he||he%10==0?String(he):"":String(he)}prepareRender(j){if(0===this._renderLineNumbers)return void(this._renderResult=null);const te=he.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",ve=j.visibleRange.startLineNumber,Ce=j.visibleRange.endLineNumber,ye='<div class="'+b.CLASS_NAME+te+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',Ee=this._context.model.getLineCount(),Ie=[];for(let j=ve;j<=Ce;j++){const he=j-ve;if(!this._renderFinalNewline&&j===Ee&&0===this._context.model.getLineLength(j)){Ie[he]="";continue}const Ce=this._getLineRenderLineNumber(j);Ce?j===this._activeLineNumber?Ie[he]='<div class="active-line-number '+b.CLASS_NAME+te+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+Ce+"</div>":Ie[he]=ye+Ce+"</div>":Ie[he]=""}this._renderResult=Ie}render(j,te){if(!this._renderResult)return"";const he=te-j;return he<0||he>=this._renderResult.length?"":this._renderResult[he]}}te.LineNumbersOverlay=b,b.CLASS_NAME="line-numbers",(0,Ee.registerThemingParticipant)(((j,te)=>{const he=j.getColor(ye.editorLineNumbers);he&&te.addRule(`.monaco-editor .line-numbers { color: ${he}; }`);const ve=j.getColor(ye.editorActiveLineNumber);ve&&te.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${ve}; }`)}))})),define(Ce[645],ie([1,0,498,34,30,17,8,62,175,234,50,280,253,31,118,11,3,22,141,18,29,350]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt){Object.defineProperty(te,"__esModule",{value:!0}),te.TextAreaHandler=void 0;class u{constructor(j,te,he,ve,Ce){this._context=j,this.modelLineNumber=te,this.distanceToModelLineStart=he,this.widthOfHiddenLineTextBefore=ve,this.distanceToModelLineEnd=Ce,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null}prepareRender(j){const te=new nt.Position(this.modelLineNumber,this.distanceToModelLineStart+1),he=new nt.Position(this.modelLineNumber,this._context.model.getModelLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(te),this.endPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(he),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=j.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=j.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}}const pt=ve.isFirefox;class S extends Ke.ViewPart{constructor(j,te,Ee){super(j),this._primaryCursorPosition=new nt.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=te,this._visibleRangeProvider=Ee,this._scrollLeft=0,this._scrollTop=0;const je=this._context.configuration.options,Ze=je.get(131);this._setAccessibilityOptions(je),this._contentLeft=Ze.contentLeft,this._contentWidth=Ze.contentWidth,this._contentHeight=Ze.height,this._fontInfo=je.get(44),this._lineHeight=je.get(59),this._emptySelectionClipboard=je.get(32),this._copyWithSyntaxHighlighting=je.get(21),this._visibleTextArea=null,this._selections=[new at.Selection(1,1,1,1)],this._modelSelections=[new at.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,Ce.createFastDomNode)(document.createElement("textarea")),Ke.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${ct.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(je)),this.textArea.setAttribute("tabindex",String(je.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",he.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),je.get(30)&&je.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,Ce.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const Ye={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:j=>this._context.model.getLineMaxColumn(j),getValueInRange:(j,te)=>this._context.model.getValueInRange(j,te)},et={getDataToCopy:()=>{const j=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,ye.isWindows),te=this._context.model.getEOL(),he=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),ve=Array.isArray(j)?j:null,Ce=Array.isArray(j)?j.join(te):j;let Ee,Ie=null;if(Ne.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Ce.length<65536){const j=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);j&&(Ee=j.html,Ie=j.mode)}return{isFromEmptySelection:he,multicursorText:ve,text:Ce,html:Ee,mode:Ie}},getScreenReaderContent:j=>{if(1===this._accessibilitySupport){if(ye.isMacintosh){const j=this._selections[0];if(j.isEmpty()){const te=j.getStartPosition();let he=this._getWordBeforePosition(te);if(0===he.length&&(he=this._getCharacterBeforePosition(te)),he.length>0)return new Oe.TextAreaState(he,he.length,he.length,te,te)}}return Oe.TextAreaState.EMPTY}if(ve.isAndroid){const j=this._selections[0];if(j.isEmpty()){const te=j.getStartPosition(),[he,ve]=this._getAndroidWordAtPosition(te);if(he.length>0)return new Oe.TextAreaState(he,ve,ve,te,te)}return Oe.TextAreaState.EMPTY}return Oe.PagedScreenReaderStrategy.fromEditorSelection(j,Ye,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(j,te,he)=>this._context.model.deduceModelPositionRelativeToViewPosition(j,te,he)},ht=this._register(new Ne.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new Ne.TextAreaInput(et,ht,ye.OS,ve)),this._register(this._textAreaInput.onKeyDown((j=>{this._viewController.emitKeyDown(j)}))),this._register(this._textAreaInput.onKeyUp((j=>{this._viewController.emitKeyUp(j)}))),this._register(this._textAreaInput.onPaste((j=>{let te=!1,he=null,ve=null;j.metadata&&(te=this._emptySelectionClipboard&&!!j.metadata.isFromEmptySelection,he=void 0!==j.metadata.multicursorText?j.metadata.multicursorText:null,ve=j.metadata.mode),this._viewController.paste(j.text,te,he,ve)}))),this._register(this._textAreaInput.onCut((()=>{this._viewController.cut()}))),this._register(this._textAreaInput.onType((j=>{j.replacePrevCharCnt||j.replaceNextCharCnt||j.positionDelta?(Oe._debugComposition&&console.log(` => compositionType: <<${j.text}>>, ${j.replacePrevCharCnt}, ${j.replaceNextCharCnt}, ${j.positionDelta}`),this._viewController.compositionType(j.text,j.replacePrevCharCnt,j.replaceNextCharCnt,j.positionDelta)):(Oe._debugComposition&&console.log(` => type: <<${j.text}>>`),this._viewController.type(j.text))}))),this._register(this._textAreaInput.onSelectionChangeRequest((j=>{this._viewController.setSelection(j)}))),this._register(this._textAreaInput.onCompositionStart((j=>{const te=this.textArea.domNode,he=this._modelSelections[0],{distanceToModelLineStart:ve,widthOfHiddenTextBefore:Ce}=(()=>{const j=te.value.substring(0,Math.min(te.selectionStart,te.selectionEnd)),ve=j.lastIndexOf("\n"),Ce=j.substring(ve+1),ye=Ce.lastIndexOf("\t"),Ee=Ce.length-ye-1,Ne=he.getStartPosition(),Oe=Math.min(Ne.column-1,Ee),Ke=Ne.column-1-Oe,je=function v(j,te){if(0===j.length)return 0;const he=document.createElement("div");he.style.position="absolute",he.style.top="-50000px",he.style.width="50000px";const ve=document.createElement("span");(0,Ie.applyFontInfo)(ve,te),ve.style.whiteSpace="pre",ve.append(j),he.appendChild(ve),document.body.appendChild(he);const Ce=ve.offsetWidth;return document.body.removeChild(he),Ce}(Ce.substring(0,Ce.length-Oe),this._fontInfo);return{distanceToModelLineStart:Ke,widthOfHiddenTextBefore:je}})(),{distanceToModelLineEnd:ye}=(()=>{const j=te.value.substring(Math.max(te.selectionStart,te.selectionEnd)),ve=j.indexOf("\n"),Ce=-1===ve?j:j.substring(0,ve),ye=Ce.indexOf("\t"),Ee=-1===ye?Ce.length:Ce.length-ye-1,Ie=he.getEndPosition(),Ne=Math.min(this._context.model.getModelLineMaxColumn(Ie.lineNumber)-Ie.column,Ee);return{distanceToModelLineEnd:this._context.model.getModelLineMaxColumn(Ie.lineNumber)-Ie.column-Ne}})();this._context.model.revealRange("keyboard",!0,rt.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new u(this._context,he.startLineNumber,ve,Ce,ye),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${ct.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()}))),this._register(this._textAreaInput.onCompositionUpdate((j=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())}))),this._register(this._textAreaInput.onCompositionEnd((()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${ct.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()}))),this._register(this._textAreaInput.onFocus((()=>{this._context.model.setHasFocus(!0)}))),this._register(this._textAreaInput.onBlur((()=>{this._context.model.setHasFocus(!1)})))}dispose(){super.dispose()}_getAndroidWordAtPosition(j){const te=this._context.model.getLineContent(j.lineNumber),he=(0,et.getMapForWordSeparators)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let ve=!0,Ce=j.column,ye=!0,Ee=j.column,Ie=0;for(;Ie<50&&(ve||ye);){if(ve&&Ce<=1&&(ve=!1),ve){const j=te.charCodeAt(Ce-2);0!==he.get(j)?ve=!1:Ce--}if(ye&&Ee>te.length&&(ye=!1),ye){const j=te.charCodeAt(Ee-1);0!==he.get(j)?ye=!1:Ee++}Ie++}return[te.substring(Ce-1,Ee-1),j.column-Ce]}_getWordBeforePosition(j){const te=this._context.model.getLineContent(j.lineNumber),he=(0,et.getMapForWordSeparators)(this._context.configuration.options.get(117));let ve=j.column,Ce=0;for(;ve>1;){const ye=te.charCodeAt(ve-2);if(0!==he.get(ye)||Ce>50)return te.substring(ve-1,j.column-1);Ce++,ve--}return te.substring(0,j.column-1)}_getCharacterBeforePosition(j){if(j.column>1){const te=this._context.model.getLineContent(j.lineNumber).charAt(j.column-2);if(!Ee.isHighSurrogate(te.charCodeAt(0)))return te}return""}_getAriaLabel(j){return 1===j.get(2)?he.localize(1,null,ye.isLinux?"Shift+Alt+F1":"Alt+F1"):j.get(4)}_setAccessibilityOptions(j){this._accessibilitySupport=j.get(2);const te=j.get(3);2===this._accessibilitySupport&&te===Ye.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=te}onConfigurationChanged(j){const te=this._context.configuration.options,he=te.get(131);return this._setAccessibilityOptions(te),this._contentLeft=he.contentLeft,this._contentWidth=he.contentWidth,this._contentHeight=he.height,this._fontInfo=te.get(44),this._lineHeight=te.get(59),this._emptySelectionClipboard=te.get(32),this._copyWithSyntaxHighlighting=te.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(te)),this.textArea.setAttribute("tabindex",String(te.get(112))),(j.hasChanged(30)||j.hasChanged(81))&&(te.get(30)&&te.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),j.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(j){return this._selections=j.selections.slice(0),this._modelSelections=j.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(j){return!0}onFlushed(j){return!0}onLinesChanged(j){return!0}onLinesDeleted(j){return!0}onLinesInserted(j){return!0}onScrollChanged(j){return this._scrollLeft=j.scrollLeft,this._scrollTop=j.scrollTop,!0}onZonesChanged(j){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(j){j.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",j.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),j.role&&this.textArea.setAttribute("role",j.role)}prepareRender(j){this._primaryCursorPosition=new nt.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=j.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(j)}render(j){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const j=this._visibleTextArea.visibleTextareaStart,te=this._visibleTextArea.visibleTextareaEnd,he=this._visibleTextArea.startPosition,ve=this._visibleTextArea.endPosition;if(he&&ve&&j&&te&&te.left>=this._scrollLeft&&j.left<=this._scrollLeft+this._contentWidth){const Ce=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,ye=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=ye*this._lineHeight;let Ee=this._visibleTextArea.widthOfHiddenLineTextBefore,Ie=this._contentLeft+j.left-this._scrollLeft,Ne=te.left-j.left;if(Ie<this._contentLeft){const j=this._contentLeft-Ie;Ie+=j,Ee+=j,Ne-=j}Ne>this._contentWidth&&(Ne=this._contentWidth),this.textArea.domNode.scrollLeft=Ee,this._renderInsideEditor(null,Ce,Ie,Ne,this._lineHeight);const Oe=this._context.model.getViewLineData(he.lineNumber),Ke=Oe.tokens.findTokenIndexAtOffset(he.column-1);let je;je=Ke===Oe.tokens.findTokenIndexAtOffset(ve.column-1)?Oe.tokens.getPresentation(Ke):{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1};const Ze=(ht.TokenizationRegistry.getColorMap()||[])[je.foreground];this.textArea.domNode.style.color=Ze?mt.Color.Format.CSS.formatHex(Ze):"inherit",this.textArea.domNode.style.fontStyle=je.italic?"italic":"inherit",je.bold&&(this.textArea.domNode.style.fontWeight="bold"),this.textArea.domNode.style.textDecoration=`${je.underline?" underline":""}${je.strikethrough?" line-through":""}`}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const j=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(j<this._contentLeft||j>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const te=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(te<0||te>this._contentHeight)this._renderAtTopLeft();else if(ye.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,te,j,pt?0:1,this._lineHeight),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const he=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=he*this._lineHeight}else this._renderInsideEditor(this._primaryCursorPosition,te,j,pt?0:1,pt?0:1)}_newlinecount(j){let te=0,he=-1;for(;;){if(he=j.indexOf("\n",he+1),-1===he)break;te++}return te}_renderInsideEditor(j,te,he,ve,Ce){this._lastRenderPosition=j;const ye=this.textArea,Ee=this.textAreaCover;(0,Ie.applyFontInfo)(ye,this._fontInfo),ye.setTop(te),ye.setLeft(he),ye.setWidth(ve),ye.setHeight(Ce),Ee.setTop(0),Ee.setLeft(0),Ee.setWidth(0),Ee.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const j=this.textArea,te=this.textAreaCover;if((0,Ie.applyFontInfo)(j,this._fontInfo),j.setTop(0),j.setLeft(0),te.setTop(0),te.setLeft(0),pt)return j.setWidth(0),j.setHeight(0),te.setWidth(0),void te.setHeight(0);j.setWidth(1),j.setHeight(1),te.setWidth(1),te.setHeight(1);const he=this._context.configuration.options;he.get(50)?te.setClassName("monaco-editor-background textAreaCover "+Ze.Margin.OUTER_CLASS_NAME):0!==he.get(60).renderType?te.setClassName("monaco-editor-background textAreaCover "+je.LineNumbersOverlay.CLASS_NAME):te.setClassName("monaco-editor-background textAreaCover")}}te.TextAreaHandler=S})),define(Ce[646],ie([1,0,30,29,50,11,18,52,69]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.DecorationsOverviewRuler=void 0;class h{constructor(j,te){const he=j.options;this.lineHeight=he.get(59),this.pixelRatio=he.get(129),this.overviewRulerLanes=he.get(74),this.renderBorder=he.get(73);const Ce=te.getColor(Ie.editorOverviewRulerBorder);this.borderColor=Ce?Ce.toString():null,this.hideCursor=he.get(52);const ye=te.getColor(Ie.editorCursorForeground);this.cursorColor=ye?ye.transparent(.7).toString():null,this.themeType=te.type;const Ne=he.get(65),Oe=Ne.enabled,Ke=Ne.side,je=Oe?te.getColor(Ie.editorOverviewRulerBackground)||Ee.TokenizationRegistry.getDefaultBackground():null;this.backgroundColor=null===je||"left"===Ke?null:ve.Color.Format.CSS.formatHex(je);const Ze=he.get(131).overviewRuler;this.top=Ze.top,this.right=Ze.right,this.domWidth=Ze.width,this.domHeight=Ze.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Ye,et]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Ye,this.w=et}_initLanes(j,te,he){const ve=te-j;if(he>=3){const te=Math.floor(ve/3),he=Math.floor(ve/3),Ce=ve-te-he,ye=j+te;return[[0,j,ye,j,j+te+Ce,j,ye,j],[0,te,Ce,te+Ce,he,te+Ce+he,Ce+he,te+Ce+he]]}if(2===he){const te=Math.floor(ve/2),he=ve-te;return[[0,j,j,j,j+te,j,j,j],[0,te,te,te,he,te+he,te+he,te+he]]}return[[0,j,j,j,j,j,j,j],[0,ve,ve,ve,ve,ve,ve,ve]]}equals(j){return this.lineHeight===j.lineHeight&&this.pixelRatio===j.pixelRatio&&this.overviewRulerLanes===j.overviewRulerLanes&&this.renderBorder===j.renderBorder&&this.borderColor===j.borderColor&&this.hideCursor===j.hideCursor&&this.cursorColor===j.cursorColor&&this.themeType===j.themeType&&this.backgroundColor===j.backgroundColor&&this.top===j.top&&this.right===j.right&&this.domWidth===j.domWidth&&this.domHeight===j.domHeight&&this.canvasWidth===j.canvasWidth&&this.canvasHeight===j.canvasHeight}}class g extends Ce.ViewPart{constructor(j){super(j),this._domNode=(0,he.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Ee.TokenizationRegistry.onDidChange((j=>{j.changedColorMap&&this._updateSettings(!0)})),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(j){const te=new h(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(te))&&(this._settings=te,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,j&&this._render(),!0)}onConfigurationChanged(j){return this._updateSettings(!1)}onCursorStateChanged(j){this._cursorPositions=[];for(let te=0,he=j.selections.length;te<he;te++)this._cursorPositions[te]=j.selections[te].getPosition();return this._cursorPositions.sort(ye.Position.compare),!0}onDecorationsChanged(j){return!!j.affectsOverviewRuler}onFlushed(j){return!0}onScrollChanged(j){return j.scrollHeightChanged}onZonesChanged(j){return!0}onThemeChanged(j){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(j){}render(j){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const j=this._settings.canvasWidth,te=this._settings.canvasHeight,he=this._settings.lineHeight,ve=this._context.viewLayout,Ce=te/this._context.viewLayout.getScrollHeight(),ye=this._context.model.getAllOverviewRulerDecorations(this._context.theme),Ee=6*this._settings.pixelRatio|0,Ie=Ee/2|0,Oe=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?Oe.clearRect(0,0,j,te):(Oe.fillStyle=this._settings.backgroundColor,Oe.fillRect(0,0,j,te));const Ke=this._settings.x,je=this._settings.w;ye.sort(Ne.OverviewRulerDecorationsGroup.cmp);for(const j of ye){const ye=j.color,Ne=j.data;Oe.fillStyle=ye;let Ze=0,Ye=0,et=0;for(let j=0,ye=Ne.length/3;j<ye;j++){const ye=Ne[3*j],nt=Ne[3*j+1],rt=Ne[3*j+2];let at=ve.getVerticalOffsetForLineNumber(nt)*Ce|0,ct=(ve.getVerticalOffsetForLineNumber(rt)+he)*Ce|0;if(ct-at<Ee){let j=(at+ct)/2|0;j<Ie?j=Ie:j+Ie>te&&(j=te-Ie),at=j-Ie,ct=j+Ie}at>et+1||ye!==Ze?(0!==j&&Oe.fillRect(Ke[Ze],Ye,je[Ze],et-Ye),Ze=ye,Ye=at,et=ct):ct>et&&(et=ct)}Oe.fillRect(Ke[Ze],Ye,je[Ze],et-Ye)}if(!this._settings.hideCursor&&this._settings.cursorColor){const j=2*this._settings.pixelRatio|0,he=j/2|0,ye=this._settings.x[7],Ee=this._settings.w[7];Oe.fillStyle=this._settings.cursorColor;let Ie=-100,Ne=-100;for(let Ke=0,je=this._cursorPositions.length;Ke<je;Ke++){const je=this._cursorPositions[Ke];let Ze=ve.getVerticalOffsetForLineNumber(je.lineNumber)*Ce|0;Ze<he?Ze=he:Ze+he>te&&(Ze=te-he);const Ye=Ze-he,et=Ye+j;Ye>Ne+1?(0!==Ke&&Oe.fillRect(ye,Ie,Ee,Ne-Ie),Ie=Ye,Ne=et):et>Ne&&(Ne=et)}Oe.fillRect(ye,Ie,Ee,Ne-Ie)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Oe.beginPath(),Oe.lineWidth=1,Oe.strokeStyle=this._settings.borderColor,Oe.moveTo(0,0),Oe.lineTo(0,te),Oe.stroke(),Oe.moveTo(0,0),Oe.lineTo(j,0),Oe.stroke())}}te.DecorationsOverviewRuler=g})),define(Ce[647],ie([1,0,30,50,52,14,361]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.Rulers=void 0;class w extends ve.ViewPart{constructor(j){super(j),this.domNode=(0,he.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const te=this._context.configuration.options;this._rulers=te.get(91),this._typicalHalfwidthCharacterWidth=te.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(j){const te=this._context.configuration.options;return this._rulers=te.get(91),this._typicalHalfwidthCharacterWidth=te.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(j){return j.scrollHeightChanged}prepareRender(j){}_ensureRulersCount(){const j=this._renderedRulers.length,te=this._rulers.length;if(j===te)return;if(j<te){const{tabSize:ve}=this._context.model.getTextModelOptions(),Ce=ve;let ye=te-j;for(;ye>0;){const j=(0,he.createFastDomNode)(document.createElement("div"));j.setClassName("view-ruler"),j.setWidth(Ce),this.domNode.appendChild(j),this._renderedRulers.push(j),ye--}return}let ve=j-te;for(;ve>0;){const j=this._renderedRulers.pop();this.domNode.removeChild(j),ve--}}render(j){this._ensureRulersCount();for(let te=0,he=this._rulers.length;te<he;te++){const he=this._renderedRulers[te],ve=this._rulers[te];he.setBoxShadow(ve.color?`1px 0 0 0 ${ve.color} inset`:""),he.setHeight(Math.min(j.scrollHeight,1e6)),he.setLeft(ve.column*this._typicalHalfwidthCharacterWidth)}}}te.Rulers=w,(0,ye.registerThemingParticipant)(((j,te)=>{const he=j.getColor(Ce.editorRuler);he&&te.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${he} inset; }`)}))})),define(Ce[648],ie([1,0,30,10,50,510,31,52,14,364]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewCursors=void 0;class h extends Ce.ViewPart{constructor(j){super(j);const te=this._context.configuration.options;this._readOnly=te.get(81),this._cursorBlinking=te.get(22),this._cursorStyle=te.get(24),this._cursorSmoothCaretAnimation=te.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new ye.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,he.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new ve.TimeoutTimer,this._cursorFlatBlinkInterval=new ve.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(j){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(j){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(j){const te=this._context.configuration.options;this._readOnly=te.get(81),this._cursorBlinking=te.get(22),this._cursorStyle=te.get(24),this._cursorSmoothCaretAnimation=te.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(j);for(let te=0,he=this._secondaryCursors.length;te<he;te++)this._secondaryCursors[te].onConfigurationChanged(j);return!0}_onCursorPositionChanged(j,te){if(this._primaryCursor.onCursorPositionChanged(j),this._updateBlinking(),this._secondaryCursors.length<te.length){const j=te.length-this._secondaryCursors.length;for(let te=0;te<j;te++){const j=new ye.ViewCursor(this._context);this._domNode.domNode.insertBefore(j.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(j)}}else if(this._secondaryCursors.length>te.length){const j=this._secondaryCursors.length-te.length;for(let te=0;te<j;te++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let j=0;j<te.length;j++)this._secondaryCursors[j].onCursorPositionChanged(te[j])}onCursorStateChanged(j){const te=[];for(let he=0,ve=j.selections.length;he<ve;he++)te[he]=j.selections[he].getPosition();this._onCursorPositionChanged(te[0],te.slice(1));const he=j.selections[0].isEmpty();return this._selectionIsEmpty!==he&&(this._selectionIsEmpty=he,this._updateDomClassName()),!0}onDecorationsChanged(j){return!0}onFlushed(j){return!0}onFocusChanged(j){return this._editorHasFocus=j.isFocused,this._updateBlinking(),!1}onLinesChanged(j){return!0}onLinesDeleted(j){return!0}onLinesInserted(j){return!0}onScrollChanged(j){return!0}onTokensChanged(j){const i=te=>{for(let he=0,ve=j.ranges.length;he<ve;he++)if(j.ranges[he].fromLineNumber<=te.lineNumber&&te.lineNumber<=j.ranges[he].toLineNumber)return!0;return!1};if(i(this._primaryCursor.getPosition()))return!0;for(const j of this._secondaryCursors)if(i(j.getPosition()))return!0;return!1}onZonesChanged(j){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const j=this._getCursorBlinking(),te=0===j,he=5===j;te?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!te&&!he&&(1===j?this._cursorFlatBlinkInterval.cancelAndSet((()=>{this._isVisible?this._hide():this._show()}),h.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet((()=>{this._blinkingEnabled=!0,this._updateDomClassName()}),h.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let j="cursors-layer";switch(this._selectionIsEmpty||(j+=" has-selection"),this._cursorStyle){case Ee.TextEditorCursorStyle.Line:j+=" cursor-line-style";break;case Ee.TextEditorCursorStyle.Block:j+=" cursor-block-style";break;case Ee.TextEditorCursorStyle.Underline:j+=" cursor-underline-style";break;case Ee.TextEditorCursorStyle.LineThin:j+=" cursor-line-thin-style";break;case Ee.TextEditorCursorStyle.BlockOutline:j+=" cursor-block-outline-style";break;case Ee.TextEditorCursorStyle.UnderlineThin:j+=" cursor-underline-thin-style";break;default:j+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:j+=" cursor-blink";break;case 2:j+=" cursor-smooth";break;case 3:j+=" cursor-phase";break;case 4:j+=" cursor-expand";break;default:j+=" cursor-solid"}else j+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(j+=" cursor-smooth-caret-animation"),j}_show(){this._primaryCursor.show();for(let j=0,te=this._secondaryCursors.length;j<te;j++)this._secondaryCursors[j].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let j=0,te=this._secondaryCursors.length;j<te;j++)this._secondaryCursors[j].hide();this._isVisible=!1}prepareRender(j){this._primaryCursor.prepareRender(j);for(let te=0,he=this._secondaryCursors.length;te<he;te++)this._secondaryCursors[te].prepareRender(j)}render(j){const te=[];let he=0;const ve=this._primaryCursor.render(j);ve&&(te[he++]=ve);for(let ve=0,Ce=this._secondaryCursors.length;ve<Ce;ve++){const Ce=this._secondaryCursors[ve].render(j);Ce&&(te[he++]=Ce)}this._renderData=te}getLastRenderData(){return this._renderData}}te.ViewCursors=h,h.BLINK_INTERVAL=500,(0,Ne.registerThemingParticipant)(((j,te)=>{const he=j.getColor(Ie.editorCursorForeground);if(he){let ve=j.getColor(Ie.editorCursorBackground);ve||(ve=he.opposite()),te.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${he}; border-color: ${he}; color: ${ve}; }`),"hc"===j.type&&te.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${ve}; border-right: 1px solid ${ve}; }`)}}))})),define(Ce[649],ie([1,0,4,2,3,52,14]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.ColorizedBracketPairsDecorationProvider=void 0;class b extends ve.Disposable{constructor(j){super(),this.textModel=j,this.colorProvider=new p,this.onDidChangeEmitter=new he.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=j.getOptions().bracketPairColorizationOptions,this._register(j.onDidChangeOptions((te=>{this.colorizationOptions=j.getOptions().bracketPairColorizationOptions}))),this._register(j.bracketPairs.onDidChange((j=>{this.onDidChangeEmitter.fire()})))}getDecorationsInRange(j,te,he){if(void 0===te)return[];if(!this.colorizationOptions.enabled)return[];const ve=new Array,Ce=this.textModel.bracketPairs.getBracketsInRange(j);for(const j of Ce)ve.push({id:`bracket${j.range.toString()}-${j.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(j)},ownerId:0,range:j.range});return ve}getAllDecorations(j,te){return void 0===j?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new Ce.Range(1,1,this.textModel.getLineCount(),1),j,te):[]}}te.ColorizedBracketPairsDecorationProvider=b;class p{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(j){return j.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(j.nestingLevel)}getInlineClassNameOfLevel(j){return"bracket-highlighting-"+j%30}}(0,Ee.registerThemingParticipant)(((j,te)=>{const he=[ye.editorBracketHighlightingForeground1,ye.editorBracketHighlightingForeground2,ye.editorBracketHighlightingForeground3,ye.editorBracketHighlightingForeground4,ye.editorBracketHighlightingForeground5,ye.editorBracketHighlightingForeground6],ve=new p;te.addRule(`.monaco-editor .${ve.unexpectedClosingBracketClassName} { color: ${j.getColor(ye.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const Ce=he.map((te=>j.getColor(te))).filter((j=>!!j)).filter((j=>!j.isTransparent()));for(let j=0;j<30;j++){const he=Ce[j%Ce.length];te.addRule(`.monaco-editor .${ve.getInlineClassNameOfLevel(j)} { color: ${he}; }`)}}))})),define(Ce[650],ie([1,0,77,2,49,14,52,45,3,48,4,23,47]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){Object.defineProperty(te,"__esModule",{value:!0}),te.MarkerDecorationsService=void 0;class n extends ve.Disposable{constructor(j){super(),this.model=j,this._markersData=new Map,this._register((0,ve.toDisposable)((()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()})))}update(j,te){const he=[...this._markersData.keys()];this._markersData.clear();const ve=this.model.deltaDecorations(he,te);for(let te=0;te<ve.length;te++)this._markersData.set(ve[te],j[te]);return 0!==he.length||0!==ve.length}getMarker(j){return this._markersData.get(j.id)}}let Ye=class extends ve.Disposable{constructor(j,te){super(),this._markerService=te,this._onDidChangeMarker=this._register(new Ke.Emitter),this._markerDecorations=new Ze.ResourceMap,j.getModels().forEach((j=>this._onModelAdded(j))),this._register(j.onModelAdded(this._onModelAdded,this)),this._register(j.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach((j=>j.dispose())),this._markerDecorations.clear()}getMarker(j,te){const he=this._markerDecorations.get(j);return he&&he.getMarker(te)||null}_handleMarkerChange(j){j.forEach((j=>{const te=this._markerDecorations.get(j);te&&this._updateDecorations(te)}))}_onModelAdded(j){const te=new n(j);this._markerDecorations.set(j.uri,te),this._updateDecorations(te)}_onModelRemoved(j){const te=this._markerDecorations.get(j.uri);te&&(te.dispose(),this._markerDecorations.delete(j.uri)),(j.uri.scheme===Oe.Schemas.inMemory||j.uri.scheme===Oe.Schemas.internal||j.uri.scheme===Oe.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:j.uri}).map((j=>j.owner)).forEach((te=>this._markerService.remove(te,[j.uri])))}_updateDecorations(j){const te=this._markerService.read({resource:j.model.uri,take:500}),he=te.map((te=>({range:this._createDecorationRange(j.model,te),options:this._createDecorationOption(te)})));j.update(te,he)&&this._onDidChangeMarker.fire(j.model)}_createDecorationRange(j,te){let ve=Ne.Range.lift(te);return te.severity===he.MarkerSeverity.Hint&&!this._hasMarkerTag(te,1)&&!this._hasMarkerTag(te,2)&&(ve=ve.setEndPosition(ve.startLineNumber,ve.startColumn+2)),j.validateRange(ve)}_createDecorationOption(j){let te,ve,Ie,Ne,Oe;switch(j.severity){case he.MarkerSeverity.Hint:te=this._hasMarkerTag(j,2)?void 0:this._hasMarkerTag(j,1)?"squiggly-unnecessary":"squiggly-hint",Ie=0;break;case he.MarkerSeverity.Warning:te="squiggly-warning",ve=(0,ye.themeColorFromId)(Ee.overviewRulerWarning),Ie=20,Oe={color:(0,ye.themeColorFromId)(je.minimapWarning),position:Ce.MinimapPosition.Inline};break;case he.MarkerSeverity.Info:te="squiggly-info",ve=(0,ye.themeColorFromId)(Ee.overviewRulerInfo),Ie=10;break;case he.MarkerSeverity.Error:default:te="squiggly-error",ve=(0,ye.themeColorFromId)(Ee.overviewRulerError),Ie=30,Oe={color:(0,ye.themeColorFromId)(je.minimapError),position:Ce.MinimapPosition.Inline}}return j.tags&&(-1!==j.tags.indexOf(1)&&(Ne="squiggly-inline-unnecessary"),-1!==j.tags.indexOf(2)&&(Ne="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:te,showIfCollapsed:!0,overviewRuler:{color:ve,position:Ce.OverviewRulerLane.Right},minimap:Oe,zIndex:Ie,inlineClassName:Ne}}_hasMarkerTag(j,te){return!!j.tags&&j.tags.indexOf(te)>=0}};Ye=Ci([Zi(0,Ie.IModelService),Zi(1,he.IMarkerService)],Ye),te.MarkerDecorationsService=Ye})),define(Ce[281],ie([1,0,18,14,64,435,35]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.toMultilineTokens2=te.SemanticTokensProviderStyling=void 0;let Ie=class{constructor(j,te,he,ve){this._legend=j,this._themeService=te,this._languageService=he,this._logService=ve,this._hashTable=new g,this._hasWarnedOverlappingTokens=!1}getMetadata(j,te,ve){const ye=this._languageService.languageIdCodec.encodeLanguageId(ve),Ee=this._hashTable.get(j,te,ye);let Ie;if(Ee)Ie=Ee.metadata,this._logService.getLevel()===Ce.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${j} / ${te}: foreground ${he.TokenMetadata.getForeground(Ie)}, fontStyle ${he.TokenMetadata.getFontStyle(Ie).toString(2)}`);else{let Ee=this._legend.tokenTypes[j];const Ne=[];if(Ee){let j=te;for(let te=0;j>0&&te<this._legend.tokenModifiers.length;te++)1&j&&Ne.push(this._legend.tokenModifiers[te]),j>>=1;j>0&&this._logService.getLevel()===Ce.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${te.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),Ne.push("not-in-legend"));const he=this._themeService.getColorTheme().getTokenStyleMetadata(Ee,Ne,ve);void 0===he?Ie=2147483647:(Ie=0,void 0!==he.italic&&(Ie|=(he.italic?1:0)<<10|1),void 0!==he.bold&&(Ie|=(he.bold?2:0)<<10|2),void 0!==he.underline&&(Ie|=(he.underline?4:0)<<10|4),void 0!==he.strikethrough&&(Ie|=(he.strikethrough?8:0)<<10|8),he.foreground&&(Ie|=he.foreground<<14|16),0===Ie&&(Ie=2147483647))}else this._logService.getLevel()===Ce.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${j} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),Ie=2147483647,Ee="not-in-legend";this._hashTable.add(j,te,ye,Ie),this._logService.getLevel()===Ce.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${j} (${Ee}) / ${te} (${Ne.join(" ")}): foreground ${he.TokenMetadata.getForeground(Ie)}, fontStyle ${he.TokenMetadata.getFontStyle(Ie).toString(2)}`)}return Ie}warnOverlappingSemanticTokens(j,te){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${j}, column ${te}`))}};Ie=Ci([Zi(1,ve.IThemeService),Zi(2,Ee.ILanguageService),Zi(3,Ce.ILogService)],Ie),te.SemanticTokensProviderStyling=Ie,te.toMultilineTokens2=function p(j,te,he){const ve=j.data,Ce=j.data.length/5|0,Ee=Math.max(Math.ceil(Ce/1024),400),Ie=[];let Ne=0,Oe=1,Ke=0;for(;Ne<Ce;){const j=Ne;let je=Math.min(j+Ee,Ce);if(je<Ce){let te=je;for(;te-1>j&&0===ve[5*te];)te--;if(te-1===j){let j=je;for(;j+1<Ce&&0===ve[5*j];)j++;je=j}else je=te}let Ze=new Uint32Array(4*(je-j)),Ye=0,et=0,nt=0,rt=0,at=0;for(;Ne<je;){const j=5*Ne,Ce=ve[j],ye=ve[j+1],Ee=Oe+Ce|0,Ie=0===Ce?Ke+ye|0:ye,je=ve[j+2],ct=ve[j+3],ht=ve[j+4],mt=te.getMetadata(ct,ht,he);2147483647!==mt&&(0===et&&(et=Ee),nt===Ee&&at>Ie&&(te.warnOverlappingSemanticTokens(Ee,Ie+1),rt<Ie?Ze[Ye-4+2]=Ie:Ye-=4),Ze[Ye]=Ee-et,Ze[Ye+1]=Ie,Ze[Ye+2]=Ie+je,Ze[Ye+3]=mt,Ye+=4,nt=Ee,rt=Ie,at=Ie+je),Oe=Ee,Ke=Ie,Ne++}Ye!==Ze.length&&(Ze=Ze.subarray(0,Ye));const ct=ye.SparseMultilineTokens.create(et,Ze);Ie.push(ct)}return Ie};class h{constructor(j,te,he,ve){this.tokenTypeIndex=j,this.tokenModifierSet=te,this.languageId=he,this.metadata=ve,this.next=null}}class g{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(j,te){for(let he=0;he<te;he++)j[he]=null}_hash2(j,te){return(j<<5)-j+te|0}_hashFunc(j,te,he){return this._hash2(this._hash2(j,te),he)%this._currentLength}get(j,te,he){const ve=this._hashFunc(j,te,he);let Ce=this._elements[ve];for(;Ce;){if(Ce.tokenTypeIndex===j&&Ce.tokenModifierSet===te&&Ce.languageId===he)return Ce;Ce=Ce.next}return null}add(j,te,he,ve){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const j=this._elements;this._currentLengthIndex++,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength);for(const te of j){let j=te;for(;j;){const te=j.next;j.next=null,this._add(j),j=te}}}this._add(new h(j,te,he,ve))}_add(j){const te=this._hashFunc(j.tokenTypeIndex,j.tokenModifierSet,j.languageId);j.next=this._elements[te],this._elements[te]=j}}g._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]})),define(Ce[651],ie([1,0,7,96,57,27,4,2,178,522,42,23,14,370]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){var Ye;Object.defineProperty(te,"__esModule",{value:!0}),te.LightBulbWidget=void 0,function(j){j.Hidden={type:0};j.Showing=class r{constructor(j,te,he,ve){this.actions=j,this.trigger=te,this.editorPosition=he,this.widgetPosition=ve,this.type=1}}}(Ye||(Ye={}));let et=class wi extends Ie.Disposable{constructor(j,te,Ie,Ne){super(),this._editor=j,this._quickFixActionId=te,this._preferredFixActionId=Ie,this._keybindingService=Ne,this._onClick=this._register(new Ee.Emitter),this.onClick=this._onClick.event,this._state=Ye.Hidden,this._domNode=document.createElement("div"),this._domNode.className=ye.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent((j=>{const te=this._editor.getModel();(1!==this.state.type||!te||this.state.editorPosition.lineNumber>=te.getLineCount())&&this.hide()}))),Ce.Gesture.ignoreTarget(this._domNode),this._register(he.addStandardDisposableGenericMouseDownListner(this._domNode,(j=>{if(1!==this.state.type)return;this._editor.focus(),j.preventDefault();const{top:te,height:ve}=he.getDomNodePagePosition(this._domNode),Ce=this._editor.getOption(59);let ye=Math.floor(Ce/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(ye+=Ce),this._onClick.fire({x:j.posx,y:te+ve+ye,actions:this.state.actions,trigger:this.state.trigger})}))),this._register(he.addDisposableListener(this._domNode,"mouseenter",(j=>{if(1!=(1&j.buttons))return;this.hide();const te=new ve.GlobalMouseMoveMonitor;te.startMonitoring(j.target,j.buttons,ve.standardMouseMoveMerger,(()=>{}),(()=>{te.dispose()}))}))),this._register(this._editor.onDidChangeConfiguration((j=>{j.hasChanged(57)&&!this._editor.getOption(57).enabled&&this.hide()}))),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(j,te,he){if(j.validActions.length<=0)return this.hide();const ve=this._editor.getOptions();if(!ve.get(57).enabled)return this.hide();const Ce=this._editor.getModel();if(!Ce)return this.hide();const{lineNumber:ye,column:Ee}=Ce.validatePosition(he),Ie=Ce.getOptions().tabSize,Oe=ve.get(44),Ke=Ce.getLineContent(ye),je=(0,Ne.computeIndentLevel)(Ke,Ie),E=j=>j>2&&this._editor.getTopForLineNumber(j)===this._editor.getTopForLineNumber(j-1);let Ze=ye;if(!(Oe.spaceWidth*je>22))if(ye>1&&!E(ye-1))Ze-=1;else if(E(ye+1)){if(Ee*Oe.spaceWidth<22)return this.hide()}else Ze+=1;this.state=new Ye.Showing(j,te,he,{position:{lineNumber:Ze,column:1},preference:wi._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=Ye.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(j){this._state=j,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...ye.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...ye.Codicon.lightbulbAutofix.classNamesArray);const j=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(j)return void(this.title=Oe.localize(0,null,j.getLabel()))}this._domNode.classList.remove(...ye.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...ye.Codicon.lightBulb.classNamesArray);const j=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=j?Oe.localize(1,null,j.getLabel()):Oe.localize(2,null)}set title(j){this._domNode.title=j}};et._posPref=[0],et=Ci([Zi(3,Ke.IKeybindingService)],et),te.LightBulbWidget=et,(0,Ze.registerThemingParticipant)(((j,te)=>{var he;const ve=null===(he=j.getColor(je.editorBackground))||void 0===he?void 0:he.transparent(.7),Ce=j.getColor(je.editorLightBulbForeground);Ce&&te.addRule(`\n\t\t.monaco-editor .contentWidgets ${ye.Codicon.lightBulb.cssSelector} {\n\t\t\tcolor: ${Ce};\n\t\t\tbackground-color: ${ve};\n\t\t}`);const Ee=j.getColor(je.editorLightBulbAutoFixForeground);Ee&&te.addRule(`\n\t\t.monaco-editor .contentWidgets ${ye.Codicon.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${Ee};\n\t\t\tbackground-color: ${ve};\n\t\t}`)}))})),define(Ce[652],ie([1,0,34,7,96,60,29,4,2,524,23,14,372]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){Object.defineProperty(te,"__esModule",{value:!0}),te.ColorPickerWidget=te.ColorPickerBody=te.ColorPickerHeader=void 0;const Ze=ve.$;class n extends Ne.Disposable{constructor(j,te,he){super(),this.model=te,this.domNode=Ze(".colorpicker-header"),ve.append(j,this.domNode),this.pickedColorNode=ve.append(this.domNode,Ze(".picked-color"));const Ce=(0,Oe.localize)(0,null);this.pickedColorNode.setAttribute("title",Ce);const ye=ve.append(this.domNode,Ze(".original-color"));ye.style.backgroundColor=Ee.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=he.getColorTheme().getColor(Ke.editorHoverBackground)||Ee.Color.white,this._register((0,je.registerThemingParticipant)(((j,te)=>{this.backgroundColor=j.getColor(Ke.editorHoverBackground)||Ee.Color.white}))),this._register(ve.addDisposableListener(this.pickedColorNode,ve.EventType.CLICK,(()=>this.model.selectNextColorPresentation()))),this._register(ve.addDisposableListener(ye,ve.EventType.CLICK,(()=>{this.model.color=this.model.originalColor,this.model.flushColor()}))),this._register(te.onDidChangeColor(this.onDidChangeColor,this)),this._register(te.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=Ee.Color.Format.CSS.format(te.color)||"",this.pickedColorNode.classList.toggle("light",te.color.rgba.a<.5?this.backgroundColor.isLighter():te.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(j){this.pickedColorNode.style.backgroundColor=Ee.Color.Format.CSS.format(j)||"",this.pickedColorNode.classList.toggle("light",j.rgba.a<.5?this.backgroundColor.isLighter():j.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Ze(".codicon.codicon-color-mode"))}}te.ColorPickerHeader=n;class l extends Ne.Disposable{constructor(j,te,he){super(),this.model=te,this.pixelRatio=he,this.domNode=Ze(".colorpicker-body"),ve.append(j,this.domNode),this.saturationBox=new c(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new s(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new o(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:j,v:te}){const he=this.model.color.hsva;this.model.color=new Ee.Color(new Ee.HSVA(he.h,j,te,he.a))}onDidOpacityChange(j){const te=this.model.color.hsva;this.model.color=new Ee.Color(new Ee.HSVA(te.h,te.s,te.v,j))}onDidHueChange(j){const te=this.model.color.hsva,he=360*(1-j);this.model.color=new Ee.Color(new Ee.HSVA(360===he?0:he,te.s,te.v,te.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}te.ColorPickerBody=l;class c extends Ne.Disposable{constructor(j,te,he){super(),this.model=te,this.pixelRatio=he,this._onDidChange=new Ie.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Ie.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Ze(".saturation-wrap"),ve.append(j,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",ve.append(this.domNode,this.canvas),this.selection=Ze(".saturation-selection"),ve.append(this.domNode,this.selection),this.layout(),this._register(ve.addDisposableGenericMouseDownListner(this.domNode,(j=>this.onMouseDown(j)))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(j){this.monitor=this._register(new Ce.GlobalMouseMoveMonitor);const te=ve.getDomNodePagePosition(this.domNode);j.target!==this.selection&&this.onDidChangePosition(j.offsetX,j.offsetY),this.monitor.startMonitoring(j.target,j.buttons,Ce.standardMouseMoveMerger,(j=>this.onDidChangePosition(j.posx-te.left,j.posy-te.top)),(()=>null));const he=ve.addDisposableGenericMouseUpListner(document,(()=>{this._onColorFlushed.fire(),he.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)}),!0)}onDidChangePosition(j,te){const he=Math.max(0,Math.min(1,j/this.width)),ve=Math.max(0,Math.min(1,1-te/this.height));this.paintSelection(he,ve),this._onDidChange.fire({s:he,v:ve})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const j=this.model.color.hsva;this.paintSelection(j.s,j.v)}paint(){const j=this.model.color.hsva,te=new Ee.Color(new Ee.HSVA(j.h,1,1,1)),he=this.canvas.getContext("2d"),ve=he.createLinearGradient(0,0,this.canvas.width,0);ve.addColorStop(0,"rgba(255, 255, 255, 1)"),ve.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),ve.addColorStop(1,"rgba(255, 255, 255, 0)");const Ce=he.createLinearGradient(0,0,0,this.canvas.height);Ce.addColorStop(0,"rgba(0, 0, 0, 0)"),Ce.addColorStop(1,"rgba(0, 0, 0, 1)"),he.rect(0,0,this.canvas.width,this.canvas.height),he.fillStyle=Ee.Color.Format.CSS.format(te),he.fill(),he.fillStyle=ve,he.fill(),he.fillStyle=Ce,he.fill()}paintSelection(j,te){this.selection.style.left=j*this.width+"px",this.selection.style.top=this.height-te*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class r extends Ne.Disposable{constructor(j,te){super(),this.model=te,this._onDidChange=new Ie.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Ie.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=ve.append(j,Ze(".strip")),this.overlay=ve.append(this.domNode,Ze(".overlay")),this.slider=ve.append(this.domNode,Ze(".slider")),this.slider.style.top="0px",this._register(ve.addDisposableGenericMouseDownListner(this.domNode,(j=>this.onMouseDown(j)))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const j=this.getValue(this.model.color);this.updateSliderPosition(j)}onMouseDown(j){const te=this._register(new Ce.GlobalMouseMoveMonitor),he=ve.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),j.target!==this.slider&&this.onDidChangeTop(j.offsetY),te.startMonitoring(j.target,j.buttons,Ce.standardMouseMoveMerger,(j=>this.onDidChangeTop(j.posy-he.top)),(()=>null));const ye=ve.addDisposableGenericMouseUpListner(document,(()=>{this._onColorFlushed.fire(),ye.dispose(),te.stopMonitoring(!0),this.domNode.classList.remove("grabbing")}),!0)}onDidChangeTop(j){const te=Math.max(0,Math.min(1,1-j/this.height));this.updateSliderPosition(te),this._onDidChange.fire(te)}updateSliderPosition(j){this.slider.style.top=(1-j)*this.height+"px"}}class s extends r{constructor(j,te){super(j,te),this.domNode.classList.add("opacity-strip"),this._register(te.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(j){const{r:te,g:he,b:ve}=j.rgba,Ce=new Ee.Color(new Ee.RGBA(te,he,ve,1)),ye=new Ee.Color(new Ee.RGBA(te,he,ve,0));this.overlay.style.background=`linear-gradient(to bottom, ${Ce} 0%, ${ye} 100%)`}getValue(j){return j.hsva.a}}class o extends r{constructor(j,te){super(j,te),this.domNode.classList.add("hue-strip")}getValue(j){return 1-j.hsva.h/360}}class a extends ye.Widget{constructor(j,te,ve,Ce){super(),this.model=te,this.pixelRatio=ve,this._register(he.PixelRatio.onDidChange((()=>this.layout())));const ye=Ze(".colorpicker-widget");j.appendChild(ye);const Ee=new n(ye,this.model,Ce);this.body=new l(ye,this.model,this.pixelRatio),this._register(Ee),this._register(this.body)}layout(){this.body.layout()}}te.ColorPickerWidget=a})),define(Ce[653],ie([1,0,7,223,217,190,73,171,2,41,58,541,9,42,128,131,14,126]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at){Object.defineProperty(te,"__esModule",{value:!0}),te.AccessibilityProvider=te.OneReferenceRenderer=te.FileReferencesRenderer=te.IdentityProvider=te.StringRepresentationProvider=te.Delegate=te.DataSource=void 0;let ct=class{constructor(j){this._resolverService=j}hasChildren(j){return j instanceof at.ReferencesModel||j instanceof at.FileReferences}getChildren(j){if(j instanceof at.ReferencesModel)return j.groups;if(j instanceof at.FileReferences)return j.resolve(this._resolverService).then((j=>j.children));throw new Error("bad tree")}};ct=Ci([Zi(0,Ke.ITextModelService)],ct),te.DataSource=ct;te.Delegate=class a{getHeight(){return 23}getTemplateId(j){return j instanceof at.FileReferences?pt.id:C.id}};let ht=class{constructor(j){this._keybindingService=j}getKeyboardNavigationLabel(j){var te;if(j instanceof at.OneReference){const he=null===(te=j.parent.getPreview(j))||void 0===te?void 0:te.preview(j.range);if(he)return he.value}return(0,Oe.basename)(j.uri)}};ht=Ci([Zi(0,Ye.IKeybindingService)],ht),te.StringRepresentationProvider=ht;te.IdentityProvider=class u{getId(j){return j instanceof at.OneReference?j.id:j.uri}};let mt=class extends Ne.Disposable{constructor(j,te,Ce){super(),this._uriLabel=te;const Ee=document.createElement("div");Ee.classList.add("reference-file"),this.file=this._register(new ye.IconLabel(Ee,{supportHighlights:!0})),this.badge=new ve.CountBadge(he.append(Ee,he.$(".count"))),this._register((0,nt.attachBadgeStyler)(this.badge,Ce)),j.appendChild(Ee)}set(j,te){let he=(0,Oe.dirname)(j.uri);this.file.setLabel((0,Ie.getBaseLabel)(j.uri),this._uriLabel.getUriLabel(he,{relative:!0}),{title:this._uriLabel.getUriLabel(j.uri),matches:te});const ve=j.children.length;this.badge.setCount(ve),ve>1?this.badge.setTitleFormat((0,je.localize)(0,null,ve)):this.badge.setTitleFormat((0,je.localize)(1,null,ve))}};mt=Ci([Zi(1,et.ILabelService),Zi(2,rt.IThemeService)],mt);let pt=class yi{constructor(j){this._instantiationService=j,this.templateId=yi.id}renderTemplate(j){return this._instantiationService.createInstance(mt,j)}renderElement(j,te,he){he.set(j.element,(0,Ee.createMatches)(j.filterData))}disposeTemplate(j){j.dispose()}};pt.id="FileReferencesRenderer",pt=Ci([Zi(0,Ze.IInstantiationService)],pt),te.FileReferencesRenderer=pt;class v{constructor(j){this.label=new Ce.HighlightedLabel(j)}set(j,te){var he;const ve=null===(he=j.parent.getPreview(j))||void 0===he?void 0:he.preview(j.range);if(ve&&ve.value){const{value:j,highlight:he}=ve;te&&!Ee.FuzzyScore.isDefault(te)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(j,(0,Ee.createMatches)(te))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(j,[he]))}else this.label.set(`${(0,Oe.basename)(j.uri)}:${j.range.startLineNumber+1}:${j.range.startColumn+1}`)}}class C{constructor(){this.templateId=C.id}renderTemplate(j){return new v(j)}renderElement(j,te,he){he.set(j.element,j.filterData)}disposeTemplate(){}}te.OneReferenceRenderer=C,C.id="OneReferenceRenderer";te.AccessibilityProvider=class _{getWidgetAriaLabel(){return(0,je.localize)(2,null)}getAriaLabel(j){return j.ariaMessage}}})),define(Ce[654],ie([1,0,7,2,8,62,31,75,11,3,90,35,52,151,122,9,14,379]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt){var at;Object.defineProperty(te,"__esModule",{value:!0}),te.GhostTextWidget=void 0;const ct=null===(at=window.trustedTypes)||void 0===at?void 0:at.createPolicy("editorGhostText",{createHTML:j=>j});let ht=class extends ve.Disposable{constructor(j,te,he,Ce){super(),this.editor=j,this.model=te,this.instantiationService=he,this.languageService=Ce,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(d,this.editor)),this.additionalLinesWidget=this._register(new u(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration((j=>{(j.hasChanged(29)||j.hasChanged(105)||j.hasChanged(88)||j.hasChanged(83)||j.hasChanged(45)||j.hasChanged(44)||j.hasChanged(59))&&this.update()}))),this._register((0,ve.toDisposable)((()=>{var j;this.disposed=!0,this.update(),null===(j=this.viewMoreContentWidget)||void 0===j||j.dispose(),this.viewMoreContentWidget=void 0}))),this._register(te.onDidChange((()=>{this.update()}))),this.update()}shouldShowHoverAtViewZone(j){return this.additionalLinesWidget.viewZoneId===j}update(){var j;const te=this.model.ghostText;if(!this.editor.hasModel()||!te||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const he=new Array,ve=new Array;function N(j,te){if(ve.length>0){const he=ve[ve.length-1];te&&he.decorations.push(new Ye.LineDecoration(he.content.length+1,he.content.length+1+j[0].length,te,0)),he.content+=j[0],j=j.slice(1)}for(const he of j)ve.push({content:he,decorations:te?[new Ye.LineDecoration(1,he.length+1,te,0)]:[]})}const Ce=this.editor.getModel().getLineContent(te.lineNumber);this.editor.getModel().getLineTokens(te.lineNumber);let ye,Ee=0;for(const j of te.parts){let te=j.lines;void 0===ye?(he.push({column:j.column,text:te[0],preview:j.preview}),te=te.slice(1)):N([Ce.substring(Ee,j.column-1)],void 0),te.length>0&&(N(te,"ghost-text"),void 0===ye&&j.column<=Ce.length&&(ye=j.column)),Ee=j.column-1}void 0!==ye&&N([Ce.substring(Ee)],void 0),this.partsWidget.setParts(te.lineNumber,he,void 0!==ye?{column:ye,length:Ce.length+1-ye}:void 0),this.additionalLinesWidget.updateLines(te.lineNumber,ve,te.additionalReservedLineCount),te.parts.some((j=>j.lines.length<0))?this.viewMoreContentWidget=this.renderViewMoreLines(new Ne.Position(te.lineNumber,this.editor.getModel().getLineMaxColumn(te.lineNumber)),"",0):(null===(j=this.viewMoreContentWidget)||void 0===j||j.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(j,te,Ce){const Ee=this.editor.getOption(44),Ie=document.createElement("div");Ie.className="suggest-preview-additional-widget",(0,ye.applyFontInfo)(Ie,Ee);const Ne=document.createElement("span");Ne.className="content-spacer",Ne.append(te),Ie.append(Ne);const Oe=document.createElement("span");Oe.className="content-newline suggest-preview-text",Oe.append("⏎  "),Ie.append(Oe);const Ke=new ve.DisposableStore,je=document.createElement("div");return je.className="button suggest-preview-text",je.append(`+${Ce} lines…`),Ke.add(he.addStandardDisposableListener(je,"mousedown",(j=>{var te;null===(te=this.model)||void 0===te||te.setExpanded(!0),j.preventDefault(),this.editor.focus()}))),Ie.append(je),new S(this.editor,j,Ie,Ke)}};ht=Ci([Zi(2,nt.IInstantiationService),Zi(3,je.ILanguageService)],ht),te.GhostTextWidget=ht;class d{constructor(j){this.editor=j,this.decorationIds=[],this.disposableStore=new ve.DisposableStore}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(j,te,he){if(this.disposableStore.clear(),!this.editor.getModel())return;const ve=new Array;he&&ve.push({range:Oe.Range.fromPositions(new Ne.Position(j,he.column),new Ne.Position(j,he.column+he.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,te.map((te=>({range:Oe.Range.fromPositions(new Ne.Position(j,te.column)),options:{description:"ghost-text",after:{content:te.text,inlineClassName:te.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}}))).concat(ve))}}class u{constructor(j,te){this.editor=j,this.languageIdCodec=te,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones((j=>{this._viewZoneId&&(j.removeZone(this._viewZoneId),this._viewZoneId=void 0)}))}updateLines(j,te,he){const ve=this.editor.getModel();if(!ve)return;const{tabSize:Ne}=ve.getOptions();this.editor.changeViewZones((ve=>{this._viewZoneId&&(ve.removeZone(this._viewZoneId),this._viewZoneId=void 0);const Oe=Math.max(te.length,he);if(Oe>0){const he=document.createElement("div");(function f(j,te,he,ve,Ne){const Oe=ve.get(29),je=ve.get(105),Ze="none",Ye=ve.get(83),nt=ve.get(45),rt=ve.get(44),at=ve.get(59),ht=(0,Ke.createStringBuilder)(1e4);ht.appendASCIIString('<div class="suggest-preview-text">');for(let j=0,ve=he.length;j<ve;j++){const ve=he[j],ye=ve.content;ht.appendASCIIString('<div class="view-line'),ht.appendASCIIString('" style="top:'),ht.appendASCIIString(String(j*at)),ht.appendASCIIString('px;width:1000000px;">');const Ke=Ce.isBasicASCII(ye),ct=Ce.containsRTL(ye),mt=Ie.LineTokens.createEmpty(ye,Ne);(0,et.renderViewLine)(new et.RenderLineInput(rt.isMonospace&&!Oe,rt.canUseHalfwidthRightwardsArrow,ye,!1,Ke,ct,0,mt,ve.decorations,te,0,rt.spaceWidth,rt.middotWidth,rt.wsmiddotWidth,je,Ze,Ye,nt!==Ee.EditorFontLigatures.OFF,null),ht),ht.appendASCIIString("</div>")}ht.appendASCIIString("</div>"),(0,ye.applyFontInfo)(j,rt);const mt=ht.build(),pt=ct?ct.createHTML(mt):mt;j.innerHTML=pt})(he,Ne,te,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=ve.addZone({afterLineNumber:j,heightInLines:Oe,domNode:he,afterColumnAffinity:1})}}))}}class S extends ve.Disposable{constructor(j,te,he,Ce){super(),this.editor=j,this.position=te,this.domNode=he,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(Ce),this._register((0,ve.toDisposable)((()=>{this.editor.removeContentWidget(this)}))),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,rt.registerThemingParticipant)(((j,te)=>{const he=j.getColor(Ze.ghostTextForeground);he&&(te.addRule(`.monaco-editor .ghost-text-decoration { color: ${he.toString()} !important; }`),te.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${he.toString()} !important; }`),te.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${he.toString()} !important; }`));const ve=j.getColor(Ze.ghostTextBackground);ve&&(te.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${ve.toString()}; }`),te.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${ve.toString()}; }`),te.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${ve.toString()}; }`));const Ce=j.getColor(Ze.ghostTextBorder);Ce&&(te.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${Ce}; }`),te.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${Ce}; }`),te.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${Ce}; }`))}))})),define(Ce[282],ie([1,0,88,2,20,148,49,52,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.AbstractEditorNavigationQuickAccessProvider=void 0;te.AbstractEditorNavigationQuickAccessProvider=class h{constructor(j){this.options=j,this.rangeHighlightDecorationId=void 0}provide(j,te){var he;const Ce=new ve.DisposableStore;j.canAcceptInBackground=!!(null===(he=this.options)||void 0===he?void 0:he.canAcceptInBackground),j.matchOnLabel=j.matchOnDescription=j.matchOnDetail=j.sortByLabel=!1;const ye=Ce.add(new ve.MutableDisposable);return ye.value=this.doProvide(j,te),Ce.add(this.onDidActiveTextEditorControlChange((()=>{ye.value=void 0,ye.value=this.doProvide(j,te)}))),Ce}doProvide(j,te){const Ee=new ve.DisposableStore,Ie=this.activeTextEditorControl;if(Ie&&this.canProvideWithTextEditor(Ie)){const Ne={editor:Ie},Oe=(0,ye.getCodeEditor)(Ie);if(Oe){let j=(0,Ce.withNullAsUndefined)(Ie.saveViewState());Ee.add(Oe.onDidChangeCursorPosition((()=>{j=(0,Ce.withNullAsUndefined)(Ie.saveViewState())}))),Ne.restoreViewState=()=>{j&&Ie===this.activeTextEditorControl&&Ie.restoreViewState(j)},Ee.add((0,he.once)(te.onCancellationRequested)((()=>{var j;return null===(j=Ne.restoreViewState)||void 0===j?void 0:j.call(Ne)})))}Ee.add((0,ve.toDisposable)((()=>this.clearDecorations(Ie)))),Ee.add(this.provideWithTextEditor(Ne,j,te))}else Ee.add(this.provideWithoutTextEditor(j,te));return Ee}canProvideWithTextEditor(j){return!0}gotoLocation({editor:j},te){j.setSelection(te.range),j.revealRangeInCenter(te.range,0),te.preserveFocus||j.focus()}getModel(j){var te;return(0,ye.isDiffEditor)(j)?null===(te=j.getModel())||void 0===te?void 0:te.modified:j.getModel()}addDecorations(j,te){j.changeDecorations((j=>{const he=[];this.rangeHighlightDecorationId&&(he.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),he.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const ve=[{range:te,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:te,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,Ne.themeColorFromId)(Ie.overviewRulerRangeHighlight),position:Ee.OverviewRulerLane.Full}}}],[Ce,ye]=j.deltaDecorations(he,ve);this.rangeHighlightDecorationId={rangeHighlightId:Ce,overviewRulerDecorationId:ye}}))}clearDecorations(j){const te=this.rangeHighlightDecorationId;te&&(j.changeDecorations((j=>{j.deltaDecorations([te.overviewRulerDecorationId,te.rangeHighlightId],[])})),this.rangeHighlightDecorationId=void 0)}}})),define(Ce[655],ie([1,0,2,148,282,561]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.AbstractGotoLineQuickAccessProvider=void 0;class w extends Ce.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(j){const te=(0,ye.localize)(0,null);return j.items=[{label:te}],j.ariaLabel=te,he.Disposable.None}provideWithTextEditor(j,te,Ce){const ye=j.editor,Ee=new he.DisposableStore;Ee.add(te.onDidAccept((he=>{const[ve]=te.selectedItems;if(ve){if(!this.isValidLineNumber(ye,ve.lineNumber))return;this.gotoLocation(j,{range:this.toRange(ve.lineNumber,ve.column),keyMods:te.keyMods,preserveFocus:he.inBackground}),he.inBackground||te.hide()}})));const n=()=>{const j=this.parsePosition(ye,te.value.trim().substr(w.PREFIX.length)),he=this.getPickLabel(ye,j.lineNumber,j.column);if(te.items=[{lineNumber:j.lineNumber,column:j.column,label:he}],te.ariaLabel=he,!this.isValidLineNumber(ye,j.lineNumber))return void this.clearDecorations(ye);const ve=this.toRange(j.lineNumber,j.column);ye.revealRangeInCenter(ve,0),this.addDecorations(ye,ve)};n(),Ee.add(te.onDidChangeValue((()=>n())));const Ie=(0,ve.getCodeEditor)(ye);return Ie&&2===Ie.getOptions().get(60).renderType&&(Ie.updateOptions({lineNumbers:"on"}),Ee.add((0,he.toDisposable)((()=>Ie.updateOptions({lineNumbers:"relative"}))))),Ee}toRange(j=1,te=1){return{startLineNumber:j,startColumn:te,endLineNumber:j,endColumn:te}}parsePosition(j,te){const he=te.split(/,|:|#/).map((j=>parseInt(j,10))).filter((j=>!isNaN(j))),ve=this.lineCount(j)+1;return{lineNumber:he[0]>0?he[0]:ve+he[0],column:he[1]}}getPickLabel(j,te,he){if(this.isValidLineNumber(j,te))return this.isValidColumn(j,te,he)?(0,ye.localize)(1,null,te,he):(0,ye.localize)(2,null,te);const ve=j.getPosition()||{lineNumber:1,column:1},Ce=this.lineCount(j);return Ce>1?(0,ye.localize)(3,null,ve.lineNumber,ve.column,Ce):(0,ye.localize)(4,null,ve.lineNumber,ve.column)}isValidLineNumber(j,te){return!(!te||"number"!=typeof te)&&(te>0&&te<=this.lineCount(j))}isValidColumn(j,te,he){if(!he||"number"!=typeof he)return!1;const ve=this.getModel(j);if(!ve)return!1;const Ce={lineNumber:te,column:he};return ve.validatePosition(Ce).equals(Ce)}lineCount(j){var te,he;return null!==(he=null===(te=this.getModel(j))||void 0===te?void 0:te.getLineCount())&&void 0!==he?he:0}}te.AbstractGotoLineQuickAccessProvider=w,w.PREFIX=":"})),define(Ce[656],ie([1,0,10,21,27,319,2,8,3,18,199,282,562]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){Object.defineProperty(te,"__esModule",{value:!0}),te.AbstractGotoSymbolQuickAccessProvider=void 0;let Ye=class Xt extends je.AbstractEditorNavigationQuickAccessProvider{constructor(j,te=Object.create(null)){super(te),this._outlineModelService=j,this.options=te,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(j){return this.provideLabelPick(j,(0,Ze.localize)(0,null)),Ee.Disposable.None}provideWithTextEditor(j,te,he){const ve=j.editor,Ce=this.getModel(ve);return Ce?Oe.DocumentSymbolProviderRegistry.has(Ce)?this.doProvideWithEditorSymbols(j,Ce,te,he):this.doProvideWithoutEditorSymbols(j,Ce,te,he):Ee.Disposable.None}doProvideWithoutEditorSymbols(j,te,he,ve){const Ce=new Ee.DisposableStore;return this.provideLabelPick(he,(0,Ze.localize)(1,null)),(()=>{fi(this,void 0,void 0,(function*(){!(yield this.waitForLanguageSymbolRegistry(te,Ce))||ve.isCancellationRequested||Ce.add(this.doProvideWithEditorSymbols(j,te,he,ve))}))})(),Ce}provideLabelPick(j,te){j.items=[{label:te,index:0,kind:14}],j.ariaLabel=te}waitForLanguageSymbolRegistry(j,te){return fi(this,void 0,void 0,(function*(){if(Oe.DocumentSymbolProviderRegistry.has(j))return!0;const ve=new he.DeferredPromise,Ce=te.add(Oe.DocumentSymbolProviderRegistry.onDidChange((()=>{Oe.DocumentSymbolProviderRegistry.has(j)&&(Ce.dispose(),ve.complete(!0))})));return te.add((0,Ee.toDisposable)((()=>ve.complete(!1)))),ve.p}))}doProvideWithEditorSymbols(j,te,he,Ce){const Ie=j.editor,Ne=new Ee.DisposableStore;Ne.add(he.onDidAccept((te=>{const[ve]=he.selectedItems;ve&&ve.range&&(this.gotoLocation(j,{range:ve.range.selection,keyMods:he.keyMods,preserveFocus:te.inBackground}),te.inBackground||he.hide())}))),Ne.add(he.onDidTriggerItemButton((({item:te})=>{te&&te.range&&(this.gotoLocation(j,{range:te.range.selection,keyMods:he.keyMods,forceSideBySide:!0}),he.hide())})));const Oe=this.getDocumentSymbols(te,Ce);let Ke;const C=()=>fi(this,void 0,void 0,(function*(){null==Ke||Ke.dispose(!0),he.busy=!1,Ke=new ve.CancellationTokenSource(Ce),he.busy=!0;try{const j=(0,ye.prepareQuery)(he.value.substr(Xt.PREFIX.length).trim()),te=yield this.doGetSymbolPicks(Oe,j,void 0,Ke.token);if(Ce.isCancellationRequested)return;te.length>0?he.items=te:j.original.length>0?this.provideLabelPick(he,(0,Ze.localize)(2,null)):this.provideLabelPick(he,(0,Ze.localize)(3,null))}finally{Ce.isCancellationRequested||(he.busy=!1)}}));Ne.add(he.onDidChangeValue((()=>C()))),C();let je=!0;return Ne.add(he.onDidChangeActive((()=>{const[j]=he.activeItems;if(j&&j.range){if(je)return void(je=!1);Ie.revealRangeInCenter(j.range.selection,0),this.addDecorations(Ie,j.range.decoration)}}))),Ne}doGetSymbolPicks(j,te,he,ve){return fi(this,void 0,void 0,(function*(){const Ee=yield j;if(ve.isCancellationRequested)return[];const Ke=0===te.original.indexOf(Xt.SCOPE_PREFIX),je=Ke?1:0;let Ye,rt;te.values&&te.values.length>1?(Ye=(0,ye.pieceToQuery)(te.values[0]),rt=(0,ye.pieceToQuery)(te.values.slice(1))):Ye=te;const at=[];for(let j=0;j<Ee.length;j++){const ve=Ee[j],Ke=(0,Ie.trim)(ve.name),et=`$(${Oe.SymbolKinds.toIcon(ve.kind).id}) ${Ke}`,nt=et.length-Ke.length;let ct,ht,mt,pt,ft=ve.containerName;if((null==he?void 0:he.extraContainerLabel)&&(ft=ft?`${he.extraContainerLabel} • ${ft}`:he.extraContainerLabel),te.original.length>je){let j=!1;if(Ye!==te&&([ct,ht]=(0,ye.scoreFuzzy2)(et,Object.assign(Object.assign({},te),{values:void 0}),je,nt),"number"==typeof ct&&(j=!0)),"number"!=typeof ct&&([ct,ht]=(0,ye.scoreFuzzy2)(et,Ye,je,nt),"number"!=typeof ct))continue;if(!j&&rt){if(ft&&rt.original.length>0&&([mt,pt]=(0,ye.scoreFuzzy2)(ft,rt)),"number"!=typeof mt)continue;"number"==typeof ct&&(ct+=mt)}}const _t=ve.tags&&ve.tags.indexOf(1)>=0;at.push({index:j,kind:ve.kind,score:ct,label:et,ariaLabel:Ke,description:ft,highlights:_t?void 0:{label:ht,description:pt},range:{selection:Ne.Range.collapseToStart(ve.selectionRange),decoration:ve.range},strikethrough:_t,buttons:(()=>{var j,te;const he=(null===(j=this.options)||void 0===j?void 0:j.openSideBySideDirection)?null===(te=this.options)||void 0===te?void 0:te.openSideBySideDirection():void 0;if(he)return[{iconClass:"right"===he?Ce.Codicon.splitHorizontal.classNames:Ce.Codicon.splitVertical.classNames,tooltip:"right"===he?(0,Ze.localize)(4,null):(0,Ze.localize)(5,null)}]})()})}const ct=at.sort(((j,te)=>Ke?this.compareByKindAndScore(j,te):this.compareByScore(j,te)));let ht=[];if(Ke){let j,te,O=function(){te&&"number"==typeof j&&he>0&&(te.label=(0,Ie.format)(nt[j]||et,he))},he=0;for(const ve of ct)j!==ve.kind?(O(),j=ve.kind,he=1,te={type:"separator"},ht.push(te)):he++,ht.push(ve);O()}else ct.length>0&&(ht=[{label:(0,Ze.localize)(6,null,at.length),type:"separator"},...ct]);return ht}))}compareByScore(j,te){if("number"!=typeof j.score&&"number"==typeof te.score)return 1;if("number"==typeof j.score&&"number"!=typeof te.score)return-1;if("number"==typeof j.score&&"number"==typeof te.score){if(j.score>te.score)return-1;if(j.score<te.score)return 1}return j.index<te.index?-1:j.index>te.index?1:0}compareByKindAndScore(j,te){const he=nt[j.kind]||et,ve=nt[te.kind]||et,Ce=he.localeCompare(ve);return 0===Ce?this.compareByScore(j,te):Ce}getDocumentSymbols(j,te){return fi(this,void 0,void 0,(function*(){const he=yield this._outlineModelService.getOrCreate(j,te);return te.isCancellationRequested?[]:he.asListOfDocumentSymbols()}))}};Ye.PREFIX="@",Ye.SCOPE_PREFIX=":",Ye.PREFIX_BY_CATEGORY=`${Ye.PREFIX}${Ye.SCOPE_PREFIX}`,Ye=Ci([Zi(0,Ke.IOutlineModelService)],Ye),te.AbstractGotoSymbolQuickAccessProvider=Ye;const et=(0,Ze.localize)(7,null),nt={5:(0,Ze.localize)(8,null),11:(0,Ze.localize)(9,null),8:(0,Ze.localize)(10,null),12:(0,Ze.localize)(11,null),4:(0,Ze.localize)(12,null),22:(0,Ze.localize)(13,null),23:(0,Ze.localize)(14,null),24:(0,Ze.localize)(15,null),10:(0,Ze.localize)(16,null),2:(0,Ze.localize)(17,null),3:(0,Ze.localize)(18,null),25:(0,Ze.localize)(19,null),1:(0,Ze.localize)(20,null),6:(0,Ze.localize)(21,null),9:(0,Ze.localize)(22,null),21:(0,Ze.localize)(23,null),14:(0,Ze.localize)(24,null),0:(0,Ze.localize)(25,null),17:(0,Ze.localize)(26,null),15:(0,Ze.localize)(27,null),16:(0,Ze.localize)(28,null),18:(0,Ze.localize)(29,null),19:(0,Ze.localize)(30,null),7:(0,Ze.localize)(31,null),13:(0,Ze.localize)(32,null)}})),define(Ce[657],ie([1,0,2,11,564,16,42,23,14,384]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.RenameInputField=te.CONTEXT_RENAME_INPUT_VISIBLE=void 0,te.CONTEXT_RENAME_INPUT_VISIBLE=new ye.RawContextKey("renameInputVisible",!1,(0,Ce.localize)(0,null));let Oe=class{constructor(j,ve,Ce,ye,Ee){this._editor=j,this._acceptKeybindings=ve,this._themeService=Ce,this._keybindingService=ye,this._disposables=new he.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=te.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(Ee),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((j=>{j.hasChanged(44)&&this._updateFont()}))),this._disposables.add(Ce.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,Ce.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const t=()=>{var j,te;const[he,ve]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(he),this._label.innerText=(0,Ce.localize)(2,null,null===(j=this._keybindingService.lookupKeybinding(he))||void 0===j?void 0:j.getLabel(),null===(te=this._keybindingService.lookupKeybinding(ve))||void 0===te?void 0:te.getLabel())};t(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(t)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(j){var te,he,ve,Ce;if(!this._input||!this._domNode)return;const ye=j.getColor(Ie.widgetShadow);this._domNode.style.backgroundColor=String(null!==(te=j.getColor(Ie.editorWidgetBackground))&&void 0!==te?te:""),this._domNode.style.boxShadow=ye?` 0 0 8px 2px ${ye}`:"",this._domNode.style.color=String(null!==(he=j.getColor(Ie.inputForeground))&&void 0!==he?he:""),this._input.style.backgroundColor=String(null!==(ve=j.getColor(Ie.inputBackground))&&void 0!==ve?ve:"");const Ee=j.getColor(Ie.inputBorder);this._input.style.borderWidth=Ee?"1px":"0px",this._input.style.borderStyle=Ee?"solid":"none",this._input.style.borderColor=null!==(Ce=null==Ee?void 0:Ee.toString())&&void 0!==Ce?Ce:"none"}_updateFont(){if(!this._input||!this._label)return;const j=this._editor.getOption(44);this._input.style.fontFamily=j.fontFamily,this._input.style.fontWeight=j.fontWeight,this._input.style.fontSize=`${j.fontSize}px`,this._label.style.fontSize=.8*j.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(j){j||this.cancelInput(!0)}acceptInput(j){this._currentAcceptInput&&this._currentAcceptInput(j)}cancelInput(j){this._currentCancelInput&&this._currentCancelInput(j)}getInput(j,te,Ce,ye,Ee,Ie){this._domNode.classList.toggle("preview",Ee),this._position=new ve.Position(j.startLineNumber,j.startColumn),this._input.value=te,this._input.setAttribute("selectionStart",Ce.toString()),this._input.setAttribute("selectionEnd",ye.toString()),this._input.size=Math.max(1.1*(j.endColumn-j.startColumn),20);const Ne=new he.DisposableStore;return new Promise((j=>{this._currentCancelInput=te=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,j(te),!0),this._currentAcceptInput=he=>{0!==this._input.value.trim().length&&this._input.value!==te?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,j({newName:this._input.value,wantsPreview:Ee&&he})):this.cancelInput(!0)},Ie.onCancellationRequested((()=>this.cancelInput(!0))),Ne.add(this._editor.onDidBlurEditorWidget((()=>this.cancelInput(!1)))),this._show()})).finally((()=>{Ne.dispose(),this._hide()}))}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))}),100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};Oe=Ci([Zi(2,Ne.IThemeService),Zi(3,Ee.IKeybindingService),Zi(4,ye.IContextKeyService)],Oe),te.RenameInputField=Oe})),define(Ce[283],ie([1,0,27,574,23,14]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.SYMBOL_ICON_VARIABLE_FOREGROUND=te.SYMBOL_ICON_UNIT_FOREGROUND=te.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=te.SYMBOL_ICON_TEXT_FOREGROUND=te.SYMBOL_ICON_STRUCT_FOREGROUND=te.SYMBOL_ICON_STRING_FOREGROUND=te.SYMBOL_ICON_SNIPPET_FOREGROUND=te.SYMBOL_ICON_REFERENCE_FOREGROUND=te.SYMBOL_ICON_PROPERTY_FOREGROUND=te.SYMBOL_ICON_PACKAGE_FOREGROUND=te.SYMBOL_ICON_OPERATOR_FOREGROUND=te.SYMBOL_ICON_OBJECT_FOREGROUND=te.SYMBOL_ICON_NUMBER_FOREGROUND=te.SYMBOL_ICON_NULL_FOREGROUND=te.SYMBOL_ICON_NAMESPACE_FOREGROUND=te.SYMBOL_ICON_MODULE_FOREGROUND=te.SYMBOL_ICON_METHOD_FOREGROUND=te.SYMBOL_ICON_KEYWORD_FOREGROUND=te.SYMBOL_ICON_KEY_FOREGROUND=te.SYMBOL_ICON_INTERFACE_FOREGROUND=te.SYMBOL_ICON_FUNCTION_FOREGROUND=te.SYMBOL_ICON_FOLDER_FOREGROUND=te.SYMBOL_ICON_FILE_FOREGROUND=te.SYMBOL_ICON_FIELD_FOREGROUND=te.SYMBOL_ICON_EVENT_FOREGROUND=te.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=te.SYMBOL_ICON_ENUMERATOR_FOREGROUND=te.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=te.SYMBOL_ICON_CONSTANT_FOREGROUND=te.SYMBOL_ICON_COLOR_FOREGROUND=te.SYMBOL_ICON_CLASS_FOREGROUND=te.SYMBOL_ICON_BOOLEAN_FOREGROUND=te.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,te.SYMBOL_ICON_ARRAY_FOREGROUND=(0,Ce.registerColor)("symbolIcon.arrayForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(0,null)),te.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,Ce.registerColor)("symbolIcon.booleanForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(1,null)),te.SYMBOL_ICON_CLASS_FOREGROUND=(0,Ce.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,ve.localize)(2,null)),te.SYMBOL_ICON_COLOR_FOREGROUND=(0,Ce.registerColor)("symbolIcon.colorForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(3,null)),te.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,Ce.registerColor)("symbolIcon.constantForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(4,null)),te.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,Ce.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,ve.localize)(5,null)),te.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,Ce.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,ve.localize)(6,null)),te.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,Ce.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,ve.localize)(7,null)),te.SYMBOL_ICON_EVENT_FOREGROUND=(0,Ce.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,ve.localize)(8,null)),te.SYMBOL_ICON_FIELD_FOREGROUND=(0,Ce.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,ve.localize)(9,null)),te.SYMBOL_ICON_FILE_FOREGROUND=(0,Ce.registerColor)("symbolIcon.fileForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(10,null)),te.SYMBOL_ICON_FOLDER_FOREGROUND=(0,Ce.registerColor)("symbolIcon.folderForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(11,null)),te.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,Ce.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,ve.localize)(12,null)),te.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,Ce.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,ve.localize)(13,null)),te.SYMBOL_ICON_KEY_FOREGROUND=(0,Ce.registerColor)("symbolIcon.keyForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(14,null)),te.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,Ce.registerColor)("symbolIcon.keywordForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(15,null)),te.SYMBOL_ICON_METHOD_FOREGROUND=(0,Ce.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,ve.localize)(16,null)),te.SYMBOL_ICON_MODULE_FOREGROUND=(0,Ce.registerColor)("symbolIcon.moduleForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(17,null)),te.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,Ce.registerColor)("symbolIcon.namespaceForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(18,null)),te.SYMBOL_ICON_NULL_FOREGROUND=(0,Ce.registerColor)("symbolIcon.nullForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(19,null)),te.SYMBOL_ICON_NUMBER_FOREGROUND=(0,Ce.registerColor)("symbolIcon.numberForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(20,null)),te.SYMBOL_ICON_OBJECT_FOREGROUND=(0,Ce.registerColor)("symbolIcon.objectForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(21,null)),te.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,Ce.registerColor)("symbolIcon.operatorForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(22,null)),te.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,Ce.registerColor)("symbolIcon.packageForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(23,null)),te.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,Ce.registerColor)("symbolIcon.propertyForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(24,null)),te.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,Ce.registerColor)("symbolIcon.referenceForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(25,null)),te.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,Ce.registerColor)("symbolIcon.snippetForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(26,null)),te.SYMBOL_ICON_STRING_FOREGROUND=(0,Ce.registerColor)("symbolIcon.stringForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(27,null)),te.SYMBOL_ICON_STRUCT_FOREGROUND=(0,Ce.registerColor)("symbolIcon.structForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(28,null)),te.SYMBOL_ICON_TEXT_FOREGROUND=(0,Ce.registerColor)("symbolIcon.textForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(29,null)),te.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,Ce.registerColor)("symbolIcon.typeParameterForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(30,null)),te.SYMBOL_ICON_UNIT_FOREGROUND=(0,Ce.registerColor)("symbolIcon.unitForeground",{dark:Ce.foreground,light:Ce.foreground,hc:Ce.foreground},(0,ve.localize)(31,null)),te.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,Ce.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,ve.localize)(32,null)),(0,ye.registerThemingParticipant)(((j,ve)=>{const Ce=j.getColor(te.SYMBOL_ICON_ARRAY_FOREGROUND);Ce&&ve.addRule(`${he.Codicon.symbolArray.cssSelector} { color: ${Ce}; }`);const ye=j.getColor(te.SYMBOL_ICON_BOOLEAN_FOREGROUND);ye&&ve.addRule(`${he.Codicon.symbolBoolean.cssSelector} { color: ${ye}; }`);const Ee=j.getColor(te.SYMBOL_ICON_CLASS_FOREGROUND);Ee&&ve.addRule(`${he.Codicon.symbolClass.cssSelector} { color: ${Ee}; }`);const Ie=j.getColor(te.SYMBOL_ICON_METHOD_FOREGROUND);Ie&&ve.addRule(`${he.Codicon.symbolMethod.cssSelector} { color: ${Ie}; }`);const Ne=j.getColor(te.SYMBOL_ICON_COLOR_FOREGROUND);Ne&&ve.addRule(`${he.Codicon.symbolColor.cssSelector} { color: ${Ne}; }`);const Oe=j.getColor(te.SYMBOL_ICON_CONSTANT_FOREGROUND);Oe&&ve.addRule(`${he.Codicon.symbolConstant.cssSelector} { color: ${Oe}; }`);const Ke=j.getColor(te.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);Ke&&ve.addRule(`${he.Codicon.symbolConstructor.cssSelector} { color: ${Ke}; }`);const je=j.getColor(te.SYMBOL_ICON_ENUMERATOR_FOREGROUND);je&&ve.addRule(`\n\t\t\t${he.Codicon.symbolValue.cssSelector},${he.Codicon.symbolEnum.cssSelector} { color: ${je}; }`);const Ze=j.getColor(te.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);Ze&&ve.addRule(`${he.Codicon.symbolEnumMember.cssSelector} { color: ${Ze}; }`);const Ye=j.getColor(te.SYMBOL_ICON_EVENT_FOREGROUND);Ye&&ve.addRule(`${he.Codicon.symbolEvent.cssSelector} { color: ${Ye}; }`);const et=j.getColor(te.SYMBOL_ICON_FIELD_FOREGROUND);et&&ve.addRule(`${he.Codicon.symbolField.cssSelector} { color: ${et}; }`);const nt=j.getColor(te.SYMBOL_ICON_FILE_FOREGROUND);nt&&ve.addRule(`${he.Codicon.symbolFile.cssSelector} { color: ${nt}; }`);const rt=j.getColor(te.SYMBOL_ICON_FOLDER_FOREGROUND);rt&&ve.addRule(`${he.Codicon.symbolFolder.cssSelector} { color: ${rt}; }`);const at=j.getColor(te.SYMBOL_ICON_FUNCTION_FOREGROUND);at&&ve.addRule(`${he.Codicon.symbolFunction.cssSelector} { color: ${at}; }`);const ct=j.getColor(te.SYMBOL_ICON_INTERFACE_FOREGROUND);ct&&ve.addRule(`${he.Codicon.symbolInterface.cssSelector} { color: ${ct}; }`);const ht=j.getColor(te.SYMBOL_ICON_KEY_FOREGROUND);ht&&ve.addRule(`${he.Codicon.symbolKey.cssSelector} { color: ${ht}; }`);const mt=j.getColor(te.SYMBOL_ICON_KEYWORD_FOREGROUND);mt&&ve.addRule(`${he.Codicon.symbolKeyword.cssSelector} { color: ${mt}; }`);const pt=j.getColor(te.SYMBOL_ICON_MODULE_FOREGROUND);pt&&ve.addRule(`${he.Codicon.symbolModule.cssSelector} { color: ${pt}; }`);const ft=j.getColor(te.SYMBOL_ICON_NAMESPACE_FOREGROUND);ft&&ve.addRule(`${he.Codicon.symbolNamespace.cssSelector} { color: ${ft}; }`);const _t=j.getColor(te.SYMBOL_ICON_NULL_FOREGROUND);_t&&ve.addRule(`${he.Codicon.symbolNull.cssSelector} { color: ${_t}; }`);const Ct=j.getColor(te.SYMBOL_ICON_NUMBER_FOREGROUND);Ct&&ve.addRule(`${he.Codicon.symbolNumber.cssSelector} { color: ${Ct}; }`);const bt=j.getColor(te.SYMBOL_ICON_OBJECT_FOREGROUND);bt&&ve.addRule(`${he.Codicon.symbolObject.cssSelector} { color: ${bt}; }`);const St=j.getColor(te.SYMBOL_ICON_OPERATOR_FOREGROUND);St&&ve.addRule(`${he.Codicon.symbolOperator.cssSelector} { color: ${St}; }`);const Dt=j.getColor(te.SYMBOL_ICON_PACKAGE_FOREGROUND);Dt&&ve.addRule(`${he.Codicon.symbolPackage.cssSelector} { color: ${Dt}; }`);const It=j.getColor(te.SYMBOL_ICON_PROPERTY_FOREGROUND);It&&ve.addRule(`${he.Codicon.symbolProperty.cssSelector} { color: ${It}; }`);const kt=j.getColor(te.SYMBOL_ICON_REFERENCE_FOREGROUND);kt&&ve.addRule(`${he.Codicon.symbolReference.cssSelector} { color: ${kt}; }`);const At=j.getColor(te.SYMBOL_ICON_SNIPPET_FOREGROUND);At&&ve.addRule(`${he.Codicon.symbolSnippet.cssSelector} { color: ${At}; }`);const Pt=j.getColor(te.SYMBOL_ICON_STRING_FOREGROUND);Pt&&ve.addRule(`${he.Codicon.symbolString.cssSelector} { color: ${Pt}; }`);const Kt=j.getColor(te.SYMBOL_ICON_STRUCT_FOREGROUND);Kt&&ve.addRule(`${he.Codicon.symbolStruct.cssSelector} { color: ${Kt}; }`);const Ut=j.getColor(te.SYMBOL_ICON_TEXT_FOREGROUND);Ut&&ve.addRule(`${he.Codicon.symbolText.cssSelector} { color: ${Ut}; }`);const jt=j.getColor(te.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);jt&&ve.addRule(`${he.Codicon.symbolTypeParameter.cssSelector} { color: ${jt}; }`);const $t=j.getColor(te.SYMBOL_ICON_UNIT_FOREGROUND);$t&&ve.addRule(`${he.Codicon.symbolUnit.cssSelector} { color: ${$t}; }`);const qt=j.getColor(te.SYMBOL_ICON_VARIABLE_FOREGROUND);qt&&ve.addRule(`${he.Codicon.symbolVariable.cssSelector} { color: ${qt}; }`)}))})),define(Ce[284],ie([1,0,7,48,638,28,16,53,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.StandaloneCodeEditorService=void 0;let Oe=class extends Ce.AbstractCodeEditorService{constructor(j,te){super(te),this.onCodeEditorAdd((()=>this._checkContextKey())),this.onCodeEditorRemove((()=>this._checkContextKey())),this._editorIsOpen=j.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let j=!1;for(const te of this.listCodeEditors())if(!te.isSimpleWidget){j=!0;break}this._editorIsOpen.set(j)}setActiveCodeEditor(j){this._activeCodeEditor=j}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(j,te,he){return te?Promise.resolve(this.doOpenEditor(te,j)):Promise.resolve(null)}doOpenEditor(j,te){if(!this.findModel(j,te.resource)){if(te.resource){const Ce=te.resource.scheme;if(Ce===ve.Schemas.http||Ce===ve.Schemas.https)return(0,he.windowOpenNoOpener)(te.resource.toString()),j}return null}const Ce=te.options?te.options.selection:null;if(Ce)if("number"==typeof Ce.endLineNumber&&"number"==typeof Ce.endColumn)j.setSelection(Ce),j.revealRangeInCenter(Ce,1);else{const te={lineNumber:Ce.startLineNumber,column:Ce.startColumn};j.setPosition(te),j.revealPositionInCenter(te,1)}return j}findModel(j,te){const he=j.getModel();return he&&he.uri.toString()!==te.toString()?null:he}};Oe=Ci([Zi(0,Ee.IContextKeyService),Zi(1,Ne.IThemeService)],Oe),te.StandaloneCodeEditorService=Oe,(0,Ie.registerSingleton)(ye.ICodeEditorService,Oe)})),define(Ce[658],ie([1,0,52,23]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.hc_black=te.vs_dark=te.vs=void 0,te.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[ve.editorBackground]:"#FFFFFE",[ve.editorForeground]:"#000000",[ve.editorInactiveSelection]:"#E5EBF1",[he.editorIndentGuides]:"#D3D3D3",[he.editorActiveIndentGuides]:"#939393",[ve.editorSelectionHighlight]:"#ADD6FF4D"}},te.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[ve.editorBackground]:"#1E1E1E",[ve.editorForeground]:"#D4D4D4",[ve.editorInactiveSelection]:"#3A3D41",[he.editorIndentGuides]:"#404040",[he.editorActiveIndentGuides]:"#707070",[ve.editorSelectionHighlight]:"#ADD6FF26"}},te.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[ve.editorBackground]:"#000000",[ve.editorForeground]:"#FFFFFF",[he.editorIndentGuides]:"#FFFFFF",[he.editorActiveIndentGuides]:"#FFFFFF"}}})),define(Ce[37],ie([1,0,44,27,4,54,2,81,26,16,9,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){function i(j){return void 0!==j.command}Object.defineProperty(te,"__esModule",{value:!0}),te.MenuItemAction=te.SubmenuItemAction=te.MenuRegistry=te.IMenuService=te.MenuId=te.isIMenuItem=void 0,te.isIMenuItem=i;class n{constructor(j){this.id=n._idPool++,this._debugName=j}}te.MenuId=n,n._idPool=0,n.CommandPalette=new n("CommandPalette"),n.DebugBreakpointsContext=new n("DebugBreakpointsContext"),n.DebugCallStackContext=new n("DebugCallStackContext"),n.DebugConsoleContext=new n("DebugConsoleContext"),n.DebugVariablesContext=new n("DebugVariablesContext"),n.DebugWatchContext=new n("DebugWatchContext"),n.DebugToolBar=new n("DebugToolBar"),n.EditorContext=new n("EditorContext"),n.SimpleEditorContext=new n("SimpleEditorContext"),n.EditorContextCopy=new n("EditorContextCopy"),n.EditorContextPeek=new n("EditorContextPeek"),n.EditorTitle=new n("EditorTitle"),n.EditorTitleRun=new n("EditorTitleRun"),n.EditorTitleContext=new n("EditorTitleContext"),n.EmptyEditorGroup=new n("EmptyEditorGroup"),n.EmptyEditorGroupContext=new n("EmptyEditorGroupContext"),n.ExplorerContext=new n("ExplorerContext"),n.ExtensionContext=new n("ExtensionContext"),n.GlobalActivity=new n("GlobalActivity"),n.LayoutControlMenu=new n("LayoutControlMenu"),n.MenubarMainMenu=new n("MenubarMainMenu"),n.MenubarAppearanceMenu=new n("MenubarAppearanceMenu"),n.MenubarDebugMenu=new n("MenubarDebugMenu"),n.MenubarEditMenu=new n("MenubarEditMenu"),n.MenubarCopy=new n("MenubarCopy"),n.MenubarFileMenu=new n("MenubarFileMenu"),n.MenubarGoMenu=new n("MenubarGoMenu"),n.MenubarHelpMenu=new n("MenubarHelpMenu"),n.MenubarLayoutMenu=new n("MenubarLayoutMenu"),n.MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu"),n.MenubarPanelAlignmentMenu=new n("MenubarPanelAlignmentMenu"),n.MenubarPreferencesMenu=new n("MenubarPreferencesMenu"),n.MenubarRecentMenu=new n("MenubarRecentMenu"),n.MenubarSelectionMenu=new n("MenubarSelectionMenu"),n.MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu"),n.MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu"),n.MenubarTerminalMenu=new n("MenubarTerminalMenu"),n.MenubarViewMenu=new n("MenubarViewMenu"),n.MenubarHomeMenu=new n("MenubarHomeMenu"),n.OpenEditorsContext=new n("OpenEditorsContext"),n.ProblemsPanelContext=new n("ProblemsPanelContext"),n.SCMChangeContext=new n("SCMChangeContext"),n.SCMResourceContext=new n("SCMResourceContext"),n.SCMResourceFolderContext=new n("SCMResourceFolderContext"),n.SCMResourceGroupContext=new n("SCMResourceGroupContext"),n.SCMSourceControl=new n("SCMSourceControl"),n.SCMTitle=new n("SCMTitle"),n.SearchContext=new n("SearchContext"),n.StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu"),n.StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu"),n.TestItem=new n("TestItem"),n.TestItemGutter=new n("TestItemGutter"),n.TestPeekElement=new n("TestPeekElement"),n.TestPeekTitle=new n("TestPeekTitle"),n.TouchBarContext=new n("TouchBarContext"),n.TitleBarContext=new n("TitleBarContext"),n.TunnelContext=new n("TunnelContext"),n.TunnelPrivacy=new n("TunnelPrivacy"),n.TunnelProtocol=new n("TunnelProtocol"),n.TunnelPortInline=new n("TunnelInline"),n.TunnelTitle=new n("TunnelTitle"),n.TunnelLocalAddressInline=new n("TunnelLocalAddressInline"),n.TunnelOriginInline=new n("TunnelOriginInline"),n.ViewItemContext=new n("ViewItemContext"),n.ViewContainerTitle=new n("ViewContainerTitle"),n.ViewContainerTitleContext=new n("ViewContainerTitleContext"),n.ViewTitle=new n("ViewTitle"),n.ViewTitleContext=new n("ViewTitleContext"),n.CommentThreadTitle=new n("CommentThreadTitle"),n.CommentThreadActions=new n("CommentThreadActions"),n.CommentTitle=new n("CommentTitle"),n.CommentActions=new n("CommentActions"),n.InteractiveToolbar=new n("InteractiveToolbar"),n.InteractiveCellTitle=new n("InteractiveCellTitle"),n.InteractiveCellExecute=new n("InteractiveCellExecute"),n.InteractiveInputExecute=new n("InteractiveInputExecute"),n.NotebookToolbar=new n("NotebookToolbar"),n.NotebookCellTitle=new n("NotebookCellTitle"),n.NotebookCellInsert=new n("NotebookCellInsert"),n.NotebookCellBetween=new n("NotebookCellBetween"),n.NotebookCellListTop=new n("NotebookCellTop"),n.NotebookCellExecute=new n("NotebookCellExecute"),n.NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary"),n.NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle"),n.NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle"),n.NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle"),n.NotebookOutputToolbar=new n("NotebookOutputToolbar"),n.NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure"),n.BulkEditTitle=new n("BulkEditTitle"),n.BulkEditContext=new n("BulkEditContext"),n.TimelineItemContext=new n("TimelineItemContext"),n.TimelineTitle=new n("TimelineTitle"),n.TimelineTitleContext=new n("TimelineTitleContext"),n.AccountsContext=new n("AccountsContext"),n.PanelTitle=new n("PanelTitle"),n.TerminalInstanceContext=new n("TerminalInstanceContext"),n.TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext"),n.TerminalNewDropdownContext=new n("TerminalNewDropdownContext"),n.TerminalTabContext=new n("TerminalTabContext"),n.TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext"),n.TerminalInlineTabContext=new n("TerminalInlineTabContext"),n.WebviewContext=new n("WebviewContext"),n.InlineCompletionsActions=new n("InlineCompletionsActions"),n.NewFile=new n("NewFile"),te.IMenuService=(0,Ke.createDecorator)("menuService"),te.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Ce.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:j=>j===n.CommandPalette}}addCommand(j){return this.addCommands(ye.Iterable.single(j))}addCommands(j){for(const te of j)this._commands.set(te.id,te);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,Ee.toDisposable)((()=>{let te=!1;for(const he of j)te=this._commands.delete(he.id)||te;te&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)}))}getCommand(j){return this._commands.get(j)}getCommands(){const j=new Map;return this._commands.forEach(((te,he)=>j.set(he,te))),j}appendMenuItem(j,te){return this.appendMenuItems(ye.Iterable.single({id:j,item:te}))}appendMenuItems(j){const te=new Set,he=new Ie.LinkedList;for(const{id:ve,item:Ce}of j){let j=this._menuItems.get(ve);j||(j=new Ie.LinkedList,this._menuItems.set(ve,j)),he.push(j.push(Ce)),te.add(ve)}return this._onDidChangeMenu.fire(te),(0,Ee.toDisposable)((()=>{if(he.size>0){for(let j of he)j();this._onDidChangeMenu.fire(te),he.clear()}}))}getMenuItems(j){let te;return te=this._menuItems.has(j)?[...this._menuItems.get(j)]:[],j===n.CommandPalette&&this._appendImplicitItems(te),te}_appendImplicitItems(j){const te=new Set;for(const he of j)i(he)&&(te.add(he.command.id),he.alt&&te.add(he.alt.id));this._commands.forEach(((he,ve)=>{te.has(ve)||j.push({command:he})}))}};class l extends he.SubmenuAction{constructor(j,te,he,ve){super(`submenuitem.${j.submenu.id}`,"string"==typeof j.title?j.title:j.title.value,[],"submenu"),this.item=j,this._menuService=te,this._contextKeyService=he,this._options=ve}get actions(){const j=[],te=this._menuService.createMenu(this.item.submenu,this._contextKeyService),ve=te.getActions(this._options);te.dispose();for(const[,te]of ve)te.length>0&&(j.push(...te),j.push(new he.Separator));return j.length&&j.pop(),j}}te.SubmenuItemAction=l;let Ze=class Li{constructor(j,te,he,Ce,ye){var Ee,Ie;if(this._commandService=ye,this.id=j.id,this.label=(null==he?void 0:he.renderShortTitle)&&j.shortTitle?"string"==typeof j.shortTitle?j.shortTitle:j.shortTitle.value:"string"==typeof j.title?j.title:j.title.value,this.tooltip=null!==(Ie="string"==typeof j.tooltip?j.tooltip:null===(Ee=j.tooltip)||void 0===Ee?void 0:Ee.value)&&void 0!==Ie?Ie:"",this.enabled=!j.precondition||Ce.contextMatchesRules(j.precondition),this.checked=void 0,j.toggled){const te=j.toggled.condition?j.toggled:{condition:j.toggled};this.checked=Ce.contextMatchesRules(te.condition),this.checked&&te.tooltip&&(this.tooltip="string"==typeof te.tooltip?te.tooltip:te.tooltip.value),te.title&&(this.label="string"==typeof te.title?te.title:te.title.value)}this.item=j,this.alt=te?new Li(te,void 0,he,Ce,ye):void 0,this._options=he,je.ThemeIcon.isThemeIcon(j.icon)&&(this.class=ve.CSSIcon.asClassName(j.icon))}dispose(){}run(...j){var te,he;let ve=[];return(null===(te=this._options)||void 0===te?void 0:te.arg)&&(ve=[...ve,this._options.arg]),(null===(he=this._options)||void 0===he?void 0:he.shouldForwardArgs)&&(ve=[...ve,...j]),this._commandService.executeCommand(this.id,...ve)}};Ze=Ci([Zi(3,Oe.IContextKeyService),Zi(4,Ne.ICommandService)],Ze),te.MenuItemAction=Ze})),define(Ce[15],ie([1,0,499,25,28,11,45,58,37,26,16,86,36,87,20,64]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt){Object.defineProperty(te,"__esModule",{value:!0}),te.SelectAllCommand=te.RedoCommand=te.UndoCommand=te.EditorExtensionsRegistry=te.registerEditorContribution=te.registerInstantiatedEditorAction=te.registerMultiEditorAction=te.registerEditorAction=te.registerEditorCommand=te.registerModelCommand=te.registerModelAndPositionCommand=te.MultiEditorAction=te.EditorAction=te.EditorCommand=te.ProxyCommand=te.MultiCommand=te.Command=void 0;class r{constructor(j){this.id=j.id,this.precondition=j.precondition,this._kbOpts=j.kbOpts,this._menuOpts=j.menuOpts,this._description=j.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const j=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const te of j){let j=te.kbExpr;this.precondition&&(j=j?Ke.ContextKeyExpr.and(j,this.precondition):this.precondition);const he={id:this.id,weight:te.weight,args:te.args,when:j,primary:te.primary,secondary:te.secondary,win:te.win,linux:te.linux,mac:te.mac};je.KeybindingsRegistry.registerKeybindingRule(he)}}Oe.CommandsRegistry.registerCommand({id:this.id,handler:(j,te)=>this.runCommand(j,te),description:this._description})}_registerMenuItem(j){Ne.MenuRegistry.appendMenuItem(j.menuId,{group:j.group,command:{id:this.id,title:j.title,icon:j.icon,precondition:this.precondition},when:j.when,order:j.order})}}te.Command=r;class s extends r{constructor(){super(...arguments),this._implementations=[]}addImplementation(j,te,he){return this._implementations.push({priority:j,name:te,implementation:he}),this._implementations.sort(((j,te)=>te.priority-j.priority)),{dispose:()=>{for(let j=0;j<this._implementations.length;j++)if(this._implementations[j].implementation===he)return void this._implementations.splice(j,1)}}}runCommand(j,te){const he=j.get(nt.ILogService);he.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const ve of this._implementations){const Ce=ve.implementation(j,te);if(Ce)return he.trace(`Command '${this.id}' was handled by '${ve.name}'.`),"boolean"==typeof Ce?void 0:Ce}he.trace(`The Command '${this.id}' was not handled by any implementation.`)}}te.MultiCommand=s;class o extends r{constructor(j,te){super(te),this.command=j}runCommand(j,te){return this.command.runCommand(j,te)}}te.ProxyCommand=o;class a extends r{static bindToContribution(j){return class extends a{constructor(j){super(j),this._callback=j.handler}runEditorCommand(te,he,ve){const Ce=j(he);Ce&&this._callback(Ce,ve)}}}runCommand(j,te){const he=j.get(Ce.ICodeEditorService),ve=he.getFocusedCodeEditor()||he.getActiveCodeEditor();if(ve)return ve.invokeWithinContext((j=>{if(j.get(Ke.IContextKeyService).contextMatchesRules((0,et.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(j,ve,te)}))}}te.EditorCommand=a;class d extends a{constructor(j){super(d.convertOptions(j)),this.label=j.label,this.alias=j.alias}static convertOptions(j){let te;function P(te){return te.menuId||(te.menuId=Ne.MenuId.EditorContext),te.title||(te.title=j.label),te.when=Ke.ContextKeyExpr.and(j.precondition,te.when),te}return te=Array.isArray(j.menuOpts)?j.menuOpts:j.menuOpts?[j.menuOpts]:[],Array.isArray(j.contextMenuOpts)?te.push(...j.contextMenuOpts.map(P)):j.contextMenuOpts&&te.push(P(j.contextMenuOpts)),j.menuOpts=te,j}runEditorCommand(j,te,he){return this.reportTelemetry(j,te),this.run(j,te,he||{})}reportTelemetry(j,te){j.get(Ye.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}te.EditorAction=d;var rt;te.MultiEditorAction=class u extends d{constructor(){super(...arguments),this._implementations=[]}addImplementation(j,te){return this._implementations.push([j,te]),this._implementations.sort(((j,te)=>te[0]-j[0])),{dispose:()=>{for(let j=0;j<this._implementations.length;j++)if(this._implementations[j][1]===te)return void this._implementations.splice(j,1)}}}run(j,te,he){for(const ve of this._implementations){const Ce=ve[1](j,te,he);if(Ce)return"boolean"==typeof Ce?void 0:Ce}}},te.registerModelAndPositionCommand=function f(j,te){Oe.CommandsRegistry.registerCommand(j,(function(j,...he){const[Ce,Ne]=he;(0,et.assertType)(ve.URI.isUri(Ce)),(0,et.assertType)(ye.Position.isIPosition(Ne));const Oe=j.get(Ee.IModelService).getModel(Ce);if(Oe){const j=ye.Position.lift(Ne);return te(Oe,j,...he.slice(2))}return j.get(Ie.ITextModelService).createModelReference(Ce).then((j=>new Promise(((ve,Ce)=>{try{ve(te(j.object.textEditorModel,ye.Position.lift(Ne),he.slice(2)))}catch(j){Ce(j)}})).finally((()=>{j.dispose()}))))}))},te.registerModelCommand=function S(j,te){Oe.CommandsRegistry.registerCommand(j,(function(j,...he){const[Ce]=he;(0,et.assertType)(ve.URI.isUri(Ce));const ye=j.get(Ee.IModelService).getModel(Ce);return ye?te(ye,...he.slice(1)):j.get(Ie.ITextModelService).createModelReference(Ce).then((j=>new Promise(((ve,Ce)=>{try{ve(te(j.object.textEditorModel,he.slice(1)))}catch(j){Ce(j)}})).finally((()=>{j.dispose()}))))}))},te.registerEditorCommand=function v(j){return M.INSTANCE.registerEditorCommand(j),j},te.registerEditorAction=function C(j){const te=new j;return M.INSTANCE.registerEditorAction(te),te},te.registerMultiEditorAction=function _(j){return M.INSTANCE.registerEditorAction(j),j},te.registerInstantiatedEditorAction=function L(j){M.INSTANCE.registerEditorAction(j)},te.registerEditorContribution=function E(j,te){M.INSTANCE.registerEditorContribution(j,te)},(rt=te.EditorExtensionsRegistry||(te.EditorExtensionsRegistry={})).getEditorCommand=function T(j){return M.INSTANCE.getEditorCommand(j)},rt.getEditorActions=function R(){return M.INSTANCE.getEditorActions()},rt.getEditorContributions=function P(){return M.INSTANCE.getEditorContributions()},rt.getSomeEditorContributions=function F(j){return M.INSTANCE.getEditorContributions().filter((te=>j.indexOf(te.id)>=0))},rt.getDiffEditorContributions=function W(){return M.INSTANCE.getDiffEditorContributions()};class M{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(j,te){this.editorContributions.push({id:j,ctor:te})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(j){j.register(),this.editorActions.push(j)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(j){j.register(),this.editorCommands[j.id]=j}getEditorCommand(j){return this.editorCommands[j]||null}}function O(j){return j.register(),j}M.INSTANCE=new M,Ze.Registry.add("editor.contributions",M.INSTANCE),te.UndoCommand=O(new s({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:Ne.MenuId.MenubarEditMenu,group:"1_do",title:he.localize(0,null),order:1},{menuId:Ne.MenuId.CommandPalette,group:"",title:he.localize(1,null),order:1}]})),O(new o(te.UndoCommand,{id:"default:undo",precondition:void 0})),te.RedoCommand=O(new s({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:Ne.MenuId.MenubarEditMenu,group:"1_do",title:he.localize(2,null),order:2},{menuId:Ne.MenuId.CommandPalette,group:"",title:he.localize(3,null),order:1}]})),O(new o(te.RedoCommand,{id:"default:redo",precondition:void 0})),te.SelectAllCommand=O(new s({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:Ne.MenuId.MenubarSelectionMenu,group:"1_basic",title:he.localize(4,null),order:1},{menuId:Ne.MenuId.CommandPalette,group:"",title:he.localize(5,null),order:1}]}))})),define(Ce[659],ie([1,0,196,15]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.MarkerDecorationsContribution=void 0;let Ce=class{constructor(j,te){}dispose(){}};Ce.ID="editor.contrib.markerDecorations",Ce=Ci([Zi(1,he.IMarkerDecorationsService)],Ce),te.MarkerDecorationsContribution=Ce,(0,ve.registerEditorContribution)(Ce.ID,Ce)})),define(Ce[660],ie([1,0,43,66,55,15,22,24,516,16,368]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.SelectionAnchorSet=void 0,te.SelectionAnchorSet=new Oe.RawContextKey("selectionAnchorSet",!1);let Ke=class Ei{constructor(j,he){this.editor=j,this.selectionAnchorSetContextKey=te.SelectionAnchorSet.bindTo(he),this.modelChangeListener=j.onDidChangeModel((()=>this.selectionAnchorSetContextKey.reset()))}static get(j){return j.getContribution(Ei.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const j=this.editor.getPosition(),te=this.decorationId?[this.decorationId]:[],Ce=this.editor.deltaDecorations(te,[{range:Ee.Selection.fromPositions(j,j),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new ve.MarkdownString).appendText((0,Ne.localize)(0,null)),className:"selection-anchor"}}]);this.decorationId=Ce[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,he.alert)((0,Ne.localize)(1,null,j.lineNumber,j.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const j=this.editor.getModel().getDecorationRange(this.decorationId);j&&this.editor.setPosition(j.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const j=this.editor.getModel().getDecorationRange(this.decorationId);if(j){const te=this.editor.getPosition();this.editor.setSelection(Ee.Selection.fromPositions(j.getStartPosition(),te)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Ke.ID="editor.contrib.selectionAnchorController",Ke=Ci([Zi(1,Oe.IContextKeyService)],Ke);class t extends ye.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,Ne.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:Ie.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2080),weight:100}})}run(j,te){var he;return fi(this,void 0,void 0,(function*(){null===(he=Ke.get(te))||void 0===he||he.setSelectionAnchor()}))}}class i extends ye.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,Ne.localize)(3,null),alias:"Go to Selection Anchor",precondition:te.SelectionAnchorSet})}run(j,te){var he;return fi(this,void 0,void 0,(function*(){null===(he=Ke.get(te))||void 0===he||he.goToSelectionAnchor()}))}}class n extends ye.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,Ne.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:te.SelectionAnchorSet,kbOpts:{kbExpr:Ie.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2089),weight:100}})}run(j,te){var he;return fi(this,void 0,void 0,(function*(){null===(he=Ke.get(te))||void 0===he||he.selectFromAnchorToCursor()}))}}class l extends ye.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,Ne.localize)(5,null),alias:"Cancel Selection Anchor",precondition:te.SelectionAnchorSet,kbOpts:{kbExpr:Ie.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(j,te){var he;return fi(this,void 0,void 0,(function*(){null===(he=Ke.get(te))||void 0===he||he.cancelSelectionAnchor()}))}}(0,ye.registerEditorContribution)(Ke.ID,Ke),(0,ye.registerEditorAction)(t),(0,ye.registerEditorAction)(i),(0,ye.registerEditorAction)(n),(0,ye.registerEditorAction)(l)})),define(Ce[661],ie([1,0,15,24,450,518]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0});class w extends he.EditorAction{constructor(j,te){super(te),this.left=j}run(j,te){if(!te.hasModel())return;const he=[],ve=te.getSelections();for(const j of ve)he.push(new Ce.MoveCaretCommand(j,this.left));te.pushUndoStop(),te.executeCommands(this.id,he),te.pushUndoStop()}}(0,he.registerEditorAction)(class b extends w{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:ye.localize(0,null),alias:"Move Selected Text Left",precondition:ve.EditorContextKeys.writable})}}),(0,he.registerEditorAction)(class p extends w{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:ye.localize(1,null),alias:"Move Selected Text Right",precondition:ve.EditorContextKeys.writable})}})})),define(Ce[662],ie([1,0,34,17,175,15,28,24,520,37,102]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.PasteAction=te.CopyAction=te.CutAction=void 0;const je="9_cutcopypaste",Ze=ve.isNative||document.queryCommandSupported("cut"),Ye=ve.isNative||document.queryCommandSupported("copy"),et=void 0!==navigator.clipboard&&!he.isFirefox||document.queryCommandSupported("paste");function c(j){return j.register(),j}te.CutAction=Ze?c(new ye.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:ve.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:Oe.MenuId.MenubarEditMenu,group:"2_ccp",title:Ne.localize(0,null),order:1},{menuId:Oe.MenuId.EditorContext,group:je,title:Ne.localize(1,null),when:Ie.EditorContextKeys.writable,order:1},{menuId:Oe.MenuId.CommandPalette,group:"",title:Ne.localize(2,null),order:1},{menuId:Oe.MenuId.SimpleEditorContext,group:je,title:Ne.localize(3,null),when:Ie.EditorContextKeys.writable,order:1}]})):void 0,te.CopyAction=Ye?c(new ye.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:ve.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:Oe.MenuId.MenubarEditMenu,group:"2_ccp",title:Ne.localize(4,null),order:2},{menuId:Oe.MenuId.EditorContext,group:je,title:Ne.localize(5,null),order:2},{menuId:Oe.MenuId.CommandPalette,group:"",title:Ne.localize(6,null),order:1},{menuId:Oe.MenuId.SimpleEditorContext,group:je,title:Ne.localize(7,null),order:2}]})):void 0,Oe.MenuRegistry.appendMenuItem(Oe.MenuId.MenubarEditMenu,{submenu:Oe.MenuId.MenubarCopy,title:{value:Ne.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),Oe.MenuRegistry.appendMenuItem(Oe.MenuId.EditorContext,{submenu:Oe.MenuId.EditorContextCopy,title:{value:Ne.localize(9,null),original:"Copy As"},group:je,order:3}),te.PasteAction=et?c(new ye.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:ve.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:Oe.MenuId.MenubarEditMenu,group:"2_ccp",title:Ne.localize(10,null),order:4},{menuId:Oe.MenuId.EditorContext,group:je,title:Ne.localize(11,null),when:Ie.EditorContextKeys.writable,order:4},{menuId:Oe.MenuId.CommandPalette,group:"",title:Ne.localize(12,null),order:1},{menuId:Oe.MenuId.SimpleEditorContext,group:je,title:Ne.localize(13,null),when:Ie.EditorContextKeys.writable,order:4}]})):void 0;class r extends ye.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:Ne.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:Ie.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(j,te){!te.hasModel()||!te.getOption(32)&&te.getSelection().isEmpty()||(Ce.CopyOptions.forceCopyWithSyntaxHighlighting=!0,te.focus(),document.execCommand("copy"),Ce.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function s(j,te){!j||(j.addImplementation(1e4,"code-editor",((j,he)=>{const ve=j.get(Ee.ICodeEditorService).getFocusedCodeEditor();if(ve&&ve.hasTextFocus()){const j=ve.getOption(32),he=ve.getSelection();return he&&he.isEmpty()&&!j||document.execCommand(te),!0}return!1})),j.addImplementation(0,"generic-dom",((j,he)=>(document.execCommand(te),!0))))}s(te.CutAction,"cut"),s(te.CopyAction,"copy"),te.PasteAction&&(te.PasteAction.addImplementation(1e4,"code-editor",((j,te)=>{const he=j.get(Ee.ICodeEditorService),ye=j.get(Ke.IClipboardService),Ie=he.getFocusedCodeEditor();return!(!Ie||!Ie.hasTextFocus())&&(!(!document.execCommand("paste")&&ve.isWeb)||fi(void 0,void 0,void 0,(function*(){const j=yield ye.readText();if(""!==j){const te=Ce.InMemoryClipboardMetadataManager.INSTANCE.get(j);let he=!1,ve=null,ye=null;te&&(he=Ie.getOption(32)&&!!te.isFromEmptySelection,ve=void 0!==te.multicursorText?te.multicursorText:null,ye=te.mode),Ie.trigger("keyboard","paste",{text:j,pasteOnNewLine:he,multicursorText:ve,mode:ye})}})))})),te.PasteAction.addImplementation(0,"generic-dom",((j,te)=>(document.execCommand("paste"),!0)))),Ye&&(0,ye.registerEditorAction)(r)})),define(Ce[663],ie([1,0,55,15,3,24,32,254,599,525,37]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0});class t extends ve.EditorAction{constructor(j,te){super(te),this._type=j}run(j,te){const he=j.get(Ee.ILanguageConfigurationService);if(!te.hasModel())return;const ve=[],ye=te.getModel().getOptions(),Ie=te.getOption(19),Oe=te.getSelections().map(((j,te)=>({selection:j,index:te,ignoreFirstLine:!1})));Oe.sort(((j,te)=>Ce.Range.compareRangesUsingStarts(j.selection,te.selection)));let Ke=Oe[0];for(let j=1;j<Oe.length;j++){const te=Oe[j];Ke.selection.endLineNumber===te.selection.startLineNumber&&(Ke.index<te.index?te.ignoreFirstLine=!0:(Ke.ignoreFirstLine=!0,Ke=te))}for(const j of Oe)ve.push(new Ne.LineCommentCommand(he,j.selection,ye.tabSize,this._type,Ie.insertSpace,Ie.ignoreEmptyLines,j.ignoreFirstLine));te.pushUndoStop(),te.executeCommands(this.id,ve),te.pushUndoStop()}}class c extends ve.EditorAction{constructor(){super({id:"editor.action.blockComment",label:Oe.localize(4,null),alias:"Toggle Block Comment",precondition:ye.EditorContextKeys.writable,kbOpts:{kbExpr:ye.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:Ke.MenuId.MenubarEditMenu,group:"5_insert",title:Oe.localize(5,null),order:2}})}run(j,te){const he=j.get(Ee.ILanguageConfigurationService);if(!te.hasModel())return;const ve=te.getOption(19),Ce=[],ye=te.getSelections();for(const j of ye)Ce.push(new Ie.BlockCommentCommand(j,ve.insertSpace,he));te.pushUndoStop(),te.executeCommands(this.id,Ce),te.pushUndoStop()}}(0,ve.registerEditorAction)(class i extends t{constructor(){super(0,{id:"editor.action.commentLine",label:Oe.localize(0,null),alias:"Toggle Line Comment",precondition:ye.EditorContextKeys.writable,kbOpts:{kbExpr:ye.EditorContextKeys.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:Ke.MenuId.MenubarEditMenu,group:"5_insert",title:Oe.localize(1,null),order:1}})}}),(0,ve.registerEditorAction)(class n extends t{constructor(){super(1,{id:"editor.action.addCommentLine",label:Oe.localize(2,null),alias:"Add Line Comment",precondition:ye.EditorContextKeys.writable,kbOpts:{kbExpr:ye.EditorContextKeys.editorTextFocus,primary:(0,he.KeyChord)(2089,2081),weight:100}})}}),(0,ve.registerEditorAction)(class l extends t{constructor(){super(2,{id:"editor.action.removeCommentLine",label:Oe.localize(3,null),alias:"Remove Line Comment",precondition:ye.EditorContextKeys.writable,kbOpts:{kbExpr:ye.EditorContextKeys.editorTextFocus,primary:(0,he.KeyChord)(2089,2099),weight:100}})}}),(0,ve.registerEditorAction)(c)})),define(Ce[664],ie([1,0,7,125,44,2,17,15,24,526,37,16,76,42]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){Object.defineProperty(te,"__esModule",{value:!0}),te.ContextMenuController=void 0;let et=class Ii{constructor(j,te,ve,Ce,Ee,Ie){this._contextMenuService=te,this._contextViewService=ve,this._contextKeyService=Ce,this._keybindingService=Ee,this._menuService=Ie,this._toDispose=new ye.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=j,this._toDispose.add(this._editor.onContextMenu((j=>this._onContextMenu(j)))),this._toDispose.add(this._editor.onMouseWheel((j=>{if(this._contextMenuIsBeingShownCount>0){const te=this._contextViewService.getContextViewElement(),ve=j.srcElement;ve.shadowRoot&&he.getShadowRoot(te)===ve.shadowRoot||this._contextViewService.hideContextView()}}))),this._toDispose.add(this._editor.onKeyDown((j=>{58===j.keyCode&&(j.preventDefault(),j.stopPropagation(),this.showContextMenu())})))}static get(j){return j.getContribution(Ii.ID)}_onContextMenu(j){if(!this._editor.hasModel())return;if(!this._editor.getOption(20))return this._editor.focus(),void(j.target.position&&!this._editor.getSelection().containsPosition(j.target.position)&&this._editor.setPosition(j.target.position));if(12===j.target.type||6===j.target.type&&j.target.detail.injectedText||(j.event.preventDefault(),j.event.stopPropagation(),6!==j.target.type&&7!==j.target.type&&1!==j.target.type))return;if(this._editor.focus(),j.target.position){let te=!1;for(const he of this._editor.getSelections())if(he.containsPosition(j.target.position)){te=!0;break}te||this._editor.setPosition(j.target.position)}let te=null;1!==j.target.type&&(te={x:j.event.posx-1,width:2,y:j.event.posy-1,height:2}),this.showContextMenu(te)}showContextMenu(j){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const te=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?Ke.MenuId.SimpleEditorContext:Ke.MenuId.EditorContext);te.length>0&&this._doShowContextMenu(te,j)}_getMenuActions(j,te){const he=[],ve=this._menuService.createMenu(te,this._contextKeyService),ye=ve.getActions({arg:j.uri});ve.dispose();for(let te of ye){const[,ve]=te;let ye=0;for(const te of ve)if(te instanceof Ke.SubmenuItemAction){const ve=this._getMenuActions(j,te.item.submenu);ve.length>0&&(he.push(new Ce.SubmenuAction(te.id,te.label,ve)),ye++)}else he.push(te),ye++;ye&&he.push(new Ce.Separator)}return he.length&&he.pop(),he}_doShowContextMenu(j,te=null){if(!this._editor.hasModel())return;const Ce=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!te){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const j=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),ve=he.getDomNodePagePosition(this._editor.getDomNode()),Ce=ve.left+j.left,ye=ve.top+j.top+j.height;te={x:Ce,y:ye}}const ye=this._editor.getOption(115)&&!Ee.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:ye?this._editor.getDomNode():void 0,getAnchor:()=>te,getActions:()=>j,getActionViewItem:j=>{const te=this._keybindingFor(j);if(te)return new ve.ActionViewItem(j,j,{label:!0,keybinding:te.getLabel(),isMenu:!0});const he=j;return"function"==typeof he.getActionViewItem?he.getActionViewItem():new ve.ActionViewItem(j,j,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:j=>this._keybindingFor(j),onHide:j=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:Ce})}})}_keybindingFor(j){return this._keybindingService.lookupKeybinding(j.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};et.ID="editor.contrib.contextmenu",et=Ci([Zi(1,Ze.IContextMenuService),Zi(2,Ze.IContextViewService),Zi(3,je.IContextKeyService),Zi(4,Ye.IKeybindingService),Zi(5,Ke.IMenuService)],et),te.ContextMenuController=et;class c extends Ie.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:Oe.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:Ne.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(j,te){var he;null===(he=et.get(te))||void 0===he||he.showContextMenu()}}(0,Ie.registerEditorContribution)(et.ID,et),(0,Ie.registerEditorAction)(c)})),define(Ce[665],ie([1,0,2,15,24,527]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.CursorRedo=te.CursorUndo=te.CursorUndoRedoController=void 0;class w{constructor(j){this.selections=j}equals(j){const te=this.selections.length;if(te!==j.selections.length)return!1;for(let he=0;he<te;he++)if(!this.selections[he].equalsSelection(j.selections[he]))return!1;return!0}}class b{constructor(j,te,he){this.cursorState=j,this.scrollTop=te,this.scrollLeft=he}}class p extends he.Disposable{constructor(j){super(),this._editor=j,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(j.onDidChangeModel((j=>{this._undoStack=[],this._redoStack=[]}))),this._register(j.onDidChangeModelContent((j=>{this._undoStack=[],this._redoStack=[]}))),this._register(j.onDidChangeCursorSelection((te=>{if(this._isCursorUndoRedo||!te.oldSelections||te.oldModelVersionId!==te.modelVersionId)return;const he=new w(te.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(he)||(this._undoStack.push(new b(he,j.getScrollTop(),j.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())})))}static get(j){return j.getContribution(p.ID)}cursorUndo(){!this._editor.hasModel()||0===this._undoStack.length||(this._redoStack.push(new b(new w(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||0===this._redoStack.length||(this._undoStack.push(new b(new w(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(j){this._isCursorUndoRedo=!0,this._editor.setSelections(j.cursorState.selections),this._editor.setScrollPosition({scrollTop:j.scrollTop,scrollLeft:j.scrollLeft}),this._isCursorUndoRedo=!1}}te.CursorUndoRedoController=p,p.ID="editor.contrib.cursorUndoRedoController";class h extends ve.EditorAction{constructor(){super({id:"cursorUndo",label:ye.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:Ce.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(j,te,he){var ve;null===(ve=p.get(te))||void 0===ve||ve.cursorUndo()}}te.CursorUndo=h;class g extends ve.EditorAction{constructor(){super({id:"cursorRedo",label:ye.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(j,te,he){var ve;null===(ve=p.get(te))||void 0===ve||ve.cursorRedo()}}te.CursorRedo=g,(0,ve.registerEditorContribution)(p.ID,p),(0,ve.registerEditorAction)(h),(0,ve.registerEditorAction)(g)})),define(Ce[666],ie([1,0,15,16,21,81,9,53,528]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.EditorKeybindingCancellationTokenSource=void 0;const Oe=(0,Ee.createDecorator)("IEditorCancelService"),Ke=new ve.RawContextKey("cancellableOperation",!1,(0,Ne.localize)(0,null));(0,Ie.registerSingleton)(Oe,class{constructor(){this._tokens=new WeakMap}add(j,te){let he,Ce=this._tokens.get(j);return Ce||(Ce=j.invokeWithinContext((j=>({key:Ke.bindTo(j.get(ve.IContextKeyService)),tokens:new ye.LinkedList}))),this._tokens.set(j,Ce)),Ce.key.set(!0),he=Ce.tokens.push(te),()=>{he&&(he(),Ce.key.set(!Ce.tokens.isEmpty()),he=void 0)}}cancel(j){const te=this._tokens.get(j);if(!te)return;const he=te.tokens.pop();he&&(he.cancel(),te.key.set(!te.tokens.isEmpty()))}},!0);class t extends Ce.CancellationTokenSource{constructor(j,te){super(te),this.editor=j,this._unregister=j.invokeWithinContext((te=>te.get(Oe).add(j,this)))}dispose(){this._unregister(),super.dispose()}}te.EditorKeybindingCancellationTokenSource=t,(0,he.registerEditorCommand)(new class extends he.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:Ke})}runEditorCommand(j,te){j.get(Oe).cancel(te)}})})),define(Ce[106],ie([1,0,8,3,21,2,666]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.TextModelCancellationTokenSource=te.EditorStateCancellationTokenSource=te.EditorState=void 0;class b{constructor(j,te){if(this.flags=te,0!=(1&this.flags)){const te=j.getModel();this.modelVersionId=te?he.format("{0}#{1}",te.uri.toString(),te.getVersionId()):null}else this.modelVersionId=null;0!=(4&this.flags)?this.position=j.getPosition():this.position=null,0!=(2&this.flags)?this.selection=j.getSelection():this.selection=null,0!=(8&this.flags)?(this.scrollLeft=j.getScrollLeft(),this.scrollTop=j.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(j){if(!(j instanceof b))return!1;const te=j;return!(this.modelVersionId!==te.modelVersionId||this.scrollLeft!==te.scrollLeft||this.scrollTop!==te.scrollTop||!this.position&&te.position||this.position&&!te.position||this.position&&te.position&&!this.position.equals(te.position)||!this.selection&&te.selection||this.selection&&!te.selection||this.selection&&te.selection&&!this.selection.equalsRange(te.selection))}validate(j){return this._equals(new b(j,this.flags))}}te.EditorState=b;class p extends Ee.EditorKeybindingCancellationTokenSource{constructor(j,te,he,Ce){super(j,Ce),this._listener=new ye.DisposableStore,4&te&&this._listener.add(j.onDidChangeCursorPosition((j=>{(!he||!ve.Range.containsPosition(he,j.position))&&this.cancel()}))),2&te&&this._listener.add(j.onDidChangeCursorSelection((j=>{(!he||!ve.Range.containsRange(he,j.selection))&&this.cancel()}))),8&te&&this._listener.add(j.onDidScrollChange((j=>this.cancel()))),1&te&&(this._listener.add(j.onDidChangeModel((j=>this.cancel()))),this._listener.add(j.onDidChangeModelContent((j=>this.cancel()))))}dispose(){this._listener.dispose(),super.dispose()}}te.EditorStateCancellationTokenSource=p;class h extends Ce.CancellationTokenSource{constructor(j,te){super(te),this._listener=j.onDidChangeContent((()=>this.cancel()))}dispose(){this._listener.dispose(),super.dispose()}}te.TextModelCancellationTokenSource=h})),define(Ce[155],ie([1,0,19,21,13,2,25,106,3,22,18,45,26,71,152]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et){Object.defineProperty(te,"__esModule",{value:!0}),te.getCodeActions=te.CodeActionItem=te.fixAllCommandId=te.organizeImportsCommandId=te.sourceActionCommandId=te.refactorCommandId=te.codeActionCommandId=void 0,te.codeActionCommandId="editor.action.codeAction",te.refactorCommandId="editor.action.refactor",te.sourceActionCommandId="editor.action.sourceAction",te.organizeImportsCommandId="editor.action.organizeImports",te.fixAllCommandId="editor.action.fixAll";class c{constructor(j,te){this.action=j,this.provider=te}resolve(j){var te;return fi(this,void 0,void 0,(function*(){if((null===(te=this.provider)||void 0===te?void 0:te.resolveCodeAction)&&!this.action.edit){let te;try{te=yield this.provider.resolveCodeAction(this.action,j)}catch(j){(0,Ce.onUnexpectedExternalError)(j)}te&&(this.action.edit=te.edit)}return this}))}}te.CodeActionItem=c;class r extends ye.Disposable{constructor(j,te,he){super(),this.documentation=te,this._register(he),this.allActions=[...j].sort(r.codeActionsComparator),this.validActions=this.allActions.filter((({action:j})=>!j.disabled))}static codeActionsComparator({action:j},{action:te}){return j.isPreferred&&!te.isPreferred?-1:!j.isPreferred&&te.isPreferred?1:(0,he.isNonEmptyArray)(j.diagnostics)?(0,he.isNonEmptyArray)(te.diagnostics)?j.diagnostics[0].message.localeCompare(te.diagnostics[0].message):-1:(0,he.isNonEmptyArray)(te.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some((({action:j})=>!!j.kind&&et.CodeActionKind.QuickFix.contains(new et.CodeActionKind(j.kind))&&!!j.isPreferred))}}const nt={actions:[],documentation:void 0};function o(j,te,ve,Ee,Ne){var Oe;const je=ve.filter||{},Ze={only:null===(Oe=je.include)||void 0===Oe?void 0:Oe.value,trigger:ve.type},Ye=new Ie.TextModelCancellationTokenSource(j,Ne),rt=function a(j,te){return Ke.CodeActionProviderRegistry.all(j).filter((j=>!j.providedCodeActionKinds||j.providedCodeActionKinds.some((j=>(0,et.mayIncludeActionsOfKind)(te,new et.CodeActionKind(j))))))}(j,je),at=new ye.DisposableStore,ct=rt.map((he=>fi(this,void 0,void 0,(function*(){try{Ee.report(he);const ve=yield he.provideCodeActions(j,te,Ze,Ye.token);if(ve&&at.add(ve),Ye.token.isCancellationRequested)return nt;const Ce=((null==ve?void 0:ve.actions)||[]).filter((j=>j&&(0,et.filtersAction)(je,j))),ye=function d(j,te,he){if(!j.documentation)return;const ve=j.documentation.map((j=>({kind:new et.CodeActionKind(j.kind),command:j.command})));if(he){let j;for(const te of ve)te.kind.contains(he)&&(j?j.kind.contains(te.kind)&&(j=te):j=te);if(j)return null==j?void 0:j.command}for(const j of te)if(j.kind)for(const te of ve)if(te.kind.contains(new et.CodeActionKind(j.kind)))return te.command}(he,Ce,je.include);return{actions:Ce.map((j=>new c(j,he))),documentation:ye}}catch(j){if((0,Ce.isCancellationError)(j))throw j;return(0,Ce.onUnexpectedExternalError)(j),nt}})))),ht=Ke.CodeActionProviderRegistry.onDidChange((()=>{const te=Ke.CodeActionProviderRegistry.all(j);(0,he.equals)(te,rt)||Ye.cancel()}));return Promise.all(ct).then((j=>{const te=(0,he.flatten)(j.map((j=>j.actions))),ve=(0,he.coalesce)(j.map((j=>j.documentation)));return new r(te,ve,at)})).finally((()=>{ht.dispose(),Ye.dispose()}))}te.getCodeActions=o,Ze.CommandsRegistry.registerCommand("_executeCodeActionProvider",(function(j,te,he,ye,Ie){return fi(this,void 0,void 0,(function*(){if(!(te instanceof Ee.URI))throw(0,Ce.illegalArgument)();const Ke=j.get(je.IModelService).getModel(te);if(!Ke)throw(0,Ce.illegalArgument)();const Ze=Oe.Selection.isISelection(he)?Oe.Selection.liftSelection(he):Ne.Range.isIRange(he)?Ke.validateRange(he):void 0;if(!Ze)throw(0,Ce.illegalArgument)();const nt="string"==typeof ye?new et.CodeActionKind(ye):void 0,rt=yield o(Ke,Ze,{type:1,filter:{includeSourceActions:!0,include:nt}},Ye.Progress.None,ve.CancellationToken.None),at=[],ct=Math.min(rt.validActions.length,"number"==typeof Ie?Ie:0);for(let j=0;j<ct;j++)at.push(rt.validActions[j].resolve(ve.CancellationToken.None));try{return yield Promise.all(at),rt.validActions.map((j=>j.action))}finally{setTimeout((()=>rt.dispose()),100)}}))}))})),define(Ce[667],ie([1,0,7,44,13,134,2,11,18,155,152,76,42]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){Object.defineProperty(te,"__esModule",{value:!0}),te.CodeActionKeybindingResolver=te.CodeActionMenu=void 0;class n extends ve.Action{constructor(j,te){super(j.command?j.command.id:j.title,function l(j){return j.replace(/\r\n|\r|\n/g," ")}(j.title),void 0,!j.disabled,te),this.action=j}}let Ye=class extends Ee.Disposable{constructor(j,te,he,ve){super(),this._editor=j,this._delegate=te,this._contextMenuService=he,this._visible=!1,this._showingActions=this._register(new Ee.MutableDisposable),this._keybindingResolver=new r({getKeybindings:()=>ve.getKeybindings()})}get isVisible(){return this._visible}show(j,te,he,ve){return fi(this,void 0,void 0,(function*(){const ye=ve.includeDisabledActions?te.allActions:te.validActions;if(!ye.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,(0,Ce.canceled)();this._visible=!0,this._showingActions.value=te;const Ee=this.getMenuActions(j,ye,te.documentation),Ne=Ie.Position.isIPosition(he)?this._toCoords(he):he||{x:0,y:0},Oe=this._keybindingResolver.getResolver(),Ke=this._editor.getOption(115);this._contextMenuService.showContextMenu({domForShadowRoot:Ke?this._editor.getDomNode():void 0,getAnchor:()=>Ne,getActions:()=>Ee,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:j=>j instanceof n?Oe(j.action):void 0})}))}getMenuActions(j,te,he){var Ce,ye;const S=j=>new n(j.action,(()=>this._delegate.onSelectCodeAction(j))),Ee=te.map(S),Ie=[...he],Ke=this._editor.getModel();if(Ke&&Ee.length)for(const he of Ne.CodeActionProviderRegistry.all(Ke))he._getAdditionalMenuItems&&Ie.push(...he._getAdditionalMenuItems({trigger:j.type,only:null===(ye=null===(Ce=j.filter)||void 0===Ce?void 0:Ce.include)||void 0===ye?void 0:ye.value},te.map((j=>j.action))));return Ie.length&&Ee.push(new ve.Separator,...Ie.map((j=>S(new Oe.CodeActionItem({title:j.title,command:j},void 0))))),Ee}_toCoords(j){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(j,1),this._editor.render();const te=this._editor.getScrolledVisiblePosition(j),ve=(0,he.getDomNodePagePosition)(this._editor.getDomNode());return{x:ve.left+te.left,y:ve.top+te.top+te.height}}};Ye=Ci([Zi(2,je.IContextMenuService),Zi(3,Ze.IKeybindingService)],Ye),te.CodeActionMenu=Ye;class r{constructor(j){this._keybindingProvider=j}getResolver(){const j=new ye.Lazy((()=>this._keybindingProvider.getKeybindings().filter((j=>r.codeActionCommands.indexOf(j.command)>=0)).filter((j=>j.resolvedKeybinding)).map((j=>{let te=j.commandArgs;return j.command===Oe.organizeImportsCommandId?te={kind:Ke.CodeActionKind.SourceOrganizeImports.value}:j.command===Oe.fixAllCommandId&&(te={kind:Ke.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:j.resolvedKeybinding},Ke.CodeActionCommandArgs.fromUser(te,{kind:Ke.CodeActionKind.None,apply:"never"}))}))));return te=>{if(te.kind){const he=this.bestKeybindingForCodeAction(te,j.getValue());return null==he?void 0:he.resolvedKeybinding}}}bestKeybindingForCodeAction(j,te){if(!j.kind)return;const he=new Ke.CodeActionKind(j.kind);return te.filter((j=>j.kind.contains(he))).filter((te=>!te.preferred||j.isPreferred)).reduceRight(((j,te)=>j?j.kind.contains(te.kind)?te:j:te),void 0)}}te.CodeActionKeybindingResolver=r,r.codeActionCommands=[Oe.refactorCommandId,Oe.codeActionCommandId,Oe.sourceActionCommandId,Oe.organizeImportsCommandId,Oe.fixAllCommandId]}));var Ji=this&&this.__classPrivateFieldGet||function(j,te,he,ve){if("a"===he&&!ve)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof te?j!==te||!ve:!te.has(j))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===he?ve:"a"===he?ve.call(j):ve?ve.value:te.get(j)},en=this&&this.__classPrivateFieldSet||function(j,te,he,ve,Ce){if("m"===ve)throw new TypeError("Private method is not writable");if("a"===ve&&!Ce)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof te?j!==te||!Ce:!te.has(j))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===ve?Ce.call(j,he):Ce?Ce.value=he:te.set(j,he),he};define(Ce[668],ie([1,0,10,13,4,2,41,3,18,16,71,155]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){var Ze,Ye;Object.defineProperty(te,"__esModule",{value:!0}),te.CodeActionModel=te.CodeActionsState=te.SUPPORTED_CODE_ACTIONS=void 0,te.SUPPORTED_CODE_ACTIONS=new Oe.RawContextKey("supportedCodeAction","");class n extends ye.Disposable{constructor(j,te,ve,Ce=250){super(),this._editor=j,this._markerService=te,this._signalChange=ve,this._delay=Ce,this._autoTriggerTimer=this._register(new he.TimeoutTimer),this._register(this._markerService.onMarkerChanged((j=>this._onMarkerChanges(j)))),this._register(this._editor.onDidChangeCursorPosition((()=>this._onCursorChange())))}trigger(j){const te=this._getRangeOfSelectionUnlessWhitespaceEnclosed(j);return this._createEventAndSignalChange(j,te)}_onMarkerChanges(j){const te=this._editor.getModel();!te||j.some((j=>(0,Ee.isEqual)(j,te.uri)))&&this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:2})}),this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:2})}),this._delay)}_getRangeOfMarker(j){const te=this._editor.getModel();if(te)for(const he of this._markerService.read({resource:te.uri})){const ve=te.validateRange(he);if(Ie.Range.intersectRanges(ve,j))return Ie.Range.lift(ve)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(j){if(!this._editor.hasModel())return;const te=this._editor.getModel(),he=this._editor.getSelection();if(he.isEmpty()&&2===j.type){const{lineNumber:j,column:ve}=he.getPosition(),Ce=te.getLineContent(j);if(0===Ce.length)return;if(1===ve){if(/\s/.test(Ce[0]))return}else if(ve===te.getLineMaxColumn(j)){if(/\s/.test(Ce[Ce.length-1]))return}else if(/\s/.test(Ce[ve-2])&&/\s/.test(Ce[ve-1]))return}return he}_createEventAndSignalChange(j,te){const he=this._editor.getModel();if(!te||!he)return void this._signalChange(void 0);const ve=this._getRangeOfMarker(te),Ce=ve?ve.getStartPosition():te.getStartPosition(),ye={trigger:j,selection:te,position:Ce};return this._signalChange(ye),ye}}!function(j){j.Empty={type:0};j.Triggered=class o{constructor(j,te,he,Ce){this.trigger=j,this.rangeOrSelection=te,this.position=he,this._cancellablePromise=Ce,this.type=1,this.actions=Ce.catch((j=>{if((0,ve.isCancellationError)(j))return et;throw j}))}cancel(){this._cancellablePromise.cancel()}}}(Ye=te.CodeActionsState||(te.CodeActionsState={}));const et={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class r extends ye.Disposable{constructor(j,he,ve,Ee){super(),this._editor=j,this._markerService=he,this._progressService=Ee,this._codeActionOracle=this._register(new ye.MutableDisposable),this._state=Ye.Empty,this._onDidChangeState=this._register(new Ce.Emitter),this.onDidChangeState=this._onDidChangeState.event,Ze.set(this,!1),this._supportedCodeActions=te.SUPPORTED_CODE_ACTIONS.bindTo(ve),this._register(this._editor.onDidChangeModel((()=>this._update()))),this._register(this._editor.onDidChangeModelLanguage((()=>this._update()))),this._register(Ne.CodeActionProviderRegistry.onDidChange((()=>this._update()))),this._update()}dispose(){Ji(this,Ze,"f")||(en(this,Ze,!0,"f"),super.dispose(),this.setState(Ye.Empty,!0))}_update(){if(Ji(this,Ze,"f"))return;this._codeActionOracle.value=void 0,this.setState(Ye.Empty);const j=this._editor.getModel();if(j&&Ne.CodeActionProviderRegistry.has(j)&&!this._editor.getOption(81)){const te=[];for(const he of Ne.CodeActionProviderRegistry.all(j))Array.isArray(he.providedCodeActionKinds)&&te.push(...he.providedCodeActionKinds);this._supportedCodeActions.set(te.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,(te=>{var ve;if(!te)return void this.setState(Ye.Empty);const Ce=(0,he.createCancelablePromise)((he=>(0,je.getCodeActions)(j,te.selection,te.trigger,Ke.Progress.None,he)));1===te.trigger.type&&(null===(ve=this._progressService)||void 0===ve||ve.showWhile(Ce,250)),this.setState(new Ye.Triggered(te.trigger,te.selection,te.position,Ce))}),void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(j){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(j)}setState(j,te){j!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=j,!te&&!Ji(this,Ze,"f")&&this._onDidChangeState.fire(j))}}te.CodeActionModel=r,Ze=new WeakMap})),define(Ce[669],ie([1,0,15,144,533]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0});class I extends he.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:Ce.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(j,te){ve.EditorZoom.setZoomLevel(ve.EditorZoom.getZoomLevel()+1)}}class w extends he.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:Ce.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(j,te){ve.EditorZoom.setZoomLevel(ve.EditorZoom.getZoomLevel()-1)}}class b extends he.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:Ce.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(j,te){ve.EditorZoom.setZoomLevel(0)}}(0,he.registerEditorAction)(I),(0,he.registerEditorAction)(w),(0,he.registerEditorAction)(b)})),define(Ce[285],ie([1,0,43,19,21,13,54,81,20,25,106,148,11,3,22,18,85,58,256,534,26,595,9]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft){function S(j){if(!(j=j.filter((j=>j.range))).length)return;let{range:te}=j[0];for(let he=1;he<j.length;he++)te=Ye.Range.plusRange(te,j[he].range);const{startLineNumber:ve,endLineNumber:Ce}=te;ve===Ce?1===j.length?(0,he.alert)(ht.localize(0,null,ve)):(0,he.alert)(ht.localize(1,null,j.length,ve)):1===j.length?(0,he.alert)(ht.localize(2,null,ve,Ce)):(0,he.alert)(ht.localize(3,null,j.length,ve,Ce))}function v(j){const te=[],he=new Set,ve=nt.DocumentFormattingEditProviderRegistry.ordered(j);for(const j of ve)te.push(j),j.extensionId&&he.add(pt.ExtensionIdentifier.toKey(j.extensionId));const Ce=nt.DocumentRangeFormattingEditProviderRegistry.ordered(j);for(const j of Ce){if(j.extensionId){if(he.has(pt.ExtensionIdentifier.toKey(j.extensionId)))continue;he.add(pt.ExtensionIdentifier.toKey(j.extensionId))}te.push({displayName:j.displayName,extensionId:j.extensionId,provideDocumentFormattingEdits:(te,he,ve)=>j.provideDocumentRangeFormattingEdits(te,te.getFullModelRange(),he,ve)})}return te}Object.defineProperty(te,"__esModule",{value:!0}),te.getOnTypeFormattingEdits=te.getDocumentFormattingEditsUntilResult=te.getDocumentRangeFormattingEditsUntilResult=te.formatDocumentWithProvider=te.formatDocumentWithSelectedProvider=te.formatDocumentRangesWithProvider=te.formatDocumentRangesWithSelectedProvider=te.FormattingConflicts=te.getRealAndSyntheticDocumentFormattersOrdered=te.alertFormattingEdits=void 0,te.alertFormattingEdits=S,te.getRealAndSyntheticDocumentFormattersOrdered=v;class C{static setFormatterSelector(j){return{dispose:C._selectors.unshift(j)}}static select(j,te,he){return fi(this,void 0,void 0,(function*(){if(0===j.length)return;const ve=Ee.Iterable.first(C._selectors);return ve?yield ve(j,te,he):void 0}))}}function L(j,te,he,Ce,ye){return fi(this,void 0,void 0,(function*(){const Ee=j.get(rt.IEditorWorkerService);let Ie,Ne;(0,je.isCodeEditor)(he)?(Ie=he.getModel(),Ne=new Ke.EditorStateCancellationTokenSource(he,5,void 0,ye)):(Ie=he,Ne=new Ke.TextModelCancellationTokenSource(he,ye));let Oe=[],Ze=0;for(let j of(0,ve.asArray)(Ce).sort(Ye.Range.compareRangesUsingStarts))Ze>0&&Ye.Range.areIntersectingOrTouching(Oe[Ze-1],j)?Oe[Ze-1]=Ye.Range.fromPositions(Oe[Ze-1].getStartPosition(),j.getEndPosition()):Ze=Oe.push(j);const G=j=>fi(this,void 0,void 0,(function*(){return(yield te.provideDocumentRangeFormattingEdits(Ie,j,Ie.getFormattingOptions(),Ne.token))||[]})),re=(j,te)=>{if(!j.length||!te.length)return!1;const he=j.reduce(((j,te)=>Ye.Range.plusRange(j,te.range)),j[0].range);if(!te.some((j=>Ye.Range.intersectRanges(he,j.range))))return!1;for(let he of j)for(let j of te)if(Ye.Range.intersectRanges(he.range,j.range))return!0;return!1},nt=[],at=[];try{for(let j of Oe){if(Ne.token.isCancellationRequested)return!0;at.push(yield G(j))}for(let j=0;j<Oe.length;++j)for(let te=j+1;te<Oe.length;++te){if(Ne.token.isCancellationRequested)return!0;if(re(at[j],at[te])){const he=Ye.Range.plusRange(Oe[j],Oe[te]),ve=yield G(he);Oe.splice(te,1),Oe.splice(j,1),Oe.push(he),at.splice(te,1),at.splice(j,1),at.push(ve),j=0,te=0}}for(let j of at){if(Ne.token.isCancellationRequested)return!0;const te=yield Ee.computeMoreMinimalEdits(Ie.uri,j);te&&nt.push(...te)}}finally{Ne.dispose()}if(0===nt.length)return!1;if((0,je.isCodeEditor)(he))ct.FormattingEdit.execute(he,nt,!0),S(nt),he.revealPositionInCenterIfOutsideViewport(he.getPosition(),1);else{const[{range:j}]=nt,te=new et.Selection(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn);Ie.pushEditOperations([te],nt.map((j=>({text:j.text,range:Ye.Range.lift(j.range),forceMoveMarkers:!0}))),(j=>{for(const{range:he}of j)if(Ye.Range.areIntersectingOrTouching(he,te))return[new et.Selection(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn)];return null}))}return!0}))}function N(j,te,he,ve,Ce){return fi(this,void 0,void 0,(function*(){const ye=j.get(rt.IEditorWorkerService);let Ee,Ie,Ne;(0,je.isCodeEditor)(he)?(Ee=he.getModel(),Ie=new Ke.EditorStateCancellationTokenSource(he,5,void 0,Ce)):(Ee=he,Ie=new Ke.TextModelCancellationTokenSource(he,Ce));try{const j=yield te.provideDocumentFormattingEdits(Ee,Ee.getFormattingOptions(),Ie.token);if(Ne=yield ye.computeMoreMinimalEdits(Ee.uri,j),Ie.token.isCancellationRequested)return!0}finally{Ie.dispose()}if(!Ne||0===Ne.length)return!1;if((0,je.isCodeEditor)(he))ct.FormattingEdit.execute(he,Ne,2!==ve),2!==ve&&(S(Ne),he.revealPositionInCenterIfOutsideViewport(he.getPosition(),1));else{const[{range:j}]=Ne,te=new et.Selection(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn);Ee.pushEditOperations([te],Ne.map((j=>({text:j.text,range:Ye.Range.lift(j.range),forceMoveMarkers:!0}))),(j=>{for(const{range:he}of j)if(Ye.Range.areIntersectingOrTouching(he,te))return[new et.Selection(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn)];return null}))}return!0}))}function k(j,te,he,Ce,Ee){return fi(this,void 0,void 0,(function*(){const Ie=nt.DocumentRangeFormattingEditProviderRegistry.ordered(te);for(const Ne of Ie){let Ie=yield Promise.resolve(Ne.provideDocumentRangeFormattingEdits(te,he,Ce,Ee)).catch(ye.onUnexpectedExternalError);if((0,ve.isNonEmptyArray)(Ie))return yield j.computeMoreMinimalEdits(te.uri,Ie)}}))}function M(j,te,he,Ce){return fi(this,void 0,void 0,(function*(){const Ee=v(te);for(const Ie of Ee){let Ee=yield Promise.resolve(Ie.provideDocumentFormattingEdits(te,he,Ce)).catch(ye.onUnexpectedExternalError);if((0,ve.isNonEmptyArray)(Ee))return yield j.computeMoreMinimalEdits(te.uri,Ee)}}))}function O(j,te,he,ve,Ce,Ee){const Ie=nt.OnTypeFormattingEditProviderRegistry.ordered(te);return 0===Ie.length||Ie[0].autoFormatTriggerCharacters.indexOf(ve)<0?Promise.resolve(void 0):Promise.resolve(Ie[0].provideOnTypeFormattingEdits(te,he,ve,Ce,Ee)).catch(ye.onUnexpectedExternalError).then((he=>j.computeMoreMinimalEdits(te.uri,he)))}te.FormattingConflicts=C,C._selectors=new Ie.LinkedList,te.formatDocumentRangesWithSelectedProvider=function _(j,te,he,ve,Ce,ye){return fi(this,void 0,void 0,(function*(){const Ee=j.get(ft.IInstantiationService),Ie=(0,je.isCodeEditor)(te)?te.getModel():te,Ne=nt.DocumentRangeFormattingEditProviderRegistry.ordered(Ie),Oe=yield C.select(Ne,Ie,ve);Oe&&(Ce.report(Oe),yield Ee.invokeFunction(L,Oe,te,he,ye))}))},te.formatDocumentRangesWithProvider=L,te.formatDocumentWithSelectedProvider=function E(j,te,he,ve,Ce){return fi(this,void 0,void 0,(function*(){const ye=j.get(ft.IInstantiationService),Ee=(0,je.isCodeEditor)(te)?te.getModel():te,Ie=v(Ee),Ne=yield C.select(Ie,Ee,he);Ne&&(ve.report(Ne),yield ye.invokeFunction(N,Ne,te,he,Ce))}))},te.formatDocumentWithProvider=N,te.getDocumentRangeFormattingEditsUntilResult=k,te.getDocumentFormattingEditsUntilResult=M,te.getOnTypeFormattingEdits=O,mt.CommandsRegistry.registerCommand("_executeFormatRangeProvider",(function(j,...te){return fi(this,void 0,void 0,(function*(){const[he,ve,ye]=te;(0,Ne.assertType)(Oe.URI.isUri(he)),(0,Ne.assertType)(Ye.Range.isIRange(ve));const Ee=j.get(at.ITextModelService),Ie=j.get(rt.IEditorWorkerService),Ke=yield Ee.createModelReference(he);try{return k(Ie,Ke.object.textEditorModel,Ye.Range.lift(ve),ye,Ce.CancellationToken.None)}finally{Ke.dispose()}}))})),mt.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",(function(j,...te){return fi(this,void 0,void 0,(function*(){const[he,ve]=te;(0,Ne.assertType)(Oe.URI.isUri(he));const ye=j.get(at.ITextModelService),Ee=j.get(rt.IEditorWorkerService),Ie=yield ye.createModelReference(he);try{return M(Ee,Ie.object.textEditorModel,ve,Ce.CancellationToken.None)}finally{Ie.dispose()}}))})),mt.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",(function(j,...te){return fi(this,void 0,void 0,(function*(){const[he,ve,ye,Ee]=te;(0,Ne.assertType)(Oe.URI.isUri(he)),(0,Ne.assertType)(Ze.Position.isIPosition(ve)),(0,Ne.assertType)("string"==typeof ye);const Ie=j.get(at.ITextModelService),Ke=j.get(rt.IEditorWorkerService),je=yield Ie.createModelReference(he);try{return O(Ke,je.object.textEditorModel,Ze.Position.lift(ve),ye,Ee,Ce.CancellationToken.None)}finally{je.dispose()}}))}))})),define(Ce[670],ie([1,0,19,21,13,55,2,15,28,97,3,24,18,85,285,256,535,26,16,9,71]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt){Object.defineProperty(te,"__esModule",{value:!0});let pt=class{constructor(j,te){this._editor=j,this._workerService=te,this._disposables=new Ee.DisposableStore,this._sessionDisposables=new Ee.DisposableStore,this._disposables.add(Ze.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this)),this._disposables.add(j.onDidChangeModel((()=>this._update()))),this._disposables.add(j.onDidChangeModelLanguage((()=>this._update()))),this._disposables.add(j.onDidChangeConfiguration((j=>{j.hasChanged(49)&&this._update()})))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(49)||!this._editor.hasModel())return;const j=this._editor.getModel(),[te]=Ze.OnTypeFormattingEditProviderRegistry.ordered(j);if(!te||!te.autoFormatTriggerCharacters)return;let he=new Oe.CharacterSet;for(let j of te.autoFormatTriggerCharacters)he.add(j.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType((j=>{let te=j.charCodeAt(j.length-1);he.has(te)&&this._trigger(String.fromCharCode(te))})))}_trigger(j){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const te=this._editor.getModel(),Ce=this._editor.getPosition(),ye=new ve.CancellationTokenSource,Ee=this._editor.onDidChangeModelContent((j=>{if(j.isFlush)return ye.cancel(),void Ee.dispose();for(let te=0,he=j.changes.length;te<he;te++)if(j.changes[te].range.endLineNumber<=Ce.lineNumber)return ye.cancel(),void Ee.dispose()}));(0,et.getOnTypeFormattingEdits)(this._workerService,te,Ce,j,te.getFormattingOptions(),ye.token).then((j=>{ye.token.isCancellationRequested||(0,he.isNonEmptyArray)(j)&&(nt.FormattingEdit.execute(this._editor,j,!0),(0,et.alertFormattingEdits)(j))})).finally((()=>{Ee.dispose()}))}};pt.ID="editor.contrib.autoFormat",pt=Ci([Zi(1,Ye.IEditorWorkerService)],pt);let ft=class{constructor(j,te){this.editor=j,this._instantiationService=te,this._callOnDispose=new Ee.DisposableStore,this._callOnModel=new Ee.DisposableStore,this._callOnDispose.add(j.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(j.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(j.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(Ze.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(48)&&(!this.editor.hasModel()||!Ze.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste((({range:j})=>this._trigger(j)))))}_trigger(j){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(et.formatDocumentRangesWithSelectedProvider,this.editor,j,2,mt.Progress.None,ve.CancellationToken.None).catch(Ce.onUnexpectedError)}};ft.ID="editor.contrib.formatOnPaste",ft=Ci([Zi(1,ht.IInstantiationService)],ft);class S extends Ie.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:rt.localize(0,null),alias:"Format Document",precondition:ct.ContextKeyExpr.and(je.EditorContextKeys.notInCompositeEditor,je.EditorContextKeys.writable,je.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:je.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(j,te){return fi(this,void 0,void 0,(function*(){if(te.hasModel()){const he=j.get(ht.IInstantiationService);yield j.get(mt.IEditorProgressService).showWhile(he.invokeFunction(et.formatDocumentWithSelectedProvider,te,1,mt.Progress.None,ve.CancellationToken.None),250)}}))}}class v extends Ie.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:rt.localize(1,null),alias:"Format Selection",precondition:ct.ContextKeyExpr.and(je.EditorContextKeys.writable,je.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:je.EditorContextKeys.editorTextFocus,primary:(0,ye.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:je.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(j,te){return fi(this,void 0,void 0,(function*(){if(!te.hasModel())return;const he=j.get(ht.IInstantiationService),Ce=te.getModel(),ye=te.getSelections().map((j=>j.isEmpty()?new Ke.Range(j.startLineNumber,1,j.startLineNumber,Ce.getLineMaxColumn(j.startLineNumber)):j));yield j.get(mt.IEditorProgressService).showWhile(he.invokeFunction(et.formatDocumentRangesWithSelectedProvider,te,ye,1,mt.Progress.None,ve.CancellationToken.None),250)}))}}(0,Ie.registerEditorContribution)(pt.ID,pt),(0,Ie.registerEditorContribution)(ft.ID,ft),(0,Ie.registerEditorAction)(S),(0,Ie.registerEditorAction)(v),at.CommandsRegistry.registerCommand("editor.action.format",(j=>fi(void 0,void 0,void 0,(function*(){const te=j.get(Ne.ICodeEditorService).getFocusedCodeEditor();if(!te||!te.hasModel())return;const he=j.get(at.ICommandService);te.getSelection().isEmpty()?yield he.executeCommand("editor.action.formatDocument"):yield he.executeCommand("editor.action.formatSelection")}))))})),define(Ce[286],ie([1,0,21,13,15,18,126]),(function(j,te,he,ve,Ce,ye,Ee){function b(j,te,he,Ce){const ye=he.ordered(j).map((he=>Promise.resolve(Ce(he,j,te)).then(void 0,(j=>{(0,ve.onUnexpectedExternalError)(j)}))));return Promise.all(ye).then((j=>{const te=[];for(let he of j)Array.isArray(he)?te.push(...he):he&&te.push(he);return te}))}function p(j,te,he){return b(j,te,ye.DefinitionProviderRegistry,((j,te,ve)=>j.provideDefinition(te,ve,he)))}function h(j,te,he){return b(j,te,ye.DeclarationProviderRegistry,((j,te,ve)=>j.provideDeclaration(te,ve,he)))}function g(j,te,he){return b(j,te,ye.ImplementationProviderRegistry,((j,te,ve)=>j.provideImplementation(te,ve,he)))}function t(j,te,he){return b(j,te,ye.TypeDefinitionProviderRegistry,((j,te,ve)=>j.provideTypeDefinition(te,ve,he)))}function i(j,te,he,ve){return b(j,te,ye.ReferenceProviderRegistry,((j,te,Ce)=>fi(this,void 0,void 0,(function*(){const ye=yield j.provideReferences(te,Ce,{includeDeclaration:!0},ve);if(!he||!ye||2!==ye.length)return ye;const Ee=yield j.provideReferences(te,Ce,{includeDeclaration:!1},ve);return Ee&&1===Ee.length?Ee:ye}))))}function n(j){return fi(this,void 0,void 0,(function*(){const te=yield j(),he=new Ee.ReferencesModel(te,""),ve=he.references.map((j=>j.link));return he.dispose(),ve}))}Object.defineProperty(te,"__esModule",{value:!0}),te.getReferencesAtPosition=te.getTypeDefinitionsAtPosition=te.getImplementationsAtPosition=te.getDeclarationsAtPosition=te.getDefinitionsAtPosition=void 0,te.getDefinitionsAtPosition=p,te.getDeclarationsAtPosition=h,te.getImplementationsAtPosition=g,te.getTypeDefinitionsAtPosition=t,te.getReferencesAtPosition=i,(0,Ce.registerModelAndPositionCommand)("_executeDefinitionProvider",((j,te)=>n((()=>p(j,te,he.CancellationToken.None))))),(0,Ce.registerModelAndPositionCommand)("_executeDeclarationProvider",((j,te)=>n((()=>h(j,te,he.CancellationToken.None))))),(0,Ce.registerModelAndPositionCommand)("_executeImplementationProvider",((j,te)=>n((()=>g(j,te,he.CancellationToken.None))))),(0,Ce.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",((j,te)=>n((()=>t(j,te,he.CancellationToken.None))))),(0,Ce.registerModelAndPositionCommand)("_executeReferenceProvider",((j,te)=>n((()=>i(j,te,!1,he.CancellationToken.None)))))})),define(Ce[671],ie([1,0,4,2,41,15,28,3,544,16,53,9,42,86,38]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et){Object.defineProperty(te,"__esModule",{value:!0}),te.ISymbolNavigationService=te.ctxHasSymbols=void 0,te.ctxHasSymbols=new Oe.RawContextKey("hasSymbols",!1,(0,Ne.localize)(0,null)),te.ISymbolNavigationService=(0,je.createDecorator)("ISymbolNavigationService");let nt=class{constructor(j,he,ve,Ce){this._editorService=he,this._notificationService=ve,this._keybindingService=Ce,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=te.ctxHasSymbols.bindTo(j)}reset(){var j,te;this._ctxHasSymbols.reset(),null===(j=this._currentState)||void 0===j||j.dispose(),null===(te=this._currentMessage)||void 0===te||te.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(j){const te=j.parent.parent;if(te.references.length<=1)return void this.reset();this._currentModel=te,this._currentIdx=te.references.indexOf(j),this._ctxHasSymbols.set(!0),this._showMessage();const he=new rt(this._editorService),ye=he.onDidChange((j=>{if(this._ignoreEditorChange)return;const he=this._editorService.getActiveCodeEditor();if(!he)return;const ve=he.getModel(),ye=he.getPosition();if(!ve||!ye)return;let Ee=!1,Ne=!1;for(const j of te.references)if((0,Ce.isEqual)(j.uri,ve.uri))Ee=!0,Ne=Ne||Ie.Range.containsPosition(j.range,ye);else if(Ee)break;(!Ee||!Ne)&&this.reset()}));this._currentState=(0,ve.combinedDisposable)(he,ye)}revealNext(j){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const te=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:te.uri,options:{selection:Ie.Range.collapseToStart(te.range),selectionRevealType:3}},j).finally((()=>{this._ignoreEditorChange=!1}))}_showMessage(){var j;null===(j=this._currentMessage)||void 0===j||j.dispose();const te=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),he=te?(0,Ne.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,te.getLabel()):(0,Ne.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(he)}};nt=Ci([Zi(0,Oe.IContextKeyService),Zi(1,Ee.ICodeEditorService),Zi(2,et.INotificationService),Zi(3,Ze.IKeybindingService)],nt),(0,Ke.registerSingleton)(te.ISymbolNavigationService,nt,!0),(0,ye.registerEditorCommand)(new class extends ye.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:te.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(j,he){return j.get(te.ISymbolNavigationService).revealNext(he)}}),Ye.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:te.ctxHasSymbols,primary:9,handler(j){j.get(te.ISymbolNavigationService).reset()}});let rt=class{constructor(j){this._listener=new Map,this._disposables=new ve.DisposableStore,this._onDidChange=new he.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(j.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(j.onCodeEditorAdd(this._onDidAddEditor,this)),j.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,ve.dispose)(this._listener.values())}_onDidAddEditor(j){this._listener.set(j,(0,ve.combinedDisposable)(j.onDidChangeCursorPosition((te=>this._onDidChange.fire({editor:j}))),j.onDidChangeModelContent((te=>this._onDidChange.fire({editor:j})))))}_onDidRemoveEditor(j){var te;null===(te=this._listener.get(j))||void 0===te||te.dispose(),this._listener.delete(j)}};rt=Ci([Zi(0,Ee.ICodeEditorService)],rt)})),define(Ce[287],ie([1,0,10,21,13,15,18]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.getHoverPromise=te.getHover=te.HoverProviderResult=void 0;class b{constructor(j,te,he){this.provider=j,this.hover=te,this.ordinal=he}}function h(j,te,ve){const ye=Ee.HoverProviderRegistry.ordered(j).map(((he,ye)=>function p(j,te,he,ve,ye){return fi(this,void 0,void 0,(function*(){try{const Ce=yield Promise.resolve(j.provideHover(he,ve,ye));if(Ce&&function t(j){const te=void 0!==j.range,he=void 0!==j.contents&&j.contents&&j.contents.length>0;return te&&he}(Ce))return new b(j,Ce,te)}catch(j){(0,Ce.onUnexpectedExternalError)(j)}}))}(he,ye,j,te,ve)));return he.AsyncIterableObject.fromPromises(ye).coalesce()}function g(j,te,he){return h(j,te,he).map((j=>j.hover)).toPromise()}te.HoverProviderResult=b,te.getHover=h,te.getHoverPromise=g,(0,ye.registerModelAndPositionCommand)("_executeHoverProvider",((j,te)=>g(j,te,ve.CancellationToken.None)))})),define(Ce[201],ie([1,0,7,19,10,66,2,104,11,3,18,35,287,546,40,51]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt){Object.defineProperty(te,"__esModule",{value:!0}),te.renderMarkdownHovers=te.MarkdownHoverParticipant=te.MarkdownHover=void 0;const rt=he.$;class s{constructor(j,te,he,ve){this.owner=j,this.range=te,this.contents=he,this.ordinal=ve}isValidForHoverAnchor(j){return 1===j.type&&this.range.startColumn<=j.range.startColumn&&this.range.endColumn>=j.range.endColumn}}te.MarkdownHover=s;let at=class{constructor(j,te,he,ve){this._editor=j,this._languageService=te,this._openerService=he,this._configurationService=ve}createLoadingMessage(j){return new s(this,j.range,[(new ye.MarkdownString).appendText(Ye.localize(0,null))],2e3)}computeSync(j,te){if(!this._editor.hasModel()||1!==j.type)return[];const he=this._editor.getModel(),Ce=j.range.startLineNumber,Ee=he.getLineMaxColumn(Ce),Ie=[];let Ne=1e3;const Ke=he.getLineLength(Ce),je=he.getLanguageIdAtPosition(j.range.startLineNumber,j.range.startColumn),Ze=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:je});"number"==typeof Ze&&Ke>=Ze&&Ie.push(new s(this,j.range,[{value:Ye.localize(1,null)}],Ne++));for(const he of te){const te=he.range.startLineNumber===Ce?he.range.startColumn:1,Ke=he.range.endLineNumber===Ce?he.range.endColumn:Ee,je=he.options.hoverMessage;if(!je||(0,ye.isEmptyMarkdownString)(je))continue;const Ze=new Oe.Range(j.range.startLineNumber,te,j.range.startLineNumber,Ke);Ie.push(new s(this,Ze,(0,ve.asArray)(je),Ne++))}return Ie}computeAsync(j,te,he){if(!this._editor.hasModel()||1!==j.type)return Ce.AsyncIterableObject.EMPTY;const ve=this._editor.getModel();if(!Ke.HoverProviderRegistry.has(ve))return Ce.AsyncIterableObject.EMPTY;const Ee=new Ne.Position(j.range.startLineNumber,j.range.startColumn);return(0,Ze.getHover)(ve,Ee,he).filter((j=>!(0,ye.isEmptyMarkdownString)(j.hover.contents))).map((te=>{const he=te.hover.range?Oe.Range.lift(te.hover.range):j.range;return new s(this,he,te.hover.contents,te.ordinal)}))}renderHoverParts(j,te){return a(j,te,this._editor,this._languageService,this._openerService)}};function a(j,te,ve,Ce,Ne){te.sort(((j,te)=>j.ordinal-te.ordinal));const Oe=new Ee.DisposableStore;for(const Ee of te)for(const te of Ee.contents){if((0,ye.isEmptyMarkdownString)(te))continue;const Ee=rt("div.hover-row.markdown-hover"),Ke=he.append(Ee,rt("div.hover-contents")),je=Oe.add(new Ie.MarkdownRenderer({editor:ve},Ce,Ne));Oe.add(je.onDidRenderAsync((()=>{Ke.className="hover-contents code-hover-contents",j.onContentsChanged()})));const Ze=Oe.add(je.render(te));Ke.appendChild(Ze.element),j.fragment.appendChild(Ee)}return Oe}at=Ci([Zi(1,je.ILanguageService),Zi(2,nt.IOpenerService),Zi(3,et.IConfigurationService)],at),te.MarkdownHoverParticipant=at,te.renderMarkdownHovers=a})),define(Ce[156],ie([1,0,43,10,2,15,3,556,16,381]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.MessageController=void 0;let Oe=class Qt{constructor(j,te){this._messageWidget=new Ce.MutableDisposable,this._messageListeners=new Ce.DisposableStore,this._editor=j,this._visible=Qt.MESSAGE_VISIBLE.bindTo(te),this._editorListener=this._editor.onDidAttemptReadOnlyEdit((()=>this._onDidAttemptReadOnlyEdit()))}static get(j){return j.getContribution(Qt.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(j,te){let Ce;(0,he.alert)(j),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new t(this._editor,te,j),this._messageListeners.add(this._editor.onDidBlurEditorText((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidDispose((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeModel((()=>this.closeMessage()))),this._messageListeners.add(new ve.TimeoutTimer((()=>this.closeMessage()),3e3)),this._messageListeners.add(this._editor.onMouseMove((j=>{!j.target.position||(Ce?Ce.containsPosition(j.target.position)||this.closeMessage():Ce=new Ee.Range(te.lineNumber-3,1,j.target.position.lineNumber+3,1))})))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(t.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(Ie.localize(1,null),this._editor.getPosition())}};Oe.ID="editor.contrib.messageController",Oe.MESSAGE_VISIBLE=new Ne.RawContextKey("messageVisible",!1,Ie.localize(0,null)),Oe=Ci([Zi(1,Ne.IContextKeyService)],Oe),te.MessageController=Oe;const Ke=ye.EditorCommand.bindToContribution(Oe.get);(0,ye.registerEditorCommand)(new Ke({id:"leaveEditorMessage",precondition:Oe.MESSAGE_VISIBLE,handler:j=>j.closeMessage(),kbOpts:{weight:130,primary:9}}));class t{constructor(j,{lineNumber:te,column:he},ve){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=j,this._editor.revealLinesInCenterIfOutsideViewport(te,te,0),this._position={lineNumber:te,column:he-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const Ce=document.createElement("div");Ce.classList.add("anchor","top"),this._domNode.appendChild(Ce);const ye=document.createElement("div");ye.classList.add("message"),ye.textContent=ve,this._domNode.appendChild(ye);const Ee=document.createElement("div");Ee.classList.add("anchor","below"),this._domNode.appendChild(Ee),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(j){let te;const c=()=>{j.dispose(),clearTimeout(te),j.getDomNode().removeEventListener("animationend",c)};return te=setTimeout(c,110),j.getDomNode().addEventListener("animationend",c),j.getDomNode().classList.add("fadeOut"),{dispose:c}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(j){this._domNode.classList.toggle("below",2===j)}}(0,ye.registerEditorContribution)(Oe.ID,Oe)}));en=this&&this.__classPrivateFieldSet||function(j,te,he,ve,Ce){if("m"===ve)throw new TypeError("Private method is not writable");if("a"===ve&&!Ce)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof te?j!==te||!Ce:!te.has(j))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===ve?Ce.call(j,he):Ce?Ce.value=he:te.set(j,he),he},Ji=this&&this.__classPrivateFieldGet||function(j,te,he,ve){if("a"===he&&!ve)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof te?j!==te||!ve:!te.has(j))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===he?ve:"a"===he?ve.call(j):ve?ve.value:te.get(j)};define(Ce[672],ie([1,0,13,134,2,156,9,667,651]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){var Oe;Object.defineProperty(te,"__esModule",{value:!0}),te.CodeActionUi=void 0;let Ke=class extends Ce.Disposable{constructor(j,te,he,ye,Ee){super(),this._editor=j,this.delegate=ye,this._activeCodeActions=this._register(new Ce.MutableDisposable),Oe.set(this,!1),this._codeActionWidget=new ve.Lazy((()=>this._register(Ee.createInstance(Ie.CodeActionMenu,this._editor,{onSelectCodeAction:j=>fi(this,void 0,void 0,(function*(){this.delegate.applyCodeAction(j,!0)}))})))),this._lightBulbWidget=new ve.Lazy((()=>{const j=this._register(Ee.createInstance(Ne.LightBulbWidget,this._editor,te,he));return this._register(j.onClick((j=>this.showCodeActionList(j.trigger,j.actions,j,{includeDisabledActions:!1})))),j}))}dispose(){en(this,Oe,!0,"f"),super.dispose()}update(j){var te,ve,Ce,Ee,Ie;return fi(this,void 0,void 0,(function*(){if(1!==j.type)return void(null===(te=this._lightBulbWidget.rawValue)||void 0===te||te.hide());let Ne;try{Ne=yield j.actions}catch(j){return void(0,he.onUnexpectedError)(j)}if(!Ji(this,Oe,"f"))if(this._lightBulbWidget.getValue().update(Ne,j.trigger,j.position),1===j.trigger.type){if(null===(ve=j.trigger.filter)||void 0===ve?void 0:ve.include){const te=this.tryGetValidActionToApply(j.trigger,Ne);if(te){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(te,!1)}finally{Ne.dispose()}return}if(j.trigger.context){const te=this.getInvalidActionThatWouldHaveBeenApplied(j.trigger,Ne);if(te&&te.action.disabled)return null===(Ce=ye.MessageController.get(this._editor))||void 0===Ce||Ce.showMessage(te.action.disabled,j.trigger.context.position),void Ne.dispose()}}const te=!!(null===(Ee=j.trigger.filter)||void 0===Ee?void 0:Ee.include);if(j.trigger.context&&(!Ne.allActions.length||!te&&!Ne.validActions.length))return null===(Ie=ye.MessageController.get(this._editor))||void 0===Ie||Ie.showMessage(j.trigger.context.notAvailableMessage,j.trigger.context.position),this._activeCodeActions.value=Ne,void Ne.dispose();this._activeCodeActions.value=Ne,this._codeActionWidget.getValue().show(j.trigger,Ne,j.position,{includeDisabledActions:te})}else this._codeActionWidget.getValue().isVisible?Ne.dispose():this._activeCodeActions.value=Ne}))}getInvalidActionThatWouldHaveBeenApplied(j,te){if(te.allActions.length&&("first"===j.autoApply&&0===te.validActions.length||"ifSingle"===j.autoApply&&1===te.allActions.length))return te.allActions.find((({action:j})=>j.disabled))}tryGetValidActionToApply(j,te){if(te.validActions.length&&("first"===j.autoApply&&te.validActions.length>0||"ifSingle"===j.autoApply&&1===te.validActions.length))return te.validActions[0]}showCodeActionList(j,te,he,ve){return fi(this,void 0,void 0,(function*(){this._codeActionWidget.getValue().show(j,te,he,ve)}))}};Oe=new WeakMap,Ke=Ci([Zi(4,Ee.IInstantiationService)],Ke),te.CodeActionUi=Ke})),define(Ce[288],ie([1,0,21,134,2,8,15,195,24,155,672,156,521,26,16,9,77,38,71,87,668,152]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt){function f(j){return et.ContextKeyExpr.regex(mt.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,ye.escapeRegExpCharacters)(j.value)+"\\b"))}Object.defineProperty(te,"__esModule",{value:!0}),te.AutoFixAction=te.FixAllAction=te.OrganizeImportsAction=te.SourceAction=te.RefactorAction=te.CodeActionCommand=te.QuickFixAction=te.applyCodeAction=te.QuickFixController=void 0;const ft={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:Ze.localize(0,null)},apply:{type:"string",description:Ze.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[Ze.localize(2,null),Ze.localize(3,null),Ze.localize(4,null)]},preferred:{type:"boolean",default:!1,description:Ze.localize(5,null)}}};let _t=class Di extends Ce.Disposable{constructor(j,te,he,Ce,ye){super(),this._instantiationService=ye,this._editor=j,this._model=this._register(new mt.CodeActionModel(this._editor,te,he,Ce)),this._register(this._model.onDidChangeState((j=>this.update(j)))),this._ui=new ve.Lazy((()=>this._register(new Ke.CodeActionUi(j,E.Id,T.Id,{applyCodeAction:(j,te)=>fi(this,void 0,void 0,(function*(){try{yield this._applyCodeAction(j)}finally{te&&this._trigger({type:2,filter:{}})}}))},this._instantiationService))))}static get(j){return j.getContribution(Di.ID)}update(j){this._ui.getValue().update(j)}showCodeActions(j,te,he){return this._ui.getValue().showCodeActionList(j,te,he,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(j,te,he){var ve;if(!this._editor.hasModel())return;null===(ve=je.MessageController.get(this._editor))||void 0===ve||ve.closeMessage();const Ce=this._editor.getPosition();this._trigger({type:1,filter:te,autoApply:he,context:{notAvailableMessage:j,position:Ce}})}_trigger(j){return this._model.trigger(j)}_applyCodeAction(j){return this._instantiationService.invokeFunction(C,j,this._editor)}};function C(j,te,ve){return fi(this,void 0,void 0,(function*(){const Ce=j.get(Ie.IBulkEditService),ye=j.get(Ye.ICommandService),Ee=j.get(ht.ITelemetryService),Ne=j.get(at.INotificationService);if(Ee.publicLog2("codeAction.applyCodeAction",{codeActionTitle:te.action.title,codeActionKind:te.action.kind,codeActionIsPreferred:!!te.action.isPreferred}),yield te.resolve(he.CancellationToken.None),te.action.edit&&(yield Ce.apply(Ie.ResourceEdit.convert(te.action.edit),{editor:ve,label:te.action.title})),te.action.command)try{yield ye.executeCommand(te.action.command.id,...te.action.command.arguments||[])}catch(j){const te=function _(j){return"string"==typeof j?j:j instanceof Error&&"string"==typeof j.message?j.message:void 0}(j);Ne.error("string"==typeof te?te:Ze.localize(6,null))}}))}function L(j,te,he,ve){if(j.hasModel()){const Ce=_t.get(j);Ce&&Ce.manualTriggerAtCurrentPosition(te,he,ve)}}_t.ID="editor.contrib.quickFixController",_t=Ci([Zi(1,rt.IMarkerService),Zi(2,et.IContextKeyService),Zi(3,ct.IEditorProgressService),Zi(4,nt.IInstantiationService)],_t),te.QuickFixController=_t,te.applyCodeAction=C;class E extends Ee.EditorAction{constructor(){super({id:E.Id,label:Ze.localize(7,null),alias:"Quick Fix...",precondition:et.ContextKeyExpr.and(Ne.EditorContextKeys.writable,Ne.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:Ne.EditorContextKeys.editorTextFocus,primary:2132,weight:100}})}run(j,te){return L(te,Ze.localize(8,null),void 0,void 0)}}te.QuickFixAction=E,E.Id="editor.action.quickFix";class N extends Ee.EditorCommand{constructor(){super({id:Oe.codeActionCommandId,precondition:et.ContextKeyExpr.and(Ne.EditorContextKeys.writable,Ne.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:ft}]}})}runEditorCommand(j,te,he){const ve=pt.CodeActionCommandArgs.fromUser(he,{kind:pt.CodeActionKind.Empty,apply:"ifSingle"});return L(te,"string"==typeof(null==he?void 0:he.kind)?ve.preferred?Ze.localize(9,null,he.kind):Ze.localize(10,null,he.kind):ve.preferred?Ze.localize(11,null):Ze.localize(12,null),{include:ve.kind,includeSourceActions:!0,onlyIncludePreferredActions:ve.preferred},ve.apply)}}te.CodeActionCommand=N;class k extends Ee.EditorAction{constructor(){super({id:Oe.refactorCommandId,label:Ze.localize(13,null),alias:"Refactor...",precondition:et.ContextKeyExpr.and(Ne.EditorContextKeys.writable,Ne.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:Ne.EditorContextKeys.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:et.ContextKeyExpr.and(Ne.EditorContextKeys.writable,f(pt.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:ft}]}})}run(j,te,he){const ve=pt.CodeActionCommandArgs.fromUser(he,{kind:pt.CodeActionKind.Refactor,apply:"never"});return L(te,"string"==typeof(null==he?void 0:he.kind)?ve.preferred?Ze.localize(14,null,he.kind):Ze.localize(15,null,he.kind):ve.preferred?Ze.localize(16,null):Ze.localize(17,null),{include:pt.CodeActionKind.Refactor.contains(ve.kind)?ve.kind:pt.CodeActionKind.None,onlyIncludePreferredActions:ve.preferred},ve.apply)}}te.RefactorAction=k;class M extends Ee.EditorAction{constructor(){super({id:Oe.sourceActionCommandId,label:Ze.localize(18,null),alias:"Source Action...",precondition:et.ContextKeyExpr.and(Ne.EditorContextKeys.writable,Ne.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:et.ContextKeyExpr.and(Ne.EditorContextKeys.writable,f(pt.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:ft}]}})}run(j,te,he){const ve=pt.CodeActionCommandArgs.fromUser(he,{kind:pt.CodeActionKind.Source,apply:"never"});return L(te,"string"==typeof(null==he?void 0:he.kind)?ve.preferred?Ze.localize(19,null,he.kind):Ze.localize(20,null,he.kind):ve.preferred?Ze.localize(21,null):Ze.localize(22,null),{include:pt.CodeActionKind.Source.contains(ve.kind)?ve.kind:pt.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:ve.preferred},ve.apply)}}te.SourceAction=M;class O extends Ee.EditorAction{constructor(){super({id:Oe.organizeImportsCommandId,label:Ze.localize(23,null),alias:"Organize Imports",precondition:et.ContextKeyExpr.and(Ne.EditorContextKeys.writable,f(pt.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:Ne.EditorContextKeys.editorTextFocus,primary:1581,weight:100}})}run(j,te){return L(te,Ze.localize(24,null),{include:pt.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}te.OrganizeImportsAction=O;class B extends Ee.EditorAction{constructor(){super({id:Oe.fixAllCommandId,label:Ze.localize(25,null),alias:"Fix All",precondition:et.ContextKeyExpr.and(Ne.EditorContextKeys.writable,f(pt.CodeActionKind.SourceFixAll))})}run(j,te){return L(te,Ze.localize(26,null),{include:pt.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}te.FixAllAction=B;class T extends Ee.EditorAction{constructor(){super({id:T.Id,label:Ze.localize(27,null),alias:"Auto Fix...",precondition:et.ContextKeyExpr.and(Ne.EditorContextKeys.writable,f(pt.CodeActionKind.QuickFix)),kbOpts:{kbExpr:Ne.EditorContextKeys.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(j,te){return L(te,Ze.localize(28,null),{include:pt.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}te.AutoFixAction=T,T.Id="editor.action.autoFix"})),define(Ce[673],ie([1,0,15,288]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),(0,he.registerEditorContribution)(ve.QuickFixController.ID,ve.QuickFixController),(0,he.registerEditorAction)(ve.QuickFixAction),(0,he.registerEditorAction)(ve.RefactorAction),(0,he.registerEditorAction)(ve.SourceAction),(0,he.registerEditorAction)(ve.OrganizeImportsAction),(0,he.registerEditorAction)(ve.AutoFixAction),(0,he.registerEditorAction)(ve.FixAllAction),(0,he.registerEditorCommand)(new ve.CodeActionCommand)})),define(Ce[674],ie([1,0,43,10,21,13,2,20,25,106,15,195,28,11,3,24,18,153,156,563,103,16,9,64,38,71,36,657]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt,St,Dt){Object.defineProperty(te,"__esModule",{value:!0}),te.RenameAction=te.rename=void 0;class E{constructor(j,te){this.model=j,this.position=te,this._providerRenameIdx=0,this._providers=rt.RenameProviderRegistry.ordered(j)}hasProvider(){return this._providers.length>0}resolveRenameLocation(j){return fi(this,void 0,void 0,(function*(){const te=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const he=this._providers[this._providerRenameIdx];if(!he.resolveRenameLocation)break;let ve=yield he.resolveRenameLocation(this.model,this.position,j);if(ve){if(ve.rejectReason){te.push(ve.rejectReason);continue}return ve}}const he=this.model.getWordAtPosition(this.position);return he?{range:new et.Range(this.position.lineNumber,he.startColumn,this.position.lineNumber,he.endColumn),text:he.word,rejectReason:te.length>0?te.join("\n"):void 0}:{range:et.Range.fromPositions(this.position),text:"",rejectReason:te.length>0?te.join("\n"):void 0}}))}provideRenameEdits(j,te){return fi(this,void 0,void 0,(function*(){return this._provideRenameEdits(j,this._providerRenameIdx,[],te)}))}_provideRenameEdits(j,te,he,ve){return fi(this,void 0,void 0,(function*(){const Ce=this._providers[te];if(!Ce)return{edits:[],rejectReason:he.join("\n")};const ye=yield Ce.provideRenameEdits(this.model,this.position,j,ve);return ye?ye.rejectReason?this._provideRenameEdits(j,te+1,he.concat(ye.rejectReason),ve):ye:this._provideRenameEdits(j,te+1,he.concat(ht.localize(0,null)),ve)}))}}function N(j,te,he){return fi(this,void 0,void 0,(function*(){const ve=new E(j,te),ye=yield ve.resolveRenameLocation(Ce.CancellationToken.None);return(null==ye?void 0:ye.rejectReason)?{edits:[],rejectReason:ye.rejectReason}:ve.provideRenameEdits(he,Ce.CancellationToken.None)}))}te.rename=N;let It=class ki{constructor(j,te,he,ye,Ie,Ne,Oe){this.editor=j,this._instaService=te,this._notificationService=he,this._bulkEditService=ye,this._progressService=Ie,this._logService=Ne,this._configService=Oe,this._dispoableStore=new Ee.DisposableStore,this._cts=new Ce.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new ve.IdleValue((()=>this._dispoableStore.add(this._instaService.createInstance(Dt.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"])))))}static get(j){return j.getContribution(ki.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){var j,te;return fi(this,void 0,void 0,(function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const Ce=this.editor.getPosition(),ye=new E(this.editor.getModel(),Ce);if(!ye.hasProvider())return;let Ee;this._cts=new Oe.EditorStateCancellationTokenSource(this.editor,5);try{const j=ye.resolveRenameLocation(this._cts.token);this._progressService.showWhile(j,250),Ee=yield j}catch(te){return void(null===(j=ct.MessageController.get(this.editor))||void 0===j||j.showMessage(te||ht.localize(1,null),Ce))}if(!Ee)return;if(Ee.rejectReason)return void(null===(te=ct.MessageController.get(this.editor))||void 0===te||te.showMessage(Ee.rejectReason,Ce));if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new Oe.EditorStateCancellationTokenSource(this.editor,5,Ee.range);let Ie=this.editor.getSelection(),Ne=0,Ke=Ee.text.length;!et.Range.isEmpty(Ie)&&!et.Range.spansMultipleLines(Ie)&&et.Range.containsRange(Ee.range,Ie)&&(Ne=Math.max(0,Ie.startColumn-Ee.range.startColumn),Ke=Math.min(Ee.range.endColumn,Ie.endColumn)-Ee.range.startColumn);const Ze=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Ye=yield this._renameInputField.value.getInput(Ee.range,Ee.text,Ne,Ke,Ze,this._cts.token);if("boolean"==typeof Ye)return void(Ye&&this.editor.focus());this.editor.focus();const nt=(0,ve.raceCancellation)(ye.provideRenameEdits(Ye.newName,this._cts.token),this._cts.token).then((j=>fi(this,void 0,void 0,(function*(){if(j&&this.editor.hasModel()){if(j.rejectReason)return void this._notificationService.info(j.rejectReason);this.editor.setSelection(et.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(je.ResourceEdit.convert(j),{editor:this.editor,showPreview:Ye.wantsPreview,label:ht.localize(2,null,null==Ee?void 0:Ee.text),quotableLabel:ht.localize(3,null,null==Ee?void 0:Ee.text)}).then((j=>{j.ariaSummary&&(0,he.alert)(ht.localize(4,null,Ee.text,Ye.newName,j.ariaSummary))})).catch((j=>{this._notificationService.error(ht.localize(5,null)),this._logService.error(j)}))}}))),(j=>{this._notificationService.error(ht.localize(6,null)),this._logService.error(j)}));return this._progressService.showWhile(nt,250),nt}))}acceptRenameInput(j){this._renameInputField.value.acceptInput(j)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};It.ID="editor.contrib.renameController",It=Ci([Zi(1,ft.IInstantiationService),Zi(2,Ct.INotificationService),Zi(3,je.IBulkEditService),Zi(4,bt.IEditorProgressService),Zi(5,_t.ILogService),Zi(6,at.ITextResourceConfigurationService)],It);class M extends Ke.EditorAction{constructor(){super({id:"editor.action.rename",label:ht.localize(7,null),alias:"Rename Symbol",precondition:pt.ContextKeyExpr.and(nt.EditorContextKeys.writable,nt.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:nt.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(j,te){const he=j.get(Ze.ICodeEditorService),[ve,Ce]=Array.isArray(te)&&te||[void 0,void 0];return Ne.URI.isUri(ve)&&Ye.Position.isIPosition(Ce)?he.openCodeEditor({resource:ve},he.getActiveCodeEditor()).then((j=>{!j||(j.setPosition(Ce),j.invokeWithinContext((te=>(this.reportTelemetry(te,j),this.run(te,j)))))}),ye.onUnexpectedError):super.runCommand(j,te)}run(j,te){const he=It.get(te);return he?he.run():Promise.resolve()}}te.RenameAction=M,(0,Ke.registerEditorContribution)(It.ID,It),(0,Ke.registerEditorAction)(M);const kt=Ke.EditorCommand.bindToContribution(It.get);(0,Ke.registerEditorCommand)(new kt({id:"acceptRenameInput",precondition:Dt.CONTEXT_RENAME_INPUT_VISIBLE,handler:j=>j.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:nt.EditorContextKeys.focus,primary:3}})),(0,Ke.registerEditorCommand)(new kt({id:"acceptRenameInputWithPreview",precondition:pt.ContextKeyExpr.and(Dt.CONTEXT_RENAME_INPUT_VISIBLE,pt.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:j=>j.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:nt.EditorContextKeys.focus,primary:1027}})),(0,Ke.registerEditorCommand)(new kt({id:"cancelRenameInput",precondition:Dt.CONTEXT_RENAME_INPUT_VISIBLE,handler:j=>j.cancelRenameInput(),kbOpts:{weight:199,kbExpr:nt.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,Ke.registerModelAndPositionCommand)("_executeDocumentRenameProvider",(function(j,te,...he){const[ve]=he;return(0,Ie.assertType)("string"==typeof ve),N(j,te,ve)})),(0,Ke.registerModelAndPositionCommand)("_executePrepareRename",(function(j,te){return fi(this,void 0,void 0,(function*(){const he=yield new E(j,te).resolveRenameLocation(Ce.CancellationToken.None);if(null==he?void 0:he.rejectReason)throw new Error(he.rejectReason);return he}))})),St.Registry.as(mt.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:ht.localize(8,null),default:!0,type:"boolean"}}})})),define(Ce[675],ie([1,0,19,21,13,15,11,3,22,24,18,260,464,565,37,26]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt){Object.defineProperty(te,"__esModule",{value:!0}),te.provideSelectionRanges=void 0;class r{constructor(j,te){this.index=j,this.ranges=te}mov(j){let te=this.index+(j?1:-1);if(te<0||te>=this.ranges.length)return this;const he=new r(te,this.ranges);return he.ranges[te].equalsRange(this.ranges[this.index])?he.mov(j):he}}class s{constructor(j){this._editor=j,this._ignoreSelection=!1}static get(j){return j.getContribution(s.ID)}dispose(){var j;null===(j=this._selectionListener)||void 0===j||j.dispose()}run(j){return fi(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return;const te=this._editor.getSelections(),Ce=this._editor.getModel();if(!Ke.SelectionRangeRegistry.has(Ce)||(this._state||(yield u(Ce,te.map((j=>j.getPosition())),this._editor.getOption(102),ve.CancellationToken.None).then((j=>{var ve;if(he.isNonEmptyArray(j)&&j.length===te.length&&this._editor.hasModel()&&he.equals(this._editor.getSelections(),te,((j,te)=>j.equalsSelection(te)))){for(let he=0;he<j.length;he++)j[he]=j[he].filter((j=>j.containsPosition(te[he].getStartPosition())&&j.containsPosition(te[he].getEndPosition()))),j[he].unshift(te[he]);this._state=j.map((j=>new r(0,j))),null===(ve=this._selectionListener)||void 0===ve||ve.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition((()=>{var j;this._ignoreSelection||(null===(j=this._selectionListener)||void 0===j||j.dispose(),this._state=void 0)}))}}))),!this._state))return;this._state=this._state.map((te=>te.mov(j)));const ye=this._state.map((j=>Ne.Selection.fromPositions(j.ranges[j.index].getStartPosition(),j.ranges[j.index].getEndPosition())));this._ignoreSelection=!0;try{this._editor.setSelections(ye)}finally{this._ignoreSelection=!1}}))}}s.ID="editor.contrib.smartSelectController";class o extends ye.EditorAction{constructor(j,te){super(te),this._forward=j}run(j,te){return fi(this,void 0,void 0,(function*(){let j=s.get(te);j&&(yield j.run(this._forward))}))}}nt.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");function u(j,te,ve,ye){return fi(this,void 0,void 0,(function*(){const Ne=Ke.SelectionRangeRegistry.all(j);1===Ne.length&&Ne.unshift(new je.BracketSelectionRangeProvider);let Oe=[],Ze=[];for(const ve of Ne)Oe.push(Promise.resolve(ve.provideSelectionRanges(j,te,ye)).then((j=>{if(he.isNonEmptyArray(j)&&j.length===te.length)for(let he=0;he<te.length;he++){Ze[he]||(Ze[he]=[]);for(const ve of j[he])Ie.Range.isIRange(ve.range)&&Ie.Range.containsPosition(ve.range,te[he])&&Ze[he].push(Ie.Range.lift(ve.range))}}),Ce.onUnexpectedExternalError));return yield Promise.all(Oe),Ze.map((te=>{if(0===te.length)return[];te.sort(((j,te)=>Ee.Position.isBefore(j.getStartPosition(),te.getStartPosition())?1:Ee.Position.isBefore(te.getStartPosition(),j.getStartPosition())||Ee.Position.isBefore(j.getEndPosition(),te.getEndPosition())?-1:Ee.Position.isBefore(te.getEndPosition(),j.getEndPosition())?1:0));let he,Ce=[];for(const j of te)(!he||Ie.Range.containsRange(j,he)&&!Ie.Range.equalsRange(j,he))&&(Ce.push(j),he=j);if(!ve.selectLeadingAndTrailingWhitespace)return Ce;let ye=[Ce[0]];for(let te=1;te<Ce.length;te++){const he=Ce[te-1],ve=Ce[te];if(ve.startLineNumber!==he.startLineNumber||ve.endLineNumber!==he.endLineNumber){const te=new Ie.Range(he.startLineNumber,j.getLineFirstNonWhitespaceColumn(he.startLineNumber),he.endLineNumber,j.getLineLastNonWhitespaceColumn(he.endLineNumber));te.containsRange(he)&&!te.equalsRange(he)&&ve.containsRange(te)&&!ve.equalsRange(te)&&ye.push(te);const Ce=new Ie.Range(he.startLineNumber,1,he.endLineNumber,j.getLineMaxColumn(he.endLineNumber));Ce.containsRange(he)&&!Ce.equalsRange(te)&&ve.containsRange(Ce)&&!ve.equalsRange(Ce)&&ye.push(Ce)}ye.push(ve)}return ye}))}))}(0,ye.registerEditorContribution)(s.ID,s),(0,ye.registerEditorAction)(class a extends o{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:Ye.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:Oe.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:et.MenuId.MenubarSelectionMenu,group:"1_basic",title:Ye.localize(1,null),order:2}})}}),(0,ye.registerEditorAction)(class d extends o{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:Ye.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:Oe.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:et.MenuId.MenubarSelectionMenu,group:"1_basic",title:Ye.localize(3,null),order:3}})}}),Ke.SelectionRangeRegistry.register("*",new Ze.WordSelectionRangeProvider),te.provideSelectionRanges=u,(0,ye.registerModelCommand)("_executeSelectionRangeProvider",(function(j,...te){const[he]=te;return u(j,he,{selectLeadingAndTrailingWhitespace:!0},ve.CancellationToken.None)}))})),define(Ce[107],ie([1,0,21,13,73,2,65,20,25,11,3,18,58,124,568,37,26,16]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at){Object.defineProperty(te,"__esModule",{value:!0}),te.showSimpleSuggestions=te.getSuggestionComparator=te.provideSuggestionItems=te.CompletionItemModel=te.getSnippetSuggestSupport=te.CompletionOptions=te.CompletionItem=te.suggestWidgetStatusbarMenu=te.Context=void 0,te.Context={Visible:new at.RawContextKey("suggestWidgetVisible",!1,(0,et.localize)(0,null)),DetailsVisible:new at.RawContextKey("suggestWidgetDetailsVisible",!1,(0,et.localize)(1,null)),MultipleSuggestions:new at.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,et.localize)(2,null)),MakesTextEdit:new at.RawContextKey("suggestionMakesTextEdit",!0,(0,et.localize)(3,null)),AcceptSuggestionsOnEnter:new at.RawContextKey("acceptSuggestionOnEnter",!0,(0,et.localize)(4,null)),HasInsertAndReplaceRange:new at.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,et.localize)(5,null)),InsertMode:new at.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,et.localize)(6,null)}),CanResolve:new at.RawContextKey("suggestionCanResolve",!1,(0,et.localize)(7,null))},te.suggestWidgetStatusbarMenu=new nt.MenuId("suggestWidgetStatusBar");class o{constructor(j,te,he,ve){this.position=j,this.completion=te,this.container=he,this.provider=ve,this.isInvalid=!1,this.score=Ce.FuzzyScore.Default,this.distance=0,this.textLabel="string"==typeof te.label?te.label:te.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=te.sortText&&te.sortText.toLowerCase(),this.filterTextLow=te.filterText&&te.filterText.toLowerCase(),Ke.Range.isIRange(te.range)?(this.editStart=new Oe.Position(te.range.startLineNumber,te.range.startColumn),this.editInsertEnd=new Oe.Position(te.range.endLineNumber,te.range.endColumn),this.editReplaceEnd=new Oe.Position(te.range.endLineNumber,te.range.endColumn),this.isInvalid=this.isInvalid||Ke.Range.spansMultipleLines(te.range)||te.range.startLineNumber!==j.lineNumber):(this.editStart=new Oe.Position(te.range.insert.startLineNumber,te.range.insert.startColumn),this.editInsertEnd=new Oe.Position(te.range.insert.endLineNumber,te.range.insert.endColumn),this.editReplaceEnd=new Oe.Position(te.range.replace.endLineNumber,te.range.replace.endColumn),this.isInvalid=this.isInvalid||Ke.Range.spansMultipleLines(te.range.insert)||Ke.Range.spansMultipleLines(te.range.replace)||te.range.insert.startLineNumber!==j.lineNumber||te.range.replace.startLineNumber!==j.lineNumber||te.range.insert.startColumn!==te.range.replace.startColumn),"function"!=typeof ve.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(j){return fi(this,void 0,void 0,(function*(){if(!this._resolveCache){const te=j.onCancellationRequested((()=>{this._resolveCache=void 0,this._isResolved=!1}));this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,j)).then((j=>{Object.assign(this.completion,j),this._isResolved=!0,te.dispose()}),(j=>{(0,ve.isCancellationError)(j)&&(this._resolveCache=void 0,this._isResolved=!1)}))}return this._resolveCache}))}}te.CompletionItem=o;class a{constructor(j=2,te=new Set,he=new Set,ve=!0){this.snippetSortOrder=j,this.kindFilter=te,this.providerFilter=he,this.showDeprecated=ve}}let ct;te.CompletionOptions=a,a.default=new a,te.getSnippetSuggestSupport=function u(){return ct};class f{constructor(j,te,he,ve){this.items=j,this.needsClipboard=te,this.durations=he,this.disposable=ve}}function S(j,te,Ce=a.default,Ie={triggerKind:0},Ne=he.CancellationToken.None){return fi(this,void 0,void 0,(function*(){const he=new Ee.StopWatch(!0);te=te.clone();const Oe=j.getWordAtPosition(te),Ze=Oe?new Ke.Range(te.lineNumber,Oe.startColumn,te.lineNumber,Oe.endColumn):Ke.Range.fromPositions(te),et={replace:Ze,insert:Ze.setEndPosition(te.lineNumber,te.column)},nt=[],rt=new ye.DisposableStore,at=[];let ct=!1;const re=(j,he,ve)=>{var Ee,Ie,Ne;let Oe=!1;if(!he)return Oe;for(let ve of he.suggestions)if(!Ce.kindFilter.has(ve.kind)){if(!Ce.showDeprecated&&(null===(Ee=null==ve?void 0:ve.tags)||void 0===Ee?void 0:Ee.includes(1)))continue;ve.range||(ve.range=et),ve.sortText||(ve.sortText="string"==typeof ve.label?ve.label:ve.label.label),!ct&&ve.insertTextRules&&4&ve.insertTextRules&&(ct=Ye.SnippetParser.guessNeedsClipboard(ve.insertText)),nt.push(new o(te,ve,he,j)),Oe=!0}return(0,ye.isDisposable)(he)&&rt.add(he),at.push({providerName:null!==(Ie=j._debugDisplayName)&&void 0!==Ie?Ie:"unkown_provider",elapsedProvider:null!==(Ne=he.duration)&&void 0!==Ne?Ne:-1,elapsedOverall:ve.elapsed()}),Oe},ht=(()=>fi(this,void 0,void 0,(function*(){})))();for(let he of je.CompletionProviderRegistry.orderedGroups(j)){let ye=!1;if(yield Promise.all(he.map((he=>fi(this,void 0,void 0,(function*(){if(!(Ce.providerFilter.size>0)||Ce.providerFilter.has(he))try{const ve=new Ee.StopWatch(!0),Ce=yield he.provideCompletionItems(j,te,Ie,Ne);ye=re(he,Ce,ve)||ye}catch(j){(0,ve.onUnexpectedExternalError)(j)}}))))),ye||Ne.isCancellationRequested)break}return yield ht,Ne.isCancellationRequested?(rt.dispose(),Promise.reject((0,ve.canceled)())):new f(nt.sort(E(Ce.snippetSortOrder)),ct,{entries:at,elapsed:he.elapsed()},rt)}))}function v(j,te){if(j.sortTextLow&&te.sortTextLow){if(j.sortTextLow<te.sortTextLow)return-1;if(j.sortTextLow>te.sortTextLow)return 1}return j.completion.label<te.completion.label?-1:j.completion.label>te.completion.label?1:j.completion.kind-te.completion.kind}te.CompletionItemModel=f,te.provideSuggestionItems=S;const ht=new Map;function E(j){return ht.get(j)}ht.set(0,(function C(j,te){if(j.completion.kind!==te.completion.kind){if(27===j.completion.kind)return-1;if(27===te.completion.kind)return 1}return v(j,te)})),ht.set(2,(function _(j,te){if(j.completion.kind!==te.completion.kind){if(27===j.completion.kind)return 1;if(27===te.completion.kind)return-1}return v(j,te)})),ht.set(1,v),te.getSuggestionComparator=E,rt.CommandsRegistry.registerCommand("_executeCompletionItemProvider",((j,...te)=>fi(void 0,void 0,void 0,(function*(){const[ve,Ce,ye,Ee]=te;(0,Ie.assertType)(Ne.URI.isUri(ve)),(0,Ie.assertType)(Oe.Position.isIPosition(Ce)),(0,Ie.assertType)("string"==typeof ye||!ye),(0,Ie.assertType)("number"==typeof Ee||!Ee);const Ke=yield j.get(Ze.ITextModelService).createModelReference(ve);try{const j={incomplete:!1,suggestions:[]},te=[],ve=yield S(Ke.object.textEditorModel,Oe.Position.lift(Ce),void 0,{triggerCharacter:ye,triggerKind:ye?1:0});for(const Ce of ve.items)te.length<(Ee??0)&&te.push(Ce.resolve(he.CancellationToken.None)),j.incomplete=j.incomplete||Ce.container.incomplete,j.suggestions.push(Ce.completion);try{return yield Promise.all(te),j}finally{setTimeout((()=>ve.disposable.dispose()),100)}}finally{Ke.dispose()}}))));const mt=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let j={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,j}};je.CompletionProviderRegistry.register("*",mt),te.showSimpleSuggestions=function k(j,te){setTimeout((()=>{var he;mt.onlyOnceSuggestions.push(...te),null===(he=j.getContribution("editor.contrib.suggestController"))||void 0===he||he.triggerSuggest((new Set).add(mt))}),0)}})),define(Ce[289],ie([1,0,43,231,15,575]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.ToggleTabFocusModeAction=void 0;class w extends Ce.EditorAction{constructor(){super({id:w.ID,label:ye.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(j,te){const Ce=!ve.TabFocus.getTabFocusMode();ve.TabFocus.setTabFocusMode(Ce),Ce?(0,he.alert)(ye.localize(1,null)):(0,he.alert)(ye.localize(2,null))}}te.ToggleTabFocusModeAction=w,w.ID="editor.action.toggleTabFocusMode",(0,Ce.registerEditorAction)(w)})),define(Ce[676],ie([1,0,65,15,576]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0});class I extends ve.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:Ce.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(j,te){if(!te.hasModel())return;const ve=te.getModel();ve.resetTokenization();const Ce=new he.StopWatch(!0);ve.forceTokenization(ve.getLineCount()),Ce.stop(),console.log(`tokenization took ${Ce.elapsed()}`)}}(0,ve.registerEditorAction)(I)})),define(Ce[677],ie([1,0,2,41,15,28,578,127]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.UnusualLineTerminatorsDetector=void 0;const Ne="ignoreUnusualLineTerminators";let Oe=class extends he.Disposable{constructor(j,te,he){super(),this._editor=j,this._dialogService=te,this._codeEditorService=he,this._config=this._editor.getOption(114),this._register(this._editor.onDidChangeConfiguration((j=>{j.hasChanged(114)&&(this._config=this._editor.getOption(114),this._checkForUnusualLineTerminators())}))),this._register(this._editor.onDidChangeModel((()=>{this._checkForUnusualLineTerminators()}))),this._register(this._editor.onDidChangeModelContent((j=>{j.isUndoing||this._checkForUnusualLineTerminators()})))}_checkForUnusualLineTerminators(){return fi(this,void 0,void 0,(function*(){if("off"===this._config||!this._editor.hasModel())return;const j=this._editor.getModel();j.mightContainUnusualLineTerminators()&&!0!==function g(j,te){return j.getModelProperty(te.uri,Ne)}(this._codeEditorService,j)&&!this._editor.getOption(81)&&("auto"!==this._config?(yield this._dialogService.confirm({title:Ee.localize(0,null),message:Ee.localize(1,null),detail:Ee.localize(2,null,(0,ve.basename)(j.uri)),primaryButton:Ee.localize(3,null),secondaryButton:Ee.localize(4,null)})).confirmed?j.removeUnusualLineTerminators(this._editor.getSelections()):function h(j,te,he){j.setModelProperty(te.uri,Ne,he)}(this._codeEditorService,j,!0):j.removeUnusualLineTerminators(this._editor.getSelections()))}))}};Oe.ID="editor.contrib.unusualLineTerminatorsDetector",Oe=Ci([Zi(1,Ie.IDialogService),Zi(2,ye.ICodeEditorService)],Oe),te.UnusualLineTerminatorsDetector=Oe,(0,Ce.registerEditorContribution)(Oe.ID,Oe)})),define(Ce[678],ie([1,0,7,30,169,43,60,2,17,8,25,15,24,289,16,9,42,51,23,14,70,390]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt){Object.defineProperty(te,"__esModule",{value:!0});const pt=new et.RawContextKey("accessibilityHelpWidgetVisible",!1);let ft=class Ni extends Ie.Disposable{constructor(j,te){super(),this._editor=j,this._widget=this._register(te.createInstance(_t,this._editor))}static get(j){return j.getContribution(Ni.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};ft.ID="editor.contrib.accessibilityHelpController",ft=Ci([Zi(1,nt.IInstantiationService)],ft);let _t=class xt extends Ee.Widget{constructor(j,te,Ce,Ee){super(),this._contextKeyService=te,this._keybindingService=Ce,this._openerService=Ee,this._editor=j,this._isVisibleKey=pt.bindTo(this._contextKeyService),this._domNode=(0,ve.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,ve.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange((()=>{this._isVisible&&this._layout()}))),this._register(he.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",(j=>{if(this._isVisible&&(j.equals(2083)&&((0,ye.alert)(mt.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),he.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),j.preventDefault(),j.stopPropagation()),j.equals(2086))){(0,ye.alert)(mt.AccessibilityHelpNLS.openingDocs);let te=this._editor.getRawOptions().accessibilityHelpUrl;void 0===te&&(te="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(Ke.URI.parse(te)),j.preventDefault(),j.stopPropagation()}}))),this.onblur(this._contentDomNode.domNode,(()=>{this.hide()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return xt.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(j,te,he){const ve=this._keybindingService.lookupKeybinding(j);return ve?Oe.format(te,ve.getAriaLabel()):Oe.format(he,j)}_buildContent(){const j=this._editor.getOptions(),te=this._editor.getSelections();let he=0;if(te){const j=this._editor.getModel();j&&te.forEach((te=>{he+=j.getValueLengthInRange(te)}))}let ve=function S(j,te){return j&&0!==j.length?1===j.length?te?Oe.format(mt.AccessibilityHelpNLS.singleSelectionRange,j[0].positionLineNumber,j[0].positionColumn,te):Oe.format(mt.AccessibilityHelpNLS.singleSelection,j[0].positionLineNumber,j[0].positionColumn):te?Oe.format(mt.AccessibilityHelpNLS.multiSelectionRange,j.length,te):j.length>0?Oe.format(mt.AccessibilityHelpNLS.multiSelection,j.length):"":mt.AccessibilityHelpNLS.noSelection}(te,he);j.get(54)?j.get(81)?ve+=mt.AccessibilityHelpNLS.readonlyDiffEditor:ve+=mt.AccessibilityHelpNLS.editableDiffEditor:j.get(81)?ve+=mt.AccessibilityHelpNLS.readonlyEditor:ve+=mt.AccessibilityHelpNLS.editableEditor;const ye=Ne.isMacintosh?mt.AccessibilityHelpNLS.changeConfigToOnMac:mt.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(j.get(2)){case 0:ve+="\n\n - "+ye;break;case 2:ve+="\n\n - "+mt.AccessibilityHelpNLS.auto_on;break;case 1:ve+="\n\n - "+mt.AccessibilityHelpNLS.auto_off,ve+=" "+ye}j.get(130)?ve+="\n\n - "+this._descriptionForCommand(Ye.ToggleTabFocusModeAction.ID,mt.AccessibilityHelpNLS.tabFocusModeOnMsg,mt.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):ve+="\n\n - "+this._descriptionForCommand(Ye.ToggleTabFocusModeAction.ID,mt.AccessibilityHelpNLS.tabFocusModeOffMsg,mt.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);ve+="\n\n - "+(Ne.isMacintosh?mt.AccessibilityHelpNLS.openDocMac:mt.AccessibilityHelpNLS.openDocWinLinux),ve+="\n\n"+mt.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,Ce.renderFormattedText)(ve)),this._contentDomNode.domNode.setAttribute("aria-label",ve)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,he.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){const j=this._editor.getLayoutInfo(),te=Math.max(5,Math.min(xt.WIDTH,j.width-40)),he=Math.max(5,Math.min(xt.HEIGHT,j.height-40));this._domNode.setWidth(te),this._domNode.setHeight(he);const ve=Math.round((j.height-he)/2);this._domNode.setTop(ve);const Ce=Math.round((j.width-te)/2);this._domNode.setLeft(Ce)}};_t.ID="editor.contrib.accessibilityHelpWidget",_t.WIDTH=500,_t.HEIGHT=300,_t=Ci([Zi(1,et.IContextKeyService),Zi(2,rt.IKeybindingService),Zi(3,at.IOpenerService)],_t);class C extends je.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:mt.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(j,te){const he=ft.get(te);he&&he.show()}}(0,je.registerEditorContribution)(ft.ID,ft),(0,je.registerEditorAction)(C);const Ct=je.EditorCommand.bindToContribution(ft.get);(0,je.registerEditorCommand)(new Ct({id:"closeAccessibilityHelp",precondition:pt,handler:j=>j.hide(),kbOpts:{weight:200,kbExpr:Ze.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,ht.registerThemingParticipant)(((j,te)=>{const he=j.getColor(ct.editorWidgetBackground);he&&te.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${he}; }`);const ve=j.getColor(ct.editorWidgetForeground);ve&&te.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${ve}; }`);const Ce=j.getColor(ct.widgetShadow);Ce&&te.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${Ce}; }`);const ye=j.getColor(ct.contrastBorder);ye&&te.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${ye}; }`)}))})),define(Ce[679],ie([1,0,7,2,15,17,391]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.IPadShowKeyboard=void 0;class w extends ve.Disposable{constructor(j){super(),this.editor=j,this.widget=null,ye.isIOS&&(this._register(j.onDidChangeConfiguration((()=>this.update()))),this.update())}update(){const j=!this.editor.getOption(81);!this.widget&&j?this.widget=new b(this.editor):this.widget&&!j&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}te.IPadShowKeyboard=w,w.ID="editor.contrib.iPadShowKeyboard";class b extends ve.Disposable{constructor(j){super(),this.editor=j,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(he.addDisposableListener(this._domNode,"touchstart",(j=>{this.editor.focus()}))),this._register(he.addDisposableListener(this._domNode,"focus",(j=>{this.editor.focus()}))),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}b.ID="editor.contrib.ShowKeyboardWidget",(0,Ce.registerEditorContribution)(w.ID,w)})),define(Ce[680],ie([1,0,7,29,2,15,18,121,35,101,23,14,70,132,392]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){Object.defineProperty(te,"__esModule",{value:!0});let et=class Ti extends Ce.Disposable{constructor(j,te,he){super(),this._editor=j,this._languageService=he,this._widget=null,this._register(this._editor.onDidChangeModel((j=>this.stop()))),this._register(this._editor.onDidChangeModelLanguage((j=>this.stop()))),this._register(Ee.TokenizationRegistry.onDidChange((j=>this.stop()))),this._register(this._editor.onKeyUp((j=>9===j.keyCode&&this.stop())))}static get(j){return j.getContribution(Ti.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new o(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};et.ID="editor.contrib.inspectTokens",et=Ci([Zi(1,Oe.IStandaloneThemeService),Zi(2,Ne.ILanguageService)],et);class c extends ye.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:Ze.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(j,te){const he=et.get(te);he&&he.launch()}}class o extends Ce.Disposable{constructor(j,te){super(),this.allowEditorOverflow=!0,this._editor=j,this._languageService=te,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function s(j,te){const he=Ee.TokenizationRegistry.get(te);if(he)return he;const ve=j.encodeLanguageId(te);return{getInitialState:()=>Ie.NullState,tokenize:(j,he,ve)=>(0,Ie.nullTokenize)(te,ve),tokenizeEncoded:(j,te,he)=>(0,Ie.nullTokenizeEncoded)(ve,he)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition((j=>this._compute(this._editor.getPosition())))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return o._ID}_compute(j){const te=this._getTokensAtLine(j.lineNumber);let Ce=0;for(let he=te.tokens1.length-1;he>=0;he--){const ve=te.tokens1[he];if(j.column-1>=ve.offset){Ce=he;break}}let ye=0;for(let he=te.tokens2.length>>>1;he>=0;he--)if(j.column-1>=te.tokens2[he<<1]){ye=he;break}const Ee=this._model.getLineContent(j.lineNumber);let Ie="";if(Ce<te.tokens1.length){const j=te.tokens1[Ce].offset,he=Ce+1<te.tokens1.length?te.tokens1[Ce+1].offset:Ee.length;Ie=Ee.substring(j,he)}(0,he.reset)(this._domNode,(0,he.$)("h2.tm-token",void 0,function r(j){let te="";for(let he=0,ve=j.length;he<ve;he++){const ve=j.charCodeAt(he);switch(ve){case 9:te+="→";break;case 32:te+="·";break;default:te+=String.fromCharCode(ve)}}return te}(Ie),(0,he.$)("span.tm-token-length",void 0,`${Ie.length} ${1===Ie.length?"char":"chars"}`))),(0,he.append)(this._domNode,(0,he.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const Ne=1+(ye<<1)<te.tokens2.length?this._decodeMetadata(te.tokens2[1+(ye<<1)]):null;(0,he.append)(this._domNode,(0,he.$)("table.tm-metadata-table",void 0,(0,he.$)("tbody",void 0,(0,he.$)("tr",void 0,(0,he.$)("td.tm-metadata-key",void 0,"language"),(0,he.$)("td.tm-metadata-value",void 0,`${Ne?Ne.languageId:"-?-"}`)),(0,he.$)("tr",void 0,(0,he.$)("td.tm-metadata-key",void 0,"token type"),(0,he.$)("td.tm-metadata-value",void 0,`${Ne?this._tokenTypeToString(Ne.tokenType):"-?-"}`)),(0,he.$)("tr",void 0,(0,he.$)("td.tm-metadata-key",void 0,"font style"),(0,he.$)("td.tm-metadata-value",void 0,`${Ne?this._fontStyleToString(Ne.fontStyle):"-?-"}`)),(0,he.$)("tr",void 0,(0,he.$)("td.tm-metadata-key",void 0,"foreground"),(0,he.$)("td.tm-metadata-value",void 0,`${Ne?ve.Color.Format.CSS.formatHex(Ne.foreground):"-?-"}`)),(0,he.$)("tr",void 0,(0,he.$)("td.tm-metadata-key",void 0,"background"),(0,he.$)("td.tm-metadata-value",void 0,`${Ne?ve.Color.Format.CSS.formatHex(Ne.background):"-?-"}`))))),(0,he.append)(this._domNode,(0,he.$)("hr.tokens-inspect-separator")),Ce<te.tokens1.length&&(0,he.append)(this._domNode,(0,he.$)("span.tm-token-type",void 0,te.tokens1[Ce].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(j){const te=Ee.TokenizationRegistry.getColorMap(),he=Ee.TokenMetadata.getLanguageId(j),ve=Ee.TokenMetadata.getTokenType(j),Ce=Ee.TokenMetadata.getFontStyle(j),ye=Ee.TokenMetadata.getForeground(j),Ie=Ee.TokenMetadata.getBackground(j);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(he),tokenType:ve,fontStyle:Ce,foreground:te[ye],background:te[Ie]}}_tokenTypeToString(j){switch(j){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(j){let te="";return 1&j&&(te+="italic "),2&j&&(te+="bold "),4&j&&(te+="underline "),8&j&&(te+="strikethrough "),0===te.length&&(te="---"),te}_getTokensAtLine(j){const te=this._getStateBeforeLine(j),he=this._tokenizationSupport.tokenize(this._model.getLineContent(j),!0,te),ve=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(j),!0,te);return{startState:te,tokens1:he.tokens,tokens2:ve.tokens,endState:he.endState}}_getStateBeforeLine(j){let te=this._tokenizationSupport.getInitialState();for(let he=1;he<j;he++)te=this._tokenizationSupport.tokenize(this._model.getLineContent(he),!0,te).endState;return te}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}o._ID="editor.contrib.inspectTokensWidget",(0,ye.registerEditorContribution)(et.ID,et),(0,ye.registerEditorAction)(c),(0,je.registerThemingParticipant)(((j,te)=>{const he=j.getColor(Ke.editorHoverBorder);if(he){const ve=j.type===Ye.ColorScheme.HIGH_CONTRAST?2:1;te.addRule(`.monaco-editor .tokens-inspect-widget { border: ${ve}px solid ${he}; }`),te.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${he}; }`)}const ve=j.getColor(Ke.editorHoverBackground);ve&&te.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${ve}; }`);const Ce=j.getColor(Ke.editorHoverForeground);Ce&&te.addRule(`.monaco-editor .tokens-inspect-widget { color: ${Ce}; }`)}))})),define(Ce[681],ie([1,0,36,105,70,28,633,20,9,42,26,87,127,15,24,78]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt){Object.defineProperty(te,"__esModule",{value:!0}),te.GotoLineAction=te.StandaloneCommandsQuickAccessProvider=void 0;let rt=class extends Ee.AbstractEditorCommandsQuickAccessProvider{constructor(j,te,he,ve,Ce,ye){super({showAlias:!1},j,he,ve,Ce,ye),this.codeEditorService=te}get activeTextEditorControl(){return(0,Ie.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return fi(this,void 0,void 0,(function*(){return this.getCodeEditorCommandPicks()}))}};rt=Ci([Zi(0,Ne.IInstantiationService),Zi(1,ye.ICodeEditorService),Zi(2,Oe.IKeybindingService),Zi(3,Ke.ICommandService),Zi(4,je.ITelemetryService),Zi(5,Ze.IDialogService)],rt),te.StandaloneCommandsQuickAccessProvider=rt,he.Registry.as(ve.Extensions.Quickaccess).registerQuickAccessProvider({ctor:rt,prefix:rt.PREFIX,helpEntries:[{description:Ce.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class s extends Ye.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:Ce.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:et.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(j){j.get(nt.IQuickInputService).quickAccess.show(rt.PREFIX)}}te.GotoLineAction=s,(0,Ye.registerEditorAction)(s)})),define(Ce[682],ie([1,0,655,36,105,28,20,70,4,15,24,78]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){Object.defineProperty(te,"__esModule",{value:!0}),te.GotoLineAction=te.StandaloneGotoLineQuickAccessProvider=void 0;let Ze=class extends he.AbstractGotoLineQuickAccessProvider{constructor(j){super(),this.editorService=j,this.onDidActiveTextEditorControlChange=Ne.Event.None}get activeTextEditorControl(){return(0,Ee.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};Ze=Ci([Zi(0,ye.ICodeEditorService)],Ze),te.StandaloneGotoLineQuickAccessProvider=Ze,ve.Registry.as(Ce.Extensions.Quickaccess).registerQuickAccessProvider({ctor:Ze,prefix:Ze.PREFIX,helpEntries:[{description:Ie.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class n extends Oe.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:Ie.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:Ke.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(j){j.get(je.IQuickInputService).quickAccess.show(Ze.PREFIX)}}te.GotoLineAction=n,(0,Oe.registerEditorAction)(n)})),define(Ce[683],ie([1,0,656,36,105,28,20,70,4,15,24,78,199,140,283]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){Object.defineProperty(te,"__esModule",{value:!0}),te.GotoLineAction=te.StandaloneGotoSymbolQuickAccessProvider=void 0;let Ye=class extends he.AbstractGotoSymbolQuickAccessProvider{constructor(j,te){super(te),this.editorService=j,this.onDidActiveTextEditorControlChange=Ne.Event.None}get activeTextEditorControl(){return(0,Ee.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};Ye=Ci([Zi(0,ye.ICodeEditorService),Zi(1,Ze.IOutlineModelService)],Ye),te.StandaloneGotoSymbolQuickAccessProvider=Ye,ve.Registry.as(Ce.Extensions.Quickaccess).registerQuickAccessProvider({ctor:Ye,prefix:he.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:Ie.QuickOutlineNLS.quickOutlineActionLabel,prefix:he.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:Ie.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:he.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class l extends Oe.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:Ie.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:Ke.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:Ke.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(j){j.get(je.IQuickInputService).quickAccess.show(he.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}te.GotoLineAction=l,(0,Oe.registerEditorAction)(l)})),define(Ce[684],ie([1,0,15,101,70]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0});class I extends he.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:Ce.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(j,te){const he=j.get(ve.IStandaloneThemeService);this._originalThemeName?(he.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=he.getColorTheme().themeName,he.setTheme("hc-black"))}}(0,he.registerEditorAction)(I)})),define(Ce[202],ie([1,0,7,46,125,484,44,193,2,17,581,37,16,76,9,42,38,80,14,395]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct){Object.defineProperty(te,"__esModule",{value:!0}),te.createActionViewItem=te.SubmenuEntryActionViewItem=te.MenuEntryActionViewItem=te.createAndFillInActionBarActions=void 0,te.createAndFillInActionBarActions=function a(j,te,he,ve,Ce,ye,Ie){const Oe=j.getActions(te);return function u(j,te,he,ve=(j=>"navigation"===j),Ce=Number.MAX_SAFE_INTEGER,ye=(()=>!1),Ie=!1){let Ne,Oe;Array.isArray(te)?(Ne=te,Oe=te):(Ne=te.primary,Oe=te.secondary);const Ke=new Set;for(const[te,Ce]of j){let j;ve(te)?(j=Ne,j.length>0&&Ie&&j.push(new Ee.Separator)):(j=Oe,j.length>0&&j.push(new Ee.Separator));for(let ve of Ce){he&&(ve=ve instanceof je.MenuItemAction&&ve.alt?ve.alt:ve);const Ce=j.push(ve);ve instanceof Ee.SubmenuAction&&Ke.add({group:te,action:ve,index:Ce-1})}}for(const{group:j,action:te,index:he}of Ke){const Ee=ve(j)?Ne:Oe,Ie=te.actions;(Ie.length<=1||Ee.length+Ie.length-2<=Ce)&&ye(te,j,Ee.length)&&Ee.splice(he,1,...Ie)}if(Ne!==Oe&&Ne.length>Ce){const j=Ne.splice(Ce,Ne.length-Ce);Oe.unshift(...j,new Ee.Separator)}}(Oe,he,!1,"string"==typeof ve?j=>j===ve:ve,Ce,ye,Ie),function d(j){const te=new Ne.DisposableStore;for(const[,he]of j)for(const j of he)te.add(j);return te}(Oe)};let ht=class extends Ce.ActionViewItem{constructor(j,te,ve,Ce,ye){super(void 0,j,{icon:!(!j.class&&!j.item.icon),label:!j.class&&!j.item.icon,draggable:null==te?void 0:te.draggable}),this._keybindingService=ve,this._notificationService=Ce,this._contextKeyService=ye,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Ne.MutableDisposable),this._altKey=he.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(j){return fi(this,void 0,void 0,(function*(){j.preventDefault(),j.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(j){this._notificationService.error(j)}}))}render(j){super.render(j),j.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let te=!1,ve=this._altKey.keyStatus.altKey||(Oe.isWindows||Oe.isLinux)&&this._altKey.keyStatus.shiftKey;const k=()=>{const j=te&&ve;j!==this._wantsAltCommand&&(this._wantsAltCommand=j,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event((j=>{ve=j.altKey||(Oe.isWindows||Oe.isLinux)&&j.shiftKey,k()}))),this._register((0,he.addDisposableListener)(j,"mouseleave",(j=>{te=!1,k()}))),this._register((0,he.addDisposableListener)(j,"mouseenter",(j=>{te=!0,k()})))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const j=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),te=j&&j.getLabel(),he=this._commandAction.tooltip||this._commandAction.label;let ve=te?(0,Ke.localize)(0,null,he,te):he;if(!this._wantsAltCommand&&this._menuItemAction.alt){const j=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,te=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),he=te&&te.getLabel(),Ce=he?(0,Ke.localize)(1,null,j,he):j;ve+=`\n[${Ie.UILabelProvider.modifierLabels[Oe.OS].altKey}] ${Ce}`}this.label.title=ve}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(j){var te;this._itemClassDispose.value=void 0;const{element:ve,label:Ce}=this;if(!ve||!Ce)return;const ye=this._commandAction.checked&&(null===(te=j.toggled)||void 0===te?void 0:te.icon)?j.toggled.icon:j.icon;if(ye)if(ct.ThemeIcon.isThemeIcon(ye)){const j=ct.ThemeIcon.asClassNameArray(ye);Ce.classList.add(...j),this._itemClassDispose.value=(0,Ne.toDisposable)((()=>{Ce.classList.remove(...j)}))}else ye.light&&Ce.style.setProperty("--menu-entry-icon-light",(0,he.asCSSUrl)(ye.light)),ye.dark&&Ce.style.setProperty("--menu-entry-icon-dark",(0,he.asCSSUrl)(ye.dark)),Ce.classList.add("icon"),this._itemClassDispose.value=(0,Ne.toDisposable)((()=>{Ce.classList.remove("icon"),Ce.style.removeProperty("--menu-entry-icon-light"),Ce.style.removeProperty("--menu-entry-icon-dark")}))}};ht=Ci([Zi(2,nt.IKeybindingService),Zi(3,rt.INotificationService),Zi(4,Ze.IContextKeyService)],ht),te.MenuEntryActionViewItem=ht;let mt=class extends ye.DropdownMenuActionViewItem{constructor(j,te,he){var ve,Ce;const ye=Object.assign({},te??Object.create(null),{menuAsChild:null!==(ve=null==te?void 0:te.menuAsChild)&&void 0!==ve&&ve,classNames:null!==(Ce=null==te?void 0:te.classNames)&&void 0!==Ce?Ce:ct.ThemeIcon.isThemeIcon(j.item.icon)?ct.ThemeIcon.asClassName(j.item.icon):void 0});super(j,{getActions:()=>j.actions},he,ye)}render(j){if(super.render(j),this.element){j.classList.add("menu-entry");const{icon:te}=this._action.item;te&&!ct.ThemeIcon.isThemeIcon(te)&&(this.element.classList.add("icon"),te.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,he.asCSSUrl)(te.light)),te.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,he.asCSSUrl)(te.dark)))}}};mt=Ci([Zi(2,Ye.IContextMenuService)],mt),te.SubmenuEntryActionViewItem=mt;let pt=class extends Ce.BaseActionViewItem{constructor(j,te,he,ve,Ce,Ie,Ne,Oe){var Ke,Ze,Ye;super(null,j),this._keybindingService=he,this._notificationService=ve,this._contextMenuService=Ce,this._menuService=Ie,this._instaService=Ne,this._storageService=Oe,this._container=null,this._storageKey=`${j.item.submenu._debugName}_lastActionId`;let et,nt=Oe.get(this._storageKey,1);nt&&(et=j.actions.find((j=>nt===j.id))),et||(et=j.actions[0]),this._defaultAction=this._instaService.createInstance(ht,et,void 0);const rt=Object.assign({},te??Object.create(null),{menuAsChild:null===(Ke=null==te?void 0:te.menuAsChild)||void 0===Ke||Ke,classNames:null!==(Ze=null==te?void 0:te.classNames)&&void 0!==Ze?Ze:["codicon","codicon-chevron-down"],actionRunner:null!==(Ye=null==te?void 0:te.actionRunner)&&void 0!==Ye?Ye:new Ee.ActionRunner});this._dropdown=new ye.DropdownMenuActionViewItem(j,j.actions,this._contextMenuService,rt),this._dropdown.actionRunner.onDidRun((j=>{j.action instanceof je.MenuItemAction&&this.update(j.action)}))}update(j){this._storageService.store(this._storageKey,j.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(ht,j,void 0),this._defaultAction.actionRunner=new class extends Ee.ActionRunner{runAction(j,te){return fi(this,void 0,void 0,(function*(){yield j.run(void 0)}))}},this._container&&this._defaultAction.render((0,he.prepend)(this._container,(0,he.$)(".action-container")))}setActionContext(j){super.setActionContext(j),this._defaultAction.setActionContext(j),this._dropdown.setActionContext(j)}render(j){this._container=j,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const te=(0,he.$)(".action-container");this._defaultAction.render((0,he.append)(this._container,te)),this._register((0,he.addDisposableListener)(te,he.EventType.KEY_DOWN,(j=>{const te=new ve.StandardKeyboardEvent(j);te.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),te.stopPropagation())})));const Ce=(0,he.$)(".dropdown-action-container");this._dropdown.render((0,he.append)(this._container,Ce)),this._register((0,he.addDisposableListener)(Ce,he.EventType.KEY_DOWN,(j=>{var te;const he=new ve.StandardKeyboardEvent(j);he.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(te=this._defaultAction.element)||void 0===te||te.focus(),he.stopPropagation())})))}focus(j){j?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(j){j?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};pt=Ci([Zi(2,nt.IKeybindingService),Zi(3,rt.INotificationService),Zi(4,Ye.IContextMenuService),Zi(5,je.IMenuService),Zi(6,et.IInstantiationService),Zi(7,at.IStorageService)],pt),te.createActionViewItem=function C(j,te,he){return te instanceof je.MenuItemAction?j.createInstance(ht,te,void 0):te instanceof je.SubmenuItemAction?te.item.rememberDefaultAction?j.createInstance(pt,te,he):j.createInstance(mt,te,he):void 0}})),define(Ce[685],ie([1,0,7,84,2,107,573,202,37,16,9]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.SuggestWidgetStatus=void 0;class t extends Ie.MenuEntryActionViewItem{updateLabel(){const j=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!j)return super.updateLabel();this.label&&(this.label.textContent=(0,Ee.localize)(0,null,this._action.label,t.symbolPrintEnter(j)))}static symbolPrintEnter(j){var te;return null===(te=j.getLabel())||void 0===te?void 0:te.replace(/\benter\b/gi,"⏎")}}let je=class{constructor(j,te,ye,Ee){this._menuService=ye,this._contextKeyService=Ee,this._menuDisposables=new Ce.DisposableStore,this.element=he.append(j,he.$(".suggest-status-bar"));const o=j=>j instanceof Ne.MenuItemAction?te.createInstance(t,j,void 0):void 0;this._leftActions=new ve.ActionBar(this.element,{actionViewItemProvider:o}),this._rightActions=new ve.ActionBar(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const j=this._menuService.createMenu(ye.suggestWidgetStatusbarMenu,this._contextKeyService),c=()=>{const te=[],he=[];for(let[ve,Ce]of j.getActions())"left"===ve?te.push(...Ce):he.push(...Ce);this._leftActions.clear(),this._leftActions.push(te),this._rightActions.clear(),this._rightActions.push(he)};this._menuDisposables.add(j.onDidChange((()=>c()))),this._menuDisposables.add(j)}hide(){this._menuDisposables.clear()}};je=Ci([Zi(1,Ke.IInstantiationService),Zi(2,Ne.IMenuService),Zi(3,Oe.IContextKeyService)],je),te.SuggestWidgetStatus=je})),define(Ce[686],ie([1,0,10,4,2,37,26,16]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.MenuService=void 0;let Ne=class{constructor(j){this._commandService=j}createMenu(j,te,he){return new Oe(j,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},he),this._commandService,te,this)}};Ne=Ci([Zi(0,Ee.ICommandService)],Ne),te.MenuService=Ne;let Oe=class Et{constructor(j,te,Ee,Ie,Ne){this._id=j,this._options=te,this._commandService=Ee,this._contextKeyService=Ie,this._menuService=Ne,this._disposables=new Ce.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const Oe=new he.RunOnceScheduler((()=>{this._build(),this._onDidChange.fire(this)}),te.eventDebounceDelay);this._disposables.add(Oe),this._disposables.add(ye.MenuRegistry.onDidChangeMenu((te=>{te.has(j)&&Oe.schedule()})));const Ke=this._disposables.add(new Ce.DisposableStore);this._onDidChange=new ve.Emitter({onFirstListenerAdd:()=>{const j=new he.RunOnceScheduler((()=>this._onDidChange.fire(this)),te.eventDebounceDelay);Ke.add(j),Ke.add(Ie.onDidChangeContext((te=>{te.affectsSome(this._contextKeys)&&j.schedule()})))},onLastListenerRemove:Ke.clear.bind(Ke)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const j=ye.MenuRegistry.getMenuItems(this._id);let te;j.sort(Et._compareMenuItems);for(const he of j){const j=he.group||"";(!te||te[0]!==j)&&(te=[j,[]],this._menuGroups.push(te)),te[1].push(he),this._collectContextKeys(he)}}_collectContextKeys(j){if(Et._fillInKbExprKeys(j.when,this._contextKeys),(0,ye.isIMenuItem)(j)){if(j.command.precondition&&Et._fillInKbExprKeys(j.command.precondition,this._contextKeys),j.command.toggled){const te=j.command.toggled.condition||j.command.toggled;Et._fillInKbExprKeys(te,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&ye.MenuRegistry.getMenuItems(j.submenu).forEach(this._collectContextKeys,this)}getActions(j){const te=[];for(let he of this._menuGroups){const[ve,Ce]=he,Ee=[];for(const te of Ce)if(this._contextKeyService.contextMatchesRules(te.when)){const he=(0,ye.isIMenuItem)(te)?new ye.MenuItemAction(te.command,te.alt,j,this._contextKeyService,this._commandService):new ye.SubmenuItemAction(te,this._menuService,this._contextKeyService,j);Ee.push(he)}Ee.length>0&&te.push([ve,Ee])}return te}static _fillInKbExprKeys(j,te){if(j)for(let he of j.keys())te.add(he)}static _compareMenuItems(j,te){let he=j.group,ve=te.group;if(he!==ve){if(!he)return 1;if(!ve)return-1;if("navigation"===he)return-1;if("navigation"===ve)return 1;let j=he.localeCompare(ve);if(0!==j)return j}let Ce=j.order||0,Ee=te.order||0;return Ce<Ee?-1:Ce>Ee?1:Et._compareTitles((0,ye.isIMenuItem)(j)?j.command.title:j.title,(0,ye.isIMenuItem)(te)?te.command.title:te.title)}static _compareTitles(j,te){const he="string"==typeof j?j:j.original,ve="string"==typeof te?te:te.original;return he.localeCompare(ve)}};Oe=Ci([Zi(2,Ee.ICommandService),Zi(3,Ie.IContextKeyService),Zi(4,ye.IMenuService)],Oe)})),define(Ce[687],ie([1,0,7,4,2,42,38,87,14,634,76]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.ContextMenuService=void 0;let je=class extends Ce.Disposable{constructor(j,te,he,Ce,ye){super(),this._onDidShowContextMenu=new ve.Emitter,this._onDidHideContextMenu=new ve.Emitter,this.contextMenuHandler=new Oe.ContextMenuHandler(he,j,te,Ce,ye)}configure(j){this.contextMenuHandler.configure(j)}showContextMenu(j){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},j),{onHide:te=>{j.onHide&&j.onHide(te),this._onDidHideContextMenu.fire()}})),he.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};je=Ci([Zi(0,Ie.ITelemetryService),Zi(1,Ee.INotificationService),Zi(2,Ke.IContextViewService),Zi(3,ye.IKeybindingService),Zi(4,Ne.IThemeService)],je),te.ContextMenuService=je})),define(Ce[157],ie([1,0,7,345,115,348,481,480,265,4,2,586,63,40,103,16,273,9,42,36,131,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt){Object.defineProperty(te,"__esModule",{value:!0}),te.WorkbenchCompressibleAsyncDataTree=te.WorkbenchAsyncDataTree=te.WorkbenchDataTree=te.WorkbenchCompressibleObjectTree=te.WorkbenchObjectTree=te.WorkbenchTable=te.WorkbenchPagedList=te.WorkbenchList=te.WorkbenchListAutomaticKeyboardNavigationKey=te.WorkbenchTreeElementHasChild=te.WorkbenchTreeElementCanExpand=te.WorkbenchTreeElementHasParent=te.WorkbenchTreeElementCanCollapse=te.WorkbenchListSelectionNavigation=te.WorkbenchListMultiSelection=te.WorkbenchListDoubleSelection=te.WorkbenchListHasSelectionOrFocus=te.WorkbenchListFocusContextKey=te.WorkbenchListSupportsMultiSelectContextKey=te.ListService=te.IListService=void 0,te.IListService=(0,at.createDecorator)("listService");let ft=class{constructor(j){this._themeService=j,this.disposables=new Ke.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(j){var te,he;j!==this._lastFocusedWidget&&(null===(te=this._lastFocusedWidget)||void 0===te||te.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=j,null===(he=this._lastFocusedWidget)||void 0===he||he.getHTMLElement().classList.add("last-focused"))}register(j,te){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const j=new Ce.DefaultStyleController((0,he.createStyleSheet)(),"");this.disposables.add((0,mt.attachListStyler)(j,this._themeService))}if(this.lists.some((te=>te.widget===j)))throw new Error("Cannot register the same widget multiple times");const ve={widget:j,extraContextKeys:te};return this.lists.push(ve),j.getHTMLElement()===document.activeElement&&this.setLastFocusedList(j),(0,Ke.combinedDisposable)(j.onDidFocus((()=>this.setLastFocusedList(j))),(0,Ke.toDisposable)((()=>this.lists.splice(this.lists.indexOf(ve),1))),j.onDidDispose((()=>{this.lists=this.lists.filter((j=>j!==ve)),this._lastFocusedWidget===j&&this.setLastFocusedList(void 0)})))}dispose(){this.disposables.dispose()}};ft=Ci([Zi(0,pt.IThemeService)],ft),te.ListService=ft;const _t=new nt.RawContextKey("listFocus",!0);function v(j,te){const he=j.createScoped(te.getHTMLElement());return _t.bindTo(he),he}te.WorkbenchListSupportsMultiSelectContextKey=new nt.RawContextKey("listSupportsMultiselect",!0),te.WorkbenchListFocusContextKey=nt.ContextKeyExpr.and(_t,nt.ContextKeyExpr.not(rt.InputFocusedContextKey)),te.WorkbenchListHasSelectionOrFocus=new nt.RawContextKey("listHasSelectionOrFocus",!1),te.WorkbenchListDoubleSelection=new nt.RawContextKey("listDoubleSelection",!1),te.WorkbenchListMultiSelection=new nt.RawContextKey("listMultiSelection",!1),te.WorkbenchListSelectionNavigation=new nt.RawContextKey("listSelectionNavigation",!1),te.WorkbenchTreeElementCanCollapse=new nt.RawContextKey("treeElementCanCollapse",!1),te.WorkbenchTreeElementHasParent=new nt.RawContextKey("treeElementHasParent",!1),te.WorkbenchTreeElementCanExpand=new nt.RawContextKey("treeElementCanExpand",!1),te.WorkbenchTreeElementHasChild=new nt.RawContextKey("treeElementHasChild",!1),te.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation";const Ct="workbench.list.multiSelectModifier",bt="workbench.list.openMode",St="workbench.list.horizontalScrolling",Dt="workbench.list.keyboardNavigation",It="workbench.list.automaticKeyboardNavigation",kt="workbench.tree.indent",At="workbench.tree.renderIndentGuides",Pt="workbench.list.smoothScrolling",Kt="workbench.list.mouseWheelScrollSensitivity",Ut="workbench.list.fastScrollSensitivity",jt="workbench.tree.expandMode";function P(j){return"alt"===j.getValue(Ct)}class F extends Ke.Disposable{constructor(j){super(),this.configurationService=j,this.useAltAsMultipleSelectionModifier=P(j),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((j=>{j.affectsConfiguration(Ct)&&(this.useAltAsMultipleSelectionModifier=P(this.configurationService))})))}isSelectionSingleChangeEvent(j){return this.useAltAsMultipleSelectionModifier?j.browserEvent.altKey:(0,Ce.isSelectionSingleChangeEvent)(j)}isSelectionRangeChangeEvent(j){return(0,Ce.isSelectionRangeChangeEvent)(j)}}function W(j,te,he){var ve;const Ce=new Ke.DisposableStore;return[Object.assign(Object.assign({},j),{keyboardNavigationDelegate:{mightProducePrintableCharacter:j=>he.mightProducePrintableCharacter(j)},smoothScrolling:Boolean(te.getValue(Pt)),mouseWheelScrollSensitivity:te.getValue(Kt),fastScrollSensitivity:te.getValue(Ut),multipleSelectionController:null!==(ve=j.multipleSelectionController)&&void 0!==ve?ve:Ce.add(new F(te))}),Ce]}let $t=class extends Ce.List{constructor(j,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){const je=void 0!==ye.horizontalScrolling?ye.horizontalScrolling:Boolean(Oe.getValue(St)),[Ze,Ye]=W(ye,Oe,Ke);super(j,he,ve,Ce,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,mt.computeStyles)(Ne.getColorTheme(),mt.defaultListStyles)),Ze),{horizontalScrolling:je})),this.disposables.add(Ye),this.contextKeyService=v(Ee,this),this.themeService=Ne,this.listSupportsMultiSelect=te.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==ye.multipleSelectionSupport),te.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ye.selectionNavigation)),this.listHasSelectionOrFocus=te.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=te.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=te.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ye.horizontalScrolling,this._useAltAsMultipleSelectionModifier=P(Oe),this.disposables.add(this.contextKeyService),this.disposables.add(Ie.register(this)),ye.overrideStyles&&this.updateStyles(ye.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const j=this.getSelection(),te=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(j.length>0||te.length>0),this.listMultiSelection.set(j.length>1),this.listDoubleSelection.set(2===j.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const j=this.getSelection(),te=this.getFocus();this.listHasSelectionOrFocus.set(j.length>0||te.length>0)}))),this.disposables.add(Oe.onDidChangeConfiguration((j=>{j.affectsConfiguration(Ct)&&(this._useAltAsMultipleSelectionModifier=P(Oe));let te={};if(j.affectsConfiguration(St)&&void 0===this.horizontalScrolling){const j=Boolean(Oe.getValue(St));te=Object.assign(Object.assign({},te),{horizontalScrolling:j})}if(j.affectsConfiguration(Pt)){const j=Boolean(Oe.getValue(Pt));te=Object.assign(Object.assign({},te),{smoothScrolling:j})}if(j.affectsConfiguration(Kt)){const j=Oe.getValue(Kt);te=Object.assign(Object.assign({},te),{mouseWheelScrollSensitivity:j})}if(j.affectsConfiguration(Ut)){const j=Oe.getValue(Ut);te=Object.assign(Object.assign({},te),{fastScrollSensitivity:j})}Object.keys(te).length>0&&this.updateOptions(te)}))),this.navigator=new G(this,Object.assign({configurationService:Oe},ye)),this.disposables.add(this.navigator)}updateOptions(j){super.updateOptions(j),j.overrideStyles&&this.updateStyles(j.overrideStyles),void 0!==j.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!j.multipleSelectionSupport)}updateStyles(j){var te;null===(te=this._styler)||void 0===te||te.dispose(),this._styler=(0,mt.attachListStyler)(this,this.themeService,j)}dispose(){var j;null===(j=this._styler)||void 0===j||j.dispose(),super.dispose()}};$t=Ci([Zi(5,nt.IContextKeyService),Zi(6,te.IListService),Zi(7,pt.IThemeService),Zi(8,Ye.IConfigurationService),Zi(9,ct.IKeybindingService)],$t),te.WorkbenchList=$t;let qt=class extends ve.PagedList{constructor(j,he,ve,Ce,ye,Ee,Ie,Ne,Oe,je){const Ze=void 0!==ye.horizontalScrolling?ye.horizontalScrolling:Boolean(Oe.getValue(St)),[Ye,et]=W(ye,Oe,je);super(j,he,ve,Ce,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,mt.computeStyles)(Ne.getColorTheme(),mt.defaultListStyles)),Ye),{horizontalScrolling:Ze})),this.disposables=new Ke.DisposableStore,this.disposables.add(et),this.contextKeyService=v(Ee,this),this.themeService=Ne,this.horizontalScrolling=ye.horizontalScrolling,this.listSupportsMultiSelect=te.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==ye.multipleSelectionSupport),te.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ye.selectionNavigation)),this._useAltAsMultipleSelectionModifier=P(Oe),this.disposables.add(this.contextKeyService),this.disposables.add(Ie.register(this)),ye.overrideStyles&&this.updateStyles(ye.overrideStyles),ye.overrideStyles&&this.disposables.add((0,mt.attachListStyler)(this,Ne,ye.overrideStyles)),this.disposables.add(Oe.onDidChangeConfiguration((j=>{j.affectsConfiguration(Ct)&&(this._useAltAsMultipleSelectionModifier=P(Oe));let te={};if(j.affectsConfiguration(St)&&void 0===this.horizontalScrolling){const j=Boolean(Oe.getValue(St));te=Object.assign(Object.assign({},te),{horizontalScrolling:j})}if(j.affectsConfiguration(Pt)){const j=Boolean(Oe.getValue(Pt));te=Object.assign(Object.assign({},te),{smoothScrolling:j})}if(j.affectsConfiguration(Kt)){const j=Oe.getValue(Kt);te=Object.assign(Object.assign({},te),{mouseWheelScrollSensitivity:j})}if(j.affectsConfiguration(Ut)){const j=Oe.getValue(Ut);te=Object.assign(Object.assign({},te),{fastScrollSensitivity:j})}Object.keys(te).length>0&&this.updateOptions(te)}))),this.navigator=new G(this,Object.assign({configurationService:Oe},ye)),this.disposables.add(this.navigator)}updateOptions(j){super.updateOptions(j),j.overrideStyles&&this.updateStyles(j.overrideStyles),void 0!==j.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!j.multipleSelectionSupport)}updateStyles(j){var te;null===(te=this._styler)||void 0===te||te.dispose(),this._styler=(0,mt.attachListStyler)(this,this.themeService,j)}dispose(){var j;null===(j=this._styler)||void 0===j||j.dispose(),this.disposables.dispose(),super.dispose()}};qt=Ci([Zi(5,nt.IContextKeyService),Zi(6,te.IListService),Zi(7,pt.IThemeService),Zi(8,Ye.IConfigurationService),Zi(9,ct.IKeybindingService)],qt),te.WorkbenchPagedList=qt;let Gt=class extends ye.Table{constructor(j,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){const Ze=void 0!==Ee.horizontalScrolling?Ee.horizontalScrolling:Boolean(Ke.getValue(St)),[Ye,et]=W(Ee,Ke,je);super(j,he,ve,Ce,ye,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,mt.computeStyles)(Oe.getColorTheme(),mt.defaultListStyles)),Ye),{horizontalScrolling:Ze})),this.disposables.add(et),this.contextKeyService=v(Ie,this),this.themeService=Oe,this.listSupportsMultiSelect=te.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Ee.multipleSelectionSupport),te.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(Ee.selectionNavigation)),this.listHasSelectionOrFocus=te.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=te.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=te.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Ee.horizontalScrolling,this._useAltAsMultipleSelectionModifier=P(Ke),this.disposables.add(this.contextKeyService),this.disposables.add(Ne.register(this)),Ee.overrideStyles&&this.updateStyles(Ee.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const j=this.getSelection(),te=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(j.length>0||te.length>0),this.listMultiSelection.set(j.length>1),this.listDoubleSelection.set(2===j.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const j=this.getSelection(),te=this.getFocus();this.listHasSelectionOrFocus.set(j.length>0||te.length>0)}))),this.disposables.add(Ke.onDidChangeConfiguration((j=>{j.affectsConfiguration(Ct)&&(this._useAltAsMultipleSelectionModifier=P(Ke));let te={};if(j.affectsConfiguration(St)&&void 0===this.horizontalScrolling){const j=Boolean(Ke.getValue(St));te=Object.assign(Object.assign({},te),{horizontalScrolling:j})}if(j.affectsConfiguration(Pt)){const j=Boolean(Ke.getValue(Pt));te=Object.assign(Object.assign({},te),{smoothScrolling:j})}if(j.affectsConfiguration(Kt)){const j=Ke.getValue(Kt);te=Object.assign(Object.assign({},te),{mouseWheelScrollSensitivity:j})}if(j.affectsConfiguration(Ut)){const j=Ke.getValue(Ut);te=Object.assign(Object.assign({},te),{fastScrollSensitivity:j})}Object.keys(te).length>0&&this.updateOptions(te)}))),this.navigator=new re(this,Object.assign({configurationService:Ke},Ee)),this.disposables.add(this.navigator)}updateOptions(j){super.updateOptions(j),j.overrideStyles&&this.updateStyles(j.overrideStyles),void 0!==j.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!j.multipleSelectionSupport)}updateStyles(j){var te;null===(te=this._styler)||void 0===te||te.dispose(),this._styler=(0,mt.attachListStyler)(this,this.themeService,j)}dispose(){var j;null===(j=this._styler)||void 0===j||j.dispose(),this.disposables.dispose(),super.dispose()}};Gt=Ci([Zi(6,nt.IContextKeyService),Zi(7,te.IListService),Zi(8,pt.IThemeService),Zi(9,Ye.IConfigurationService),Zi(10,ct.IKeybindingService)],Gt),te.WorkbenchTable=Gt;class X extends Ke.Disposable{constructor(j,te){var he;super(),this.widget=j,this._onDidOpen=this._register(new Oe.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(Oe.Event.filter(this.widget.onDidChangeSelection,(j=>j.browserEvent instanceof KeyboardEvent))((j=>this.onSelectionFromKeyboard(j)))),this._register(this.widget.onPointer((j=>this.onPointer(j.element,j.browserEvent)))),this._register(this.widget.onMouseDblClick((j=>this.onMouseDblClick(j.element,j.browserEvent)))),"boolean"!=typeof(null==te?void 0:te.openOnSingleClick)&&(null==te?void 0:te.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==te?void 0:te.configurationService.getValue(bt)),this._register(null==te?void 0:te.configurationService.onDidChangeConfiguration((()=>{this.openOnSingleClick="doubleClick"!==(null==te?void 0:te.configurationService.getValue(bt))})))):this.openOnSingleClick=null===(he=null==te?void 0:te.openOnSingleClick)||void 0===he||he}onSelectionFromKeyboard(j){if(1!==j.elements.length)return;const te=j.browserEvent,he="boolean"!=typeof te.preserveFocus||te.preserveFocus,ve="boolean"==typeof te.pinned?te.pinned:!he;this._open(this.getSelectedElement(),he,ve,!1,j.browserEvent)}onPointer(j,te){if(!this.openOnSingleClick||2===te.detail)return;const he=1===te.button,ve=te.ctrlKey||te.metaKey||te.altKey;this._open(j,!0,he,ve,te)}onMouseDblClick(j,te){if(!te)return;const he=te.target;if(he.classList.contains("monaco-tl-twistie")||he.classList.contains("monaco-icon-label")&&he.classList.contains("folder-icon")&&te.offsetX<16)return;const ve=te.ctrlKey||te.metaKey||te.altKey;this._open(j,!1,!0,ve,te)}_open(j,te,he,ve,Ce){!j||this._onDidOpen.fire({editorOptions:{preserveFocus:te,pinned:he,revealIfVisible:!0},sideBySide:ve,element:j,browserEvent:Ce})}}class G extends X{constructor(j,te){super(j,te),this.widget=j}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class re extends X{constructor(j,te){super(j,te)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ae extends X{constructor(j,te){super(j,te)}getSelectedElement(){var j;return null!==(j=this.widget.getSelection()[0])&&void 0!==j?j:void 0}}function oe(j,te){let he=!1;return ve=>{if(ve.toKeybinding().isModifierKey())return!1;if(he)return he=!1,!1;const Ce=te.softDispatch(ve,j);return Ce&&Ce.enterChord?(he=!0,!1):(he=!1,!0)}}let Zt=class extends Ne.ObjectTree{constructor(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){const{options:je,getAutomaticKeyboardNavigation:Ze,disposable:Ye}=ce(te,Ce,ye,Ne,Oe,Ke);super(j,te,he,ve,je),this.disposables.add(Ye),this.internals=new hi(this,Ce,Ze,Ce.overrideStyles,ye,Ee,Ie,Ne,Ke),this.disposables.add(this.internals)}updateOptions(j){super.updateOptions(j),this.internals.updateOptions(j)}};Zt=Ci([Zi(5,nt.IContextKeyService),Zi(6,te.IListService),Zi(7,pt.IThemeService),Zi(8,Ye.IConfigurationService),Zi(9,ct.IKeybindingService),Zi(10,Ze.IAccessibilityService)],Zt),te.WorkbenchObjectTree=Zt;let Yt=class extends Ne.CompressibleObjectTree{constructor(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){const{options:je,getAutomaticKeyboardNavigation:Ze,disposable:Ye}=ce(te,Ce,ye,Ne,Oe,Ke);super(j,te,he,ve,je),this.disposables.add(Ye),this.internals=new hi(this,Ce,Ze,Ce.overrideStyles,ye,Ee,Ie,Ne,Ke),this.disposables.add(this.internals)}updateOptions(j={}){super.updateOptions(j),j.overrideStyles&&this.internals.updateStyleOverrides(j.overrideStyles),this.internals.updateOptions(j)}};Yt=Ci([Zi(5,nt.IContextKeyService),Zi(6,te.IListService),Zi(7,pt.IThemeService),Zi(8,Ye.IConfigurationService),Zi(9,ct.IKeybindingService),Zi(10,Ze.IAccessibilityService)],Yt),te.WorkbenchCompressibleObjectTree=Yt;let li=class extends Ie.DataTree{constructor(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){const{options:Ze,getAutomaticKeyboardNavigation:Ye,disposable:et}=ce(te,ye,Ee,Oe,Ke,je);super(j,te,he,ve,Ce,Ze),this.disposables.add(et),this.internals=new hi(this,ye,Ye,ye.overrideStyles,Ee,Ie,Ne,Oe,je),this.disposables.add(this.internals)}updateOptions(j={}){super.updateOptions(j),j.overrideStyles&&this.internals.updateStyleOverrides(j.overrideStyles),this.internals.updateOptions(j)}};li=Ci([Zi(6,nt.IContextKeyService),Zi(7,te.IListService),Zi(8,pt.IThemeService),Zi(9,Ye.IConfigurationService),Zi(10,ct.IKeybindingService),Zi(11,Ze.IAccessibilityService)],li),te.WorkbenchDataTree=li;let di=class extends Ee.AsyncDataTree{constructor(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){const{options:Ze,getAutomaticKeyboardNavigation:Ye,disposable:et}=ce(te,ye,Ee,Oe,Ke,je);super(j,te,he,ve,Ce,Ze),this.disposables.add(et),this.internals=new hi(this,ye,Ye,ye.overrideStyles,Ee,Ie,Ne,Oe,je),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(j={}){super.updateOptions(j),j.overrideStyles&&this.internals.updateStyleOverrides(j.overrideStyles),this.internals.updateOptions(j)}};di=Ci([Zi(6,nt.IContextKeyService),Zi(7,te.IListService),Zi(8,pt.IThemeService),Zi(9,Ye.IConfigurationService),Zi(10,ct.IKeybindingService),Zi(11,Ze.IAccessibilityService)],di),te.WorkbenchAsyncDataTree=di;let ci=class extends Ee.CompressibleAsyncDataTree{constructor(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){const{options:Ye,getAutomaticKeyboardNavigation:et,disposable:nt}=ce(te,Ee,Ie,Ke,je,Ze);super(j,te,he,ve,Ce,ye,Ye),this.disposables.add(nt),this.internals=new hi(this,Ee,et,Ee.overrideStyles,Ie,Ne,Oe,Ke,Ze),this.disposables.add(this.internals)}updateOptions(j){super.updateOptions(j),this.internals.updateOptions(j)}};function ce(j,he,ve,Ce,ye,Ee){var Ie;const ge=()=>{let j=Boolean(ve.getContextKeyValue(te.WorkbenchListAutomaticKeyboardNavigationKey));return j&&(j=Boolean(Ce.getValue(It))),j},Ne=Ee.isScreenReaderOptimized(),Oe=he.simpleKeyboardNavigation||Ne?"simple":Ce.getValue(Dt),Ke=void 0!==he.horizontalScrolling?he.horizontalScrolling:Boolean(Ce.getValue(St)),[je,Ze]=W(he,Ce,ye),Ye=he.additionalScrollHeight;return{getAutomaticKeyboardNavigation:ge,disposable:Ze,options:Object.assign(Object.assign({keyboardSupport:!1},je),{indent:"number"==typeof Ce.getValue(kt)?Ce.getValue(kt):void 0,renderIndentGuides:Ce.getValue(At),smoothScrolling:Boolean(Ce.getValue(Pt)),automaticKeyboardNavigation:ge(),simpleKeyboardNavigation:"simple"===Oe,filterOnType:"filter"===Oe,horizontalScrolling:Ke,keyboardNavigationEventFilter:oe(j,ye),additionalScrollHeight:Ye,hideTwistiesOfChildlessElements:he.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(Ie=he.expandOnlyOnTwistieClick)&&void 0!==Ie?Ie:"doubleClick"===Ce.getValue(jt)})}}ci=Ci([Zi(7,nt.IContextKeyService),Zi(8,te.IListService),Zi(9,pt.IThemeService),Zi(10,Ye.IConfigurationService),Zi(11,ct.IKeybindingService),Zi(12,Ze.IAccessibilityService)],ci),te.WorkbenchCompressibleAsyncDataTree=ci;let hi=class{constructor(j,he,ve,Ce,ye,Ee,Ie,Ne,Oe){this.tree=j,this.themeService=Ie,this.disposables=[],this.contextKeyService=v(ye,j),this.listSupportsMultiSelect=te.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==he.multipleSelectionSupport),te.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(he.selectionNavigation)),this.hasSelectionOrFocus=te.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=te.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=te.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=te.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=te.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=te.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=te.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=P(Ne);const Ke=new Set;Ke.add(te.WorkbenchListAutomaticKeyboardNavigationKey);const pe=()=>{const te=Oe.isScreenReaderOptimized()?"simple":Ne.getValue(Dt);j.updateOptions({simpleKeyboardNavigation:"simple"===te,filterOnType:"filter"===te})};this.updateStyleOverrides(Ce);const be=()=>{const te=j.getFocus()[0];if(!te)return;const he=j.getNode(te);this.treeElementCanCollapse.set(he.collapsible&&!he.collapsed),this.treeElementHasParent.set(!!j.getParentElement(te)),this.treeElementCanExpand.set(he.collapsible&&he.collapsed),this.treeElementHasChild.set(!!j.getFirstElementChild(te))};this.disposables.push(this.contextKeyService,Ee.register(j),j.onDidChangeSelection((()=>{const te=j.getSelection(),he=j.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.hasSelectionOrFocus.set(te.length>0||he.length>0),this.hasMultiSelection.set(te.length>1),this.hasDoubleSelection.set(2===te.length)}))})),j.onDidChangeFocus((()=>{const te=j.getSelection(),he=j.getFocus();this.hasSelectionOrFocus.set(te.length>0||he.length>0),be()})),j.onDidChangeCollapseState(be),j.onDidChangeModel(be),Ne.onDidChangeConfiguration((te=>{let Ce={};if(te.affectsConfiguration(Ct)&&(this._useAltAsMultipleSelectionModifier=P(Ne)),te.affectsConfiguration(kt)){const j=Ne.getValue(kt);Ce=Object.assign(Object.assign({},Ce),{indent:j})}if(te.affectsConfiguration(At)){const j=Ne.getValue(At);Ce=Object.assign(Object.assign({},Ce),{renderIndentGuides:j})}if(te.affectsConfiguration(Pt)){const j=Boolean(Ne.getValue(Pt));Ce=Object.assign(Object.assign({},Ce),{smoothScrolling:j})}if(te.affectsConfiguration(Dt)&&pe(),te.affectsConfiguration(It)&&(Ce=Object.assign(Object.assign({},Ce),{automaticKeyboardNavigation:ve()})),te.affectsConfiguration(St)&&void 0===he.horizontalScrolling){const j=Boolean(Ne.getValue(St));Ce=Object.assign(Object.assign({},Ce),{horizontalScrolling:j})}if(te.affectsConfiguration(jt)&&void 0===he.expandOnlyOnTwistieClick&&(Ce=Object.assign(Object.assign({},Ce),{expandOnlyOnTwistieClick:"doubleClick"===Ne.getValue(jt)})),te.affectsConfiguration(Kt)){const j=Ne.getValue(Kt);Ce=Object.assign(Object.assign({},Ce),{mouseWheelScrollSensitivity:j})}if(te.affectsConfiguration(Ut)){const j=Ne.getValue(Ut);Ce=Object.assign(Object.assign({},Ce),{fastScrollSensitivity:j})}Object.keys(Ce).length>0&&j.updateOptions(Ce)})),this.contextKeyService.onDidChangeContext((te=>{te.affectsSome(Ke)&&j.updateOptions({automaticKeyboardNavigation:ve()})})),Oe.onDidChangeScreenReaderOptimized((()=>pe()))),this.navigator=new ae(j,Object.assign({configurationService:Ne},he)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(j){void 0!==j.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!j.multipleSelectionSupport)}updateStyleOverrides(j){(0,Ke.dispose)(this.styler),this.styler=j?(0,mt.attachListStyler)(this.tree,this.themeService,j):Ke.Disposable.None}dispose(){this.disposables=(0,Ke.dispose)(this.disposables),(0,Ke.dispose)(this.styler),this.styler=void 0}};hi=Ci([Zi(4,nt.IContextKeyService),Zi(5,te.IListService),Zi(6,pt.IThemeService),Zi(7,Ye.IConfigurationService),Zi(8,Ze.IAccessibilityService)],hi),ht.Registry.as(et.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,je.localize)(0,null),type:"object",properties:{[Ct]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,je.localize)(1,null),(0,je.localize)(2,null)],default:"ctrlCmd",description:(0,je.localize)(3,null)},[bt]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,je.localize)(4,null)},[St]:{type:"boolean",default:!1,description:(0,je.localize)(5,null)},[kt]:{type:"number",default:8,minimum:4,maximum:40,description:(0,je.localize)(6,null)},[At]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,je.localize)(7,null)},[Pt]:{type:"boolean",default:!1,description:(0,je.localize)(8,null)},[Kt]:{type:"number",default:1,description:(0,je.localize)(9,null)},[Ut]:{type:"number",default:5,description:(0,je.localize)(10,null)},[Dt]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,je.localize)(11,null),(0,je.localize)(12,null),(0,je.localize)(13,null)],default:"highlight",description:(0,je.localize)(14,null)},[It]:{type:"boolean",default:!0,markdownDescription:(0,je.localize)(15,null)},[jt]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,je.localize)(16,null)}}})})),define(Ce[688],ie([1,0,7,89,46,57,4,2,51,23,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.Link=void 0;let je=class extends Ie.Disposable{constructor(j,te,Ie={},Ne){var Oe;super(),this._link=te,this._enabled=!0,this.el=(0,he.append)(j,(0,he.$)("a.monaco-link",{tabIndex:null!==(Oe=te.tabIndex)&&void 0!==Oe?Oe:0,href:te.href,title:te.title},te.label)),this.el.setAttribute("role","button");const Ke=this._register(new ve.DomEmitter(this.el,"click")),je=this._register(new ve.DomEmitter(this.el,"keypress")),Ze=Ee.Event.chain(je.event).map((j=>new Ce.StandardKeyboardEvent(j))).filter((j=>3===j.keyCode)).event,Ye=this._register(new ve.DomEmitter(this.el,ye.EventType.Tap)).event;this._register(ye.Gesture.addTarget(this.el));const et=Ee.Event.any(Ke.event,Ze,Ye);this._register(et((j=>{!this.enabled||(he.EventHelper.stop(j,!0),(null==Ie?void 0:Ie.opener)?Ie.opener(this._link.href):Ne.open(this._link.href,{allowCommands:!0}))}))),this.enabled=!0}get enabled(){return this._enabled}set enabled(j){j?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=j}};je=Ci([Zi(3,Ne.IOpenerService)],je),te.Link=je,(0,Ke.registerThemingParticipant)(((j,te)=>{const he=j.getColor(Oe.textLinkForeground);he&&te.addRule(`.monaco-link { color: ${he}; }`);const ve=j.getColor(Oe.textLinkActiveForeground);ve&&te.addRule(`.monaco-link:hover { color: ${ve}; }`)}))})),define(Ce[689],ie([1,0,21,496,63,16,9,129,157,629,23,131,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){Object.defineProperty(te,"__esModule",{value:!0}),te.QuickInputService=void 0;let Ye=class extends Ze.Themable{constructor(j,te,he,ve,Ce){super(he),this.instantiationService=j,this.contextKeyService=te,this.accessibilityService=ve,this.layoutService=Ce,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Oe.QuickAccessController))),this._quickAccess}createController(j=this.layoutService,te){var he,Ce;const ye={idPrefix:"quickInput_",container:j.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:j=>this.setContextKey(j),returnFocus:()=>j.focus(),createList:(j,te,he,ve,Ce)=>this.instantiationService.createInstance(Ne.WorkbenchList,j,te,he,ve,Ce),styles:this.computeStyles()},Ee=this._register(new ve.QuickInputController(Object.assign(Object.assign({},ye),te)));return Ee.layout(j.dimension,null!==(Ce=null===(he=j.offset)||void 0===he?void 0:he.top)&&void 0!==Ce?Ce:0),this._register(j.onDidLayout((te=>{var he,ve;return Ee.layout(te,null!==(ve=null===(he=j.offset)||void 0===he?void 0:he.top)&&void 0!==ve?ve:0)}))),this._register(Ee.onShow((()=>this.resetContextKeys()))),this._register(Ee.onHide((()=>this.resetContextKeys()))),Ee}setContextKey(j){let te;j&&(te=this.contexts.get(j),te||(te=new ye.RawContextKey(j,!1).bindTo(this.contextKeyService),this.contexts.set(j,te))),(!te||!te.get())&&(this.resetContextKeys(),te&&te.set(!0))}resetContextKeys(){this.contexts.forEach((j=>{j.get()&&j.reset()}))}pick(j,te={},ve=he.CancellationToken.None){return this.controller.pick(j,te,ve)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,je.computeStyles)(this.theme,{quickInputBackground:Ke.quickInputBackground,quickInputForeground:Ke.quickInputForeground,quickInputTitleBackground:Ke.quickInputTitleBackground,contrastBorder:Ke.contrastBorder,widgetShadow:Ke.widgetShadow})),inputBox:(0,je.computeStyles)(this.theme,{inputForeground:Ke.inputForeground,inputBackground:Ke.inputBackground,inputBorder:Ke.inputBorder,inputValidationInfoBackground:Ke.inputValidationInfoBackground,inputValidationInfoForeground:Ke.inputValidationInfoForeground,inputValidationInfoBorder:Ke.inputValidationInfoBorder,inputValidationWarningBackground:Ke.inputValidationWarningBackground,inputValidationWarningForeground:Ke.inputValidationWarningForeground,inputValidationWarningBorder:Ke.inputValidationWarningBorder,inputValidationErrorBackground:Ke.inputValidationErrorBackground,inputValidationErrorForeground:Ke.inputValidationErrorForeground,inputValidationErrorBorder:Ke.inputValidationErrorBorder}),countBadge:(0,je.computeStyles)(this.theme,{badgeBackground:Ke.badgeBackground,badgeForeground:Ke.badgeForeground,badgeBorder:Ke.contrastBorder}),button:(0,je.computeStyles)(this.theme,{buttonForeground:Ke.buttonForeground,buttonBackground:Ke.buttonBackground,buttonHoverBackground:Ke.buttonHoverBackground,buttonBorder:Ke.contrastBorder}),progressBar:(0,je.computeStyles)(this.theme,{progressBarBackground:Ke.progressBarBackground}),keybindingLabel:(0,je.computeStyles)(this.theme,{keybindingLabelBackground:Ke.keybindingLabelBackground,keybindingLabelForeground:Ke.keybindingLabelForeground,keybindingLabelBorder:Ke.keybindingLabelBorder,keybindingLabelBottomBorder:Ke.keybindingLabelBottomBorder,keybindingLabelShadow:Ke.widgetShadow}),list:(0,je.computeStyles)(this.theme,{listBackground:Ke.quickInputBackground,listInactiveFocusForeground:Ke.quickInputListFocusForeground,listInactiveSelectionIconForeground:Ke.quickInputListFocusIconForeground,listInactiveFocusBackground:Ke.quickInputListFocusBackground,listFocusOutline:Ke.activeContrastBorder,listInactiveFocusOutline:Ke.activeContrastBorder,pickerGroupBorder:Ke.pickerGroupBorder,pickerGroupForeground:Ke.pickerGroupForeground})}}};Ye=Ci([Zi(0,Ee.IInstantiationService),Zi(1,ye.IContextKeyService),Zi(2,Ze.IThemeService),Zi(3,Ce.IAccessibilityService),Zi(4,Ie.ILayoutService)],Ye),te.QuickInputService=Ye})),define(Ce[690],ie([1,0,15,14,21,9,16,63,275,28,689,88,393]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){Object.defineProperty(te,"__esModule",{value:!0}),te.QuickInputEditorWidget=te.QuickInputEditorContribution=te.StandaloneQuickInputService=te.EditorScopedQuickInputService=void 0;let Ze=class extends Ke.QuickInputService{constructor(j,te,he,ve,Ce,ye){super(te,he,ve,Ce,new Ne.EditorScopedLayoutService(j.getContainerDomNode(),ye)),this.host=void 0;const Ee=l.get(j);if(Ee){const te=Ee.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return te.getDomNode()},get dimension(){return j.getLayoutInfo()},get onDidLayout(){return j.onDidLayoutChange},focus:()=>j.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};Ze=Ci([Zi(1,ye.IInstantiationService),Zi(2,Ee.IContextKeyService),Zi(3,ve.IThemeService),Zi(4,Ie.IAccessibilityService),Zi(5,Oe.ICodeEditorService)],Ze),te.EditorScopedQuickInputService=Ze;let Ye=class{constructor(j,te){this.instantiationService=j,this.codeEditorService=te,this.mapEditorToService=new Map}get activeService(){const j=this.codeEditorService.getFocusedCodeEditor();if(!j)throw new Error("Quick input service needs a focused editor to work.");let te=this.mapEditorToService.get(j);if(!te){const he=te=this.instantiationService.createInstance(Ze,j);this.mapEditorToService.set(j,te),(0,je.once)(j.onDidDispose)((()=>{he.dispose(),this.mapEditorToService.delete(j)}))}return te}get quickAccess(){return this.activeService.quickAccess}pick(j,te={},he=Ce.CancellationToken.None){return this.activeService.pick(j,te,he)}createQuickPick(){return this.activeService.createQuickPick()}};Ye=Ci([Zi(0,ye.IInstantiationService),Zi(1,Oe.ICodeEditorService)],Ye),te.StandaloneQuickInputService=Ye;class l{constructor(j){this.editor=j,this.widget=new c(this.editor)}static get(j){return j.getContribution(l.ID)}dispose(){this.widget.dispose()}}te.QuickInputEditorContribution=l,l.ID="editor.controller.quickInput";class c{constructor(j){this.codeEditor=j,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return c.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}te.QuickInputEditorWidget=c,c.ID="editor.contrib.quickInputWidget",(0,he.registerEditorContribution)(l.ID,l)})),define(Ce[691],ie([1,0,27,74,23,14]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.SeverityIcon=void 0,(te.SeverityIcon||(te.SeverityIcon={})).className=function p(j){switch(j){case ve.default.Ignore:return"severity-ignore "+he.Codicon.info.classNames;case ve.default.Info:return he.Codicon.info.classNames;case ve.default.Warning:return he.Codicon.warning.classNames;case ve.default.Error:return he.Codicon.error.classNames;default:return""}},(0,ye.registerThemingParticipant)(((j,te)=>{const ve=j.getColor(Ce.problemsErrorIconForeground);if(ve){const j=he.Codicon.error.cssSelector;te.addRule(`\n\t\t\t.monaco-editor .zone-widget ${j},\n\t\t\t.markers-panel .marker-icon${j},\n\t\t\t.text-search-provider-messages .providerMessage ${j},\n\t\t\t.extensions-viewlet > .extensions ${j} {\n\t\t\t\tcolor: ${ve};\n\t\t\t}\n\t\t`)}const ye=j.getColor(Ce.problemsWarningIconForeground);if(ye){const j=he.Codicon.warning.cssSelector;te.addRule(`\n\t\t\t.monaco-editor .zone-widget ${j},\n\t\t\t.markers-panel .marker-icon${j},\n\t\t\t.extensions-viewlet > .extensions ${j},\n\t\t\t.extension-editor ${j},\n\t\t\t.text-search-provider-messages .providerMessage ${j},\n\t\t\t.preferences-editor ${j} {\n\t\t\t\tcolor: ${ye};\n\t\t\t}\n\t\t`)}const Ee=j.getColor(Ce.problemsInfoIconForeground);if(Ee){const j=he.Codicon.info.cssSelector;te.addRule(`\n\t\t\t.monaco-editor .zone-widget ${j},\n\t\t\t.markers-panel .marker-icon${j},\n\t\t\t.extensions-viewlet > .extensions ${j},\n\t\t\t.text-search-provider-messages .providerMessage ${j},\n\t\t\t.extension-editor ${j} {\n\t\t\t\tcolor: ${Ee};\n\t\t\t}\n\t\t`)}}))})),define(Ce[72],ie([1,0,10,27,4,591,200,36,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.spinningLoading=te.syncing=te.gotoNextLocation=te.gotoPreviousLocation=te.widgetClose=te.iconsSchemaId=te.getIconRegistry=te.registerIcon=te.IconContribution=te.Extensions=void 0,te.Extensions={IconContribution:"base.contributions.icons"},(te.IconContribution||(te.IconContribution={})).getDefinition=function o(j,te){let he=j.defaults;for(;Ne.ThemeIcon.isThemeIcon(he);){const j=Oe.getIcon(he.id);if(!j)return;he=j.defaults}return he};const Oe=new class g{constructor(){this._onDidChange=new Ce.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,ye.localize)(0,null)},fontCharacter:{type:"string",description:(0,ye.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${ve.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(j,te,he,ve){const Ce=this.iconsById[j];if(Ce){if(he&&!Ce.description){Ce.description=he,this.iconSchema.properties[j].markdownDescription=`${he} $(${j})`;const te=this.iconReferenceSchema.enum.indexOf(j);-1!==te&&(this.iconReferenceSchema.enumDescriptions[te]=he),this._onDidChange.fire()}return Ce}let ye={id:j,description:he,defaults:te,deprecationMessage:ve};this.iconsById[j]=ye;let Ee={$ref:"#/definitions/icons"};return ve&&(Ee.deprecationMessage=ve),he&&(Ee.markdownDescription=`${he}: $(${j})`),this.iconSchema.properties[j]=Ee,this.iconReferenceSchema.enum.push(j),this.iconReferenceSchema.enumDescriptions.push(he||""),this._onDidChange.fire(),{id:j}}getIcons(){return Object.keys(this.iconsById).map((j=>this.iconsById[j]))}getIcon(j){return this.iconsById[j]}getIconSchema(){return this.iconSchema}toString(){const o=(j,te)=>j.id.localeCompare(te.id),a=j=>{for(;Ne.ThemeIcon.isThemeIcon(j.defaults);)j=this.iconsById[j.defaults.id];return`codicon codicon-${j?j.id:""}`};let j=[];j.push("| preview     | identifier                        | default codicon ID                | description"),j.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const te=Object.keys(this.iconsById).map((j=>this.iconsById[j]));for(const he of te.filter((j=>!!j.description)).sort(o))j.push(`|<i class="${a(he)}"></i>|${he.id}|${Ne.ThemeIcon.isThemeIcon(he.defaults)?he.defaults.id:he.id}|${he.description||""}|`);j.push("| preview     | identifier                        "),j.push("| ----------- | --------------------------------- |");for(const he of te.filter((j=>!Ne.ThemeIcon.isThemeIcon(j.defaults))).sort(o))j.push(`|<i class="${a(he)}"></i>|${he.id}|`);return j.join("\n")}};function i(j,te,he,ve){return Oe.registerIcon(j,te,he,ve)}Ie.Registry.add(te.Extensions.IconContribution,Oe),te.registerIcon=i,te.getIconRegistry=function n(){return Oe},function l(){for(const j of ve.Codicon.getAll())Oe.registerIcon(j.id,j.definition,j.description)}(),te.iconsSchemaId="vscode://schemas/icons";let Ke=Ie.Registry.as(Ee.Extensions.JSONContribution);Ke.registerSchema(te.iconsSchemaId,Oe.getIconSchema());const je=new he.RunOnceScheduler((()=>Ke.notifySchemaChanged(te.iconsSchemaId)),200);Oe.onDidChange((()=>{je.isScheduled()||je.schedule()})),te.widgetClose=i("widget-close",ve.Codicon.close,(0,ye.localize)(2,null)),te.gotoPreviousLocation=i("goto-previous-location",ve.Codicon.arrowUp,(0,ye.localize)(3,null)),te.gotoNextLocation=i("goto-next-location",ve.Codicon.arrowDown,(0,ye.localize)(4,null)),te.syncing=Ne.ThemeIcon.modify(ve.Codicon.sync,"spin"),te.spinningLoading=Ne.ThemeIcon.modify(ve.Codicon.loading,"spin")})),define(Ce[692],ie([1,0,502,7,30,84,67,44,2,62,15,28,31,75,11,52,122,69,16,23,14,27,72,35,366]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t){var Ct;Object.defineProperty(te,"__esModule",{value:!0}),te.DiffReview=void 0;class _{constructor(j,te,he,ve){this.originalLineStart=j,this.originalLineEnd=te,this.modifiedLineStart=he,this.modifiedLineEnd=ve}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class L{constructor(j){this.entries=j}}const bt=(0,ft.registerIcon)("diff-review-insert",pt.Codicon.add,he.localize(0,null)),St=(0,ft.registerIcon)("diff-review-remove",pt.Codicon.remove,he.localize(1,null)),Dt=(0,ft.registerIcon)("diff-review-close",pt.Codicon.close,he.localize(2,null));let It=class yt extends Ne.Disposable{constructor(j,te){super(),this._languageService=te,this._width=0,this._diffEditor=j,this._isVisible=!1,this.shadow=(0,Ce.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,Ce.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new ye.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new Ie.Action("diffreview.close",he.localize(3,null),"close-diff-review "+mt.ThemeIcon.asClassName(Dt),!0,(()=>fi(this,void 0,void 0,(function*(){return this.hide()})))),{label:!1,icon:!0}),this.domNode=(0,Ce.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,Ce.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new Ee.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(j.onDidUpdateDiff((()=>{!this._isVisible||(this._diffs=this._compute(),this._render())}))),this._register(j.getModifiedEditor().onDidChangeCursorPosition((()=>{!this._isVisible||this._render()}))),this._register(ve.addStandardDisposableListener(this.domNode.domNode,"click",(j=>{j.preventDefault();const te=ve.findParentWithClass(j.target,"diff-review-row");te&&this._goToRow(te)}))),this._register(ve.addStandardDisposableListener(this.domNode.domNode,"keydown",(j=>{(j.equals(18)||j.equals(2066)||j.equals(530))&&(j.preventDefault(),this._goToRow(this._getNextRow())),(j.equals(16)||j.equals(2064)||j.equals(528))&&(j.preventDefault(),this._goToRow(this._getPrevRow())),(j.equals(9)||j.equals(2057)||j.equals(521)||j.equals(1033))&&(j.preventDefault(),this.hide()),(j.equals(10)||j.equals(3))&&(j.preventDefault(),this.accept())}))),this._diffs=[],this._currentDiff=null}prev(){let j=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let te=-1;for(let j=0,he=this._diffs.length;j<he;j++)if(this._diffs[j]===this._currentDiff){te=j;break}j=this._diffs.length+te-1}else j=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;j%=this._diffs.length;const te=this._diffs[j].entries;this._diffEditor.setPosition(new et.Position(te[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:te[0].modifiedLineStart,endColumn:1073741824,endLineNumber:te[te.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let j=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let te=-1;for(let j=0,he=this._diffs.length;j<he;j++)if(this._diffs[j]===this._currentDiff){te=j;break}j=te+1}else j=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;j%=this._diffs.length;const te=this._diffs[j].entries;this._diffEditor.setPosition(new et.Position(te[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:te[0].modifiedLineStart,endColumn:1073741824,endLineNumber:te[te.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let j=-1;const te=this._getCurrentFocusedRow();if(te){const he=parseInt(te.getAttribute("data-line"),10);isNaN(he)||(j=he)}this.hide(),-1!==j&&(this._diffEditor.setPosition(new et.Position(j,1)),this._diffEditor.revealPosition(new et.Position(j,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const j=this._getCurrentFocusedRow();return j?j.previousElementSibling?j.previousElementSibling:j:this._getFirstRow()}_getNextRow(){const j=this._getCurrentFocusedRow();return j?j.nextElementSibling?j.nextElementSibling:j:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const j=document.activeElement;return j&&/diff-review-row/.test(j.className)?j:null}_goToRow(j){const te=this._getCurrentFocusedRow();j.tabIndex=0,j.focus(),te&&te!==j&&(te.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(j,te,he){this._width=te,this.shadow.setTop(j-6),this.shadow.setWidth(te),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(j),this.domNode.setWidth(te),this.domNode.setHeight(he),this._content.setHeight(he),this._content.setWidth(te),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const j=this._diffEditor.getLineChanges();if(!j||0===j.length)return[];const te=this._diffEditor.getOriginalEditor().getModel(),he=this._diffEditor.getModifiedEditor().getModel();return te&&he?yt._mergeAdjacent(j,te.getLineCount(),he.getLineCount()):[]}static _mergeAdjacent(j,te,he){if(!j||0===j.length)return[];const ve=[];let Ce=0;for(let ye=0,Ee=j.length;ye<Ee;ye++){const Ie=j[ye],Ne=Ie.originalStartLineNumber,Oe=Ie.originalEndLineNumber,Ke=Ie.modifiedStartLineNumber,je=Ie.modifiedEndLineNumber,Ze=[];let Ye=0;{const te=0===Oe?Ne:Ne-1,he=0===je?Ke:Ke-1;let ve=1,Ce=1;if(ye>0){const te=j[ye-1];ve=0===te.originalEndLineNumber?te.originalStartLineNumber+1:te.originalEndLineNumber+1,Ce=0===te.modifiedEndLineNumber?te.modifiedStartLineNumber+1:te.modifiedEndLineNumber+1}let Ee=te-3+1,Ie=he-3+1;if(Ee<ve){const j=ve-Ee;Ee+=j,Ie+=j}if(Ie<Ce){const j=Ce-Ie;Ee+=j,Ie+=j}Ze[Ye++]=new _(Ee,te,Ie,he)}0!==Oe&&(Ze[Ye++]=new _(Ne,Oe,0,0)),0!==je&&(Ze[Ye++]=new _(0,0,Ke,je));{const ve=0===Oe?Ne+1:Oe+1,Ce=0===je?Ke+1:je+1;let Ie=te,et=he;if(ye+1<Ee){const te=j[ye+1];Ie=0===te.originalEndLineNumber?te.originalStartLineNumber:te.originalStartLineNumber-1,et=0===te.modifiedEndLineNumber?te.modifiedStartLineNumber:te.modifiedStartLineNumber-1}let nt=ve+3-1,rt=Ce+3-1;if(nt>Ie){const j=Ie-nt;nt+=j,rt+=j}if(rt>et){const j=et-rt;nt+=j,rt+=j}Ze[Ye++]=new _(ve,nt,Ce,rt)}ve[Ce++]=new L(Ze)}let ye=ve[0].entries;const Ee=[];let Ie=0;for(let j=1,te=ve.length;j<te;j++){const te=ve[j].entries,he=ye[ye.length-1],Ce=te[0];0===he.getType()&&0===Ce.getType()&&Ce.originalLineStart<=he.originalLineEnd?(ye[ye.length-1]=new _(he.originalLineStart,Ce.originalLineEnd,he.modifiedLineStart,Ce.modifiedLineEnd),ye=ye.concat(te.slice(1))):(Ee[Ie++]=new L(ye),ye=te)}return Ee[Ie++]=new L(ye),Ee}_findDiffIndex(j){const te=j.lineNumber;for(let j=0,he=this._diffs.length;j<he;j++){const he=this._diffs[j].entries;if(te<=he[he.length-1].modifiedLineEnd)return j}return 0}_render(){const j=this._diffEditor.getOriginalEditor().getOptions(),te=this._diffEditor.getModifiedEditor().getOptions(),Ce=this._diffEditor.getOriginalEditor().getModel(),ye=this._diffEditor.getModifiedEditor().getModel(),Ee=Ce.getOptions(),Ie=ye.getOptions();if(!this._isVisible||!Ce||!ye)return ve.clearNode(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const Ne=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[Ne]===this._currentDiff)return;this._currentDiff=this._diffs[Ne];const Ke=this._diffs[Ne].entries,je=document.createElement("div");je.className="diff-review-table",je.setAttribute("role","list"),je.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,Oe.applyFontInfo)(je,te.get(44));let Ze=0,Ye=0,et=0,nt=0;for(let j=0,te=Ke.length;j<te;j++){const te=Ke[j],he=te.originalLineStart,ve=te.originalLineEnd,Ce=te.modifiedLineStart,ye=te.modifiedLineEnd;0!==he&&(0===Ze||he<Ze)&&(Ze=he),0!==ve&&(0===Ye||ve>Ye)&&(Ye=ve),0!==Ce&&(0===et||Ce<et)&&(et=Ce),0!==ye&&(0===nt||ye>nt)&&(nt=ye)}const rt=document.createElement("div");rt.className="diff-review-row";const at=document.createElement("div");at.className="diff-review-cell diff-review-summary";const ct=Ye-Ze+1,ht=nt-et+1;at.appendChild(document.createTextNode(`${Ne+1}/${this._diffs.length}: @@ -${Ze},${ct} +${et},${ht} @@`)),rt.setAttribute("data-line",String(et));const ee=j=>0===j?he.localize(4,null):1===j?he.localize(5,null):he.localize(6,null,j),mt=ee(ct),pt=ee(ht);rt.setAttribute("aria-label",he.localize(7,null,Ne+1,this._diffs.length,Ze,mt,et,pt)),rt.appendChild(at),rt.setAttribute("role","listitem"),je.appendChild(rt);const ft=te.get(59);let _t=et;for(let he=0,ve=Ke.length;he<ve;he++){const ve=Ke[he];yt._renderSection(je,ve,_t,ft,this._width,j,Ce,Ee,te,ye,Ie,this._languageService.languageIdCodec),0!==ve.modifiedLineStart&&(_t=ve.modifiedLineEnd)}ve.clearNode(this._content.domNode),this._content.domNode.appendChild(je),this.scrollbar.scanDomNode()}static _renderSection(j,te,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){const Ye=te.getType();let et="diff-review-row",nt="";let rt=null;switch(Ye){case 1:et="diff-review-row line-insert",nt=" char-insert",rt=bt;break;case 2:et="diff-review-row line-delete",nt=" char-delete",rt=St}const at=te.originalLineStart,ct=te.originalLineEnd,ht=te.modifiedLineStart,pt=te.modifiedLineEnd,ft=Math.max(pt-ht,ct-at),_t=Ee.get(131),Ct=_t.glyphMarginWidth+_t.lineNumbersWidth,Dt=Oe.get(131),It=10+Dt.glyphMarginWidth+Dt.lineNumbersWidth;for(let te=0;te<=ft;te++){const ct=0===at?0:at+te,pt=0===ht?0:ht+te,ft=document.createElement("div");ft.style.minWidth=ye+"px",ft.className=et,ft.setAttribute("role","listitem"),0!==pt&&(ve=pt),ft.setAttribute("data-line",String(ve));const _t=document.createElement("div");_t.className="diff-review-cell",_t.style.height=`${Ce}px`,ft.appendChild(_t);const bt=document.createElement("span");bt.style.width=Ct+"px",bt.style.minWidth=Ct+"px",bt.className="diff-review-line-number"+nt,0!==ct?bt.appendChild(document.createTextNode(String(ct))):bt.innerText=" ",_t.appendChild(bt);const St=document.createElement("span");St.style.width=It+"px",St.style.minWidth=It+"px",St.style.paddingRight="10px",St.className="diff-review-line-number"+nt,0!==pt?St.appendChild(document.createTextNode(String(pt))):St.innerText=" ",_t.appendChild(St);const Dt=document.createElement("span");if(Dt.className="diff-review-spacer",rt){const j=document.createElement("span");j.className=mt.ThemeIcon.asClassName(rt),j.innerText="  ",Dt.appendChild(j)}else Dt.innerText="  ";let kt;if(_t.appendChild(Dt),0!==pt){let j=this._renderLine(Ke,Oe,je.tabSize,pt,Ze);yt._ttPolicy&&(j=yt._ttPolicy.createHTML(j)),_t.insertAdjacentHTML("beforeend",j),kt=Ke.getLineContent(pt)}else{let j=this._renderLine(Ie,Ee,Ne.tabSize,ct,Ze);yt._ttPolicy&&(j=yt._ttPolicy.createHTML(j)),_t.insertAdjacentHTML("beforeend",j),kt=Ie.getLineContent(ct)}0===kt.length&&(kt=he.localize(8,null));let At="";switch(Ye){case 0:At=ct===pt?he.localize(9,null,kt,ct):he.localize(10,null,kt,ct,pt);break;case 1:At=he.localize(11,null,kt,pt);break;case 2:At=he.localize(12,null,kt,ct)}ft.setAttribute("aria-label",At),j.appendChild(ft)}}static _renderLine(j,te,he,ve,Ce){const ye=j.getLineContent(ve),Ee=te.get(44),Ie=Ye.LineTokens.createEmpty(ye,Ce),Ne=at.ViewLineRenderingData.isBasicASCII(ye,j.mightContainNonBasicASCII()),Oe=at.ViewLineRenderingData.containsRTL(ye,Ne,j.mightContainRTL());return(0,rt.renderViewLine2)(new rt.RenderLineInput(Ee.isMonospace&&!te.get(29),Ee.canUseHalfwidthRightwardsArrow,ye,!1,Ne,Oe,0,Ie,[],he,0,Ee.spaceWidth,Ee.middotWidth,Ee.wsmiddotWidth,te.get(105),te.get(88),te.get(83),te.get(45)!==Ze.EditorFontLigatures.OFF,null)).html}};It._ttPolicy=null===(Ct=window.trustedTypes)||void 0===Ct?void 0:Ct.createPolicy("diffReview",{createHTML:j=>j}),It=Ci([Zi(1,_t.ILanguageService)],It),te.DiffReview=It,(0,mt.registerThemingParticipant)(((j,te)=>{const he=j.getColor(nt.editorLineNumbers);he&&te.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${he}; }`);const ve=j.getColor(ht.scrollbarShadow);ve&&te.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${ve} 0 -6px 6px -6px inset; }`)}));class O extends Ke.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:he.localize(13,null),alias:"Go to Next Difference",precondition:ct.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(j,te){const he=T(j);he&&he.diffReviewNext()}}class B extends Ke.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:he.localize(14,null),alias:"Go to Previous Difference",precondition:ct.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(j,te){const he=T(j);he&&he.diffReviewPrev()}}function T(j){const te=j.get(je.ICodeEditorService),he=te.listDiffEditors(),ve=te.getActiveCodeEditor();if(!ve)return null;for(let j=0,te=he.length;j<te;j++){const te=he[j];if(te.getModifiedEditor().getId()===ve.getId()||te.getOriginalEditor().getId()===ve.getId())return te}return null}(0,Ke.registerEditorAction)(O),(0,Ke.registerEditorAction)(B)})),define(Ce[693],ie([1,0,7,43,67,27,4,2,8,20,104,35,601,198,559,16,51,23,72,132,14,382]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt){Object.defineProperty(te,"__esModule",{value:!0}),te.editorHoverWidgetHighlightForeground=te.ParameterHintsWidget=void 0;const pt=he.$,ft=(0,ct.registerIcon)("parameter-hints-next",ye.Codicon.chevronDown,et.localize(0,null)),_t=(0,ct.registerIcon)("parameter-hints-previous",ye.Codicon.chevronUp,et.localize(1,null));let Ct=class Mi extends Ie.Disposable{constructor(j,te,he,ve){super(),this.editor=j,this.renderDisposeables=this._register(new Ie.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Ke.MarkdownRenderer({editor:j},ve,he)),this.model=this._register(new Ze.ParameterHintsModel(j)),this.keyVisible=Ye.Context.Visible.bindTo(te),this.keyMultipleSignatures=Ye.Context.MultipleSignatures.bindTo(te),this._register(this.model.onChangedHints((j=>{j?(this.show(),this.render(j)):this.hide()})))}createParameterHintDOMNodes(){const j=pt(".editor-widget.parameter-hints-widget"),te=he.append(j,pt(".phwrapper"));te.tabIndex=-1;const ve=he.append(te,pt(".controls")),ye=he.append(ve,pt(".button"+mt.ThemeIcon.asCSSSelector(_t))),Ie=he.append(ve,pt(".overloads")),Ne=he.append(ve,pt(".button"+mt.ThemeIcon.asCSSSelector(ft)));this._register(he.addDisposableListener(ye,"click",(j=>{he.EventHelper.stop(j),this.previous()}))),this._register(he.addDisposableListener(Ne,"click",(j=>{he.EventHelper.stop(j),this.next()})));const Oe=pt(".body"),Ke=new Ce.DomScrollableElement(Oe,{});this._register(Ke),te.appendChild(Ke.getDomNode());const je=he.append(Oe,pt(".signature")),Ze=he.append(Oe,pt(".docs"));j.style.userSelect="text",this.domNodes={element:j,signature:je,overloads:Ie,docs:Ze,scrollbar:Ke},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((j=>{this.visible&&this.editor.layoutContentWidget(this)})));const P=()=>{if(!this.domNodes)return;const j=this.editor.getOption(44);this.domNodes.element.style.fontSize=`${j.fontSize}px`,this.domNodes.element.style.lineHeight=""+j.lineHeight/j.fontSize};P(),this._register(Ee.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((j=>j.hasChanged(44))).on(P,null)),this._register(this.editor.onDidLayoutChange((j=>this.updateMaxHeight()))),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((()=>{this.domNodes&&this.domNodes.element.classList.add("visible")}),100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(j){var te;if(this.renderDisposeables.clear(),!this.domNodes)return;const Ce=j.signatures.length>1;this.domNodes.element.classList.toggle("multiple",Ce),this.keyMultipleSignatures.set(Ce),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const ye=j.signatures[j.activeSignature];if(!ye)return;const Ee=he.append(this.domNodes.signature,pt(".code")),Ie=this.editor.getOption(44);Ee.style.fontSize=`${Ie.fontSize}px`,Ee.style.fontFamily=Ie.fontFamily;const Ne=ye.parameters.length>0,Oe=null!==(te=ye.activeParameter)&&void 0!==te?te:j.activeParameter;if(Ne)this.renderParameters(Ee,ye,Oe);else{he.append(Ee,pt("span")).textContent=ye.label}const Ke=ye.parameters[Oe];if(null==Ke?void 0:Ke.documentation){const j=pt("span.documentation");if("string"==typeof Ke.documentation)j.textContent=Ke.documentation;else{const te=this.renderMarkdownDocs(Ke.documentation);j.appendChild(te.element)}he.append(this.domNodes.docs,pt("p",{},j))}if(void 0!==ye.documentation)if("string"==typeof ye.documentation)he.append(this.domNodes.docs,pt("p",{},ye.documentation));else{const j=this.renderMarkdownDocs(ye.documentation);he.append(this.domNodes.docs,j.element)}const je=this.hasDocs(ye,Ke);if(this.domNodes.signature.classList.toggle("has-docs",je),this.domNodes.docs.classList.toggle("empty",!je),this.domNodes.overloads.textContent=String(j.activeSignature+1).padStart(j.signatures.length.toString().length,"0")+"/"+j.signatures.length,Ke){let j="";const te=ye.parameters[Oe];j=Array.isArray(te.label)?ye.label.substring(te.label[0],te.label[1]):te.label,te.documentation&&(j+="string"==typeof te.documentation?`, ${te.documentation}`:`, ${te.documentation.value}`),ye.documentation&&(j+="string"==typeof ye.documentation?`, ${ye.documentation}`:`, ${ye.documentation.value}`),this.announcedLabel!==j&&(ve.alert(et.localize(2,null,j)),this.announcedLabel=j)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(j){const te=this.renderDisposeables.add(this.markdownRenderer.render(j,{asyncRenderCallback:()=>{var j;null===(j=this.domNodes)||void 0===j||j.scrollbar.scanDomNode()}}));return te.element.classList.add("markdown-docs"),te}hasDocs(j,te){return!!(te&&"string"==typeof te.documentation&&(0,Oe.assertIsDefined)(te.documentation).length>0||te&&"object"==typeof te.documentation&&(0,Oe.assertIsDefined)(te.documentation).value.length>0||j.documentation&&"string"==typeof j.documentation&&(0,Oe.assertIsDefined)(j.documentation).length>0||j.documentation&&"object"==typeof j.documentation&&(0,Oe.assertIsDefined)(j.documentation.value).length>0)}renderParameters(j,te,ve){const[Ce,ye]=this.getParameterLabelOffsets(te,ve),Ee=document.createElement("span");Ee.textContent=te.label.substring(0,Ce);const Ie=document.createElement("span");Ie.textContent=te.label.substring(Ce,ye),Ie.className="parameter active";const Ne=document.createElement("span");Ne.textContent=te.label.substring(ye),he.append(j,Ee,Ie,Ne)}getParameterLabelOffsets(j,te){const he=j.parameters[te];if(he){if(Array.isArray(he.label))return he.label;if(he.label.length){const te=new RegExp(`(\\W|^)${(0,Ne.escapeRegExpCharacters)(he.label)}(?=\\W|$)`,"g");te.test(j.label);const ve=te.lastIndex-he.label.length;return ve>=0?[ve,te.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Mi.ID}trigger(j){this.model.trigger(j,0)}updateMaxHeight(){if(!this.domNodes)return;const j=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=j;const te=this.domNodes.element.getElementsByClassName("phwrapper");te.length&&(te[0].style.maxHeight=j)}};Ct.ID="editor.widget.parameterHintsWidget",Ct=Ci([Zi(1,nt.IContextKeyService),Zi(2,rt.IOpenerService),Zi(3,je.ILanguageService)],Ct),te.ParameterHintsWidget=Ct,te.editorHoverWidgetHighlightForeground=(0,at.registerColor)("editorHoverWidget.highlightForeground",{dark:at.listHighlightForeground,light:at.listHighlightForeground,hc:at.listHighlightForeground},et.localize(3,null)),(0,mt.registerThemingParticipant)(((j,he)=>{const ve=j.getColor(at.editorHoverBorder);if(ve){const te=j.type===ht.ColorScheme.HIGH_CONTRAST?2:1;he.addRule(`.monaco-editor .parameter-hints-widget { border: ${te}px solid ${ve}; }`),he.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${ve.transparent(.5)}; }`),he.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${ve.transparent(.5)}; }`)}const Ce=j.getColor(at.editorHoverBackground);Ce&&he.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${Ce}; }`);const ye=j.getColor(at.textLinkForeground);ye&&he.addRule(`.monaco-editor .parameter-hints-widget a { color: ${ye}; }`);const Ee=j.getColor(at.textLinkActiveForeground);Ee&&he.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${Ee}; }`);const Ie=j.getColor(at.editorHoverForeground);Ie&&he.addRule(`.monaco-editor .parameter-hints-widget { color: ${Ie}; }`);const Ne=j.getColor(at.textCodeBlockBackground);Ne&&he.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${Ne}; }`);const Oe=j.getColor(te.editorHoverWidgetHighlightForeground);Oe&&he.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${Oe}}`)}))})),define(Ce[694],ie([1,0,2,15,24,18,198,558,16,9,693]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.TriggerParameterHintsAction=void 0;let je=class Ai extends he.Disposable{constructor(j,te){super(),this.editor=j,this.widget=this._register(te.createInstance(Ke.ParameterHintsWidget,this.editor))}static get(j){return j.getContribution(Ai.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(j){this.widget.trigger(j)}};je.ID="editor.controller.parameterHints",je=Ci([Zi(1,Oe.IInstantiationService)],je);class i extends ve.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:Ie.localize(0,null),alias:"Trigger Parameter Hints",precondition:Ce.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:Ce.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(j,te){const he=je.get(te);he&&he.trigger({triggerKind:ye.SignatureHelpTriggerKind.Invoke})}}te.TriggerParameterHintsAction=i,(0,ve.registerEditorContribution)(je.ID,je),(0,ve.registerEditorAction)(i);const Ze=ve.EditorCommand.bindToContribution(je.get);(0,ve.registerEditorCommand)(new Ze({id:"closeParameterHints",precondition:Ee.Context.Visible,handler:j=>j.cancel(),kbOpts:{weight:175,kbExpr:Ce.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,ve.registerEditorCommand)(new Ze({id:"showPrevParameterHint",precondition:Ne.ContextKeyExpr.and(Ee.Context.Visible,Ee.Context.MultipleSignatures),handler:j=>j.previous(),kbOpts:{weight:175,kbExpr:Ce.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,ve.registerEditorCommand)(new Ze({id:"showNextParameterHint",precondition:Ne.ContextKeyExpr.and(Ee.Context.Visible,Ee.Context.MultipleSignatures),handler:j=>j.next(),kbOpts:{weight:175,kbExpr:Ce.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))})),define(Ce[695],ie([1,0,34,7,190,19,27,4,73,2,25,31,18,621,45,35,572,269,72,14,277]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt){var pt;function f(j){return`suggest-aria-id:${j}`}Object.defineProperty(te,"__esModule",{value:!0}),te.ItemRenderer=te.suggestMoreInfoIcon=te.getAriaId=void 0,te.getAriaId=f,te.suggestMoreInfoIcon=(0,ct.registerIcon)("suggest-more-info",Ee.Codicon.chevronRight,rt.localize(0,null));const ft=new((pt=class Vt{extract(j,te){if(j.textLabel.match(Vt._regexStrict))return te[0]=j.textLabel,!0;if(j.completion.detail&&j.completion.detail.match(Vt._regexStrict))return te[0]=j.completion.detail,!0;if("string"==typeof j.completion.documentation){const he=Vt._regexRelaxed.exec(j.completion.documentation);if(he&&(0===he.index||he.index+he[0].length===j.completion.documentation.length))return te[0]=he[0],!0}return!1}})._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,pt._regexStrict=new RegExp(`^${pt._regexRelaxed.source}$`,"i"),pt);let _t=class{constructor(j,te,he,ve){this._editor=j,this._modelService=te,this._languageService=he,this._themeService=ve,this._onDidToggleDetails=new Ie.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(j){const ye=Object.create(null);ye.disposables=new Oe.DisposableStore,ye.root=j,ye.root.classList.add("show-file-icons"),ye.icon=(0,ve.append)(j,(0,ve.$)(".icon")),ye.colorspan=(0,ve.append)(ye.icon,(0,ve.$)("span.colorspan"));const Ee=(0,ve.append)(j,(0,ve.$)(".contents")),Ie=(0,ve.append)(Ee,(0,ve.$)(".main"));ye.iconContainer=(0,ve.append)(Ie,(0,ve.$)(".icon-label.codicon")),ye.left=(0,ve.append)(Ie,(0,ve.$)("span.left")),ye.right=(0,ve.append)(Ie,(0,ve.$)("span.right")),ye.iconLabel=new Ce.IconLabel(ye.left,{supportHighlights:!0,supportIcons:!0}),ye.disposables.add(ye.iconLabel),ye.parametersLabel=(0,ve.append)(ye.left,(0,ve.$)("span.signature-label")),ye.qualifierLabel=(0,ve.append)(ye.left,(0,ve.$)("span.qualifier-label")),ye.detailsLabel=(0,ve.append)(ye.right,(0,ve.$)("span.details-label")),ye.readMore=(0,ve.append)(ye.right,(0,ve.$)("span.readMore"+ht.ThemeIcon.asCSSSelector(te.suggestMoreInfoIcon))),ye.readMore.title=rt.localize(1,null);const M=()=>{const j=this._editor.getOptions(),te=j.get(44),ve=te.getMassagedFontFamily(he.isSafari?je.EDITOR_FONT_DEFAULTS.fontFamily:null),Ce=te.fontFeatureSettings,Ee=j.get(107)||te.fontSize,Ne=j.get(108)||te.lineHeight,Oe=te.fontWeight,Ke=`${Ee}px`,Ze=`${Ne}px`;ye.root.style.fontSize=Ke,ye.root.style.fontWeight=Oe,Ie.style.fontFamily=ve,Ie.style.fontFeatureSettings=Ce,Ie.style.lineHeight=Ze,ye.icon.style.height=Ze,ye.icon.style.width=Ze,ye.readMore.style.height=Ze,ye.readMore.style.width=Ze};return M(),ye.disposables.add(this._editor.onDidChangeConfiguration((j=>{(j.hasChanged(44)||j.hasChanged(107)||j.hasChanged(108))&&M()}))),ye}renderElement(j,te,he){const{completion:Ce}=j;he.root.id=f(te),he.colorspan.style.backgroundColor="";const Ie={labelEscapeNewLines:!0,matches:(0,Ne.createMatches)(j.score)};let Oe=[];if(19===Ce.kind&&ft.extract(j,Oe))he.icon.className="icon customcolor",he.iconContainer.className="icon hide",he.colorspan.style.backgroundColor=Oe[0];else if(20===Ce.kind&&this._themeService.getFileIconTheme().hasFileIcons){he.icon.className="icon hide",he.iconContainer.className="icon hide";const te=(0,Ye.getIconClasses)(this._modelService,this._languageService,Ke.URI.from({scheme:"fake",path:j.textLabel}),at.FileKind.FILE),ve=(0,Ye.getIconClasses)(this._modelService,this._languageService,Ke.URI.from({scheme:"fake",path:Ce.detail}),at.FileKind.FILE);Ie.extraClasses=te.length>ve.length?te:ve}else 23===Ce.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(he.icon.className="icon hide",he.iconContainer.className="icon hide",Ie.extraClasses=(0,ye.flatten)([(0,Ye.getIconClasses)(this._modelService,this._languageService,Ke.URI.from({scheme:"fake",path:j.textLabel}),at.FileKind.FOLDER),(0,Ye.getIconClasses)(this._modelService,this._languageService,Ke.URI.from({scheme:"fake",path:Ce.detail}),at.FileKind.FOLDER)])):(he.icon.className="icon hide",he.iconContainer.className="",he.iconContainer.classList.add("suggest-icon",...Ee.CSSIcon.asClassNameArray(Ze.CompletionItemKinds.toIcon(Ce.kind))));Ce.tags&&Ce.tags.indexOf(1)>=0&&(Ie.extraClasses=(Ie.extraClasses||[]).concat(["deprecated"]),Ie.matches=[]),he.iconLabel.setLabel(j.textLabel,void 0,Ie),"string"==typeof Ce.label?(he.parametersLabel.textContent="",he.detailsLabel.textContent=C(Ce.detail||""),he.root.classList.add("string-label")):(he.parametersLabel.textContent=C(Ce.label.detail||""),he.detailsLabel.textContent=C(Ce.label.description||""),he.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?(0,ve.show)(he.detailsLabel):(0,ve.hide)(he.detailsLabel),(0,mt.canExpandCompletionItem)(j)?(he.right.classList.add("can-expand-details"),(0,ve.show)(he.readMore),he.readMore.onmousedown=j=>{j.stopPropagation(),j.preventDefault()},he.readMore.onclick=j=>{j.stopPropagation(),j.preventDefault(),this._onDidToggleDetails.fire()}):(he.right.classList.remove("can-expand-details"),(0,ve.hide)(he.readMore),he.readMore.onmousedown=null,he.readMore.onclick=null)}disposeTemplate(j){j.disposables.dispose()}};function C(j){return j.replace(/\r\n|\r|\n/g,"")}_t=Ci([Zi(1,et.IModelService),Zi(2,nt.ILanguageService),Zi(3,ht.IThemeService)],_t),te.ItemRenderer=_t})),define(Ce[696],ie([1,0,7,84,44,2,104,9,688,72,14,387]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.BannerController=void 0;let je=class extends ye.Disposable{constructor(j,te){super(),this._editor=j,this.instantiationService=te,this.banner=this._register(this.instantiationService.createInstance(Ze))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(j){this.banner.show(Object.assign(Object.assign({},j),{onClose:()=>{this.hide(),j.onClose&&j.onClose()}})),this._editor.setBanner(this.banner.element,26)}};je=Ci([Zi(1,Ie.IInstantiationService)],je),te.BannerController=je;let Ze=class extends ye.Disposable{constructor(j){super(),this.instantiationService=j,this.markdownRenderer=this.instantiationService.createInstance(Ee.MarkdownRenderer,{}),this.element=(0,he.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(j){return j.ariaLabel?j.ariaLabel:"string"==typeof j.message?j.message:void 0}getBannerMessage(j){if("string"==typeof j){const te=(0,he.$)("span");return te.innerText=j,te}return this.markdownRenderer.render(j).element}clear(){(0,he.clearNode)(this.element)}show(j){(0,he.clearNode)(this.element);const te=this.getAriaLabel(j);te&&this.element.setAttribute("aria-label",te);const ye=(0,he.append)(this.element,(0,he.$)("div.icon-container"));ye.setAttribute("aria-hidden","true"),j.icon&&ye.appendChild((0,he.$)(`div${Ke.ThemeIcon.asCSSSelector(j.icon)}`));const Ee=(0,he.append)(this.element,(0,he.$)("div.message-container"));if(Ee.setAttribute("aria-hidden","true"),Ee.appendChild(this.getBannerMessage(j.message)),this.messageActionsContainer=(0,he.append)(this.element,(0,he.$)("div.message-actions-container")),j.actions)for(const te of j.actions)this._register(this.instantiationService.createInstance(Ne.Link,this.messageActionsContainer,Object.assign(Object.assign({},te),{tabIndex:-1}),{}));const Ie=(0,he.append)(this.element,(0,he.$)("div.action-container"));this.actionBar=this._register(new ve.ActionBar(Ie)),this.actionBar.push(this._register(new Ce.Action("banner.close","Close Banner",Ke.ThemeIcon.asClassName(Oe.widgetClose),!0,(()=>{"function"==typeof j.onClose&&j.onClose()}))),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};Ze=Ci([Zi(0,Ie.IInstantiationService)],Ze)})),define(Ce[697],ie([1,0,7,4,72,14]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.UnthemedProductIconTheme=te.getIconsStyleSheet=void 0,te.getIconsStyleSheet=function w(j){const te=new ve.Emitter,ye=(0,Ce.getIconRegistry)();return ye.onDidChange((()=>te.fire())),null==j||j.onDidProductIconThemeChange((()=>te.fire())),{onDidChange:te.event,getCSS(){const te=j?j.getProductIconTheme():new b,ve={},n=j=>{const Ce=te.getIcon(j);if(!Ce)return;const ye=Ce.font;return ye?(ve[ye.id]=ye.getDefinition(),`.codicon-${j.id}:before { content: '${Ce.fontCharacter}'; font-family: ${(0,he.asCSSPropertyValue)(ye.id)}; }`):`.codicon-${j.id}:before { content: '${Ce.fontCharacter}'; }`},Ce=[];for(let j of ye.getIcons()){const te=n(j);te&&Ce.push(te)}for(let j in ve){const te=ve[j];if(te){const ve=te.weight?`font-weight: ${te.weight};`:"",ye=te.style?`font-style: ${te.style};`:"",Ee=te.src.map((j=>`${(0,he.asCSSUrl)(j.location)} format('${j.format}')`)).join(", ");Ce.push(`@font-face { src: ${Ee}; font-family: ${(0,he.asCSSPropertyValue)(j)};${ve}${ye} font-display: block; }`)}}return Ce.join("\n")}}};class b{getIcon(j){const te=(0,Ce.getIconRegistry)();let he=j.defaults;for(;ye.ThemeIcon.isThemeIcon(he);){const j=te.getIcon(he.id);if(!j)return;he=j.defaults}return he}}te.UnthemedProductIconTheme=b})),define(Ce[698],ie([1,0,7,29,4,18,412,658,36,23,14,2,132,697]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){Object.defineProperty(te,"__esModule",{value:!0}),te.StandaloneThemeService=void 0;const et="vs",nt="vs-dark",rt="hc-black",at=Ne.Registry.as(Oe.Extensions.ColorContribution),ct=Ne.Registry.as(Ke.Extensions.ThemingContribution);class a{constructor(j,te){this.semanticHighlighting=!1,this.themeData=te;const he=te.base;j.length>0?(d(j)?this.id=j:this.id=he+" "+j,this.themeName=j):(this.id=he,this.themeName=he),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const j=new Map;for(let te in this.themeData.colors)j.set(te,ve.Color.fromHex(this.themeData.colors[te]));if(this.themeData.inherit){const te=u(this.themeData.base);for(let he in te.colors)j.has(he)||j.set(he,ve.Color.fromHex(te.colors[he]))}this.colors=j}return this.colors}getColor(j,te){const he=this.getColors().get(j);return he||(!1!==te?this.getDefault(j):void 0)}getDefault(j){let te=this.defaultColors[j];return te||(te=at.resolveDefaultColor(j,this),this.defaultColors[j]=te,te)}defines(j){return Object.prototype.hasOwnProperty.call(this.getColors(),j)}get type(){switch(this.base){case et:return Ze.ColorScheme.LIGHT;case rt:return Ze.ColorScheme.HIGH_CONTRAST;default:return Ze.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let j=[],te=[];if(this.themeData.inherit){const he=u(this.themeData.base);j=he.rules,he.encodedTokensColors&&(te=he.encodedTokensColors)}const he=this.themeData.colors["editor.foreground"],ve=this.themeData.colors["editor.background"];if(he||ve){const te={token:""};he&&(te.foreground=he),ve&&(te.background=ve),j.push(te)}j=j.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(te=this.themeData.encodedTokensColors),this._tokenTheme=Ee.TokenTheme.createFromRawTokenTheme(j,te)}return this._tokenTheme}getTokenStyleMetadata(j,te,he){const ve=this.tokenTheme._match([j].concat(te).join(".")).metadata,Ce=ye.TokenMetadata.getForeground(ve),Ee=ye.TokenMetadata.getFontStyle(ve);return{foreground:Ce,italic:Boolean(1&Ee),bold:Boolean(2&Ee),underline:Boolean(4&Ee),strikethrough:Boolean(8&Ee)}}}function d(j){return j===et||j===nt||j===rt}function u(j){switch(j){case et:return Ie.vs;case nt:return Ie.vs_dark;case rt:return Ie.hc_black}}function f(j){const te=u(j);return new a(j,te)}class S extends je.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new Ce.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new Ce.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new Ye.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(et,f(et)),this._knownThemes.set(nt,f(nt)),this._knownThemes.set(rt,f(rt));const j=(0,Ye.getIconsStyleSheet)(this);this._codiconCSS=j.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(et),j.onDidChange((()=>{this._codiconCSS=j.getCSS(),this._updateCSS()})),he.addMatchMediaChangeListener("(forced-colors: active)",(()=>{this._updateActualTheme()}))}registerEditorContainer(j){return he.isInShadowDOM(j)?this._registerShadowDomContainer(j):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=he.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),je.Disposable.None}_registerShadowDomContainer(j){const te=he.createStyleSheet(j);return te.className="monaco-colors",te.textContent=this._allCSS,this._styleElements.push(te),{dispose:()=>{for(let j=0;j<this._styleElements.length;j++)if(this._styleElements[j]===te)return void this._styleElements.splice(j,1)}}}defineTheme(j,te){if(!/^[a-z0-9\-]+$/i.test(j))throw new Error("Illegal theme name!");if(!d(te.base)&&!d(j))throw new Error("Illegal theme base!");this._knownThemes.set(j,new a(j,te)),d(j)&&this._knownThemes.forEach((te=>{te.base===j&&te.notifyBaseUpdated()})),this._theme.themeName===j&&this.setTheme(j)}getColorTheme(){return this._theme}setColorMapOverride(j){this._colorMapOverride=j,this._updateThemeOrColorMap()}setTheme(j){let te;te=this._knownThemes.has(j)?this._knownThemes.get(j):this._knownThemes.get(et),this._desiredTheme=te,this._updateActualTheme()}_updateActualTheme(){const j=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(rt):this._desiredTheme;this._theme!==j&&(this._theme=j,this._updateThemeOrColorMap())}setAutoDetectHighContrast(j){this._autoDetectHighContrast=j,this._updateActualTheme()}_updateThemeOrColorMap(){const j=[],te={},he={addRule:he=>{te[he]||(j.push(he),te[he]=!0)}};ct.getThemingParticipants().forEach((j=>j(this._theme,he,this._environment)));const ve=[];for(const j of at.getColors()){const te=this._theme.getColor(j.id,!0);te&&ve.push(`${(0,Oe.asCssVariableName)(j.id)}: ${te.toString()};`)}he.addRule(`.monaco-editor { ${ve.join("\n")} }`);const Ce=this._colorMapOverride||this._theme.tokenTheme.getColorMap();he.addRule((0,Ee.generateTokensCSSForColorMap)(Ce)),this._themeCSS=j.join("\n"),this._updateCSS(),ye.TokenizationRegistry.setColorMap(Ce),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach((j=>j.textContent=this._allCSS))}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}te.StandaloneThemeService=S})),define(Ce[158],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.UndoRedoSource=te.UndoRedoGroup=te.ResourceEditStackSnapshot=te.IUndoRedoService=void 0,te.IUndoRedoService=(0,he.createDecorator)("undoRedoService");te.ResourceEditStackSnapshot=class m{constructor(j,te){this.resource=j,this.elements=te}};class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}te.UndoRedoGroup=D,D._ID=0,D.None=new D;class I{constructor(){this.id=I._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}te.UndoRedoSource=I,I._ID=0,I.None=new I})),define(Ce[33],ie([1,0,19,29,13,4,2,8,25,11,3,22,49,427,649,268,246,416,417,245,421,91,150,432,117,434,436,146,32,35,158,145]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt,St,Dt,It,kt,At,Pt){function B(j){const te=function O(){return new mt.PieceTreeTextBufferBuilder}();return te.acceptChunk(j),te.finish()}function T(j,te){return("string"==typeof j?B(j):j).create(te)}Object.defineProperty(te,"__esModule",{value:!0}),te.DidChangeContentEmitter=te.DidChangeDecorationsEmitter=te.ModelDecorationOptions=te.ModelDecorationInjectedTextOptions=te.ModelDecorationMinimapOptions=te.ModelDecorationOverviewRulerOptions=te.TextModel=te.LONG_LINE_BOUNDARY=te.createTextBuffer=te.createTextBufferFactory=void 0,te.createTextBufferFactory=B,te.createTextBuffer=T;let Kt=0;te.LONG_LINE_BOUNDARY=1e4;class F{constructor(j){this._source=j,this._eos=!1}read(){if(this._eos)return null;const j=[];let te=0,he=0;for(;;){const ve=this._source.read();if(null===ve)return this._eos=!0,0===te?null:j.join("");if(ve.length>0&&(j[te++]=ve,he+=ve.length),he>=65536)return j.join("")}}}const W=()=>{throw new Error("Invalid change accessor")};let Ut=class vt extends Ee.Disposable{constructor(j,te,he,ve=null,Ce,Ee,Oe){super(),this._undoRedoService=Ce,this._languageService=Ee,this._languageConfigurationService=Oe,this._onWillDispose=this._register(new ye.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ce((j=>this.handleBeforeFireDecorationsChangedEvent(j)))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new ye.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new ye.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new ye.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new ye.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new ye.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new ye.Emitter),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new ee),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new ye.Emitter),this.onBackgroundTokenizationStateChanged=this._onBackgroundTokenizationStateChanged.event,this._register(this._eventEmitter.fastEvent((j=>{this._onDidChangeContentOrInjectedText.fire(j.rawContentChangedEvent)}))),Kt++,this.id="$model"+Kt,this.isForSimpleWidget=he.isForSimpleWidget,this._associatedResource=null==ve?Ne.URI.parse("inmemory://model/"+Kt):ve,this._attachedEditorCount=0;const{textBuffer:je,disposable:Ze}=T(j,he.defaultEOL);this._buffer=je,this._bufferDisposable=Ze,this._options=vt.resolveOptions(this._buffer,he);const at=this._buffer.getLineCount(),ct=this._buffer.getValueLengthInRange(new Ke.Range(1,1,at,this._buffer.getLineLength(at)+1),0);he.largeFileOptimizations?this._isTooLargeForTokenization=ct>vt.LARGE_FILE_SIZE_THRESHOLD||at>vt.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=ct>vt.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=te,this._languageRegistryListener=this._languageConfigurationService.onDidChange((j=>{j.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._instanceId=Ie.singleLetterHash(Kt),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new G,this._commandManager=new nt.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new bt.ContiguousTokensStore(this._languageService.languageIdCodec),this._semanticTokens=new St.SparseTokensStore(this._languageService.languageIdCodec),this._tokenization=new _t.TextModelTokenization(this,this._languageService.languageIdCodec),this._bracketPairColorizer=this._register(new Ye.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new rt.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new et.ColorizedBracketPairsDecorationProvider(this)),this._register(this._decorationProvider.onDidChange((()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})))}static resolveOptions(j,te){if(te.detectIndentation){const he=(0,at.guessIndentation)(j,te.tabSize,te.insertSpaces);return new Ze.TextModelResolvedOptions({tabSize:he.tabSize,indentSize:he.tabSize,insertSpaces:he.insertSpaces,trimAutoWhitespace:te.trimAutoWhitespace,defaultEOL:te.defaultEOL,bracketPairColorizationOptions:te.bracketPairColorizationOptions})}return new Ze.TextModelResolvedOptions({tabSize:te.tabSize,indentSize:te.indentSize,insertSpaces:te.insertSpaces,trimAutoWhitespace:te.trimAutoWhitespace,defaultEOL:te.defaultEOL,bracketPairColorizationOptions:te.bracketPairColorizationOptions})}onDidChangeContentFast(j){return this._eventEmitter.fastEvent((te=>j(te.contentChangedEvent)))}onDidChangeContent(j){return this._eventEmitter.slowEvent((te=>j(te.contentChangedEvent)))}get bracketPairs(){return this._bracketPairColorizer}get guides(){return this._guidesTextModelPart}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(j){if(2===this._backgroundTokenizationState)return;const te=j?2:1;this._backgroundTokenizationState!==te&&(this._backgroundTokenizationState=te,this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const j=new ht.PieceTreeTextBuffer([],"","\n",!1,!1,!0,!0);j.dispose(),this._buffer=j}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(j,te){this._bracketPairColorizer.handleContentChanged(te),!this._isDisposing&&this._eventEmitter.fire(new pt.InternalModelContentChangeEvent(j,te))}setValue(j){if(this._assertNotDisposed(),null===j)return;const{textBuffer:te,disposable:he}=T(j,this._options.defaultEOL);this._setValueFromTextBuffer(te,he)}_createContentChanged2(j,te,he,ve,Ce,ye,Ee){return{changes:[{range:j,rangeOffset:te,rangeLength:he,text:ve}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:Ce,isRedoing:ye,isFlush:Ee}}_setValueFromTextBuffer(j,te){this._assertNotDisposed();const he=this.getFullModelRange(),ve=this.getValueLengthInRange(he),Ce=this.getLineCount(),ye=this.getLineMaxColumn(Ce);this._buffer=j,this._bufferDisposable.dispose(),this._bufferDisposable=te,this._increaseVersionId(),this._tokens.flush(),this._semanticTokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new G,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new pt.ModelRawContentChangedEvent([new pt.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new Ke.Range(1,1,Ce,ye),0,ve,this.getValue(),!1,!1,!0))}setEOL(j){this._assertNotDisposed();const te=1===j?"\r\n":"\n";if(this._buffer.getEOL()===te)return;const he=this.getFullModelRange(),ve=this.getValueLengthInRange(he),Ce=this.getLineCount(),ye=this.getLineMaxColumn(Ce);this._onBeforeEOLChange(),this._buffer.setEOL(te),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new pt.ModelRawContentChangedEvent([new pt.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new Ke.Range(1,1,Ce,ye),0,ve,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const j=this.getVersionId(),te=this._decorationsTree.collectNodesPostOrder();for(let he=0,ve=te.length;he<ve;he++){const ve=te[he],Ce=ve.range,ye=ve.cachedAbsoluteStart-ve.start,Ee=this._buffer.getOffsetAt(Ce.startLineNumber,Ce.startColumn),Ie=this._buffer.getOffsetAt(Ce.endLineNumber,Ce.endColumn);ve.cachedAbsoluteStart=Ee,ve.cachedAbsoluteEnd=Ie,ve.cachedVersionId=j,ve.start=Ee-ye,ve.end=Ie-ye,(0,ct.recomputeMaxEnd)(ve)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let j=0,he=0;const ve=this._buffer.getLineCount();for(let Ce=1;Ce<=ve;Ce++){const ve=this._buffer.getLineLength(Ce);ve>=te.LONG_LINE_BOUNDARY?he+=ve:j+=ve}return he>j}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(j){this._assertNotDisposed();const te=void 0!==j.tabSize?j.tabSize:this._options.tabSize,he=void 0!==j.indentSize?j.indentSize:this._options.indentSize,ve=void 0!==j.insertSpaces?j.insertSpaces:this._options.insertSpaces,Ce=void 0!==j.trimAutoWhitespace?j.trimAutoWhitespace:this._options.trimAutoWhitespace,ye=void 0!==j.bracketColorizationOptions?j.bracketColorizationOptions:this._options.bracketPairColorizationOptions,Ee=new Ze.TextModelResolvedOptions({tabSize:te,indentSize:he,insertSpaces:ve,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Ce,bracketPairColorizationOptions:ye});if(this._options.equals(Ee))return;const Ie=this._options.createChangeEvent(Ee);this._options=Ee,this._onDidChangeOptions.fire(Ie)}detectIndentation(j,te){this._assertNotDisposed();const he=(0,at.guessIndentation)(this._buffer,te,j);this.updateOptions({insertSpaces:he.insertSpaces,tabSize:he.tabSize,indentSize:he.tabSize})}static _normalizeIndentationFromWhitespace(j,te,he){let ve=0;for(let he=0;he<j.length;he++)"\t"===j.charAt(he)?ve+=te:ve++;let Ce="";if(!he){const j=Math.floor(ve/te);ve%=te;for(let te=0;te<j;te++)Ce+="\t"}for(let j=0;j<ve;j++)Ce+=" ";return Ce}static normalizeIndentation(j,te,he){let ve=Ie.firstNonWhitespaceIndex(j);return-1===ve&&(ve=j.length),vt._normalizeIndentationFromWhitespace(j.substring(0,ve),te,he)+j.substring(ve)}normalizeIndentation(j){return this._assertNotDisposed(),vt.normalizeIndentation(j,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(j=null){const te=this.findMatches(Ie.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(j,te.map((j=>({range:j.range,text:null}))),(()=>null))}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(j){this._assertNotDisposed();const te=this._validatePosition(j.lineNumber,j.column,0);return this._buffer.getOffsetAt(te.lineNumber,te.column)}getPositionAt(j){this._assertNotDisposed();const te=Math.min(this._buffer.getLength(),Math.max(0,j));return this._buffer.getPositionAt(te)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(j){this._versionId=j}_overwriteAlternativeVersionId(j){this._alternativeVersionId=j}_overwriteInitialUndoRedoSnapshot(j){this._initialUndoRedoSnapshot=j}getValue(j,te=!1){this._assertNotDisposed();const he=this.getFullModelRange(),ve=this.getValueInRange(he,j);return te?this._buffer.getBOM()+ve:ve}createSnapshot(j=!1){return new F(this._buffer.createSnapshot(j))}getValueLength(j,te=!1){this._assertNotDisposed();const he=this.getFullModelRange(),ve=this.getValueLengthInRange(he,j);return te?this._buffer.getBOM().length+ve:ve}getValueInRange(j,te=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(j),te)}getValueLengthInRange(j,te=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(j),te)}getCharacterCountInRange(j,te=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(j),te)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(j)}getLineLength(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(j)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(j){return this._assertNotDisposed(),1}getLineMaxColumn(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(j)+1}getLineFirstNonWhitespaceColumn(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(j)}getLineLastNonWhitespaceColumn(j){if(this._assertNotDisposed(),j<1||j>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(j)}_validateRangeRelaxedNoAllocations(j){const te=this._buffer.getLineCount(),he=j.startLineNumber,ve=j.startColumn;let Ce=Math.floor("number"!=typeof he||isNaN(he)?1:he),ye=Math.floor("number"!=typeof ve||isNaN(ve)?1:ve);if(Ce<1)Ce=1,ye=1;else if(Ce>te)Ce=te,ye=this.getLineMaxColumn(Ce);else if(ye<=1)ye=1;else{const j=this.getLineMaxColumn(Ce);ye>=j&&(ye=j)}const Ee=j.endLineNumber,Ie=j.endColumn;let Ne=Math.floor("number"!=typeof Ee||isNaN(Ee)?1:Ee),Oe=Math.floor("number"!=typeof Ie||isNaN(Ie)?1:Ie);if(Ne<1)Ne=1,Oe=1;else if(Ne>te)Ne=te,Oe=this.getLineMaxColumn(Ne);else if(Oe<=1)Oe=1;else{const j=this.getLineMaxColumn(Ne);Oe>=j&&(Oe=j)}return he===Ce&&ve===ye&&Ee===Ne&&Ie===Oe&&j instanceof Ke.Range&&!(j instanceof je.Selection)?j:new Ke.Range(Ce,ye,Ne,Oe)}_isValidPosition(j,te,he){if("number"!=typeof j||"number"!=typeof te||isNaN(j)||isNaN(te)||j<1||te<1||(0|j)!==j||(0|te)!==te)return!1;if(j>this._buffer.getLineCount())return!1;if(1===te)return!0;if(te>this.getLineMaxColumn(j))return!1;if(1===he){const he=this._buffer.getLineCharCode(j,te-2);if(Ie.isHighSurrogate(he))return!1}return!0}_validatePosition(j,te,he){const ve=Math.floor("number"!=typeof j||isNaN(j)?1:j),Ce=Math.floor("number"!=typeof te||isNaN(te)?1:te),ye=this._buffer.getLineCount();if(ve<1)return new Oe.Position(1,1);if(ve>ye)return new Oe.Position(ye,this.getLineMaxColumn(ye));if(Ce<=1)return new Oe.Position(ve,1);const Ee=this.getLineMaxColumn(ve);if(Ce>=Ee)return new Oe.Position(ve,Ee);if(1===he){const j=this._buffer.getLineCharCode(ve,Ce-2);if(Ie.isHighSurrogate(j))return new Oe.Position(ve,Ce-1)}return new Oe.Position(ve,Ce)}validatePosition(j){return this._assertNotDisposed(),j instanceof Oe.Position&&this._isValidPosition(j.lineNumber,j.column,1)?j:this._validatePosition(j.lineNumber,j.column,1)}_isValidRange(j,te){const he=j.startLineNumber,ve=j.startColumn,Ce=j.endLineNumber,ye=j.endColumn;if(!this._isValidPosition(he,ve,0)||!this._isValidPosition(Ce,ye,0))return!1;if(1===te){const j=ve>1?this._buffer.getLineCharCode(he,ve-2):0,te=ye>1&&ye<=this._buffer.getLineLength(Ce)?this._buffer.getLineCharCode(Ce,ye-2):0,Ee=Ie.isHighSurrogate(j),Ne=Ie.isHighSurrogate(te);return!Ee&&!Ne}return!0}validateRange(j){if(this._assertNotDisposed(),j instanceof Ke.Range&&!(j instanceof je.Selection)&&this._isValidRange(j,1))return j;const te=this._validatePosition(j.startLineNumber,j.startColumn,0),he=this._validatePosition(j.endLineNumber,j.endColumn,0),ve=te.lineNumber,Ce=te.column,ye=he.lineNumber,Ee=he.column;{const j=Ce>1?this._buffer.getLineCharCode(ve,Ce-2):0,te=Ee>1&&Ee<=this._buffer.getLineLength(ye)?this._buffer.getLineCharCode(ye,Ee-2):0,he=Ie.isHighSurrogate(j),Ne=Ie.isHighSurrogate(te);return he||Ne?ve===ye&&Ce===Ee?new Ke.Range(ve,Ce-1,ye,Ee-1):he&&Ne?new Ke.Range(ve,Ce-1,ye,Ee+1):he?new Ke.Range(ve,Ce-1,ye,Ee):new Ke.Range(ve,Ce,ye,Ee+1):new Ke.Range(ve,Ce,ye,Ee)}}modifyPosition(j,te){this._assertNotDisposed();const he=this.getOffsetAt(j)+te;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,he)))}getFullModelRange(){this._assertNotDisposed();const j=this.getLineCount();return new Ke.Range(1,1,j,this.getLineMaxColumn(j))}findMatchesLineByLine(j,te,he,ve){return this._buffer.findMatchesLineByLine(j,te,he,ve)}findMatches(j,te,he,ve,Ce,ye,Ee=999){this._assertNotDisposed();let Ie=null;null!==te&&(Array.isArray(te)||(te=[te]),te.every((j=>Ke.Range.isIRange(j)))&&(Ie=te.map((j=>this.validateRange(j))))),null===Ie&&(Ie=[this.getFullModelRange()]),Ie=Ie.sort(((j,te)=>j.startLineNumber-te.startLineNumber||j.startColumn-te.startColumn));const Ne=[];let Oe;if(Ne.push(Ie.reduce(((j,te)=>Ke.Range.areIntersecting(j,te)?j.plusRange(te):(Ne.push(j),te)))),!he&&j.indexOf("\n")<0){const te=new ft.SearchParams(j,he,ve,Ce).parseSearchRequest();if(!te)return[];Oe=j=>this.findMatchesLineByLine(j,te,ye,Ee)}else Oe=te=>ft.TextModelSearch.findMatches(this,new ft.SearchParams(j,he,ve,Ce),te,ye,Ee);return Ne.map(Oe).reduce(((j,te)=>j.concat(te)),[])}findNextMatch(j,te,he,ve,Ce,ye){this._assertNotDisposed();const Ee=this.validatePosition(te);if(!he&&j.indexOf("\n")<0){const te=new ft.SearchParams(j,he,ve,Ce).parseSearchRequest();if(!te)return null;const Ie=this.getLineCount();let Ne=new Ke.Range(Ee.lineNumber,Ee.column,Ie,this.getLineMaxColumn(Ie)),Oe=this.findMatchesLineByLine(Ne,te,ye,1);return ft.TextModelSearch.findNextMatch(this,new ft.SearchParams(j,he,ve,Ce),Ee,ye),Oe.length>0||(Ne=new Ke.Range(1,1,Ee.lineNumber,this.getLineMaxColumn(Ee.lineNumber)),Oe=this.findMatchesLineByLine(Ne,te,ye,1),Oe.length>0)?Oe[0]:null}return ft.TextModelSearch.findNextMatch(this,new ft.SearchParams(j,he,ve,Ce),Ee,ye)}findPreviousMatch(j,te,he,ve,Ce,ye){this._assertNotDisposed();const Ee=this.validatePosition(te);return ft.TextModelSearch.findPreviousMatch(this,new ft.SearchParams(j,he,ve,Ce),Ee,ye)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(j){if(("\n"===this.getEOL()?0:1)!==j)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(j)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(j){return j instanceof Ze.ValidAnnotatedEditOperation?j:new Ze.ValidAnnotatedEditOperation(j.identifier||null,this.validateRange(j.range),j.text,j.forceMoveMarkers||!1,j.isAutoWhitespaceEdit||!1,j._isTracked||!1)}_validateEditOperations(j){const te=[];for(let he=0,ve=j.length;he<ve;he++)te[he]=this._validateEditOperation(j[he]);return te}pushEditOperations(j,te,he){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(j,this._validateEditOperations(te),he)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(j,te,he){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const he=te.map((j=>({range:this.validateRange(j.range),text:j.text})));let ve=!0;if(j)for(let te=0,Ce=j.length;te<Ce;te++){const Ce=j[te];let ye=!1;for(let j=0,te=he.length;j<te;j++){const te=he[j].range,ve=te.startLineNumber>Ce.endLineNumber,Ee=Ce.startLineNumber>te.endLineNumber;if(!ve&&!Ee){ye=!0;break}}if(!ye){ve=!1;break}}if(ve)for(let j=0,ve=this._trimAutoWhitespaceLines.length;j<ve;j++){const ve=this._trimAutoWhitespaceLines[j],Ce=this.getLineMaxColumn(ve);let ye=!0;for(let j=0,te=he.length;j<te;j++){const te=he[j].range,Ee=he[j].text;if(!(ve<te.startLineNumber||ve>te.endLineNumber||ve===te.startLineNumber&&te.startColumn===Ce&&te.isEmpty()&&Ee&&Ee.length>0&&"\n"===Ee.charAt(0)||ve===te.startLineNumber&&1===te.startColumn&&te.isEmpty()&&Ee&&Ee.length>0&&"\n"===Ee.charAt(Ee.length-1))){ye=!1;break}}if(ye){const j=new Ke.Range(ve,1,ve,Ce);te.push(new Ze.ValidAnnotatedEditOperation(null,j,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(j,te,he)}_applyUndo(j,te,he,ve){const Ce=j.map((j=>{const te=this.getPositionAt(j.newPosition),he=this.getPositionAt(j.newEnd);return{range:new Ke.Range(te.lineNumber,te.column,he.lineNumber,he.column),text:j.oldText}}));this._applyUndoRedoEdits(Ce,te,!0,!1,he,ve)}_applyRedo(j,te,he,ve){const Ce=j.map((j=>{const te=this.getPositionAt(j.oldPosition),he=this.getPositionAt(j.oldEnd);return{range:new Ke.Range(te.lineNumber,te.column,he.lineNumber,he.column),text:j.newText}}));this._applyUndoRedoEdits(Ce,te,!1,!0,he,ve)}_applyUndoRedoEdits(j,te,he,ve,Ce,ye){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=he,this._isRedoing=ve,this.applyEdits(j,!1),this.setEOL(te),this._overwriteAlternativeVersionId(Ce)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ye),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(j,te=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const he=this._validateEditOperations(j);return this._doApplyEdits(he,te)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(j,te){const ve=this._buffer.getLineCount(),Ce=this._buffer.applyEdits(j,this._options.trimAutoWhitespace,te),ye=this._buffer.getLineCount(),Ee=Ce.changes;if(this._trimAutoWhitespaceLines=Ce.trimAutoWhitespaceLineNumbers,0!==Ee.length){for(let j=0,te=Ee.length;j<te;j++){const te=Ee[j],[he,ve,Ce]=(0,Ct.countEOL)(te.text);this._tokens.acceptEdit(te.range,he,ve),this._semanticTokens.acceptEdit(te.range,he,ve,Ce,te.text.length>0?te.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(te.rangeOffset,te.rangeLength,te.text.length,te.forceMoveMarkers)}const j=[];this._increaseVersionId();let te=ve;for(let ve=0,Ce=Ee.length;ve<Ce;ve++){const Ce=Ee[ve],[Ie]=(0,Ct.countEOL)(Ce.text);this._onDidChangeDecorations.fire();const Ne=Ce.range.startLineNumber,Ke=Ce.range.endLineNumber,je=Ke-Ne,Ze=Ie,Ye=Math.min(je,Ze),et=Ze-je,nt=ye-te-et+Ne,rt=nt,at=nt+Ze,ct=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new Oe.Position(rt,1)),this.getOffsetAt(new Oe.Position(at,this.getLineMaxColumn(at))),0),ht=pt.LineInjectedText.fromDecorations(ct),mt=new he.ArrayQueue(ht);for(let te=Ye;te>=0;te--){const he=Ne+te,ve=nt+te;mt.takeFromEndWhile((j=>j.lineNumber>ve));const Ce=mt.takeFromEndWhile((j=>j.lineNumber===ve));j.push(new pt.ModelRawLineChanged(he,this.getLineContent(ve),Ce))}if(Ye<je){const te=Ne+Ye;j.push(new pt.ModelRawLinesDeleted(te+1,Ke))}if(Ye<Ze){const ve=new he.ArrayQueue(ht),Ce=Ne+Ye,Ee=Ze-Ye,Ie=ye-te-Ee+Ce+1,Oe=[],Ke=[];for(let j=0;j<Ee;j++){const te=Ie+j;Ke[j]=this.getLineContent(te),ve.takeWhile((j=>j.lineNumber<te)),Oe[j]=ve.takeWhile((j=>j.lineNumber===te))}j.push(new pt.ModelRawLinesInserted(Ce+1,Ne+Ze,Ke,Oe))}te+=et}this._emitContentChangedEvent(new pt.ModelRawContentChangedEvent(j,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Ee,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===Ce.reverseEdits?void 0:Ce.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(j){if(null===j||0===j.size)return;const te=[...j].map((j=>new pt.ModelRawLineChanged(j,this.getLineContent(j),this._getInjectedTextInLine(j))));this._onDidChangeContentOrInjectedText.fire(new pt.ModelInjectedTextChangedEvent(te))}changeDecorations(j,te=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(te,j)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(j,te){const he={addDecoration:(te,he)=>this._deltaDecorationsImpl(j,[],[{range:te,options:he}])[0],changeDecoration:(j,te)=>{this._changeDecorationImpl(j,te)},changeDecorationOptions:(j,te)=>{this._changeDecorationOptionsImpl(j,ne(te))},removeDecoration:te=>{this._deltaDecorationsImpl(j,[te],[])},deltaDecorations:(te,he)=>0===te.length&&0===he.length?[]:this._deltaDecorationsImpl(j,te,he)};let ve=null;try{ve=te(he)}catch(j){(0,Ce.onUnexpectedError)(j)}return he.addDecoration=W,he.changeDecoration=W,he.changeDecorationOptions=W,he.removeDecoration=W,he.deltaDecorations=W,ve}deltaDecorations(j,te,he=0){if(this._assertNotDisposed(),j||(j=[]),0===j.length&&0===te.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(he,j,te)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(j){return this.getDecorationRange(j)}_setTrackedRange(j,te,he){const ve=j?this._decorations[j]:null;if(!ve)return te?this._deltaDecorationsImpl(0,[],[{range:te,options:jt[he]}])[0]:null;if(!te)return this._decorationsTree.delete(ve),delete this._decorations[ve.id],null;const Ce=this._validateRangeRelaxedNoAllocations(te),ye=this._buffer.getOffsetAt(Ce.startLineNumber,Ce.startColumn),Ee=this._buffer.getOffsetAt(Ce.endLineNumber,Ce.endColumn);return this._decorationsTree.delete(ve),ve.reset(this.getVersionId(),ye,Ee,Ce),ve.setOptions(jt[he]),this._decorationsTree.insert(ve),ve.id}removeAllDecorationsWithOwnerId(j){if(this._isDisposed)return;const te=this._decorationsTree.collectNodesFromOwner(j);for(let j=0,he=te.length;j<he;j++){const he=te[j];this._decorationsTree.delete(he),delete this._decorations[he.id]}}getDecorationOptions(j){const te=this._decorations[j];return te?te.options:null}getDecorationRange(j){const te=this._decorations[j];return te?this._decorationsTree.getNodeRange(this,te):null}getLineDecorations(j,te=0,he=!1){return j<1||j>this.getLineCount()?[]:this.getLinesDecorations(j,j,te,he)}getLinesDecorations(j,te,he=0,ve=!1){const Ce=this.getLineCount(),ye=Math.min(Ce,Math.max(1,j)),Ee=Math.min(Ce,Math.max(1,te)),Ie=this.getLineMaxColumn(Ee),Ne=new Ke.Range(ye,1,Ee,Ie),Oe=this._getDecorationsInRange(Ne,he,ve);return Oe.push(...this._decorationProvider.getDecorationsInRange(Ne,he,ve)),Oe}getDecorationsInRange(j,te=0,he=!1){const ve=this.validateRange(j),Ce=this._getDecorationsInRange(ve,te,he);return Ce.push(...this._decorationProvider.getDecorationsInRange(ve,te,he)),Ce}getOverviewRulerDecorations(j=0,te=!1){return this._decorationsTree.getAll(this,j,te,!0)}getInjectedTextDecorations(j=0){return this._decorationsTree.getAllInjectedText(this,j)}_getInjectedTextInLine(j){const te=this._buffer.getOffsetAt(j,1),he=te+this._buffer.getLineLength(j),ve=this._decorationsTree.getInjectedTextInInterval(this,te,he,0);return pt.LineInjectedText.fromDecorations(ve).filter((te=>te.lineNumber===j))}getAllDecorations(j=0,te=!1){let he=this._decorationsTree.getAll(this,j,te,!1);return he=he.concat(this._decorationProvider.getAllDecorations(j,te)),he}_getDecorationsInRange(j,te,he){const ve=this._buffer.getOffsetAt(j.startLineNumber,j.startColumn),Ce=this._buffer.getOffsetAt(j.endLineNumber,j.endColumn);return this._decorationsTree.getAllInInterval(this,ve,Ce,te,he)}getRangeAt(j,te){return this._buffer.getRangeAt(j,te-j)}_changeDecorationImpl(j,te){const he=this._decorations[j];if(!he)return;if(he.options.after){const te=this.getDecorationRange(j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(te.endLineNumber)}if(he.options.before){const te=this.getDecorationRange(j);this._onDidChangeDecorations.recordLineAffectedByInjectedText(te.startLineNumber)}const ve=this._validateRangeRelaxedNoAllocations(te),Ce=this._buffer.getOffsetAt(ve.startLineNumber,ve.startColumn),ye=this._buffer.getOffsetAt(ve.endLineNumber,ve.endColumn);this._decorationsTree.delete(he),he.reset(this.getVersionId(),Ce,ye,ve),this._decorationsTree.insert(he),this._onDidChangeDecorations.checkAffectedAndFire(he.options),he.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber),he.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber)}_changeDecorationOptionsImpl(j,te){const he=this._decorations[j];if(!he)return;const ve=!(!he.options.overviewRuler||!he.options.overviewRuler.color),Ce=!(!te.overviewRuler||!te.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(he.options),this._onDidChangeDecorations.checkAffectedAndFire(te),he.options.after||te.after){const j=this._decorationsTree.getNodeRange(this,he);this._onDidChangeDecorations.recordLineAffectedByInjectedText(j.endLineNumber)}if(he.options.before||te.before){const j=this._decorationsTree.getNodeRange(this,he);this._onDidChangeDecorations.recordLineAffectedByInjectedText(j.startLineNumber)}ve!==Ce?(this._decorationsTree.delete(he),he.setOptions(te),this._decorationsTree.insert(he)):he.setOptions(te)}_deltaDecorationsImpl(j,te,he){const ve=this.getVersionId(),Ce=te.length;let ye=0;const Ee=he.length;let Ie=0;const Ne=new Array(Ee);for(;ye<Ce||Ie<Ee;){let Oe=null;if(ye<Ce){do{Oe=this._decorations[te[ye++]]}while(!Oe&&ye<Ce);if(Oe){if(Oe.options.after){const j=this._decorationsTree.getNodeRange(this,Oe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(j.endLineNumber)}if(Oe.options.before){const j=this._decorationsTree.getNodeRange(this,Oe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(j.startLineNumber)}this._decorationsTree.delete(Oe),this._onDidChangeDecorations.checkAffectedAndFire(Oe.options)}}if(Ie<Ee){if(!Oe){const j=++this._lastDecorationId,te=`${this._instanceId};${j}`;Oe=new ct.IntervalNode(te,0,0),this._decorations[te]=Oe}const te=he[Ie],Ce=this._validateRangeRelaxedNoAllocations(te.range),ye=ne(te.options),Ee=this._buffer.getOffsetAt(Ce.startLineNumber,Ce.startColumn),Ke=this._buffer.getOffsetAt(Ce.endLineNumber,Ce.endColumn);Oe.ownerId=j,Oe.reset(ve,Ee,Ke,Ce),Oe.setOptions(ye),Oe.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ce.endLineNumber),Oe.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ce.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(ye),this._decorationsTree.insert(Oe),Ne[Ie]=Oe.id,Ie++}else Oe&&delete this._decorations[Oe.id]}return Ne}setTokens(j,te=!1){if(0!==j.length){const te=[];for(let he=0,ve=j.length;he<ve;he++){const ve=j[he];let Ce=0,ye=0,Ee=!1;for(let j=ve.startLineNumber;j<=ve.endLineNumber;j++)Ee?(this._tokens.setTokens(this._languageId,j-1,this._buffer.getLineLength(j),ve.getLineTokens(j),!1),ye=j):this._tokens.setTokens(this._languageId,j-1,this._buffer.getLineLength(j),ve.getLineTokens(j),!0)&&(Ee=!0,Ce=j,ye=j);Ee&&te.push({fromLineNumber:Ce,toLineNumber:ye})}te.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:te})}this.handleTokenizationProgress(te)}setSemanticTokens(j,te){this._semanticTokens.set(j,te),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==j,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(j,te){if(this.hasCompleteSemanticTokens())return;const he=this.validateRange(this._semanticTokens.setPartial(j,te));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:he.startLineNumber,toLineNumber:he.endLineNumber}]})}tokenizeViewport(j,te){j=Math.max(1,j),te=Math.min(this._buffer.getLineCount(),te),this._tokenization.tokenizeViewport(j,te)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(j){this._isDisposing||this._onDidChangeTokens.fire(j)}resetTokenization(){this._tokenization.reset()}forceTokenization(j){if(j<1||j>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(j)}isCheapToTokenize(j){return this._tokenization.isCheapToTokenize(j)}tokenizeIfCheap(j){this.isCheapToTokenize(j)&&this.forceTokenization(j)}getLineTokens(j){if(j<1||j>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(j)}_getLineTokens(j){const te=this.getLineContent(j),he=this._tokens.getTokens(this._languageId,j-1,te);return this._semanticTokens.addSparseTokens(j,he)}getLanguageId(){return this._languageId}setMode(j){if(this._languageId===j)return;const te={oldLanguage:this._languageId,newLanguage:j};this._languageId=j,this._onDidChangeLanguage.fire(te),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(j,te){const he=this.validatePosition(new Oe.Position(j,te)),ve=this.getLineTokens(he.lineNumber);return ve.getLanguageId(ve.findTokenIndexAtOffset(he.column-1))}getTokenTypeIfInsertingCharacter(j,te,he){const ve=this.validatePosition(new Oe.Position(j,te));return this._tokenization.getTokenTypeIfInsertingCharacter(ve,he)}tokenizeLineWithEdit(j,te,he){const ve=this.validatePosition(j);return this._tokenization.tokenizeLineWithEdit(ve,te,he)}getLanguageConfiguration(j){return this._languageConfigurationService.getLanguageConfiguration(j)}getWordAtPosition(j){this._assertNotDisposed();const te=this.validatePosition(j),he=this.getLineContent(te.lineNumber),ve=this._getLineTokens(te.lineNumber),Ce=ve.findTokenIndexAtOffset(te.column-1),[ye,Ee]=vt._findLanguageBoundaries(ve,Ce),Ie=(0,Dt.getWordAtText)(te.column,this.getLanguageConfiguration(ve.getLanguageId(Ce)).getWordDefinition(),he.substring(ye,Ee),ye);if(Ie&&Ie.startColumn<=j.column&&j.column<=Ie.endColumn)return Ie;if(Ce>0&&ye===te.column-1){const[ye,Ee]=vt._findLanguageBoundaries(ve,Ce-1),Ie=(0,Dt.getWordAtText)(te.column,this.getLanguageConfiguration(ve.getLanguageId(Ce-1)).getWordDefinition(),he.substring(ye,Ee),ye);if(Ie&&Ie.startColumn<=j.column&&j.column<=Ie.endColumn)return Ie}return null}static _findLanguageBoundaries(j,te){const he=j.getLanguageId(te);let ve=0;for(let Ce=te;Ce>=0&&j.getLanguageId(Ce)===he;Ce--)ve=j.getStartOffset(Ce);let Ce=j.getLineContent().length;for(let ve=te,ye=j.getCount();ve<ye&&j.getLanguageId(ve)===he;ve++)Ce=j.getEndOffset(ve);return[ve,Ce]}getWordUntilPosition(j){const te=this.getWordAtPosition(j);return te?{word:te.word.substr(0,j.column-te.startColumn),startColumn:te.startColumn,endColumn:j.column}:{word:"",startColumn:j.column,endColumn:j.column}}normalizePosition(j,te){return j}getLineIndentColumn(j){return function H(j){let te=0;for(const he of j){if(" "!==he&&"\t"!==he)break;te++}return te}(this.getLineContent(j))+1}};function q(j){return!(!j.options.overviewRuler||!j.options.overviewRuler.color)}function X(j){return!!j.options.after||!!j.options.before}Ut.MODEL_SYNC_LIMIT=52428800,Ut.LARGE_FILE_SIZE_THRESHOLD=20971520,Ut.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,Ut.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Pt.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:Pt.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:Pt.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Pt.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:Pt.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:Pt.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},Ut=Ci([Zi(4,At.IUndoRedoService),Zi(5,kt.ILanguageService),Zi(6,It.ILanguageConfigurationService)],Ut),te.TextModel=Ut;class G{constructor(){this._decorationsTree0=new ct.IntervalTree,this._decorationsTree1=new ct.IntervalTree,this._injectedTextDecorationsTree=new ct.IntervalTree}ensureAllNodesHaveRanges(j){this.getAll(j,0,!1,!1)}_ensureNodesHaveRanges(j,te){for(const he of te)null===he.range&&(he.range=j.getRangeAt(he.cachedAbsoluteStart,he.cachedAbsoluteEnd));return te}getAllInInterval(j,te,he,ve,Ce){const ye=j.getVersionId(),Ee=this._intervalSearch(te,he,ve,Ce,ye);return this._ensureNodesHaveRanges(j,Ee)}_intervalSearch(j,te,he,ve,Ce){const ye=this._decorationsTree0.intervalSearch(j,te,he,ve,Ce),Ee=this._decorationsTree1.intervalSearch(j,te,he,ve,Ce),Ie=this._injectedTextDecorationsTree.intervalSearch(j,te,he,ve,Ce);return ye.concat(Ee).concat(Ie)}getInjectedTextInInterval(j,te,he,ve){const Ce=j.getVersionId(),ye=this._injectedTextDecorationsTree.intervalSearch(te,he,ve,!1,Ce);return this._ensureNodesHaveRanges(j,ye).filter((j=>j.options.showIfCollapsed||!j.range.isEmpty()))}getAllInjectedText(j,te){const he=j.getVersionId(),ve=this._injectedTextDecorationsTree.search(te,!1,he);return this._ensureNodesHaveRanges(j,ve).filter((j=>j.options.showIfCollapsed||!j.range.isEmpty()))}getAll(j,te,he,ve){const Ce=j.getVersionId(),ye=this._search(te,he,ve,Ce);return this._ensureNodesHaveRanges(j,ye)}_search(j,te,he,ve){if(he)return this._decorationsTree1.search(j,te,ve);{const he=this._decorationsTree0.search(j,te,ve),Ce=this._decorationsTree1.search(j,te,ve),ye=this._injectedTextDecorationsTree.search(j,te,ve);return he.concat(Ce).concat(ye)}}collectNodesFromOwner(j){const te=this._decorationsTree0.collectNodesFromOwner(j),he=this._decorationsTree1.collectNodesFromOwner(j),ve=this._injectedTextDecorationsTree.collectNodesFromOwner(j);return te.concat(he).concat(ve)}collectNodesPostOrder(){const j=this._decorationsTree0.collectNodesPostOrder(),te=this._decorationsTree1.collectNodesPostOrder(),he=this._injectedTextDecorationsTree.collectNodesPostOrder();return j.concat(te).concat(he)}insert(j){X(j)?this._injectedTextDecorationsTree.insert(j):q(j)?this._decorationsTree1.insert(j):this._decorationsTree0.insert(j)}delete(j){X(j)?this._injectedTextDecorationsTree.delete(j):q(j)?this._decorationsTree1.delete(j):this._decorationsTree0.delete(j)}getNodeRange(j,te){const he=j.getVersionId();return te.cachedVersionId!==he&&this._resolveNode(te,he),null===te.range&&(te.range=j.getRangeAt(te.cachedAbsoluteStart,te.cachedAbsoluteEnd)),te.range}_resolveNode(j,te){X(j)?this._injectedTextDecorationsTree.resolveNode(j,te):q(j)?this._decorationsTree1.resolveNode(j,te):this._decorationsTree0.resolveNode(j,te)}acceptReplace(j,te,he,ve){this._decorationsTree0.acceptReplace(j,te,he,ve),this._decorationsTree1.acceptReplace(j,te,he,ve),this._injectedTextDecorationsTree.acceptReplace(j,te,he,ve)}}function re(j){return j.replace(/[^a-z0-9\-_]/gi," ")}class ae{constructor(j){this.color=j.color||"",this.darkColor=j.darkColor||""}}class oe extends ae{constructor(j){super(j),this._resolvedColor=null,this.position="number"==typeof j.position?j.position:Ze.OverviewRulerLane.Center}getColor(j){return this._resolvedColor||("light"!==j.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,j):this._resolvedColor=this._resolveColor(this.color,j)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(j,te){if("string"==typeof j)return j;const he=j?te.getColor(j.id):null;return he?he.toString():""}}te.ModelDecorationOverviewRulerOptions=oe;class Z extends ae{constructor(j){super(j),this.position=j.position}getColor(j){return this._resolvedColor||("light"!==j.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,j):this._resolvedColor=this._resolveColor(this.color,j)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(j,te){return"string"==typeof j?ve.Color.fromHex(j):te.getColor(j.id)}}te.ModelDecorationMinimapOptions=Z;class x{constructor(j){this.content=j.content||"",this.inlineClassName=j.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=j.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=j.attachedData||null,this.cursorStops=j.cursorStops||null}static from(j){return j instanceof x?j:new x(j)}}te.ModelDecorationInjectedTextOptions=x;class U{constructor(j){var te,he;this.description=j.description,this.stickiness=j.stickiness||0,this.zIndex=j.zIndex||0,this.className=j.className?re(j.className):null,this.hoverMessage=j.hoverMessage||null,this.glyphMarginHoverMessage=j.glyphMarginHoverMessage||null,this.isWholeLine=j.isWholeLine||!1,this.showIfCollapsed=j.showIfCollapsed||!1,this.collapseOnReplaceEdit=j.collapseOnReplaceEdit||!1,this.overviewRuler=j.overviewRuler?new oe(j.overviewRuler):null,this.minimap=j.minimap?new Z(j.minimap):null,this.glyphMarginClassName=j.glyphMarginClassName?re(j.glyphMarginClassName):null,this.linesDecorationsClassName=j.linesDecorationsClassName?re(j.linesDecorationsClassName):null,this.firstLineDecorationClassName=j.firstLineDecorationClassName?re(j.firstLineDecorationClassName):null,this.marginClassName=j.marginClassName?re(j.marginClassName):null,this.inlineClassName=j.inlineClassName?re(j.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=j.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=j.beforeContentClassName?re(j.beforeContentClassName):null,this.afterContentClassName=j.afterContentClassName?re(j.afterContentClassName):null,this.after=j.after?x.from(j.after):null,this.before=j.before?x.from(j.before):null,this.hideInCommentTokens=null!==(te=j.hideInCommentTokens)&&void 0!==te&&te,this.hideInStringTokens=null!==(he=j.hideInStringTokens)&&void 0!==he&&he}static register(j){return new U(j)}static createDynamic(j){return new U(j)}}te.ModelDecorationOptions=U,U.EMPTY=U.register({description:"empty"});const jt=[U.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),U.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),U.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),U.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ne(j){return j instanceof U?j:U.createDynamic(j)}class ce extends Ee.Disposable{constructor(j){super(),this.handleBeforeFire=j,this._actual=this._register(new ye.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var j;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const j={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(j)}null===(j=this._affectedInjectedTextLines)||void 0===j||j.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(j){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(j)}checkAffectedAndFire(j){this._affectsMinimap||(this._affectsMinimap=!(!j.minimap||!j.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!j.overviewRuler||!j.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}te.DidChangeDecorationsEmitter=ce;class ee extends Ee.Disposable{constructor(){super(),this._fastEmitter=this._register(new ye.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new ye.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(j=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=j;const te=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(te),this._slowEmitter.fire(te)}}fire(j){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(j):this._deferredEvent=j:(this._fastEmitter.fire(j),this._slowEmitter.fire(j))}}te.DidChangeContentEmitter=ee})),define(Ce[59],ie([1,0,11,3,22,33,120,68]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.isQuote=te.EditOperationResult=te.SingleCursorState=te.PartialViewCursorState=te.PartialModelCursorState=te.CursorState=te.CursorContext=te.CursorConfiguration=void 0;const p=()=>!0,h=()=>!1,g=j=>" "===j||"\t"===j;te.CursorConfiguration=class t{constructor(j,te,he,ve){this.languageConfigurationService=ve,this._cursorMoveConfigurationBrand=void 0,this._languageId=j;const Ce=he.options,ye=Ce.get(131);this.readOnly=Ce.get(81),this.tabSize=te.tabSize,this.indentSize=te.indentSize,this.insertSpaces=te.insertSpaces,this.stickyTabStops=Ce.get(104),this.lineHeight=Ce.get(59),this.pageSize=Math.max(1,Math.floor(ye.height/this.lineHeight)-2),this.useTabStops=Ce.get(116),this.wordSeparators=Ce.get(117),this.emptySelectionClipboard=Ce.get(32),this.copyWithSyntaxHighlighting=Ce.get(21),this.multiCursorMergeOverlapping=Ce.get(69),this.multiCursorPaste=Ce.get(71),this.autoClosingBrackets=Ce.get(5),this.autoClosingQuotes=Ce.get(8),this.autoClosingDelete=Ce.get(6),this.autoClosingOvertype=Ce.get(7),this.autoSurround=Ce.get(11),this.autoIndent=Ce.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(j,this.autoClosingQuotes),bracket:this._getShouldAutoClose(j,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(j).getAutoClosingPairs();const Ee=this.languageConfigurationService.getLanguageConfiguration(j).getSurroundingPairs();if(Ee)for(const j of Ee)this.surroundingPairs[j.open]=j.close}static shouldRecreate(j){return j.hasChanged(131)||j.hasChanged(117)||j.hasChanged(32)||j.hasChanged(69)||j.hasChanged(71)||j.hasChanged(5)||j.hasChanged(8)||j.hasChanged(6)||j.hasChanged(7)||j.hasChanged(11)||j.hasChanged(116)||j.hasChanged(59)||j.hasChanged(81)}get electricChars(){var j;if(!this._electricChars){this._electricChars={};const te=null===(j=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===j?void 0:j.getElectricCharacters();if(te)for(const j of te)this._electricChars[j]=!0}return this._electricChars}onElectricCharacter(j,te,he){const ve=(0,Ee.createScopedLineTokens)(te,he-1),Ce=this.languageConfigurationService.getLanguageConfiguration(ve.languageId).electricCharacter;return Ce?Ce.onElectricCharacter(j,ve,he-ve.firstCharOffset):null}normalizeIndentation(j){return ye.TextModel.normalizeIndentation(j,this.indentSize,this.insertSpaces)}_getShouldAutoClose(j,te){switch(te){case"beforeWhitespace":return g;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(j);case"always":return p;case"never":return h}}_getLanguageDefinedShouldAutoClose(j){const te=this.languageConfigurationService.getLanguageConfiguration(j).getAutoCloseBeforeSet();return j=>-1!==te.indexOf(j)}visibleColumnFromColumn(j,te){return Ie.CursorColumns.visibleColumnFromColumn(j.getLineContent(te.lineNumber),te.column,this.tabSize)}columnFromVisibleColumn(j,te,he){const ve=Ie.CursorColumns.columnFromVisibleColumn(j.getLineContent(te),he,this.tabSize),Ce=j.getLineMinColumn(te);if(ve<Ce)return Ce;const ye=j.getLineMaxColumn(te);return ve>ye?ye:ve}};te.CursorContext=class i{constructor(j,te,he,ve){this._cursorContextBrand=void 0,this.model=j,this.viewModel=te,this.coordinatesConverter=he,this.cursorConfig=ve}};class n{constructor(j,te){this._cursorStateBrand=void 0,this.modelState=j,this.viewState=te}static fromModelState(j){return new l(j)}static fromViewState(j){return new c(j)}static fromModelSelection(j){const te=Ce.Selection.liftSelection(j),he=new r(ve.Range.fromPositions(te.getSelectionStart()),0,te.getPosition(),0);return n.fromModelState(he)}static fromModelSelections(j){const te=[];for(let he=0,ve=j.length;he<ve;he++)te[he]=this.fromModelSelection(j[he]);return te}equals(j){return this.viewState.equals(j.viewState)&&this.modelState.equals(j.modelState)}}te.CursorState=n;class l{constructor(j){this.modelState=j,this.viewState=null}}te.PartialModelCursorState=l;class c{constructor(j){this.modelState=null,this.viewState=j}}te.PartialViewCursorState=c;class r{constructor(j,te,he,ve){this._singleCursorStateBrand=void 0,this.selectionStart=j,this.selectionStartLeftoverVisibleColumns=te,this.position=he,this.leftoverVisibleColumns=ve,this.selection=r._computeSelection(this.selectionStart,this.position)}equals(j){return this.selectionStartLeftoverVisibleColumns===j.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===j.leftoverVisibleColumns&&this.position.equals(j.position)&&this.selectionStart.equalsRange(j.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(j,te,Ce,ye){return j?new r(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new he.Position(te,Ce),ye):new r(new ve.Range(te,Ce,te,Ce),ye,new he.Position(te,Ce),ye)}static _computeSelection(j,te){return j.isEmpty()||!te.isBeforeOrEqual(j.getStartPosition())?Ce.Selection.fromPositions(j.getStartPosition(),te):Ce.Selection.fromPositions(j.getEndPosition(),te)}}te.SingleCursorState=r;te.EditOperationResult=class s{constructor(j,te,he){this._editOperationResultBrand=void 0,this.type=j,this.commands=te,this.shouldPushStackElementBefore=he.shouldPushStackElementBefore,this.shouldPushStackElementAfter=he.shouldPushStackElementAfter}},te.isQuote=function o(j){return"'"===j||'"'===j||"`"===j}})),define(Ce[699],ie([1,0,59,11,3]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.ColumnSelection=void 0;class I{static columnSelect(j,te,ye,Ee,Ie,Ne){const Oe=Math.abs(Ie-ye)+1,Ke=ye>Ie,je=Ee>Ne,Ze=Ee<Ne,Ye=[];for(let Ie=0;Ie<Oe;Ie++){const Oe=ye+(Ke?-Ie:Ie),et=j.columnFromVisibleColumn(te,Oe,Ee),nt=j.columnFromVisibleColumn(te,Oe,Ne),rt=j.visibleColumnFromColumn(te,new ve.Position(Oe,et)),at=j.visibleColumnFromColumn(te,new ve.Position(Oe,nt));Ze&&(rt>Ne||at<Ee)||je&&(at>Ee||rt<Ne)||Ye.push(new he.SingleCursorState(new Ce.Range(Oe,et,Oe,et),0,new ve.Position(Oe,nt),0))}if(0===Ye.length)for(let j=0;j<Oe;j++){const Ee=ye+(Ke?-j:j),Ie=te.getLineMaxColumn(Ee);Ye.push(new he.SingleCursorState(new Ce.Range(Ee,Ie,Ee,Ie),0,new ve.Position(Ee,Ie),0))}return{viewStates:Ye,reversed:Ke,fromLineNumber:ye,fromVisualColumn:Ee,toLineNumber:Ie,toVisualColumn:Ne}}static columnSelectLeft(j,te,he){let ve=he.toViewVisualColumn;return ve>0&&ve--,I.columnSelect(j,te,he.fromViewLineNumber,he.fromViewVisualColumn,he.toViewLineNumber,ve)}static columnSelectRight(j,te,he){let Ce=0;const ye=Math.min(he.fromViewLineNumber,he.toViewLineNumber),Ee=Math.max(he.fromViewLineNumber,he.toViewLineNumber);for(let he=ye;he<=Ee;he++){const ye=te.getLineMaxColumn(he),Ee=j.visibleColumnFromColumn(te,new ve.Position(he,ye));Ce=Math.max(Ce,Ee)}let Ie=he.toViewVisualColumn;return Ie<Ce&&Ie++,this.columnSelect(j,te,he.fromViewLineNumber,he.fromViewVisualColumn,he.toViewLineNumber,Ie)}static columnSelectUp(j,te,he,ve){const Ce=ve?j.pageSize:1,ye=Math.max(1,he.toViewLineNumber-Ce);return this.columnSelect(j,te,he.fromViewLineNumber,he.fromViewVisualColumn,ye,he.toViewVisualColumn)}static columnSelectDown(j,te,he,ve){const Ce=ve?j.pageSize:1,ye=Math.min(te.getLineCount(),he.toViewLineNumber+Ce);return this.columnSelect(j,te,he.fromViewLineNumber,he.fromViewVisualColumn,ye,he.toViewVisualColumn)}}te.ColumnSelection=I})),define(Ce[203],ie([1,0,59,68,11,3,8,238]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.MoveOperations=te.CursorPosition=void 0;class p{constructor(j,te,he){this._cursorPositionBrand=void 0,this.lineNumber=j,this.column=te,this.leftoverVisibleColumns=he}}te.CursorPosition=p;class h{static leftPosition(j,te){if(te.column>j.getLineMinColumn(te.lineNumber))return te.delta(void 0,-Ee.prevCharLength(j.getLineContent(te.lineNumber),te.column-1));if(te.lineNumber>1){const he=te.lineNumber-1;return new Ce.Position(he,j.getLineMaxColumn(he))}return te}static leftPositionAtomicSoftTabs(j,te,he){if(te.column<=j.getLineIndentColumn(te.lineNumber)){const ve=j.getLineMinColumn(te.lineNumber),ye=j.getLineContent(te.lineNumber),Ee=Ie.AtomicTabMoveOperations.atomicPosition(ye,te.column-1,he,0);if(-1!==Ee&&Ee+1>=ve)return new Ce.Position(te.lineNumber,Ee+1)}return this.leftPosition(j,te)}static left(j,te,he){const ve=j.stickyTabStops?h.leftPositionAtomicSoftTabs(te,he,j.tabSize):h.leftPosition(te,he);return new p(ve.lineNumber,ve.column,0)}static moveLeft(j,te,he,ve,Ce){let ye,Ee;if(he.hasSelection()&&!ve)ye=he.selection.startLineNumber,Ee=he.selection.startColumn;else{const ve=he.position.delta(void 0,-(Ce-1)),Ie=te.normalizePosition(h.clipPositionColumn(ve,te),0),Ne=h.left(j,te,Ie);ye=Ne.lineNumber,Ee=Ne.column}return he.move(ve,ye,Ee,0)}static clipPositionColumn(j,te){return new Ce.Position(j.lineNumber,h.clipRange(j.column,te.getLineMinColumn(j.lineNumber),te.getLineMaxColumn(j.lineNumber)))}static clipRange(j,te,he){return j<te?te:j>he?he:j}static rightPosition(j,te,he){return he<j.getLineMaxColumn(te)?he+=Ee.nextCharLength(j.getLineContent(te),he-1):te<j.getLineCount()&&(te+=1,he=j.getLineMinColumn(te)),new Ce.Position(te,he)}static rightPositionAtomicSoftTabs(j,te,he,ve,ye){if(he<j.getLineIndentColumn(te)){const ye=j.getLineContent(te),Ee=Ie.AtomicTabMoveOperations.atomicPosition(ye,he-1,ve,1);if(-1!==Ee)return new Ce.Position(te,Ee+1)}return this.rightPosition(j,te,he)}static right(j,te,he){const ve=j.stickyTabStops?h.rightPositionAtomicSoftTabs(te,he.lineNumber,he.column,j.tabSize,j.indentSize):h.rightPosition(te,he.lineNumber,he.column);return new p(ve.lineNumber,ve.column,0)}static moveRight(j,te,he,ve,Ce){let ye,Ee;if(he.hasSelection()&&!ve)ye=he.selection.endLineNumber,Ee=he.selection.endColumn;else{const ve=he.position.delta(void 0,Ce-1),Ie=te.normalizePosition(h.clipPositionColumn(ve,te),1),Ne=h.right(j,te,Ie);ye=Ne.lineNumber,Ee=Ne.column}return he.move(ve,ye,Ee,0)}static vertical(j,te,he,ye,Ee,Ie,Ne,Oe){const Ke=ve.CursorColumns.visibleColumnFromColumn(te.getLineContent(he),ye,j.tabSize)+Ee,je=te.getLineCount(),Ze=1===he&&1===ye,Ye=he===je&&ye===te.getLineMaxColumn(he),et=Ie<he?Ze:Ye;if((he=Ie)<1?(he=1,ye=Ne?te.getLineMinColumn(he):Math.min(te.getLineMaxColumn(he),ye)):he>je?(he=je,ye=Ne?te.getLineMaxColumn(he):Math.min(te.getLineMaxColumn(he),ye)):ye=j.columnFromVisibleColumn(te,he,Ke),Ee=et?0:Ke-ve.CursorColumns.visibleColumnFromColumn(te.getLineContent(he),ye,j.tabSize),void 0!==Oe){const j=new Ce.Position(he,ye),ve=te.normalizePosition(j,Oe);Ee+=ye-ve.column,he=ve.lineNumber,ye=ve.column}return new p(he,ye,Ee)}static down(j,te,he,ve,Ce,ye,Ee){return this.vertical(j,te,he,ve,Ce,he+ye,Ee,1)}static moveDown(j,te,he,ve,Ce){let ye,Ee;he.hasSelection()&&!ve?(ye=he.selection.endLineNumber,Ee=he.selection.endColumn):(ye=he.position.lineNumber,Ee=he.position.column);const Ie=h.down(j,te,ye,Ee,he.leftoverVisibleColumns,Ce,!0);return he.move(ve,Ie.lineNumber,Ie.column,Ie.leftoverVisibleColumns)}static translateDown(j,te,ve){const Ee=ve.selection,Ie=h.down(j,te,Ee.selectionStartLineNumber,Ee.selectionStartColumn,ve.selectionStartLeftoverVisibleColumns,1,!1),Ne=h.down(j,te,Ee.positionLineNumber,Ee.positionColumn,ve.leftoverVisibleColumns,1,!1);return new he.SingleCursorState(new ye.Range(Ie.lineNumber,Ie.column,Ie.lineNumber,Ie.column),Ie.leftoverVisibleColumns,new Ce.Position(Ne.lineNumber,Ne.column),Ne.leftoverVisibleColumns)}static up(j,te,he,ve,Ce,ye,Ee){return this.vertical(j,te,he,ve,Ce,he-ye,Ee,0)}static moveUp(j,te,he,ve,Ce){let ye,Ee;he.hasSelection()&&!ve?(ye=he.selection.startLineNumber,Ee=he.selection.startColumn):(ye=he.position.lineNumber,Ee=he.position.column);const Ie=h.up(j,te,ye,Ee,he.leftoverVisibleColumns,Ce,!0);return he.move(ve,Ie.lineNumber,Ie.column,Ie.leftoverVisibleColumns)}static translateUp(j,te,ve){const Ee=ve.selection,Ie=h.up(j,te,Ee.selectionStartLineNumber,Ee.selectionStartColumn,ve.selectionStartLeftoverVisibleColumns,1,!1),Ne=h.up(j,te,Ee.positionLineNumber,Ee.positionColumn,ve.leftoverVisibleColumns,1,!1);return new he.SingleCursorState(new ye.Range(Ie.lineNumber,Ie.column,Ie.lineNumber,Ie.column),Ie.leftoverVisibleColumns,new Ce.Position(Ne.lineNumber,Ne.column),Ne.leftoverVisibleColumns)}static _isBlankLine(j,te){return 0===j.getLineFirstNonWhitespaceColumn(te)}static moveToPrevBlankLine(j,te,he,ve){let Ce=he.position.lineNumber;for(;Ce>1&&this._isBlankLine(te,Ce);)Ce--;for(;Ce>1&&!this._isBlankLine(te,Ce);)Ce--;return he.move(ve,Ce,te.getLineMinColumn(Ce),0)}static moveToNextBlankLine(j,te,he,ve){const Ce=te.getLineCount();let ye=he.position.lineNumber;for(;ye<Ce&&this._isBlankLine(te,ye);)ye++;for(;ye<Ce&&!this._isBlankLine(te,ye);)ye++;return he.move(ve,ye,te.getLineMinColumn(ye),0)}static moveToBeginningOfLine(j,te,he,ve){const Ce=he.position.lineNumber,ye=te.getLineMinColumn(Ce),Ee=te.getLineFirstNonWhitespaceColumn(Ce)||ye;let Ie;return Ie=he.position.column===Ee?ye:Ee,he.move(ve,Ce,Ie,0)}static moveToEndOfLine(j,te,he,ve,Ce){const ye=he.position.lineNumber,Ee=te.getLineMaxColumn(ye);return he.move(ve,ye,Ee,Ce?1073741824-Ee:0)}static moveToBeginningOfBuffer(j,te,he,ve){return he.move(ve,1,1,0)}static moveToEndOfBuffer(j,te,he,ve){const Ce=te.getLineCount(),ye=te.getLineMaxColumn(Ce);return he.move(ve,Ce,ye,0)}}te.MoveOperations=h})),define(Ce[204],ie([1,0,8,98,59,68,203,3,11]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.DeleteOperations=void 0;class h{static deleteRight(j,te,he,Ce){const ye=[];let Ne=3!==j;for(let j=0,Oe=Ce.length;j<Oe;j++){const Oe=Ce[j];let Ke=Oe;if(Ke.isEmpty()){const j=Oe.getPosition(),ve=Ee.MoveOperations.right(te,he,j);Ke=new Ie.Range(ve.lineNumber,ve.column,j.lineNumber,j.column)}Ke.isEmpty()?ye[j]=null:(Ke.startLineNumber!==Ke.endLineNumber&&(Ne=!0),ye[j]=new ve.ReplaceCommand(Ke,""))}return[Ne,ye]}static isAutoClosingPairDelete(j,te,he,ve,ye,Ee,Ie){if("never"===te&&"never"===he||"never"===j)return!1;for(let Ne=0,Oe=Ee.length;Ne<Oe;Ne++){const Oe=Ee[Ne],Ke=Oe.getPosition();if(!Oe.isEmpty())return!1;const je=ye.getLineContent(Ke.lineNumber);if(Ke.column<2||Ke.column>=je.length+1)return!1;const Ze=je.charAt(Ke.column-2),Ye=ve.get(Ze);if(!Ye)return!1;if((0,Ce.isQuote)(Ze)){if("never"===he)return!1}else if("never"===te)return!1;const et=je.charAt(Ke.column-1);let nt=!1;for(const j of Ye)j.open===Ze&&j.close===et&&(nt=!0);if(!nt)return!1;if("auto"===j){let j=!1;for(let te=0,he=Ie.length;te<he;te++){const he=Ie[te];if(Ke.lineNumber===he.startLineNumber&&Ke.column===he.startColumn){j=!0;break}}if(!j)return!1}}return!0}static _runAutoClosingPairDelete(j,te,he){const Ce=[];for(let j=0,te=he.length;j<te;j++){const te=he[j].getPosition(),ye=new Ie.Range(te.lineNumber,te.column-1,te.lineNumber,te.column+1);Ce[j]=new ve.ReplaceCommand(ye,"")}return[!0,Ce]}static deleteLeft(j,te,he,Ce,ye){if(this.isAutoClosingPairDelete(te.autoClosingDelete,te.autoClosingBrackets,te.autoClosingQuotes,te.autoClosingPairs.autoClosingPairsOpenByEnd,he,Ce,ye))return this._runAutoClosingPairDelete(te,he,Ce);const Ee=[];let Ie=2!==j;for(let j=0,ye=Ce.length;j<ye;j++){const ye=h.getDeleteRange(Ce[j],he,te);ye.isEmpty()?Ee[j]=null:(ye.startLineNumber!==ye.endLineNumber&&(Ie=!0),Ee[j]=new ve.ReplaceCommand(ye,""))}return[Ie,Ee]}static getDeleteRange(j,te,ve){if(!j.isEmpty())return j;const Ce=j.getPosition();if(ve.useTabStops&&Ce.column>1){const j=te.getLineContent(Ce.lineNumber),Ee=he.firstNonWhitespaceIndex(j),Ne=-1===Ee?j.length+1:Ee+1;if(Ce.column<=Ne){const j=ve.visibleColumnFromColumn(te,Ce),he=ye.CursorColumns.prevIndentTabStop(j,ve.indentSize),Ee=ve.columnFromVisibleColumn(te,Ce.lineNumber,he);return new Ie.Range(Ce.lineNumber,Ee,Ce.lineNumber,Ce.column)}}return Ie.Range.fromPositions(h.getPositionAfterDeleteLeft(Ce,te),Ce)}static getPositionAfterDeleteLeft(j,te){if(j.column>1){const ve=he.getLeftDeleteOffset(j.column-1,te.getLineContent(j.lineNumber));return j.with(void 0,ve+1)}if(j.lineNumber>1){const he=j.lineNumber-1;return new Ne.Position(he,te.getLineMaxColumn(he))}return j}static cut(j,te,he){const ye=[];let Ee=null;he.sort(((j,te)=>Ne.Position.compare(j.getStartPosition(),te.getEndPosition())));for(let Ce=0,Ne=he.length;Ce<Ne;Ce++){const Ne=he[Ce];if(Ne.isEmpty())if(j.emptySelectionClipboard){const j=Ne.getPosition();let he,Oe,Ke,je;j.lineNumber<te.getLineCount()?(he=j.lineNumber,Oe=1,Ke=j.lineNumber+1,je=1):j.lineNumber>1&&(null==Ee?void 0:Ee.endLineNumber)!==j.lineNumber?(he=j.lineNumber-1,Oe=te.getLineMaxColumn(j.lineNumber-1),Ke=j.lineNumber,je=te.getLineMaxColumn(j.lineNumber)):(he=j.lineNumber,Oe=1,Ke=j.lineNumber,je=te.getLineMaxColumn(j.lineNumber));const Ze=new Ie.Range(he,Oe,Ke,je);Ee=Ze,Ze.isEmpty()?ye[Ce]=null:ye[Ce]=new ve.ReplaceCommand(Ze,"")}else ye[Ce]=null;else ye[Ce]=new ve.ReplaceCommand(Ne,"")}return new Ce.EditOperationResult(0,ye,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}te.DeleteOperations=h})),define(Ce[205],ie([1,0,13,8,98,197,403,59,118,3,22,11,119,32,120]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et){Object.defineProperty(te,"__esModule",{value:!0}),te.TypeWithAutoClosingCommand=te.TypeOperations=void 0;class c{static indent(j,te,he){if(null===te||null===he)return[];const ve=[];for(let te=0,Ce=he.length;te<Ce;te++)ve[te]=new ye.ShiftCommand(he[te],{isUnshift:!1,tabSize:j.tabSize,indentSize:j.indentSize,insertSpaces:j.insertSpaces,useTabStops:j.useTabStops,autoIndent:j.autoIndent});return ve}static outdent(j,te,he){const ve=[];for(let te=0,Ce=he.length;te<Ce;te++)ve[te]=new ye.ShiftCommand(he[te],{isUnshift:!0,tabSize:j.tabSize,indentSize:j.indentSize,insertSpaces:j.insertSpaces,useTabStops:j.useTabStops,autoIndent:j.autoIndent});return ve}static shiftIndent(j,te,he){return he=he||1,ye.ShiftCommand.shiftIndent(te,te.length+he,j.tabSize,j.indentSize,j.insertSpaces)}static unshiftIndent(j,te,he){return he=he||1,ye.ShiftCommand.unshiftIndent(te,te.length+he,j.tabSize,j.indentSize,j.insertSpaces)}static _distributedPaste(j,te,he,ve){const ye=[];for(let j=0,te=he.length;j<te;j++)ye[j]=new Ce.ReplaceCommand(he[j],ve[j]);return new Ie.EditOperationResult(0,ye,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(j,te,he,ve,ye){const Ee=[];for(let j=0,te=he.length;j<te;j++){const te=he[j],Ie=te.getPosition();if(ye&&!te.isEmpty()&&(ye=!1),ye&&ve.indexOf("\n")!==ve.length-1&&(ye=!1),ye){const he=new Oe.Range(Ie.lineNumber,1,Ie.lineNumber,1);Ee[j]=new Ce.ReplaceCommandThatPreservesSelection(he,ve,te,!0)}else Ee[j]=new Ce.ReplaceCommand(te,ve)}return new Ie.EditOperationResult(0,Ee,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(j,te,he,Ce,ye){if(Ce||1===te.length)return null;if(ye&&ye.length===te.length)return ye;if("spread"===j.multiCursorPaste){10===he.charCodeAt(he.length-1)&&(he=he.substr(0,he.length-1)),13===he.charCodeAt(he.length-1)&&(he=he.substr(0,he.length-1));const j=ve.splitLines(he);if(j.length===te.length)return j}return null}static paste(j,te,he,ve,Ce,ye){const Ee=this._distributePasteToCursors(j,he,ve,Ce,ye);return Ee?(he=he.sort(Oe.Range.compareRangesUsingStarts),this._distributedPaste(j,te,he,Ee)):this._simplePaste(j,te,he,ve,Ce)}static _goodIndentForLine(j,te,he){let Ce=null,ye="";const Ee=Ye.LanguageConfigurationRegistry.getInheritIndentForLine(j.autoIndent,te,he,!1);if(Ee)Ce=Ee.action,ye=Ee.indentation;else if(he>1){let Ce;for(Ce=he-1;Ce>=1;Ce--){const j=te.getLineContent(Ce);if(ve.lastNonWhitespaceIndex(j)>=0)break}if(Ce<1)return null;const Ee=te.getLineMaxColumn(Ce),Ie=Ye.LanguageConfigurationRegistry.getEnterAction(j.autoIndent,te,new Oe.Range(Ce,Ee,Ce,Ee));Ie&&(ye=Ie.indentation+Ie.appendText)}return Ce&&(Ce===Ze.IndentAction.Indent&&(ye=c.shiftIndent(j,ye)),Ce===Ze.IndentAction.Outdent&&(ye=c.unshiftIndent(j,ye)),ye=j.normalizeIndentation(ye)),ye||null}static _replaceJumpToNextIndent(j,te,he,ve){let ye="";const Ee=he.getStartPosition();if(j.insertSpaces){const he=j.visibleColumnFromColumn(te,Ee),ve=j.indentSize,Ce=ve-he%ve;for(let j=0;j<Ce;j++)ye+=" "}else ye="\t";return new Ce.ReplaceCommand(he,ye,ve)}static tab(j,te,he){const ve=[];for(let Ee=0,Ie=he.length;Ee<Ie;Ee++){const Ie=he[Ee];if(Ie.isEmpty()){const he=te.getLineContent(Ie.startLineNumber);if(/^\s*$/.test(he)&&te.isCheapToTokenize(Ie.startLineNumber)){let ye=this._goodIndentForLine(j,te,Ie.startLineNumber);ye=ye||"\t";const Ne=j.normalizeIndentation(ye);if(!he.startsWith(Ne)){ve[Ee]=new Ce.ReplaceCommand(new Oe.Range(Ie.startLineNumber,1,Ie.startLineNumber,he.length+1),Ne,!0);continue}}ve[Ee]=this._replaceJumpToNextIndent(j,te,Ie,!0)}else{if(Ie.startLineNumber===Ie.endLineNumber){const he=te.getLineMaxColumn(Ie.startLineNumber);if(1!==Ie.startColumn||Ie.endColumn!==he){ve[Ee]=this._replaceJumpToNextIndent(j,te,Ie,!1);continue}}ve[Ee]=new ye.ShiftCommand(Ie,{isUnshift:!1,tabSize:j.tabSize,indentSize:j.indentSize,insertSpaces:j.insertSpaces,useTabStops:j.useTabStops,autoIndent:j.autoIndent})}}return ve}static compositionType(j,te,he,ve,Ce,ye,Ee,Ne){const Oe=ve.map((j=>this._compositionType(he,j,Ce,ye,Ee,Ne)));return new Ie.EditOperationResult(4,Oe,{shouldPushStackElementBefore:o(j,4),shouldPushStackElementAfter:!1})}static _compositionType(j,te,he,ve,ye,Ee){if(!te.isEmpty())return null;const Ie=te.getPosition(),Ne=Math.max(1,Ie.column-ve),Ke=Math.min(j.getLineMaxColumn(Ie.lineNumber),Ie.column+ye),je=new Oe.Range(Ie.lineNumber,Ne,Ie.lineNumber,Ke);return j.getValueInRange(je)===he&&0===Ee?null:new Ce.ReplaceCommandWithOffsetCursorState(je,he,0,Ee)}static _typeCommand(j,te,he){return he?new Ce.ReplaceCommandWithoutChangingPosition(j,te,!0):new Ce.ReplaceCommand(j,te,!0)}static _enter(j,te,he,ye){if(0===j.autoIndent)return c._typeCommand(ye,"\n",he);if(!te.isCheapToTokenize(ye.getStartPosition().lineNumber)||1===j.autoIndent){const Ce=te.getLineContent(ye.startLineNumber),Ee=ve.getLeadingWhitespace(Ce).substring(0,ye.startColumn-1);return c._typeCommand(ye,"\n"+j.normalizeIndentation(Ee),he)}const Ee=Ye.LanguageConfigurationRegistry.getEnterAction(j.autoIndent,te,ye);if(Ee){if(Ee.indentAction===Ze.IndentAction.None)return c._typeCommand(ye,"\n"+j.normalizeIndentation(Ee.indentation+Ee.appendText),he);if(Ee.indentAction===Ze.IndentAction.Indent)return c._typeCommand(ye,"\n"+j.normalizeIndentation(Ee.indentation+Ee.appendText),he);if(Ee.indentAction===Ze.IndentAction.IndentOutdent){const te=j.normalizeIndentation(Ee.indentation),ve=j.normalizeIndentation(Ee.indentation+Ee.appendText),Ie="\n"+ve+"\n"+te;return he?new Ce.ReplaceCommandWithoutChangingPosition(ye,Ie,!0):new Ce.ReplaceCommandWithOffsetCursorState(ye,Ie,-1,ve.length-te.length,!0)}if(Ee.indentAction===Ze.IndentAction.Outdent){const te=c.unshiftIndent(j,Ee.indentation);return c._typeCommand(ye,"\n"+j.normalizeIndentation(te+Ee.appendText),he)}}const Ie=te.getLineContent(ye.startLineNumber),Ne=ve.getLeadingWhitespace(Ie).substring(0,ye.startColumn-1);if(j.autoIndent>=4){const Ee=Ye.LanguageConfigurationRegistry.getIndentForEnter(j.autoIndent,te,ye,{unshiftIndent:te=>c.unshiftIndent(j,te),shiftIndent:te=>c.shiftIndent(j,te),normalizeIndentation:te=>j.normalizeIndentation(te)});if(Ee){let Ie=j.visibleColumnFromColumn(te,ye.getEndPosition());const Ne=ye.endColumn,Oe=te.getLineContent(ye.endLineNumber),Ke=ve.firstNonWhitespaceIndex(Oe);if(ye=Ke>=0?ye.setEndPosition(ye.endLineNumber,Math.max(ye.endColumn,Ke+1)):ye.setEndPosition(ye.endLineNumber,te.getLineMaxColumn(ye.endLineNumber)),he)return new Ce.ReplaceCommandWithoutChangingPosition(ye,"\n"+j.normalizeIndentation(Ee.afterEnter),!0);{let te=0;return Ne<=Ke+1&&(j.insertSpaces||(Ie=Math.ceil(Ie/j.indentSize)),te=Math.min(Ie+1-j.normalizeIndentation(Ee.afterEnter).length-1,0)),new Ce.ReplaceCommandWithOffsetCursorState(ye,"\n"+j.normalizeIndentation(Ee.afterEnter),0,te,!0)}}}return c._typeCommand(ye,"\n"+j.normalizeIndentation(Ne),he)}static _isAutoIndentType(j,te,he){if(j.autoIndent<4)return!1;for(let j=0,ve=he.length;j<ve;j++)if(!te.isCheapToTokenize(he[j].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(j,te,he,ve){const Ce=Ye.LanguageConfigurationRegistry.getIndentationAtPosition(te,he.startLineNumber,he.startColumn),ye=Ye.LanguageConfigurationRegistry.getIndentActionForType(j.autoIndent,te,he,ve,{shiftIndent:te=>c.shiftIndent(j,te),unshiftIndent:te=>c.unshiftIndent(j,te)});if(null===ye)return null;if(ye!==j.normalizeIndentation(Ce)){const Ce=te.getLineFirstNonWhitespaceColumn(he.startLineNumber);return 0===Ce?c._typeCommand(new Oe.Range(he.startLineNumber,1,he.endLineNumber,he.endColumn),j.normalizeIndentation(ye)+ve,!1):c._typeCommand(new Oe.Range(he.startLineNumber,1,he.endLineNumber,he.endColumn),j.normalizeIndentation(ye)+te.getLineContent(he.startLineNumber).substring(Ce-1,he.startColumn-1)+ve,!1)}return null}static _isAutoClosingOvertype(j,te,he,ve,Ce){if("never"===j.autoClosingOvertype||!j.autoClosingPairs.autoClosingPairsCloseSingleChar.has(Ce))return!1;for(let ye=0,Ee=he.length;ye<Ee;ye++){const Ee=he[ye];if(!Ee.isEmpty())return!1;const Ne=Ee.getPosition(),Oe=te.getLineContent(Ne.lineNumber);if(Oe.charAt(Ne.column-1)!==Ce)return!1;const Ke=(0,Ie.isQuote)(Ce);if(92===(Ne.column>2?Oe.charCodeAt(Ne.column-2):0)&&Ke)return!1;if("auto"===j.autoClosingOvertype){let j=!1;for(let te=0,he=ve.length;te<he;te++){const he=ve[te];if(Ne.lineNumber===he.startLineNumber&&Ne.column===he.startColumn){j=!0;break}}if(!j)return!1}}return!0}static _runAutoClosingOvertype(j,te,he,ve,ye){const Ee=[];for(let j=0,te=ve.length;j<te;j++){const te=ve[j].getPosition(),he=new Oe.Range(te.lineNumber,te.column,te.lineNumber,te.column+1);Ee[j]=new Ce.ReplaceCommand(he,ye)}return new Ie.EditOperationResult(4,Ee,{shouldPushStackElementBefore:o(j,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(j,te){const he=te.charAt(0),ve=j.autoClosingPairs.autoClosingPairsOpenByStart.get(he)||[],Ce=j.autoClosingPairs.autoClosingPairsCloseByStart.get(he)||[],ye=ve.some((j=>te.startsWith(j.open))),Ee=Ce.some((j=>te.startsWith(j.close)));return!ye&&Ee}static _findAutoClosingPairOpen(j,te,he,ve){const Ce=j.autoClosingPairs.autoClosingPairsOpenByEnd.get(ve);if(!Ce)return null;let ye=null;for(const j of Ce)if(null===ye||j.open.length>ye.open.length){let Ce=!0;for(const ye of he)if(te.getValueInRange(new Oe.Range(ye.lineNumber,ye.column-j.open.length+1,ye.lineNumber,ye.column))+ve!==j.open){Ce=!1;break}Ce&&(ye=j)}return ye}static _findContainedAutoClosingPair(j,te){if(te.open.length<=1)return null;const he=te.close.charAt(te.close.length-1),ve=j.autoClosingPairs.autoClosingPairsCloseByEnd.get(he)||[];let Ce=null;for(const j of ve)j.open!==te.open&&te.open.includes(j.open)&&te.close.endsWith(j.close)&&(!Ce||j.open.length>Ce.open.length)&&(Ce=j);return Ce}static _getAutoClosingPairClose(j,te,he,ve,Ce){const ye=(0,Ie.isQuote)(ve),Ee=ye?j.autoClosingQuotes:j.autoClosingBrackets,Oe=ye?j.shouldAutoCloseBefore.quote:j.shouldAutoCloseBefore.bracket;if("never"===Ee)return null;for(const j of he)if(!j.isEmpty())return null;const Ke=he.map((j=>{const te=j.getPosition();return Ce?{lineNumber:te.lineNumber,beforeColumn:te.column-ve.length,afterColumn:te.column}:{lineNumber:te.lineNumber,beforeColumn:te.column,afterColumn:te.column}})),Ze=this._findAutoClosingPairOpen(j,te,Ke.map((j=>new je.Position(j.lineNumber,j.beforeColumn))),ve);if(!Ze)return null;const Ye=this._findContainedAutoClosingPair(j,Ze),nt=Ye?Ye.close:"";let rt=!0;for(const he of Ke){const{lineNumber:Ce,beforeColumn:ye,afterColumn:Ie}=he,Ke=te.getLineContent(Ce),je=Ke.substring(0,ye-1),Ye=Ke.substring(Ie-1);if(Ye.startsWith(nt)||(rt=!1),Ye.length>0){const te=Ye.charAt(0);if(!c._isBeforeClosingBrace(j,Ye)&&!Oe(te))return null}if(1===Ze.open.length&&("'"===ve||'"'===ve)&&"always"!==Ee){const te=(0,Ne.getMapForWordSeparators)(j.wordSeparators);if(je.length>0){const j=je.charCodeAt(je.length-1);if(0===te.get(j))return null}}if(!te.isCheapToTokenize(Ce))return null;te.forceTokenization(Ce);const at=te.getLineTokens(Ce),ct=(0,et.createScopedLineTokens)(at,ye-1);if(!Ze.shouldAutoClose(ct,ye-ct.firstCharOffset))return null;const ht=Ze.findNeutralCharacter();if(ht){const j=te.getTokenTypeIfInsertingCharacter(Ce,ye,ht);if(!Ze.isOK(j))return null}}return rt?Ze.close.substring(0,Ze.close.length-nt.length):Ze.close}static _runAutoClosingOpenCharType(j,te,he,ve,Ce,ye,Ee){const Ne=[];for(let j=0,te=ve.length;j<te;j++){const te=ve[j];Ne[j]=new r(te,Ce,!ye,Ee)}return new Ie.EditOperationResult(4,Ne,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(j,te){return(0,Ie.isQuote)(te)?"quotes"===j.autoSurround||"languageDefined"===j.autoSurround:"brackets"===j.autoSurround||"languageDefined"===j.autoSurround}static _isSurroundSelectionType(j,te,he,ve){if(!c._shouldSurroundChar(j,ve)||!j.surroundingPairs.hasOwnProperty(ve))return!1;const Ce=(0,Ie.isQuote)(ve);for(let j=0,ve=he.length;j<ve;j++){const ve=he[j];if(ve.isEmpty())return!1;let ye=!0;for(let j=ve.startLineNumber;j<=ve.endLineNumber;j++){const he=te.getLineContent(j),Ce=j===ve.startLineNumber?ve.startColumn-1:0,Ee=j===ve.endLineNumber?ve.endColumn-1:he.length,Ie=he.substring(Ce,Ee);if(/[^ \t]/.test(Ie)){ye=!1;break}}if(ye)return!1;if(Ce&&ve.startLineNumber===ve.endLineNumber&&ve.startColumn+1===ve.endColumn){const j=te.getValueInRange(ve);if((0,Ie.isQuote)(j))return!1}}return!0}static _runSurroundSelectionType(j,te,he,ve,Ce){const ye=[];for(let j=0,he=ve.length;j<he;j++){const he=ve[j],Ie=te.surroundingPairs[Ce];ye[j]=new Ee.SurroundSelectionCommand(he,Ce,Ie)}return new Ie.EditOperationResult(0,ye,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(j,te,he){return!(1!==he.length||!te.isCheapToTokenize(he[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(j,te,ye,Ee,Ne){if(!te.electricChars.hasOwnProperty(Ne)||!Ee.isEmpty())return null;const Ke=Ee.getPosition();ye.forceTokenization(Ke.lineNumber);const je=ye.getLineTokens(Ke.lineNumber);let Ze;try{Ze=te.onElectricCharacter(Ne,je,Ke.column)}catch(j){return(0,he.onUnexpectedError)(j),null}if(!Ze)return null;if(Ze.matchOpenBracket){const he=(je.getLineContent()+Ne).lastIndexOf(Ze.matchOpenBracket)+1,Ee=ye.bracketPairs.findMatchingBracketUp(Ze.matchOpenBracket,{lineNumber:Ke.lineNumber,column:he});if(Ee){if(Ee.startLineNumber===Ke.lineNumber)return null;const he=ye.getLineContent(Ee.startLineNumber),je=ve.getLeadingWhitespace(he),Ze=te.normalizeIndentation(je),Ye=ye.getLineContent(Ke.lineNumber),et=ye.getLineFirstNonWhitespaceColumn(Ke.lineNumber)||Ke.column,nt=Ze+Ye.substring(et-1,Ke.column-1)+Ne,rt=new Oe.Range(Ke.lineNumber,1,Ke.lineNumber,Ke.column),at=new Ce.ReplaceCommand(rt,nt);return new Ie.EditOperationResult(s(nt,j),[at],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(j,te,he,ve,ye,Ee){if(!ve||Ke.Selection.selectionsArrEqual(ve,ye))return null;let Ne=null;for(const j of ye){if(!j.isEmpty())return null;const te=j.getPosition(),ve=he.getValueInRange(new Oe.Range(te.lineNumber,te.column-1,te.lineNumber,te.column));if(null===Ne)Ne=ve;else if(Ne!==ve)return null}if(!Ne)return null;if(this._isAutoClosingOvertype(te,he,ye,Ee,Ne)){const j=ye.map((j=>new Ce.ReplaceCommand(new Oe.Range(j.positionLineNumber,j.positionColumn,j.positionLineNumber,j.positionColumn+1),"",!1)));return new Ie.EditOperationResult(4,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const je=this._getAutoClosingPairClose(te,he,ye,Ne,!0);return null!==je?this._runAutoClosingOpenCharType(j,te,he,ye,Ne,!0,je):null}static typeWithInterceptors(j,te,he,ve,ye,Ee,Ne){if(!j&&"\n"===Ne){const j=[];for(let te=0,Ce=ye.length;te<Ce;te++)j[te]=c._enter(he,ve,!1,ye[te]);return new Ie.EditOperationResult(4,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!j&&this._isAutoIndentType(he,ve,ye)){const j=[];let te=!1;for(let Ce=0,Ee=ye.length;Ce<Ee;Ce++)if(j[Ce]=this._runAutoIndentType(he,ve,ye[Ce],Ne),!j[Ce]){te=!0;break}if(!te)return new Ie.EditOperationResult(4,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!j&&this._isAutoClosingOvertype(he,ve,ye,Ee,Ne))return this._runAutoClosingOvertype(te,he,ve,ye,Ne);if(!j){const j=this._getAutoClosingPairClose(he,ve,ye,Ne,!1);if(j)return this._runAutoClosingOpenCharType(te,he,ve,ye,Ne,!1,j)}if(this._isSurroundSelectionType(he,ve,ye,Ne))return this._runSurroundSelectionType(te,he,ve,ye,Ne);if(!j&&this._isTypeInterceptorElectricChar(he,ve,ye)){const j=this._typeInterceptorElectricChar(te,he,ve,ye[0],Ne);if(j)return j}const Oe=[];for(let j=0,te=ye.length;j<te;j++)Oe[j]=new Ce.ReplaceCommand(ye[j],Ne);const Ke=s(Ne,te);return new Ie.EditOperationResult(Ke,Oe,{shouldPushStackElementBefore:o(te,Ke),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(j,te,he,ve,ye){const Ee=[];for(let j=0,te=ve.length;j<te;j++)Ee[j]=new Ce.ReplaceCommand(ve[j],ye);const Ne=s(ye,j);return new Ie.EditOperationResult(Ne,Ee,{shouldPushStackElementBefore:o(j,Ne),shouldPushStackElementAfter:!1})}static lineInsertBefore(j,te,he){if(null===te||null===he)return[];const ve=[];for(let ye=0,Ee=he.length;ye<Ee;ye++){let Ee=he[ye].positionLineNumber;if(1===Ee)ve[ye]=new Ce.ReplaceCommandWithoutChangingPosition(new Oe.Range(1,1,1,1),"\n");else{Ee--;const he=te.getLineMaxColumn(Ee);ve[ye]=this._enter(j,te,!1,new Oe.Range(Ee,he,Ee,he))}}return ve}static lineInsertAfter(j,te,he){if(null===te||null===he)return[];const ve=[];for(let Ce=0,ye=he.length;Ce<ye;Ce++){const ye=he[Ce].positionLineNumber,Ee=te.getLineMaxColumn(ye);ve[Ce]=this._enter(j,te,!1,new Oe.Range(ye,Ee,ye,Ee))}return ve}static lineBreakInsert(j,te,he){const ve=[];for(let Ce=0,ye=he.length;Ce<ye;Ce++)ve[Ce]=this._enter(j,te,!0,he[Ce]);return ve}}te.TypeOperations=c;class r extends Ce.ReplaceCommandWithOffsetCursorState{constructor(j,te,he,ve){super(j,(he?te:"")+ve,0,-ve.length),this._openCharacter=te,this._closeCharacter=ve,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(j,te){const he=te.getInverseEditOperations()[0].range;return this.closeCharacterRange=new Oe.Range(he.startLineNumber,he.endColumn-this._closeCharacter.length,he.endLineNumber,he.endColumn),this.enclosingRange=new Oe.Range(he.startLineNumber,he.endColumn-this._openCharacter.length-this._closeCharacter.length,he.endLineNumber,he.endColumn),super.computeCursorState(j,te)}}function s(j,te){return" "===j?5===te||6===te?6:5:4}function o(j,te){return!(!d(j)||d(te))||5!==j&&a(j)!==a(te)}function a(j){return 6===j||5===j?"space":j}function d(j){return 4===j||5===j||6===j}te.TypeWithAutoClosingCommand=r})),define(Ce[159],ie([1,0,8,59,204,118,11,3]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.WordPartOperations=te.WordOperations=void 0;class p{static _createWord(j,te,he,ve,Ce){return{start:ve,end:Ce,wordType:te,nextCharClass:he}}static _findPreviousWordOnLine(j,te,he){const ve=te.getLineContent(he.lineNumber);return this._doFindPreviousWordOnLine(ve,j,he)}static _doFindPreviousWordOnLine(j,te,he){let ve=0;for(let Ce=he.column-2;Ce>=0;Ce--){const he=j.charCodeAt(Ce),ye=te.get(he);if(0===ye){if(2===ve)return this._createWord(j,ve,ye,Ce+1,this._findEndOfWord(j,te,ve,Ce+1));ve=1}else if(2===ye){if(1===ve)return this._createWord(j,ve,ye,Ce+1,this._findEndOfWord(j,te,ve,Ce+1));ve=2}else if(1===ye&&0!==ve)return this._createWord(j,ve,ye,Ce+1,this._findEndOfWord(j,te,ve,Ce+1))}return 0!==ve?this._createWord(j,ve,1,0,this._findEndOfWord(j,te,ve,0)):null}static _findEndOfWord(j,te,he,ve){const Ce=j.length;for(let ye=ve;ye<Ce;ye++){const ve=j.charCodeAt(ye),Ce=te.get(ve);if(1===Ce||1===he&&2===Ce||2===he&&0===Ce)return ye}return Ce}static _findNextWordOnLine(j,te,he){const ve=te.getLineContent(he.lineNumber);return this._doFindNextWordOnLine(ve,j,he)}static _doFindNextWordOnLine(j,te,he){let ve=0;const Ce=j.length;for(let ye=he.column-1;ye<Ce;ye++){const he=j.charCodeAt(ye),Ce=te.get(he);if(0===Ce){if(2===ve)return this._createWord(j,ve,Ce,this._findStartOfWord(j,te,ve,ye-1),ye);ve=1}else if(2===Ce){if(1===ve)return this._createWord(j,ve,Ce,this._findStartOfWord(j,te,ve,ye-1),ye);ve=2}else if(1===Ce&&0!==ve)return this._createWord(j,ve,Ce,this._findStartOfWord(j,te,ve,ye-1),ye)}return 0!==ve?this._createWord(j,ve,1,this._findStartOfWord(j,te,ve,Ce-1),Ce):null}static _findStartOfWord(j,te,he,ve){for(let Ce=ve;Ce>=0;Ce--){const ve=j.charCodeAt(Ce),ye=te.get(ve);if(1===ye||1===he&&2===ye||2===he&&0===ye)return Ce+1}return 0}static moveWordLeft(j,te,he,ve){let Ce=he.lineNumber,ye=he.column;1===ye&&Ce>1&&(Ce-=1,ye=te.getLineMaxColumn(Ce));let Ie=p._findPreviousWordOnLine(j,te,new Ee.Position(Ce,ye));if(0===ve)return new Ee.Position(Ce,Ie?Ie.start+1:1);if(1===ve)return Ie&&2===Ie.wordType&&Ie.end-Ie.start==1&&0===Ie.nextCharClass&&(Ie=p._findPreviousWordOnLine(j,te,new Ee.Position(Ce,Ie.start+1))),new Ee.Position(Ce,Ie?Ie.start+1:1);if(3===ve){for(;Ie&&2===Ie.wordType;)Ie=p._findPreviousWordOnLine(j,te,new Ee.Position(Ce,Ie.start+1));return new Ee.Position(Ce,Ie?Ie.start+1:1)}return Ie&&ye<=Ie.end+1&&(Ie=p._findPreviousWordOnLine(j,te,new Ee.Position(Ce,Ie.start+1))),new Ee.Position(Ce,Ie?Ie.end+1:1)}static _moveWordPartLeft(j,te){const ve=te.lineNumber,Ce=j.getLineMaxColumn(ve);if(1===te.column)return ve>1?new Ee.Position(ve-1,j.getLineMaxColumn(ve-1)):te;const ye=j.getLineContent(ve);for(let j=te.column-1;j>1;j--){const te=ye.charCodeAt(j-2),Ie=ye.charCodeAt(j-1);if(95===te&&95!==Ie)return new Ee.Position(ve,j);if(he.isLowerAsciiLetter(te)&&he.isUpperAsciiLetter(Ie))return new Ee.Position(ve,j);if(he.isUpperAsciiLetter(te)&&he.isUpperAsciiLetter(Ie)&&j+1<Ce){const te=ye.charCodeAt(j);if(he.isLowerAsciiLetter(te))return new Ee.Position(ve,j)}}return new Ee.Position(ve,1)}static moveWordRight(j,te,he,ve){let Ce=he.lineNumber,ye=he.column,Ie=!1;ye===te.getLineMaxColumn(Ce)&&Ce<te.getLineCount()&&(Ie=!0,Ce+=1,ye=1);let Ne=p._findNextWordOnLine(j,te,new Ee.Position(Ce,ye));if(2===ve)Ne&&2===Ne.wordType&&Ne.end-Ne.start==1&&0===Ne.nextCharClass&&(Ne=p._findNextWordOnLine(j,te,new Ee.Position(Ce,Ne.end+1))),ye=Ne?Ne.end+1:te.getLineMaxColumn(Ce);else if(3===ve){for(Ie&&(ye=0);Ne&&(2===Ne.wordType||Ne.start+1<=ye);)Ne=p._findNextWordOnLine(j,te,new Ee.Position(Ce,Ne.end+1));ye=Ne?Ne.start+1:te.getLineMaxColumn(Ce)}else Ne&&!Ie&&ye>=Ne.start+1&&(Ne=p._findNextWordOnLine(j,te,new Ee.Position(Ce,Ne.end+1))),ye=Ne?Ne.start+1:te.getLineMaxColumn(Ce);return new Ee.Position(Ce,ye)}static _moveWordPartRight(j,te){const ve=te.lineNumber,Ce=j.getLineMaxColumn(ve);if(te.column===Ce)return ve<j.getLineCount()?new Ee.Position(ve+1,1):te;const ye=j.getLineContent(ve);for(let j=te.column+1;j<Ce;j++){const te=ye.charCodeAt(j-2),Ie=ye.charCodeAt(j-1);if(95!==te&&95===Ie)return new Ee.Position(ve,j);if(he.isLowerAsciiLetter(te)&&he.isUpperAsciiLetter(Ie))return new Ee.Position(ve,j);if(he.isUpperAsciiLetter(te)&&he.isUpperAsciiLetter(Ie)&&j+1<Ce){const te=ye.charCodeAt(j);if(he.isLowerAsciiLetter(te))return new Ee.Position(ve,j)}}return new Ee.Position(ve,Ce)}static _deleteWordLeftWhitespace(j,te){const ve=j.getLineContent(te.lineNumber),Ce=te.column-2,ye=he.lastNonWhitespaceIndex(ve,Ce);return ye+1<Ce?new Ie.Range(te.lineNumber,ye+2,te.lineNumber,te.column):null}static deleteWordLeft(j,te){const he=j.wordSeparators,ve=j.model,ye=j.selection,Ne=j.whitespaceHeuristics;if(!ye.isEmpty())return ye;if(Ce.DeleteOperations.isAutoClosingPairDelete(j.autoClosingDelete,j.autoClosingBrackets,j.autoClosingQuotes,j.autoClosingPairs.autoClosingPairsOpenByEnd,j.model,[j.selection],j.autoClosedCharacters)){const te=j.selection.getPosition();return new Ie.Range(te.lineNumber,te.column-1,te.lineNumber,te.column+1)}const Oe=new Ee.Position(ye.positionLineNumber,ye.positionColumn);let Ke=Oe.lineNumber,je=Oe.column;if(1===Ke&&1===je)return null;if(Ne){const j=this._deleteWordLeftWhitespace(ve,Oe);if(j)return j}let Ze=p._findPreviousWordOnLine(he,ve,Oe);return 0===te?Ze?je=Ze.start+1:je>1?je=1:(Ke--,je=ve.getLineMaxColumn(Ke)):(Ze&&je<=Ze.end+1&&(Ze=p._findPreviousWordOnLine(he,ve,new Ee.Position(Ke,Ze.start+1))),Ze?je=Ze.end+1:je>1?je=1:(Ke--,je=ve.getLineMaxColumn(Ke))),new Ie.Range(Ke,je,Oe.lineNumber,Oe.column)}static deleteInsideWord(j,te,he){if(!he.isEmpty())return he;const ve=new Ee.Position(he.positionLineNumber,he.positionColumn);return this._deleteInsideWordWhitespace(te,ve)||this._deleteInsideWordDetermineDeleteRange(j,te,ve)}static _charAtIsWhitespace(j,te){const he=j.charCodeAt(te);return 32===he||9===he}static _deleteInsideWordWhitespace(j,te){const he=j.getLineContent(te.lineNumber),ve=he.length;if(0===ve)return null;let Ce=Math.max(te.column-2,0);if(!this._charAtIsWhitespace(he,Ce))return null;let ye=Math.min(te.column-1,ve-1);if(!this._charAtIsWhitespace(he,ye))return null;for(;Ce>0&&this._charAtIsWhitespace(he,Ce-1);)Ce--;for(;ye+1<ve&&this._charAtIsWhitespace(he,ye+1);)ye++;return new Ie.Range(te.lineNumber,Ce+1,te.lineNumber,ye+2)}static _deleteInsideWordDetermineDeleteRange(j,te,he){const ve=te.getLineContent(he.lineNumber),Ce=ve.length;if(0===Ce)return he.lineNumber>1?new Ie.Range(he.lineNumber-1,te.getLineMaxColumn(he.lineNumber-1),he.lineNumber,1):he.lineNumber<te.getLineCount()?new Ie.Range(he.lineNumber,1,he.lineNumber+1,1):new Ie.Range(he.lineNumber,1,he.lineNumber,1);const s=j=>j.start+1<=he.column&&he.column<=j.end+1,o=(j,te)=>(j=Math.min(j,he.column),te=Math.max(te,he.column),new Ie.Range(he.lineNumber,j,he.lineNumber,te)),a=j=>{let te=j.start+1,he=j.end+1,ye=!1;for(;he-1<Ce&&this._charAtIsWhitespace(ve,he-1);)ye=!0,he++;if(!ye)for(;te>1&&this._charAtIsWhitespace(ve,te-2);)te--;return o(te,he)},ye=p._findPreviousWordOnLine(j,te,he);if(ye&&s(ye))return a(ye);const Ee=p._findNextWordOnLine(j,te,he);return Ee&&s(Ee)?a(Ee):ye&&Ee?o(ye.end+1,Ee.start+1):ye?o(ye.start+1,ye.end+1):Ee?o(Ee.start+1,Ee.end+1):o(1,Ce+1)}static _deleteWordPartLeft(j,te){if(!te.isEmpty())return te;const he=te.getPosition(),ve=p._moveWordPartLeft(j,he);return new Ie.Range(he.lineNumber,he.column,ve.lineNumber,ve.column)}static _findFirstNonWhitespaceChar(j,te){const he=j.length;for(let ve=te;ve<he;ve++){const te=j.charAt(ve);if(" "!==te&&"\t"!==te)return ve}return he}static _deleteWordRightWhitespace(j,te){const he=j.getLineContent(te.lineNumber),ve=te.column-1,Ce=this._findFirstNonWhitespaceChar(he,ve);return ve+1<Ce?new Ie.Range(te.lineNumber,te.column,te.lineNumber,Ce+1):null}static deleteWordRight(j,te){const he=j.wordSeparators,ve=j.model,Ce=j.selection,ye=j.whitespaceHeuristics;if(!Ce.isEmpty())return Ce;const Ne=new Ee.Position(Ce.positionLineNumber,Ce.positionColumn);let Oe=Ne.lineNumber,Ke=Ne.column;const je=ve.getLineCount(),Ze=ve.getLineMaxColumn(Oe);if(Oe===je&&Ke===Ze)return null;if(ye){const j=this._deleteWordRightWhitespace(ve,Ne);if(j)return j}let Ye=p._findNextWordOnLine(he,ve,Ne);return 2===te?Ye?Ke=Ye.end+1:Ke<Ze||Oe===je?Ke=Ze:(Oe++,Ye=p._findNextWordOnLine(he,ve,new Ee.Position(Oe,1)),Ke=Ye?Ye.start+1:ve.getLineMaxColumn(Oe)):(Ye&&Ke>=Ye.start+1&&(Ye=p._findNextWordOnLine(he,ve,new Ee.Position(Oe,Ye.end+1))),Ye?Ke=Ye.start+1:Ke<Ze||Oe===je?Ke=Ze:(Oe++,Ye=p._findNextWordOnLine(he,ve,new Ee.Position(Oe,1)),Ke=Ye?Ye.start+1:ve.getLineMaxColumn(Oe))),new Ie.Range(Oe,Ke,Ne.lineNumber,Ne.column)}static _deleteWordPartRight(j,te){if(!te.isEmpty())return te;const he=te.getPosition(),ve=p._moveWordPartRight(j,he);return new Ie.Range(he.lineNumber,he.column,ve.lineNumber,ve.column)}static _createWordAtPosition(j,te,he){const ve=new Ie.Range(te,he.start+1,te,he.end+1);return{word:j.getValueInRange(ve),startColumn:ve.startColumn,endColumn:ve.endColumn}}static getWordAtPosition(j,te,he){const ve=(0,ye.getMapForWordSeparators)(te),Ce=p._findPreviousWordOnLine(ve,j,he);if(Ce&&1===Ce.wordType&&Ce.start<=he.column-1&&he.column-1<=Ce.end)return p._createWordAtPosition(j,he.lineNumber,Ce);const Ee=p._findNextWordOnLine(ve,j,he);return Ee&&1===Ee.wordType&&Ee.start<=he.column-1&&he.column-1<=Ee.end?p._createWordAtPosition(j,he.lineNumber,Ee):null}static word(j,te,he,Ce,Ne){const Oe=(0,ye.getMapForWordSeparators)(j.wordSeparators),Ke=p._findPreviousWordOnLine(Oe,te,Ne),je=p._findNextWordOnLine(Oe,te,Ne);if(!Ce){let j,he;return Ke&&1===Ke.wordType&&Ke.start<=Ne.column-1&&Ne.column-1<=Ke.end?(j=Ke.start+1,he=Ke.end+1):je&&1===je.wordType&&je.start<=Ne.column-1&&Ne.column-1<=je.end?(j=je.start+1,he=je.end+1):(j=Ke?Ke.end+1:1,he=je?je.start+1:te.getLineMaxColumn(Ne.lineNumber)),new ve.SingleCursorState(new Ie.Range(Ne.lineNumber,j,Ne.lineNumber,he),0,new Ee.Position(Ne.lineNumber,he),0)}let Ze,Ye;Ke&&1===Ke.wordType&&Ke.start<Ne.column-1&&Ne.column-1<Ke.end?(Ze=Ke.start+1,Ye=Ke.end+1):je&&1===je.wordType&&je.start<Ne.column-1&&Ne.column-1<je.end?(Ze=je.start+1,Ye=je.end+1):(Ze=Ne.column,Ye=Ne.column);const et=Ne.lineNumber;let nt;if(he.selectionStart.containsPosition(Ne))nt=he.selectionStart.endColumn;else if(Ne.isBeforeOrEqual(he.selectionStart.getStartPosition())){nt=Ze;const j=new Ee.Position(et,nt);he.selectionStart.containsPosition(j)&&(nt=he.selectionStart.endColumn)}else{nt=Ye;const j=new Ee.Position(et,nt);he.selectionStart.containsPosition(j)&&(nt=he.selectionStart.startColumn)}return he.move(!0,et,nt,0)}}te.WordOperations=p;function g(j){return j.filter((j=>Boolean(j)))}te.WordPartOperations=class h extends p{static deleteWordPartLeft(j){const te=g([p.deleteWordLeft(j,0),p.deleteWordLeft(j,2),p._deleteWordPartLeft(j.model,j.selection)]);return te.sort(Ie.Range.compareRangesUsingEnds),te[2]}static deleteWordPartRight(j){const te=g([p.deleteWordRight(j,0),p.deleteWordRight(j,2),p._deleteWordPartRight(j.model,j.selection)]);return te.sort(Ie.Range.compareRangesUsingStarts),te[0]}static moveWordPartLeft(j,te,he){const ve=g([p.moveWordLeft(j,te,he,0),p.moveWordLeft(j,te,he,2),p._moveWordPartLeft(te,he)]);return ve.sort(Ee.Position.compare),ve[2]}static moveWordPartRight(j,te,he){const ve=g([p.moveWordRight(j,te,he,0),p.moveWordRight(j,te,he,2),p._moveWordPartRight(te,he)]);return ve.sort(Ee.Position.compare),ve[0]}}})),define(Ce[206],ie([1,0,20,59,203,159,11,3]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.CursorMove=te.CursorMoveCommands=void 0;var Ne;te.CursorMoveCommands=class p{static addCursorDown(j,te,he){const ye=[];let Ee=0;for(let Ie=0,Ne=te.length;Ie<Ne;Ie++){const Ne=te[Ie];ye[Ee++]=new ve.CursorState(Ne.modelState,Ne.viewState),ye[Ee++]=he?ve.CursorState.fromModelState(Ce.MoveOperations.translateDown(j.cursorConfig,j.model,Ne.modelState)):ve.CursorState.fromViewState(Ce.MoveOperations.translateDown(j.cursorConfig,j,Ne.viewState))}return ye}static addCursorUp(j,te,he){const ye=[];let Ee=0;for(let Ie=0,Ne=te.length;Ie<Ne;Ie++){const Ne=te[Ie];ye[Ee++]=new ve.CursorState(Ne.modelState,Ne.viewState),ye[Ee++]=he?ve.CursorState.fromModelState(Ce.MoveOperations.translateUp(j.cursorConfig,j.model,Ne.modelState)):ve.CursorState.fromViewState(Ce.MoveOperations.translateUp(j.cursorConfig,j,Ne.viewState))}return ye}static moveToBeginningOfLine(j,te,he){let ve=[];for(let Ce=0,ye=te.length;Ce<ye;Ce++){const ye=te[Ce];ve[Ce]=this._moveToLineStart(j,ye,he)}return ve}static _moveToLineStart(j,te,he){const ve=te.viewState.position.column,Ce=ve===te.modelState.position.column,ye=te.viewState.position.lineNumber,Ee=j.getLineFirstNonWhitespaceColumn(ye);return Ce||ve===Ee?this._moveToLineStartByModel(j,te,he):this._moveToLineStartByView(j,te,he)}static _moveToLineStartByView(j,te,he){return ve.CursorState.fromViewState(Ce.MoveOperations.moveToBeginningOfLine(j.cursorConfig,j,te.viewState,he))}static _moveToLineStartByModel(j,te,he){return ve.CursorState.fromModelState(Ce.MoveOperations.moveToBeginningOfLine(j.cursorConfig,j.model,te.modelState,he))}static moveToEndOfLine(j,te,he,ve){const Ce=[];for(let ye=0,Ee=te.length;ye<Ee;ye++){const Ee=te[ye];Ce[ye]=this._moveToLineEnd(j,Ee,he,ve)}return Ce}static _moveToLineEnd(j,te,he,ve){const Ce=te.viewState.position,ye=j.getLineMaxColumn(Ce.lineNumber),Ee=Ce.column===ye,Ie=te.modelState.position,Ne=j.model.getLineMaxColumn(Ie.lineNumber),Oe=ye-Ce.column==Ne-Ie.column;return Ee||Oe?this._moveToLineEndByModel(j,te,he,ve):this._moveToLineEndByView(j,te,he,ve)}static _moveToLineEndByView(j,te,he,ye){return ve.CursorState.fromViewState(Ce.MoveOperations.moveToEndOfLine(j.cursorConfig,j,te.viewState,he,ye))}static _moveToLineEndByModel(j,te,he,ye){return ve.CursorState.fromModelState(Ce.MoveOperations.moveToEndOfLine(j.cursorConfig,j.model,te.modelState,he,ye))}static expandLineSelection(j,te){const he=[];for(let Ce=0,ye=te.length;Ce<ye;Ce++){const ye=te[Ce],Ne=ye.modelState.selection.startLineNumber,Oe=j.model.getLineCount();let Ke,je=ye.modelState.selection.endLineNumber;je===Oe?Ke=j.model.getLineMaxColumn(Oe):(je++,Ke=1),he[Ce]=ve.CursorState.fromModelState(new ve.SingleCursorState(new Ie.Range(Ne,1,Ne,1),0,new Ee.Position(je,Ke),0))}return he}static moveToBeginningOfBuffer(j,te,he){const ye=[];for(let Ee=0,Ie=te.length;Ee<Ie;Ee++){const Ie=te[Ee];ye[Ee]=ve.CursorState.fromModelState(Ce.MoveOperations.moveToBeginningOfBuffer(j.cursorConfig,j.model,Ie.modelState,he))}return ye}static moveToEndOfBuffer(j,te,he){const ye=[];for(let Ee=0,Ie=te.length;Ee<Ie;Ee++){const Ie=te[Ee];ye[Ee]=ve.CursorState.fromModelState(Ce.MoveOperations.moveToEndOfBuffer(j.cursorConfig,j.model,Ie.modelState,he))}return ye}static selectAll(j,te){const he=j.model.getLineCount(),Ce=j.model.getLineMaxColumn(he);return ve.CursorState.fromModelState(new ve.SingleCursorState(new Ie.Range(1,1,1,1),0,new Ee.Position(he,Ce),0))}static line(j,te,he,Ce,ye){const Ne=j.model.validatePosition(Ce),Oe=ye?j.coordinatesConverter.validateViewPosition(new Ee.Position(ye.lineNumber,ye.column),Ne):j.coordinatesConverter.convertModelPositionToViewPosition(Ne);if(!he||!te.modelState.hasSelection()){const te=j.model.getLineCount();let he=Ne.lineNumber+1,Ce=1;return he>te&&(he=te,Ce=j.model.getLineMaxColumn(he)),ve.CursorState.fromModelState(new ve.SingleCursorState(new Ie.Range(Ne.lineNumber,1,he,Ce),0,new Ee.Position(he,Ce),0))}const Ke=te.modelState.selectionStart.getStartPosition().lineNumber;if(Ne.lineNumber<Ke)return ve.CursorState.fromViewState(te.viewState.move(te.modelState.hasSelection(),Oe.lineNumber,1,0));if(Ne.lineNumber>Ke){const he=j.getLineCount();let Ce=Oe.lineNumber+1,ye=1;return Ce>he&&(Ce=he,ye=j.getLineMaxColumn(Ce)),ve.CursorState.fromViewState(te.viewState.move(te.modelState.hasSelection(),Ce,ye,0))}{const j=te.modelState.selectionStart.getEndPosition();return ve.CursorState.fromModelState(te.modelState.move(te.modelState.hasSelection(),j.lineNumber,j.column,0))}}static word(j,te,he,Ce){const Ee=j.model.validatePosition(Ce);return ve.CursorState.fromModelState(ye.WordOperations.word(j.cursorConfig,j.model,te.modelState,he,Ee))}static cancelSelection(j,te){if(!te.modelState.hasSelection())return new ve.CursorState(te.modelState,te.viewState);const he=te.viewState.position.lineNumber,Ce=te.viewState.position.column;return ve.CursorState.fromViewState(new ve.SingleCursorState(new Ie.Range(he,Ce,he,Ce),0,new Ee.Position(he,Ce),0))}static moveTo(j,te,he,Ce,ye){const Ie=j.model.validatePosition(Ce),Ne=ye?j.coordinatesConverter.validateViewPosition(new Ee.Position(ye.lineNumber,ye.column),Ie):j.coordinatesConverter.convertModelPositionToViewPosition(Ie);return ve.CursorState.fromViewState(te.viewState.move(he,Ne.lineNumber,Ne.column,0))}static simpleMove(j,te,he,ye,Ee,Ie){switch(he){case 0:return 4===Ie?this._moveHalfLineLeft(j,te,ye):this._moveLeft(j,te,ye,Ee);case 1:return 4===Ie?this._moveHalfLineRight(j,te,ye):this._moveRight(j,te,ye,Ee);case 2:return 2===Ie?this._moveUpByViewLines(j,te,ye,Ee):this._moveUpByModelLines(j,te,ye,Ee);case 3:return 2===Ie?this._moveDownByViewLines(j,te,ye,Ee):this._moveDownByModelLines(j,te,ye,Ee);case 4:return 2===Ie?te.map((te=>ve.CursorState.fromViewState(Ce.MoveOperations.moveToPrevBlankLine(j.cursorConfig,j,te.viewState,ye)))):te.map((te=>ve.CursorState.fromModelState(Ce.MoveOperations.moveToPrevBlankLine(j.cursorConfig,j.model,te.modelState,ye))));case 5:return 2===Ie?te.map((te=>ve.CursorState.fromViewState(Ce.MoveOperations.moveToNextBlankLine(j.cursorConfig,j,te.viewState,ye)))):te.map((te=>ve.CursorState.fromModelState(Ce.MoveOperations.moveToNextBlankLine(j.cursorConfig,j.model,te.modelState,ye))));case 6:return this._moveToViewMinColumn(j,te,ye);case 7:return this._moveToViewFirstNonWhitespaceColumn(j,te,ye);case 8:return this._moveToViewCenterColumn(j,te,ye);case 9:return this._moveToViewMaxColumn(j,te,ye);case 10:return this._moveToViewLastNonWhitespaceColumn(j,te,ye);default:return null}}static viewportMove(j,te,he,ve,Ce){const ye=j.getCompletelyVisibleViewRange(),Ee=j.coordinatesConverter.convertViewRangeToModelRange(ye);switch(he){case 11:{const he=this._firstLineNumberInRange(j.model,Ee,Ce),ye=j.model.getLineFirstNonWhitespaceColumn(he);return[this._moveToModelPosition(j,te[0],ve,he,ye)]}case 13:{const he=this._lastLineNumberInRange(j.model,Ee,Ce),ye=j.model.getLineFirstNonWhitespaceColumn(he);return[this._moveToModelPosition(j,te[0],ve,he,ye)]}case 12:{const he=Math.round((Ee.startLineNumber+Ee.endLineNumber)/2),Ce=j.model.getLineFirstNonWhitespaceColumn(he);return[this._moveToModelPosition(j,te[0],ve,he,Ce)]}case 14:{const he=[];for(let Ce=0,Ee=te.length;Ce<Ee;Ce++){const Ee=te[Ce];he[Ce]=this.findPositionInViewportIfOutside(j,Ee,ye,ve)}return he}default:return null}}static findPositionInViewportIfOutside(j,te,he,ye){const Ee=te.viewState.position.lineNumber;if(he.startLineNumber<=Ee&&Ee<=he.endLineNumber-1)return new ve.CursorState(te.modelState,te.viewState);{let Ie;Ie=Ee>he.endLineNumber-1?he.endLineNumber-1:Ee<he.startLineNumber?he.startLineNumber:Ee;const Ne=Ce.MoveOperations.vertical(j.cursorConfig,j,Ee,te.viewState.position.column,te.viewState.leftoverVisibleColumns,Ie,!1);return ve.CursorState.fromViewState(te.viewState.move(ye,Ne.lineNumber,Ne.column,Ne.leftoverVisibleColumns))}}static _firstLineNumberInRange(j,te,he){let ve=te.startLineNumber;return te.startColumn!==j.getLineMinColumn(ve)&&ve++,Math.min(te.endLineNumber,ve+he-1)}static _lastLineNumberInRange(j,te,he){let ve=te.startLineNumber;return te.startColumn!==j.getLineMinColumn(ve)&&ve++,Math.max(ve,te.endLineNumber-he+1)}static _moveLeft(j,te,he,ye){return te.map((te=>ve.CursorState.fromViewState(Ce.MoveOperations.moveLeft(j.cursorConfig,j,te.viewState,he,ye))))}static _moveHalfLineLeft(j,te,he){const ye=[];for(let Ee=0,Ie=te.length;Ee<Ie;Ee++){const Ie=te[Ee],Ne=Ie.viewState.position.lineNumber,Oe=Math.round(j.getLineContent(Ne).length/2);ye[Ee]=ve.CursorState.fromViewState(Ce.MoveOperations.moveLeft(j.cursorConfig,j,Ie.viewState,he,Oe))}return ye}static _moveRight(j,te,he,ye){return te.map((te=>ve.CursorState.fromViewState(Ce.MoveOperations.moveRight(j.cursorConfig,j,te.viewState,he,ye))))}static _moveHalfLineRight(j,te,he){const ye=[];for(let Ee=0,Ie=te.length;Ee<Ie;Ee++){const Ie=te[Ee],Ne=Ie.viewState.position.lineNumber,Oe=Math.round(j.getLineContent(Ne).length/2);ye[Ee]=ve.CursorState.fromViewState(Ce.MoveOperations.moveRight(j.cursorConfig,j,Ie.viewState,he,Oe))}return ye}static _moveDownByViewLines(j,te,he,ye){const Ee=[];for(let Ie=0,Ne=te.length;Ie<Ne;Ie++){const Ne=te[Ie];Ee[Ie]=ve.CursorState.fromViewState(Ce.MoveOperations.moveDown(j.cursorConfig,j,Ne.viewState,he,ye))}return Ee}static _moveDownByModelLines(j,te,he,ye){const Ee=[];for(let Ie=0,Ne=te.length;Ie<Ne;Ie++){const Ne=te[Ie];Ee[Ie]=ve.CursorState.fromModelState(Ce.MoveOperations.moveDown(j.cursorConfig,j.model,Ne.modelState,he,ye))}return Ee}static _moveUpByViewLines(j,te,he,ye){const Ee=[];for(let Ie=0,Ne=te.length;Ie<Ne;Ie++){const Ne=te[Ie];Ee[Ie]=ve.CursorState.fromViewState(Ce.MoveOperations.moveUp(j.cursorConfig,j,Ne.viewState,he,ye))}return Ee}static _moveUpByModelLines(j,te,he,ye){const Ee=[];for(let Ie=0,Ne=te.length;Ie<Ne;Ie++){const Ne=te[Ie];Ee[Ie]=ve.CursorState.fromModelState(Ce.MoveOperations.moveUp(j.cursorConfig,j.model,Ne.modelState,he,ye))}return Ee}static _moveToViewPosition(j,te,he,Ce,ye){return ve.CursorState.fromViewState(te.viewState.move(he,Ce,ye,0))}static _moveToModelPosition(j,te,he,Ce,ye){return ve.CursorState.fromModelState(te.modelState.move(he,Ce,ye,0))}static _moveToViewMinColumn(j,te,he){const ve=[];for(let Ce=0,ye=te.length;Ce<ye;Ce++){const ye=te[Ce],Ee=ye.viewState.position.lineNumber,Ie=j.getLineMinColumn(Ee);ve[Ce]=this._moveToViewPosition(j,ye,he,Ee,Ie)}return ve}static _moveToViewFirstNonWhitespaceColumn(j,te,he){const ve=[];for(let Ce=0,ye=te.length;Ce<ye;Ce++){const ye=te[Ce],Ee=ye.viewState.position.lineNumber,Ie=j.getLineFirstNonWhitespaceColumn(Ee);ve[Ce]=this._moveToViewPosition(j,ye,he,Ee,Ie)}return ve}static _moveToViewCenterColumn(j,te,he){const ve=[];for(let Ce=0,ye=te.length;Ce<ye;Ce++){const ye=te[Ce],Ee=ye.viewState.position.lineNumber,Ie=Math.round((j.getLineMaxColumn(Ee)+j.getLineMinColumn(Ee))/2);ve[Ce]=this._moveToViewPosition(j,ye,he,Ee,Ie)}return ve}static _moveToViewMaxColumn(j,te,he){const ve=[];for(let Ce=0,ye=te.length;Ce<ye;Ce++){const ye=te[Ce],Ee=ye.viewState.position.lineNumber,Ie=j.getLineMaxColumn(Ee);ve[Ce]=this._moveToViewPosition(j,ye,he,Ee,Ie)}return ve}static _moveToViewLastNonWhitespaceColumn(j,te,he){const ve=[];for(let Ce=0,ye=te.length;Ce<ye;Ce++){const ye=te[Ce],Ee=ye.viewState.position.lineNumber,Ie=j.getLineLastNonWhitespaceColumn(Ee);ve[Ce]=this._moveToViewPosition(j,ye,he,Ee,Ie)}return ve}},(Ne=te.CursorMove||(te.CursorMove={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(j){if(!he.isObject(j))return!1;const te=j;return!(!he.isString(te.to)||!he.isUndefined(te.select)&&!he.isBoolean(te.select)||!he.isUndefined(te.by)&&!he.isString(te.by)||!he.isUndefined(te.value)&&!he.isNumber(te.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},Ne.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},Ne.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},Ne.parse=function i(j){if(!j.to)return null;let te;switch(j.to){case Ne.RawDirection.Left:te=0;break;case Ne.RawDirection.Right:te=1;break;case Ne.RawDirection.Up:te=2;break;case Ne.RawDirection.Down:te=3;break;case Ne.RawDirection.PrevBlankLine:te=4;break;case Ne.RawDirection.NextBlankLine:te=5;break;case Ne.RawDirection.WrappedLineStart:te=6;break;case Ne.RawDirection.WrappedLineFirstNonWhitespaceCharacter:te=7;break;case Ne.RawDirection.WrappedLineColumnCenter:te=8;break;case Ne.RawDirection.WrappedLineEnd:te=9;break;case Ne.RawDirection.WrappedLineLastNonWhitespaceCharacter:te=10;break;case Ne.RawDirection.ViewPortTop:te=11;break;case Ne.RawDirection.ViewPortBottom:te=13;break;case Ne.RawDirection.ViewPortCenter:te=12;break;case Ne.RawDirection.ViewPortIfOutside:te=14;break;default:return null}let he=0;switch(j.by){case Ne.RawUnit.Line:he=1;break;case Ne.RawUnit.WrappedLine:he=2;break;case Ne.RawUnit.Character:he=3;break;case Ne.RawUnit.HalfLine:he=4}return{direction:te,unit:he,select:!!j.select,value:j.value||1}}})),define(Ce[160],ie([1,0,497,34,20,43,15,28,699,59,204,206,205,11,3,24,16,86]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at){Object.defineProperty(te,"__esModule",{value:!0}),te.CoreEditingCommands=te.CoreNavigationCommands=te.RevealLine_=te.EditorScroll_=te.CoreEditorCommand=void 0;class a extends Ee.EditorCommand{runEditorCommand(j,te,he){const ve=te._getViewModel();!ve||this.runCoreEditorCommand(ve,he||{})}}var ct,ht,mt,pt;te.CoreEditorCommand=a,(ht=ct=te.EditorScroll_||(te.EditorScroll_={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(j){if(!Ce.isObject(j))return!1;const te=j;return!(!Ce.isString(te.to)||!Ce.isUndefined(te.by)&&!Ce.isString(te.by)||!Ce.isUndefined(te.value)&&!Ce.isNumber(te.value)||!Ce.isUndefined(te.revealCursor)&&!Ce.isBoolean(te.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},ht.RawDirection={Up:"up",Down:"down"},ht.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},ht.parse=function O(j){let te,he;switch(j.to){case ht.RawDirection.Up:te=1;break;case ht.RawDirection.Down:te=2;break;default:return null}switch(j.by){case ht.RawUnit.Line:he=1;break;case ht.RawUnit.WrappedLine:he=2;break;case ht.RawUnit.Page:he=3;break;case ht.RawUnit.HalfPage:he=4;break;default:he=2}return{direction:te,unit:he,value:Math.floor(j.value||1),revealCursor:!!j.revealCursor,select:!!j.select}},function(j){j.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(j){if(!Ce.isObject(j))return!1;const te=j;return!(!Ce.isNumber(te.lineNumber)&&!Ce.isString(te.lineNumber)||!Ce.isUndefined(te.at)&&!Ce.isString(te.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},j.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(mt=te.RevealLine_||(te.RevealLine_={}));class f{constructor(j){j.addImplementation(1e4,"code-editor",((j,te)=>{const he=j.get(Ie.ICodeEditorService).getFocusedCodeEditor();return!(!he||!he.hasTextFocus())&&this._runEditorCommand(j,he,te)})),j.addImplementation(1e3,"generic-dom-input-textarea",((j,te)=>{const he=document.activeElement;return!!(he&&["input","textarea"].indexOf(he.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)})),j.addImplementation(0,"generic-dom",((j,te)=>{const he=j.get(Ie.ICodeEditorService).getActiveCodeEditor();return!!he&&(he.focus(),this._runEditorCommand(j,he,te))}))}_runEditorCommand(j,te,he){return this.runEditorCommand(j,te,he)||!0}}!function(j){class M extends a{constructor(j){super(j),this._minimalReveal=j.minimalReveal,this._inSelectionMode=j.inSelectionMode}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates(te.source,3,[je.CursorMoveCommands.moveTo(j,j.getPrimaryCursorState(),this._inSelectionMode,te.position,te.viewPosition)])&&j.revealPrimaryCursor(te.source,!0,this._minimalReveal)}}j.MoveTo=(0,Ee.registerEditorCommand)(new M({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),j.MoveToSelect=(0,Ee.registerEditorCommand)(new M({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class O extends a{runCoreEditorCommand(j,te){j.model.pushStackElement();const he=this._getColumnSelectResult(j,j.getPrimaryCursorState(),j.getCursorColumnSelectData(),te);j.setCursorStates(te.source,3,he.viewStates.map((j=>Oe.CursorState.fromViewState(j)))),j.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:he.fromLineNumber,fromViewVisualColumn:he.fromVisualColumn,toViewLineNumber:he.toLineNumber,toViewVisualColumn:he.toVisualColumn}),he.reversed?j.revealTopMostCursor(te.source):j.revealBottomMostCursor(te.source)}}j.ColumnSelect=(0,Ee.registerEditorCommand)(new class extends O{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(j,te,he,ve){const Ce=j.model.validatePosition(ve.position),ye=j.coordinatesConverter.validateViewPosition(new Ye.Position(ve.viewPosition.lineNumber,ve.viewPosition.column),Ce),Ee=ve.doColumnSelect?he.fromViewLineNumber:ye.lineNumber,Ie=ve.doColumnSelect?he.fromViewVisualColumn:ve.mouseColumn-1;return Ne.ColumnSelection.columnSelect(j.cursorConfig,j,Ee,Ie,ye.lineNumber,ve.mouseColumn-1)}}),j.CursorColumnSelectLeft=(0,Ee.registerEditorCommand)(new class extends O{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(j,te,he,ve){return Ne.ColumnSelection.columnSelectLeft(j.cursorConfig,j,he)}}),j.CursorColumnSelectRight=(0,Ee.registerEditorCommand)(new class extends O{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(j,te,he,ve){return Ne.ColumnSelection.columnSelectRight(j.cursorConfig,j,he)}});class B extends O{constructor(j){super(j),this._isPaged=j.isPaged}_getColumnSelectResult(j,te,he,ve){return Ne.ColumnSelection.columnSelectUp(j.cursorConfig,j,he,this._isPaged)}}j.CursorColumnSelectUp=(0,Ee.registerEditorCommand)(new B({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),j.CursorColumnSelectPageUp=(0,Ee.registerEditorCommand)(new B({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class T extends O{constructor(j){super(j),this._isPaged=j.isPaged}_getColumnSelectResult(j,te,he,ve){return Ne.ColumnSelection.columnSelectDown(j.cursorConfig,j,he,this._isPaged)}}j.CursorColumnSelectDown=(0,Ee.registerEditorCommand)(new T({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),j.CursorColumnSelectPageDown=(0,Ee.registerEditorCommand)(new T({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class R extends a{constructor(){super({id:"cursorMove",precondition:void 0,description:je.CursorMove.description})}runCoreEditorCommand(j,te){const he=je.CursorMove.parse(te);!he||this._runCursorMove(j,te.source,he)}_runCursorMove(j,te,he){j.model.pushStackElement(),j.setCursorStates(te,3,R._move(j,j.getCursorStates(),he)),j.revealPrimaryCursor(te,!0)}static _move(j,te,he){const ve=he.select,Ce=he.value;switch(he.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return je.CursorMoveCommands.simpleMove(j,te,he.direction,ve,Ce,he.unit);case 11:case 13:case 12:case 14:return je.CursorMoveCommands.viewportMove(j,te,he.direction,ve,Ce);default:return null}}}j.CursorMoveImpl=R,j.CursorMove=(0,Ee.registerEditorCommand)(new R);class P extends a{constructor(j){super(j),this._staticArgs=j.args}runCoreEditorCommand(j,te){let he=this._staticArgs;-1===this._staticArgs.value&&(he={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:te.pageSize||j.cursorConfig.pageSize}),j.model.pushStackElement(),j.setCursorStates(te.source,3,je.CursorMoveCommands.simpleMove(j,j.getCursorStates(),he.direction,he.select,he.value,he.unit)),j.revealPrimaryCursor(te.source,!0)}}j.CursorLeft=(0,Ee.registerEditorCommand)(new P({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),j.CursorLeftSelect=(0,Ee.registerEditorCommand)(new P({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:1039}})),j.CursorRight=(0,Ee.registerEditorCommand)(new P({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),j.CursorRightSelect=(0,Ee.registerEditorCommand)(new P({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:1041}})),j.CursorUp=(0,Ee.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),j.CursorUpSelect=(0,Ee.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),j.CursorPageUp=(0,Ee.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:11}})),j.CursorPageUpSelect=(0,Ee.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:1035}})),j.CursorDown=(0,Ee.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),j.CursorDownSelect=(0,Ee.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),j.CursorPageDown=(0,Ee.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:12}})),j.CursorPageDownSelect=(0,Ee.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:1036}})),j.CreateCursor=(0,Ee.registerEditorCommand)(new class extends a{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(j,te){let he;he=te.wholeLine?je.CursorMoveCommands.line(j,j.getPrimaryCursorState(),!1,te.position,te.viewPosition):je.CursorMoveCommands.moveTo(j,j.getPrimaryCursorState(),!1,te.position,te.viewPosition);const ve=j.getCursorStates();if(ve.length>1){const Ce=he.modelState?he.modelState.position:null,ye=he.viewState?he.viewState.position:null;for(let he=0,Ee=ve.length;he<Ee;he++){const Ee=ve[he];if((!Ce||Ee.modelState.selection.containsPosition(Ce))&&(!ye||Ee.viewState.selection.containsPosition(ye)))return ve.splice(he,1),j.model.pushStackElement(),void j.setCursorStates(te.source,3,ve)}}ve.push(he),j.model.pushStackElement(),j.setCursorStates(te.source,3,ve)}}),j.LastCursorMoveToSelect=(0,Ee.registerEditorCommand)(new class extends a{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(j,te){const he=j.getLastAddedCursorIndex(),ve=j.getCursorStates(),Ce=ve.slice(0);Ce[he]=je.CursorMoveCommands.moveTo(j,ve[he],!0,te.position,te.viewPosition),j.model.pushStackElement(),j.setCursorStates(te.source,3,Ce)}});class F extends a{constructor(j){super(j),this._inSelectionMode=j.inSelectionMode}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates(te.source,3,je.CursorMoveCommands.moveToBeginningOfLine(j,j.getCursorStates(),this._inSelectionMode)),j.revealPrimaryCursor(te.source,!0)}}j.CursorHome=(0,Ee.registerEditorCommand)(new F({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),j.CursorHomeSelect=(0,Ee.registerEditorCommand)(new F({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class W extends a{constructor(j){super(j),this._inSelectionMode=j.inSelectionMode}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates(te.source,3,this._exec(j.getCursorStates())),j.revealPrimaryCursor(te.source,!0)}_exec(j){const te=[];for(let he=0,ve=j.length;he<ve;he++){const ve=j[he],Ce=ve.modelState.position.lineNumber;te[he]=Oe.CursorState.fromModelState(ve.modelState.move(this._inSelectionMode,Ce,1,0))}return te}}j.CursorLineStart=(0,Ee.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),j.CursorLineStartSelect=(0,Ee.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class A extends a{constructor(j){super(j),this._inSelectionMode=j.inSelectionMode}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates(te.source,3,je.CursorMoveCommands.moveToEndOfLine(j,j.getCursorStates(),this._inSelectionMode,te.sticky||!1)),j.revealPrimaryCursor(te.source,!0)}}j.CursorEnd=(0,Ee.registerEditorCommand)(new A({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:he.localize(0,null),type:"boolean",default:!1}}}}]}})),j.CursorEndSelect=(0,Ee.registerEditorCommand)(new A({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:he.localize(1,null),type:"boolean",default:!1}}}}]}}));class H extends a{constructor(j){super(j),this._inSelectionMode=j.inSelectionMode}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates(te.source,3,this._exec(j,j.getCursorStates())),j.revealPrimaryCursor(te.source,!0)}_exec(j,te){const he=[];for(let ve=0,Ce=te.length;ve<Ce;ve++){const Ce=te[ve],ye=Ce.modelState.position.lineNumber,Ee=j.model.getLineMaxColumn(ye);he[ve]=Oe.CursorState.fromModelState(Ce.modelState.move(this._inSelectionMode,ye,Ee,0))}return he}}j.CursorLineEnd=(0,Ee.registerEditorCommand)(new H({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),j.CursorLineEndSelect=(0,Ee.registerEditorCommand)(new H({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class q extends a{constructor(j){super(j),this._inSelectionMode=j.inSelectionMode}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates(te.source,3,je.CursorMoveCommands.moveToBeginningOfBuffer(j,j.getCursorStates(),this._inSelectionMode)),j.revealPrimaryCursor(te.source,!0)}}j.CursorTop=(0,Ee.registerEditorCommand)(new q({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),j.CursorTopSelect=(0,Ee.registerEditorCommand)(new q({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class X extends a{constructor(j){super(j),this._inSelectionMode=j.inSelectionMode}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates(te.source,3,je.CursorMoveCommands.moveToEndOfBuffer(j,j.getCursorStates(),this._inSelectionMode)),j.revealPrimaryCursor(te.source,!0)}}j.CursorBottom=(0,Ee.registerEditorCommand)(new X({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),j.CursorBottomSelect=(0,Ee.registerEditorCommand)(new X({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class G extends a{constructor(){super({id:"editorScroll",precondition:void 0,description:ct.description})}runCoreEditorCommand(j,te){const he=ct.parse(te);!he||this._runEditorScroll(j,te.source,he)}_runEditorScroll(j,te,he){const ve=this._computeDesiredScrollTop(j,he);if(he.revealCursor){const Ce=j.getCompletelyVisibleViewRangeAtScrollTop(ve);j.setCursorStates(te,3,[je.CursorMoveCommands.findPositionInViewportIfOutside(j,j.getPrimaryCursorState(),Ce,he.select)])}j.setScrollTop(ve,0)}_computeDesiredScrollTop(j,te){if(1===te.unit){const he=j.getCompletelyVisibleViewRange(),ve=j.coordinatesConverter.convertViewRangeToModelRange(he);let Ce;Ce=1===te.direction?Math.max(1,ve.startLineNumber-te.value):Math.min(j.model.getLineCount(),ve.startLineNumber+te.value);const ye=j.coordinatesConverter.convertModelPositionToViewPosition(new Ye.Position(Ce,1));return j.getVerticalOffsetForLineNumber(ye.lineNumber)}let he;he=3===te.unit?j.cursorConfig.pageSize*te.value:4===te.unit?Math.round(j.cursorConfig.pageSize/2)*te.value:te.value;const ve=(1===te.direction?-1:1)*he;return j.getScrollTop()+ve*j.cursorConfig.lineHeight}}j.EditorScrollImpl=G,j.EditorScroll=(0,Ee.registerEditorCommand)(new G),j.ScrollLineUp=(0,Ee.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(te,he){j.EditorScroll._runEditorScroll(te,he.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),j.ScrollPageUp=(0,Ee.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(te,he){j.EditorScroll._runEditorScroll(te,he.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),j.ScrollLineDown=(0,Ee.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(te,he){j.EditorScroll._runEditorScroll(te,he.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),j.ScrollPageDown=(0,Ee.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(te,he){j.EditorScroll._runEditorScroll(te,he.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class re extends a{constructor(j){super(j),this._inSelectionMode=j.inSelectionMode}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates(te.source,3,[je.CursorMoveCommands.word(j,j.getPrimaryCursorState(),this._inSelectionMode,te.position)]),j.revealPrimaryCursor(te.source,!0)}}j.WordSelect=(0,Ee.registerEditorCommand)(new re({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),j.WordSelectDrag=(0,Ee.registerEditorCommand)(new re({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),j.LastCursorWordSelect=(0,Ee.registerEditorCommand)(new class extends a{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(j,te){const he=j.getLastAddedCursorIndex(),ve=j.getCursorStates(),Ce=ve.slice(0),ye=ve[he];Ce[he]=je.CursorMoveCommands.word(j,ye,ye.modelState.hasSelection(),te.position),j.model.pushStackElement(),j.setCursorStates(te.source,3,Ce)}});class ae extends a{constructor(j){super(j),this._inSelectionMode=j.inSelectionMode}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates(te.source,3,[je.CursorMoveCommands.line(j,j.getPrimaryCursorState(),this._inSelectionMode,te.position,te.viewPosition)]),j.revealPrimaryCursor(te.source,!1)}}j.LineSelect=(0,Ee.registerEditorCommand)(new ae({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),j.LineSelectDrag=(0,Ee.registerEditorCommand)(new ae({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class oe extends a{constructor(j){super(j),this._inSelectionMode=j.inSelectionMode}runCoreEditorCommand(j,te){const he=j.getLastAddedCursorIndex(),ve=j.getCursorStates(),Ce=ve.slice(0);Ce[he]=je.CursorMoveCommands.line(j,ve[he],this._inSelectionMode,te.position,te.viewPosition),j.model.pushStackElement(),j.setCursorStates(te.source,3,Ce)}}j.LastCursorLineSelect=(0,Ee.registerEditorCommand)(new oe({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),j.LastCursorLineSelectDrag=(0,Ee.registerEditorCommand)(new oe({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),j.CancelSelection=(0,Ee.registerEditorCommand)(new class extends a{constructor(){super({id:"cancelSelection",precondition:nt.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates(te.source,3,[je.CursorMoveCommands.cancelSelection(j,j.getPrimaryCursorState())]),j.revealPrimaryCursor(te.source,!0)}}),j.RemoveSecondaryCursors=(0,Ee.registerEditorCommand)(new class extends a{constructor(){super({id:"removeSecondaryCursors",precondition:nt.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:1,kbExpr:nt.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates(te.source,3,[j.getPrimaryCursorState()]),j.revealPrimaryCursor(te.source,!0),(0,ye.status)(he.localize(2,null))}}),j.RevealLine=(0,Ee.registerEditorCommand)(new class extends a{constructor(){super({id:"revealLine",precondition:void 0,description:mt.description})}runCoreEditorCommand(j,te){const he=te,ve=he.lineNumber||0;let Ce="number"==typeof ve?ve+1:parseInt(ve)+1;Ce<1&&(Ce=1);const ye=j.model.getLineCount();Ce>ye&&(Ce=ye);const Ee=new et.Range(Ce,1,Ce,j.model.getLineMaxColumn(Ce));let Ie=0;if(he.at)switch(he.at){case mt.RawAtArgument.Top:Ie=3;break;case mt.RawAtArgument.Center:Ie=1;break;case mt.RawAtArgument.Bottom:Ie=4}const Ne=j.coordinatesConverter.convertModelRangeToViewRange(Ee);j.revealRange(te.source,!1,Ne,Ie,0)}}),j.SelectAll=new class extends f{constructor(){super(Ee.SelectAllCommand)}runDOMCommand(){ve.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(j,te,he){const ve=te._getViewModel();!ve||this.runCoreEditorCommand(ve,he)}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates("keyboard",3,[je.CursorMoveCommands.selectAll(j,j.getPrimaryCursorState())])}},j.SetSelection=(0,Ee.registerEditorCommand)(new class extends a{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(j,te){j.model.pushStackElement(),j.setCursorStates(te.source,3,[Oe.CursorState.fromModelSelection(te.selection)])}})}(pt=te.CoreNavigationCommands||(te.CoreNavigationCommands={}));const ft=rt.ContextKeyExpr.and(nt.EditorContextKeys.textInputFocus,nt.EditorContextKeys.columnSelection);function C(j,te){at.KeybindingsRegistry.registerKeybindingRule({id:j,primary:te,when:ft,weight:1})}function _(j){return j.register(),j}C(pt.CursorColumnSelectLeft.id,1039),C(pt.CursorColumnSelectRight.id,1041),C(pt.CursorColumnSelectUp.id,1040),C(pt.CursorColumnSelectPageUp.id,1035),C(pt.CursorColumnSelectDown.id,1042),C(pt.CursorColumnSelectPageDown.id,1036),function(j){class M extends Ee.EditorCommand{runEditorCommand(j,te,he){const ve=te._getViewModel();!ve||this.runCoreEditingCommand(te,ve,he||{})}}j.CoreEditingCommand=M,j.LineBreakInsert=(0,Ee.registerEditorCommand)(new class extends M{constructor(){super({id:"lineBreakInsert",precondition:nt.EditorContextKeys.writable,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(j,te,he){j.pushUndoStop(),j.executeCommands(this.id,Ze.TypeOperations.lineBreakInsert(te.cursorConfig,te.model,te.getCursorStates().map((j=>j.modelState.selection))))}}),j.Outdent=(0,Ee.registerEditorCommand)(new class extends M{constructor(){super({id:"outdent",precondition:nt.EditorContextKeys.writable,kbOpts:{weight:0,kbExpr:rt.ContextKeyExpr.and(nt.EditorContextKeys.editorTextFocus,nt.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(j,te,he){j.pushUndoStop(),j.executeCommands(this.id,Ze.TypeOperations.outdent(te.cursorConfig,te.model,te.getCursorStates().map((j=>j.modelState.selection)))),j.pushUndoStop()}}),j.Tab=(0,Ee.registerEditorCommand)(new class extends M{constructor(){super({id:"tab",precondition:nt.EditorContextKeys.writable,kbOpts:{weight:0,kbExpr:rt.ContextKeyExpr.and(nt.EditorContextKeys.editorTextFocus,nt.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(j,te,he){j.pushUndoStop(),j.executeCommands(this.id,Ze.TypeOperations.tab(te.cursorConfig,te.model,te.getCursorStates().map((j=>j.modelState.selection)))),j.pushUndoStop()}}),j.DeleteLeft=(0,Ee.registerEditorCommand)(new class extends M{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(j,te,he){const[ve,Ce]=Ke.DeleteOperations.deleteLeft(te.getPrevEditOperationType(),te.cursorConfig,te.model,te.getCursorStates().map((j=>j.modelState.selection)),te.getCursorAutoClosedCharacters());ve&&j.pushUndoStop(),j.executeCommands(this.id,Ce),te.setPrevEditOperationType(2)}}),j.DeleteRight=(0,Ee.registerEditorCommand)(new class extends M{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:nt.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(j,te,he){const[ve,Ce]=Ke.DeleteOperations.deleteRight(te.getPrevEditOperationType(),te.cursorConfig,te.model,te.getCursorStates().map((j=>j.modelState.selection)));ve&&j.pushUndoStop(),j.executeCommands(this.id,Ce),te.setPrevEditOperationType(3)}}),j.Undo=new class extends f{constructor(){super(Ee.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(j,te,he){if(te.hasModel()&&!0!==te.getOption(81))return te.getModel().undo()}},j.Redo=new class extends f{constructor(){super(Ee.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(j,te,he){if(te.hasModel()&&!0!==te.getOption(81))return te.getModel().redo()}}}(te.CoreEditingCommands||(te.CoreEditingCommands={}));class E extends Ee.Command{constructor(j,te,he){super({id:j,precondition:void 0,description:he}),this._handlerId=te}runCommand(j,te){const he=j.get(Ie.ICodeEditorService).getFocusedCodeEditor();!he||he.trigger("keyboard",this._handlerId,te)}}function N(j,te){_(new E("default:"+j,j)),_(new E(j,j,te))}N("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),N("replacePreviousChar"),N("compositionType"),N("compositionStart"),N("compositionEnd"),N("paste"),N("cut")})),define(Ce[700],ie([1,0,160,11,17]),(function(j,te,he,ve,Ce){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewController=void 0;te.ViewController=class I{constructor(j,te,he,ve){this.configuration=j,this.viewModel=te,this.userInputEvents=he,this.commandDelegate=ve}paste(j,te,he,ve){this.commandDelegate.paste(j,te,he,ve)}type(j){this.commandDelegate.type(j)}compositionType(j,te,he,ve){this.commandDelegate.compositionType(j,te,he,ve)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(j){he.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:j})}_validateViewColumn(j){const te=this.viewModel.getLineMinColumn(j.lineNumber);return j.column<te?new ve.Position(j.lineNumber,te):j}_hasMulticursorModifier(j){switch(this.configuration.options.get(70)){case"altKey":return j.altKey;case"ctrlKey":return j.ctrlKey;case"metaKey":return j.metaKey;default:return!1}}_hasNonMulticursorModifier(j){switch(this.configuration.options.get(70)){case"altKey":return j.ctrlKey||j.metaKey;case"ctrlKey":return j.altKey||j.metaKey;case"metaKey":return j.ctrlKey||j.altKey;default:return!1}}dispatchMouse(j){const te=this.configuration.options,he=Ce.isLinux&&te.get(96),ve=te.get(18);j.middleButton&&!he?this._columnSelect(j.position,j.mouseColumn,j.inSelectionMode):j.startedOnLineNumbers?this._hasMulticursorModifier(j)?j.inSelectionMode?this._lastCursorLineSelect(j.position):this._createCursor(j.position,!0):j.inSelectionMode?this._lineSelectDrag(j.position):this._lineSelect(j.position):j.mouseDownCount>=4?this._selectAll():3===j.mouseDownCount?this._hasMulticursorModifier(j)?j.inSelectionMode?this._lastCursorLineSelectDrag(j.position):this._lastCursorLineSelect(j.position):j.inSelectionMode?this._lineSelectDrag(j.position):this._lineSelect(j.position):2===j.mouseDownCount?this._hasMulticursorModifier(j)?this._lastCursorWordSelect(j.position):j.inSelectionMode?this._wordSelectDrag(j.position):this._wordSelect(j.position):this._hasMulticursorModifier(j)?this._hasNonMulticursorModifier(j)||(j.shiftKey?this._columnSelect(j.position,j.mouseColumn,!0):j.inSelectionMode?this._lastCursorMoveToSelect(j.position):this._createCursor(j.position,!1)):j.inSelectionMode?j.altKey||ve?this._columnSelect(j.position,j.mouseColumn,!0):this._moveToSelect(j.position):this.moveTo(j.position)}_usualArgs(j){return j=this._validateViewColumn(j),{source:"mouse",position:this._convertViewToModelPosition(j),viewPosition:j}}moveTo(j){he.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(j))}_moveToSelect(j){he.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(j))}_columnSelect(j,te,ve){j=this._validateViewColumn(j),he.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(j),viewPosition:j,mouseColumn:te,doColumnSelect:ve})}_createCursor(j,te){j=this._validateViewColumn(j),he.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(j),viewPosition:j,wholeLine:te})}_lastCursorMoveToSelect(j){he.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(j))}_wordSelect(j){he.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(j))}_wordSelectDrag(j){he.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(j))}_lastCursorWordSelect(j){he.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(j))}_lineSelect(j){he.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(j))}_lineSelectDrag(j){he.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(j))}_lastCursorLineSelect(j){he.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(j))}_lastCursorLineSelectDrag(j){he.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(j))}_selectAll(){he.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(j){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(j)}emitKeyDown(j){this.userInputEvents.emitKeyDown(j)}emitKeyUp(j){this.userInputEvents.emitKeyUp(j)}emitContextMenu(j){this.userInputEvents.emitContextMenu(j)}emitMouseMove(j){this.userInputEvents.emitMouseMove(j)}emitMouseLeave(j){this.userInputEvents.emitMouseLeave(j)}emitMouseUp(j){this.userInputEvents.emitMouseUp(j)}emitMouseDown(j){this.userInputEvents.emitMouseDown(j)}emitMouseDrag(j){this.userInputEvents.emitMouseDrag(j)}emitMouseDrop(j){this.userInputEvents.emitMouseDrop(j)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(j){this.userInputEvents.emitMouseWheel(j)}}})),define(Ce[701],ie([1,0,7,22,30,13,636,645,700,232,509,50,441,643,442,639,182,644,280,637,443,253,444,640,445,646,446,647,641,642,648,447,11,3,116,440,438,123,14,279]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt,St,Dt,It,kt,At,Pt,Kt,Ut,jt,$t,qt,Gt,Zt,Yt){Object.defineProperty(te,"__esModule",{value:!0}),te.View=void 0;class H extends Gt.ViewEventHandler{constructor(j,te,he,ye,Oe,St){super(),this._selections=[new ve.Selection(1,1,1,1)],this._renderAnimationFrame=null;const Kt=new Ne.ViewController(te,ye,Oe,j);this._context=new $t.ViewContext(te,he.getColorTheme(),ye),this._context.addEventHandler(this),this._register(he.onDidColorThemeChange((j=>{this._context.theme.update(j),this._context.model.onDidColorThemeChange(),this.render(!0,!1)}))),this._viewParts=[],this._textAreaHandler=new Ie.TextAreaHandler(this._context,Kt,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,Ce.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,Ce.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,Ce.createFastDomNode)(document.createElement("div")),je.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new nt.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new ht.ViewLines(this._context,this._linesContent),this._viewZones=new Pt.ViewZones(this._context),this._viewParts.push(this._viewZones);const Ut=new bt.DecorationsOverviewRuler(this._context);this._viewParts.push(Ut);const jt=new It.ScrollDecorationViewPart(this._context);this._viewParts.push(jt);const qt=new Ke.ContentViewOverlays(this._context);this._viewParts.push(qt),qt.addDynamicOverlay(new Ye.CurrentLineHighlightOverlay(this._context)),qt.addDynamicOverlay(new kt.SelectionsOverlay(this._context)),qt.addDynamicOverlay(new at.IndentGuidesOverlay(this._context)),qt.addDynamicOverlay(new et.DecorationsOverlay(this._context));const Gt=new Ke.MarginViewOverlays(this._context);this._viewParts.push(Gt),Gt.addDynamicOverlay(new Ye.CurrentLineMarginHighlightOverlay(this._context)),Gt.addDynamicOverlay(new rt.GlyphMarginOverlay(this._context)),Gt.addDynamicOverlay(new ft.MarginViewLineDecorationsOverlay(this._context)),Gt.addDynamicOverlay(new mt.LinesDecorationsOverlay(this._context)),Gt.addDynamicOverlay(new ct.LineNumbersOverlay(this._context));const Zt=new pt.Margin(this._context);Zt.getDomNode().appendChild(this._viewZones.marginDomNode),Zt.getDomNode().appendChild(Gt.getDomNode()),this._viewParts.push(Zt),this._contentWidgets=new Ze.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new At.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Ct.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const Yt=new Dt.Rulers(this._context);this._viewParts.push(Yt);const li=new _t.Minimap(this._context);if(this._viewParts.push(li),Ut){const j=this._scrollbar.getOverviewRulerLayoutInfo();j.parent.insertBefore(Ut.getDomNode(),j.insertBefore)}this._linesContent.appendChild(qt.getDomNode()),this._linesContent.appendChild(Yt.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Zt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(jt.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(li.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),St?St.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Ee.PointerHandler(this._context,Kt,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:j=>{this._textAreaHandler.textArea.domNode.dispatchEvent(j)},getLastRenderData:()=>{const j=this._viewCursors.getLastRenderData()||[],te=this._textAreaHandler.getLastRenderData();return new Yt.PointerHandlerLastRenderData(j,te)},shouldSuppressMouseDownOnViewZone:j=>this._viewZones.shouldSuppressMouseDownOnViewZone(j),shouldSuppressMouseDownOnWidget:j=>this._contentWidgets.shouldSuppressMouseDownOnWidget(j),getPositionFromDOMInfo:(j,te)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(j,te)),visibleRangeForPosition:(j,te)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Kt.Position(j,te))),getLineWidth:j=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(j))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:j=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(j))}}_applyLayout(){const j=this._context.configuration.options.get(131);this.domNode.setWidth(j.width),this.domNode.setHeight(j.height),this._overflowGuardContainer.setWidth(j.width),this._overflowGuardContainer.setHeight(j.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const j=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+(0,Zt.getThemeTypeSelector)(this._context.theme.type)+j}handleEvents(j){super.handleEvents(j),this._scheduleRender()}onConfigurationChanged(j){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(j){return this._selections=j.selections,!1}onFocusChanged(j){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(j){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const j of this._viewParts)j.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=he.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function q(j){try{return j()}catch(j){(0,ye.onUnexpectedError)(j)}}((()=>this._actualRender()))}_getViewPartsToRender(){const j=[];let te=0;for(const he of this._viewParts)he.shouldRender()&&(j[te++]=he);return j}_actualRender(){if(!he.isInDOM(this.domNode.domNode))return;let j=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===j.length)return;const te=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(te.startLineNumber,te.endLineNumber,te.centeredLineNumber);const ve=new qt.ViewportData(this._selections,te,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ve),this._viewLines.shouldRender()&&(this._viewLines.renderText(ve),this._viewLines.onDidRender(),j=this._getViewPartsToRender());const Ce=new jt.RenderingContext(this._context.viewLayout,ve,this._viewLines);for(const te of j)te.prepareRender(Ce);for(const te of j)te.render(Ce),te.onDidRender()}delegateVerticalScrollbarMouseDown(j){this._scrollbar.delegateVerticalScrollbarMouseDown(j)}restoreState(j){this._context.model.setScrollPosition({scrollTop:j.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:j.scrollLeft},1)}getOffsetForColumn(j,te){const he=this._context.model.validateModelPosition({lineNumber:j,column:te}),ve=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(he);this._flushAccumulatedAndRenderNow();const Ce=this._viewLines.visibleRangeForPosition(new Kt.Position(ve.lineNumber,ve.column));return Ce?Ce.left:-1}getTargetAtClientPoint(j,te){const he=this._pointerHandler.getTargetAtClientPoint(j,te);return he?Oe.ViewUserInputEvents.convertViewToModelMouseTarget(he,this._context.model.coordinatesConverter):null}createOverviewRuler(j){return new St.OverviewRuler(this._context,j)}change(j){this._viewZones.changeViewZones(j),this._scheduleRender()}render(j,te){if(te){this._viewLines.forceShouldRender();for(const j of this._viewParts)j.forceShouldRender()}j?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(j){this._textAreaHandler.setAriaOptions(j)}addContentWidget(j){this._contentWidgets.addWidget(j.widget),this.layoutContentWidget(j),this._scheduleRender()}layoutContentWidget(j){let te=j.position&&j.position.range||null;if(null===te){const he=j.position?j.position.position:null;null!==he&&(te=new Ut.Range(he.lineNumber,he.column,he.lineNumber,he.column))}const he=j.position?j.position.preference:null;this._contentWidgets.setWidgetPosition(j.widget,te,he),this._scheduleRender()}removeContentWidget(j){this._contentWidgets.removeWidget(j.widget),this._scheduleRender()}addOverlayWidget(j){this._overlayWidgets.addWidget(j.widget),this.layoutOverlayWidget(j),this._scheduleRender()}layoutOverlayWidget(j){const te=j.position?j.position.preference:null;this._overlayWidgets.setWidgetPosition(j.widget,te)&&this._scheduleRender()}removeOverlayWidget(j){this._overlayWidgets.removeWidget(j.widget),this._scheduleRender()}}te.View=H})),define(Ce[702],ie([1,0,59,11,3,22]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.Cursor=void 0;class w{constructor(j){this._selTrackedRange=null,this._trackSelection=!0,this._setState(j,new he.SingleCursorState(new Ce.Range(1,1,1,1),0,new ve.Position(1,1),0),new he.SingleCursorState(new Ce.Range(1,1,1,1),0,new ve.Position(1,1),0))}dispose(j){this._removeTrackedRange(j)}startTrackingSelection(j){this._trackSelection=!0,this._updateTrackedRange(j)}stopTrackingSelection(j){this._trackSelection=!1,this._removeTrackedRange(j)}_updateTrackedRange(j){!this._trackSelection||(this._selTrackedRange=j.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(j){this._selTrackedRange=j.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new he.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(j){const te=j.model._getTrackedRange(this._selTrackedRange);return ye.Selection.fromRange(te,this.modelState.selection.getDirection())}ensureValidState(j){this._setState(j,this.modelState,this.viewState)}setState(j,te,he){this._setState(j,te,he)}static _validatePositionWithCache(j,te,he,ve){return te.equals(he)?ve:j.normalizePosition(te,2)}static _validateViewState(j,te){const ve=te.position,ye=te.selectionStart.getStartPosition(),Ee=te.selectionStart.getEndPosition(),Ie=j.normalizePosition(ve,2),Ne=this._validatePositionWithCache(j,ye,ve,Ie),Oe=this._validatePositionWithCache(j,Ee,ye,Ne);return ve.equals(Ie)&&ye.equals(Ne)&&Ee.equals(Oe)?te:new he.SingleCursorState(Ce.Range.fromPositions(Ne,Oe),te.selectionStartLeftoverVisibleColumns+ye.column-Ne.column,Ie,te.leftoverVisibleColumns+ve.column-Ie.column)}_setState(j,te,ye){if(ye&&(ye=w._validateViewState(j.viewModel,ye)),te){const ve=j.model.validateRange(te.selectionStart),Ce=te.selectionStart.equalsRange(ve)?te.selectionStartLeftoverVisibleColumns:0,ye=j.model.validatePosition(te.position),Ee=te.position.equals(ye)?te.leftoverVisibleColumns:0;te=new he.SingleCursorState(ve,Ce,ye,Ee)}else{if(!ye)return;const ve=j.model.validateRange(j.coordinatesConverter.convertViewRangeToModelRange(ye.selectionStart)),Ce=j.model.validatePosition(j.coordinatesConverter.convertViewPositionToModelPosition(ye.position));te=new he.SingleCursorState(ve,ye.selectionStartLeftoverVisibleColumns,Ce,ye.leftoverVisibleColumns)}if(ye){const ve=j.coordinatesConverter.validateViewRange(ye.selectionStart,te.selectionStart),Ce=j.coordinatesConverter.validateViewPosition(ye.position,te.position);ye=new he.SingleCursorState(ve,te.selectionStartLeftoverVisibleColumns,Ce,te.leftoverVisibleColumns)}else{const Ee=j.coordinatesConverter.convertModelPositionToViewPosition(new ve.Position(te.selectionStart.startLineNumber,te.selectionStart.startColumn)),Ie=j.coordinatesConverter.convertModelPositionToViewPosition(new ve.Position(te.selectionStart.endLineNumber,te.selectionStart.endColumn)),Ne=new Ce.Range(Ee.lineNumber,Ee.column,Ie.lineNumber,Ie.column),Oe=j.coordinatesConverter.convertModelPositionToViewPosition(te.position);ye=new he.SingleCursorState(Ne,te.selectionStartLeftoverVisibleColumns,Oe,te.leftoverVisibleColumns)}this.modelState=te,this.viewState=ye,this._updateTrackedRange(j)}}te.Cursor=w})),define(Ce[703],ie([1,0,19,59,702,11,3,22]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.CursorCollection=void 0;te.CursorCollection=class p{constructor(j){this.context=j,this.cursors=[new Ce.Cursor(j)],this.lastAddedCursorIndex=0}dispose(){for(const j of this.cursors)j.dispose(this.context)}startTrackingSelections(){for(const j of this.cursors)j.startTrackingSelection(this.context)}stopTrackingSelections(){for(const j of this.cursors)j.stopTrackingSelection(this.context)}updateContext(j){this.context=j}ensureValidState(){for(const j of this.cursors)j.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map((j=>j.readSelectionFromMarkers(this.context)))}getAll(){return this.cursors.map((j=>j.asCursorState()))}getViewPositions(){return this.cursors.map((j=>j.viewState.position))}getTopMostViewPosition(){return(0,he.findMinBy)(this.cursors,(0,he.compareBy)((j=>j.viewState.position),ye.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,he.findLastMaxBy)(this.cursors,(0,he.compareBy)((j=>j.viewState.position),ye.Position.compare)).viewState.position}getSelections(){return this.cursors.map((j=>j.modelState.selection))}getViewSelections(){return this.cursors.map((j=>j.viewState.selection))}setSelections(j){this.setStates(ve.CursorState.fromModelSelections(j))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(j){null!==j&&(this.cursors[0].setState(this.context,j[0].modelState,j[0].viewState),this._setSecondaryStates(j.slice(1)))}_setSecondaryStates(j){const te=this.cursors.length-1,he=j.length;if(te<he){const j=he-te;for(let te=0;te<j;te++)this._addSecondaryCursor()}else if(te>he){const j=te-he;for(let te=0;te<j;te++)this._removeSecondaryCursor(this.cursors.length-2)}for(let te=0;te<he;te++)this.cursors[te+1].setState(this.context,j[te].modelState,j[te].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Ce.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(j){this.lastAddedCursorIndex>=j+1&&this.lastAddedCursorIndex--,this.cursors[j+1].dispose(this.context),this.cursors.splice(j+1,1)}normalize(){if(1===this.cursors.length)return;const j=this.cursors.slice(0),te=[];for(let he=0,ve=j.length;he<ve;he++)te.push({index:he,selection:j[he].modelState.selection});te.sort((0,he.compareBy)((j=>j.selection),Ee.Range.compareRangesUsingStarts));for(let he=0;he<te.length-1;he++){const Ce=te[he],ye=te[he+1],Ee=Ce.selection,Ne=ye.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let Oe;if(Oe=Ne.isEmpty()||Ee.isEmpty()?Ne.getStartPosition().isBeforeOrEqual(Ee.getEndPosition()):Ne.getStartPosition().isBefore(Ee.getEndPosition()),Oe){const Ee=Ce.index<ye.index?he:he+1,Ne=Ce.index<ye.index?he+1:he,Oe=te[Ne].index,Ke=te[Ee].index,je=te[Ne].selection,Ze=te[Ee].selection;if(!je.equalsSelection(Ze)){const he=je.plusRange(Ze),Ce=je.selectionStartLineNumber===je.startLineNumber&&je.selectionStartColumn===je.startColumn,ye=Ze.selectionStartLineNumber===Ze.startLineNumber&&Ze.selectionStartColumn===Ze.startColumn;let Ne,Ye;Oe===this.lastAddedCursorIndex?(Ne=Ce,this.lastAddedCursorIndex=Ke):Ne=ye,Ye=Ne?new Ie.Selection(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn):new Ie.Selection(he.endLineNumber,he.endColumn,he.startLineNumber,he.startColumn),te[Ee].selection=Ye;const et=ve.CursorState.fromModelSelection(Ye);j[Ke].setState(this.context,et.modelState,et.viewState)}for(const j of te)j.index>Oe&&j.index--;j.splice(Oe,1),te.splice(Ne,1),this._removeSecondaryCursor(Oe-1),he--}}}}})),define(Ce[290],ie([1,0,13,8,703,59,204,205,3,22,91,183,2,184]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){Object.defineProperty(te,"__esModule",{value:!0}),te.CursorsController=void 0;class l extends Ze.Disposable{constructor(j,te,he,ve){super(),this._model=j,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=te,this._coordinatesConverter=he,this.context=new ye.CursorContext(this._model,this._viewModel,this._coordinatesConverter,ve),this._cursors=new Ce.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,Ze.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(j){this.context=new ye.CursorContext(this._model,this._viewModel,this._coordinatesConverter,j),this._cursors.updateContext(this.context)}onLineMappingChanged(j){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(j,"viewModel",0,this.getCursorStates())}setHasFocus(j){this._hasFocus=j}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const j=this._cursors.getSelections();for(let te=0;te<this._autoClosedActions.length;te++){const he=this._autoClosedActions[te];he.isValid(j)||(he.dispose(),this._autoClosedActions.splice(te,1),te--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(j,te,he,ve){let Ce=!1;null!==ve&&ve.length>l.MAX_CURSOR_COUNT&&(ve=ve.slice(0,l.MAX_CURSOR_COUNT),Ce=!0);const ye=c.from(this._model,this);return this._cursors.setStates(ve),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(j,te,he,ye,Ce)}setCursorColumnSelectData(j){this._columnSelectData=j}revealPrimary(j,te,he,ve,Ce,ye){const Ee=this._cursors.getViewPositions();let Ie=null,Oe=null;Ee.length>1?Oe=this._cursors.getViewSelections():Ie=Ne.Range.fromPositions(Ee[0],Ee[0]),j.emitViewEvent(new je.ViewRevealRangeRequestEvent(te,he,Ie,Oe,ve,Ce,ye))}saveState(){const j=[],te=this._cursors.getSelections();for(let he=0,ve=te.length;he<ve;he++){const ve=te[he];j.push({inSelectionMode:!ve.isEmpty(),selectionStart:{lineNumber:ve.selectionStartLineNumber,column:ve.selectionStartColumn},position:{lineNumber:ve.positionLineNumber,column:ve.positionColumn}})}return j}restoreState(j,te){const he=[];for(let j=0,ve=te.length;j<ve;j++){const ve=te[j];let Ce=1,ye=1;ve.position&&ve.position.lineNumber&&(Ce=ve.position.lineNumber),ve.position&&ve.position.column&&(ye=ve.position.column);let Ee=Ce,Ie=ye;ve.selectionStart&&ve.selectionStart.lineNumber&&(Ee=ve.selectionStart.lineNumber),ve.selectionStart&&ve.selectionStart.column&&(Ie=ve.selectionStart.column),he.push({selectionStartLineNumber:Ee,selectionStartColumn:Ie,positionLineNumber:Ce,positionColumn:ye})}this.setStates(j,"restoreState",0,ye.CursorState.fromModelSelections(he)),this.revealPrimary(j,"restoreState",!1,0,!0,1)}onModelContentChanged(j,te){if(te instanceof Ke.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(j,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=te.versionId,this._isHandling)return;const he=te.containsEvent(1);if(this._prevEditOperationType=0,he)this._cursors.dispose(),this._cursors=new Ce.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(j,"model",1,null,!1);else if(this._hasFocus&&te.resultingSelection&&te.resultingSelection.length>0){const he=ye.CursorState.fromModelSelections(te.resultingSelection);this.setStates(j,"modelChange",te.isUndoing?5:te.isRedoing?6:2,he)&&this.revealPrimary(j,"modelChange",!1,0,!0,0)}else{const te=this._cursors.readSelectionFromMarkers();this.setStates(j,"modelChange",2,ye.CursorState.fromModelSelections(te))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const j=this._cursors.getPrimaryCursor(),te=j.viewState.selectionStart.getStartPosition(),he=j.viewState.position;return{isReal:!1,fromViewLineNumber:te.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,te),toViewLineNumber:he.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,he)}}getSelections(){return this._cursors.getSelections()}setSelections(j,te,he,ve){this.setStates(j,te,ve,ye.CursorState.fromModelSelections(he))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(j){this._prevEditOperationType=j}_pushAutoClosedAction(j,te){const he=[],ve=[];for(let Ce=0,ye=j.length;Ce<ye;Ce++)he.push({range:j[Ce],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),ve.push({range:te[Ce],options:{description:"auto-closed-enclosing",stickiness:1}});const Ce=this._model.deltaDecorations([],he),ye=this._model.deltaDecorations([],ve);this._autoClosedActions.push(new r(this._model,Ce,ye))}_executeEditOperation(j){if(!j)return;j.shouldPushStackElementBefore&&this._model.pushStackElement();const te=s.executeCommands(this._model,this._cursors.getSelections(),j.commands);if(te){this._interpretCommandResult(te);const he=[],ve=[];for(let te=0;te<j.commands.length;te++){const Ce=j.commands[te];Ce instanceof Ie.TypeWithAutoClosingCommand&&Ce.enclosingRange&&Ce.closeCharacterRange&&(he.push(Ce.closeCharacterRange),ve.push(Ce.enclosingRange))}he.length>0&&this._pushAutoClosedAction(he,ve),this._prevEditOperationType=j.type}j.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(j){(!j||0===j.length)&&(j=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(j),this._cursors.normalize()}_emitStateChangedIfNecessary(j,te,he,ve,Ce){const ye=c.from(this._model,this);if(ye.equals(ve))return!1;const Ee=this._cursors.getSelections(),Ie=this._cursors.getViewSelections();if(j.emitViewEvent(new je.ViewCursorStateChangedEvent(Ie,Ee)),!ve||ve.cursorState.length!==ye.cursorState.length||ye.cursorState.some(((j,te)=>!j.modelState.equals(ve.cursorState[te].modelState)))){const Ie=ve?ve.cursorState.map((j=>j.modelState.selection)):null,Ne=ve?ve.modelVersionId:0;j.emitOutgoingEvent(new Ye.CursorStateChangedEvent(Ie,Ee,Ne,ye.modelVersionId,te||"keyboard",he,Ce))}return!0}_findAutoClosingPairs(j){if(!j.length)return null;const te=[];for(let he=0,ve=j.length;he<ve;he++){const ve=j[he];if(!ve.text||ve.text.indexOf("\n")>=0)return null;const Ce=ve.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Ce)return null;const ye=Ce[1],Ee=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(ye);if(!Ee||1!==Ee.length)return null;const Ie=Ee[0].open,Ne=ve.text.length-Ce[2].length-1,Oe=ve.text.lastIndexOf(Ie,Ne-1);if(-1===Oe)return null;te.push([Oe,Ne])}return te}executeEdits(j,te,he,ve){let Ce=null;"snippet"===te&&(Ce=this._findAutoClosingPairs(he)),Ce&&(he[0]._isTracked=!0);const ye=[],Ee=[],Ie=this._model.pushEditOperations(this.getSelections(),he,(j=>{if(Ce)for(let te=0,he=Ce.length;te<he;te++){const[he,ve]=Ce[te],Ie=j[te],Oe=Ie.range.startLineNumber,Ke=Ie.range.startColumn-1+he,je=Ie.range.startColumn-1+ve;ye.push(new Ne.Range(Oe,je+1,Oe,je+2)),Ee.push(new Ne.Range(Oe,Ke+1,Oe,je+2))}const te=ve(j);return te&&(this._isHandling=!0),te}));Ie&&(this._isHandling=!1,this.setSelections(j,te,Ie,0)),ye.length>0&&this._pushAutoClosedAction(ye,Ee)}_executeEdit(j,te,ve,Ce=0){if(this.context.cursorConfig.readOnly)return;const ye=c.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),j()}catch(j){(0,he.onUnexpectedError)(j)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(te,ve,Ce,ye,!1)&&this.revealPrimary(te,ve,!1,0,!0,0)}setIsDoingComposition(j){this._isDoingComposition=j}getAutoClosedCharacters(){return r.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(j){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(j,te){this._executeEdit((()=>{"keyboard"===te&&(this._executeEditOperation(Ie.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)}),j,te)}type(j,te,he){this._executeEdit((()=>{if("keyboard"===he){const j=te.length;let he=0;for(;he<j;){const j=ve.nextCharLength(te,he),Ce=te.substr(he,j);this._executeEditOperation(Ie.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),Ce)),he+=j}}else this._executeEditOperation(Ie.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),te))}),j,he)}compositionType(j,te,he,ve,Ce,ye){if(0!==te.length||0!==he||0!==ve)this._executeEdit((()=>{this._executeEditOperation(Ie.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),te,he,ve,Ce))}),j,ye);else if(0!==Ce){const te=this.getSelections().map((j=>{const te=j.getPosition();return new Oe.Selection(te.lineNumber,te.column+Ce,te.lineNumber,te.column+Ce)}));this.setSelections(j,ye,te,0)}}paste(j,te,he,ve,Ce){this._executeEdit((()=>{this._executeEditOperation(Ie.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),te,he,ve||[]))}),j,Ce,4)}cut(j,te){this._executeEdit((()=>{this._executeEditOperation(Ee.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))}),j,te)}executeCommand(j,te,he){this._executeEdit((()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new ye.EditOperationResult(0,[te],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),j,he)}executeCommands(j,te,he){this._executeEdit((()=>{this._executeEditOperation(new ye.EditOperationResult(0,te,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),j,he)}}te.CursorsController=l,l.MAX_CURSOR_COUNT=1e4;class c{constructor(j,te){this.modelVersionId=j,this.cursorState=te}static from(j,te){return new c(j.getVersionId(),te.getCursorStates())}equals(j){if(!j||this.modelVersionId!==j.modelVersionId||this.cursorState.length!==j.cursorState.length)return!1;for(let te=0,he=this.cursorState.length;te<he;te++)if(!this.cursorState[te].equals(j.cursorState[te]))return!1;return!0}}class r{constructor(j,te,he){this._model=j,this._autoClosedCharactersDecorations=te,this._autoClosedEnclosingDecorations=he}static getAllAutoClosedCharacters(j){let te=[];for(const he of j)te=te.concat(he.getAutoClosedCharactersRanges());return te}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const j=[];for(let te=0;te<this._autoClosedCharactersDecorations.length;te++){const he=this._model.getDecorationRange(this._autoClosedCharactersDecorations[te]);he&&j.push(he)}return j}isValid(j){const te=[];for(let j=0;j<this._autoClosedEnclosingDecorations.length;j++){const he=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[j]);if(he&&(te.push(he),he.startLineNumber!==he.endLineNumber))return!1}te.sort(Ne.Range.compareRangesUsingStarts),j.sort(Ne.Range.compareRangesUsingStarts);for(let he=0;he<j.length;he++)if(he>=te.length||!te[he].strictContainsRange(j[he]))return!1;return!0}}class s{static executeCommands(j,te,he){const ve={model:j,selectionsBefore:te,trackedRanges:[],trackedRangesDirection:[]},Ce=this._innerExecuteCommands(ve,he);for(let j=0,te=ve.trackedRanges.length;j<te;j++)ve.model._setTrackedRange(ve.trackedRanges[j],null,0);return Ce}static _innerExecuteCommands(j,te){if(this._arrayIsEmpty(te))return null;const he=this._getEditOperations(j,te);if(0===he.operations.length)return null;const ve=he.operations,Ce=this._getLoserCursorMap(ve);if(Ce.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const ye=[];for(let j=0,te=ve.length;j<te;j++)Ce.hasOwnProperty(ve[j].identifier.major.toString())||ye.push(ve[j]);he.hadTrackedEditOperation&&ye.length>0&&(ye[0]._isTracked=!0);let Ee=j.model.pushEditOperations(j.selectionsBefore,ye,(he=>{const ve=[];for(let te=0;te<j.selectionsBefore.length;te++)ve[te]=[];for(const j of he)!j.identifier||ve[j.identifier.major].push(j);const N=(j,te)=>j.identifier.minor-te.identifier.minor,Ce=[];for(let he=0;he<j.selectionsBefore.length;he++)ve[he].length>0?(ve[he].sort(N),Ce[he]=te[he].computeCursorState(j.model,{getInverseEditOperations:()=>ve[he],getTrackedSelection:te=>{const he=parseInt(te,10),ve=j.model._getTrackedRange(j.trackedRanges[he]);return 0===j.trackedRangesDirection[he]?new Oe.Selection(ve.startLineNumber,ve.startColumn,ve.endLineNumber,ve.endColumn):new Oe.Selection(ve.endLineNumber,ve.endColumn,ve.startLineNumber,ve.startColumn)}})):Ce[he]=j.selectionsBefore[he];return Ce}));Ee||(Ee=j.selectionsBefore);const Ie=[];for(let j in Ce)Ce.hasOwnProperty(j)&&Ie.push(parseInt(j,10));Ie.sort(((j,te)=>te-j));for(const j of Ie)Ee.splice(j,1);return Ee}static _arrayIsEmpty(j){for(let te=0,he=j.length;te<he;te++)if(j[te])return!1;return!0}static _getEditOperations(j,te){let he=[],ve=!1;for(let Ce=0,ye=te.length;Ce<ye;Ce++){const ye=te[Ce];if(ye){const te=this._getEditOperationsFromCommand(j,Ce,ye);he=he.concat(te.operations),ve=ve||te.hadTrackedEditOperation}}return{operations:he,hadTrackedEditOperation:ve}}static _getEditOperationsFromCommand(j,te,ve){const Ce=[];let ye=0;const v=(j,he,Ee=!1)=>{Ne.Range.isEmpty(j)&&""===he||Ce.push({identifier:{major:te,minor:ye++},range:j,text:he,forceMoveMarkers:Ee,isAutoWhitespaceEdit:ve.insertsAutoWhitespace})};let Ee=!1;const Ie={addEditOperation:v,addTrackedEditOperation:(j,te,he)=>{Ee=!0,v(j,te,he)},trackSelection:(te,he)=>{const ve=Oe.Selection.liftSelection(te);let Ce;if(ve.isEmpty())if("boolean"==typeof he)Ce=he?2:3;else{const te=j.model.getLineMaxColumn(ve.startLineNumber);Ce=ve.startColumn===te?2:3}else Ce=1;const ye=j.trackedRanges.length,Ee=j.model._setTrackedRange(null,ve,Ce);return j.trackedRanges[ye]=Ee,j.trackedRangesDirection[ye]=ve.getDirection(),ye.toString()}};try{ve.getEditOperations(j.model,Ie)}catch(j){return(0,he.onUnexpectedError)(j),{operations:[],hadTrackedEditOperation:!1}}return{operations:Ce,hadTrackedEditOperation:Ee}}static _getLoserCursorMap(j){(j=j.slice(0)).sort(((j,te)=>-Ne.Range.compareRangesUsingEnds(j.range,te.range)));const te={};for(let he=1;he<j.length;he++){const ve=j[he-1],Ce=j[he];if(Ne.Range.getStartPosition(ve.range).isBefore(Ne.Range.getEndPosition(Ce.range))){let ye;ye=ve.identifier.major>Ce.identifier.major?ve.identifier.major:Ce.identifier.major,te[ye.toString()]=!0;for(let te=0;te<j.length;te++)j[te].identifier.major===ye&&(j.splice(te,1),te<he&&he--,te--);he>0&&he--}}return te}}})),define(Ce[291],ie([1,0,4,2,17,13,33,145,18,79,35,45,153,40,10,21,14,64,158,112,268,48,281,270,39,32,92,65]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt,St,Dt){function E(j){return j.toString()}function N(j){const te=new ht.StringSHA1,he=j.createSnapshot();let ve;for(;ve=he.read();)te.update(ve);return te.digest()}Object.defineProperty(te,"__esModule",{value:!0}),te.ModelSemanticColoring=te.isSemanticColoringEnabled=te.SEMANTIC_HIGHLIGHTING_SETTING_ID=te.ModelService=void 0;class k{constructor(j,te,he){this._modelEventListeners=new ve.DisposableStore,this.model=j,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(j.onWillDispose((()=>te(j)))),this._modelEventListeners.add(j.onDidChangeLanguage((te=>he(j,te))))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(j){this._disposeLanguageSelection(),this._languageSelection=j,this._languageSelectionListener=this._languageSelection.onDidChange((()=>this.model.setMode(j.languageId))),this.model.setMode(j.languageId)}}const It=Ce.isLinux||Ce.isMacintosh?1:2;class O{constructor(j,te,he,ve,Ce,ye,Ee,Ie){this.uri=j,this.initialUndoRedoSnapshot=te,this.time=he,this.sharesUndoRedoStack=ve,this.heapSize=Ce,this.sha1=ye,this.versionId=Ee,this.alternativeVersionId=Ie}}let kt=class Nt extends ve.Disposable{constructor(j,te,ve,Ce,ye,Ee,Ie,Ne){super(),this._configurationService=j,this._resourcePropertiesService=te,this._themeService=ve,this._logService=Ce,this._undoRedoService=ye,this._languageService=Ee,this._languageConfigurationService=Ie,this._languageFeatureDebounceService=Ne,this._onModelAdded=this._register(new he.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new he.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new he.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new P(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration((()=>this._updateModelOptions()))),this._updateModelOptions(),this._register(new At(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService))}static _readModelOptions(j,te){var he;let ve=Ie.EDITOR_MODEL_DEFAULTS.tabSize;if(j.editor&&void 0!==j.editor.tabSize){const te=parseInt(j.editor.tabSize,10);isNaN(te)||(ve=te),ve<1&&(ve=1)}let Ce=ve;if(j.editor&&void 0!==j.editor.indentSize&&"tabSize"!==j.editor.indentSize){const te=parseInt(j.editor.indentSize,10);isNaN(te)||(Ce=te),Ce<1&&(Ce=1)}let ye=Ie.EDITOR_MODEL_DEFAULTS.insertSpaces;j.editor&&void 0!==j.editor.insertSpaces&&(ye="false"!==j.editor.insertSpaces&&Boolean(j.editor.insertSpaces));let Ee=It;const Ne=j.eol;"\r\n"===Ne?Ee=2:"\n"===Ne&&(Ee=1);let Oe=Ie.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;j.editor&&void 0!==j.editor.trimAutoWhitespace&&(Oe="false"!==j.editor.trimAutoWhitespace&&Boolean(j.editor.trimAutoWhitespace));let Ke=Ie.EDITOR_MODEL_DEFAULTS.detectIndentation;j.editor&&void 0!==j.editor.detectIndentation&&(Ke="false"!==j.editor.detectIndentation&&Boolean(j.editor.detectIndentation));let je=Ie.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;j.editor&&void 0!==j.editor.largeFileOptimizations&&(je="false"!==j.editor.largeFileOptimizations&&Boolean(j.editor.largeFileOptimizations));let Ze=Ie.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return(null===(he=j.editor)||void 0===he?void 0:he.bracketPairColorization)&&"object"==typeof j.editor.bracketPairColorization&&(Ze={enabled:!!j.editor.bracketPairColorization.enabled}),{isForSimpleWidget:te,tabSize:ve,indentSize:Ce,insertSpaces:ye,detectIndentation:Ke,defaultEOL:Ee,trimAutoWhitespace:Oe,largeFileOptimizations:je,bracketPairColorizationOptions:Ze}}_getEOL(j,te){if(j)return this._resourcePropertiesService.getEOL(j,te);const he=this._configurationService.getValue("files.eol",{overrideIdentifier:te});return he&&"string"==typeof he&&"auto"!==he?he:3===Ce.OS||2===Ce.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const j=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof j||j}getCreationOptions(j,te,he){let ve=this._modelCreationOptionsByLanguageAndResource[j+te];if(!ve){const Ce=this._configurationService.getValue("editor",{overrideIdentifier:j,resource:te}),ye=this._getEOL(te,j);ve=Nt._readModelOptions({editor:Ce,eol:ye},he),this._modelCreationOptionsByLanguageAndResource[j+te]=ve}return ve}_updateModelOptions(){const j=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const te=Object.keys(this._models);for(let he=0,ve=te.length;he<ve;he++){const ve=te[he],Ce=this._models[ve],ye=Ce.model.getLanguageId(),Ee=Ce.model.uri,Ie=j[ye+Ee],Ne=this.getCreationOptions(ye,Ee,Ce.model.isForSimpleWidget);Nt._setModelOptionsForModel(Ce.model,Ne,Ie)}}static _setModelOptionsForModel(j,te,he){he&&he.defaultEOL!==te.defaultEOL&&1===j.getLineCount()&&j.setEOL(1===te.defaultEOL?0:1),(!he||he.detectIndentation!==te.detectIndentation||he.insertSpaces!==te.insertSpaces||he.tabSize!==te.tabSize||he.indentSize!==te.indentSize||he.trimAutoWhitespace!==te.trimAutoWhitespace||!(0,Ct.equals)(he.bracketPairColorizationOptions,te.bracketPairColorizationOptions))&&(te.detectIndentation?(j.detectIndentation(te.insertSpaces,te.tabSize),j.updateOptions({trimAutoWhitespace:te.trimAutoWhitespace,bracketColorizationOptions:te.bracketPairColorizationOptions})):j.updateOptions({insertSpaces:te.insertSpaces,tabSize:te.tabSize,indentSize:te.indentSize,trimAutoWhitespace:te.trimAutoWhitespace,bracketColorizationOptions:te.bracketPairColorizationOptions}))}_insertDisposedModel(j){this._disposedModels.set(E(j.uri),j),this._disposedModelsHeapSize+=j.heapSize}_removeDisposedModel(j){const te=this._disposedModels.get(E(j));return te&&(this._disposedModelsHeapSize-=te.heapSize),this._disposedModels.delete(E(j)),te}_ensureDisposedModelsHeapSize(j){if(this._disposedModelsHeapSize>j){const te=[];for(this._disposedModels.forEach((j=>{j.sharesUndoRedoStack||te.push(j)})),te.sort(((j,te)=>j.time-te.time));te.length>0&&this._disposedModelsHeapSize>j;){const j=te.shift();this._removeDisposedModel(j.uri),null!==j.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(j.initialUndoRedoSnapshot)}}}_createModelData(j,te,he,ve){const Ce=this.getCreationOptions(te,he,ve),ye=new Ee.TextModel(j,te,Ce,he,this._undoRedoService,this._languageService,this._languageConfigurationService);if(he&&this._disposedModels.has(E(he))){const j=this._removeDisposedModel(he),te=this._undoRedoService.getElements(he),ve=N(ye)===j.sha1;if(ve||j.sharesUndoRedoStack){for(const j of te.past)(0,mt.isEditStackElement)(j)&&j.matchesResource(he)&&j.setModel(ye);for(const j of te.future)(0,mt.isEditStackElement)(j)&&j.matchesResource(he)&&j.setModel(ye);this._undoRedoService.setElementsValidFlag(he,!0,(j=>(0,mt.isEditStackElement)(j)&&j.matchesResource(he))),ve&&(ye._overwriteVersionId(j.versionId),ye._overwriteAlternativeVersionId(j.alternativeVersionId),ye._overwriteInitialUndoRedoSnapshot(j.initialUndoRedoSnapshot))}else null!==j.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(j.initialUndoRedoSnapshot)}const Ie=E(ye.uri);if(this._models[Ie])throw new Error("ModelService: Cannot add model because it already exists!");const Ne=new k(ye,(j=>this._onWillDispose(j)),((j,te)=>this._onDidChangeLanguage(j,te)));return this._models[Ie]=Ne,Ne}createModel(j,te,he,ve=!1){let Ce;return te?(Ce=this._createModelData(j,te.languageId,he,ve),this.setMode(Ce.model,te)):Ce=this._createModelData(j,Oe.PLAINTEXT_LANGUAGE_ID,he,ve),this._onModelAdded.fire(Ce.model),Ce.model}setMode(j,te){if(!te)return;const he=this._models[E(j.uri)];!he||he.setLanguage(te)}getModels(){const j=[],te=Object.keys(this._models);for(let he=0,ve=te.length;he<ve;he++){const ve=te[he];j.push(this._models[ve].model)}return j}getModel(j){const te=E(j),he=this._models[te];return he?he.model:null}getSemanticTokensProviderStyling(j){return this._semanticStyling.get(j)}_schemaShouldMaintainUndoRedoElements(j){return j.scheme===pt.Schemas.file||j.scheme===pt.Schemas.vscodeRemote||j.scheme===pt.Schemas.userData||j.scheme===pt.Schemas.vscodeNotebookCell||"fake-fs"===j.scheme}_onWillDispose(j){const te=E(j.uri),he=this._models[te],ve=this._undoRedoService.getUriComparisonKey(j.uri)!==j.uri.toString();let Ce=!1,ye=0;if(ve||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(j.uri)){const te=this._undoRedoService.getElements(j.uri);if(te.past.length>0||te.future.length>0){for(const he of te.past)(0,mt.isEditStackElement)(he)&&he.matchesResource(j.uri)&&(Ce=!0,ye+=he.heapSize(j.uri),he.setModel(j.uri));for(const he of te.future)(0,mt.isEditStackElement)(he)&&he.matchesResource(j.uri)&&(Ce=!0,ye+=he.heapSize(j.uri),he.setModel(j.uri))}}const Ee=Nt.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(Ce)if(!ve&&ye>Ee){const j=he.model.getInitialUndoRedoSnapshot();null!==j&&this._undoRedoService.restoreSnapshot(j)}else this._ensureDisposedModelsHeapSize(Ee-ye),this._undoRedoService.setElementsValidFlag(j.uri,!1,(te=>(0,mt.isEditStackElement)(te)&&te.matchesResource(j.uri))),this._insertDisposedModel(new O(j.uri,he.model.getInitialUndoRedoSnapshot(),Date.now(),ve,ye,N(j),j.getVersionId(),j.getAlternativeVersionId()));else if(!ve){const j=he.model.getInitialUndoRedoSnapshot();null!==j&&this._undoRedoService.restoreSnapshot(j)}delete this._models[te],he.dispose(),delete this._modelCreationOptionsByLanguageAndResource[j.getLanguageId()+j.uri],this._onModelRemoved.fire(j)}_onDidChangeLanguage(j,te){const he=te.oldLanguage,ve=j.getLanguageId(),Ce=this.getCreationOptions(he,j.uri,j.isForSimpleWidget),ye=this.getCreationOptions(ve,j.uri,j.isForSimpleWidget);Nt._setModelOptionsForModel(j,ye,Ce),this._onModelModeChanged.fire({model:j,oldLanguageId:he})}};function T(j,he,ve){var Ce;const ye=null===(Ce=ve.getValue(te.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:j.getLanguageId(),resource:j.uri}))||void 0===Ce?void 0:Ce.enabled;return"boolean"==typeof ye?ye:he.getColorTheme().semanticHighlighting}kt.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,kt=Ci([Zi(0,Ye.IConfigurationService),Zi(1,Ze.ITextResourcePropertiesService),Zi(2,rt.IThemeService),Zi(3,at.ILogService),Zi(4,ct.IUndoRedoService),Zi(5,Ke.ILanguageService),Zi(6,bt.ILanguageConfigurationService),Zi(7,St.ILanguageFeatureDebounceService)],kt),te.ModelService=kt,te.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting",te.isSemanticColoringEnabled=T;let At=class extends ve.Disposable{constructor(j,he,ve,Ce,ye){super(),this._watchers=Object.create(null),this._semanticStyling=j;const ae=j=>{this._watchers[j.uri.toString()]=new Pt(j,this._semanticStyling,ve,ye)},oe=(j,te)=>{te.dispose(),delete this._watchers[j.uri.toString()]},Z=()=>{for(let j of he.getModels()){const te=this._watchers[j.uri.toString()];T(j,ve,Ce)?te||ae(j):te&&oe(j,te)}};this._register(he.onModelAdded((j=>{T(j,ve,Ce)&&ae(j)}))),this._register(he.onModelRemoved((j=>{const te=this._watchers[j.uri.toString()];te&&oe(j,te)}))),this._register(Ce.onDidChangeConfiguration((j=>{j.affectsConfiguration(te.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&Z()}))),this._register(ve.onDidColorThemeChange(Z))}};At=Ci([Zi(1,je.IModelService),Zi(2,rt.IThemeService),Zi(3,Ye.IConfigurationService),Zi(4,St.ILanguageFeatureDebounceService)],At);class P extends ve.Disposable{constructor(j,te,he){super(),this._themeService=j,this._languageService=te,this._logService=he,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange((()=>{this._caches=new WeakMap})))}get(j){return this._caches.has(j)||this._caches.set(j,new ft.SemanticTokensProviderStyling(j.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(j)}}class F{constructor(j,te,he){this.provider=j,this.resultId=te,this.data=he}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let Pt=class Lt extends ve.Disposable{constructor(j,te,he,Ce){super(),this._isDisposed=!1,this._model=j,this._semanticStyling=te,this._debounceInformation=Ce.for(Ne.DocumentSemanticTokensProviderRegistry,"DocumentSemanticTokens",{min:Lt.REQUEST_MIN_DELAY,max:Lt.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new et.RunOnceScheduler((()=>this._fetchDocumentSemanticTokensNow()),Lt.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent((()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))}))),this._register(this._model.onDidChangeLanguage((()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)})));const re=()=>{(0,ve.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const te of Ne.DocumentSemanticTokensProviderRegistry.all(j))"function"==typeof te.onDidChange&&this._documentProvidersChangeListeners.push(te.onDidChange((()=>this._fetchDocumentSemanticTokens.schedule(0))))};re(),this._register(Ne.DocumentSemanticTokensProviderRegistry.onDidChange((()=>{re(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))}))),this._register(he.onDidColorThemeChange((j=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))}))),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,_t.hasDocumentSemanticTokensProvider)(this._model))return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const j=new nt.CancellationTokenSource,te=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,he=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,ve=(0,_t.getDocumentSemanticTokens)(this._model,te,he,j.token);this._currentDocumentRequestCancellationTokenSource=j;const Ce=[],Ee=this._model.onDidChangeContent((j=>{Ce.push(j)})),Ie=new Dt.StopWatch(!1);ve.then((j=>{if(this._debounceInformation.update(this._model,Ie.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,Ee.dispose(),j){const{provider:te,tokens:he}=j,ve=this._semanticStyling.get(te);this._setDocumentSemanticTokens(te,he||null,ve,Ce)}else this._setDocumentSemanticTokens(null,null,null,Ce)}),(j=>{j&&(ye.isCancellationError(j)||"string"==typeof j.message&&-1!==j.message.indexOf("busy"))||ye.onUnexpectedError(j),this._currentDocumentRequestCancellationTokenSource=null,Ee.dispose(),Ce.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))}))}static _copy(j,te,he,ve,Ce){for(let ye=0;ye<Ce;ye++)he[ve+ye]=j[te+ye]}_setDocumentSemanticTokens(j,te,he,ve){const Ce=this._currentDocumentResponse,ae=()=>{ve.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)j&&te&&j.releaseDocumentSemanticTokens(te.resultId);else if(j&&he){if(!te)return this._model.setSemanticTokens(null,!0),void ae();if((0,_t.isSemanticTokensEdits)(te)){if(!Ce)return void this._model.setSemanticTokens(null,!0);if(0===te.edits.length)te={resultId:te.resultId,data:Ce.data};else{let j=0;for(const he of te.edits)j+=(he.data?he.data.length:0)-he.deleteCount;const he=Ce.data,ve=new Uint32Array(he.length+j);let ye=he.length,Ee=ve.length;for(let j=te.edits.length-1;j>=0;j--){const Ce=te.edits[j],Ie=ye-(Ce.start+Ce.deleteCount);Ie>0&&(Lt._copy(he,ye-Ie,ve,Ee-Ie,Ie),Ee-=Ie),Ce.data&&(Lt._copy(Ce.data,0,ve,Ee-Ce.data.length,Ce.data.length),Ee-=Ce.data.length),ye=Ce.start}ye>0&&Lt._copy(he,0,ve,0,ye),te={resultId:te.resultId,data:ve}}}if((0,_t.isSemanticTokens)(te)){this._currentDocumentResponse=new F(j,te.resultId,te.data);const Ce=(0,ft.toMultilineTokens2)(te,he,this._model.getLanguageId());if(ve.length>0)for(const j of ve)for(const te of Ce)for(const he of j.changes)te.applyEdit(he.range,he.text);this._model.setSemanticTokens(Ce,!0)}else this._model.setSemanticTokens(null,!0);ae()}else this._model.setSemanticTokens(null,!1)}};Pt.REQUEST_MIN_DELAY=300,Pt.REQUEST_MAX_DELAY=2e3,Pt=Ci([Zi(2,rt.IThemeService),Zi(3,St.ILanguageFeatureDebounceService)],Pt),te.ModelSemanticColoring=Pt})),define(Ce[704],ie([1,0,19,11,3,180,33,91,183,448,242,69]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewModelLinesFromModelAsIs=te.ViewModelLinesFromProjectedModel=void 0;te.ViewModelLinesFromProjectedModel=class i{constructor(j,te,he,ve,Ce,ye,Ee,Ie,Ne){this._editorId=j,this.model=te,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=he,this._monospaceLineBreaksComputerFactory=ve,this.fontInfo=Ce,this.tabSize=ye,this.wrappingStrategy=Ee,this.wrappingColumn=Ie,this.wrappingIndent=Ne,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new r(this)}_constructLines(j,te){this.modelLineProjections=[],j&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const ve=this.model.getLinesContent(),ye=this.model.getInjectedTextDecorations(this._editorId),Ee=ve.length,Ne=this.createLineBreaksComputer(),je=new he.ArrayQueue(Ie.LineInjectedText.fromDecorations(ye));for(let j=0;j<Ee;j++){const he=je.takeWhile((te=>te.lineNumber===j+1));Ne.addRequest(ve[j],he,te?te[j]:null)}const Ze=Ne.finalize(),Ye=[],et=this.hiddenAreasDecorationIds.map((j=>this.model.getDecorationRange(j))).sort(Ce.Range.compareRangesUsingStarts);let nt=1,rt=0,at=-1,ct=at+1<et.length?rt+1:Ee+2;for(let j=0;j<Ee;j++){const te=j+1;te===ct&&(at++,nt=et[at].startLineNumber,rt=et[at].endLineNumber,ct=at+1<et.length?rt+1:Ee+2);const he=te>=nt&&te<=rt,ve=(0,Oe.createModelLineProjection)(Ze[j],!he);Ye[j]=ve.getViewLineCount(),this.modelLineProjections[j]=ve}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new Ke.ConstantTimePrefixSumComputer(Ye)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map((j=>this.model.getDecorationRange(j)))}setHiddenAreas(j){const te=function n(j){if(0===j.length)return[];const te=j.slice();te.sort(Ce.Range.compareRangesUsingStarts);const he=[];let ve=te[0].startLineNumber,ye=te[0].endLineNumber;for(let j=1,Ee=te.length;j<Ee;j++){const Ee=te[j];Ee.startLineNumber>ye+1?(he.push(new Ce.Range(ve,1,ye,1)),ve=Ee.startLineNumber,ye=Ee.endLineNumber):Ee.endLineNumber>ye&&(ye=Ee.endLineNumber)}return he.push(new Ce.Range(ve,1,ye,1)),he}(j.map((j=>this.model.validateRange(j)))),he=this.hiddenAreasDecorationIds.map((j=>this.model.getDecorationRange(j))).sort(Ce.Range.compareRangesUsingStarts);if(te.length===he.length){let j=!1;for(let ve=0;ve<te.length;ve++)if(!te[ve].equalsRange(he[ve])){j=!0;break}if(!j)return!1}const ve=te.map((j=>({range:j,options:Ee.ModelDecorationOptions.EMPTY})));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,ve);const ye=te;let Ie=1,Ne=0,Oe=-1,Ke=Oe+1<ye.length?Ne+1:this.modelLineProjections.length+2,je=!1;for(let j=0;j<this.modelLineProjections.length;j++){const te=j+1;te===Ke&&(Oe++,Ie=ye[Oe].startLineNumber,Ne=ye[Oe].endLineNumber,Ke=Oe+1<ye.length?Ne+1:this.modelLineProjections.length+2);let he=!1;if(te>=Ie&&te<=Ne?this.modelLineProjections[j].isVisible()&&(this.modelLineProjections[j]=this.modelLineProjections[j].setVisible(!1),he=!0):(je=!0,this.modelLineProjections[j].isVisible()||(this.modelLineProjections[j]=this.modelLineProjections[j].setVisible(!0),he=!0)),he){const te=this.modelLineProjections[j].getViewLineCount();this.projectedModelLineLineCounts.setValue(j,te)}}return je||this.setHiddenAreas([]),!0}modelPositionIsVisible(j,te){return!(j<1||j>this.modelLineProjections.length)&&this.modelLineProjections[j-1].isVisible()}getModelLineViewLineCount(j){return j<1||j>this.modelLineProjections.length?1:this.modelLineProjections[j-1].getViewLineCount()}setTabSize(j){return this.tabSize!==j&&(this.tabSize=j,this._constructLines(!1,null),!0)}setWrappingSettings(j,te,he,ve){const Ce=this.fontInfo.equals(j),ye=this.wrappingStrategy===te,Ee=this.wrappingColumn===he,Ie=this.wrappingIndent===ve;if(Ce&&ye&&Ee&&Ie)return!1;const Ne=Ce&&ye&&!Ee&&Ie;this.fontInfo=j,this.wrappingStrategy=te,this.wrappingColumn=he,this.wrappingIndent=ve;let Oe=null;if(Ne){Oe=[];for(let j=0,te=this.modelLineProjections.length;j<te;j++)Oe[j]=this.modelLineProjections[j].getProjectionData()}return this._constructLines(!1,Oe),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(j,te,he){if(!j||j<=this._validModelVersionId)return null;const ve=1===te?1:this.projectedModelLineLineCounts.getPrefixSum(te-1)+1,Ce=this.projectedModelLineLineCounts.getPrefixSum(he);return this.modelLineProjections.splice(te-1,he-te+1),this.projectedModelLineLineCounts.removeValues(te-1,he-te+1),new Ne.ViewLinesDeletedEvent(ve,Ce)}onModelLinesInserted(j,te,he,ve){if(!j||j<=this._validModelVersionId)return null;const Ce=te>2&&!this.modelLineProjections[te-2].isVisible(),ye=1===te?1:this.projectedModelLineLineCounts.getPrefixSum(te-1)+1;let Ee=0;const Ie=[],Ke=[];for(let j=0,te=ve.length;j<te;j++){const te=(0,Oe.createModelLineProjection)(ve[j],!Ce);Ie.push(te);const he=te.getViewLineCount();Ee+=he,Ke[j]=he}return this.modelLineProjections=this.modelLineProjections.slice(0,te-1).concat(Ie).concat(this.modelLineProjections.slice(te-1)),this.projectedModelLineLineCounts.insertValues(te-1,Ke),new Ne.ViewLinesInsertedEvent(ye,ye+Ee-1)}onModelLineChanged(j,te,he){if(null!==j&&j<=this._validModelVersionId)return[!1,null,null,null];const ve=te-1,Ce=this.modelLineProjections[ve].getViewLineCount(),ye=this.modelLineProjections[ve].isVisible(),Ee=(0,Oe.createModelLineProjection)(he,ye);this.modelLineProjections[ve]=Ee;const Ie=this.modelLineProjections[ve].getViewLineCount();let Ke=!1,je=0,Ze=-1,Ye=0,et=-1,nt=0,rt=-1;Ce>Ie?(je=this.projectedModelLineLineCounts.getPrefixSum(te-1)+1,Ze=je+Ie-1,nt=Ze+1,rt=nt+(Ce-Ie)-1,Ke=!0):Ce<Ie?(je=this.projectedModelLineLineCounts.getPrefixSum(te-1)+1,Ze=je+Ce-1,Ye=Ze+1,et=Ye+(Ie-Ce)-1,Ke=!0):(je=this.projectedModelLineLineCounts.getPrefixSum(te-1)+1,Ze=je+Ie-1),this.projectedModelLineLineCounts.setValue(ve,Ie);return[Ke,je<=Ze?new Ne.ViewLinesChangedEvent(je,Ze):null,Ye<=et?new Ne.ViewLinesInsertedEvent(Ye,et):null,nt<=rt?new Ne.ViewLinesDeletedEvent(nt,rt):null]}acceptVersionId(j){this._validModelVersionId=j,1===this.modelLineProjections.length&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(j){if(j<1)return 1;const te=this.getViewLineCount();return j>te?te:0|j}getActiveIndentGuide(j,te,he){j=this._toValidViewLineNumber(j),te=this._toValidViewLineNumber(te),he=this._toValidViewLineNumber(he);const ve=this.convertViewPositionToModelPosition(j,this.getViewLineMinColumn(j)),Ce=this.convertViewPositionToModelPosition(te,this.getViewLineMinColumn(te)),ye=this.convertViewPositionToModelPosition(he,this.getViewLineMinColumn(he)),Ee=this.model.guides.getActiveIndentGuide(ve.lineNumber,Ce.lineNumber,ye.lineNumber),Ie=this.convertModelPositionToViewPosition(Ee.startLineNumber,1),Ne=this.convertModelPositionToViewPosition(Ee.endLineNumber,this.model.getLineMaxColumn(Ee.endLineNumber));return{startLineNumber:Ie.lineNumber,endLineNumber:Ne.lineNumber,indent:Ee.indent}}getViewLineInfo(j){j=this._toValidViewLineNumber(j);const te=this.projectedModelLineLineCounts.getIndexOf(j-1),he=te.index,ve=te.remainder;return new l(he+1,ve)}getMinColumnOfViewLine(j){return this.modelLineProjections[j.modelLineNumber-1].getViewLineMinColumn(this.model,j.modelLineNumber,j.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(j){const te=this.modelLineProjections[j.modelLineNumber-1],he=te.getViewLineMinColumn(this.model,j.modelLineNumber,j.modelLineWrappedLineIdx),Ce=te.getModelColumnOfViewPosition(j.modelLineWrappedLineIdx,he);return new ve.Position(j.modelLineNumber,Ce)}getModelEndPositionOfViewLine(j){const te=this.modelLineProjections[j.modelLineNumber-1],he=te.getViewLineMaxColumn(this.model,j.modelLineNumber,j.modelLineWrappedLineIdx),Ce=te.getModelColumnOfViewPosition(j.modelLineWrappedLineIdx,he);return new ve.Position(j.modelLineNumber,Ce)}getViewLineInfosGroupedByModelRanges(j,te){const he=this.getViewLineInfo(j),ye=this.getViewLineInfo(te),Ee=new Array;let Ie=this.getModelStartPositionOfViewLine(he),Ne=new Array;for(let j=he.modelLineNumber;j<=ye.modelLineNumber;j++){const te=this.modelLineProjections[j-1];if(te.isVisible()){const ve=j===he.modelLineNumber?he.modelLineWrappedLineIdx:0,Ce=j===ye.modelLineNumber?ye.modelLineWrappedLineIdx+1:te.getViewLineCount();for(let te=ve;te<Ce;te++)Ne.push(new l(j,te))}if(!te.isVisible()&&Ie){const te=new ve.Position(j-1,this.model.getLineMaxColumn(j-1)+1),he=Ce.Range.fromPositions(Ie,te);Ee.push(new c(he,Ne)),Ne=[],Ie=null}else te.isVisible()&&!Ie&&(Ie=new ve.Position(j,1))}if(Ie){const j=Ce.Range.fromPositions(Ie,this.getModelEndPositionOfViewLine(ye));Ee.push(new c(j,Ne))}return Ee}getViewLinesBracketGuides(j,te,he,ve){const Ce=he?this.convertViewPositionToModelPosition(he.lineNumber,he.column):null,Ee=[];for(const he of this.getViewLineInfosGroupedByModelRanges(j,te)){const j=he.modelRange.startLineNumber,te=this.model.guides.getLinesBracketGuides(j,he.modelRange.endLineNumber,Ce,ve);for(const ve of he.viewLines)if(ve.isWrappedLineContinuation&&1===this.getMinColumnOfViewLine(ve))Ee.push([]);else{let he=te[ve.modelLineNumber-j];he=he.map((j=>j.horizontalLine?new ye.IndentGuide(j.visibleColumn,j.className,new ye.IndentGuideHorizontalLine(j.horizontalLine.top,this.convertModelPositionToViewPosition(ve.modelLineNumber,j.horizontalLine.endColumn).column)):j)),Ee.push(he)}}return Ee}getViewLinesIndentGuides(j,te){j=this._toValidViewLineNumber(j),te=this._toValidViewLineNumber(te);const he=this.convertViewPositionToModelPosition(j,this.getViewLineMinColumn(j)),Ce=this.convertViewPositionToModelPosition(te,this.getViewLineMaxColumn(te));let ye=[];const Ee=[],Ie=[],Ne=he.lineNumber-1,Oe=Ce.lineNumber-1;let Ke=null;for(let j=Ne;j<=Oe;j++){const te=this.modelLineProjections[j];if(te.isVisible()){const Ce=te.getViewLineNumberOfModelPosition(0,j===Ne?he.column:1),ye=te.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(j+1)),Oe=ye-Ce+1;let je=0;Oe>1&&1===te.getViewLineMinColumn(this.model,j+1,ye)&&(je=0===Ce?1:2),Ee.push(Oe),Ie.push(je),null===Ke&&(Ke=new ve.Position(j+1,0))}else null!==Ke&&(ye=ye.concat(this.model.guides.getLinesIndentGuides(Ke.lineNumber,j)),Ke=null)}null!==Ke&&(ye=ye.concat(this.model.guides.getLinesIndentGuides(Ke.lineNumber,Ce.lineNumber)),Ke=null);const je=te-j+1,Ze=new Array(je);let Ye=0;for(let j=0,te=ye.length;j<te;j++){let te=ye[j];const he=Math.min(je-Ye,Ee[j]),ve=Ie[j];let Ce;Ce=2===ve?0:1===ve?1:he;for(let j=0;j<he;j++)j===Ce&&(te=0),Ze[Ye++]=te}return Ze}getViewLineContent(j){const te=this.getViewLineInfo(j);return this.modelLineProjections[te.modelLineNumber-1].getViewLineContent(this.model,te.modelLineNumber,te.modelLineWrappedLineIdx)}getViewLineLength(j){const te=this.getViewLineInfo(j);return this.modelLineProjections[te.modelLineNumber-1].getViewLineLength(this.model,te.modelLineNumber,te.modelLineWrappedLineIdx)}getViewLineMinColumn(j){const te=this.getViewLineInfo(j);return this.modelLineProjections[te.modelLineNumber-1].getViewLineMinColumn(this.model,te.modelLineNumber,te.modelLineWrappedLineIdx)}getViewLineMaxColumn(j){const te=this.getViewLineInfo(j);return this.modelLineProjections[te.modelLineNumber-1].getViewLineMaxColumn(this.model,te.modelLineNumber,te.modelLineWrappedLineIdx)}getViewLineData(j){const te=this.getViewLineInfo(j);return this.modelLineProjections[te.modelLineNumber-1].getViewLineData(this.model,te.modelLineNumber,te.modelLineWrappedLineIdx)}getViewLinesData(j,te,he){j=this._toValidViewLineNumber(j),te=this._toValidViewLineNumber(te);const ve=this.projectedModelLineLineCounts.getIndexOf(j-1);let Ce=j;const ye=ve.index,Ee=ve.remainder,Ie=[];for(let ve=ye,Ne=this.model.getLineCount();ve<Ne;ve++){const Ne=this.modelLineProjections[ve];if(!Ne.isVisible())continue;const Oe=ve===ye?Ee:0;let Ke=Ne.getViewLineCount()-Oe,je=!1;if(Ce+Ke>te&&(je=!0,Ke=te-Ce+1),Ne.getViewLinesData(this.model,ve+1,Oe,Ke,Ce-j,he,Ie),Ce+=Ke,je)break}return Ie}validateViewPosition(j,te,he){j=this._toValidViewLineNumber(j);const Ce=this.projectedModelLineLineCounts.getIndexOf(j-1),ye=Ce.index,Ee=Ce.remainder,Ie=this.modelLineProjections[ye],Ne=Ie.getViewLineMinColumn(this.model,ye+1,Ee),Oe=Ie.getViewLineMaxColumn(this.model,ye+1,Ee);te<Ne&&(te=Ne),te>Oe&&(te=Oe);const Ke=Ie.getModelColumnOfViewPosition(Ee,te);return this.model.validatePosition(new ve.Position(ye+1,Ke)).equals(he)?new ve.Position(j,te):this.convertModelPositionToViewPosition(he.lineNumber,he.column)}validateViewRange(j,te){const he=this.validateViewPosition(j.startLineNumber,j.startColumn,te.getStartPosition()),ve=this.validateViewPosition(j.endLineNumber,j.endColumn,te.getEndPosition());return new Ce.Range(he.lineNumber,he.column,ve.lineNumber,ve.column)}convertViewPositionToModelPosition(j,te){const he=this.getViewLineInfo(j),Ce=this.modelLineProjections[he.modelLineNumber-1].getModelColumnOfViewPosition(he.modelLineWrappedLineIdx,te);return this.model.validatePosition(new ve.Position(he.modelLineNumber,Ce))}convertViewRangeToModelRange(j){const te=this.convertViewPositionToModelPosition(j.startLineNumber,j.startColumn),he=this.convertViewPositionToModelPosition(j.endLineNumber,j.endColumn);return new Ce.Range(te.lineNumber,te.column,he.lineNumber,he.column)}convertModelPositionToViewPosition(j,te,he=2){const Ce=this.model.validatePosition(new ve.Position(j,te)),ye=Ce.lineNumber,Ee=Ce.column;let Ie=ye-1,Ne=!1;for(;Ie>0&&!this.modelLineProjections[Ie].isVisible();)Ie--,Ne=!0;if(0===Ie&&!this.modelLineProjections[Ie].isVisible())return new ve.Position(1,1);const Oe=1+this.projectedModelLineLineCounts.getPrefixSum(Ie);let Ke;return Ke=Ne?this.modelLineProjections[Ie].getViewPositionOfModelPosition(Oe,this.model.getLineMaxColumn(Ie+1),he):this.modelLineProjections[ye-1].getViewPositionOfModelPosition(Oe,Ee,he),Ke}convertModelRangeToViewRange(j,te=0){if(j.isEmpty()){const he=this.convertModelPositionToViewPosition(j.startLineNumber,j.startColumn,te);return Ce.Range.fromPositions(he)}{const te=this.convertModelPositionToViewPosition(j.startLineNumber,j.startColumn,1),he=this.convertModelPositionToViewPosition(j.endLineNumber,j.endColumn,0);return new Ce.Range(te.lineNumber,te.column,he.lineNumber,he.column)}}getViewLineNumberOfModelPosition(j,te){let he=j-1;if(this.modelLineProjections[he].isVisible()){const j=1+this.projectedModelLineLineCounts.getPrefixSum(he);return this.modelLineProjections[he].getViewLineNumberOfModelPosition(j,te)}for(;he>0&&!this.modelLineProjections[he].isVisible();)he--;if(0===he&&!this.modelLineProjections[he].isVisible())return 1;const ve=1+this.projectedModelLineLineCounts.getPrefixSum(he);return this.modelLineProjections[he].getViewLineNumberOfModelPosition(ve,this.model.getLineMaxColumn(he+1))}getDecorationsInRange(j,te,he){const ye=this.convertViewPositionToModelPosition(j.startLineNumber,j.startColumn),Ee=this.convertViewPositionToModelPosition(j.endLineNumber,j.endColumn);if(Ee.lineNumber-ye.lineNumber<=j.endLineNumber-j.startLineNumber)return this.model.getDecorationsInRange(new Ce.Range(ye.lineNumber,1,Ee.lineNumber,Ee.column),te,he);let Ie=[];const Ne=ye.lineNumber-1,Oe=Ee.lineNumber-1;let Ke=null;for(let j=Ne;j<=Oe;j++)if(this.modelLineProjections[j].isVisible())null===Ke&&(Ke=new ve.Position(j+1,j===Ne?ye.column:1));else if(null!==Ke){const ve=this.model.getLineMaxColumn(j);Ie=Ie.concat(this.model.getDecorationsInRange(new Ce.Range(Ke.lineNumber,Ke.column,j,ve),te,he)),Ke=null}null!==Ke&&(Ie=Ie.concat(this.model.getDecorationsInRange(new Ce.Range(Ke.lineNumber,Ke.column,Ee.lineNumber,Ee.column),te,he)),Ke=null),Ie.sort(((j,te)=>{const he=Ce.Range.compareRangesUsingStarts(j.range,te.range);return 0===he?j.id<te.id?-1:j.id>te.id?1:0:he}));let je=[],Ze=0,Ye=null;for(const j of Ie){const te=j.id;Ye!==te&&(Ye=te,je[Ze++]=j)}return je}getInjectedTextAt(j){const te=this.getViewLineInfo(j.lineNumber);return this.modelLineProjections[te.modelLineNumber-1].getInjectedTextAt(te.modelLineWrappedLineIdx,j.column)}normalizePosition(j,te){const he=this.getViewLineInfo(j.lineNumber);return this.modelLineProjections[he.modelLineNumber-1].normalizePosition(he.modelLineWrappedLineIdx,j,te)}getLineIndentColumn(j){const te=this.getViewLineInfo(j);return 0===te.modelLineWrappedLineIdx?this.model.getLineIndentColumn(te.modelLineNumber):0}};class l{constructor(j,te){this.modelLineNumber=j,this.modelLineWrappedLineIdx=te}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class c{constructor(j,te){this.modelRange=j,this.viewLines=te}}class r{constructor(j){this._lines=j}convertViewPositionToModelPosition(j){return this._lines.convertViewPositionToModelPosition(j.lineNumber,j.column)}convertViewRangeToModelRange(j){return this._lines.convertViewRangeToModelRange(j)}validateViewPosition(j,te){return this._lines.validateViewPosition(j.lineNumber,j.column,te)}validateViewRange(j,te){return this._lines.validateViewRange(j,te)}convertModelPositionToViewPosition(j,te){return this._lines.convertModelPositionToViewPosition(j.lineNumber,j.column,te)}convertModelRangeToViewRange(j,te){return this._lines.convertModelRangeToViewRange(j,te)}modelPositionIsVisible(j){return this._lines.modelPositionIsVisible(j.lineNumber,j.column)}getModelLineViewLineCount(j){return this._lines.getModelLineViewLineCount(j)}getViewLineNumberOfModelPosition(j,te){return this._lines.getViewLineNumberOfModelPosition(j,te)}}te.ViewModelLinesFromModelAsIs=class s{constructor(j){this.model=j}dispose(){}createCoordinatesConverter(){return new o(this)}getHiddenAreas(){return[]}setHiddenAreas(j){return!1}setTabSize(j){return!1}setWrappingSettings(j,te,he,ve){return!1}createLineBreaksComputer(){const j=[];return{addRequest:(te,he,ve)=>{j.push(null)},finalize:()=>j}}onModelFlushed(){}onModelLinesDeleted(j,te,he){return new Ne.ViewLinesDeletedEvent(te,he)}onModelLinesInserted(j,te,he,ve){return new Ne.ViewLinesInsertedEvent(te,he)}onModelLineChanged(j,te,he){return[!1,new Ne.ViewLinesChangedEvent(te,te),null,null]}acceptVersionId(j){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(j,te,he){return{startLineNumber:j,endLineNumber:j,indent:0}}getViewLinesBracketGuides(j,te,he){return new Array(te-j+1).fill([])}getViewLinesIndentGuides(j,te){const he=te-j+1,ve=new Array(he);for(let j=0;j<he;j++)ve[j]=0;return ve}getViewLineContent(j){return this.model.getLineContent(j)}getViewLineLength(j){return this.model.getLineLength(j)}getViewLineMinColumn(j){return this.model.getLineMinColumn(j)}getViewLineMaxColumn(j){return this.model.getLineMaxColumn(j)}getViewLineData(j){const te=this.model.getLineTokens(j),he=te.getLineContent();return new je.ViewLineData(he,!1,1,he.length+1,0,te.inflate(),null)}getViewLinesData(j,te,he){const ve=this.model.getLineCount();j=Math.min(Math.max(1,j),ve),te=Math.min(Math.max(1,te),ve);const Ce=[];for(let ve=j;ve<=te;ve++){const te=ve-j;Ce[te]=he[te]?this.getViewLineData(ve):null}return Ce}getDecorationsInRange(j,te,he){return this.model.getDecorationsInRange(j,te,he)}normalizePosition(j,te){return this.model.normalizePosition(j,te)}getLineIndentColumn(j){return this.model.getLineIndentColumn(j)}getInjectedTextAt(j){return null}};class o{constructor(j){this._lines=j}_validPosition(j){return this._lines.model.validatePosition(j)}_validRange(j){return this._lines.model.validateRange(j)}convertViewPositionToModelPosition(j){return this._validPosition(j)}convertViewRangeToModelRange(j){return this._validRange(j)}validateViewPosition(j,te){return this._validPosition(te)}validateViewRange(j,te){return this._validRange(te)}convertModelPositionToViewPosition(j){return this._validPosition(j)}convertModelRangeToViewRange(j){return this._validRange(j)}modelPositionIsVisible(j){const te=this._lines.model.getLineCount();return!(j.lineNumber<1||j.lineNumber>te)}getModelLineViewLineCount(j){return 1}getViewLineNumberOfModelPosition(j,te){return j}}})),define(Ce[705],ie([1,0,19,10,29,2,17,8,31,290,59,11,3,91,18,79,249,183,449,250,69,267,184,704]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t){Object.defineProperty(te,"__esModule",{value:!0}),te.ViewModel=void 0;class C extends ye.Disposable{constructor(j,te,he,Ce,ye,Ee,Ie){if(super(),this.languageConfigurationService=Ie,this._editorId=j,this._configuration=te,this.model=he,this._eventDispatcher=new ft.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Ke.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new ve.RunOnceScheduler((()=>this.tokenizeViewport()),50)),this._updateConfigurationViewLineCount=this._register(new ve.RunOnceScheduler((()=>this._updateConfigurationViewLineCountNow()),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new _t.ViewModelLinesFromModelAsIs(this.model);else{const j=this._configuration.options,te=j.get(44),he=j.get(125),ve=j.get(132),Ee=j.get(124);this._lines=new _t.ViewModelLinesFromProjectedModel(this._editorId,this.model,Ce,ye,te,this.model.getOptions().tabSize,he,ve.wrappingColumn,Ee)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Oe.CursorsController(he,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new ct.ViewLayout(this._configuration,this.getLineCount(),Ee)),this._register(this.viewLayout.onDidScroll((j=>{j.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new at.ViewScrollChangedEvent(j)),this._eventDispatcher.emitOutgoingEvent(new ft.ScrollChangedEvent(j.oldScrollWidth,j.oldScrollLeft,j.oldScrollHeight,j.oldScrollTop,j.scrollWidth,j.scrollLeft,j.scrollHeight,j.scrollTop))}))),this._register(this.viewLayout.onDidContentSizeChange((j=>{this._eventDispatcher.emitOutgoingEvent(j)}))),this._decorations=new pt.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((j=>{try{const te=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(te,j)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(ht.MinimapTokensColorTracker.getInstance().onDidChange((()=>{this._eventDispatcher.emitSingleViewEvent(new at.ViewTokensColorsChangedEvent)}))),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(j){this._eventDispatcher.addViewEventHandler(j)}removeViewEventHandler(j){this._eventDispatcher.removeViewEventHandler(j)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const j=this.viewLayout.getLinesViewportData(),te=new Ze.Range(j.startLineNumber,this.getLineMinColumn(j.startLineNumber),j.endLineNumber,this.getLineMaxColumn(j.endLineNumber)),he=this._toModelVisibleRanges(te);for(const j of he)this.model.tokenizeViewport(j.startLineNumber,j.endLineNumber)}setHasFocus(j){this._hasFocus=j,this._cursor.setHasFocus(j),this._eventDispatcher.emitSingleViewEvent(new at.ViewFocusChangedEvent(j)),this._eventDispatcher.emitOutgoingEvent(new ft.FocusChangedEvent(!j,j))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new at.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new at.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new at.ViewThemeChangedEvent)}_onConfigurationChanged(j,te){let he=null;if(-1!==this._viewportStartLine){const j=new je.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));he=this.coordinatesConverter.convertViewPositionToModelPosition(j)}let ve=!1;const Ce=this._configuration.options,ye=Ce.get(44),Ee=Ce.get(125),Ie=Ce.get(132),Ne=Ce.get(124);if(this._lines.setWrappingSettings(ye,Ee,Ie.wrappingColumn,Ne)&&(j.emitViewEvent(new at.ViewFlushedEvent),j.emitViewEvent(new at.ViewLineMappingChangedEvent),j.emitViewEvent(new at.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(j),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(ve=!0),this._updateConfigurationViewLineCount.schedule()),te.hasChanged(81)&&(this._decorations.reset(),j.emitViewEvent(new at.ViewDecorationsChangedEvent(null))),j.emitViewEvent(new at.ViewConfigurationChangedEvent(te)),this.viewLayout.onConfigurationChanged(te),ve&&he){const j=this.coordinatesConverter.convertModelPositionToViewPosition(he),te=this.viewLayout.getVerticalOffsetForLineNumber(j.lineNumber);this.viewLayout.setScrollPosition({scrollTop:te+this._viewportStartLineDelta},1)}Ke.CursorConfiguration.shouldRecreate(te)&&(this.cursorConfig=new Ke.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText((j=>{try{const te=this._eventDispatcher.beginEmitViewEvents();let ve=!1,Ce=!1;const ye=j.changes,Ee=j instanceof Ye.ModelRawContentChangedEvent?j.versionId:null,Ie=this._lines.createLineBreaksComputer();for(const j of ye)switch(j.changeType){case 4:for(let te=0;te<j.detail.length;te++){const he=j.detail[te];let ve=j.injectedTexts[te];ve&&(ve=ve.filter((j=>!j.ownerId||j.ownerId===this._editorId))),Ie.addRequest(he,ve,null)}break;case 2:{let te=null;j.injectedText&&(te=j.injectedText.filter((j=>!j.ownerId||j.ownerId===this._editorId))),Ie.addRequest(j.detail,te,null);break}}const Ne=Ie.finalize(),Oe=new he.ArrayQueue(Ne);for(const j of ye)switch(j.changeType){case 1:this._lines.onModelFlushed(),te.emitViewEvent(new at.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),ve=!0;break;case 3:{const he=this._lines.onModelLinesDeleted(Ee,j.fromLineNumber,j.toLineNumber);null!==he&&(te.emitViewEvent(he),this.viewLayout.onLinesDeleted(he.fromLineNumber,he.toLineNumber)),ve=!0;break}case 4:{const he=Oe.takeCount(j.detail.length),Ce=this._lines.onModelLinesInserted(Ee,j.fromLineNumber,j.toLineNumber,he);null!==Ce&&(te.emitViewEvent(Ce),this.viewLayout.onLinesInserted(Ce.fromLineNumber,Ce.toLineNumber)),ve=!0;break}case 2:{const he=Oe.dequeue(),[ve,ye,Ie,Ne]=this._lines.onModelLineChanged(Ee,j.lineNumber,he);Ce=ve,ye&&te.emitViewEvent(ye),Ie&&(te.emitViewEvent(Ie),this.viewLayout.onLinesInserted(Ie.fromLineNumber,Ie.toLineNumber)),Ne&&(te.emitViewEvent(Ne),this.viewLayout.onLinesDeleted(Ne.fromLineNumber,Ne.toLineNumber));break}}null!==Ee&&this._lines.acceptVersionId(Ee),this.viewLayout.onHeightMaybeChanged(),!ve&&Ce&&(te.emitViewEvent(new at.ViewLineMappingChangedEvent),te.emitViewEvent(new at.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(te),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const j=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(j){const te=this.coordinatesConverter.convertModelPositionToViewPosition(j.getStartPosition()),he=this.viewLayout.getVerticalOffsetForLineNumber(te.lineNumber);this.viewLayout.setScrollPosition({scrollTop:he+this._viewportStartLineDelta},1)}}try{const te=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(te,j)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()}))),this._register(this.model.onDidChangeTokens((j=>{const te=[];for(let he=0,ve=j.ranges.length;he<ve;he++){const ve=j.ranges[he],Ce=this.coordinatesConverter.convertModelPositionToViewPosition(new je.Position(ve.fromLineNumber,1)).lineNumber,ye=this.coordinatesConverter.convertModelPositionToViewPosition(new je.Position(ve.toLineNumber,this.model.getLineMaxColumn(ve.toLineNumber))).lineNumber;te[he]={fromLineNumber:Ce,toLineNumber:ye}}this._eventDispatcher.emitSingleViewEvent(new at.ViewTokensChangedEvent(te)),j.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()}))),this._register(this.model.onDidChangeLanguageConfiguration((j=>{this._eventDispatcher.emitSingleViewEvent(new at.ViewLanguageConfigurationEvent),this.cursorConfig=new Ke.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeLanguage((j=>{this.cursorConfig=new Ke.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeOptions((j=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const j=this._eventDispatcher.beginEmitViewEvents();j.emitViewEvent(new at.ViewFlushedEvent),j.emitViewEvent(new at.ViewLineMappingChangedEvent),j.emitViewEvent(new at.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(j),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Ke.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeDecorations((j=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new at.ViewDecorationsChangedEvent(j))})))}setHiddenAreas(j){let te=!1;try{const he=this._eventDispatcher.beginEmitViewEvents();te=this._lines.setHiddenAreas(j),te&&(he.emitViewEvent(new at.ViewFlushedEvent),he.emitViewEvent(new at.ViewLineMappingChangedEvent),he.emitViewEvent(new at.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(he),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),te&&this._eventDispatcher.emitOutgoingEvent(new ft.ViewZonesChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const j=this._configuration.options.get(131),te=this._configuration.options.get(59),he=Math.max(20,Math.round(j.height/te)),ve=this.viewLayout.getLinesViewportData(),Ce=Math.max(1,ve.completelyVisibleStartLineNumber-he),ye=Math.min(this.getLineCount(),ve.completelyVisibleEndLineNumber+he);return this._toModelVisibleRanges(new Ze.Range(Ce,this.getLineMinColumn(Ce),ye,this.getLineMaxColumn(ye)))}getVisibleRanges(){const j=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(j)}_toModelVisibleRanges(j){const te=this.coordinatesConverter.convertViewRangeToModelRange(j),he=this._lines.getHiddenAreas();if(0===he.length)return[te];const ve=[];let Ce=0,ye=te.startLineNumber,Ee=te.startColumn;const Ie=te.endLineNumber,Ne=te.endColumn;for(let j=0,te=he.length;j<te;j++){const te=he[j].startLineNumber,Ne=he[j].endLineNumber;Ne<ye||te>Ie||(ye<te&&(ve[Ce++]=new Ze.Range(ye,Ee,te-1,this.model.getLineMaxColumn(te-1))),ye=Ne+1,Ee=1)}return(ye<Ie||ye===Ie&&Ee<Ne)&&(ve[Ce++]=new Ze.Range(ye,Ee,Ie,Ne)),ve}getCompletelyVisibleViewRange(){const j=this.viewLayout.getLinesViewportData(),te=j.completelyVisibleStartLineNumber,he=j.completelyVisibleEndLineNumber;return new Ze.Range(te,this.getLineMinColumn(te),he,this.getLineMaxColumn(he))}getCompletelyVisibleViewRangeAtScrollTop(j){const te=this.viewLayout.getLinesViewportDataAtScrollTop(j),he=te.completelyVisibleStartLineNumber,ve=te.completelyVisibleEndLineNumber;return new Ze.Range(he,this.getLineMinColumn(he),ve,this.getLineMaxColumn(ve))}saveState(){const j=this.viewLayout.saveState(),te=j.scrollTop,he=this.viewLayout.getLineNumberAtVerticalOffset(te),ve=this.coordinatesConverter.convertViewPositionToModelPosition(new je.Position(he,this.getLineMinColumn(he))),Ce=this.viewLayout.getVerticalOffsetForLineNumber(he)-te;return{scrollLeft:j.scrollLeft,firstPosition:ve,firstPositionDeltaTop:Ce}}reduceRestoreState(j){if(void 0===j.firstPosition)return this._reduceRestoreStateCompatibility(j);const te=this.model.validatePosition(j.firstPosition),he=this.coordinatesConverter.convertModelPositionToViewPosition(te),ve=this.viewLayout.getVerticalOffsetForLineNumber(he.lineNumber)-j.firstPositionDeltaTop;return{scrollLeft:j.scrollLeft,scrollTop:ve}}_reduceRestoreStateCompatibility(j){return{scrollLeft:j.scrollLeft,scrollTop:j.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(j,te,he){this._viewportStartLine=j;const ve=this.coordinatesConverter.convertViewPositionToModelPosition(new je.Position(j,this.getLineMinColumn(j)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new Ze.Range(ve.lineNumber,ve.column,ve.lineNumber,ve.column),1);const Ce=this.viewLayout.getVerticalOffsetForLineNumber(j),ye=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=ye-Ce}getActiveIndentGuide(j,te,he){return this._lines.getActiveIndentGuide(j,te,he)}getLinesIndentGuides(j,te){return this._lines.getViewLinesIndentGuides(j,te)}getBracketGuidesInRangeByLine(j,te,he,ve){return this._lines.getViewLinesBracketGuides(j,te,he,ve)}getLineContent(j){return this._lines.getViewLineContent(j)}getLineLength(j){return this._lines.getViewLineLength(j)}getLineMinColumn(j){return this._lines.getViewLineMinColumn(j)}getLineMaxColumn(j){return this._lines.getViewLineMaxColumn(j)}getLineFirstNonWhitespaceColumn(j){const te=Ie.firstNonWhitespaceIndex(this.getLineContent(j));return-1===te?0:te+1}getLineLastNonWhitespaceColumn(j){const te=Ie.lastNonWhitespaceIndex(this.getLineContent(j));return-1===te?0:te+2}getDecorationsInViewport(j){return this._decorations.getDecorationsViewportData(j).decorations}getInjectedTextAt(j){return this._lines.getInjectedTextAt(j)}getViewLineRenderingData(j,te){const he=this.model.mightContainRTL(),ve=this.model.mightContainNonBasicASCII(),Ce=this.getTabSize(),ye=this._lines.getViewLineData(te);let Ee=this._decorations.getDecorationsViewportData(j).inlineDecorations[te-j.startLineNumber];return ye.inlineDecorations&&(Ee=[...Ee,...ye.inlineDecorations.map((j=>j.toInlineDecoration(te)))]),new mt.ViewLineRenderingData(ye.minColumn,ye.maxColumn,ye.content,ye.continuesWithWrappedLine,he,ve,ye.tokens,Ee,Ce,ye.startVisibleColumn)}getViewLineData(j){return this._lines.getViewLineData(j)}getMinimapLinesRenderingData(j,te,he){const ve=this._lines.getViewLinesData(j,te,he);return new mt.MinimapLinesRenderingData(this.getTabSize(),ve)}getAllOverviewRulerDecorations(j){const te=this.model.getOverviewRulerDecorations(this._editorId,(0,Ne.filterValidationDecorations)(this._configuration.options)),he=new _;for(const ve of te){const te=ve.options,Ce=te.overviewRuler;if(!Ce)continue;const ye=Ce.position;if(0===ye)continue;const Ee=Ce.getColor(j.value),Ie=this.coordinatesConverter.getViewLineNumberOfModelPosition(ve.range.startLineNumber,ve.range.startColumn),Ne=this.coordinatesConverter.getViewLineNumberOfModelPosition(ve.range.endLineNumber,ve.range.endColumn);he.accept(Ee,te.zIndex,Ie,Ne,ye)}return he.asArray}invalidateOverviewRulerColorCache(){const j=this.model.getOverviewRulerDecorations();for(const te of j){const j=te.options.overviewRuler;j&&j.invalidateCachedColor()}}invalidateMinimapColorCache(){const j=this.model.getAllDecorations();for(const te of j){const j=te.options.minimap;j&&j.invalidateCachedColor()}}getValueInRange(j,te){const he=this.coordinatesConverter.convertViewRangeToModelRange(j);return this.model.getValueInRange(he,te)}getModelLineMaxColumn(j){return this.model.getLineMaxColumn(j)}validateModelPosition(j){return this.model.validatePosition(j)}validateModelRange(j){return this.model.validateRange(j)}deduceModelPositionRelativeToViewPosition(j,te,he){const ve=this.coordinatesConverter.convertViewPositionToModelPosition(j);2===this.model.getEOL().length&&(te<0?te-=he:te+=he);const Ce=this.model.getOffsetAt(ve)+te;return this.model.getPositionAt(Ce)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(j,te,he){const ve=he?"\r\n":this.model.getEOL();(j=j.slice(0)).sort(Ze.Range.compareRangesUsingStarts);let Ce=!1,ye=!1;for(const te of j)te.isEmpty()?Ce=!0:ye=!0;if(!ye){if(!te)return"";const he=j.map((j=>j.startLineNumber));let Ce="";for(let j=0;j<he.length;j++)j>0&&he[j-1]===he[j]||(Ce+=this.model.getLineContent(he[j])+ve);return Ce}if(Ce&&te){const te=[];let ve=0;for(const Ce of j){const j=Ce.startLineNumber;Ce.isEmpty()?j!==ve&&te.push(this.model.getLineContent(j)):te.push(this.model.getValueInRange(Ce,he?2:0)),ve=j}return 1===te.length?te[0]:te}const Ee=[];for(const te of j)te.isEmpty()||Ee.push(this.model.getValueInRange(te,he?2:0));return 1===Ee.length?Ee[0]:Ee}getRichTextToCopy(j,te){const he=this.model.getLanguageId();if(he===nt.PLAINTEXT_LANGUAGE_ID||1!==j.length)return null;let ve=j[0];if(ve.isEmpty()){if(!te)return null;const j=ve.startLineNumber;ve=new Ze.Range(j,this.model.getLineMinColumn(j),j,this.model.getLineMaxColumn(j))}const Ce=this._configuration.options.get(44),ye=this._getColorMap();let Ee;return/[:;\\\/<>]/.test(Ce.fontFamily)||Ce.fontFamily===Ne.EDITOR_FONT_DEFAULTS.fontFamily?Ee=Ne.EDITOR_FONT_DEFAULTS.fontFamily:(Ee=Ce.fontFamily,Ee=Ee.replace(/"/g,"'"),/[,']/.test(Ee)||/[+ ]/.test(Ee)&&(Ee=`'${Ee}'`),Ee=`${Ee}, ${Ne.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:he,html:`<div style="color: ${ye[1]};background-color: ${ye[2]};font-family: ${Ee};font-weight: ${Ce.fontWeight};font-size: ${Ce.fontSize}px;line-height: ${Ce.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(ve,ye)+"</div>"}}_getHTMLToCopy(j,te){const he=j.startLineNumber,ve=j.startColumn,Ce=j.endLineNumber,ye=j.endColumn,Ie=this.getTabSize();let Ne="";for(let j=he;j<=Ce;j++){const Oe=this.model.getLineTokens(j),Ke=Oe.getLineContent(),je=j===he?ve-1:0,Ze=j===Ce?ye-1:Ke.length;Ne+=""===Ke?"<br>":(0,rt.tokenizeLineToHTML)(Ke,Oe.inflate(),te,je,Ze,Ie,Ee.isWindows)}return Ne}_getColorMap(){const j=et.TokenizationRegistry.getColorMap(),te=["#000000"];if(j)for(let he=1,ve=j.length;he<ve;he++)te[he]=Ce.Color.Format.CSS.formatHex(j[he]);return te}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(j,te,he){return this._withViewEventsCollector((ve=>this._cursor.setStates(ve,j,te,he)))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(j){this._cursor.setCursorColumnSelectData(j)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(j){this._cursor.setPrevEditOperationType(j)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(j,te,he=0){this._withViewEventsCollector((ve=>this._cursor.setSelections(ve,j,te,he)))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(j){this._withViewEventsCollector((te=>this._cursor.restoreState(te,j)))}_executeCursorEdit(j){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new ft.ReadOnlyEditAttemptEvent):this._withViewEventsCollector(j)}executeEdits(j,te,he){this._executeCursorEdit((ve=>this._cursor.executeEdits(ve,j,te,he)))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit((j=>this._cursor.startComposition(j)))}endComposition(j){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit((te=>this._cursor.endComposition(te,j)))}type(j,te){this._executeCursorEdit((he=>this._cursor.type(he,j,te)))}compositionType(j,te,he,ve,Ce){this._executeCursorEdit((ye=>this._cursor.compositionType(ye,j,te,he,ve,Ce)))}paste(j,te,he,ve){this._executeCursorEdit((Ce=>this._cursor.paste(Ce,j,te,he,ve)))}cut(j){this._executeCursorEdit((te=>this._cursor.cut(te,j)))}executeCommand(j,te){this._executeCursorEdit((he=>this._cursor.executeCommand(he,j,te)))}executeCommands(j,te){this._executeCursorEdit((he=>this._cursor.executeCommands(he,j,te)))}revealPrimaryCursor(j,te,he=!1){this._withViewEventsCollector((ve=>this._cursor.revealPrimary(ve,j,he,0,te,0)))}revealTopMostCursor(j){const te=this._cursor.getTopMostViewPosition(),he=new Ze.Range(te.lineNumber,te.column,te.lineNumber,te.column);this._withViewEventsCollector((te=>te.emitViewEvent(new at.ViewRevealRangeRequestEvent(j,!1,he,null,0,!0,0))))}revealBottomMostCursor(j){const te=this._cursor.getBottomMostViewPosition(),he=new Ze.Range(te.lineNumber,te.column,te.lineNumber,te.column);this._withViewEventsCollector((te=>te.emitViewEvent(new at.ViewRevealRangeRequestEvent(j,!1,he,null,0,!0,0))))}revealRange(j,te,he,ve,Ce){this._withViewEventsCollector((ye=>ye.emitViewEvent(new at.ViewRevealRangeRequestEvent(j,!1,he,null,ve,te,Ce))))}getVerticalOffsetForLineNumber(j){return this.viewLayout.getVerticalOffsetForLineNumber(j)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(j,te){this.viewLayout.setScrollPosition({scrollTop:j},te)}setScrollPosition(j,te){this.viewLayout.setScrollPosition(j,te)}deltaScrollNow(j,te){this.viewLayout.deltaScrollNow(j,te)}changeWhitespace(j){this.viewLayout.changeWhitespace(j)&&(this._eventDispatcher.emitSingleViewEvent(new at.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new ft.ViewZonesChangedEvent))}setMaxLineWidth(j){this.viewLayout.setMaxLineWidth(j)}_withViewEventsCollector(j){try{return j(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(j,te){return this._lines.normalizePosition(j,te)}getLineIndentColumn(j){return this._lines.getLineIndentColumn(j)}}te.ViewModel=C;class _{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(j,te,he,ve,Ce){const ye=this._asMap[j];if(ye){const j=ye.data,te=j[j.length-3],Ee=j[j.length-1];if(te===Ce&&Ee+1>=he)return void(ve>Ee&&(j[j.length-1]=ve));j.push(Ce,he,ve)}else{const ye=new mt.OverviewRulerDecorationsGroup(j,te,[Ce,he,ve]);this._asMap[j]=ye,this.asArray.push(ye)}}}})),define(Ce[161],ie([1,0,500,7,13,4,2,48,604,15,28,701,232,31,290,68,11,3,22,239,147,24,18,52,23,705,26,16,9,154,38,14,63,20,439,508,159,32,62,659,367]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt,St,Dt,It,kt,At,Pt,Kt,Ut,jt,$t,qt,Gt,Zt){Object.defineProperty(te,"__esModule",{value:!0}),te.EditorModeContext=te.BooleanEventEmitter=te.CodeEditorWidget=void 0;let Yt=0;class H{constructor(j,te,he,ve,Ce){this.model=j,this.viewModel=te,this.view=he,this.hasRealView=ve,this.listenersToRemove=Ce}dispose(){(0,Ee.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let li=class zt extends Ee.Disposable{constructor(j,te,he,ve,Ee,Ie,Ne,Ke,je,Ze,Ye){super(),this.languageConfigurationService=Ye,this._onDidDispose=this._register(new ye.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new ye.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new ye.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new ye.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new ye.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new ye.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new ye.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new ye.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new ye.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new ye.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new ye.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new ye.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new X),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new X),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new ye.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new ye.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new ye.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new ye.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new ye.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new ye.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new ye.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new ye.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new ye.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new ye.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new ye.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new ye.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new ye.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new ye.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new ye.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new ye.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new ye.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new ye.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new ye.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new ye.Emitter),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const et=Object.assign({},te);let nt;this._domElement=j,this._overflowWidgetsDomNode=et.overflowWidgetsDomNode,delete et.overflowWidgetsDomNode,this._id=++Yt,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=he.telemetryData,this._configuration=this._register(this._createConfiguration(he.isSimpleWidget||!1,et,Ze)),this._register(this._configuration.onDidChange((j=>{this._onDidChangeConfiguration.fire(j);const te=this._configuration.options;if(j.hasChanged(131)){const j=te.get(131);this._onDidLayoutChange.fire(j)}}))),this._contextKeyService=this._register(Ne.createScoped(this._domElement)),this._notificationService=je,this._codeEditorService=Ee,this._commandService=Ie,this._themeService=Ke,this._register(new G(this,this._contextKeyService)),this._register(new re(this,this._contextKeyService)),this._instantiationService=ve.createChild(new kt.ServiceCollection([Dt.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new ae(j),this._register(this._focusTracker.onChange((()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}))),this._contentWidgets={},this._overlayWidgets={},nt=Array.isArray(he.contributions)?he.contributions:Oe.EditorExtensionsRegistry.getEditorContributions();for(const j of nt)if(this._contributions[j.id])(0,Ce.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${j.id}`));else try{const te=this._instantiationService.createInstance(j.ctor,this);this._contributions[j.id]=te}catch(j){(0,Ce.onUnexpectedError)(j)}Oe.EditorExtensionsRegistry.getEditorActions().forEach((j=>{if(this._actions[j.id])return void(0,Ce.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${j.id}`));const te=new ht.InternalEditorAction(j.id,j.label,j.alias,(0,Ut.withNullAsUndefined)(j.precondition),(()=>this._instantiationService.invokeFunction((te=>Promise.resolve(j.runEditorCommand(te,this,null))))),this._contextKeyService);this._actions[te.id]=te})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(j,te,he){return new Ne.EditorConfiguration(j,te,this._domElement,he)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return mt.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const j=Object.keys(this._contributions);for(let te=0,he=j.length;te<he;te++){const he=j[te];this._contributions[he].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(j){return this._instantiationService.invokeFunction(j)}updateOptions(j){this._configuration.updateOptions(j||{})}getOptions(){return this._configuration.options}getOption(j){return this._configuration.options.get(j)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(j){return this._modelData?qt.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),j):null}getValue(j=null){if(!this._modelData)return"";const te=!(!j||!j.preserveBOM);let he=0;return j&&j.lineEnding&&"\n"===j.lineEnding?he=1:j&&j.lineEnding&&"\r\n"===j.lineEnding&&(he=2),this._modelData.model.getValue(he,te)}setValue(j){!this._modelData||this._modelData.model.setValue(j)}getModel(){return this._modelData?this._modelData.model:null}setModel(j=null){const te=j;if(null===this._modelData&&null===te||this._modelData&&this._modelData.model===te)return;const he=this.hasTextFocus(),ve=this._detachModel();this._attachModel(te),he&&this.hasModel()&&this.focus();const Ce={oldModelUrl:ve?ve.uri:null,newModelUrl:te?te.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(Ce),this._postDetachModelCleanup(ve)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let j in this._decorationTypeSubtypes){const te=this._decorationTypeSubtypes[j];for(let he in te)this._removeDecorationType(j+"-"+he)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(j,te,he){const ve=j.model.validatePosition({lineNumber:te,column:he}),Ce=j.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ve);return j.viewModel.viewLayout.getVerticalOffsetForLineNumber(Ce.lineNumber)}getTopForLineNumber(j){return this._modelData?zt._getVerticalOffsetForPosition(this._modelData,j,1):-1}getTopForPosition(j,te){return this._modelData?zt._getVerticalOffsetForPosition(this._modelData,j,te):-1}setHiddenAreas(j){this._modelData&&this._modelData.viewModel.setHiddenAreas(j.map((j=>at.Range.lift(j))))}getVisibleColumnFromPosition(j){if(!this._modelData)return j.column;const te=this._modelData.model.validatePosition(j),he=this._modelData.model.getOptions().tabSize;return nt.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(te.lineNumber),te.column,he)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(j){if(this._modelData){if(!rt.Position.isIPosition(j))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:j.lineNumber,selectionStartColumn:j.column,positionLineNumber:j.lineNumber,positionColumn:j.column}])}}_sendRevealRange(j,te,he,ve){if(!this._modelData)return;if(!at.Range.isIRange(j))throw new Error("Invalid arguments");const Ce=this._modelData.model.validateRange(j),ye=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Ce);this._modelData.viewModel.revealRange("api",he,ye,te,ve)}revealLine(j,te=0){this._revealLine(j,0,te)}revealLineInCenter(j,te=0){this._revealLine(j,1,te)}revealLineInCenterIfOutsideViewport(j,te=0){this._revealLine(j,2,te)}revealLineNearTop(j,te=0){this._revealLine(j,5,te)}_revealLine(j,te,he){if("number"!=typeof j)throw new Error("Invalid arguments");this._sendRevealRange(new at.Range(j,1,j,1),te,!1,he)}revealPosition(j,te=0){this._revealPosition(j,0,!0,te)}revealPositionInCenter(j,te=0){this._revealPosition(j,1,!0,te)}revealPositionInCenterIfOutsideViewport(j,te=0){this._revealPosition(j,2,!0,te)}revealPositionNearTop(j,te=0){this._revealPosition(j,5,!0,te)}_revealPosition(j,te,he,ve){if(!rt.Position.isIPosition(j))throw new Error("Invalid arguments");this._sendRevealRange(new at.Range(j.lineNumber,j.column,j.lineNumber,j.column),te,he,ve)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(j){const te=ct.Selection.isISelection(j),he=at.Range.isIRange(j);if(!te&&!he)throw new Error("Invalid arguments");if(te)this._setSelectionImpl(j);else if(he){const te={selectionStartLineNumber:j.startLineNumber,selectionStartColumn:j.startColumn,positionLineNumber:j.endLineNumber,positionColumn:j.endColumn};this._setSelectionImpl(te)}}_setSelectionImpl(j){if(!this._modelData)return;const te=new ct.Selection(j.selectionStartLineNumber,j.selectionStartColumn,j.positionLineNumber,j.positionColumn);this._modelData.viewModel.setSelections("api",[te])}revealLines(j,te,he=0){this._revealLines(j,te,0,he)}revealLinesInCenter(j,te,he=0){this._revealLines(j,te,1,he)}revealLinesInCenterIfOutsideViewport(j,te,he=0){this._revealLines(j,te,2,he)}revealLinesNearTop(j,te,he=0){this._revealLines(j,te,5,he)}_revealLines(j,te,he,ve){if("number"!=typeof j||"number"!=typeof te)throw new Error("Invalid arguments");this._sendRevealRange(new at.Range(j,1,te,1),he,!1,ve)}revealRange(j,te=0,he=!1,ve=!0){this._revealRange(j,he?1:0,ve,te)}revealRangeInCenter(j,te=0){this._revealRange(j,1,!0,te)}revealRangeInCenterIfOutsideViewport(j,te=0){this._revealRange(j,2,!0,te)}revealRangeNearTop(j,te=0){this._revealRange(j,5,!0,te)}revealRangeNearTopIfOutsideViewport(j,te=0){this._revealRange(j,6,!0,te)}revealRangeAtTop(j,te=0){this._revealRange(j,3,!0,te)}_revealRange(j,te,he,ve){if(!at.Range.isIRange(j))throw new Error("Invalid arguments");this._sendRevealRange(at.Range.lift(j),te,he,ve)}setSelections(j,te="api",he=0){if(this._modelData){if(!j||0===j.length)throw new Error("Invalid arguments");for(let te=0,he=j.length;te<he;te++)if(!ct.Selection.isISelection(j[te]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(te,j,he)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(j,te=1){if(this._modelData){if("number"!=typeof j)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:j},te)}}setScrollTop(j,te=1){if(this._modelData){if("number"!=typeof j)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:j},te)}}setScrollPosition(j,te=1){!this._modelData||this._modelData.viewModel.setScrollPosition(j,te)}saveViewState(){if(!this._modelData)return null;const j={},te=Object.keys(this._contributions);for(const he of te){const te=this._contributions[he];"function"==typeof te.saveViewState&&(j[he]=te.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:j}}restoreViewState(j){if(!this._modelData||!this._modelData.hasRealView)return;const te=j;if(te&&te.cursorState&&te.viewState){const j=te.cursorState;Array.isArray(j)?this._modelData.viewModel.restoreCursorState(j):this._modelData.viewModel.restoreCursorState([j]);const he=te.contributionsState||{},ve=Object.keys(this._contributions);for(let j=0,te=ve.length;j<te;j++){const te=ve[j],Ce=this._contributions[te];"function"==typeof Ce.restoreViewState&&Ce.restoreViewState(he[te])}const Ce=this._modelData.viewModel.reduceRestoreState(te.viewState);this._modelData.view.restoreState(Ce)}}getContribution(j){return this._contributions[j]||null}getActions(){const j=[],te=Object.keys(this._actions);for(let he=0,ve=te.length;he<ve;he++){const ve=te[he];j.push(this._actions[ve])}return j}getSupportedActions(){let j=this.getActions();return j=j.filter((j=>j.isSupported())),j}getAction(j){return this._actions[j]||null}trigger(j,te,he){switch(he=he||{},te){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(j);case"type":{const te=he;return void this._type(j,te.text||"")}case"replacePreviousChar":{const te=he;return void this._compositionType(j,te.text||"",te.replaceCharCnt||0,0,0)}case"compositionType":{const te=he;return void this._compositionType(j,te.text||"",te.replacePrevCharCnt||0,te.replaceNextCharCnt||0,te.positionDelta||0)}case"paste":{const te=he;return void this._paste(j,te.text||"",te.pasteOnNewLine||!1,te.multicursorText||null,te.mode||null)}case"cut":return void this._cut(j)}const ve=this.getAction(te);ve?Promise.resolve(ve.run()).then(void 0,Ce.onUnexpectedError):!this._modelData||this._triggerEditorCommand(j,te,he)||this._triggerCommand(te,he)}_triggerCommand(j,te){this._commandService.executeCommand(j,te)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(j){!this._modelData||(this._modelData.viewModel.endComposition(j),this._onDidCompositionEnd.fire())}_type(j,te){!this._modelData||0===te.length||("keyboard"===j&&this._onWillType.fire(te),this._modelData.viewModel.type(te,j),"keyboard"===j&&this._onDidType.fire(te))}_compositionType(j,te,he,ve,Ce){!this._modelData||this._modelData.viewModel.compositionType(te,he,ve,Ce,j)}_paste(j,te,he,ve,Ce){if(!this._modelData||0===te.length)return;const ye=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(te,he,ve,j);const Ee=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===j&&this._onDidPaste.fire({range:new at.Range(ye.lineNumber,ye.column,Ee.lineNumber,Ee.column),languageId:Ce})}_cut(j){!this._modelData||this._modelData.viewModel.cut(j)}_triggerEditorCommand(j,te,he){const ve=Oe.EditorExtensionsRegistry.getEditorCommand(te);return!!ve&&((he=he||{}).source=j,this._instantiationService.invokeFunction((j=>{Promise.resolve(ve.runEditorCommand(j,this,he)).then(void 0,Ce.onUnexpectedError)})),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(81))&&(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!(!this._modelData||this._configuration.options.get(81))&&(this._modelData.model.popStackElement(),!0)}executeEdits(j,te,he){if(!this._modelData||this._configuration.options.get(81))return!1;let ve;return ve=he?Array.isArray(he)?()=>he:he:()=>null,this._modelData.viewModel.executeEdits(j,te,ve),!0}executeCommand(j,te){!this._modelData||this._modelData.viewModel.executeCommand(te,j)}executeCommands(j,te){!this._modelData||this._modelData.viewModel.executeCommands(te,j)}changeDecorations(j){return this._modelData?this._modelData.model.changeDecorations(j,this._id):null}getLineDecorations(j){return this._modelData?this._modelData.model.getLineDecorations(j,this._id,(0,Ye.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(j){return this._modelData?this._modelData.model.getDecorationsInRange(j,this._id,(0,Ye.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(j,te){return this._modelData?0===j.length&&0===te.length?j:this._modelData.model.deltaDecorations(j,te,this._id):[]}removeDecorations(j){const te=this._decorationTypeKeysToIds[j];te&&this.deltaDecorations(te,[]),this._decorationTypeKeysToIds.hasOwnProperty(j)&&delete this._decorationTypeKeysToIds[j],this._decorationTypeSubtypes.hasOwnProperty(j)&&delete this._decorationTypeSubtypes[j]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(j){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(j):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(j){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(j)}layout(j){this._configuration.observeContainer(j),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(j){const te={widget:j,position:j.getPosition()};this._contentWidgets.hasOwnProperty(j.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[j.getId()]=te,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(te)}layoutContentWidget(j){const te=j.getId();if(this._contentWidgets.hasOwnProperty(te)){const he=this._contentWidgets[te];he.position=j.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(he)}}removeContentWidget(j){const te=j.getId();if(this._contentWidgets.hasOwnProperty(te)){const j=this._contentWidgets[te];delete this._contentWidgets[te],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(j)}}addOverlayWidget(j){const te={widget:j,position:j.getPosition()};this._overlayWidgets.hasOwnProperty(j.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[j.getId()]=te,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(te)}layoutOverlayWidget(j){const te=j.getId();if(this._overlayWidgets.hasOwnProperty(te)){const he=this._overlayWidgets[te];he.position=j.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(he)}}removeOverlayWidget(j){const te=j.getId();if(this._overlayWidgets.hasOwnProperty(te)){const j=this._overlayWidgets[te];delete this._overlayWidgets[te],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(j)}}changeViewZones(j){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(j)}getTargetAtClientPoint(j,te){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(j,te):null}getScrolledVisiblePosition(j){if(!this._modelData||!this._modelData.hasRealView)return null;const te=this._modelData.model.validatePosition(j),he=this._configuration.options,ve=he.get(131);return{top:zt._getVerticalOffsetForPosition(this._modelData,te.lineNumber,te.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(te.lineNumber,te.column)+ve.glyphMarginWidth+ve.lineNumbersWidth+ve.decorationsWidth-this.getScrollLeft(),height:he.get(59)}}getOffsetForColumn(j,te){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(j,te):-1}render(j=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,j)}setAriaOptions(j){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(j)}applyFontInfo(j){(0,Zt.applyFontInfo)(j,this._configuration.options.get(44))}setBanner(j,te){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=j,this._configuration.setReservedHeight(j?te:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(j){if(!j)return void(this._modelData=null);const te=[];this._domElement.setAttribute("data-mode-id",j.getLanguageId()),this._configuration.setIsDominatedByLongLines(j.isDominatedByLongLines()),this._configuration.setModelLineCount(j.getLineCount()),j.onBeforeAttached();const Ce=new bt.ViewModel(this._id,this._configuration,j,$t.DOMLineBreaksComputerFactory.create(),jt.MonospaceLineBreaksComputerFactory.create(this._configuration.options),(j=>ve.scheduleAtNextAnimationFrame(j)),this.languageConfigurationService);te.push(j.onDidChangeDecorations((j=>this._onDidChangeModelDecorations.fire(j)))),te.push(j.onDidChangeLanguage((te=>{this._domElement.setAttribute("data-mode-id",j.getLanguageId()),this._onDidChangeModelLanguage.fire(te)}))),te.push(j.onDidChangeLanguageConfiguration((j=>this._onDidChangeModelLanguageConfiguration.fire(j)))),te.push(j.onDidChangeContent((j=>this._onDidChangeModelContent.fire(j)))),te.push(j.onDidChangeOptions((j=>this._onDidChangeModelOptions.fire(j)))),te.push(j.onWillDispose((()=>this.setModel(null)))),te.push(Ce.onEvent((j=>{switch(j.kind){case 0:this._onDidContentSizeChange.fire(j);break;case 1:this._editorTextFocus.setValue(j.hasFocus);break;case 2:this._onDidScrollChange.fire(j);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{j.reachedMaxCursorCount&&this._notificationService.warn(he.localize(0,null,et.CursorsController.MAX_CURSOR_COUNT));const te=[];for(let he=0,ve=j.selections.length;he<ve;he++)te[he]=j.selections[he].getPosition();const ve={position:te[0],secondaryPositions:te.slice(1),reason:j.reason,source:j.source};this._onDidChangeCursorPosition.fire(ve);const Ce={selection:j.selections[0],secondarySelections:j.selections.slice(1),modelVersionId:j.modelVersionId,oldSelections:j.oldSelections,oldModelVersionId:j.oldModelVersionId,source:j.source,reason:j.reason};this._onDidChangeCursorSelection.fire(Ce);break}}})));const[ye,Ee]=this._createView(Ce);if(Ee){this._domElement.appendChild(ye.domNode.domNode);let te=Object.keys(this._contentWidgets);for(let j=0,he=te.length;j<he;j++){const he=te[j];ye.addContentWidget(this._contentWidgets[he])}te=Object.keys(this._overlayWidgets);for(let j=0,he=te.length;j<he;j++){const he=te[j];ye.addOverlayWidget(this._overlayWidgets[he])}ye.render(!1,!0),ye.domNode.domNode.setAttribute("data-uri",j.uri.toString())}this._modelData=new H(j,Ce,ye,Ee,te)}_createView(j){let te;te=this.isSimpleWidget?{paste:(j,te,he,ve)=>{this._paste("keyboard",j,te,he,ve)},type:j=>{this._type("keyboard",j)},compositionType:(j,te,he,ve)=>{this._compositionType("keyboard",j,te,he,ve)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(j,te,he,ve)=>{const Ce={text:j,pasteOnNewLine:te,multicursorText:he,mode:ve};this._commandService.executeCommand("paste",Ce)},type:j=>{const te={text:j};this._commandService.executeCommand("type",te)},compositionType:(j,te,he,ve)=>{if(he||ve){const Ce={text:j,replacePrevCharCnt:te,replaceNextCharCnt:he,positionDelta:ve};this._commandService.executeCommand("compositionType",Ce)}else{const he={text:j,replaceCharCnt:te};this._commandService.executeCommand("replacePreviousChar",he)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const he=new Ze.ViewUserInputEvents(j.coordinatesConverter);return he.onKeyDown=j=>this._onKeyDown.fire(j),he.onKeyUp=j=>this._onKeyUp.fire(j),he.onContextMenu=j=>this._onContextMenu.fire(j),he.onMouseMove=j=>this._onMouseMove.fire(j),he.onMouseLeave=j=>this._onMouseLeave.fire(j),he.onMouseDown=j=>this._onMouseDown.fire(j),he.onMouseUp=j=>this._onMouseUp.fire(j),he.onMouseDrag=j=>this._onMouseDrag.fire(j),he.onMouseDrop=j=>this._onMouseDrop.fire(j),he.onMouseDropCanceled=j=>this._onMouseDropCanceled.fire(j),he.onMouseWheel=j=>this._onMouseWheel.fire(j),[new je.View(te,this._configuration,this._themeService,j,he,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(j){j&&j.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const j=this._modelData.model,te=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),te&&this._domElement.contains(te)&&this._domElement.removeChild(te),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),j}_removeDecorationType(j){this._codeEditorService.removeDecorationType(j)}hasModel(){return null!==this._modelData}};li=Ci([Zi(3,It.IInstantiationService),Zi(4,Ke.ICodeEditorService),Zi(5,St.ICommandService),Zi(6,Dt.IContextKeyService),Zi(7,Pt.IThemeService),Zi(8,At.INotificationService),Zi(9,Kt.IAccessibilityService),Zi(10,Gt.ILanguageConfigurationService)],li),te.CodeEditorWidget=li;class X extends Ee.Disposable{constructor(){super(),this._onDidChangeToTrue=this._register(new ye.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new ye.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(j){const te=j?2:1;this._value!==te&&(this._value=te,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}te.BooleanEventEmitter=X;class G extends Ee.Disposable{constructor(j,te){super(),this._editor=j,te.createKey("editorId",j.getId()),this._editorSimpleInput=pt.EditorContextKeys.editorSimpleInput.bindTo(te),this._editorFocus=pt.EditorContextKeys.focus.bindTo(te),this._textInputFocus=pt.EditorContextKeys.textInputFocus.bindTo(te),this._editorTextFocus=pt.EditorContextKeys.editorTextFocus.bindTo(te),this._editorTabMovesFocus=pt.EditorContextKeys.tabMovesFocus.bindTo(te),this._editorReadonly=pt.EditorContextKeys.readOnly.bindTo(te),this._inDiffEditor=pt.EditorContextKeys.inDiffEditor.bindTo(te),this._editorColumnSelection=pt.EditorContextKeys.columnSelection.bindTo(te),this._hasMultipleSelections=pt.EditorContextKeys.hasMultipleSelections.bindTo(te),this._hasNonEmptySelection=pt.EditorContextKeys.hasNonEmptySelection.bindTo(te),this._canUndo=pt.EditorContextKeys.canUndo.bindTo(te),this._canRedo=pt.EditorContextKeys.canRedo.bindTo(te),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromConfig()))),this._register(this._editor.onDidChangeCursorSelection((()=>this._updateFromSelection()))),this._register(this._editor.onDidFocusEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidFocusEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidChangeModel((()=>this._updateFromModel()))),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromModel()))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const j=this._editor.getOptions();this._editorTabMovesFocus.set(j.get(130)),this._editorReadonly.set(j.get(81)),this._inDiffEditor.set(j.get(54)),this._editorColumnSelection.set(j.get(18))}_updateFromSelection(){const j=this._editor.getSelections();j?(this._hasMultipleSelections.set(j.length>1),this._hasNonEmptySelection.set(j.some((j=>!j.isEmpty())))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const j=this._editor.getModel();this._canUndo.set(Boolean(j&&j.canUndo())),this._canRedo.set(Boolean(j&&j.canRedo()))}}class re extends Ee.Disposable{constructor(j,te){super(),this._editor=j,this._contextKeyService=te,this._langId=pt.EditorContextKeys.languageId.bindTo(te),this._hasCompletionItemProvider=pt.EditorContextKeys.hasCompletionItemProvider.bindTo(te),this._hasCodeActionsProvider=pt.EditorContextKeys.hasCodeActionsProvider.bindTo(te),this._hasCodeLensProvider=pt.EditorContextKeys.hasCodeLensProvider.bindTo(te),this._hasDefinitionProvider=pt.EditorContextKeys.hasDefinitionProvider.bindTo(te),this._hasDeclarationProvider=pt.EditorContextKeys.hasDeclarationProvider.bindTo(te),this._hasImplementationProvider=pt.EditorContextKeys.hasImplementationProvider.bindTo(te),this._hasTypeDefinitionProvider=pt.EditorContextKeys.hasTypeDefinitionProvider.bindTo(te),this._hasHoverProvider=pt.EditorContextKeys.hasHoverProvider.bindTo(te),this._hasDocumentHighlightProvider=pt.EditorContextKeys.hasDocumentHighlightProvider.bindTo(te),this._hasDocumentSymbolProvider=pt.EditorContextKeys.hasDocumentSymbolProvider.bindTo(te),this._hasReferenceProvider=pt.EditorContextKeys.hasReferenceProvider.bindTo(te),this._hasRenameProvider=pt.EditorContextKeys.hasRenameProvider.bindTo(te),this._hasSignatureHelpProvider=pt.EditorContextKeys.hasSignatureHelpProvider.bindTo(te),this._hasInlayHintsProvider=pt.EditorContextKeys.hasInlayHintsProvider.bindTo(te),this._hasDocumentFormattingProvider=pt.EditorContextKeys.hasDocumentFormattingProvider.bindTo(te),this._hasDocumentSelectionFormattingProvider=pt.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(te),this._hasMultipleDocumentFormattingProvider=pt.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(te),this._hasMultipleDocumentSelectionFormattingProvider=pt.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(te),this._isInWalkThrough=pt.EditorContextKeys.isInWalkThroughSnippet.bindTo(te);const z=()=>this._update();this._register(j.onDidChangeModel(z)),this._register(j.onDidChangeModelLanguage(z)),this._register(ft.CompletionProviderRegistry.onDidChange(z)),this._register(ft.CodeActionProviderRegistry.onDidChange(z)),this._register(ft.CodeLensProviderRegistry.onDidChange(z)),this._register(ft.DefinitionProviderRegistry.onDidChange(z)),this._register(ft.DeclarationProviderRegistry.onDidChange(z)),this._register(ft.ImplementationProviderRegistry.onDidChange(z)),this._register(ft.TypeDefinitionProviderRegistry.onDidChange(z)),this._register(ft.HoverProviderRegistry.onDidChange(z)),this._register(ft.DocumentHighlightProviderRegistry.onDidChange(z)),this._register(ft.DocumentSymbolProviderRegistry.onDidChange(z)),this._register(ft.ReferenceProviderRegistry.onDidChange(z)),this._register(ft.RenameProviderRegistry.onDidChange(z)),this._register(ft.DocumentFormattingEditProviderRegistry.onDidChange(z)),this._register(ft.DocumentRangeFormattingEditProviderRegistry.onDidChange(z)),this._register(ft.SignatureHelpProviderRegistry.onDidChange(z)),this._register(ft.InlayHintsProviderRegistry.onDidChange(z)),z()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents((()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()}))}_update(){const j=this._editor.getModel();j?this._contextKeyService.bufferChangeEvents((()=>{this._langId.set(j.getLanguageId()),this._hasCompletionItemProvider.set(ft.CompletionProviderRegistry.has(j)),this._hasCodeActionsProvider.set(ft.CodeActionProviderRegistry.has(j)),this._hasCodeLensProvider.set(ft.CodeLensProviderRegistry.has(j)),this._hasDefinitionProvider.set(ft.DefinitionProviderRegistry.has(j)),this._hasDeclarationProvider.set(ft.DeclarationProviderRegistry.has(j)),this._hasImplementationProvider.set(ft.ImplementationProviderRegistry.has(j)),this._hasTypeDefinitionProvider.set(ft.TypeDefinitionProviderRegistry.has(j)),this._hasHoverProvider.set(ft.HoverProviderRegistry.has(j)),this._hasDocumentHighlightProvider.set(ft.DocumentHighlightProviderRegistry.has(j)),this._hasDocumentSymbolProvider.set(ft.DocumentSymbolProviderRegistry.has(j)),this._hasReferenceProvider.set(ft.ReferenceProviderRegistry.has(j)),this._hasRenameProvider.set(ft.RenameProviderRegistry.has(j)),this._hasSignatureHelpProvider.set(ft.SignatureHelpProviderRegistry.has(j)),this._hasInlayHintsProvider.set(ft.InlayHintsProviderRegistry.has(j)),this._hasDocumentFormattingProvider.set(ft.DocumentFormattingEditProviderRegistry.has(j)||ft.DocumentRangeFormattingEditProviderRegistry.has(j)),this._hasDocumentSelectionFormattingProvider.set(ft.DocumentRangeFormattingEditProviderRegistry.has(j)),this._hasMultipleDocumentFormattingProvider.set(ft.DocumentFormattingEditProviderRegistry.all(j).length+ft.DocumentRangeFormattingEditProviderRegistry.all(j).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(ft.DocumentRangeFormattingEditProviderRegistry.all(j).length>1),this._isInWalkThrough.set(j.uri.scheme===Ie.Schemas.walkThroughSnippet)})):this.reset()}}te.EditorModeContext=re;class ae extends Ee.Disposable{constructor(j){super(),this._onChange=this._register(new ye.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(ve.trackFocus(j)),this._register(this._domFocusTracker.onDidFocus((()=>{this._hasFocus=!0,this._onChange.fire(void 0)}))),this._register(this._domFocusTracker.onDidBlur((()=>{this._hasFocus=!1,this._onChange.fire(void 0)})))}hasFocus(){return this._hasFocus}}const di=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ci=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function x(j){return di+encodeURIComponent(j.toString())+ci}const hi=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ui=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,Pt.registerThemingParticipant)(((j,te)=>{const he=j.getColor(Ct.editorErrorBorder);he&&te.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${he}; }`);const ve=j.getColor(Ct.editorErrorForeground);ve&&te.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${x(ve)}") repeat-x bottom left; }`);const Ce=j.getColor(Ct.editorErrorBackground);Ce&&te.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${Ce}; }`);const ye=j.getColor(Ct.editorWarningBorder);ye&&te.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${ye}; }`);const Ee=j.getColor(Ct.editorWarningForeground);Ee&&te.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${x(Ee)}") repeat-x bottom left; }`);const Ie=j.getColor(Ct.editorWarningBackground);Ie&&te.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${Ie}; }`);const Ne=j.getColor(Ct.editorInfoBorder);Ne&&te.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${Ne}; }`);const Oe=j.getColor(Ct.editorInfoForeground);Oe&&te.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${x(Oe)}") repeat-x bottom left; }`);const Ke=j.getColor(Ct.editorInfoBackground);Ke&&te.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${Ke}; }`);const je=j.getColor(Ct.editorHintBorder);je&&te.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${je}; }`);const Ze=j.getColor(Ct.editorHintForeground);Ze&&te.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function ne(j){return hi+encodeURIComponent(j.toString())+ui}(Ze)}") no-repeat bottom left; }`);const Ye=j.getColor(_t.editorUnnecessaryCodeOpacity);Ye&&te.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Ye.rgba.a}; }`);const et=j.getColor(_t.editorUnnecessaryCodeBorder);et&&te.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${et}; }`);const nt=j.getColor(Ct.editorForeground)||"inherit";te.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${nt}}`)}))})),define(Ce[292],ie([1,0,501,7,30,114,10,4,2,62,143,28,161,692,31,3,90,147,33,85,252,151,122,69,16,9,154,38,23,14,76,504,102,15,13,71,230,27,141,72,365]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt,St,Dt,It,kt,At,Pt,Kt,Ut,jt,$t,qt,Gt,Zt,Yt){var li;Object.defineProperty(te,"__esModule",{value:!0}),te.DiffEditorWidget=void 0;class q{constructor(j,te){this._contextMenuService=j,this._clipboardService=te,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(j){return j.filter((j=>!this._zonesMap[String(j.id)]))}clean(j){this._zones.length>0&&j.changeViewZones((j=>{for(const te of this._zones)j.removeZone(te)})),this._zones=[],this._zonesMap={},this._decorations=j.deltaDecorations(this._decorations,[])}apply(j,te,he,ve){const Ce=ve?Ke.StableEditorScrollState.capture(j):null;j.changeViewZones((te=>{var ve;for(const j of this._zones)te.removeZone(j);for(const j of this._inlineDiffMargins)j.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Ce=0,ye=he.zones.length;Ce<ye;Ce++){const ye=he.zones[Ce];ye.suppressMouseDown=!0;const Ee=te.addZone(ye);this._zones.push(Ee),this._zonesMap[String(Ee)]=!0,he.zones[Ce].diff&&ye.marginDomNode&&(ye.suppressMouseDown=!1,0!==(null===(ve=he.zones[Ce].diff)||void 0===ve?void 0:ve.originalModel.getValueLength())&&this._inlineDiffMargins.push(new Pt.InlineDiffMargin(Ee,ye.marginDomNode,j,he.zones[Ce].diff,this._contextMenuService,this._clipboardService)))}})),Ce&&Ce.restore(j),this._decorations=j.deltaDecorations(this._decorations,he.decorations),te&&te.setZones(he.overviewZones)}}let di=0;const ci=(0,Yt.registerIcon)("diff-insert",Gt.Codicon.add,he.localize(0,null)),hi=(0,Yt.registerIcon)("diff-remove",Gt.Codicon.remove,he.localize(1,null)),ui=null===(li=window.trustedTypes)||void 0===li?void 0:li.createPolicy("diffEditorWidget",{createHTML:j=>j});let gi=class ot extends Ne.Disposable{constructor(j,te,he,ye,Ne,Oe,Ke,je,Ze,et,nt,rt){super(),this._editorProgressService=rt,this._onDidDispose=this._register(new Ie.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new Ie.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new Ie.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=Ne,this._codeEditorService=je,this._contextKeyService=this._register(Oe.createScoped(j)),this._instantiationService=Ke.createChild(new St.ServiceCollection([Ct.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Ze,this._notificationService=et,this._id=++di,this._state=0,this._updatingDiffProgress=null,this._domElement=j,te=te||{},this._options=se(te,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),void 0!==te.isInEmbeddedEditor?this._contextKeyService.createKey("isInEmbeddedDiffEditor",te.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new Ee.RunOnceScheduler((()=>this._updateDecorations()),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=ot._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,Ce.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(ve.addStandardDisposableListener(this._overviewDomElement,"mousedown",(j=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(j)}))),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new q(nt,ye),this._modifiedEditorState=new q(nt,ye),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new qt.ElementSizeObserver(this._containerDomElement,te.dimension)),this._register(this._elementSizeObserver.onDidChange((()=>this._onDidContainerSizeChanged()))),te.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(te,he.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(te,he.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=Ke.createInstance(Ye.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new ce(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new ue(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Ze.onDidColorThemeChange((j=>{this._strategy&&this._strategy.applyColors(j)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=ot._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)})));const at=Ut.EditorExtensionsRegistry.getDiffEditorContributions();for(const j of at)try{this._register(Ke.createInstance(j.ctor,this))}catch(j){(0,jt.onUnexpectedError)(j)}this._codeEditorService.addDiffEditor(this)}_setState(j){this._state!==j&&(this._state=j,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(j,te){let he="monaco-diff-editor monaco-editor-background ";return te&&(he+="side-by-side "),he+=(0,kt.getThemeTypeSelector)(j.type),he}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(j,te){const he=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(j),te);this._register(he.onDidScrollChange((j=>{this._isHandlingScrollEvent||!j.scrollTopChanged&&!j.scrollLeftChanged&&!j.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:j.scrollLeft,scrollTop:j.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(he.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(he.onDidChangeConfiguration((j=>{!he.getModel()||(j.hasChanged(44)&&this._updateDecorationsRunner.schedule(),j.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))}))),this._register(he.onDidChangeHiddenAreas((()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()}))),this._register(he.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})));const ve=this._contextKeyService.createKey("isInDiffLeftEditor",he.hasWidgetFocus());return this._register(he.onDidFocusEditorWidget((()=>ve.set(!0)))),this._register(he.onDidBlurEditorWidget((()=>ve.set(!1)))),this._register(he.onDidContentSizeChange((j=>{const te=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+ot.ONE_OVERVIEW_WIDTH,he=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:he,contentWidth:te,contentHeightChanged:j.contentHeightChanged,contentWidthChanged:j.contentWidthChanged})}))),he}_createRightHandSideEditor(j,te){const he=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(j),te);this._register(he.onDidScrollChange((j=>{this._isHandlingScrollEvent||!j.scrollTopChanged&&!j.scrollLeftChanged&&!j.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:j.scrollLeft,scrollTop:j.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(he.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(he.onDidChangeConfiguration((j=>{!he.getModel()||(j.hasChanged(44)&&this._updateDecorationsRunner.schedule(),j.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))}))),this._register(he.onDidChangeHiddenAreas((()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()}))),this._register(he.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}))),this._register(he.onDidChangeModelOptions((j=>{j.tabSize&&this._updateDecorationsRunner.schedule()})));const ve=this._contextKeyService.createKey("isInDiffRightEditor",he.hasWidgetFocus());return this._register(he.onDidFocusEditorWidget((()=>ve.set(!0)))),this._register(he.onDidBlurEditorWidget((()=>ve.set(!1)))),this._register(he.onDidContentSizeChange((j=>{const te=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+ot.ONE_OVERVIEW_WIDTH,he=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:he,contentWidth:te,contentHeightChanged:j.contentHeightChanged,contentWidthChanged:j.contentWidthChanged})}))),he}_createInnerEditor(j,te,he,ve){return j.createInstance(Ze.CodeEditorWidget,te,he,ve)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return at.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(j){const te=se(j,this._options),he=function ge(j,te){return{enableSplitViewResizing:j.enableSplitViewResizing!==te.enableSplitViewResizing,renderSideBySide:j.renderSideBySide!==te.renderSideBySide,maxComputationTime:j.maxComputationTime!==te.maxComputationTime,maxFileSize:j.maxFileSize!==te.maxFileSize,ignoreTrimWhitespace:j.ignoreTrimWhitespace!==te.ignoreTrimWhitespace,renderIndicators:j.renderIndicators!==te.renderIndicators,originalEditable:j.originalEditable!==te.originalEditable,diffCodeLens:j.diffCodeLens!==te.diffCodeLens,renderOverviewRuler:j.renderOverviewRuler!==te.renderOverviewRuler,diffWordWrap:j.diffWordWrap!==te.diffWordWrap}}(this._options,te);this._options=te;const ve=he.ignoreTrimWhitespace||he.renderIndicators,Ce=this._isVisible&&(he.maxComputationTime||he.maxFileSize);ve?this._beginUpdateDecorations():Ce&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(j)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(j)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),he.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new ce(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new ue(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=ot._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),he.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(j){if(j&&(!j.original||!j.modified))throw new Error(j.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(j?j.original:null),this._modifiedEditor.setModel(j?j.modified:null),this._updateDecorationsRunner.cancel(),j&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),j&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(j){return this._modifiedEditor.getVisibleColumnFromPosition(j)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(j){this._modifiedEditor.setPosition(j)}revealLine(j,te=0){this._modifiedEditor.revealLine(j,te)}revealLineInCenter(j,te=0){this._modifiedEditor.revealLineInCenter(j,te)}revealLineInCenterIfOutsideViewport(j,te=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(j,te)}revealLineNearTop(j,te=0){this._modifiedEditor.revealLineNearTop(j,te)}revealPosition(j,te=0){this._modifiedEditor.revealPosition(j,te)}revealPositionInCenter(j,te=0){this._modifiedEditor.revealPositionInCenter(j,te)}revealPositionInCenterIfOutsideViewport(j,te=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(j,te)}revealPositionNearTop(j,te=0){this._modifiedEditor.revealPositionNearTop(j,te)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(j){this._modifiedEditor.setSelection(j)}setSelections(j){this._modifiedEditor.setSelections(j)}revealLines(j,te,he=0){this._modifiedEditor.revealLines(j,te,he)}revealLinesInCenter(j,te,he=0){this._modifiedEditor.revealLinesInCenter(j,te,he)}revealLinesInCenterIfOutsideViewport(j,te,he=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(j,te,he)}revealLinesNearTop(j,te,he=0){this._modifiedEditor.revealLinesNearTop(j,te,he)}revealRange(j,te=0,he=!1,ve=!0){this._modifiedEditor.revealRange(j,te,he,ve)}revealRangeInCenter(j,te=0){this._modifiedEditor.revealRangeInCenter(j,te)}revealRangeInCenterIfOutsideViewport(j,te=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(j,te)}revealRangeNearTop(j,te=0){this._modifiedEditor.revealRangeNearTop(j,te)}revealRangeNearTopIfOutsideViewport(j,te=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(j,te)}revealRangeAtTop(j,te=0){this._modifiedEditor.revealRangeAtTop(j,te)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(j){if(j&&j.original&&j.modified){const te=j;this._originalEditor.restoreViewState(te.original),this._modifiedEditor.restoreViewState(te.modified)}}layout(j){this._elementSizeObserver.observe(j)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(j,te,he){this._modifiedEditor.trigger(j,te,he)}changeDecorations(j){return this._modifiedEditor.changeDecorations(j)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const j=this._elementSizeObserver.getHeight(),te=this._getReviewHeight(),he=ot.ENTIRE_DIFF_OVERVIEW_WIDTH-2*ot.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:ot.ONE_OVERVIEW_WIDTH,right:he+ot.ONE_OVERVIEW_WIDTH,height:j-te}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:ot.ONE_OVERVIEW_WIDTH,height:j-te}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout((()=>this._beginUpdateDecorations()),ot.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(j,te){return!j&&!te||!(!j||!te)&&j.toString()===te.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const j=this._originalEditor.getModel(),te=this._modifiedEditor.getModel();if(!j||!te)return;this._diffComputationToken++;const ve=this._diffComputationToken,Ce=1024*this._options.maxFileSize*1024,be=j=>{const te=j.getValueLength();return 0===Ce||te<=Ce};be(j)&&be(te)?(this._setState(1),this._editorWorkerService.computeDiff(j.uri,te.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then((he=>{ve===this._diffComputationToken&&j===this._originalEditor.getModel()&&te===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=he,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())}),(he=>{ve===this._diffComputationToken&&j===this._originalEditor.getModel()&&te===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())}))):(!ot._equals(j.uri,this._lastOriginalWarning)||!ot._equals(te.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=j.uri,this._lastModifiedWarning=te.uri,this._notificationService.warn(he.localize(2,null)))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const j=this._diffComputationResult?this._diffComputationResult.changes:[],te=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),he=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),ve=this._strategy.getEditorsDiffDecorations(j,this._options.ignoreTrimWhitespace,this._options.renderIndicators,te,he);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,ve.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,ve.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(j){const te=Object.assign({},j);return te.inDiffEditor=!0,te.automaticLayout=!1,te.scrollbar=Object.assign({},te.scrollbar||{}),te.scrollbar.vertical="visible",te.folding=!1,te.codeLens=this._options.diffCodeLens,te.fixedOverflowWidgets=!0,te.minimap=Object.assign({},te.minimap||{}),te.minimap.enabled=!1,te}_adjustOptionsForLeftHandSide(j){const te=this._adjustOptionsForSubEditor(j);return this._options.renderSideBySide?te.wordWrapOverride1=this._options.diffWordWrap:te.wordWrapOverride1="off",j.originalAriaLabel&&(te.ariaLabel=j.originalAriaLabel),te.readOnly=!this._options.originalEditable,te.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},te),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(j){const te=this._adjustOptionsForSubEditor(j);return j.modifiedAriaLabel&&(te.ariaLabel=j.modifiedAriaLabel),te.wordWrapOverride1=this._options.diffWordWrap,te.revealHorizontalRightPadding=et.EditorOptions.revealHorizontalRightPadding.defaultValue+ot.ENTIRE_DIFF_OVERVIEW_WIDTH,te.scrollbar.verticalHasArrows=!1,te.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},te),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const j=this._elementSizeObserver.getWidth(),te=this._elementSizeObserver.getHeight(),he=this._getReviewHeight(),ve=this._strategy.layout();this._originalDomNode.style.width=ve+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=j-ve+"px",this._modifiedDomNode.style.left=ve+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=te-he+"px",this._overviewDomElement.style.width=ot.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=j-ot.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(ot.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:ve,height:te-he}),this._modifiedEditor.layout({width:j-ve-(this._options.renderOverviewRuler?ot.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:te-he}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(te-he,j,he),this._layoutOverviewViewport()}_layoutOverviewViewport(){const j=this._computeOverviewViewport();j?(this._overviewViewportDomElement.setTop(j.top),this._overviewViewportDomElement.setHeight(j.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const j=this._modifiedEditor.getLayoutInfo();if(!j)return null;const te=this._modifiedEditor.getScrollTop(),he=this._modifiedEditor.getScrollHeight(),ve=Math.max(0,j.height),Ce=Math.max(0,ve-0),ye=he>0?Ce/he:0;return{height:Math.max(0,Math.floor(j.height*ye)),top:Math.floor(te*ye)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(j){this._strategy&&this._strategy.dispose(),this._strategy=j,j.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(j,te){const he=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===he.length||j<te(he[0]))return null;let ve=0,Ce=he.length-1;for(;ve<Ce;){const ye=Math.floor((ve+Ce)/2),Ee=te(he[ye]),Ie=ye+1<=Ce?te(he[ye+1]):1073741824;j<Ee?Ce=ye-1:j>=Ie?ve=ye+1:(ve=ye,Ce=ye)}return he[ve]}_getEquivalentLineForOriginalLineNumber(j){const te=this._getLineChangeAtOrBeforeLineNumber(j,(j=>j.originalStartLineNumber));if(!te)return j;const he=te.originalStartLineNumber+(te.originalEndLineNumber>0?-1:0),ve=te.modifiedStartLineNumber+(te.modifiedEndLineNumber>0?-1:0),Ce=te.originalEndLineNumber>0?te.originalEndLineNumber-te.originalStartLineNumber+1:0,ye=te.modifiedEndLineNumber>0?te.modifiedEndLineNumber-te.modifiedStartLineNumber+1:0,Ee=j-he;return Ee<=Ce?ve+Math.min(Ee,ye):ve+ye-Ce+Ee}_getEquivalentLineForModifiedLineNumber(j){const te=this._getLineChangeAtOrBeforeLineNumber(j,(j=>j.modifiedStartLineNumber));if(!te)return j;const he=te.originalStartLineNumber+(te.originalEndLineNumber>0?-1:0),ve=te.modifiedStartLineNumber+(te.modifiedEndLineNumber>0?-1:0),Ce=te.originalEndLineNumber>0?te.originalEndLineNumber-te.originalStartLineNumber+1:0,ye=te.modifiedEndLineNumber>0?te.modifiedEndLineNumber-te.modifiedStartLineNumber+1:0,Ee=j-ve;return Ee<=ye?he+Math.min(Ee,Ce):he+Ce-ye+Ee}getDiffLineInformationForOriginal(j){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(j)}:null}getDiffLineInformationForModified(j){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(j)}:null}};gi.ONE_OVERVIEW_WIDTH=15,gi.ENTIRE_DIFF_OVERVIEW_WIDTH=30,gi.UPDATE_DIFF_DECORATIONS_DELAY=200,gi=Ci([Zi(3,Kt.IClipboardService),Zi(4,ht.IEditorWorkerService),Zi(5,Ct.IContextKeyService),Zi(6,bt.IInstantiationService),Zi(7,je.ICodeEditorService),Zi(8,kt.IThemeService),Zi(9,Dt.INotificationService),Zi(10,At.IContextMenuService),Zi(11,$t.IEditorProgressService)],gi),te.DiffEditorWidget=gi;class Z extends Ne.Disposable{constructor(j){super(),this._dataSource=j,this._insertColor=null,this._removeColor=null}applyColors(j){const te=(j.getColor(It.diffInserted)||It.defaultInsertColor).transparent(2),he=(j.getColor(It.diffRemoved)||It.defaultRemoveColor).transparent(2),ve=!te.equals(this._insertColor)||!he.equals(this._removeColor);return this._insertColor=te,this._removeColor=he,ve}getEditorsDiffDecorations(j,te,he,ve,Ce){Ce=Ce.sort(((j,te)=>j.afterLineNumber-te.afterLineNumber)),ve=ve.sort(((j,te)=>j.afterLineNumber-te.afterLineNumber));const ye=this._getViewZones(j,ve,Ce,he),Ee=this._getOriginalEditorDecorations(j,te,he),Ie=this._getModifiedEditorDecorations(j,te,he);return{original:{decorations:Ee.decorations,overviewZones:Ee.overviewZones,zones:ye.original},modified:{decorations:Ie.decorations,overviewZones:Ie.overviewZones,zones:ye.modified}}}}class x{constructor(j){this._source=j,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class U{constructor(j,te,he,ve,Ce){this._lineChanges=j,this._originalForeignVZ=te,this._modifiedForeignVZ=he,this._originalEditor=ve,this._modifiedEditor=Ce}static _getViewLineCount(j,te,he){const ve=j.getModel(),Ce=j._getViewModel();if(ve&&Ce){const j=Y(ve,Ce,te,he);return j.endLineNumber-j.startLineNumber+1}return he-te+1}getViewZones(){const j=this._originalEditor.getOption(59),te=this._modifiedEditor.getOption(59),he=-1!==this._originalEditor.getOption(132).wrappingColumn,ve=-1!==this._modifiedEditor.getOption(132).wrappingColumn,Ce=he||ve,ye=this._originalEditor.getModel(),Ee=this._originalEditor._getViewModel().coordinatesConverter,Ie=this._modifiedEditor._getViewModel().coordinatesConverter,Ne=[],Oe=[];let Ke=0,je=0,Ze=0,Ye=0,et=0,nt=0;const we=(j,te)=>j.afterLineNumber-te.afterLineNumber,Se=(j,te)=>{if(null===te.domNode&&j.length>0){const he=j[j.length-1];if(he.afterLineNumber===te.afterLineNumber&&null===he.domNode)return void(he.heightInLines+=te.heightInLines)}j.push(te)},rt=new x(this._modifiedForeignVZ),at=new x(this._originalForeignVZ);let ct=1,ht=1;for(let he=0,ve=this._lineChanges.length;he<=ve;he++){const mt=he<ve?this._lineChanges[he]:null;null!==mt?(Ze=mt.originalStartLineNumber+(mt.originalEndLineNumber>0?-1:0),Ye=mt.modifiedStartLineNumber+(mt.modifiedEndLineNumber>0?-1:0),je=mt.originalEndLineNumber>0?U._getViewLineCount(this._originalEditor,mt.originalStartLineNumber,mt.originalEndLineNumber):0,Ke=mt.modifiedEndLineNumber>0?U._getViewLineCount(this._modifiedEditor,mt.modifiedStartLineNumber,mt.modifiedEndLineNumber):0,et=Math.max(mt.originalStartLineNumber,mt.originalEndLineNumber),nt=Math.max(mt.modifiedStartLineNumber,mt.modifiedEndLineNumber)):(Ze+=1e7+je,Ye+=1e7+Ke,et=Ze,nt=Ye);let pt=[],ft=[];if(Ce){let j;j=mt?mt.originalEndLineNumber>0?mt.originalStartLineNumber-ct:mt.modifiedStartLineNumber-ht:ye.getLineCount()-ct;for(let te=0;te<j;te++){const j=ct+te,he=ht+te,ve=Ee.getModelLineViewLineCount(j),Ce=Ie.getModelLineViewLineCount(he);ve<Ce?pt.push({afterLineNumber:j,heightInLines:Ce-ve,domNode:null,marginDomNode:null}):ve>Ce&&ft.push({afterLineNumber:he,heightInLines:ve-Ce,domNode:null,marginDomNode:null})}mt&&(ct=(mt.originalEndLineNumber>0?mt.originalEndLineNumber:mt.originalStartLineNumber)+1,ht=(mt.modifiedEndLineNumber>0?mt.modifiedEndLineNumber:mt.modifiedStartLineNumber)+1)}for(;rt.current&&rt.current.afterLineNumber<=nt;){let j;j=rt.current.afterLineNumber<=Ye?Ze-Ye+rt.current.afterLineNumber:et;let he=null;mt&&mt.modifiedStartLineNumber<=rt.current.afterLineNumber&&rt.current.afterLineNumber<=mt.modifiedEndLineNumber&&(he=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),pt.push({afterLineNumber:j,heightInLines:rt.current.height/te,domNode:null,marginDomNode:he}),rt.advance()}for(;at.current&&at.current.afterLineNumber<=et;){let te;te=at.current.afterLineNumber<=Ze?Ye-Ze+at.current.afterLineNumber:nt,ft.push({afterLineNumber:te,heightInLines:at.current.height/j,domNode:null}),at.advance()}if(null!==mt&&$(mt)){const j=this._produceOriginalFromDiff(mt,je,Ke);j&&pt.push(j)}if(null!==mt&&K(mt)){const j=this._produceModifiedFromDiff(mt,je,Ke);j&&ft.push(j)}let _t=0,Ct=0;for(pt=pt.sort(we),ft=ft.sort(we);_t<pt.length&&Ct<ft.length;){const j=pt[_t],te=ft[Ct],he=j.afterLineNumber-Ze,ve=te.afterLineNumber-Ye;he<ve?(Se(Ne,j),_t++):ve<he?(Se(Oe,te),Ct++):j.shouldNotShrink?(Se(Ne,j),_t++):te.shouldNotShrink?(Se(Oe,te),Ct++):j.heightInLines>=te.heightInLines?(j.heightInLines-=te.heightInLines,Ct++):(te.heightInLines-=j.heightInLines,_t++)}for(;_t<pt.length;)Se(Ne,pt[_t]),_t++;for(;Ct<ft.length;)Se(Oe,ft[Ct]),Ct++}return{original:U._ensureDomNodes(Ne),modified:U._ensureDomNodes(Oe)}}static _ensureDomNodes(j){return j.map((j=>(j.domNode||(j.domNode=J()),j)))}}function Q(j,te,he,ve,Ce){return{range:new nt.Range(j,te,he,ve),options:Ce}}const mi={charDelete:ct.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:ct.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:ct.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:ct.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:ct.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:ct.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+kt.ThemeIcon.asClassName(ci),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:ct.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:ct.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+kt.ThemeIcon.asClassName(hi),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:ct.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class ce extends Z{constructor(j,te){super(j),this._disableSash=!1===te,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new ye.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart((()=>this._onSashDragStart())),this._sash.onDidChange((j=>this._onSashDrag(j))),this._sash.onDidEnd((()=>this._onSashDragEnd())),this._sash.onDidReset((()=>this._onSashReset()))}setEnableSplitViewResizing(j){const te=!1===j;this._disableSash!==te&&(this._disableSash=te,this._sash.state=this._disableSash?0:3)}layout(j=this._sashRatio){const te=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?gi.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let he=Math.floor((j||.5)*te);const ve=Math.floor(.5*te);return he=this._disableSash?ve:he||ve,te>2*ce.MINIMUM_EDITOR_WIDTH?(he<ce.MINIMUM_EDITOR_WIDTH&&(he=ce.MINIMUM_EDITOR_WIDTH),he>te-ce.MINIMUM_EDITOR_WIDTH&&(he=te-ce.MINIMUM_EDITOR_WIDTH)):he=ve,this._sashPosition!==he&&(this._sashPosition=he,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(j){const te=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?gi.ENTIRE_DIFF_OVERVIEW_WIDTH:0),he=this.layout((this._startSashPosition+(j.currentX-j.startX))/te);this._sashRatio=he/te,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(j){return 0}getVerticalSashLeft(j){return this._sashPosition}getVerticalSashHeight(j){return this._dataSource.getHeight()}_getViewZones(j,te,he){const ve=this._dataSource.getOriginalEditor(),Ce=this._dataSource.getModifiedEditor();return new ee(j,te,he,ve,Ce).getViewZones()}_getOriginalEditorDecorations(j,te,he){const ve=this._dataSource.getOriginalEditor(),Ce=String(this._removeColor),ye={decorations:[],overviewZones:[]},Ee=ve.getModel(),Ie=ve._getViewModel();for(const ve of j)if(K(ve)){ye.decorations.push({range:new nt.Range(ve.originalStartLineNumber,1,ve.originalEndLineNumber,1073741824),options:he?mi.lineDeleteWithSign:mi.lineDelete}),(!$(ve)||!ve.charChanges)&&ye.decorations.push(Q(ve.originalStartLineNumber,1,ve.originalEndLineNumber,1073741824,mi.charDeleteWholeLine));const j=Y(Ee,Ie,ve.originalStartLineNumber,ve.originalEndLineNumber);if(ye.overviewZones.push(new mt.OverviewRulerZone(j.startLineNumber,j.endLineNumber,Ce)),ve.charChanges)for(const j of ve.charChanges)if(K(j))if(te)for(let te=j.originalStartLineNumber;te<=j.originalEndLineNumber;te++){let he,ve;he=te===j.originalStartLineNumber?j.originalStartColumn:Ee.getLineFirstNonWhitespaceColumn(te),ve=te===j.originalEndLineNumber?j.originalEndColumn:Ee.getLineLastNonWhitespaceColumn(te),ye.decorations.push(Q(te,he,te,ve,mi.charDelete))}else ye.decorations.push(Q(j.originalStartLineNumber,j.originalStartColumn,j.originalEndLineNumber,j.originalEndColumn,mi.charDelete))}return ye}_getModifiedEditorDecorations(j,te,he){const ve=this._dataSource.getModifiedEditor(),Ce=String(this._insertColor),ye={decorations:[],overviewZones:[]},Ee=ve.getModel(),Ie=ve._getViewModel();for(const ve of j)if($(ve)){ye.decorations.push({range:new nt.Range(ve.modifiedStartLineNumber,1,ve.modifiedEndLineNumber,1073741824),options:he?mi.lineInsertWithSign:mi.lineInsert}),(!K(ve)||!ve.charChanges)&&ye.decorations.push(Q(ve.modifiedStartLineNumber,1,ve.modifiedEndLineNumber,1073741824,mi.charInsertWholeLine));const j=Y(Ee,Ie,ve.modifiedStartLineNumber,ve.modifiedEndLineNumber);if(ye.overviewZones.push(new mt.OverviewRulerZone(j.startLineNumber,j.endLineNumber,Ce)),ve.charChanges)for(const j of ve.charChanges)if($(j))if(te)for(let te=j.modifiedStartLineNumber;te<=j.modifiedEndLineNumber;te++){let he,ve;he=te===j.modifiedStartLineNumber?j.modifiedStartColumn:Ee.getLineFirstNonWhitespaceColumn(te),ve=te===j.modifiedEndLineNumber?j.modifiedEndColumn:Ee.getLineLastNonWhitespaceColumn(te),ye.decorations.push(Q(te,he,te,ve,mi.charInsert))}else ye.decorations.push(Q(j.modifiedStartLineNumber,j.modifiedStartColumn,j.modifiedEndLineNumber,j.modifiedEndColumn,mi.charInsert))}return ye}}ce.MINIMUM_EDITOR_WIDTH=100;class ee extends U{constructor(j,te,he,ve,Ce){super(j,te,he,ve,Ce)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(j,te,he){return he>te?{afterLineNumber:Math.max(j.originalStartLineNumber,j.originalEndLineNumber),heightInLines:he-te,domNode:null}:null}_produceModifiedFromDiff(j,te,he){return te>he?{afterLineNumber:Math.max(j.modifiedStartLineNumber,j.modifiedEndLineNumber),heightInLines:te-he,domNode:null}:null}}class ue extends Z{constructor(j,te){super(j),this._decorationsLeft=j.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(j.getOriginalEditor().onDidLayoutChange((te=>{this._decorationsLeft!==te.decorationsLeft&&(this._decorationsLeft=te.decorationsLeft,j.relayoutEditors())})))}setEnableSplitViewResizing(j){}_getViewZones(j,te,he,ve){const Ce=this._dataSource.getOriginalEditor(),ye=this._dataSource.getModifiedEditor();return new z(j,te,he,Ce,ye,ve).getViewZones()}_getOriginalEditorDecorations(j,te,he){const ve=String(this._removeColor),Ce={decorations:[],overviewZones:[]},ye=this._dataSource.getOriginalEditor(),Ee=ye.getModel(),Ie=ye._getViewModel();for(const te of j)if(K(te)){Ce.decorations.push({range:new nt.Range(te.originalStartLineNumber,1,te.originalEndLineNumber,1073741824),options:mi.lineDeleteMargin});const j=Y(Ee,Ie,te.originalStartLineNumber,te.originalEndLineNumber);Ce.overviewZones.push(new mt.OverviewRulerZone(j.startLineNumber,j.endLineNumber,ve))}return Ce}_getModifiedEditorDecorations(j,te,he){const ve=this._dataSource.getModifiedEditor(),Ce=String(this._insertColor),ye={decorations:[],overviewZones:[]},Ee=ve.getModel(),Ie=ve._getViewModel();for(const ve of j)if($(ve)){ye.decorations.push({range:new nt.Range(ve.modifiedStartLineNumber,1,ve.modifiedEndLineNumber,1073741824),options:he?mi.lineInsertWithSign:mi.lineInsert});const j=Y(Ee,Ie,ve.modifiedStartLineNumber,ve.modifiedEndLineNumber);if(ye.overviewZones.push(new mt.OverviewRulerZone(j.startLineNumber,j.endLineNumber,Ce)),ve.charChanges){for(const j of ve.charChanges)if($(j))if(te)for(let te=j.modifiedStartLineNumber;te<=j.modifiedEndLineNumber;te++){let he,ve;he=te===j.modifiedStartLineNumber?j.modifiedStartColumn:Ee.getLineFirstNonWhitespaceColumn(te),ve=te===j.modifiedEndLineNumber?j.modifiedEndColumn:Ee.getLineLastNonWhitespaceColumn(te),ye.decorations.push(Q(te,he,te,ve,mi.charInsert))}else ye.decorations.push(Q(j.modifiedStartLineNumber,j.modifiedStartColumn,j.modifiedEndLineNumber,j.modifiedEndColumn,mi.charInsert))}else ye.decorations.push(Q(ve.modifiedStartLineNumber,1,ve.modifiedEndLineNumber,1073741824,mi.charInsertWholeLine))}return ye}layout(){return Math.max(5,this._decorationsLeft)}}class z extends U{constructor(j,te,he,ve,Ce,ye){super(j,te,he,ve,Ce),this._originalModel=ve.getModel(),this._renderIndicators=ye,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const j=super.getViewZones();return this._finalize(j),j}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const j=document.createElement("div");return j.className="inline-added-margin-view-zone",j}_produceOriginalFromDiff(j,te,he){const ve=document.createElement("div");return ve.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(j.originalStartLineNumber,j.originalEndLineNumber),heightInLines:he,domNode:document.createElement("div"),marginDomNode:ve}}_produceModifiedFromDiff(j,te,he){const ve=document.createElement("div");ve.className=`view-lines line-delete ${Zt.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const Ce=document.createElement("div");Ce.className="inline-deleted-margin-view-zone";const ye={shouldNotShrink:!0,afterLineNumber:0===j.modifiedEndLineNumber?j.modifiedStartLineNumber:j.modifiedStartLineNumber-1,heightInLines:te,minWidthInPx:0,domNode:ve,marginDomNode:Ce,diff:{originalStartLineNumber:j.originalStartLineNumber,originalEndLineNumber:j.originalEndLineNumber,modifiedStartLineNumber:j.modifiedStartLineNumber,modifiedEndLineNumber:j.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let te=j.originalStartLineNumber;te<=j.originalEndLineNumber;te++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(te),null,null);return this._pendingLineChange.push(j),this._pendingViewZones.push(ye),ye}_finalize(j){const te=this._modifiedEditor.getOptions(),he=this._modifiedEditor.getModel().getOptions().tabSize,ve=te.get(44),Ce=te.get(29),ye=ve.typicalHalfwidthCharacterWidth,Ee=te.get(93),Ie=this._originalModel.mightContainNonBasicASCII(),Ne=this._originalModel.mightContainRTL(),Ke=te.get(59),je=te.get(131).decorationsWidth,Ze=te.get(105),Ye=te.get(88),et=te.get(83),at=te.get(45),ct=this._lineBreaksComputer.finalize();let ht=0;for(let te=0;te<this._pendingLineChange.length;te++){const mt=this._pendingLineChange[te],ft=this._pendingViewZones[te],Ct=ft.domNode;(0,Oe.applyFontInfo)(Ct,ve);const bt=ft.marginDomNode;(0,Oe.applyFontInfo)(bt,ve);const St=[];if(mt.charChanges)for(const j of mt.charChanges)K(j)&&St.push(new _t.InlineDecoration(new nt.Range(j.originalStartLineNumber,j.originalStartColumn,j.originalEndLineNumber,j.originalEndColumn),"char-delete",0));const Dt=St.length>0,It=(0,rt.createStringBuilder)(1e4);let kt=0,At=0,Pt=null;for(let te=mt.originalStartLineNumber;te<=mt.originalEndLineNumber;te++){const ye=te-mt.originalStartLineNumber,Ee=this._originalModel.getLineTokens(te),Oe=Ee.getLineContent(),nt=ct[ht++],rt=pt.LineDecoration.filter(St,te,1,Oe.length+1);if(nt){let ct=0;for(const j of nt.breakOffsets){const te=Ee.sliceAndInflate(ct,j,0),ye=Oe.substring(ct,j);kt=Math.max(kt,this._renderOriginalLine(At++,ye,te,pt.LineDecoration.extractWrapped(rt,ct,j),Dt,Ie,Ne,ve,Ce,Ke,je,Ze,Ye,et,at,he,It,bt)),ct=j}for(Pt||(Pt=[]);Pt.length<ye;)Pt[Pt.length]=1;Pt[ye]=nt.breakOffsets.length,ft.heightInLines+=nt.breakOffsets.length-1;const ht=document.createElement("div");ht.className="line-delete",j.original.push({afterLineNumber:te,afterColumn:0,heightInLines:nt.breakOffsets.length-1,domNode:J(),marginDomNode:ht})}else kt=Math.max(kt,this._renderOriginalLine(At++,Oe,Ee,rt,Dt,Ie,Ne,ve,Ce,Ke,je,Ze,Ye,et,at,he,It,bt))}kt+=Ee;const Kt=It.build(),Ut=ui?ui.createHTML(Kt):Kt;if(Ct.innerHTML=Ut,ft.minWidthInPx=kt*ye,Pt){const j=mt.originalEndLineNumber-mt.originalStartLineNumber;for(;Pt.length<=j;)Pt[Pt.length]=1}ft.diff.viewLineCounts=Pt}j.original.sort(((j,te)=>j.afterLineNumber-te.afterLineNumber))}_renderOriginalLine(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,nt,rt,at,ct){at.appendASCIIString('<div class="view-line'),Ce||at.appendASCIIString(" char-delete"),at.appendASCIIString('" style="top:'),at.appendASCIIString(String(j*Oe)),at.appendASCIIString('px;width:1000000px;">');const ht=_t.ViewLineRenderingData.isBasicASCII(te,ye),mt=_t.ViewLineRenderingData.containsRTL(te,ht,Ee),pt=(0,ft.renderViewLine)(new ft.RenderLineInput(Ie.isMonospace&&!Ne,Ie.canUseHalfwidthRightwardsArrow,te,!1,ht,mt,0,he,ve,rt,0,Ie.spaceWidth,Ie.middotWidth,Ie.wsmiddotWidth,je,Ze,Ye,nt!==et.EditorFontLigatures.OFF,null),at);if(at.appendASCIIString("</div>"),this._renderIndicators){const te=document.createElement("div");te.className=`delete-sign ${kt.ThemeIcon.asClassName(hi)}`,te.setAttribute("style",`position:absolute;top:${j*Oe}px;width:${Ke}px;height:${Oe}px;right:0;`),ct.appendChild(te)}return pt.characterMapping.getAbsoluteOffset(pt.characterMapping.length)}}function V(j,te){return(0,et.stringSet)(j,te,["off","on","inherit"])}function $(j){return j.modifiedEndLineNumber>0}function K(j){return j.originalEndLineNumber>0}function J(){const j=document.createElement("div");return j.className="diagonal-fill",j}function Y(j,te,he,ve){const Ce=j.getLineCount();return he=Math.min(Ce,Math.max(1,he)),ve=Math.min(Ce,Math.max(1,ve)),te.coordinatesConverter.convertModelRangeToViewRange(new nt.Range(he,j.getLineMinColumn(he),ve,j.getLineMaxColumn(ve)))}function se(j,te){return{enableSplitViewResizing:(0,et.boolean)(j.enableSplitViewResizing,te.enableSplitViewResizing),renderSideBySide:(0,et.boolean)(j.renderSideBySide,te.renderSideBySide),maxComputationTime:(0,et.clampedInt)(j.maxComputationTime,te.maxComputationTime,0,1073741824),maxFileSize:(0,et.clampedInt)(j.maxFileSize,te.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,et.boolean)(j.ignoreTrimWhitespace,te.ignoreTrimWhitespace),renderIndicators:(0,et.boolean)(j.renderIndicators,te.renderIndicators),originalEditable:(0,et.boolean)(j.originalEditable,te.originalEditable),diffCodeLens:(0,et.boolean)(j.diffCodeLens,te.diffCodeLens),renderOverviewRuler:(0,et.boolean)(j.renderOverviewRuler,te.renderOverviewRuler),diffWordWrap:V(j.diffWordWrap,te.diffWordWrap)}}(0,kt.registerThemingParticipant)(((j,te)=>{const he=j.getColor(It.diffInserted);he&&(te.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${he}; }`),te.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${he}; }`),te.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${he}; }`));const ve=j.getColor(It.diffRemoved);ve&&(te.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${ve}; }`),te.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${ve}; }`),te.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${ve}; }`));const Ce=j.getColor(It.diffInsertedOutline);Ce&&te.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===j.type?"dashed":"solid"} ${Ce}; }`);const ye=j.getColor(It.diffRemovedOutline);ye&&te.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===j.type?"dashed":"solid"} ${ye}; }`);const Ee=j.getColor(It.scrollbarShadow);Ee&&te.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Ee}; }`);const Ie=j.getColor(It.diffBorder);Ie&&te.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Ie}; }`);const Ne=j.getColor(It.scrollbarSliderBackground);Ne&&te.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${Ne};\n\t\t\t}\n\t\t`);const Oe=j.getColor(It.scrollbarSliderHoverBackground);Oe&&te.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${Oe};\n\t\t\t}\n\t\t`);const Ke=j.getColor(It.scrollbarSliderActiveBackground);Ke&&te.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${Ke};\n\t\t\t}\n\t\t`);const je=j.getColor(It.diffDiagonalFill);te.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${je} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${je} 50%, ${je} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)}))})),define(Ce[162],ie([1,0,39,28,161,26,16,9,38,14,63,32]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){Object.defineProperty(te,"__esModule",{value:!0}),te.EmbeddedCodeEditorWidget=void 0;let Ze=class extends Ce.CodeEditorWidget{constructor(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){super(j,Object.assign(Object.assign({},he.getRawOptions()),{overflowWidgetsDomNode:he.getOverflowWidgetsDomNode()}),{},ve,Ce,ye,Ee,Ie,Ne,Oe,Ke),this._parentEditor=he,this._overwriteOptions=te,super.updateOptions(this._overwriteOptions),this._register(he.onDidChangeConfiguration((j=>this._onParentConfigurationChanged(j))))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(j){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(j){he.mixin(this._overwriteOptions,j,!0),super.updateOptions(this._overwriteOptions)}};Ze=Ci([Zi(3,Ie.IInstantiationService),Zi(4,ve.ICodeEditorService),Zi(5,ye.ICommandService),Zi(6,Ee.IContextKeyService),Zi(7,Oe.IThemeService),Zi(8,Ne.INotificationService),Zi(9,Ke.IAccessibilityService),Zi(10,je.ILanguageConfigurationService)],Ze),te.EmbeddedCodeEditorWidget=Ze})),define(Ce[706],ie([1,0,10,2,15,11,3,22,24,49,33,52,517,37,23,14,369]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt){Object.defineProperty(te,"__esModule",{value:!0}),te.BracketMatchingController=void 0;const rt=(0,et.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},Ze.localize(0,null));class s extends Ce.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:Ze.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:Ne.EditorContextKeys.editorTextFocus,primary:3160,weight:100}})}run(j,te){var he;null===(he=d.get(te))||void 0===he||he.jumpToBracket()}}class o extends Ce.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:Ze.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(j,te,he){var ve;let Ce=!0;he&&!1===he.selectBrackets&&(Ce=!1),null===(ve=d.get(te))||void 0===ve||ve.selectToBracket(Ce)}}class a{constructor(j,te,he){this.position=j,this.brackets=te,this.options=he}}class d extends ve.Disposable{constructor(j){super(),this._editor=j,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new he.RunOnceScheduler((()=>this._updateBrackets()),50)),this._matchBrackets=this._editor.getOption(64),this._updateBracketsSoon.schedule(),this._register(j.onDidChangeCursorPosition((j=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()}))),this._register(j.onDidChangeModelContent((j=>{this._updateBracketsSoon.schedule()}))),this._register(j.onDidChangeModel((j=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()}))),this._register(j.onDidChangeModelLanguageConfiguration((j=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()}))),this._register(j.onDidChangeConfiguration((j=>{j.hasChanged(64)&&(this._matchBrackets=this._editor.getOption(64),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))),this._register(j.onDidBlurEditorWidget((()=>{this._updateBracketsSoon.schedule()}))),this._register(j.onDidFocusEditorWidget((()=>{this._updateBracketsSoon.schedule()})))}static get(j){return j.getContribution(d.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const j=this._editor.getModel(),te=this._editor.getSelections().map((te=>{const he=te.getStartPosition(),ve=j.bracketPairs.matchBracket(he);let Ce=null;if(ve)ve[0].containsPosition(he)?Ce=ve[1].getStartPosition():ve[1].containsPosition(he)&&(Ce=ve[0].getStartPosition());else{const te=j.bracketPairs.findEnclosingBrackets(he);if(te)Ce=te[0].getStartPosition();else{const te=j.bracketPairs.findNextBracket(he);te&&te.range&&(Ce=te.range.getStartPosition())}}return Ce?new Ie.Selection(Ce.lineNumber,Ce.column,Ce.lineNumber,Ce.column):new Ie.Selection(he.lineNumber,he.column,he.lineNumber,he.column)}));this._editor.setSelections(te),this._editor.revealRange(te[0])}selectToBracket(j){if(!this._editor.hasModel())return;const te=this._editor.getModel(),he=[];this._editor.getSelections().forEach((ve=>{const Ce=ve.getStartPosition();let ye=te.bracketPairs.matchBracket(Ce);if(!ye&&(ye=te.bracketPairs.findEnclosingBrackets(Ce),!ye)){const j=te.bracketPairs.findNextBracket(Ce);j&&j.range&&(ye=te.bracketPairs.matchBracket(j.range.getStartPosition()))}let Ne=null,Oe=null;if(ye){ye.sort(Ee.Range.compareRangesUsingStarts);const[te,he]=ye;if(Ne=j?te.getStartPosition():te.getEndPosition(),Oe=j?he.getEndPosition():he.getStartPosition(),he.containsPosition(Ce)){const j=Ne;Ne=Oe,Oe=j}}Ne&&Oe&&he.push(new Ie.Selection(Ne.lineNumber,Ne.column,Oe.lineNumber,Oe.column))})),he.length>0&&(this._editor.setSelections(he),this._editor.revealRange(he[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let j=[],te=0;for(const he of this._lastBracketsData){let ve=he.brackets;ve&&(j[te++]={range:ve[0],options:he.options},j[te++]={range:ve[1],options:he.options})}this._decorations=this._editor.deltaDecorations(this._decorations,j)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const j=this._editor.getSelections();if(j.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const te=this._editor.getModel(),he=te.getVersionId();let ve=[];this._lastVersionId===he&&(ve=this._lastBracketsData);let Ce=[],Ee=0;for(let te=0,he=j.length;te<he;te++){let he=j[te];he.isEmpty()&&(Ce[Ee++]=he.getStartPosition())}Ce.length>1&&Ce.sort(ye.Position.compare);let Ie=[],Ne=0,Oe=0,Ke=ve.length;for(let j=0,he=Ce.length;j<he;j++){let he=Ce[j];for(;Oe<Ke&&ve[Oe].position.isBefore(he);)Oe++;if(Oe<Ke&&ve[Oe].position.equals(he))Ie[Ne++]=ve[Oe];else{let j=te.bracketPairs.matchBracket(he),ve=d._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!j&&"always"===this._matchBrackets&&(j=te.bracketPairs.findEnclosingBrackets(he,20),ve=d._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),Ie[Ne++]=new a(he,j,ve)}}this._lastBracketsData=Ie,this._lastVersionId=he}}te.BracketMatchingController=d,d.ID="editor.contrib.bracketMatchingController",d._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Ke.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,nt.themeColorFromId)(rt),position:Oe.OverviewRulerLane.Center}}),d._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Ke.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,Ce.registerEditorContribution)(d.ID,d),(0,Ce.registerEditorAction)(o),(0,Ce.registerEditorAction)(s),(0,nt.registerThemingParticipant)(((j,te)=>{const he=j.getColor(je.editorBracketMatchBackground);he&&te.addRule(`.monaco-editor .bracket-match { background-color: ${he}; }`);const ve=j.getColor(je.editorBracketMatchBorder);ve&&te.addRule(`.monaco-editor .bracket-match { border: 1px solid ${ve}; }`)})),Ye.MenuRegistry.appendMenuItem(Ye.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:Ze.localize(3,null)},order:2})})),define(Ce[707],ie([1,0,15,98,203,3,24,519]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0});class p extends he.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:Ie.localize(0,null),alias:"Transpose Letters",precondition:Ee.EditorContextKeys.writable,kbOpts:{kbExpr:Ee.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(j,te){if(!te.hasModel())return;let he=te.getModel(),Ee=[],Ie=te.getSelections();for(let j of Ie){if(!j.isEmpty())continue;let te=j.startLineNumber,Ie=j.startColumn,Ne=he.getLineMaxColumn(te);if(1===te&&(1===Ie||2===Ie&&2===Ne))continue;let Oe=Ie===Ne?j.getPosition():Ce.MoveOperations.rightPosition(he,j.getPosition().lineNumber,j.getPosition().column),Ke=Ce.MoveOperations.leftPosition(he,Oe),je=Ce.MoveOperations.leftPosition(he,Ke),Ze=he.getValueInRange(ye.Range.fromPositions(je,Ke)),Ye=he.getValueInRange(ye.Range.fromPositions(Ke,Oe)),et=ye.Range.fromPositions(je,Oe);Ee.push(new ve.ReplaceCommand(et,Ye+Ze))}Ee.length>0&&(te.pushUndoStop(),te.executeCommands(this.id,Ee),te.pushUndoStop())}}(0,he.registerEditorAction)(p)})),define(Ce[708],ie([1,0,7,113,3,33,371]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.CodeLensWidget=te.CodeLensHelper=void 0;class w{constructor(j,te,he){this.afterColumn=1073741824,this.afterLineNumber=j,this.heightInPx=te,this._onHeight=he,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(j){void 0===this._lastHeight?this._lastHeight=j:this._lastHeight!==j&&(this._lastHeight=j,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class b{constructor(j,te,he){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=j,this._id="codelens.widget-"+b._idPool++,this.updatePosition(he),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${te}`}withCommands(j,te){this._commands.clear();let Ce=[],ye=!1;for(let te=0;te<j.length;te++){const Ee=j[te];if(Ee&&(ye=!0,Ee.command)){const ye=(0,ve.renderLabelWithIcons)(Ee.command.title.trim());Ee.command.id?(Ce.push(he.$("a",{id:String(te),title:Ee.command.tooltip},...ye)),this._commands.set(String(te),Ee.command)):Ce.push(he.$("span",{title:Ee.command.tooltip},...ye)),te+1<j.length&&Ce.push(he.$("span",void 0," | "))}}ye?(he.reset(this._domNode,...Ce),this._isEmpty&&te&&this._domNode.classList.add("fadein"),this._isEmpty=!1):he.reset(this._domNode,he.$("span",void 0,"no commands"))}getCommand(j){return j.parentElement===this._domNode?this._commands.get(j.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(j){const te=this._editor.getModel().getLineFirstNonWhitespaceColumn(j);this._widgetPosition={position:{lineNumber:j,column:te},preference:[1]}}getPosition(){return this._widgetPosition||null}}b._idPool=0;te.CodeLensHelper=class p{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(j,te){this._addDecorations.push(j),this._addDecorationsCallbacks.push(te)}removeDecoration(j){this._removeDecorations.push(j)}commit(j){let te=j.deltaDecorations(this._removeDecorations,this._addDecorations);for(let j=0,he=te.length;j<he;j++)this._addDecorationsCallbacks[j](te[j])}};te.CodeLensWidget=class h{constructor(j,te,he,ve,Ee,Ie,Ne){this._isDisposed=!1,this._editor=te,this._className=he,this._data=j,this._decorationIds=[];let Oe,Ke=[];this._data.forEach(((j,te)=>{j.symbol.command&&Ke.push(j.symbol),ve.addDecoration({range:j.symbol.range,options:ye.ModelDecorationOptions.EMPTY},(j=>this._decorationIds[te]=j)),Oe=Oe?Ce.Range.plusRange(Oe,j.symbol.range):Ce.Range.lift(j.symbol.range)})),this._viewZone=new w(Oe.startLineNumber-1,Ie,Ne),this._viewZoneId=Ee.addZone(this._viewZone),Ke.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(Ke,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new b(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(j,te){this._decorationIds.forEach(j.removeDecoration,j),this._decorationIds=[],te&&te.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some(((j,te)=>{const he=this._editor.getModel().getDecorationRange(j),ve=this._data[te].symbol;return!(!he||Ce.Range.isEmpty(ve.range)!==he.isEmpty())}))}updateCodeLensSymbols(j,te){this._decorationIds.forEach(te.removeDecoration,te),this._decorationIds=[],this._data=j,this._data.forEach(((j,he)=>{te.addDecoration({range:j.symbol.range,options:ye.ModelDecorationOptions.EMPTY},(j=>this._decorationIds[he]=j))}))}updateHeight(j,te){this._viewZone.heightInPx=j,te.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(j){if(!this._viewZone.isVisible())return null;for(let te=0;te<this._decorationIds.length;te++){const he=j.getDecorationRange(this._decorationIds[te]);he&&(this._data[te].symbol.range=he)}return this._data}updateCommands(j){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(j,!0);for(let te=0;te<this._data.length;te++){const he=j[te];if(he){const{symbol:j}=this._data[te];j.command=he.command||j.command}}}getCommand(j){var te;return null===(te=this._contentWidget)||void 0===te?void 0:te.getCommand(j)}getLineNumber(){const j=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return j?j.startLineNumber:-1}update(j){if(this.isValid()){const te=this._editor.getModel().getDecorationRange(this._decorationIds[0]);te&&(this._viewZone.afterLineNumber=te.startLineNumber-1,j.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(te.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}})),define(Ce[709],ie([1,0,7,10,13,112,2,143,15,31,24,18,271,630,708,523,26,38,78,92]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht){Object.defineProperty(te,"__esModule",{value:!0}),te.CodeLensContribution=void 0;let mt=class{constructor(j,te,Ce,Ie,Ne){this._editor=j,this._commandService=Ce,this._notificationService=Ie,this._codeLensCache=Ne,this._disposables=new Ee.DisposableStore,this._localToDispose=new Ee.DisposableStore,this._lenses=[],this._oldCodeLensModels=new Ee.DisposableStore,this._provideCodeLensDebounce=te.for(je.CodeLensProviderRegistry,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=te.for(je.CodeLensProviderRegistry,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new ve.RunOnceScheduler((()=>this._resolveCodeLensesInViewport()),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel((()=>this._onModelChange()))),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>this._onModelChange()))),this._disposables.add(this._editor.onDidChangeConfiguration((j=>{(j.hasChanged(44)||j.hasChanged(16)||j.hasChanged(15))&&this._updateLensStyle(),j.hasChanged(14)&&this._onModelChange()}))),this._disposables.add(je.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,ye.hash)(this._editor.getId()).toString(16),this._styleElement=he.createStyleSheet(he.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var j;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(j=this._currentCodeLensModel)||void 0===j||j.dispose(),this._styleElement.remove()}_getLayoutInfo(){let j,te=this._editor.getOption(16);return!te||te<5?(te=.9*this._editor.getOption(46)|0,j=this._editor.getOption(59)):j=te*Math.max(1.3,this._editor.getOption(59)/this._editor.getOption(46))|0,{codeLensHeight:j,fontSize:te}}_updateLensStyle(){const{codeLensHeight:j,fontSize:te}=this._getLayoutInfo(),he=this._editor.getOption(15),ve=this._editor.getOption(44),Ce=`--codelens-font-family${this._styleClassName}`,ye=`--codelens-font-features${this._styleClassName}`;let Ee=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${j}px; font-size: ${te}px; padding-right: ${Math.round(.5*te)}px; font-feature-settings: var(${ye}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${j}px; font-size: ${te}px; }\n\t\t`;he&&(Ee+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${Ce}), ${Oe.EDITOR_FONT_DEFAULTS.fontFamily}}`),this._styleElement.textContent=Ee,this._editor.getContainerDomNode().style.setProperty(Ce,he??"inherit"),this._editor.getContainerDomNode().style.setProperty(ye,ve.fontFeatureSettings),this._editor.changeViewZones((te=>{for(let he of this._lenses)he.updateHeight(j,te)}))}_localDispose(){var j,te,he;null===(j=this._getCodeLensModelPromise)||void 0===j||j.cancel(),this._getCodeLensModelPromise=void 0,null===(te=this._resolveCodeLensesPromise)||void 0===te||te.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(he=this._currentCodeLensModel)||void 0===he||he.dispose()}_onModelChange(){this._localDispose();const j=this._editor.getModel();if(!j||!this._editor.getOption(14))return;const te=this._codeLensCache.get(j);if(te&&this._renderCodeLensSymbols(te),!je.CodeLensProviderRegistry.has(j))return void(te&&this._localToDispose.add((0,ve.disposableTimeout)((()=>{const he=this._codeLensCache.get(j);te===he&&(this._codeLensCache.delete(j),this._onModelChange())}),3e4)));for(const te of je.CodeLensProviderRegistry.all(j))if("function"==typeof te.onDidChange){let j=te.onDidChange((()=>he.schedule()));this._localToDispose.add(j)}const he=new ve.RunOnceScheduler((()=>{var te;const ye=Date.now();null===(te=this._getCodeLensModelPromise)||void 0===te||te.cancel(),this._getCodeLensModelPromise=(0,ve.createCancelablePromise)((te=>(0,Ze.getCodeLensModel)(j,te))),this._getCodeLensModelPromise.then((te=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=te,this._codeLensCache.put(j,te);const ve=this._provideCodeLensDebounce.update(j,Date.now()-ye);he.delay=ve,this._renderCodeLensSymbols(te),this._resolveCodeLensesInViewportSoon()}),Ce.onUnexpectedError)}),this._provideCodeLensDebounce.get(j));this._localToDispose.add(he),this._localToDispose.add((0,Ee.toDisposable)((()=>this._resolveCodeLensesScheduler.cancel()))),this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{this._editor.changeDecorations((j=>{this._editor.changeViewZones((te=>{let he=[],ve=-1;this._lenses.forEach((j=>{j.isValid()&&ve!==j.getLineNumber()?(j.update(te),ve=j.getLineNumber()):he.push(j)}));let Ce=new et.CodeLensHelper;he.forEach((j=>{j.dispose(Ce,te),this._lenses.splice(this._lenses.indexOf(j),1)})),Ce.commit(j)}))})),he.schedule()}))),this._localToDispose.add(this._editor.onDidFocusEditorWidget((()=>{he.schedule()}))),this._localToDispose.add(this._editor.onDidScrollChange((j=>{j.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add(this._editor.onDidLayoutChange((()=>{this._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add((0,Ee.toDisposable)((()=>{if(this._editor.getModel()){const j=Ie.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations((j=>{this._editor.changeViewZones((te=>{this._disposeAllLenses(j,te)}))})),j.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)}))),this._localToDispose.add(this._editor.onMouseDown((j=>{if(9!==j.target.type)return;let te=j.target.element;if("SPAN"===(null==te?void 0:te.tagName)&&(te=te.parentElement),"A"===(null==te?void 0:te.tagName))for(const j of this._lenses){let he=j.getCommand(te);if(he){this._commandService.executeCommand(he.id,...he.arguments||[]).catch((j=>this._notificationService.error(j)));break}}}))),he.schedule()}_disposeAllLenses(j,te){const he=new et.CodeLensHelper;for(const j of this._lenses)j.dispose(he,te);j&&he.commit(j),this._lenses.length=0}_renderCodeLensSymbols(j){if(!this._editor.hasModel())return;let te,he=this._editor.getModel().getLineCount(),ve=[];for(let Ce of j.lenses){let j=Ce.symbol.range.startLineNumber;j<1||j>he||(te&&te[te.length-1].symbol.range.startLineNumber===j?te.push(Ce):(te=[Ce],ve.push(te)))}const Ce=Ie.StableEditorScrollState.capture(this._editor),ye=this._getLayoutInfo();this._editor.changeDecorations((j=>{this._editor.changeViewZones((te=>{const he=new et.CodeLensHelper;let Ce=0,Ee=0;for(;Ee<ve.length&&Ce<this._lenses.length;){let j=ve[Ee][0].symbol.range.startLineNumber,Ie=this._lenses[Ce].getLineNumber();Ie<j?(this._lenses[Ce].dispose(he,te),this._lenses.splice(Ce,1)):Ie===j?(this._lenses[Ce].updateCodeLensSymbols(ve[Ee],he),Ee++,Ce++):(this._lenses.splice(Ce,0,new et.CodeLensWidget(ve[Ee],this._editor,this._styleClassName,he,te,ye.codeLensHeight,(()=>this._resolveCodeLensesInViewportSoon()))),Ce++,Ee++)}for(;Ce<this._lenses.length;)this._lenses[Ce].dispose(he,te),this._lenses.splice(Ce,1);for(;Ee<ve.length;)this._lenses.push(new et.CodeLensWidget(ve[Ee],this._editor,this._styleClassName,he,te,ye.codeLensHeight,(()=>this._resolveCodeLensesInViewportSoon()))),Ee++;he.commit(j)}))})),Ce.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var j;null===(j=this._resolveCodeLensesPromise)||void 0===j||j.cancel(),this._resolveCodeLensesPromise=void 0;const te=this._editor.getModel();if(!te)return;const he=[],ye=[];if(this._lenses.forEach((j=>{const ve=j.computeIfNecessary(te);ve&&(he.push(ve),ye.push(j))})),0===he.length)return;const Ee=Date.now(),Ie=(0,ve.createCancelablePromise)((j=>{const ve=he.map(((he,ve)=>{const Ee=new Array(he.length),Ie=he.map(((he,ve)=>he.symbol.command||"function"!=typeof he.provider.resolveCodeLens?(Ee[ve]=he.symbol,Promise.resolve(void 0)):Promise.resolve(he.provider.resolveCodeLens(te,he.symbol,j)).then((j=>{Ee[ve]=j}),Ce.onUnexpectedExternalError)));return Promise.all(Ie).then((()=>{!j.isCancellationRequested&&!ye[ve].isDisposed()&&ye[ve].updateCommands(Ee)}))}));return Promise.all(ve)}));this._resolveCodeLensesPromise=Ie,this._resolveCodeLensesPromise.then((()=>{const j=this._resolveCodeLensesDebounce.update(te,Date.now()-Ee);this._resolveCodeLensesScheduler.delay=j,this._currentCodeLensModel&&this._codeLensCache.put(te,this._currentCodeLensModel),this._oldCodeLensModels.clear(),Ie===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)}),(j=>{(0,Ce.onUnexpectedError)(j),Ie===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)}))}getModel(){return this._currentCodeLensModel}};mt.ID="css.editor.codeLens",mt=Ci([Zi(1,ht.ILanguageFeatureDebounceService),Zi(2,rt.ICommandService),Zi(3,at.INotificationService),Zi(4,Ye.ICodeLensCache)],mt),te.CodeLensContribution=mt,(0,Ne.registerEditorContribution)(mt.ID,mt),(0,Ne.registerEditorAction)(class extends Ne.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:Ke.EditorContextKeys.hasCodeLensProvider,label:(0,nt.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(j,te){return fi(this,void 0,void 0,(function*(){if(!te.hasModel())return;const he=j.get(ct.IQuickInputService),ve=j.get(rt.ICommandService),Ce=j.get(at.INotificationService),ye=te.getSelection().positionLineNumber,Ee=te.getContribution(mt.ID);if(!Ee)return;const Ie=Ee.getModel();if(!Ie)return;const Ne=[];for(const j of Ie.lenses)j.symbol.command&&j.symbol.range.startLineNumber===ye&&Ne.push({label:j.symbol.command.title,command:j.symbol.command});if(0===Ne.length)return;const Oe=yield he.pick(Ne,{canPickMany:!1});if(Oe){if(Ie.isDisposed)return yield ve.executeCommand(this.id);try{yield ve.executeCommand(Oe.command.id,...Oe.command.arguments||[])}catch(j){Ce.error(j)}}}))}})})),define(Ce[293],ie([1,0,10,29,13,2,8,130,15,3,33,18,272,40]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){Object.defineProperty(te,"__esModule",{value:!0}),te.ColorDetector=te.ColorDecorationInjectedTextMarker=void 0,te.ColorDecorationInjectedTextMarker=Object.create({});let et=class Ri extends ye.Disposable{constructor(j,te){super(),this._editor=j,this._configurationService=te,this._localToDispose=this._register(new ye.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new Ie.DynamicCssRules(this._editor),this._colorDecorationClassRefs=this._register(new ye.DisposableStore),this._register(j.onDidChangeModel((()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()}))),this._register(j.onDidChangeModelLanguage((()=>this.onModelChanged()))),this._register(je.ColorProviderRegistry.onDidChange((()=>this.onModelChanged()))),this._register(j.onDidChangeConfiguration((()=>{let j=this._isEnabled;this._isEnabled=this.isEnabled(),j!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())}))),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const j=this._editor.getModel();if(!j)return!1;const te=j.getLanguageId(),he=this._configurationService.getValue(te);if(he&&"object"==typeof he){const j=he.colorDecorators;if(j&&void 0!==j.enable&&!j.enable)return j.enable}return this._editor.getOption(17)}static get(j){return j.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const j=this._editor.getModel();!j||!je.ColorProviderRegistry.has(j)||(this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{this._timeoutTimer||(this._timeoutTimer=new he.TimeoutTimer,this._timeoutTimer.cancelAndSet((()=>{this._timeoutTimer=null,this.beginCompute()}),Ri.RECOMPUTE_TIME))}))),this.beginCompute())}beginCompute(){this._computePromise=(0,he.createCancelablePromise)((j=>{const te=this._editor.getModel();return te?(0,Ze.getColors)(te,j):Promise.resolve([])})),this._computePromise.then((j=>{this.updateDecorations(j),this.updateColorDecorators(j),this._computePromise=null}),Ce.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(j){const te=j.map((j=>({range:{startLineNumber:j.colorInfo.range.startLineNumber,startColumn:j.colorInfo.range.startColumn,endLineNumber:j.colorInfo.range.endLineNumber,endColumn:j.colorInfo.range.endColumn},options:Ke.ModelDecorationOptions.EMPTY})));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,te),this._colorDatas=new Map,this._decorationsIds.forEach(((te,he)=>this._colorDatas.set(te,j[he])))}updateColorDecorators(j){this._colorDecorationClassRefs.clear();let he=[];for(let Ce=0;Ce<j.length&&he.length<500;Ce++){const{red:ye,green:Ie,blue:Ne,alpha:Oe}=j[Ce].colorInfo.color,Ke=new ve.RGBA(Math.round(255*ye),Math.round(255*Ie),Math.round(255*Ne),Oe);let je=`rgba(${Ke.r}, ${Ke.g}, ${Ke.b}, ${Ke.a})`;const Ze=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:je}));he.push({range:{startLineNumber:j[Ce].colorInfo.range.startLineNumber,startColumn:j[Ce].colorInfo.range.startColumn,endLineNumber:j[Ce].colorInfo.range.endLineNumber,endColumn:j[Ce].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:Ee.noBreakWhitespace,inlineClassName:`${Ze.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:te.ColorDecorationInjectedTextMarker}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],he))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(j){const te=this._editor.getModel();if(!te)return null;const he=te.getDecorationsInRange(Oe.Range.fromPositions(j,j)).filter((j=>this._colorDatas.has(j.id)));return 0===he.length?null:this._colorDatas.get(he[0].id)}isColorDecorationId(j){return this._colorDecoratorIds.has(j)}};et.ID="editor.contrib.colorDetector",et.RECOMPUTE_TIME=1e3,et=Ci([Zi(1,Ye.IConfigurationService)],et),te.ColorDetector=et,(0,Ne.registerEditorContribution)(et.ID,et)})),define(Ce[710],ie([1,0,2,17,15,11,3,22,33,452,373]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){function g(j){return ve.isMacintosh?j.altKey:j.ctrlKey}Object.defineProperty(te,"__esModule",{value:!0}),te.DragAndDropController=void 0;class t extends he.Disposable{constructor(j){super(),this._editor=j,this._register(this._editor.onMouseDown((j=>this._onEditorMouseDown(j)))),this._register(this._editor.onMouseUp((j=>this._onEditorMouseUp(j)))),this._register(this._editor.onMouseDrag((j=>this._onEditorMouseDrag(j)))),this._register(this._editor.onMouseDrop((j=>this._onEditorMouseDrop(j)))),this._register(this._editor.onMouseDropCanceled((()=>this._onEditorMouseDropCanceled()))),this._register(this._editor.onKeyDown((j=>this.onEditorKeyDown(j)))),this._register(this._editor.onKeyUp((j=>this.onEditorKeyUp(j)))),this._register(this._editor.onDidBlurEditorWidget((()=>this.onEditorBlur()))),this._register(this._editor.onDidBlurEditorText((()=>this.onEditorBlur()))),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(j){!this._editor.getOption(31)||this._editor.getOption(18)||(g(j)&&(this._modifierPressed=!0),this._mouseDown&&g(j)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(j){!this._editor.getOption(31)||this._editor.getOption(18)||(g(j)&&(this._modifierPressed=!1),this._mouseDown&&j.keyCode===t.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(j){this._mouseDown=!0}_onEditorMouseUp(j){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(j){let te=j.target;if(null===this._dragSelection){let j=(this._editor.getSelections()||[]).filter((j=>te.position&&j.containsPosition(te.position)));if(1!==j.length)return;this._dragSelection=j[0]}g(j.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),te.position&&(this._dragSelection.containsPosition(te.position)?this._removeDecoration():this.showAt(te.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(j){if(j.target&&(this._hitContent(j.target)||this._hitMargin(j.target))&&j.target.position){let te=new ye.Position(j.target.position.lineNumber,j.target.position.column);if(null===this._dragSelection){let he=null;if(j.event.shiftKey){let j=this._editor.getSelection();if(j){const{selectionStartLineNumber:ve,selectionStartColumn:Ce}=j;he=[new Ie.Selection(ve,Ce,te.lineNumber,te.column)]}}else he=(this._editor.getSelections()||[]).map((j=>j.containsPosition(te)?new Ie.Selection(te.lineNumber,te.column,te.lineNumber,te.column):j));this._editor.setSelections(he||[],"mouse",3)}else(!this._dragSelection.containsPosition(te)||(g(j.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(te)||this._dragSelection.getStartPosition().equals(te)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(t.ID,new Oe.DragAndDropCommand(this._dragSelection,te,g(j.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(j){let te=[{range:new Ee.Range(j.lineNumber,j.column,j.lineNumber,j.column),options:t._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,te),this._editor.revealPosition(j,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(j){return 6===j.type||7===j.type}_hitMargin(j){return 2===j.type||3===j.type||4===j.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}te.DragAndDropController=t,t.ID="editor.contrib.dragAndDrop",t.TRIGGER_KEY_VALUE=ve.isMacintosh?6:5,t._DECORATION_OPTIONS=Ne.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,Ce.registerEditorContribution)(t.ID,t)})),define(Ce[711],ie([1,0,3,49,33,23,14]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.FindDecorations=void 0;class b{constructor(j){this._editor=j,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const j=this._findScopeDecorationIds.map((j=>this._editor.getModel().getDecorationRange(j))).filter((j=>!!j));if(j.length)return j}return null}getStartPosition(){return this._startPosition}setStartPosition(j){this._startPosition=j,this.setCurrentFindMatch(null)}_getDecorationIndex(j){const te=this._decorations.indexOf(j);return te>=0?te+1:1}getCurrentMatchesPosition(j){let te=this._editor.getModel().getDecorationsInRange(j);for(const j of te){const te=j.options;if(te===b._FIND_MATCH_DECORATION||te===b._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(j.id)}return 0}setCurrentFindMatch(j){let te=null,ve=0;if(j)for(let he=0,Ce=this._decorations.length;he<Ce;he++){let Ce=this._editor.getModel().getDecorationRange(this._decorations[he]);if(j.equalsRange(Ce)){te=this._decorations[he],ve=he+1;break}}return(null!==this._highlightedDecorationId||null!==te)&&this._editor.changeDecorations((j=>{if(null!==this._highlightedDecorationId&&(j.changeDecorationOptions(this._highlightedDecorationId,b._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==te&&(this._highlightedDecorationId=te,j.changeDecorationOptions(this._highlightedDecorationId,b._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(j.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==te){let ve=this._editor.getModel().getDecorationRange(te);if(ve.startLineNumber!==ve.endLineNumber&&1===ve.endColumn){let j=ve.endLineNumber-1,te=this._editor.getModel().getLineMaxColumn(j);ve=new he.Range(ve.startLineNumber,ve.startColumn,j,te)}this._rangeHighlightDecorationId=j.addDecoration(ve,b._RANGE_HIGHLIGHT_DECORATION)}})),ve}set(j,te){this._editor.changeDecorations((ve=>{let Ce=b._FIND_MATCH_DECORATION,ye=[];if(j.length>1e3){Ce=b._FIND_MATCH_NO_OVERVIEW_DECORATION;const te=this._editor.getModel().getLineCount(),ve=this._editor.getLayoutInfo().height/te,Ee=Math.max(2,Math.ceil(3/ve));let Ie=j[0].range.startLineNumber,Ne=j[0].range.endLineNumber;for(let te=1,ve=j.length;te<ve;te++){const ve=j[te].range;Ne+Ee>=ve.startLineNumber?ve.endLineNumber>Ne&&(Ne=ve.endLineNumber):(ye.push({range:new he.Range(Ie,1,Ne,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),Ie=ve.startLineNumber,Ne=ve.endLineNumber)}ye.push({range:new he.Range(Ie,1,Ne,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let Ee=new Array(j.length);for(let te=0,he=j.length;te<he;te++)Ee[te]={range:j[te].range,options:Ce};this._decorations=ve.deltaDecorations(this._decorations,Ee),this._overviewRulerApproximateDecorations=ve.deltaDecorations(this._overviewRulerApproximateDecorations,ye),this._rangeHighlightDecorationId&&(ve.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach((j=>ve.removeDecoration(j))),this._findScopeDecorationIds=[]),(null==te?void 0:te.length)&&(this._findScopeDecorationIds=te.map((j=>ve.addDecoration(j,b._FIND_SCOPE_DECORATION))))}))}matchBeforePosition(j){if(0===this._decorations.length)return null;for(let te=this._decorations.length-1;te>=0;te--){let he=this._decorations[te],ve=this._editor.getModel().getDecorationRange(he);if(ve&&!(ve.endLineNumber>j.lineNumber)){if(ve.endLineNumber<j.lineNumber)return ve;if(!(ve.endColumn>j.column))return ve}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(j){if(0===this._decorations.length)return null;for(let te=0,he=this._decorations.length;te<he;te++){let he=this._decorations[te],ve=this._editor.getModel().getDecorationRange(he);if(ve&&!(ve.startLineNumber<j.lineNumber)){if(ve.startLineNumber>j.lineNumber)return ve;if(!(ve.startColumn<j.column))return ve}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let j=[];return j=j.concat(this._decorations),j=j.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&j.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&j.push(this._rangeHighlightDecorationId),j}}te.FindDecorations=b,b._CURRENT_FIND_MATCH_DECORATION=Ce.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,Ee.themeColorFromId)(ye.overviewRulerFindMatchForeground),position:ve.OverviewRulerLane.Center},minimap:{color:(0,Ee.themeColorFromId)(ye.minimapFindMatch),position:ve.MinimapPosition.Inline}}),b._FIND_MATCH_DECORATION=Ce.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,Ee.themeColorFromId)(ye.overviewRulerFindMatchForeground),position:ve.OverviewRulerLane.Center},minimap:{color:(0,Ee.themeColorFromId)(ye.minimapFindMatch),position:ve.MinimapPosition.Inline}}),b._FIND_MATCH_NO_OVERVIEW_DECORATION=Ce.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),b._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Ce.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,Ee.themeColorFromId)(ye.overviewRulerFindMatchForeground),position:ve.OverviewRulerLane.Center}}),b._RANGE_HIGHLIGHT_DECORATION=Ce.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),b._FIND_SCOPE_DECORATION=Ce.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})})),define(Ce[163],ie([1,0,19,10,2,98,11,3,22,150,711,453,454,16]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){Object.defineProperty(te,"__esModule",{value:!0}),te.FindModelBoundToEditorModel=te.MATCHES_LIMIT=te.FIND_IDS=te.TogglePreserveCaseKeybinding=te.ToggleSearchScopeKeybinding=te.ToggleRegexKeybinding=te.ToggleWholeWordKeybinding=te.ToggleCaseSensitiveKeybinding=te.CONTEXT_REPLACE_INPUT_FOCUSED=te.CONTEXT_FIND_INPUT_FOCUSED=te.CONTEXT_FIND_WIDGET_NOT_VISIBLE=te.CONTEXT_FIND_WIDGET_VISIBLE=void 0,te.CONTEXT_FIND_WIDGET_VISIBLE=new Ye.RawContextKey("findWidgetVisible",!1),te.CONTEXT_FIND_WIDGET_NOT_VISIBLE=te.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),te.CONTEXT_FIND_INPUT_FOCUSED=new Ye.RawContextKey("findInputFocussed",!1),te.CONTEXT_REPLACE_INPUT_FOCUSED=new Ye.RawContextKey("replaceInputFocussed",!1),te.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},te.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},te.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},te.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},te.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},te.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},te.MATCHES_LIMIT=19999;class c{constructor(j,te){this._toDispose=new Ce.DisposableStore,this._editor=j,this._state=te,this._isDisposed=!1,this._startSearchingTimer=new ve.TimeoutTimer,this._decorations=new Ke.FindDecorations(j),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new ve.RunOnceScheduler((()=>this.research(!1)),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((j=>{(3===j.reason||5===j.reason||6===j.reason)&&this._decorations.setStartPosition(this._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((j=>{this._ignoreModelContentChanged||(j.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((j=>this._onStateChanged(j)))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,Ce.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(j){this._isDisposed||!this._editor.hasModel()||(j.searchString||j.isReplaceRevealed||j.isRegex||j.wholeWord||j.matchCase||j.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((()=>{j.searchScope?this.research(j.moveCursor,this._state.searchScope):this.research(j.moveCursor)}),240)):j.searchScope?this.research(j.moveCursor,this._state.searchScope):this.research(j.moveCursor))}static _getSearchRange(j,te){return te||j.getFullModelRange()}research(j,ve){let Ce=null;void 0!==ve?null!==ve&&(Ce=Array.isArray(ve)?ve:[ve]):Ce=this._decorations.getFindScopes(),null!==Ce&&(Ce=Ce.map((j=>{if(j.startLineNumber!==j.endLineNumber){let te=j.endLineNumber;return 1===j.endColumn&&(te-=1),new Ie.Range(j.startLineNumber,1,te,this._editor.getModel().getLineMaxColumn(te))}return j})));let ye=this._findMatches(Ce,!1,te.MATCHES_LIMIT);this._decorations.set(ye,Ce);const Ee=this._editor.getSelection();let Ne=this._decorations.getCurrentMatchesPosition(Ee);if(0===Ne&&ye.length>0){const j=(0,he.findFirstInSorted)(ye.map((j=>j.range)),(j=>Ie.Range.compareRangesUsingStarts(j,Ee)>=0));Ne=j>0?j-1+1:Ne}this._state.changeMatchInfo(Ne,this._decorations.getCount(),void 0),j&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let j=this._decorations.getFindScope();return j&&this._editor.revealRangeInCenterIfOutsideViewport(j,0),!0}return!1}_setCurrentFindMatch(j){let te=this._decorations.setCurrentFindMatch(j);this._state.changeMatchInfo(te,this._decorations.getCount(),j),this._editor.setSelection(j),this._editor.revealRangeInCenterIfOutsideViewport(j,0)}_prevSearchPosition(j){let te=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:he,column:ve}=j,Ce=this._editor.getModel();return te||1===ve?(1===he?he=Ce.getLineCount():he--,ve=Ce.getLineMaxColumn(he)):ve--,new Ee.Position(he,ve)}_moveToPrevMatch(j,he=!1){if(!this._state.canNavigateBack()){const te=this._decorations.matchAfterPosition(j);return void(te&&this._setCurrentFindMatch(te))}if(this._decorations.getCount()<te.MATCHES_LIMIT){let te=this._decorations.matchBeforePosition(j);return te&&te.isEmpty()&&te.getStartPosition().equals(j)&&(j=this._prevSearchPosition(j),te=this._decorations.matchBeforePosition(j)),void(te&&this._setCurrentFindMatch(te))}if(this._cannotFind())return;let ve=this._decorations.getFindScope(),Ce=c._getSearchRange(this._editor.getModel(),ve);Ce.getEndPosition().isBefore(j)&&(j=Ce.getEndPosition()),j.isBefore(Ce.getStartPosition())&&(j=Ce.getEndPosition());let{lineNumber:ye,column:Ie}=j,Ne=this._editor.getModel(),Oe=new Ee.Position(ye,Ie),Ke=Ne.findPreviousMatch(this._state.searchString,Oe,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(Ke&&Ke.range.isEmpty()&&Ke.range.getStartPosition().equals(Oe)&&(Oe=this._prevSearchPosition(Oe),Ke=Ne.findPreviousMatch(this._state.searchString,Oe,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),Ke){if(!he&&!Ce.containsRange(Ke.range))return this._moveToPrevMatch(Ke.range.getStartPosition(),!0);this._setCurrentFindMatch(Ke.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(j){let te=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:he,column:ve}=j,Ce=this._editor.getModel();return te||ve===Ce.getLineMaxColumn(he)?(he===Ce.getLineCount()?he=1:he++,ve=1):ve++,new Ee.Position(he,ve)}_moveToNextMatch(j){if(!this._state.canNavigateForward()){const te=this._decorations.matchBeforePosition(j);return void(te&&this._setCurrentFindMatch(te))}if(this._decorations.getCount()<te.MATCHES_LIMIT){let te=this._decorations.matchAfterPosition(j);return te&&te.isEmpty()&&te.getStartPosition().equals(j)&&(j=this._nextSearchPosition(j),te=this._decorations.matchAfterPosition(j)),void(te&&this._setCurrentFindMatch(te))}let he=this._getNextMatch(j,!1,!0);he&&this._setCurrentFindMatch(he.range)}_getNextMatch(j,te,he,ve=!1){if(this._cannotFind())return null;let Ce=this._decorations.getFindScope(),ye=c._getSearchRange(this._editor.getModel(),Ce);ye.getEndPosition().isBefore(j)&&(j=ye.getStartPosition()),j.isBefore(ye.getStartPosition())&&(j=ye.getStartPosition());let{lineNumber:Ie,column:Ne}=j,Oe=this._editor.getModel(),Ke=new Ee.Position(Ie,Ne),je=Oe.findNextMatch(this._state.searchString,Ke,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,te);return he&&je&&je.range.isEmpty()&&je.range.getStartPosition().equals(Ke)&&(Ke=this._nextSearchPosition(Ke),je=Oe.findNextMatch(this._state.searchString,Ke,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,te)),je?ve||ye.containsRange(je.range)?je:this._getNextMatch(je.range.getEndPosition(),te,he,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,Ze.parseReplaceString)(this._state.replaceString):Ze.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let j=this._getReplacePattern(),te=this._editor.getSelection(),he=this._getNextMatch(te.getStartPosition(),!0,!1);if(he)if(te.equalsRange(he.range)){let ve=j.buildReplaceString(he.matches,this._state.preserveCase),Ce=new ye.ReplaceCommand(te,ve);this._executeEditorCommand("replace",Ce),this._decorations.setStartPosition(new Ee.Position(te.startLineNumber,te.startColumn+ve.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(he.range)}_findMatches(j,te,he){const ve=(j||[null]).map((j=>c._getSearchRange(this._editor.getModel(),j)));return this._editor.getModel().findMatches(this._state.searchString,ve,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,te,he)}replaceAll(){if(!this._hasMatches())return;const j=this._decorations.getFindScopes();null===j&&this._state.matchesCount>=te.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(j),this.research(!1)}_largeReplaceAll(){const j=new Oe.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!j)return;let te=j.regex;if(!te.multiline){let j="mu";te.ignoreCase&&(j+="i"),te.global&&(j+="g"),te=new RegExp(te.source,j)}const he=this._editor.getModel(),ve=he.getValue(1),Ce=he.getFullModelRange(),Ee=this._getReplacePattern();let Ie;const Ne=this._state.preserveCase;Ie=Ee.hasReplacementPatterns||Ne?ve.replace(te,(function(){return Ee.buildReplaceString(arguments,Ne)})):ve.replace(te,Ee.buildReplaceString(null,Ne));let Ke=new ye.ReplaceCommandThatPreservesSelection(Ce,Ie,this._editor.getSelection());this._executeEditorCommand("replaceAll",Ke)}_regularReplaceAll(j){const te=this._getReplacePattern();let he=this._findMatches(j,te.hasReplacementPatterns||this._state.preserveCase,1073741824),ve=[];for(let j=0,Ce=he.length;j<Ce;j++)ve[j]=te.buildReplaceString(he[j].matches,this._state.preserveCase);let Ce=new je.ReplaceAllCommand(this._editor.getSelection(),he.map((j=>j.range)),ve);this._executeEditorCommand("replaceAll",Ce)}selectAllMatches(){if(!this._hasMatches())return;let j=this._decorations.getFindScopes(),te=this._findMatches(j,!1,1073741824).map((j=>new Ne.Selection(j.range.startLineNumber,j.range.startColumn,j.range.endLineNumber,j.range.endColumn))),he=this._editor.getSelection();for(let j=0,ve=te.length;j<ve;j++)if(te[j].equalsRange(he)){te=[he].concat(te.slice(0,j)).concat(te.slice(j+1));break}this._editor.setSelections(te)}_executeEditorCommand(j,te){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(j,te),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}te.FindModelBoundToEditorModel=c})),define(Ce[712],ie([1,0,7,264,60,10,163,23,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne){Object.defineProperty(te,"__esModule",{value:!0}),te.FindOptionsWidget=void 0;class h extends Ce.Widget{constructor(j,te,Ce,Ne){super(),this._hideSoon=this._register(new ye.RunOnceScheduler((()=>this._hide()),2e3)),this._isVisible=!1,this._editor=j,this._state=te,this._keybindingService=Ce,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const Oe=Ne.getColorTheme().getColor(Ie.inputActiveOptionBorder),Ke=Ne.getColorTheme().getColor(Ie.inputActiveOptionForeground),je=Ne.getColorTheme().getColor(Ie.inputActiveOptionBackground);this.caseSensitive=this._register(new ve.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(Ee.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:Oe,inputActiveOptionForeground:Ke,inputActiveOptionBackground:je})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange((()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)}))),this.wholeWords=this._register(new ve.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(Ee.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:Oe,inputActiveOptionForeground:Ke,inputActiveOptionBackground:je})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange((()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)}))),this.regex=this._register(new ve.RegexCheckbox({appendTitle:this._keybindingLabelFor(Ee.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:Oe,inputActiveOptionForeground:Ke,inputActiveOptionBackground:je})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange((()=>{this._state.change({isRegex:this.regex.checked},!1)}))),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange((j=>{let te=!1;j.isRegex&&(this.regex.checked=this._state.isRegex,te=!0),j.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,te=!0),j.matchCase&&(this.caseSensitive.checked=this._state.matchCase,te=!0),!this._state.isRevealed&&te&&this._revealTemporarily()}))),this._register(he.addDisposableNonBubblingMouseOutListener(this._domNode,(j=>this._onMouseOut()))),this._register(he.addDisposableListener(this._domNode,"mouseover",(j=>this._onMouseOver()))),this._applyTheme(Ne.getColorTheme()),this._register(Ne.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(j){let te=this._keybindingService.lookupKeybinding(j);return te?` (${te.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return h.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(j){let te={inputActiveOptionBorder:j.getColor(Ie.inputActiveOptionBorder),inputActiveOptionForeground:j.getColor(Ie.inputActiveOptionForeground),inputActiveOptionBackground:j.getColor(Ie.inputActiveOptionBackground)};this.caseSensitive.style(te),this.wholeWords.style(te),this.regex.style(te)}}te.FindOptionsWidget=h,h.ID="editor.contrib.findOptionsWidget",(0,Ne.registerThemingParticipant)(((j,te)=>{const he=j.getColor(Ie.editorWidgetBackground);he&&te.addRule(`.monaco-editor .findOptionsWidget { background-color: ${he}; }`);const ve=j.getColor(Ie.editorWidgetForeground);ve&&te.addRule(`.monaco-editor .findOptionsWidget { color: ${ve}; }`);const Ce=j.getColor(Ie.widgetShadow);Ce&&te.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${Ce}; }`);const ye=j.getColor(Ie.contrastBorder);ye&&te.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${ye}; }`)}))})),define(Ce[713],ie([1,0,4,2,3,163]),(function(j,te,he,ve,Ce,ye){function w(j,te){return 1===j||2!==j&&te}Object.defineProperty(te,"__esModule",{value:!0}),te.FindReplaceState=void 0;class b extends ve.Disposable{constructor(){super(),this._onFindReplaceStateChange=this._register(new he.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return w(this._isRegexOverride,this._isRegex)}get wholeWord(){return w(this._wholeWordOverride,this._wholeWord)}get matchCase(){return w(this._matchCaseOverride,this._matchCase)}get preserveCase(){return w(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(j,te,he){let ve={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},ye=!1;0===te&&(j=0),j>te&&(j=te),this._matchesPosition!==j&&(this._matchesPosition=j,ve.matchesPosition=!0,ye=!0),this._matchesCount!==te&&(this._matchesCount=te,ve.matchesCount=!0,ye=!0),void 0!==he&&(Ce.Range.equalsRange(this._currentMatch,he)||(this._currentMatch=he,ve.currentMatch=!0,ye=!0)),ye&&this._onFindReplaceStateChange.fire(ve)}change(j,te,he=!0){var ve;let ye={moveCursor:te,updateHistory:he,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},Ee=!1;const Ie=this.isRegex,Ne=this.wholeWord,Oe=this.matchCase,Ke=this.preserveCase;void 0!==j.searchString&&this._searchString!==j.searchString&&(this._searchString=j.searchString,ye.searchString=!0,Ee=!0),void 0!==j.replaceString&&this._replaceString!==j.replaceString&&(this._replaceString=j.replaceString,ye.replaceString=!0,Ee=!0),void 0!==j.isRevealed&&this._isRevealed!==j.isRevealed&&(this._isRevealed=j.isRevealed,ye.isRevealed=!0,Ee=!0),void 0!==j.isReplaceRevealed&&this._isReplaceRevealed!==j.isReplaceRevealed&&(this._isReplaceRevealed=j.isReplaceRevealed,ye.isReplaceRevealed=!0,Ee=!0),void 0!==j.isRegex&&(this._isRegex=j.isRegex),void 0!==j.wholeWord&&(this._wholeWord=j.wholeWord),void 0!==j.matchCase&&(this._matchCase=j.matchCase),void 0!==j.preserveCase&&(this._preserveCase=j.preserveCase),void 0!==j.searchScope&&((null===(ve=j.searchScope)||void 0===ve?void 0:ve.every((j=>{var te;return null===(te=this._searchScope)||void 0===te?void 0:te.some((te=>!Ce.Range.equalsRange(te,j)))})))||(this._searchScope=j.searchScope,ye.searchScope=!0,Ee=!0)),void 0!==j.loop&&this._loop!==j.loop&&(this._loop=j.loop,ye.loop=!0,Ee=!0),void 0!==j.isSearching&&this._isSearching!==j.isSearching&&(this._isSearching=j.isSearching,ye.isSearching=!0,Ee=!0),void 0!==j.filters&&(this._filters?this._filters.update(j.filters):this._filters=j.filters,ye.filters=!0,Ee=!0),this._isRegexOverride=void 0!==j.isRegexOverride?j.isRegexOverride:0,this._wholeWordOverride=void 0!==j.wholeWordOverride?j.wholeWordOverride:0,this._matchCaseOverride=void 0!==j.matchCaseOverride?j.matchCaseOverride:0,this._preserveCaseOverride=void 0!==j.preserveCaseOverride?j.preserveCaseOverride:0,Ie!==this.isRegex&&(Ee=!0,ye.isRegex=!0),Ne!==this.wholeWord&&(Ee=!0,ye.wholeWord=!0),Oe!==this.matchCase&&(Ee=!0,ye.matchCase=!0),Ke!==this.preserveCase&&(Ee=!0,ye.preserveCase=!0),Ee&&this._onFindReplaceStateChange.fire(ye)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=ye.MATCHES_LIMIT}}te.FindReplaceState=b})),define(Ce[714],ie([1,0,7,43,172,114,60,10,27,13,2,17,8,3,163,530,626,596,23,72,14,374]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt){Object.defineProperty(te,"__esModule",{value:!0}),te.SimpleButton=te.FindWidget=te.FindWidgetViewZone=te.NLS_NO_RESULTS=te.NLS_MATCHES_LOCATION=te.findNextMatchIcon=te.findPreviousMatchIcon=te.findReplaceAllIcon=te.findReplaceIcon=void 0;const pt=(0,ht.registerIcon)("find-selection",Ne.Codicon.selection,nt.localize(0,null)),ft=(0,ht.registerIcon)("find-collapsed",Ne.Codicon.chevronRight,nt.localize(1,null)),_t=(0,ht.registerIcon)("find-expanded",Ne.Codicon.chevronDown,nt.localize(2,null));te.findReplaceIcon=(0,ht.registerIcon)("find-replace",Ne.Codicon.replace,nt.localize(3,null)),te.findReplaceAllIcon=(0,ht.registerIcon)("find-replace-all",Ne.Codicon.replaceAll,nt.localize(4,null)),te.findPreviousMatchIcon=(0,ht.registerIcon)("find-previous-match",Ne.Codicon.arrowUp,nt.localize(5,null)),te.findNextMatchIcon=(0,ht.registerIcon)("find-next-match",Ne.Codicon.arrowDown,nt.localize(6,null));const Ct=nt.localize(7,null),bt=nt.localize(8,null),St=nt.localize(9,null),Dt=nt.localize(10,null),It=nt.localize(11,null),kt=nt.localize(12,null),At=nt.localize(13,null),Pt=nt.localize(14,null),Kt=nt.localize(15,null),Ut=nt.localize(16,null),jt=nt.localize(17,null),$t=nt.localize(18,null,et.MATCHES_LIMIT);te.NLS_MATCHES_LOCATION=nt.localize(19,null),te.NLS_NO_RESULTS=nt.localize(20,null);const qt=419;let Gt=69;const Zt="ctrlEnterReplaceAll.windows.donotask",Yt=je.isMacintosh?256:2048;class G{constructor(j){this.afterLineNumber=j,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function re(j,te,he){const ve=!!te.match(/\n/);he&&ve&&he.selectionStart>0&&j.stopPropagation()}function ae(j,te,he){const ve=!!te.match(/\n/);he&&ve&&he.selectionEnd<he.value.length&&j.stopPropagation()}te.FindWidgetViewZone=G;class oe extends Ee.Widget{constructor(j,te,ve,Ce,ye,Ee,Ne,Oe,je){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=j,this._controller=te,this._state=ve,this._contextViewProvider=Ce,this._keybindingService=ye,this._contextKeyService=Ee,this._storageService=Oe,this._notificationService=je,this._ctrlEnterReplaceAllWarningPrompted=!!Oe.getBoolean(Zt,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new Ie.Delayer(500),this._register((0,Ke.toDisposable)((()=>this._updateHistoryDelayer.cancel()))),this._register(this._state.onFindReplaceStateChange((j=>this._onStateChanged(j)))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration((j=>{if(j.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),j.hasChanged(131)&&this._tryUpdateWidgetWidth(),j.hasChanged(2)&&this.updateAccessibilitySupport(),j.hasChanged(35)){const j=this._codeEditor.getOption(35).addExtraSpaceOnTop;j&&!this._viewZone&&(this._viewZone=new G(0),this._showViewZone()),!j&&this._viewZone&&this._removeViewZone()}}))),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection((()=>{this._isVisible&&this._updateToggleSelectionFindButton()}))),this._register(this._codeEditor.onDidFocusEditorWidget((()=>fi(this,void 0,void 0,(function*(){if(this._isVisible){let j=yield this._controller.getGlobalBufferTerm();j&&j!==this._state.searchString&&(this._state.change({searchString:j},!1),this._findInput.select())}}))))),this._findInputFocused=et.CONTEXT_FIND_INPUT_FOCUSED.bindTo(Ee),this._findFocusTracker=this._register(he.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus((()=>{this._findInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._findFocusTracker.onDidBlur((()=>{this._findInputFocused.set(!1)}))),this._replaceInputFocused=et.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(Ee),this._replaceFocusTracker=this._register(he.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus((()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._replaceFocusTracker.onDidBlur((()=>{this._replaceInputFocused.set(!1)}))),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new G(0)),this._applyTheme(Ne.getColorTheme()),this._register(Ne.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel((()=>{!this._isVisible||(this._viewZoneId=void 0)}))),this._register(this._codeEditor.onDidScrollChange((j=>{j.scrollTopChanged?this._layoutViewZone():setTimeout((()=>{this._layoutViewZone()}),0)})))}getId(){return oe.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(j){if(j.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(j.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),j.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),j.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=he.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(j.isRevealed||j.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),j.isRegex&&this._findInput.setRegex(this._state.isRegex),j.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),j.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),j.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),j.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),j.searchString||j.matchesCount||j.matchesPosition){let j=this._state.searchString.length>0&&0===this._state.matchesCount;this._domNode.classList.toggle("no-results",j),this._updateMatchesCount(),this._updateButtons()}(j.searchString||j.currentMatch)&&this._layoutViewZone(),j.updateHistory&&this._delayedUpdateHistory(),j.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Oe.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let j;if(this._matchesCount.style.minWidth=Gt+"px",this._state.matchesCount>=et.MATCHES_LIMIT?this._matchesCount.title=$t:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let he=String(this._state.matchesCount);this._state.matchesCount>=et.MATCHES_LIMIT&&(he+="+");let ve=String(this._state.matchesPosition);"0"===ve&&(ve="?"),j=Ze.format(te.NLS_MATCHES_LOCATION,ve,he)}else j=te.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(j)),(0,ve.alert)(this._getAriaLabel(j,this._state.currentMatch,this._state.searchString)),Gt=Math.max(Gt,this._matchesCount.clientWidth)}_getAriaLabel(j,he,ve){if(j===te.NLS_NO_RESULTS)return""===ve?nt.localize(21,null,j):nt.localize(22,null,j,ve);if(he){const te=nt.localize(23,null,j,ve,he.startLineNumber+":"+he.startColumn),Ce=this._codeEditor.getModel();return Ce&&he.startLineNumber<=Ce.getLineCount()&&he.startLineNumber>=1?`${Ce.getLineContent(he.startLineNumber)}, ${te}`:te}return nt.localize(24,null,j,ve)}_updateToggleSelectionFindButton(){let j=this._codeEditor.getSelection(),te=!!j&&(j.startLineNumber!==j.endLineNumber||j.startColumn!==j.endColumn),he=this._toggleSelectionFind.checked;this._isVisible&&(he||te)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let j=this._state.searchString.length>0,te=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&j&&te&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&j&&te&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&j),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&j),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let he=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&he)}_reveal(){if(this._revealTimeouts.forEach((j=>{clearTimeout(j)})),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const j=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const te=!!j&&j.startLineNumber!==j.endLineNumber;this._toggleSelectionFind.checked=te;break}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout((()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")}),0)),this._revealTimeouts.push(setTimeout((()=>{this._findInput.validate()}),200)),this._codeEditor.layoutOverlayWidget(this);let te=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&j){const ve=this._codeEditor.getDomNode();if(ve){const Ce=he.getDomNodePagePosition(ve),ye=this._codeEditor.getScrolledVisiblePosition(j.getStartPosition()),Ee=Ce.left+(ye?ye.left:0),Ie=ye?ye.top:0;if(this._viewZone&&Ie<this._viewZone.heightInPx){j.endLineNumber>j.startLineNumber&&(te=!1);const ve=he.getTopLeftOffset(this._domNode).left;Ee>ve&&(te=!1);const ye=this._codeEditor.getScrolledVisiblePosition(j.getEndPosition());Ce.left+(ye?ye.left:0)>ve&&(te=!1)}}}this._showViewZone(te)}}_hide(j){this._revealTimeouts.forEach((j=>{clearTimeout(j)})),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),j&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(j){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const te=this._viewZone;void 0!==this._viewZoneId||!te||this._codeEditor.changeViewZones((he=>{te.heightInPx=this._getHeight(),this._viewZoneId=he.addZone(te),this._codeEditor.setScrollTop(j||this._codeEditor.getScrollTop()+te.heightInPx)}))}_showViewZone(j=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new G(0));const te=this._viewZone;this._codeEditor.changeViewZones((he=>{if(void 0!==this._viewZoneId){const ve=this._getHeight();if(ve===te.heightInPx)return;let Ce=ve-te.heightInPx;return te.heightInPx=ve,he.layoutZone(this._viewZoneId),void(j&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Ce))}{let ve=this._getHeight();if(ve-=this._codeEditor.getOption(75).top,ve<=0)return;te.heightInPx=ve,this._viewZoneId=he.addZone(te),j&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ve)}}))}_removeViewZone(){this._codeEditor.changeViewZones((j=>{void 0!==this._viewZoneId&&(j.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))}))}_applyTheme(j){let te={inputActiveOptionBorder:j.getColor(ct.inputActiveOptionBorder),inputActiveOptionBackground:j.getColor(ct.inputActiveOptionBackground),inputActiveOptionForeground:j.getColor(ct.inputActiveOptionForeground),inputBackground:j.getColor(ct.inputBackground),inputForeground:j.getColor(ct.inputForeground),inputBorder:j.getColor(ct.inputBorder),inputValidationInfoBackground:j.getColor(ct.inputValidationInfoBackground),inputValidationInfoForeground:j.getColor(ct.inputValidationInfoForeground),inputValidationInfoBorder:j.getColor(ct.inputValidationInfoBorder),inputValidationWarningBackground:j.getColor(ct.inputValidationWarningBackground),inputValidationWarningForeground:j.getColor(ct.inputValidationWarningForeground),inputValidationWarningBorder:j.getColor(ct.inputValidationWarningBorder),inputValidationErrorBackground:j.getColor(ct.inputValidationErrorBackground),inputValidationErrorForeground:j.getColor(ct.inputValidationErrorForeground),inputValidationErrorBorder:j.getColor(ct.inputValidationErrorBorder)};this._findInput.style(te),this._replaceInput.style(te),this._toggleSelectionFind.style(te)}_tryUpdateWidgetWidth(){if(!this._isVisible||!he.isInDOM(this._domNode))return;const j=this._codeEditor.getLayoutInfo();if(j.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const te=j.width,ve=j.minimap.minimapWidth;let Ce=!1,ye=!1,Ee=!1;if(this._resized&&he.getTotalWidth(this._domNode)>qt)return this._domNode.style.maxWidth=te-28-ve-15+"px",void(this._replaceInput.width=he.getTotalWidth(this._findInput.domNode));if(447+ve>=te&&(ye=!0),447+ve-Gt>=te&&(Ee=!0),447+ve-Gt>=te+50&&(Ce=!0),this._domNode.classList.toggle("collapsed-find-widget",Ce),this._domNode.classList.toggle("narrow-find-widget",Ee),this._domNode.classList.toggle("reduced-find-widget",ye),!Ee&&!Ce&&(this._domNode.style.maxWidth=te-28-ve-15+"px"),this._resized){this._findInput.inputBox.layout();let j=this._findInput.inputBox.element.clientWidth;j>0&&(this._replaceInput.width=j)}else this._isReplaceVisible&&(this._replaceInput.width=he.getTotalWidth(this._findInput.domNode))}_getHeight(){let j=0;return j+=4,j+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(j+=4,j+=this._replaceInput.inputBox.height+2),j+=4,j}_tryUpdateHeight(){const j=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==j)&&(this._cachedHeight=j,this._domNode.style.height=`${j}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let j=this._codeEditor.getSelections();j.map((j=>{1===j.endColumn&&j.endLineNumber>j.startLineNumber&&(j=j.setEndPosition(j.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(j.endLineNumber-1)));const te=this._state.currentMatch;return j.startLineNumber===j.endLineNumber||Ye.Range.equalsRange(j,te)?null:j})).filter((j=>!!j)),j.length&&this._state.change({searchScope:j},!0)}}_onFindInputMouseDown(j){j.middleButton&&j.stopPropagation()}_onFindInputKeyDown(j){return j.equals(3|Yt)?(this._keybindingService.dispatchEvent(j,j.target)||this._findInput.inputBox.insertAtCursor("\n"),void j.preventDefault()):j.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void j.preventDefault()):j.equals(2066)?(this._codeEditor.focus(),void j.preventDefault()):j.equals(16)?re(j,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):j.equals(18)?ae(j,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(j){return j.equals(3|Yt)?(this._keybindingService.dispatchEvent(j,j.target)||(je.isWindows&&je.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(nt.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Zt,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void j.preventDefault()):j.equals(2)?(this._findInput.focusOnCaseSensitive(),void j.preventDefault()):j.equals(1026)?(this._findInput.focus(),void j.preventDefault()):j.equals(2066)?(this._codeEditor.focus(),void j.preventDefault()):j.equals(16)?re(j,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):j.equals(18)?ae(j,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(j){return 0}_keybindingLabelFor(j){let te=this._keybindingService.lookupKeybinding(j);return te?` (${te.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new rt.ContextScopedFindInput(null,this._contextViewProvider,{width:221,label:Ct,placeholder:bt,appendCaseSensitiveLabel:this._keybindingLabelFor(et.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(et.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(et.FIND_IDS.ToggleRegexCommand),validation:j=>{if(0===j.length||!this._findInput.getRegex())return null;try{return new RegExp(j,"gu"),null}catch(j){return{content:j.message}}},flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118,showHistoryHint:()=>(0,at.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((j=>this._onFindInputKeyDown(j)))),this._register(this._findInput.inputBox.onDidChange((()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((j=>{j.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),j.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((j=>{j.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),j.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((j=>{this._tryUpdateHeight()&&this._showViewZone()}))),je.isLinux&&this._register(this._findInput.onMouseDown((j=>this._onFindInputMouseDown(j)))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Z({label:St+this._keybindingLabelFor(et.FIND_IDS.PreviousMatchFindAction),icon:te.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(et.FIND_IDS.PreviousMatchFindAction).run().then(void 0,Oe.onUnexpectedError)}})),this._nextBtn=this._register(new Z({label:Dt+this._keybindingLabelFor(et.FIND_IDS.NextMatchFindAction),icon:te.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(et.FIND_IDS.NextMatchFindAction).run().then(void 0,Oe.onUnexpectedError)}}));let j=document.createElement("div");j.className="find-part",j.appendChild(this._findInput.domNode);const ve=document.createElement("div");ve.className="find-actions",j.appendChild(ve),ve.appendChild(this._matchesCount),ve.appendChild(this._prevBtn.domNode),ve.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Ce.Checkbox({icon:pt,title:It+this._keybindingLabelFor(et.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange((()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let j=this._codeEditor.getSelections();j.map((j=>(1===j.endColumn&&j.endLineNumber>j.startLineNumber&&(j=j.setEndPosition(j.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(j.endLineNumber-1))),j.isEmpty()?null:j))).filter((j=>!!j)),j.length&&this._state.change({searchScope:j},!0)}}else this._state.change({searchScope:null},!0)}))),ve.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Z({label:kt+this._keybindingLabelFor(et.FIND_IDS.CloseFindWidgetCommand),icon:ht.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:j=>{j.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),j.preventDefault())}})),ve.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new rt.ContextScopedReplaceInput(null,void 0,{label:At,placeholder:Pt,appendPreserveCaseLabel:this._keybindingLabelFor(et.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118,showHistoryHint:()=>(0,at.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((j=>this._onReplaceInputKeyDown(j)))),this._register(this._replaceInput.inputBox.onDidChange((()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((j=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((j=>{j.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),j.preventDefault())}))),this._replaceBtn=this._register(new Z({label:Kt+this._keybindingLabelFor(et.FIND_IDS.ReplaceOneAction),icon:te.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:j=>{j.equals(1026)&&(this._closeBtn.focus(),j.preventDefault())}})),this._replaceAllBtn=this._register(new Z({label:Ut+this._keybindingLabelFor(et.FIND_IDS.ReplaceAllAction),icon:te.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let Ee=document.createElement("div");Ee.className="replace-part",Ee.appendChild(this._replaceInput.domNode);const Ie=document.createElement("div");Ie.className="replace-actions",Ee.appendChild(Ie),Ie.appendChild(this._replaceBtn.domNode),Ie.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Z({label:jt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=he.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(j),this._domNode.appendChild(Ee),this._resizeSash=new ye.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let Ne=qt;this._register(this._resizeSash.onDidStart((()=>{Ne=he.getTotalWidth(this._domNode)}))),this._register(this._resizeSash.onDidChange((j=>{this._resized=!0;let te=Ne+j.startX-j.currentX;if(te<qt)return;te>(parseFloat(he.getComputedStyle(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${te}px`,this._isReplaceVisible&&(this._replaceInput.width=he.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())}))),this._register(this._resizeSash.onDidReset((()=>{const j=he.getTotalWidth(this._domNode);if(j<qt)return;let te=qt;if(!this._resized||j===qt){const j=this._codeEditor.getLayoutInfo();te=j.width-28-j.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${te}px`,this._isReplaceVisible&&(this._replaceInput.width=he.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()})))}updateAccessibilitySupport(){const j=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==j)}}te.FindWidget=oe,oe.ID="editor.contrib.findWidget";class Z extends Ee.Widget{constructor(j){super(),this._opts=j;let te="button";this._opts.className&&(te=te+" "+this._opts.className),this._opts.icon&&(te=te+" "+mt.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=te,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,(j=>{this._opts.onTrigger(),j.preventDefault()})),this.onkeydown(this._domNode,(j=>{if(j.equals(10)||j.equals(3))return this._opts.onTrigger(),void j.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(j)}))}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(j){this._domNode.classList.toggle("disabled",!j),this._domNode.setAttribute("aria-disabled",String(!j)),this._domNode.tabIndex=j?0:-1}setExpanded(j){this._domNode.setAttribute("aria-expanded",String(!!j)),j?(this._domNode.classList.remove(...mt.ThemeIcon.asClassNameArray(ft)),this._domNode.classList.add(...mt.ThemeIcon.asClassNameArray(_t))):(this._domNode.classList.remove(...mt.ThemeIcon.asClassNameArray(_t)),this._domNode.classList.add(...mt.ThemeIcon.asClassNameArray(ft)))}}te.SimpleButton=Z,(0,mt.registerThemingParticipant)(((j,te)=>{const Q=(j,he)=>{he&&te.addRule(`.monaco-editor ${j} { background-color: ${he}; }`)};Q(".findMatch",j.getColor(ct.editorFindMatchHighlight)),Q(".currentFindMatch",j.getColor(ct.editorFindMatch)),Q(".findScope",j.getColor(ct.editorFindRangeHighlight));Q(".find-widget",j.getColor(ct.editorWidgetBackground));const he=j.getColor(ct.widgetShadow);he&&te.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${he}; }`);const ve=j.getColor(ct.editorFindMatchHighlightBorder);ve&&te.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===j.type?"dotted":"solid"} ${ve}; box-sizing: border-box; }`);const Ce=j.getColor(ct.editorFindMatchBorder);Ce&&te.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${Ce}; padding: 1px; box-sizing: border-box; }`);const ye=j.getColor(ct.editorFindRangeHighlightBorder);ye&&te.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===j.type?"dashed":"solid"} ${ye}; }`);const Ee=j.getColor(ct.contrastBorder);Ee&&te.addRule(`.monaco-editor .find-widget { border: 1px solid ${Ee}; }`);const Ie=j.getColor(ct.editorWidgetForeground);Ie&&te.addRule(`.monaco-editor .find-widget { color: ${Ie}; }`);const Ne=j.getColor(ct.errorForeground);Ne&&te.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${Ne}; }`);const Oe=j.getColor(ct.editorWidgetResizeBorder);if(Oe)te.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Oe}; }`);else{const he=j.getColor(ct.editorWidgetBorder);he&&te.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${he}; }`)}const Ke=j.getColor(ct.toolbarHoverBackground);Ke&&te.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${Ke} !important;\n\t\t}\n\t`);const je=j.getColor(ct.focusBorder);je&&te.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${je}; }`)}))})),define(Ce[294],ie([1,0,10,2,8,15,24,163,712,713,714,529,37,102,16,76,42,38,80,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht){Object.defineProperty(te,"__esModule",{value:!0}),te.StartFindReplaceAction=te.PreviousSelectionMatchFindAction=te.NextSelectionMatchFindAction=te.SelectionMatchFindAction=te.PreviousMatchFindAction=te.NextMatchFindAction=te.MatchFindAction=te.StartFindWithSelectionAction=te.StartFindWithArgsAction=te.StartFindAction=te.FindController=te.CommonFindController=te.getSelectionSearchString=void 0;function u(j,te="single",he=!1){if(!j.hasModel())return null;const ve=j.getSelection();if("single"===te&&ve.startLineNumber===ve.endLineNumber||"multiple"===te)if(ve.isEmpty()){const te=j.getConfiguredWordAtPosition(ve.getStartPosition());if(te&&!1===he)return te.word}else if(j.getModel().getValueLengthInRange(ve)<524288)return j.getModel().getValueInRange(ve);return null}te.getSelectionSearchString=u;let mt=class Pi extends ve.Disposable{constructor(j,te,ve,Ce){super(),this._editor=j,this._findWidgetVisible=Ie.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(te),this._contextKeyService=te,this._storageService=ve,this._clipboardService=Ce,this._updateHistoryDelayer=new he.Delayer(500),this._state=this._register(new Oe.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange((j=>this._onStateChanged(j)))),this._model=null,this._register(this._editor.onDidChangeModel((()=>{let j=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),j&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})})))}get editor(){return this._editor}static get(j){return j.getContribution(Pi.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(j){this.saveQueryState(j),j.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),j.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(j){j.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),j.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),j.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),j.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Ie.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let j=this._editor.getSelections();j.map((j=>(1===j.endColumn&&j.endLineNumber>j.startLineNumber&&(j=j.setEndPosition(j.endLineNumber-1,this._editor.getModel().getLineMaxColumn(j.endLineNumber-1))),j.isEmpty()?null:j))).filter((j=>!!j)),j.length&&this._state.change({searchScope:j},!0)}}setSearchString(j){this._state.isRegex&&(j=Ce.escapeRegExpCharacters(j)),this._state.change({searchString:j},!1)}highlightFindOptions(j=!1){}_start(j,te){return fi(this,void 0,void 0,(function*(){if(this.disposeModel(),!this._editor.hasModel())return;let he=Object.assign(Object.assign({},te),{isRevealed:!0});if("single"===j.seedSearchStringFromSelection){let te=u(this._editor,j.seedSearchStringFromSelection,j.seedSearchStringFromNonEmptySelection);te&&(this._state.isRegex?he.searchString=Ce.escapeRegExpCharacters(te):he.searchString=te)}else if("multiple"===j.seedSearchStringFromSelection&&!j.updateSearchScope){let te=u(this._editor,j.seedSearchStringFromSelection);te&&(he.searchString=te)}if(!he.searchString&&j.seedSearchStringFromGlobalClipboard){let j=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;j&&(he.searchString=j)}if(j.forceRevealReplace||he.isReplaceRevealed?he.isReplaceRevealed=!0:this._findWidgetVisible.get()||(he.isReplaceRevealed=!1),j.updateSearchScope){let j=this._editor.getSelections();j.some((j=>!j.isEmpty()))&&(he.searchScope=j)}he.loop=j.loop,this._state.change(he,!1),this._model||(this._model=new Ie.FindModelBoundToEditorModel(this._editor,this._state))}))}start(j,te){return this._start(j,te)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return fi(this,void 0,void 0,(function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}))}setGlobalBufferTerm(j){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(j)}};mt.ID="editor.contrib.findController",mt=Ci([Zi(1,et.IContextKeyService),Zi(2,ct.IStorageService),Zi(3,Ye.IClipboardService)],mt),te.CommonFindController=mt;let pt=class extends mt{constructor(j,te,he,ve,Ce,ye,Ee,Ie){super(j,he,Ee,Ie),this._contextViewService=te,this._keybindingService=ve,this._themeService=Ce,this._notificationService=ye,this._widget=null,this._findOptionsWidget=null}_start(j,te){const he=Object.create(null,{_start:{get:()=>super._start}});return fi(this,void 0,void 0,(function*(){this._widget||this._createFindWidget();const ve=this._editor.getSelection();let Ce=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":Ce=!0;break;case"never":Ce=!1;break;case"multiline":Ce=!!ve&&ve.startLineNumber!==ve.endLineNumber}j.updateSearchScope=j.updateSearchScope||Ce,yield he._start.call(this,j,te),this._widget&&(2===j.shouldFocus?this._widget.focusReplaceInput():1===j.shouldFocus&&this._widget.focusFindInput())}))}highlightFindOptions(j=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!j?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Ke.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new Ne.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};pt=Ci([Zi(1,nt.IContextViewService),Zi(2,et.IContextKeyService),Zi(3,rt.IKeybindingService),Zi(4,ht.IThemeService),Zi(5,at.INotificationService),Zi(6,ct.IStorageService),Zi(7,Ye.IClipboardService)],pt),te.FindController=pt,te.StartFindAction=(0,ye.registerMultiEditorAction)(new ye.MultiEditorAction({id:Ie.FIND_IDS.StartFindAction,label:je.localize(0,null),alias:"Find",precondition:et.ContextKeyExpr.or(Ee.EditorContextKeys.focus,et.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Ze.MenuId.MenubarEditMenu,group:"3_find",title:je.localize(1,null),order:1}})),te.StartFindAction.addImplementation(0,((j,te,he)=>{const ve=mt.get(te);return!!ve&&ve.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==te.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===te.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:te.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:te.getOption(35).loop})}));const ft={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:je.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:je.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:je.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:je.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class C extends ye.EditorAction{constructor(){super({id:Ie.FIND_IDS.StartFindWithArgs,label:je.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:ft})}run(j,te,he){return fi(this,void 0,void 0,(function*(){const j=mt.get(te);if(j){const ve=he?{searchString:he.searchString,replaceString:he.replaceString,isReplaceRevealed:void 0!==he.replaceString,isRegex:he.isRegex,wholeWord:he.matchWholeWord,matchCase:he.isCaseSensitive,preserveCase:he.preserveCase}:{};yield j.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===j.getState().searchString.length&&"never"!==te.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===te.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(null==he?void 0:he.findInSelection)||!1,loop:te.getOption(35).loop},ve),j.setGlobalBufferTerm(j.getState().searchString)}}))}}te.StartFindWithArgsAction=C;class _ extends ye.EditorAction{constructor(){super({id:Ie.FIND_IDS.StartFindWithSelection,label:je.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(j,te){return fi(this,void 0,void 0,(function*(){const j=mt.get(te);j&&(yield j.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:te.getOption(35).loop}),j.setGlobalBufferTerm(j.getState().searchString))}))}}te.StartFindWithSelectionAction=_;class L extends ye.EditorAction{run(j,te){return fi(this,void 0,void 0,(function*(){const j=mt.get(te);j&&!this._run(j)&&(yield j.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===j.getState().searchString.length&&"never"!==te.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===te.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:te.getOption(35).loop}),this._run(j))}))}}te.MatchFindAction=L;class E extends L{constructor(){super({id:Ie.FIND_IDS.NextMatchFindAction,label:je.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:Ee.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:et.ContextKeyExpr.and(Ee.EditorContextKeys.focus,Ie.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(j){return!!j.moveToNextMatch()&&(j.editor.pushUndoStop(),!0)}}te.NextMatchFindAction=E;class N extends L{constructor(){super({id:Ie.FIND_IDS.PreviousMatchFindAction,label:je.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:Ee.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:et.ContextKeyExpr.and(Ee.EditorContextKeys.focus,Ie.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(j){return j.moveToPrevMatch()}}te.PreviousMatchFindAction=N;class k extends ye.EditorAction{run(j,te){return fi(this,void 0,void 0,(function*(){const j=mt.get(te);if(!j)return;const he="selection"===te.getOption(35).seedSearchStringFromSelection;let ve=null;"never"!==te.getOption(35).seedSearchStringFromSelection&&(ve=u(te,"single",he)),ve&&j.setSearchString(ve),this._run(j)||(yield j.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==te.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:he,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:te.getOption(35).loop}),this._run(j))}))}}te.SelectionMatchFindAction=k;class M extends k{constructor(){super({id:Ie.FIND_IDS.NextSelectionMatchFindAction,label:je.localize(10,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:Ee.EditorContextKeys.focus,primary:2109,weight:100}})}_run(j){return j.moveToNextMatch()}}te.NextSelectionMatchFindAction=M;class O extends k{constructor(){super({id:Ie.FIND_IDS.PreviousSelectionMatchFindAction,label:je.localize(11,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:Ee.EditorContextKeys.focus,primary:3133,weight:100}})}_run(j){return j.moveToPrevMatch()}}te.PreviousSelectionMatchFindAction=O,te.StartFindReplaceAction=(0,ye.registerMultiEditorAction)(new ye.MultiEditorAction({id:Ie.FIND_IDS.StartFindReplaceAction,label:je.localize(12,null),alias:"Replace",precondition:et.ContextKeyExpr.or(Ee.EditorContextKeys.focus,et.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Ze.MenuId.MenubarEditMenu,group:"3_find",title:je.localize(13,null),order:2}})),te.StartFindReplaceAction.addImplementation(0,((j,te,he)=>{if(!te.hasModel()||te.getOption(81))return!1;const ve=mt.get(te);if(!ve)return!1;const Ce=te.getSelection(),ye=ve.isFindInputFocused(),Ee=!Ce.isEmpty()&&Ce.startLineNumber===Ce.endLineNumber&&"never"!==te.getOption(35).seedSearchStringFromSelection&&!ye,Ie=ye||Ee?2:1;return ve.start({forceRevealReplace:!0,seedSearchStringFromSelection:Ee?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===te.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==te.getOption(35).seedSearchStringFromSelection,shouldFocus:Ie,shouldAnimate:!0,updateSearchScope:!1,loop:te.getOption(35).loop})})),(0,ye.registerEditorContribution)(mt.ID,pt),(0,ye.registerEditorAction)(C),(0,ye.registerEditorAction)(_),(0,ye.registerEditorAction)(E),(0,ye.registerEditorAction)(N),(0,ye.registerEditorAction)(M),(0,ye.registerEditorAction)(O);const _t=ye.EditorCommand.bindToContribution(mt.get);(0,ye.registerEditorCommand)(new _t({id:Ie.FIND_IDS.CloseFindWidgetCommand,precondition:Ie.CONTEXT_FIND_WIDGET_VISIBLE,handler:j=>j.closeFindWidget(),kbOpts:{weight:105,kbExpr:et.ContextKeyExpr.and(Ee.EditorContextKeys.focus,et.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,ye.registerEditorCommand)(new _t({id:Ie.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:j=>j.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:Ee.EditorContextKeys.focus,primary:Ie.ToggleCaseSensitiveKeybinding.primary,mac:Ie.ToggleCaseSensitiveKeybinding.mac,win:Ie.ToggleCaseSensitiveKeybinding.win,linux:Ie.ToggleCaseSensitiveKeybinding.linux}})),(0,ye.registerEditorCommand)(new _t({id:Ie.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:j=>j.toggleWholeWords(),kbOpts:{weight:105,kbExpr:Ee.EditorContextKeys.focus,primary:Ie.ToggleWholeWordKeybinding.primary,mac:Ie.ToggleWholeWordKeybinding.mac,win:Ie.ToggleWholeWordKeybinding.win,linux:Ie.ToggleWholeWordKeybinding.linux}})),(0,ye.registerEditorCommand)(new _t({id:Ie.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:j=>j.toggleRegex(),kbOpts:{weight:105,kbExpr:Ee.EditorContextKeys.focus,primary:Ie.ToggleRegexKeybinding.primary,mac:Ie.ToggleRegexKeybinding.mac,win:Ie.ToggleRegexKeybinding.win,linux:Ie.ToggleRegexKeybinding.linux}})),(0,ye.registerEditorCommand)(new _t({id:Ie.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:j=>j.toggleSearchScope(),kbOpts:{weight:105,kbExpr:Ee.EditorContextKeys.focus,primary:Ie.ToggleSearchScopeKeybinding.primary,mac:Ie.ToggleSearchScopeKeybinding.mac,win:Ie.ToggleSearchScopeKeybinding.win,linux:Ie.ToggleSearchScopeKeybinding.linux}})),(0,ye.registerEditorCommand)(new _t({id:Ie.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:j=>j.togglePreserveCase(),kbOpts:{weight:105,kbExpr:Ee.EditorContextKeys.focus,primary:Ie.TogglePreserveCaseKeybinding.primary,mac:Ie.TogglePreserveCaseKeybinding.mac,win:Ie.TogglePreserveCaseKeybinding.win,linux:Ie.TogglePreserveCaseKeybinding.linux}})),(0,ye.registerEditorCommand)(new _t({id:Ie.FIND_IDS.ReplaceOneAction,precondition:Ie.CONTEXT_FIND_WIDGET_VISIBLE,handler:j=>j.replace(),kbOpts:{weight:105,kbExpr:Ee.EditorContextKeys.focus,primary:3094}})),(0,ye.registerEditorCommand)(new _t({id:Ie.FIND_IDS.ReplaceOneAction,precondition:Ie.CONTEXT_FIND_WIDGET_VISIBLE,handler:j=>j.replace(),kbOpts:{weight:105,kbExpr:et.ContextKeyExpr.and(Ee.EditorContextKeys.focus,Ie.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,ye.registerEditorCommand)(new _t({id:Ie.FIND_IDS.ReplaceAllAction,precondition:Ie.CONTEXT_FIND_WIDGET_VISIBLE,handler:j=>j.replaceAll(),kbOpts:{weight:105,kbExpr:Ee.EditorContextKeys.focus,primary:2563}})),(0,ye.registerEditorCommand)(new _t({id:Ie.FIND_IDS.ReplaceAllAction,precondition:Ie.CONTEXT_FIND_WIDGET_VISIBLE,handler:j=>j.replaceAll(),kbOpts:{weight:105,kbExpr:et.ContextKeyExpr.and(Ee.EditorContextKeys.focus,Ie.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,ye.registerEditorCommand)(new _t({id:Ie.FIND_IDS.SelectAllMatchesAction,precondition:Ie.CONTEXT_FIND_WIDGET_VISIBLE,handler:j=>j.selectAllMatches(),kbOpts:{weight:105,kbExpr:Ee.EditorContextKeys.focus,primary:515}}))})),define(Ce[715],ie([1,0,27,33,532,72,14]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.FoldingDecorationProvider=te.foldingCollapsedIcon=te.foldingExpandedIcon=void 0,te.foldingExpandedIcon=(0,ye.registerIcon)("folding-expanded",he.Codicon.chevronDown,(0,Ce.localize)(0,null)),te.foldingCollapsedIcon=(0,ye.registerIcon)("folding-collapsed",he.Codicon.chevronRight,(0,Ce.localize)(1,null));class b{constructor(j){this.editor=j,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(j,te){return te?b.HIDDEN_RANGE_DECORATION:j?this.showFoldingHighlights?b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:b.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:b.EXPANDED_VISUAL_DECORATION}deltaDecorations(j,te){return this.editor.deltaDecorations(j,te)}changeDecorations(j){return this.editor.changeDecorations(j)}}te.FoldingDecorationProvider=b,b.COLLAPSED_VISUAL_DECORATION=ve.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Ee.ThemeIcon.asClassName(te.foldingCollapsedIcon)}),b.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=ve.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Ee.ThemeIcon.asClassName(te.foldingCollapsedIcon)}),b.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=ve.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Ee.ThemeIcon.asClassName(te.foldingExpandedIcon)}),b.EXPANDED_VISUAL_DECORATION=ve.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Ee.ThemeIcon.asClassName(te.foldingExpandedIcon)}),b.HIDDEN_RANGE_DECORATION=ve.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})})),define(Ce[716],ie([1,0,10,13,55,2,8,20,143,15,24,18,32,455,456,457,458,531,16,23,14,715,255,38,74,92,65,375]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt,St){Object.defineProperty(te,"__esModule",{value:!0}),te.editorFoldForeground=te.foldBackgroundBackground=te.FoldingController=void 0;const Dt=new ct.RawContextKey("foldingEnabled",!1);let It=class Oi extends ye.Disposable{constructor(j,te,he,ve,Ce){super(),this.contextKeyService=te,this.languageConfigurationService=he,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new ye.DisposableStore),this.editor=j;const Ee=this.editor.getOptions();this._isEnabled=Ee.get(37),this._useFoldingProviders="indentation"!==Ee.get(38),this._unfoldOnClickAfterEndOfLine=Ee.get(42),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Ee.get(40),this._maxFoldingRegions=Ee.get(41),this.updateDebounceInfo=Ce.for(je.FoldingRangeProviderRegistry,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new pt.FoldingDecorationProvider(j),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===Ee.get(99),this.foldingDecorationProvider.showFoldingHighlights=Ee.get(39),this.foldingEnabled=Dt.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=j=>{this._tooManyRegionsNotified||(ve.notify({severity:Ct.default.Warning,sticky:!0,message:at.localize(0,null,j)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel((()=>this.onModelChanged()))),this._register(this.editor.onDidChangeConfiguration((j=>{if(j.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),j.hasChanged(41)&&(this._maxFoldingRegions=this.editor.getOptions().get(41),this._tooManyRegionsNotified=!1,this.onModelChanged()),j.hasChanged(99)||j.hasChanged(39)){const j=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===j.get(99),this.foldingDecorationProvider.showFoldingHighlights=j.get(39),this.triggerFoldingModelChanged()}j.hasChanged(38)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(38),this.onFoldingStrategyChanged()),j.hasChanged(42)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(42)),j.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))}))),this.onModelChanged()}static get(j){return j.getContribution(Oi.ID)}saveViewState(){let j=this.editor.getModel();if(!j||!this._isEnabled||j.isTooLargeForTokenization())return{};if(this.foldingModel){let te=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),he=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:te,lineCount:j.getLineCount(),provider:he,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(j){let te=this.editor.getModel();if(!te||!this._isEnabled||te.isTooLargeForTokenization()||!this.hiddenRangeModel||!j||j.lineCount!==te.getLineCount()||(this._currentModelHasFoldedImports=!!j.foldedImports,!j.collapsedRegions))return;(j.provider===ft.ID_SYNTAX_PROVIDER||j.provider===rt.ID_INIT_PROVIDER)&&(this.foldingStateMemento=j);const he=j.collapsedRegions;if(this.hiddenRangeModel.applyMemento(he)){const j=this.getFoldingModel();j&&j.then((j=>{if(j){this._restoringViewState=!0;try{j.applyMemento(he)}finally{this._restoringViewState=!1}}})).then(void 0,ve.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let j=this.editor.getModel();!this._isEnabled||!j||j.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new Ye.FoldingModel(j,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new et.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((j=>this.onHiddenRangesChanges(j)))),this.updateScheduler=new he.Delayer(this.updateDebounceInfo.get(j)),this.cursorChangedScheduler=new he.RunOnceScheduler((()=>this.revealCursor()),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(je.FoldingRangeProviderRegistry.onDidChange((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelContent((j=>this.onDidChangeModelContent(j)))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((()=>this.onCursorPositionChanged()))),this.localToDispose.add(this.editor.onMouseDown((j=>this.onEditorMouseDown(j)))),this.localToDispose.add(this.editor.onMouseUp((j=>this.onEditorMouseUp(j)))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(j){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new nt.IndentRangeProvider(j,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let te=je.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(0===te.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new rt.InitializingRangeProvider(j,this.foldingStateMemento.collapsedRegions,(()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()}),3e4);te.length>0&&(this.rangeProvider=new ft.SyntaxRangeProvider(j,te,(()=>this.triggerFoldingModelChanged()),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(j){var te;null===(te=this.hiddenRangeModel)||void 0===te||te.notifyChangeModelContent(j),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((()=>{const j=this.foldingModel;if(!j)return null;const te=new St.StopWatch(!0),ve=this.getRangeProvider(j.textModel);let Ce=this.foldingRegionPromise=(0,he.createCancelablePromise)((j=>ve.compute(j,this._notifyTooManyRegions)));return Ce.then((he=>{if(he&&Ce===this.foldingRegionPromise){let ve;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const j=he.setCollapsedAllOfType(je.FoldingRangeKind.Imports.value,!0);j&&(ve=Ne.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=j)}let Ce=this.editor.getSelections(),ye=Ce?Ce.map((j=>j.startLineNumber)):[];j.update(he,ye),ve&&ve.restore(this.editor);const Ee=this.updateDebounceInfo.update(j.textModel,te.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=Ee)}return j}))})).then(void 0,(j=>((0,ve.onUnexpectedError)(j),null))))}onHiddenRangesChanges(j){if(this.hiddenRangeModel&&j.length&&!this._restoringViewState){let j=this.editor.getSelections();j&&this.hiddenRangeModel.adjustSelections(j)&&this.editor.setSelections(j)}this.editor.setHiddenAreas(j)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const j=this.getFoldingModel();!j||j.then((j=>{if(j){let te=this.editor.getSelections();if(te&&te.length>0){let he=[];for(let ve of te){let te=ve.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(te)&&he.push(...j.getAllRegionsAtLine(te,(j=>j.isCollapsed&&te>j.startLineNumber)))}he.length&&(j.toggleCollapseState(he),this.reveal(te[0].getPosition()))}}})).then(void 0,ve.onUnexpectedError)}onEditorMouseDown(j){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!j.target||!j.target.range||!j.event.leftButton&&!j.event.middleButton)return;const te=j.target.range;let he=!1;switch(j.target.type){case 4:{const te=j.target.detail,ve=j.target.element.offsetLeft;if(te.offsetX-ve<5)return;he=!0;break}case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!j.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){let j=this.editor.getModel();if(j&&te.startColumn===j.getLineMaxColumn(te.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:te.startLineNumber,iconClicked:he}}onEditorMouseUp(j){const te=this.getFoldingModel();if(!te||!this.mouseDownInfo||!j.target)return;let he=this.mouseDownInfo.lineNumber,Ce=this.mouseDownInfo.iconClicked,ye=j.target.range;if(ye&&ye.startLineNumber===he){if(Ce){if(4!==j.target.type)return}else{let j=this.editor.getModel();if(!j||ye.startColumn!==j.getLineMaxColumn(he))return}te.then((te=>{if(te){let ve=te.getRegionAtLine(he);if(ve&&ve.startLineNumber===he){let ye=ve.isCollapsed;if(Ce||ye){let Ce=[];if(j.event.altKey){let K=j=>!j.containedBy(ve)&&!ve.containedBy(j),j=te.getRegionsInside(null,K);for(const te of j)te.isCollapsed&&Ce.push(te);0===Ce.length&&(Ce=j)}else{let he=j.event.middleButton||j.event.shiftKey;if(he)for(const j of te.getRegionsInside(ve))j.isCollapsed===ye&&Ce.push(j);(ye||!he||0===Ce.length)&&Ce.push(ve)}te.toggleCollapseState(Ce),this.reveal({lineNumber:he,column:1})}}}})).then(void 0,ve.onUnexpectedError)}}reveal(j){this.editor.revealPositionInCenterIfOutsideViewport(j,0)}};It.ID="editor.contrib.folding",It=Ci([Zi(1,ct.IContextKeyService),Zi(2,Ze.ILanguageConfigurationService),Zi(3,_t.INotificationService),Zi(4,bt.ILanguageFeatureDebounceService)],It),te.FoldingController=It;class N extends Oe.EditorAction{runEditorCommand(j,te,he){const ve=j.get(Ze.ILanguageConfigurationService),Ce=It.get(te);if(!Ce)return;const ye=Ce.getFoldingModel();return ye?(this.reportTelemetry(j,te),ye.then((j=>{if(j){this.invoke(Ce,j,te,he,ve);const ye=te.getSelection();ye&&Ce.reveal(ye.getStartPosition())}}))):void 0}getSelectedLines(j){let te=j.getSelections();return te?te.map((j=>j.startLineNumber)):[]}getLineNumbers(j,te){return j&&j.selectionLines?j.selectionLines.map((j=>j+1)):this.getSelectedLines(te)}run(j,te){}}function k(j){if(!Ie.isUndefined(j)){if(!Ie.isObject(j))return!1;const te=j;if(!Ie.isUndefined(te.levels)&&!Ie.isNumber(te.levels)||!Ie.isUndefined(te.direction)&&!Ie.isString(te.direction)||!Ie.isUndefined(te.selectionLines)&&(!Ie.isArray(te.selectionLines)||!te.selectionLines.every(Ie.isNumber)))return!1}return!0}class G extends N{getFoldingLevel(){return parseInt(this.id.substr(G.ID_PREFIX.length))}invoke(j,te,he){(0,Ye.setCollapseStateAtLevel)(te,this.getFoldingLevel(),!0,this.getSelectedLines(he))}}G.ID_PREFIX="editor.foldLevel",G.ID=j=>G.ID_PREFIX+j;(0,Oe.registerEditorContribution)(It.ID,It),(0,Oe.registerEditorAction)(class M extends N{constructor(){super({id:"editor.unfold",label:at.localize(1,null),alias:"Unfold",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:k,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(j,te,he,ve){let Ce=ve&&ve.levels||1,ye=this.getLineNumbers(ve,he);ve&&"up"===ve.direction?(0,Ye.setCollapseStateLevelsUp)(te,!1,Ce,ye):(0,Ye.setCollapseStateLevelsDown)(te,!1,Ce,ye)}}),(0,Oe.registerEditorAction)(class O extends N{constructor(){super({id:"editor.unfoldRecursively",label:at.localize(2,null),alias:"Unfold Recursively",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2137),weight:100}})}invoke(j,te,he,ve){(0,Ye.setCollapseStateLevelsDown)(te,!1,Number.MAX_VALUE,this.getSelectedLines(he))}}),(0,Oe.registerEditorAction)(class B extends N{constructor(){super({id:"editor.fold",label:at.localize(3,null),alias:"Fold",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:k,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(j,te,he,ve){let Ce=this.getLineNumbers(ve,he);const ye=ve&&ve.levels,Ee=ve&&ve.direction;"number"!=typeof ye&&"string"!=typeof Ee?(0,Ye.setCollapseStateUp)(te,!0,Ce):"up"===Ee?(0,Ye.setCollapseStateLevelsUp)(te,!0,ye||1,Ce):(0,Ye.setCollapseStateLevelsDown)(te,!0,ye||1,Ce)}}),(0,Oe.registerEditorAction)(class R extends N{constructor(){super({id:"editor.foldRecursively",label:at.localize(5,null),alias:"Fold Recursively",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2135),weight:100}})}invoke(j,te,he){let ve=this.getSelectedLines(he);(0,Ye.setCollapseStateLevelsDown)(te,!0,Number.MAX_VALUE,ve)}}),(0,Oe.registerEditorAction)(class q extends N{constructor(){super({id:"editor.foldAll",label:at.localize(11,null),alias:"Fold All",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2069),weight:100}})}invoke(j,te,he){(0,Ye.setCollapseStateLevelsDown)(te,!0)}}),(0,Oe.registerEditorAction)(class X extends N{constructor(){super({id:"editor.unfoldAll",label:at.localize(12,null),alias:"Unfold All",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2088),weight:100}})}invoke(j,te,he){(0,Ye.setCollapseStateLevelsDown)(te,!1)}}),(0,Oe.registerEditorAction)(class P extends N{constructor(){super({id:"editor.foldAllBlockComments",label:at.localize(6,null),alias:"Fold All Block Comments",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2133),weight:100}})}invoke(j,te,he,ve,Ce){if(te.regions.hasTypes())(0,Ye.setCollapseStateForType)(te,je.FoldingRangeKind.Comment.value,!0);else{const j=he.getModel();if(!j)return;const ve=Ce.getLanguageConfiguration(j.getLanguageId()).comments;if(ve&&ve.blockCommentStartToken){let j=new RegExp("^\\s*"+(0,Ee.escapeRegExpCharacters)(ve.blockCommentStartToken));(0,Ye.setCollapseStateForMatchingLines)(te,j,!0)}}}}),(0,Oe.registerEditorAction)(class F extends N{constructor(){super({id:"editor.foldAllMarkerRegions",label:at.localize(7,null),alias:"Fold All Regions",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2077),weight:100}})}invoke(j,te,he,ve,Ce){if(te.regions.hasTypes())(0,Ye.setCollapseStateForType)(te,je.FoldingRangeKind.Region.value,!0);else{const j=he.getModel();if(!j)return;const ve=Ce.getLanguageConfiguration(j.getLanguageId()).foldingRules;if(ve&&ve.markers&&ve.markers.start){let j=new RegExp(ve.markers.start);(0,Ye.setCollapseStateForMatchingLines)(te,j,!0)}}}}),(0,Oe.registerEditorAction)(class W extends N{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:at.localize(8,null),alias:"Unfold All Regions",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2078),weight:100}})}invoke(j,te,he,ve,Ce){if(te.regions.hasTypes())(0,Ye.setCollapseStateForType)(te,je.FoldingRangeKind.Region.value,!1);else{const j=he.getModel();if(!j)return;const ve=Ce.getLanguageConfiguration(j.getLanguageId()).foldingRules;if(ve&&ve.markers&&ve.markers.start){let j=new RegExp(ve.markers.start);(0,Ye.setCollapseStateForMatchingLines)(te,j,!1)}}}}),(0,Oe.registerEditorAction)(class A extends N{constructor(){super({id:"editor.foldAllExcept",label:at.localize(9,null),alias:"Fold All Regions Except Selected",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2131),weight:100}})}invoke(j,te,he){let ve=this.getSelectedLines(he);(0,Ye.setCollapseStateForRest)(te,!0,ve)}}),(0,Oe.registerEditorAction)(class H extends N{constructor(){super({id:"editor.unfoldAllExcept",label:at.localize(10,null),alias:"Unfold All Regions Except Selected",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2129),weight:100}})}invoke(j,te,he){let ve=this.getSelectedLines(he);(0,Ye.setCollapseStateForRest)(te,!1,ve)}}),(0,Oe.registerEditorAction)(class T extends N{constructor(){super({id:"editor.toggleFold",label:at.localize(4,null),alias:"Toggle Fold",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2090),weight:100}})}invoke(j,te,he){let ve=this.getSelectedLines(he);(0,Ye.toggleCollapseState)(te,1,ve)}}),(0,Oe.registerEditorAction)(class re extends N{constructor(){super({id:"editor.gotoParentFold",label:at.localize(13,null),alias:"Go to Parent Fold",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,weight:100}})}invoke(j,te,he){let ve=this.getSelectedLines(he);if(ve.length>0){let j=(0,Ye.getParentFoldLine)(ve[0],te);null!==j&&he.setSelection({startLineNumber:j,startColumn:1,endLineNumber:j,endColumn:1})}}}),(0,Oe.registerEditorAction)(class ae extends N{constructor(){super({id:"editor.gotoPreviousFold",label:at.localize(14,null),alias:"Go to Previous Folding Range",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,weight:100}})}invoke(j,te,he){let ve=this.getSelectedLines(he);if(ve.length>0){let j=(0,Ye.getPreviousFoldLine)(ve[0],te);null!==j&&he.setSelection({startLineNumber:j,startColumn:1,endLineNumber:j,endColumn:1})}}}),(0,Oe.registerEditorAction)(class oe extends N{constructor(){super({id:"editor.gotoNextFold",label:at.localize(15,null),alias:"Go to Next Folding Range",precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,weight:100}})}invoke(j,te,he){let ve=this.getSelectedLines(he);if(ve.length>0){let j=(0,Ye.getNextFoldLine)(ve[0],te);null!==j&&he.setSelection({startLineNumber:j,startColumn:1,endLineNumber:j,endColumn:1})}}});for(let j=1;j<=7;j++)(0,Oe.registerInstantiatedEditorAction)(new G({id:G.ID(j),label:at.localize(16,null,j),alias:`Fold Level ${j}`,precondition:Dt,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:(0,Ce.KeyChord)(2089,2048|21+j),weight:100}}));te.foldBackgroundBackground=(0,ht.registerColor)("editor.foldBackground",{light:(0,ht.transparent)(ht.editorSelectionBackground,.3),dark:(0,ht.transparent)(ht.editorSelectionBackground,.3),hc:null},at.localize(17,null),!0),te.editorFoldForeground=(0,ht.registerColor)("editorGutter.foldingControlForeground",{dark:ht.iconForeground,light:ht.iconForeground,hc:ht.iconForeground},at.localize(18,null)),(0,mt.registerThemingParticipant)(((j,he)=>{const ve=j.getColor(te.foldBackgroundBackground);ve&&he.addRule(`.monaco-editor .folded-background { background-color: ${ve}; }`);const Ce=j.getColor(te.editorFoldForeground);Ce&&he.addRule(`\n\t\t.monaco-editor .cldr${mt.ThemeIcon.asCSSSelector(pt.foldingExpandedIcon)},\n\t\t.monaco-editor .cldr${mt.ThemeIcon.asCSSSelector(pt.foldingCollapsedIcon)} {\n\t\t\tcolor: ${Ce} !important;\n\t\t}\n\t\t`)}))})),define(Ce[717],ie([1,0,10,21,29,2,3,272,293,451,652,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){Object.defineProperty(te,"__esModule",{value:!0}),te.ColorHoverParticipant=te.ColorHover=void 0;class i{constructor(j,te,he,ve){this.owner=j,this.range=te,this.model=he,this.provider=ve,this.forceShowAtRange=!0}isValidForHoverAnchor(j){return 1===j.type&&this.range.startColumn<=j.range.startColumn&&this.range.endColumn>=j.range.endColumn}}te.ColorHover=i;let Ze=class{constructor(j,te){this._editor=j,this._themeService=te}computeSync(j,te){return[]}computeAsync(j,te,ve){return he.AsyncIterableObject.fromPromise(this._computeAsync(j,te,ve))}_computeAsync(j,te,he){return fi(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return[];const j=Ne.ColorDetector.get(this._editor);if(!j)return[];for(const he of te){if(!j.isColorDecorationId(he.id))continue;const te=j.getColorData(he.range.getStartPosition());if(te)return[yield this._createColorHover(this._editor.getModel(),te.colorInfo,te.provider)]}return[]}))}_createColorHover(j,te,he){return fi(this,void 0,void 0,(function*(){const ye=j.getValueInRange(te.range),{red:Ne,green:Ke,blue:je,alpha:Ze}=te.color,Ye=new Ce.RGBA(Math.round(255*Ne),Math.round(255*Ke),Math.round(255*je),Ze),et=new Ce.Color(Ye),nt=yield(0,Ie.getColorPresentations)(j,te,he,ve.CancellationToken.None),rt=new Oe.ColorPickerModel(et,[],0);return rt.colorPresentations=nt||[],rt.guessColorPresentation(et,ye),new i(this,Ee.Range.lift(te.range),rt,he)}))}renderHoverParts(j,te){if(0===te.length||!this._editor.hasModel())return ye.Disposable.None;const he=new ye.DisposableStore,Ce=te[0],Ne=this._editor.getModel(),Oe=Ce.model,je=he.add(new Ke.ColorPickerWidget(j.fragment,Oe,this._editor.getOption(129),this._themeService));j.setColorPicker(je);let Ze=new Ee.Range(Ce.range.startLineNumber,Ce.range.startColumn,Ce.range.endLineNumber,Ce.range.endColumn);const S=()=>{let te,he;if(Oe.presentation.textEdit){te=[Oe.presentation.textEdit],he=new Ee.Range(Oe.presentation.textEdit.range.startLineNumber,Oe.presentation.textEdit.range.startColumn,Oe.presentation.textEdit.range.endLineNumber,Oe.presentation.textEdit.range.endColumn);const j=this._editor.getModel()._setTrackedRange(null,he,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",te),he=this._editor.getModel()._getTrackedRange(j)||he}else te=[{identifier:null,range:Ze,text:Oe.presentation.label,forceMoveMarkers:!1}],he=Ze.setEndPosition(Ze.endLineNumber,Ze.startColumn+Oe.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",te);Oe.presentation.additionalTextEdits&&(te=[...Oe.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",te),j.hide()),this._editor.pushUndoStop(),Ze=he},v=j=>(0,Ie.getColorPresentations)(Ne,{range:Ze,color:{red:j.rgba.r/255,green:j.rgba.g/255,blue:j.rgba.b/255,alpha:j.rgba.a}},Ce.provider,ve.CancellationToken.None).then((j=>{Oe.colorPresentations=j||[]}));return he.add(Oe.onColorFlushed((j=>{v(j).then(S)}))),he.add(Oe.onDidChangeColor(v)),he}};Ze=Ci([Zi(1,je.IThemeService)],Ze),te.ColorHoverParticipant=Ze})),define(Ce[718],ie([1,0,10,13,106,15,3,22,24,33,85,52,548,14,459]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et){Object.defineProperty(te,"__esModule",{value:!0});let nt=class Jt{constructor(j,te){this.decorationIds=[],this.editor=j,this.editorWorkerService=te}static get(j){return j.getContribution(Jt.ID)}dispose(){}run(j,te){this.currentRequest&&this.currentRequest.cancel();const ye=this.editor.getSelection(),Ne=this.editor.getModel();if(!Ne||!ye)return;let Oe=ye;if(Oe.startLineNumber!==Oe.endLineNumber)return;const Ke=new Ce.EditorState(this.editor,5),je=Ne.uri;return this.editorWorkerService.canNavigateValueSet(je)?(this.currentRequest=(0,he.createCancelablePromise)((j=>this.editorWorkerService.navigateValueSet(je,Oe,te))),this.currentRequest.then((te=>{if(!(te&&te.range&&te.value&&Ke.validate(this.editor)))return;let Ce=Ee.Range.lift(te.range),ye=te.range,Ne=te.value.length-(Oe.endColumn-Oe.startColumn);ye={startLineNumber:ye.startLineNumber,startColumn:ye.startColumn,endLineNumber:ye.endLineNumber,endColumn:ye.startColumn+te.value.length},Ne>1&&(Oe=new Ie.Selection(Oe.startLineNumber,Oe.startColumn,Oe.endLineNumber,Oe.endColumn+Ne-1));const je=new et.InPlaceReplaceCommand(Ce,Oe,te.value);this.editor.pushUndoStop(),this.editor.executeCommand(j,je),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:ye,options:Jt.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,he.timeout)(350),this.decorationRemover.then((()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]))).catch(ve.onUnexpectedError)})).catch(ve.onUnexpectedError)):Promise.resolve(void 0)}};nt.ID="editor.contrib.inPlaceReplaceController",nt.DECORATION=Oe.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),nt=Ci([Zi(1,Ke.IEditorWorkerService)],nt);class r extends ye.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:Ze.localize(0,null),alias:"Replace with Previous Value",precondition:Ne.EditorContextKeys.writable,kbOpts:{kbExpr:Ne.EditorContextKeys.editorTextFocus,primary:3154,weight:100}})}run(j,te){const he=nt.get(te);return he?he.run(this.id,!0):Promise.resolve(void 0)}}class s extends ye.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:Ze.localize(1,null),alias:"Replace with Next Value",precondition:Ne.EditorContextKeys.writable,kbOpts:{kbExpr:Ne.EditorContextKeys.editorTextFocus,primary:3156,weight:100}})}run(j,te){const he=nt.get(te);return he?he.run(this.id,!1):Promise.resolve(void 0)}}(0,ye.registerEditorContribution)(nt.ID,nt),(0,ye.registerEditorAction)(r),(0,ye.registerEditorAction)(s),(0,Ye.registerThemingParticipant)(((j,te)=>{const he=j.getColor(je.editorBracketMatchBorder);he&&te.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${he}; }`)}))})),define(Ce[719],ie([1,0,2,8,15,197,61,3,22,24,33,32,45,258,549,78]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt){function r(j,te,he,Ce,Ie){if(1===j.getLineCount()&&1===j.getLineMaxColumn(1))return[];const Oe=te.getLanguageConfiguration(j.getLanguageId()).indentationRules;if(!Oe)return[];for(Ce=Math.min(Ce,j.getLineCount());he<=Ce&&Oe.unIndentedLinePattern;){let te=j.getLineContent(he);if(!Oe.unIndentedLinePattern.test(te))break;he++}if(he>Ce-1)return[];const{tabSize:je,indentSize:Ze,insertSpaces:Ye}=j.getOptions(),A=(j,te)=>(te=te||1,ye.ShiftCommand.shiftIndent(j,j.length+te,je,Ze,Ye)),H=(j,te)=>(te=te||1,ye.ShiftCommand.unshiftIndent(j,j.length+te,je,Ze,Ye));let et,nt=[],rt=j.getLineContent(he),at=rt;if(null!=Ie){et=Ie;let j=ve.getLeadingWhitespace(rt);at=et+rt.substring(j.length),Oe.decreaseIndentPattern&&Oe.decreaseIndentPattern.test(at)&&(et=H(et),at=et+rt.substring(j.length)),rt!==at&&nt.push(Ee.EditOperation.replaceMove(new Ne.Selection(he,1,he,j.length+1),Ke.TextModel.normalizeIndentation(et,Ze,Ye)))}else et=ve.getLeadingWhitespace(rt);let ct=et;Oe.increaseIndentPattern&&Oe.increaseIndentPattern.test(at)?(ct=A(ct),et=A(et)):Oe.indentNextLinePattern&&Oe.indentNextLinePattern.test(at)&&(ct=A(ct));for(let te=++he;te<=Ce;te++){let he=j.getLineContent(te),Ce=ve.getLeadingWhitespace(he),ye=ct+he.substring(Ce.length);Oe.decreaseIndentPattern&&Oe.decreaseIndentPattern.test(ye)&&(ct=H(ct),et=H(et)),Ce!==ct&&nt.push(Ee.EditOperation.replaceMove(new Ne.Selection(te,1,te,Ce.length+1),Ke.TextModel.normalizeIndentation(ct,Ze,Ye))),(!Oe.unIndentedLinePattern||!Oe.unIndentedLinePattern.test(he))&&(Oe.increaseIndentPattern&&Oe.increaseIndentPattern.test(ye)?(et=A(et),ct=et):ct=Oe.indentNextLinePattern&&Oe.indentNextLinePattern.test(ye)?A(ct):et)}return nt}Object.defineProperty(te,"__esModule",{value:!0}),te.IndentationToTabsCommand=te.IndentationToSpacesCommand=te.AutoIndentOnPaste=te.AutoIndentOnPasteCommand=te.ReindentSelectedLinesAction=te.ReindentLinesAction=te.DetectIndentation=te.IndentUsingSpaces=te.IndentUsingTabs=te.ChangeIndentationSizeAction=te.IndentationToTabsAction=te.IndentationToSpacesAction=te.getReindentEditOperations=void 0,te.getReindentEditOperations=r;class s extends Ce.EditorAction{constructor(){super({id:s.ID,label:et.localize(0,null),alias:"Convert Indentation to Spaces",precondition:Oe.EditorContextKeys.writable})}run(j,te){let he=te.getModel();if(!he)return;let ve=he.getOptions(),Ce=te.getSelection();if(!Ce)return;const ye=new E(Ce,ve.tabSize);te.pushUndoStop(),te.executeCommands(this.id,[ye]),te.pushUndoStop(),he.updateOptions({insertSpaces:!0})}}te.IndentationToSpacesAction=s,s.ID="editor.action.indentationToSpaces";class o extends Ce.EditorAction{constructor(){super({id:o.ID,label:et.localize(1,null),alias:"Convert Indentation to Tabs",precondition:Oe.EditorContextKeys.writable})}run(j,te){let he=te.getModel();if(!he)return;let ve=he.getOptions(),Ce=te.getSelection();if(!Ce)return;const ye=new N(Ce,ve.tabSize);te.pushUndoStop(),te.executeCommands(this.id,[ye]),te.pushUndoStop(),he.updateOptions({insertSpaces:!1})}}te.IndentationToTabsAction=o,o.ID="editor.action.indentationToTabs";class a extends Ce.EditorAction{constructor(j,te){super(te),this.insertSpaces=j}run(j,te){const he=j.get(nt.IQuickInputService),ve=j.get(Ze.IModelService);let Ce=te.getModel();if(!Ce)return;const ye=ve.getCreationOptions(Ce.getLanguageId(),Ce.uri,Ce.isForSimpleWidget),Ee=[1,2,3,4,5,6,7,8].map((j=>({id:j.toString(),label:j.toString(),description:j===ye.tabSize?et.localize(2,null):void 0}))),Ie=Math.min(Ce.getOptions().tabSize-1,7);setTimeout((()=>{he.pick(Ee,{placeHolder:et.localize(3,null),activeItem:Ee[Ie]}).then((j=>{j&&Ce&&!Ce.isDisposed()&&Ce.updateOptions({tabSize:parseInt(j.label,10),insertSpaces:this.insertSpaces})}))}),50)}}te.ChangeIndentationSizeAction=a;class d extends a{constructor(){super(!1,{id:d.ID,label:et.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}te.IndentUsingTabs=d,d.ID="editor.action.indentUsingTabs";class u extends a{constructor(){super(!0,{id:u.ID,label:et.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}te.IndentUsingSpaces=u,u.ID="editor.action.indentUsingSpaces";class f extends Ce.EditorAction{constructor(){super({id:f.ID,label:et.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(j,te){const he=j.get(Ze.IModelService);let ve=te.getModel();if(!ve)return;const Ce=he.getCreationOptions(ve.getLanguageId(),ve.uri,ve.isForSimpleWidget);ve.detectIndentation(Ce.insertSpaces,Ce.tabSize)}}te.DetectIndentation=f,f.ID="editor.action.detectIndentation";class S extends Ce.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:et.localize(7,null),alias:"Reindent Lines",precondition:Oe.EditorContextKeys.writable})}run(j,te){const he=j.get(je.ILanguageConfigurationService);let ve=te.getModel();if(!ve)return;let Ce=r(ve,he,1,ve.getLineCount());Ce.length>0&&(te.pushUndoStop(),te.executeEdits(this.id,Ce),te.pushUndoStop())}}te.ReindentLinesAction=S;class v extends Ce.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:et.localize(8,null),alias:"Reindent Selected Lines",precondition:Oe.EditorContextKeys.writable})}run(j,te){const he=j.get(je.ILanguageConfigurationService);let ve=te.getModel();if(!ve)return;let Ce=te.getSelections();if(null===Ce)return;let ye=[];for(let j of Ce){let te=j.startLineNumber,Ce=j.endLineNumber;if(te!==Ce&&1===j.endColumn&&Ce--,1===te){if(te===Ce)continue}else te--;let Ee=r(ve,he,te,Ce);ye.push(...Ee)}ye.length>0&&(te.pushUndoStop(),te.executeEdits(this.id,ye),te.pushUndoStop())}}te.ReindentSelectedLinesAction=v;class C{constructor(j,te){this._initialSelection=te,this._edits=[],this._selectionId=null;for(let te of j)te.range&&"string"==typeof te.text&&this._edits.push(te)}getEditOperations(j,te){for(let j of this._edits)te.addEditOperation(Ie.Range.lift(j.range),j.text);let he=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(he=!0,this._selectionId=te.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(he=!0,this._selectionId=te.trackSelection(this._initialSelection,!1))),he||(this._selectionId=te.trackSelection(this._initialSelection))}computeCursorState(j,te){return te.getTrackedSelection(this._selectionId)}}te.AutoIndentOnPasteCommand=C;class _{constructor(j){this.callOnDispose=new he.DisposableStore,this.callOnModel=new he.DisposableStore,this.editor=j,this.callOnDispose.add(j.onDidChangeConfiguration((()=>this.update()))),this.callOnDispose.add(j.onDidChangeModel((()=>this.update()))),this.callOnDispose.add(j.onDidChangeModelLanguage((()=>this.update())))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(48))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste((({range:j})=>{this.trigger(j)}))))}trigger(j){let te=this.editor.getSelections();if(null===te||te.length>1)return;const he=this.editor.getModel();if(!he||!he.isCheapToTokenize(j.getStartPosition().lineNumber))return;const Ce=this.editor.getOption(9),{tabSize:Ee,indentSize:Ne,insertSpaces:Oe}=he.getOptions();let Ke=[],Ze={shiftIndent:j=>ye.ShiftCommand.shiftIndent(j,j.length+1,Ee,Ne,Oe),unshiftIndent:j=>ye.ShiftCommand.unshiftIndent(j,j.length+1,Ee,Ne,Oe)},et=j.startLineNumber;for(;et<=j.endLineNumber&&this.shouldIgnoreLine(he,et);)et++;if(et>j.endLineNumber)return;let nt=he.getLineContent(et);if(!/\S/.test(nt.substring(0,j.startColumn-1))){const j=je.LanguageConfigurationRegistry.getGoodIndentForLine(Ce,he,he.getLanguageId(),et,Ze);if(null!==j){let te=ve.getLeadingWhitespace(nt),Ce=Ye.getSpaceCnt(j,Ee);if(Ce!==Ye.getSpaceCnt(te,Ee)){let j=Ye.generateIndent(Ce,Ee,Oe);Ke.push({range:new Ie.Range(et,1,et,te.length+1),text:j}),nt=j+nt.substr(te.length)}else{let j=je.LanguageConfigurationRegistry.getIndentMetadata(he,et);if(0===j||8===j)return}}}const rt=et;for(;et<j.endLineNumber&&!/\S/.test(he.getLineContent(et+1));)et++;if(et!==j.endLineNumber){let te={getLineTokens:j=>he.getLineTokens(j),getLanguageId:()=>he.getLanguageId(),getLanguageIdAtPosition:(j,te)=>he.getLanguageIdAtPosition(j,te),getLineContent:j=>j===rt?nt:he.getLineContent(j)},ye=je.LanguageConfigurationRegistry.getGoodIndentForLine(Ce,te,he.getLanguageId(),et+1,Ze);if(null!==ye){let te=Ye.getSpaceCnt(ye,Ee),Ce=Ye.getSpaceCnt(ve.getLeadingWhitespace(he.getLineContent(et+1)),Ee);if(te!==Ce){let ye=te-Ce;for(let te=et+1;te<=j.endLineNumber;te++){let j=he.getLineContent(te),Ce=ve.getLeadingWhitespace(j),Ne=Ye.getSpaceCnt(Ce,Ee)+ye,je=Ye.generateIndent(Ne,Ee,Oe);je!==Ce&&Ke.push({range:new Ie.Range(te,1,te,Ce.length+1),text:je})}}}}if(Ke.length>0){this.editor.pushUndoStop();let j=new C(Ke,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",j),this.editor.pushUndoStop()}}shouldIgnoreLine(j,te){j.forceTokenization(te);let he=j.getLineFirstNonWhitespaceColumn(te);if(0===he)return!0;let ve=j.getLineTokens(te);if(ve.getCount()>0){let j=ve.findTokenIndexAtOffset(he);if(j>=0&&1===ve.getStandardTokenType(j))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}function L(j,te,he,ve){if(1===j.getLineCount()&&1===j.getLineMaxColumn(1))return;let Ce="";for(let j=0;j<he;j++)Ce+=" ";let ye=new RegExp(Ce,"gi");for(let he=1,Ee=j.getLineCount();he<=Ee;he++){let Ee=j.getLineFirstNonWhitespaceColumn(he);if(0===Ee&&(Ee=j.getLineMaxColumn(he)),1===Ee)continue;const Ne=new Ie.Range(he,1,he,Ee),Oe=j.getValueInRange(Ne),Ke=ve?Oe.replace(/\t/gi,Ce):Oe.replace(ye,"\t");te.addEditOperation(Ne,Ke)}}te.AutoIndentOnPaste=_,_.ID="editor.contrib.autoIndentOnPaste";class E{constructor(j,te){this.selection=j,this.tabSize=te,this.selectionId=null}getEditOperations(j,te){this.selectionId=te.trackSelection(this.selection),L(j,te,this.tabSize,!0)}computeCursorState(j,te){return te.getTrackedSelection(this.selectionId)}}te.IndentationToSpacesCommand=E;class N{constructor(j,te){this.selection=j,this.tabSize=te,this.selectionId=null}getEditOperations(j,te){this.selectionId=te.trackSelection(this.selection),L(j,te,this.tabSize,!1)}computeCursorState(j,te){return te.getTrackedSelection(this.selectionId)}}te.IndentationToTabsCommand=N,(0,Ce.registerEditorContribution)(_.ID,_),(0,Ce.registerEditorAction)(s),(0,Ce.registerEditorAction)(o),(0,Ce.registerEditorAction)(d),(0,Ce.registerEditorAction)(u),(0,Ce.registerEditorAction)(f),(0,Ce.registerEditorAction)(S),(0,Ce.registerEditorAction)(v)})),define(Ce[207],ie([1,0,10,21,13,4,2,8,160,61,3,18,188,26,259,189,32,428]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at){Object.defineProperty(te,"__esModule",{value:!0}),te.minimizeInlineCompletion=te.provideInlineCompletions=te.SynchronizedInlineCompletionsCache=te.UpdateOperation=te.InlineCompletionsSession=te.InlineCompletionsModel=void 0;let ct=class extends Ee.Disposable{constructor(j,te,he,ve){super(),this.editor=j,this.cache=te,this.commandService=he,this.languageConfigurationService=ve,this.onDidChangeEmitter=new ye.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new Ee.MutableDisposable),this.active=!1,this.disposed=!1,this._register(he.onDidExecuteCommand((te=>{new Set([Ne.CoreEditingCommands.Tab.id,Ne.CoreEditingCommands.DeleteLeft.id,Ne.CoreEditingCommands.DeleteRight.id,et.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(te.commandId)&&j.hasTextFocus()&&this.handleUserInput()}))),this._register(this.editor.onDidType((j=>{this.handleUserInput()}))),this._register(this.editor.onDidChangeCursorPosition((j=>{this.session&&!this.session.isValid&&this.hide()}))),this._register((0,Ee.toDisposable)((()=>{this.disposed=!0}))),this._register(this.editor.onDidBlurEditorWidget((()=>{this.hide()})))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout((()=>{this.disposed||this.startSessionIfTriggered()}),0)}get session(){return this.completionSession.value}get ghostText(){var j;return null===(j=this.session)||void 0===j?void 0:j.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(j){var te;null===(te=this.session)||void 0===te||te.setExpanded(j)}setActive(j){var te;this.active=j,j&&(null===(te=this.session)||void 0===te||te.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(55).enabled||this.session&&this.session.isValid||this.trigger(je.InlineCompletionTriggerKind.Automatic)}trigger(j){this.completionSession.value?j===je.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new a(this.editor,this.editor.getPosition(),(()=>this.active),this.commandService,this.cache,j,this.languageConfigurationService),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange((()=>{this.onDidChangeEmitter.fire()}))))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var j;null===(j=this.session)||void 0===j||j.commitCurrentCompletion()}showNext(){var j;null===(j=this.session)||void 0===j||j.showNextInlineCompletion()}showPrevious(){var j;null===(j=this.session)||void 0===j||j.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var j;return fi(this,void 0,void 0,(function*(){const te=yield null===(j=this.session)||void 0===j?void 0:j.hasMultipleInlineCompletions();return void 0!==te&&te}))}};ct=Ci([Zi(2,Ye.ICommandService),Zi(3,rt.ILanguageConfigurationService)],ct),te.InlineCompletionsModel=ct;class a extends Ze.BaseGhostTextWidgetModel{constructor(j,te,ve,Ce,ye,Ie,Ne){let Oe;super(j),this.triggerPosition=te,this.shouldUpdate=ve,this.commandService=Ce,this.cache=ye,this.initialTriggerKind=Ie,this.languageConfigurationService=Ne,this.minReservedLineCount=0,this.updateOperation=this._register(new Ee.MutableDisposable),this.updateSoon=this._register(new he.RunOnceScheduler((()=>{let j=this.initialTriggerKind;return this.initialTriggerKind=je.InlineCompletionTriggerKind.Automatic,this.update(j)}),50)),this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange((()=>{const j=this.currentCompletion;if(j&&j.sourceInlineCompletion!==Oe){Oe=j.sourceInlineCompletion;const te=j.sourceProvider;te.handleItemDidShow&&te.handleItemDidShow(j.sourceInlineCompletions,Oe)}}))),this._register((0,Ee.toDisposable)((()=>{this.cache.clear()}))),this._register(this.editor.onDidChangeCursorPosition((j=>{this.cache.value&&this.onDidChangeEmitter.fire()}))),this._register(this.editor.onDidChangeModelContent((j=>{this.scheduleAutomaticUpdate()}))),this._register(je.InlineCompletionsProviderRegistry.onDidChange((()=>{this.updateSoon.schedule()}))),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||0===this.cache.value.completions.length)return 0;const j=this.cache.value.completions.findIndex((j=>j.semanticId===this.currentlySelectedCompletionId));return-1===j?(this.currentlySelectedCompletionId=void 0,0):j}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var j;return fi(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const te=(null===(j=this.cache.value)||void 0===j?void 0:j.completions)||[];if(te.length>0){const j=(this.fixAndGetIndexOfCurrentSelection()+1)%te.length;this.currentlySelectedCompletionId=te[j].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}showPreviousInlineCompletion(){var j;return fi(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const te=(null===(j=this.cache.value)||void 0===j?void 0:j.completions)||[];if(te.length>0){const j=(this.fixAndGetIndexOfCurrentSelection()+te.length-1)%te.length;this.currentlySelectedCompletionId=te[j].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}ensureUpdateWithExplicitContext(){var j;return fi(this,void 0,void 0,(function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===je.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(je.InlineCompletionTriggerKind.Explicit):(null===(j=this.cache.value)||void 0===j?void 0:j.triggerKind)!==je.InlineCompletionTriggerKind.Explicit&&(yield this.update(je.InlineCompletionTriggerKind.Explicit))}))}hasMultipleInlineCompletions(){var j;return fi(this,void 0,void 0,(function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(j=this.cache.value)||void 0===j?void 0:j.completions.length)||0)>1}))}get ghostText(){const j=this.currentCompletion,te=this.editor.getOptions().get(55).mode;return j?(0,nt.inlineCompletionToGhostText)(j,this.editor.getModel(),te,this.editor.getPosition()):void 0}get currentCompletion(){const j=this.currentCachedCompletion;if(j)return j.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(j){return fi(this,void 0,void 0,(function*(){if(!this.shouldUpdate())return;const te=this.editor.getPosition(),ve=(0,he.createCancelablePromise)((he=>fi(this,void 0,void 0,(function*(){let ve;try{ve=yield v(te,this.editor.getModel(),{triggerKind:j,selectedSuggestionInfo:void 0},he,this.languageConfigurationService)}catch(j){return void(0,Ce.onUnexpectedError)(j)}he.isCancellationRequested||(this.cache.setValue(this.editor,ve,j),this.onDidChangeEmitter.fire())})))),ye=new d(ve,j);this.updateOperation.value=ye,yield ve,this.updateOperation.value===ye&&this.updateOperation.clear()}))}takeOwnership(j){this._register(j)}commitCurrentCompletion(){if(!this.ghostText)return;const j=this.currentCompletion;j&&this.commit(j)}commit(j){const te=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[Oe.EditOperation.replaceMove(j.range,j.text)]),j.command?this.commandService.executeCommand(j.command.id,...j.command.arguments||[]).finally((()=>{null==te||te.dispose()})).then(void 0,Ce.onUnexpectedExternalError):null==te||te.dispose(),this.onDidChangeEmitter.fire()}}te.InlineCompletionsSession=a;class d{constructor(j,te){this.promise=j,this.triggerKind=te}dispose(){this.promise.cancel()}}te.UpdateOperation=d;class u extends Ee.Disposable{constructor(j,te,he,ve){super(),this.triggerKind=ve;const ye=j.deltaDecorations([],te.items.map((j=>({range:j.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,Ee.toDisposable)((()=>{j.deltaDecorations(ye,[])}))),this.completions=te.items.map(((j,te)=>new f(j,ye[te]))),this._register(j.onDidChangeModelContent((()=>{let te=!1;const ve=j.getModel();for(const j of this.completions){const he=ve.getDecorationRange(j.decorationId);he?j.synchronizedRange.equalsRange(he)||(te=!0,j.synchronizedRange=he):(0,Ce.onUnexpectedError)(new Error("Decoration has no range"))}te&&he()}))),this._register(te)}}te.SynchronizedInlineCompletionsCache=u;class f{constructor(j,te){this.inlineCompletion=j,this.decorationId=te,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=j.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function v(j,te,he,Ce=ve.CancellationToken.None,ye){return fi(this,void 0,void 0,(function*(){const ve=function S(j,te){const he=te.getWordAtPosition(j),ve=te.getLineMaxColumn(j.lineNumber);return he?new Ke.Range(j.lineNumber,he.startColumn,j.lineNumber,ve):Ke.Range.fromPositions(j,j.with(void 0,ve))}(j,te),Ee=je.InlineCompletionsProviderRegistry.all(te),Ie=yield Promise.all(Ee.map((ve=>fi(this,void 0,void 0,(function*(){const ye=yield ve.provideInlineCompletions(te,j,he,Ce);return{completions:ye,provider:ve,dispose:()=>{ye&&ve.freeInlineCompletions(ye)}}}))))),Ne=new Map;for(const j of Ie){const he=j.completions;if(he)for(const Ce of he.items){const Ee=Ce.range?Ke.Range.lift(Ce.range):ve;if(Ee.startLineNumber!==Ee.endLineNumber)continue;const Ie=ye&&Ce.completeBracketPairs?C(Ce.text,Ee.getStartPosition(),te,ye):Ce.text,Oe={text:Ie,range:Ee,command:Ce.command,sourceProvider:j.provider,sourceInlineCompletions:he,sourceInlineCompletion:Ce};Ne.set(JSON.stringify({text:Ie,range:Ce.range}),Oe)}}return{items:[...Ne.values()],dispose:()=>{for(const j of Ie)j.dispose()}}}))}function C(j,te,he,ve){const Ce=he.getLineContent(te.lineNumber).substring(0,te.column-1)+j,ye=he.tokenizeLineWithEdit(te,Ce.length-(te.column-1),j),Ee=null==ye?void 0:ye.sliceAndInflate(te.column-1,Ce.length,0);return Ee?(console.log(Ee),(0,at.fixBracketsInLine)(Ee,ve)):j}te.provideInlineCompletions=v,te.minimizeInlineCompletion=function _(j,te){if(!te)return te;const he=j.getValueInRange(te.range),ve=(0,Ie.commonPrefixLength)(he,te.text),Ce=j.getOffsetAt(te.range.getStartPosition())+ve,ye=j.getPositionAt(Ce),Ee=he.substr(ve),Ne=(0,Ie.commonSuffixLength)(Ee,te.text),Oe=j.getPositionAt(Math.max(Ce,j.getOffsetAt(te.range.getEndPosition())-Ne));return{range:Ke.Range.fromPositions(ye,Oe),text:te.text.substr(ve,te.text.length-ve-Ne)}}})),define(Ce[720],ie([1,0,15,206,24,552]),(function(j,te,he,ve,Ce,ye){Object.defineProperty(te,"__esModule",{value:!0}),te.ExpandLineSelectionAction=void 0;class w extends he.EditorAction{constructor(){super({id:"expandLineSelection",label:ye.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:Ce.EditorContextKeys.textInputFocus,primary:2090}})}run(j,te,he){if(he=he||{},!te.hasModel())return;const Ce=te._getViewModel();Ce.model.pushStackElement(),Ce.setCursorStates(he.source,3,ve.CursorMoveCommands.expandLineSelection(Ce,Ce.getCursorStates())),Ce.revealPrimaryCursor(he.source,!0)}}te.ExpandLineSelectionAction=w,(0,he.registerEditorAction)(w)})),define(Ce[721],ie([1,0,55,160,15,98,402,205,61,11,3,22,24,462,600,463,553,37]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at){Object.defineProperty(te,"__esModule",{value:!0}),te.SnakeCaseAction=te.TitleCaseAction=te.LowerCaseAction=te.UpperCaseAction=te.AbstractCaseAction=te.TransposeAction=te.JoinLinesAction=te.DeleteAllRightAction=te.DeleteAllLeftAction=te.AbstractDeleteAllToBoundaryAction=te.InsertLineAfterAction=te.InsertLineBeforeAction=te.IndentLinesAction=te.DeleteLinesAction=te.TrimTrailingWhitespaceAction=te.DeleteDuplicateLinesAction=te.SortLinesDescendingAction=te.SortLinesAscendingAction=te.AbstractSortLinesAction=te.DuplicateSelectionAction=void 0;class o extends Ce.EditorAction{constructor(j,te){super(te),this.down=j}run(j,te){if(!te.hasModel())return;const he=te.getSelections().map(((j,te)=>({selection:j,index:te,ignore:!1})));he.sort(((j,te)=>Ke.Range.compareRangesUsingStarts(j.selection,te.selection)));let ve=he[0];for(let j=1;j<he.length;j++){const te=he[j];ve.selection.endLineNumber===te.selection.startLineNumber&&(ve.index<te.index?te.ignore=!0:(ve.ignore=!0,ve=te))}const Ce=[];for(const j of he)Ce.push(new Ye.CopyLinesCommand(j.selection,this.down,j.ignore));te.pushUndoStop(),te.executeCommands(this.id,Ce),te.pushUndoStop()}}class u extends Ce.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:rt.localize(4,null),alias:"Duplicate Selection",precondition:Ze.EditorContextKeys.writable,menuOpts:{menuId:at.MenuId.MenubarSelectionMenu,group:"2_line",title:rt.localize(5,null),order:5}})}run(j,te,he){if(!te.hasModel())return;const ve=[],Ce=te.getSelections(),Ee=te.getModel();for(const j of Ce)if(j.isEmpty())ve.push(new Ye.CopyLinesCommand(j,!0));else{const te=new je.Selection(j.endLineNumber,j.endColumn,j.endLineNumber,j.endColumn);ve.push(new ye.ReplaceCommandThatSelectsText(te,Ee.getValueInRange(j)))}te.pushUndoStop(),te.executeCommands(this.id,ve),te.pushUndoStop()}}te.DuplicateSelectionAction=u;class f extends Ce.EditorAction{constructor(j,te){super(te),this.down=j}run(j,te){let he=[],ve=te.getSelections()||[];const Ce=te.getOption(9);for(const j of ve)he.push(new et.MoveLinesCommand(j,this.down,Ce));te.pushUndoStop(),te.executeCommands(this.id,he),te.pushUndoStop()}}class C extends Ce.EditorAction{constructor(j,te){super(te),this.descending=j}run(j,te){const he=te.getSelections()||[];for(const j of he)if(!nt.SortLinesCommand.canRun(te.getModel(),j,this.descending))return;let ve=[];for(let j=0,te=he.length;j<te;j++)ve[j]=new nt.SortLinesCommand(he[j],this.descending);te.pushUndoStop(),te.executeCommands(this.id,ve),te.pushUndoStop()}}te.AbstractSortLinesAction=C;class _ extends C{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:rt.localize(10,null),alias:"Sort Lines Ascending",precondition:Ze.EditorContextKeys.writable})}}te.SortLinesAscendingAction=_;class L extends C{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:rt.localize(11,null),alias:"Sort Lines Descending",precondition:Ze.EditorContextKeys.writable})}}te.SortLinesDescendingAction=L;class E extends Ce.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:rt.localize(12,null),alias:"Delete Duplicate Lines",precondition:Ze.EditorContextKeys.writable})}run(j,te){if(!te.hasModel())return;let he=te.getModel();if(1===he.getLineCount()&&1===he.getLineMaxColumn(1))return;let ve=[],Ce=[],ye=0;for(let j of te.getSelections()){let te=new Set,Ee=[];for(let ve=j.startLineNumber;ve<=j.endLineNumber;ve++){let j=he.getLineContent(ve);te.has(j)||(Ee.push(j),te.add(j))}let Ie=new je.Selection(j.startLineNumber,1,j.endLineNumber,he.getLineMaxColumn(j.endLineNumber)),Oe=j.startLineNumber-ye,Ke=new je.Selection(Oe,1,Oe+Ee.length-1,Ee[Ee.length-1].length);ve.push(Ne.EditOperation.replace(Ie,Ee.join("\n"))),Ce.push(Ke),ye+=j.endLineNumber-j.startLineNumber+1-Ee.length}te.pushUndoStop(),te.executeEdits(this.id,ve,Ce),te.pushUndoStop()}}te.DeleteDuplicateLinesAction=E;class N extends Ce.EditorAction{constructor(){super({id:N.ID,label:rt.localize(13,null),alias:"Trim Trailing Whitespace",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.editorTextFocus,primary:(0,he.KeyChord)(2089,2102),weight:100}})}run(j,te,he){let ve=[];"auto-save"===he.reason&&(ve=(te.getSelections()||[]).map((j=>new Oe.Position(j.positionLineNumber,j.positionColumn))));let Ce=te.getSelection();if(null===Ce)return;let ye=new Ee.TrimTrailingWhitespaceCommand(Ce,ve);te.pushUndoStop(),te.executeCommands(this.id,[ye]),te.pushUndoStop()}}te.TrimTrailingWhitespaceAction=N,N.ID="editor.action.trimTrailingWhitespace";class k extends Ce.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:rt.localize(14,null),alias:"Delete Line",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(j,te){if(!te.hasModel())return;let he=this._getLinesToRemove(te),ve=te.getModel();if(1===ve.getLineCount()&&1===ve.getLineMaxColumn(1))return;let Ce=0,ye=[],Ee=[];for(let j=0,te=he.length;j<te;j++){const te=he[j];let Ie=te.startLineNumber,Oe=te.endLineNumber,Ke=1,Ze=ve.getLineMaxColumn(Oe);Oe<ve.getLineCount()?(Oe+=1,Ze=1):Ie>1&&(Ie-=1,Ke=ve.getLineMaxColumn(Ie)),ye.push(Ne.EditOperation.replace(new je.Selection(Ie,Ke,Oe,Ze),"")),Ee.push(new je.Selection(Ie-Ce,te.positionColumn,Ie-Ce,te.positionColumn)),Ce+=te.endLineNumber-te.startLineNumber+1}te.pushUndoStop(),te.executeEdits(this.id,ye,Ee),te.pushUndoStop()}_getLinesToRemove(j){let te=j.getSelections().map((j=>{let te=j.endLineNumber;return j.startLineNumber<j.endLineNumber&&1===j.endColumn&&(te-=1),{startLineNumber:j.startLineNumber,selectionStartColumn:j.selectionStartColumn,endLineNumber:te,positionColumn:j.positionColumn}}));te.sort(((j,te)=>j.startLineNumber===te.startLineNumber?j.endLineNumber-te.endLineNumber:j.startLineNumber-te.startLineNumber));let he=[],ve=te[0];for(let j=1;j<te.length;j++)ve.endLineNumber+1>=te[j].startLineNumber?ve.endLineNumber=te[j].endLineNumber:(he.push(ve),ve=te[j]);return he.push(ve),he}}te.DeleteLinesAction=k;class M extends Ce.EditorAction{constructor(){super({id:"editor.action.indentLines",label:rt.localize(15,null),alias:"Indent Line",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.editorTextFocus,primary:2137,weight:100}})}run(j,te){const he=te._getViewModel();!he||(te.pushUndoStop(),te.executeCommands(this.id,Ie.TypeOperations.indent(he.cursorConfig,te.getModel(),te.getSelections())),te.pushUndoStop())}}te.IndentLinesAction=M;class O extends Ce.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:rt.localize(16,null),alias:"Outdent Line",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.editorTextFocus,primary:2135,weight:100}})}run(j,te){ve.CoreEditingCommands.Outdent.runEditorCommand(j,te,null)}}class B extends Ce.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:rt.localize(17,null),alias:"Insert Line Above",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(j,te){const he=te._getViewModel();!he||(te.pushUndoStop(),te.executeCommands(this.id,Ie.TypeOperations.lineInsertBefore(he.cursorConfig,te.getModel(),te.getSelections())))}}te.InsertLineBeforeAction=B;class T extends Ce.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:rt.localize(18,null),alias:"Insert Line Below",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(j,te){const he=te._getViewModel();!he||(te.pushUndoStop(),te.executeCommands(this.id,Ie.TypeOperations.lineInsertAfter(he.cursorConfig,te.getModel(),te.getSelections())))}}te.InsertLineAfterAction=T;class R extends Ce.EditorAction{run(j,te){if(!te.hasModel())return;const he=te.getSelection();let ve=this._getRangesToDelete(te),Ce=[];for(let j=0,te=ve.length-1;j<te;j++){let te=ve[j],he=ve[j+1];null===Ke.Range.intersectRanges(te,he)?Ce.push(te):ve[j+1]=Ke.Range.plusRange(te,he)}Ce.push(ve[ve.length-1]);let ye=this._getEndCursorState(he,Ce),Ee=Ce.map((j=>Ne.EditOperation.replace(j,"")));te.pushUndoStop(),te.executeEdits(this.id,Ee,ye),te.pushUndoStop()}}te.AbstractDeleteAllToBoundaryAction=R;class P extends R{constructor(){super({id:"deleteAllLeft",label:rt.localize(19,null),alias:"Delete All Left",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(j,te){let he=null,ve=[],Ce=0;return te.forEach((te=>{let ye;if(1===te.endColumn&&Ce>0){let j=te.startLineNumber-Ce;ye=new je.Selection(j,te.startColumn,j,te.startColumn)}else ye=new je.Selection(te.startLineNumber,te.startColumn,te.startLineNumber,te.startColumn);Ce+=te.endLineNumber-te.startLineNumber,te.intersectRanges(j)?he=ye:ve.push(ye)})),he&&ve.unshift(he),ve}_getRangesToDelete(j){let te=j.getSelections();if(null===te)return[];let he=te,ve=j.getModel();return null===ve?[]:(he.sort(Ke.Range.compareRangesUsingStarts),he=he.map((j=>{if(j.isEmpty()){if(1===j.startColumn){let te=Math.max(1,j.startLineNumber-1),he=1===j.startLineNumber?1:ve.getLineContent(te).length+1;return new Ke.Range(te,he,j.startLineNumber,1)}return new Ke.Range(j.startLineNumber,1,j.startLineNumber,j.startColumn)}return new Ke.Range(j.startLineNumber,1,j.endLineNumber,j.endColumn)})),he)}}te.DeleteAllLeftAction=P;class F extends R{constructor(){super({id:"deleteAllRight",label:rt.localize(20,null),alias:"Delete All Right",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(j,te){let he=null,ve=[];for(let Ce=0,ye=te.length,Ee=0;Ce<ye;Ce++){let ye=te[Ce],Ie=new je.Selection(ye.startLineNumber-Ee,ye.startColumn,ye.startLineNumber-Ee,ye.startColumn);ye.intersectRanges(j)?he=Ie:ve.push(Ie)}return he&&ve.unshift(he),ve}_getRangesToDelete(j){let te=j.getModel();if(null===te)return[];let he=j.getSelections();if(null===he)return[];let ve=he.map((j=>{if(j.isEmpty()){const he=te.getLineMaxColumn(j.startLineNumber);return j.startColumn===he?new Ke.Range(j.startLineNumber,j.startColumn,j.startLineNumber+1,1):new Ke.Range(j.startLineNumber,j.startColumn,j.startLineNumber,he)}return j}));return ve.sort(Ke.Range.compareRangesUsingStarts),ve}}te.DeleteAllRightAction=F;class W extends Ce.EditorAction{constructor(){super({id:"editor.action.joinLines",label:rt.localize(21,null),alias:"Join Lines",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(j,te){let he=te.getSelections();if(null===he)return;let ve=te.getSelection();if(null===ve)return;he.sort(Ke.Range.compareRangesUsingStarts);let Ce=[],ye=he.reduce(((j,te)=>j.isEmpty()?j.endLineNumber===te.startLineNumber?(ve.equalsSelection(j)&&(ve=te),te):te.startLineNumber>j.endLineNumber+1?(Ce.push(j),te):new je.Selection(j.startLineNumber,j.startColumn,te.endLineNumber,te.endColumn):te.startLineNumber>j.endLineNumber?(Ce.push(j),te):new je.Selection(j.startLineNumber,j.startColumn,te.endLineNumber,te.endColumn)));Ce.push(ye);let Ee=te.getModel();if(null===Ee)return;let Ie=[],Oe=[],Ze=ve,Ye=0;for(let j=0,te=Ce.length;j<te;j++){let te,he,ye=Ce[j],et=ye.startLineNumber,nt=1,rt=0,at=Ee.getLineContent(ye.endLineNumber).length-ye.endColumn;if(ye.isEmpty()||ye.startLineNumber===ye.endLineNumber){let j=ye.getStartPosition();j.lineNumber<Ee.getLineCount()?(te=et+1,he=Ee.getLineMaxColumn(te)):(te=j.lineNumber,he=Ee.getLineMaxColumn(j.lineNumber))}else te=ye.endLineNumber,he=Ee.getLineMaxColumn(te);let ct=Ee.getLineContent(et);for(let j=et+1;j<=te;j++){let te=Ee.getLineContent(j),he=Ee.getLineFirstNonWhitespaceColumn(j);if(he>=1){let j=!0;""===ct&&(j=!1),j&&(" "===ct.charAt(ct.length-1)||"\t"===ct.charAt(ct.length-1))&&(j=!1,ct=ct.replace(/[\s\uFEFF\xA0]+$/g," "));let ve=te.substr(he-1);ct+=(j?" ":"")+ve,rt=j?ve.length+1:ve.length}else rt=0}let ht=new Ke.Range(et,nt,te,he);if(!ht.isEmpty()){let j;ye.isEmpty()?(Ie.push(Ne.EditOperation.replace(ht,ct)),j=new je.Selection(ht.startLineNumber-Ye,ct.length-rt+1,et-Ye,ct.length-rt+1)):ye.startLineNumber===ye.endLineNumber?(Ie.push(Ne.EditOperation.replace(ht,ct)),j=new je.Selection(ye.startLineNumber-Ye,ye.startColumn,ye.endLineNumber-Ye,ye.endColumn)):(Ie.push(Ne.EditOperation.replace(ht,ct)),j=new je.Selection(ye.startLineNumber-Ye,ye.startColumn,ye.startLineNumber-Ye,ct.length-at)),null!==Ke.Range.intersectRanges(ht,ve)?Ze=j:Oe.push(j)}Ye+=ht.endLineNumber-ht.startLineNumber}Oe.unshift(Ze),te.pushUndoStop(),te.executeEdits(this.id,Ie,Oe),te.pushUndoStop()}}te.JoinLinesAction=W;class A extends Ce.EditorAction{constructor(){super({id:"editor.action.transpose",label:rt.localize(22,null),alias:"Transpose characters around the cursor",precondition:Ze.EditorContextKeys.writable})}run(j,te){let he=te.getSelections();if(null===he)return;let ve=te.getModel();if(null===ve)return;let Ce=[];for(let j=0,te=he.length;j<te;j++){let te=he[j];if(!te.isEmpty())continue;let Ee=te.getStartPosition(),Ie=ve.getLineMaxColumn(Ee.lineNumber);if(Ee.column>=Ie){if(Ee.lineNumber===ve.getLineCount())continue;let j=new Ke.Range(Ee.lineNumber,Math.max(1,Ee.column-1),Ee.lineNumber+1,1),te=ve.getValueInRange(j).split("").reverse().join("");Ce.push(new ye.ReplaceCommand(new je.Selection(Ee.lineNumber,Math.max(1,Ee.column-1),Ee.lineNumber+1,1),te))}else{let j=new Ke.Range(Ee.lineNumber,Math.max(1,Ee.column-1),Ee.lineNumber,Ee.column+1),te=ve.getValueInRange(j).split("").reverse().join("");Ce.push(new ye.ReplaceCommandThatPreservesSelection(j,te,new je.Selection(Ee.lineNumber,Ee.column+1,Ee.lineNumber,Ee.column+1)))}}te.pushUndoStop(),te.executeCommands(this.id,Ce),te.pushUndoStop()}}te.TransposeAction=A;class H extends Ce.EditorAction{run(j,te){const he=te.getSelections();if(null===he)return;const ve=te.getModel();if(null===ve)return;const Ce=te.getOption(117),ye=[];for(const j of he)if(j.isEmpty()){const he=j.getStartPosition(),Ee=te.getConfiguredWordAtPosition(he);if(!Ee)continue;const Ie=new Ke.Range(he.lineNumber,Ee.startColumn,he.lineNumber,Ee.endColumn),Oe=ve.getValueInRange(Ie);ye.push(Ne.EditOperation.replace(Ie,this._modifyText(Oe,Ce)))}else{const te=ve.getValueInRange(j);ye.push(Ne.EditOperation.replace(j,this._modifyText(te,Ce)))}te.pushUndoStop(),te.executeEdits(this.id,ye),te.pushUndoStop()}}te.AbstractCaseAction=H;class q extends H{constructor(){super({id:"editor.action.transformToUppercase",label:rt.localize(23,null),alias:"Transform to Uppercase",precondition:Ze.EditorContextKeys.writable})}_modifyText(j,te){return j.toLocaleUpperCase()}}te.UpperCaseAction=q;class X extends H{constructor(){super({id:"editor.action.transformToLowercase",label:rt.localize(24,null),alias:"Transform to Lowercase",precondition:Ze.EditorContextKeys.writable})}_modifyText(j,te){return j.toLocaleLowerCase()}}te.LowerCaseAction=X;class G{constructor(j,te){this._pattern=j,this._flags=te,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return null!==this.get()}}class re extends H{constructor(){super({id:"editor.action.transformToTitlecase",label:rt.localize(25,null),alias:"Transform to Title Case",precondition:Ze.EditorContextKeys.writable})}_modifyText(j,te){const he=re.titleBoundary.get();return he?j.toLocaleLowerCase().replace(he,(j=>j.toLocaleUpperCase())):j}}te.TitleCaseAction=re,re.titleBoundary=new G("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ae extends H{constructor(){super({id:"editor.action.transformToSnakecase",label:rt.localize(26,null),alias:"Transform to Snake Case",precondition:Ze.EditorContextKeys.writable})}_modifyText(j,te){const he=ae.caseBoundary.get(),ve=ae.singleLetters.get();return he&&ve?j.replace(he,"$1_$2").replace(ve,"$1_$2$3").toLocaleLowerCase():j}}te.SnakeCaseAction=ae,ae.caseBoundary=new G("(\\p{Ll})(\\p{Lu})","gmu"),ae.singleLetters=new G("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,Ce.registerEditorAction)(class a extends o{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:rt.localize(0,null),alias:"Copy Line Up",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:at.MenuId.MenubarSelectionMenu,group:"2_line",title:rt.localize(1,null),order:1}})}}),(0,Ce.registerEditorAction)(class d extends o{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:rt.localize(2,null),alias:"Copy Line Down",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:at.MenuId.MenubarSelectionMenu,group:"2_line",title:rt.localize(3,null),order:2}})}}),(0,Ce.registerEditorAction)(u),(0,Ce.registerEditorAction)(class S extends f{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:rt.localize(6,null),alias:"Move Line Up",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:at.MenuId.MenubarSelectionMenu,group:"2_line",title:rt.localize(7,null),order:3}})}}),(0,Ce.registerEditorAction)(class v extends f{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:rt.localize(8,null),alias:"Move Line Down",precondition:Ze.EditorContextKeys.writable,kbOpts:{kbExpr:Ze.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:at.MenuId.MenubarSelectionMenu,group:"2_line",title:rt.localize(9,null),order:4}})}}),(0,Ce.registerEditorAction)(_),(0,Ce.registerEditorAction)(L),(0,Ce.registerEditorAction)(E),(0,Ce.registerEditorAction)(N),(0,Ce.registerEditorAction)(k),(0,Ce.registerEditorAction)(M),(0,Ce.registerEditorAction)(O),(0,Ce.registerEditorAction)(B),(0,Ce.registerEditorAction)(T),(0,Ce.registerEditorAction)(P),(0,Ce.registerEditorAction)(F),(0,Ce.registerEditorAction)(W),(0,Ce.registerEditorAction)(A),(0,Ce.registerEditorAction)(q),(0,Ce.registerEditorAction)(X),ae.caseBoundary.isSupported()&&ae.singleLetters.isSupported()&&(0,Ce.registerEditorAction)(ae),re.titleBoundary.isSupported()&&(0,Ce.registerEditorAction)(re)})),define(Ce[722],ie([1,0,19,10,21,29,13,4,2,8,25,15,28,11,3,24,33,18,32,554,16,23,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft){Object.defineProperty(te,"__esModule",{value:!0}),te.editorLinkedEditingBackground=te.LinkedEditingAction=te.LinkedEditingContribution=te.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,te.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new mt.RawContextKey("LinkedEditingInputVisible",!1);const _t="linked-editing-decoration";let Ct=class ei extends Ne.Disposable{constructor(j,he,ve){super(),this.languageConfigurationService=ve,this._debounceDuration=200,this._localToDispose=this._register(new Ne.DisposableStore),this._editor=j,this._enabled=!1,this._visibleContextKey=te.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(he),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new Ne.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel((()=>this.reinitialize(!0)))),this._register(this._editor.onDidChangeConfiguration((j=>{(j.hasChanged(62)||j.hasChanged(82))&&this.reinitialize(!1)}))),this._register(at.LinkedEditingRangeProviderRegistry.onDidChange((()=>this.reinitialize(!1)))),this._register(this._editor.onDidChangeModelLanguage((()=>this.reinitialize(!0)))),this.reinitialize(!0)}static get(j){return j.getContribution(ei.ID)}reinitialize(j){const te=this._editor.getModel(),he=null!==te&&(this._editor.getOption(62)||this._editor.getOption(82))&&at.LinkedEditingRangeProviderRegistry.has(te);if(he===this._enabled&&!j||(this._enabled=he,this.clearRanges(),this._localToDispose.clear(),!he||null===te))return;this._localToDispose.add(Ie.Event.runAndSubscribe(te.onDidChangeLanguageConfiguration,(()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(te.getLanguageId()).getWordDefinition()})));const Ce=new ve.Delayer(this._debounceDuration),B=()=>{this._rangeUpdateTriggerPromise=Ce.trigger((()=>this.updateRanges()),this._debounceDuration)},ye=new ve.Delayer(0),R=j=>{this._rangeSyncTriggerPromise=ye.trigger((()=>this._syncRanges(j)))};this._localToDispose.add(this._editor.onDidChangeCursorPosition((()=>{B()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((j=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const he=te.getDecorationRange(this._currentDecorations[0]);if(he&&j.changes.every((j=>he.intersectRanges(j.range))))return void R(this._currentDecorations)}B()}))),this._localToDispose.add({dispose:()=>{Ce.cancel(),ye.cancel()}}),this.updateRanges()}_syncRanges(j){if(!this._editor.hasModel()||j!==this._currentDecorations||0===j.length)return;const te=this._editor.getModel(),he=te.getDecorationRange(j[0]);if(!he||he.startLineNumber!==he.endLineNumber)return this.clearRanges();const ve=te.getValueInRange(he);if(this._currentWordPattern){const j=ve.match(this._currentWordPattern);if((j?j[0].length:0)!==ve.length)return this.clearRanges()}let Ce=[];for(let he=1,ye=j.length;he<ye;he++){const ye=te.getDecorationRange(j[he]);if(ye)if(ye.startLineNumber!==ye.endLineNumber)Ce.push({range:ye,text:ve});else{let j=te.getValueInRange(ye),he=ve,Ee=ye.startColumn,Ie=ye.endColumn;const Ne=Oe.commonPrefixLength(j,he);Ee+=Ne,j=j.substr(Ne),he=he.substr(Ne);const Ke=Oe.commonSuffixLength(j,he);Ie-=Ke,j=j.substr(0,j.length-Ke),he=he.substr(0,he.length-Ke),(Ee!==Ie||0!==he.length)&&Ce.push({range:new et.Range(ye.startLineNumber,Ee,ye.endLineNumber,Ie),text:he})}}if(0!==Ce.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const j=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",Ce),this._editor._getViewModel().setPrevEditOperationType(j)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(j=!1){return fi(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const te=this._editor.getPosition();if(!this._enabled&&!j||this._editor.getSelections().length>1)return void this.clearRanges();const he=this._editor.getModel(),Ce=he.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===Ce){if(te.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const j=he.getDecorationRange(this._currentDecorations[0]);if(j&&j.containsPosition(te))return}}this._currentRequestPosition=te,this._currentRequestModelVersion=Ce;const ye=(0,ve.createCancelablePromise)((j=>fi(this,void 0,void 0,(function*(){try{const ve=yield L(he,te,j);if(ye!==this._currentRequest||(this._currentRequest=null,Ce!==he.getVersionId()))return;let Ee=[];(null==ve?void 0:ve.ranges)&&(Ee=ve.ranges),this._currentWordPattern=(null==ve?void 0:ve.wordPattern)||this._languageWordPattern;let Ie=!1;for(let j=0,he=Ee.length;j<he;j++)if(et.Range.containsPosition(Ee[j],te)){if(Ie=!0,0!==j){const te=Ee[j];Ee.splice(j,1),Ee.unshift(te)}break}if(!Ie)return void this.clearRanges();const Ne=Ee.map((j=>({range:j,options:ei.DECORATION})));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,Ne)}catch(j){(0,Ee.isCancellationError)(j)||(0,Ee.onUnexpectedError)(j),(this._currentRequest===ye||!this._currentRequest)&&this.clearRanges()}}))));return this._currentRequest=ye,ye}))}};Ct.ID="editor.contrib.linkedEditing",Ct.DECORATION=rt.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:_t}),Ct=Ci([Zi(1,mt.IContextKeyService),Zi(2,ct.ILanguageConfigurationService)],Ct),te.LinkedEditingContribution=Ct;class C extends je.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:ht.localize(0,null),alias:"Start Linked Editing",precondition:mt.ContextKeyExpr.and(nt.EditorContextKeys.writable,nt.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:nt.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(j,te){const he=j.get(Ze.ICodeEditorService),[ve,Ce]=Array.isArray(te)&&te||[void 0,void 0];return Ke.URI.isUri(ve)&&Ye.Position.isIPosition(Ce)?he.openCodeEditor({resource:ve},he.getActiveCodeEditor()).then((j=>{!j||(j.setPosition(Ce),j.invokeWithinContext((te=>(this.reportTelemetry(te,j),this.run(te,j)))))}),Ee.onUnexpectedError):super.runCommand(j,te)}run(j,te){const he=Ct.get(te);return he?Promise.resolve(he.updateRanges(!0)):Promise.resolve()}}te.LinkedEditingAction=C;const bt=je.EditorCommand.bindToContribution(Ct.get);function L(j,te,Ce){const ye=at.LinkedEditingRangeProviderRegistry.ordered(j);return(0,ve.first)(ye.map((he=>()=>fi(this,void 0,void 0,(function*(){try{return yield he.provideLinkedEditingRanges(j,te,Ce)}catch(j){return void(0,Ee.onUnexpectedExternalError)(j)}})))),(j=>!!j&&he.isNonEmptyArray(null==j?void 0:j.ranges)))}(0,je.registerEditorCommand)(new bt({id:"cancelLinkedEditingInput",precondition:te.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:j=>j.clearRanges(),kbOpts:{kbExpr:nt.EditorContextKeys.editorTextFocus,weight:199,primary:9,secondary:[1033]}})),te.editorLinkedEditingBackground=(0,pt.registerColor)("editor.linkedEditingBackground",{dark:ye.Color.fromHex("#f00").transparent(.3),light:ye.Color.fromHex("#f00").transparent(.3),hc:ye.Color.fromHex("#f00").transparent(.3)},ht.localize(1,null)),(0,ft.registerThemingParticipant)(((j,he)=>{const ve=j.getColor(te.editorLinkedEditingBackground);ve&&he.addRule(`.monaco-editor .${_t} { background: ${ve}; border-left-color: ${ve}; }`)})),(0,je.registerModelAndPositionCommand)("_executeLinkedEditingProvider",((j,te)=>L(j,te,Ce.CancellationToken.None))),(0,je.registerEditorContribution)(Ct.ID,Ct),(0,je.registerEditorAction)(C)})),define(Ce[723],ie([1,0,10,21,13,66,2,48,17,41,25,15,33,18,186,598,555,38,51,23,14,380]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt){Object.defineProperty(te,"__esModule",{value:!0}),te.LinkDetector=void 0;const pt={general:Ze.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Ze.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class S{constructor(j,te){this.link=j,this.decorationId=te}static decoration(j,te){return{range:j.range,options:S._getOptions(j,te,!1)}}static _getOptions(j,te,he){const ve=Object.assign({},he?pt.active:pt.general);return ve.hoverMessage=function u(j,te){const he=j.url&&/^command:/i.test(j.url.toString()),ve=j.tooltip?j.tooltip:he?rt.localize(0,null):rt.localize(1,null),Ce=te?Ne.isMacintosh?rt.localize(2,null):rt.localize(3,null):Ne.isMacintosh?rt.localize(4,null):rt.localize(5,null);if(j.url){let te="";if(/^command:/i.test(j.url.toString())){const he=j.url.toString().match(/^command:([^?#]+)/);if(he){const j=he[1];te=` "${rt.localize(6,null,j)}"`}}return new ye.MarkdownString("",!0).appendMarkdown(`[${ve}](${j.url.toString(!0).replace(/ /g,"%20")}${te}) (${Ce})`)}return(new ye.MarkdownString).appendText(`${ve} (${Ce})`)}(j,te),ve}activate(j,te){j.changeDecorationOptions(this.decorationId,S._getOptions(this.link,te,!0))}deactivate(j,te){j.changeDecorationOptions(this.decorationId,S._getOptions(this.link,te,!1))}}let ft=class ti{constructor(j,te,ve){this.listenersToRemove=new Ee.DisposableStore,this.editor=j,this.openerService=te,this.notificationService=ve;let Ce=new et.ClickLinkGesture(j);this.listenersToRemove.add(Ce),this.listenersToRemove.add(Ce.onMouseMoveOrRelevantKeyDown((([j,te])=>{this._onEditorMouseMove(j,te)}))),this.listenersToRemove.add(Ce.onExecute((j=>{this.onEditorMouseUp(j)}))),this.listenersToRemove.add(Ce.onCancel((j=>{this.cleanUpActiveLinkDecoration()}))),this.enabled=j.getOption(63),this.listenersToRemove.add(j.onDidChangeConfiguration((te=>{const he=j.getOption(63);this.enabled!==he&&(this.enabled=he,this.updateDecorations([]),this.stop(),this.beginCompute())}))),this.listenersToRemove.add(j.onDidChangeModelContent((j=>this.onChange()))),this.listenersToRemove.add(j.onDidChangeModel((j=>this.onModelChanged()))),this.listenersToRemove.add(j.onDidChangeModelLanguage((j=>this.onModelLanguageChanged()))),this.listenersToRemove.add(Ye.LinkProviderRegistry.onDidChange((j=>this.onModelLanguageChanged()))),this.timeout=new he.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(j){return j.getContribution(ti.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelLanguageChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet((()=>this.beginCompute()),ti.RECOMPUTE_TIME)}beginCompute(){return fi(this,void 0,void 0,(function*(){if(!this.editor.hasModel()||!this.enabled)return;const j=this.editor.getModel();if(Ye.LinkProviderRegistry.has(j)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=he.createCancelablePromise((te=>(0,nt.getLinks)(j,te)));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(j){(0,Ce.onUnexpectedError)(j)}finally{this.computePromise=null}}}))}updateDecorations(j){const te="altKey"===this.editor.getOption(70);let he=[],ve=Object.keys(this.currentOccurrences);for(let j=0,te=ve.length;j<te;j++){let te=ve[j],Ce=this.currentOccurrences[te];he.push(Ce.decorationId)}let Ce=[];if(j)for(const he of j)Ce.push(S.decoration(he,te));let ye=this.editor.deltaDecorations(he,Ce);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let te=0,he=ye.length;te<he;te++){let he=new S(j[te],ye[te]);this.currentOccurrences[he.decorationId]=he}}_onEditorMouseMove(j,te){const he="altKey"===this.editor.getOption(70);if(this.isEnabled(j,te)){this.cleanUpActiveLinkDecoration();const te=this.getLinkOccurrence(j.target.position);te&&this.editor.changeDecorations((j=>{te.activate(j,he),this.activeLinkDecorationId=te.decorationId}))}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const j="altKey"===this.editor.getOption(70);if(this.activeLinkDecorationId){const te=this.currentOccurrences[this.activeLinkDecorationId];te&&this.editor.changeDecorations((he=>{te.deactivate(he,j)})),this.activeLinkDecorationId=null}}onEditorMouseUp(j){if(!this.isEnabled(j))return;const te=this.getLinkOccurrence(j.target.position);!te||this.openLinkOccurrence(te,j.hasSideBySideModifier,!0)}openLinkOccurrence(j,te,he=!1){if(!this.openerService)return;const{link:ye}=j;ye.resolve(ve.CancellationToken.None).then((j=>{if("string"==typeof j&&this.editor.hasModel()){const te=this.editor.getModel().uri;if(te.scheme===Ie.Schemas.file&&j.startsWith(`${Ie.Schemas.file}:`)){const he=Ke.URI.parse(j);if(he.scheme===Ie.Schemas.file){const ve=Oe.originalFSPath(he);let Ce=null;ve.startsWith("/./")?Ce=`.${ve.substr(1)}`:ve.startsWith("//./")&&(Ce=`.${ve.substr(2)}`),Ce&&(j=Oe.joinPath(te,Ce))}}}return this.openerService.open(j,{openToSide:te,fromUserGesture:he,allowContributedOpeners:!0,allowCommands:!0})}),(j=>{const te=j instanceof Error?j.message:j;"invalid"===te?this.notificationService.warn(rt.localize(7,null,ye.url.toString())):"missing"===te?this.notificationService.warn(rt.localize(8,null)):(0,Ce.onUnexpectedError)(j)}))}getLinkOccurrence(j){if(!this.editor.hasModel()||!j)return null;const te=this.editor.getModel().getDecorationsInRange({startLineNumber:j.lineNumber,startColumn:j.column,endLineNumber:j.lineNumber,endColumn:j.column},0,!0);for(const j of te){const te=this.currentOccurrences[j.id];if(te)return te}return null}isEnabled(j,te){return Boolean(6===j.target.type&&(j.hasTriggerModifier||te&&te.keyCodeIsTriggerKey))}stop(){var j;this.timeout.cancel(),this.activeLinksList&&(null===(j=this.activeLinksList)||void 0===j||j.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};ft.ID="editor.linkDetector",ft.RECOMPUTE_TIME=1e3,ft=Ci([Zi(1,ct.IOpenerService),Zi(2,at.INotificationService)],ft),te.LinkDetector=ft;class C extends je.EditorAction{constructor(){super({id:"editor.action.openLink",label:rt.localize(9,null),alias:"Open Link",precondition:void 0})}run(j,te){const he=ft.get(te);if(!he||!te.hasModel())return;let ve=te.getSelections();for(let j of ve){let te=he.getLinkOccurrence(j.getEndPosition());te&&he.openLinkOccurrence(te,!1)}}}(0,je.registerEditorContribution)(ft.ID,ft),(0,je.registerEditorAction)(C),(0,mt.registerThemingParticipant)(((j,te)=>{const he=j.getColor(ht.editorActiveLinkForeground);he&&te.addRule(`.monaco-editor .detected-link-active { color: ${he} !important; }`)}))})),define(Ce[724],ie([1,0,43,10,55,2,15,206,3,22,24,49,33,18,294,557,37,16,23,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht){function d(j,te){const ve=te.filter((te=>!j.find((j=>j.equals(te)))));if(ve.length>=1){const j=ve.map((j=>`line ${j.viewState.position.lineNumber} column ${j.viewState.position.column}`)).join(", "),te=1===ve.length?nt.localize(0,null,j):nt.localize(1,null,j);(0,he.status)(te)}}Object.defineProperty(te,"__esModule",{value:!0}),te.SelectionHighlighter=te.CompatChangeAll=te.SelectHighlightsAction=te.MoveSelectionToPreviousFindMatchAction=te.MoveSelectionToNextFindMatchAction=te.AddSelectionToPreviousFindMatchAction=te.AddSelectionToNextFindMatchAction=te.MultiCursorSelectionControllerAction=te.MultiCursorSelectionController=te.MultiCursorSession=te.MultiCursorSessionResult=te.InsertCursorBelow=te.InsertCursorAbove=void 0;class u extends Ee.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:nt.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:rt.MenuId.MenubarSelectionMenu,group:"3_multi",title:nt.localize(3,null),order:2}})}run(j,te,he){if(!te.hasModel())return;let ve=!0;he&&!1===he.logicalLine&&(ve=!1);const Ce=te._getViewModel();if(Ce.cursorConfig.readOnly)return;Ce.pushStackElement();const ye=Ce.getCursorStates();Ce.setCursorStates(he.source,3,Ie.CursorMoveCommands.addCursorUp(Ce,ye,ve)),Ce.revealTopMostCursor(he.source),d(ye,Ce.getCursorStates())}}te.InsertCursorAbove=u;class f extends Ee.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:nt.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:rt.MenuId.MenubarSelectionMenu,group:"3_multi",title:nt.localize(5,null),order:3}})}run(j,te,he){if(!te.hasModel())return;let ve=!0;he&&!1===he.logicalLine&&(ve=!1);const Ce=te._getViewModel();if(Ce.cursorConfig.readOnly)return;Ce.pushStackElement();const ye=Ce.getCursorStates();Ce.setCursorStates(he.source,3,Ie.CursorMoveCommands.addCursorDown(Ce,ye,ve)),Ce.revealBottomMostCursor(he.source),d(ye,Ce.getCursorStates())}}te.InsertCursorBelow=f;class S extends Ee.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:nt.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:rt.MenuId.MenubarSelectionMenu,group:"3_multi",title:nt.localize(7,null),order:4}})}getCursorsForSelection(j,te,he){if(!j.isEmpty()){for(let ve=j.startLineNumber;ve<j.endLineNumber;ve++){let j=te.getLineMaxColumn(ve);he.push(new Oe.Selection(ve,j,ve,j))}j.endColumn>1&&he.push(new Oe.Selection(j.endLineNumber,j.endColumn,j.endLineNumber,j.endColumn))}}run(j,te){if(!te.hasModel())return;const he=te.getModel(),ve=te.getSelections(),Ce=te._getViewModel(),ye=Ce.getCursorStates();let Ee=[];ve.forEach((j=>this.getCursorsForSelection(j,he,Ee))),Ee.length>0&&te.setSelections(Ee),d(ye,Ce.getCursorStates())}}class v extends Ee.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:nt.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(j,te){if(!te.hasModel())return;const he=te.getSelections(),ve=te.getModel().getLineCount();let Ce=[];for(let j=he[0].startLineNumber;j<=ve;j++)Ce.push(new Oe.Selection(j,he[0].startColumn,j,he[0].endColumn));const ye=te._getViewModel(),Ee=ye.getCursorStates();Ce.length>0&&te.setSelections(Ce),d(Ee,ye.getCursorStates())}}class C extends Ee.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:nt.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(j,te){if(!te.hasModel())return;const he=te.getSelections();let ve=[];for(let j=he[0].startLineNumber;j>=1;j--)ve.push(new Oe.Selection(j,he[0].startColumn,j,he[0].endColumn));const Ce=te._getViewModel(),ye=Ce.getCursorStates();ve.length>0&&te.setSelections(ve),d(ye,Ce.getCursorStates())}}class _{constructor(j,te,he){this.selections=j,this.revealRange=te,this.revealScrollType=he}}te.MultiCursorSessionResult=_;class L{constructor(j,te,he,ve,Ce,ye,Ee){this._editor=j,this.findController=te,this.isDisconnectedFromFindController=he,this.searchText=ve,this.wholeWord=Ce,this.matchCase=ye,this.currentMatch=Ee}static create(j,te){if(!j.hasModel())return null;const he=te.getState();if(!j.hasTextFocus()&&he.isRevealed&&he.searchString.length>0)return new L(j,te,!1,he.searchString,he.wholeWord,he.matchCase,null);let ve,Ce,ye=!1;const Ee=j.getSelections();1===Ee.length&&Ee[0].isEmpty()?(ye=!0,ve=!0,Ce=!0):(ve=he.wholeWord,Ce=he.matchCase);const Ie=j.getSelection();let Ne,Ke=null;if(Ie.isEmpty()){const te=j.getConfiguredWordAtPosition(Ie.getStartPosition());if(!te)return null;Ne=te.word,Ke=new Oe.Selection(Ie.startLineNumber,te.startColumn,Ie.startLineNumber,te.endColumn)}else Ne=j.getModel().getValueInRange(Ie).replace(/\r\n/g,"\n");return new L(j,te,ye,Ne,ve,Ce,Ke)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const j=this._getNextMatch();if(!j)return null;const te=this._editor.getSelections();return new _(te.concat(j),j,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const j=this._getNextMatch();if(!j)return null;const te=this._editor.getSelections();return new _(te.slice(0,te.length-1).concat(j),j,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const j=this.currentMatch;return this.currentMatch=null,j}this.findController.highlightFindOptions();const j=this._editor.getSelections(),te=j[j.length-1],he=this._editor.getModel().findNextMatch(this.searchText,te.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return he?new Oe.Selection(he.range.startLineNumber,he.range.startColumn,he.range.endLineNumber,he.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const j=this._getPreviousMatch();if(!j)return null;const te=this._editor.getSelections();return new _(te.concat(j),j,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const j=this._getPreviousMatch();if(!j)return null;const te=this._editor.getSelections();return new _(te.slice(0,te.length-1).concat(j),j,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const j=this.currentMatch;return this.currentMatch=null,j}this.findController.highlightFindOptions();const j=this._editor.getSelections(),te=j[j.length-1],he=this._editor.getModel().findPreviousMatch(this.searchText,te.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return he?new Oe.Selection(he.range.startLineNumber,he.range.startColumn,he.range.endLineNumber,he.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824)):[]}}te.MultiCursorSession=L;class E extends ye.Disposable{constructor(j){super(),this._sessionDispose=this._register(new ye.DisposableStore),this._editor=j,this._ignoreSelectionChange=!1,this._session=null}static get(j){return j.getContribution(E.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(j){if(!this._session){const te=L.create(this._editor,j);if(!te)return;this._session=te;const he={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(he.wholeWordOverride=1,he.matchCaseOverride=1,he.isRegexOverride=2),j.getState().change(he,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((j=>{this._ignoreSelectionChange||this._endSession()}))),this._sessionDispose.add(this._editor.onDidBlurEditorText((()=>{this._endSession()}))),this._sessionDispose.add(j.getState().onFindReplaceStateChange((j=>{(j.matchCase||j.wholeWord)&&this._endSession()})))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const j={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(j,!1)}this._session=null}_setSelections(j){this._ignoreSelectionChange=!0,this._editor.setSelections(j),this._ignoreSelectionChange=!1}_expandEmptyToWord(j,te){if(!te.isEmpty())return te;const he=this._editor.getConfiguredWordAtPosition(te.getStartPosition());return he?new Oe.Selection(te.startLineNumber,he.startColumn,te.startLineNumber,he.endColumn):te}_applySessionResult(j){!j||(this._setSelections(j.selections),j.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(j.revealRange,j.revealScrollType))}getSession(j){return this._session}addSelectionToNextFindMatch(j){if(this._editor.hasModel()){if(!this._session){const te=this._editor.getSelections();if(te.length>1){const he=j.getState().matchCase;if(!W(this._editor.getModel(),te,he)){const j=this._editor.getModel();let he=[];for(let ve=0,Ce=te.length;ve<Ce;ve++)he[ve]=this._expandEmptyToWord(j,te[ve]);return void this._editor.setSelections(he)}}}this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(j){this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(j){this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(j){this._beginSessionIfNeeded(j),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(j){if(!this._editor.hasModel())return;let te=null;const he=j.getState();if(he.isRevealed&&he.searchString.length>0&&he.isRegex)te=this._editor.getModel().findMatches(he.searchString,!0,he.isRegex,he.matchCase,he.wholeWord?this._editor.getOption(117):null,!1,1073741824);else{if(this._beginSessionIfNeeded(j),!this._session)return;te=this._session.selectAll()}if(he.searchScope){const j=he.searchScope;let ve=[];te.forEach((te=>{j.forEach((j=>{te.range.endLineNumber<=j.endLineNumber&&te.range.startLineNumber>=j.startLineNumber&&ve.push(te)}))})),te=ve}if(te.length>0){const j=this._editor.getSelection();for(let he=0,ve=te.length;he<ve;he++){const ve=te[he];if(ve.range.intersectRanges(j)){te[he]=te[0],te[0]=ve;break}}this._setSelections(te.map((j=>new Oe.Selection(j.range.startLineNumber,j.range.startColumn,j.range.endLineNumber,j.range.endColumn))))}}}te.MultiCursorSelectionController=E,E.ID="editor.contrib.multiCursorController";class N extends Ee.EditorAction{run(j,te){const he=E.get(te);if(!he)return;const ve=et.CommonFindController.get(te);if(!ve)return;const Ce=te._getViewModel();if(Ce){const j=Ce.getCursorStates();this._run(he,ve),d(j,Ce.getCursorStates())}}}te.MultiCursorSelectionControllerAction=N;class k extends N{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:nt.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Ke.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:rt.MenuId.MenubarSelectionMenu,group:"3_multi",title:nt.localize(11,null),order:5}})}_run(j,te){j.addSelectionToNextFindMatch(te)}}te.AddSelectionToNextFindMatchAction=k;class M extends N{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:nt.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:rt.MenuId.MenubarSelectionMenu,group:"3_multi",title:nt.localize(13,null),order:6}})}_run(j,te){j.addSelectionToPreviousFindMatch(te)}}te.AddSelectionToPreviousFindMatchAction=M;class O extends N{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:nt.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Ke.EditorContextKeys.focus,primary:(0,Ce.KeyChord)(2089,2082),weight:100}})}_run(j,te){j.moveSelectionToNextFindMatch(te)}}te.MoveSelectionToNextFindMatchAction=O;class B extends N{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:nt.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(j,te){j.moveSelectionToPreviousFindMatch(te)}}te.MoveSelectionToPreviousFindMatchAction=B;class T extends N{constructor(){super({id:"editor.action.selectHighlights",label:nt.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:Ke.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:rt.MenuId.MenubarSelectionMenu,group:"3_multi",title:nt.localize(17,null),order:7}})}_run(j,te){j.selectAll(te)}}te.SelectHighlightsAction=T;class R extends N{constructor(){super({id:"editor.action.changeAll",label:nt.localize(18,null),alias:"Change All Occurrences",precondition:at.ContextKeyExpr.and(Ke.EditorContextKeys.writable,Ke.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(j,te){j.selectAll(te)}}te.CompatChangeAll=R;class P{constructor(j,te,he,ve,Ce){this._model=j,this._searchText=te,this._matchCase=he,this._wordSeparators=ve,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Ce&&this._model===Ce._model&&this._searchText===Ce._searchText&&this._matchCase===Ce._matchCase&&this._wordSeparators===Ce._wordSeparators&&this._modelVersionId===Ce._modelVersionId&&(this._cachedFindMatches=Ce._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map((j=>j.range)),this._cachedFindMatches.sort(Ne.Range.compareRangesUsingStarts)),this._cachedFindMatches}}class F extends ye.Disposable{constructor(j){super(),this.editor=j,this._isEnabled=j.getOption(97),this.decorations=[],this.updateSoon=this._register(new ve.RunOnceScheduler((()=>this._update()),300)),this.state=null,this._register(j.onDidChangeConfiguration((te=>{this._isEnabled=j.getOption(97)}))),this._register(j.onDidChangeCursorSelection((j=>{!this._isEnabled||(j.selection.isEmpty()?3===j.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())}))),this._register(j.onDidChangeModel((j=>{this._setState(null)}))),this._register(j.onDidChangeModelContent((j=>{this._isEnabled&&this.updateSoon.schedule()})));const te=et.CommonFindController.get(j);te&&this._register(te.getState().onFindReplaceStateChange((j=>{this._update()})))}_update(){this._setState(F._createState(this.state,this._isEnabled,this.editor))}static _createState(j,te,he){if(!te||!he.hasModel())return null;const ve=he.getSelection();if(ve.startLineNumber!==ve.endLineNumber)return null;const Ce=E.get(he);if(!Ce)return null;const ye=et.CommonFindController.get(he);if(!ye)return null;let Ee=Ce.getSession(ye);if(!Ee){const j=he.getSelections();if(j.length>1){const te=ye.getState().matchCase;if(!W(he.getModel(),j,te))return null}Ee=L.create(he,ye)}if(!Ee||Ee.currentMatch||/^[ \t]+$/.test(Ee.searchText)||Ee.searchText.length>200)return null;const Ie=ye.getState(),Ne=Ie.matchCase;if(Ie.isRevealed){let j=Ie.searchString;Ne||(j=j.toLowerCase());let te=Ee.searchText;if(Ne||(te=te.toLowerCase()),j===te&&Ee.matchCase===Ie.matchCase&&Ee.wholeWord===Ie.wholeWord&&!Ie.isRegex)return null}return new P(he.getModel(),Ee.searchText,Ee.matchCase,Ee.wholeWord?he.getOption(117):null,j)}_setState(j){if(this.state=j,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const te=this.editor.getModel();if(te.isTooLargeForTokenization())return;const he=this.state.findMatches(),ve=this.editor.getSelections();ve.sort(Ne.Range.compareRangesUsingStarts);const Ce=[];for(let j=0,te=0,ye=he.length,Ee=ve.length;j<ye;){const ye=he[j];if(te>=Ee)Ce.push(ye),j++;else{const he=Ne.Range.compareRangesUsingStarts(ye,ve[te]);he<0?((ve[te].isEmpty()||!Ne.Range.areIntersecting(ye,ve[te]))&&Ce.push(ye),j++):(he>0||j++,te++)}}const ye=Ye.DocumentHighlightProviderRegistry.has(te)&&this.editor.getOption(72),Ee=Ce.map((j=>({range:j,options:ye?F._SELECTION_HIGHLIGHT:F._SELECTION_HIGHLIGHT_OVERVIEW})));this.decorations=this.editor.deltaDecorations(this.decorations,Ee)}dispose(){this._setState(null),super.dispose()}}function W(j,te,he){const ve=A(j,te[0],!he);for(let Ce=1,ye=te.length;Ce<ye;Ce++){const ye=te[Ce];if(ye.isEmpty())return!1;if(ve!==A(j,ye,!he))return!1}return!0}function A(j,te,he){const ve=j.getValueInRange(te);return he?ve.toLowerCase():ve}te.SelectionHighlighter=F,F.ID="editor.contrib.selectionHighlighter",F._SELECTION_HIGHLIGHT_OVERVIEW=Ze.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,ht.themeColorFromId)(ct.minimapSelectionOccurrenceHighlight),position:je.MinimapPosition.Inline},overviewRuler:{color:(0,ht.themeColorFromId)(ct.overviewRulerSelectionHighlightForeground),position:je.OverviewRulerLane.Center}}),F._SELECTION_HIGHLIGHT=Ze.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),(0,Ee.registerEditorContribution)(E.ID,E),(0,Ee.registerEditorContribution)(F.ID,F),(0,Ee.registerEditorAction)(u),(0,Ee.registerEditorAction)(f),(0,Ee.registerEditorAction)(S),(0,Ee.registerEditorAction)(k),(0,Ee.registerEditorAction)(M),(0,Ee.registerEditorAction)(O),(0,Ee.registerEditorAction)(B),(0,Ee.registerEditorAction)(T),(0,Ee.registerEditorAction)(R),(0,Ee.registerEditorAction)(v),(0,Ee.registerEditorAction)(C)})),define(Ce[725],ie([1,0,7,115,10,13,4,2,111,8,162,685,570,16,9,80,23,131,14,261,107,277,695,140,386,283]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft){Object.defineProperty(te,"__esModule",{value:!0}),te.SuggestContentWidget=te.SuggestWidget=te.editorSuggestWidgetStatusForeground=te.editorSuggestWidgetHighlightFocusForeground=te.editorSuggestWidgetHighlightForeground=te.editorSuggestWidgetSelectedBackground=te.editorSuggestWidgetSelectedIconForeground=te.editorSuggestWidgetSelectedForeground=te.editorSuggestWidgetForeground=te.editorSuggestWidgetBorder=te.editorSuggestWidgetBackground=void 0,te.editorSuggestWidgetBackground=(0,rt.registerColor)("editorSuggestWidget.background",{dark:rt.editorWidgetBackground,light:rt.editorWidgetBackground,hc:rt.editorWidgetBackground},Ze.localize(0,null)),te.editorSuggestWidgetBorder=(0,rt.registerColor)("editorSuggestWidget.border",{dark:rt.editorWidgetBorder,light:rt.editorWidgetBorder,hc:rt.editorWidgetBorder},Ze.localize(1,null)),te.editorSuggestWidgetForeground=(0,rt.registerColor)("editorSuggestWidget.foreground",{dark:rt.editorForeground,light:rt.editorForeground,hc:rt.editorForeground},Ze.localize(2,null)),te.editorSuggestWidgetSelectedForeground=(0,rt.registerColor)("editorSuggestWidget.selectedForeground",{dark:rt.quickInputListFocusForeground,light:rt.quickInputListFocusForeground,hc:rt.quickInputListFocusForeground},Ze.localize(3,null)),te.editorSuggestWidgetSelectedIconForeground=(0,rt.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:rt.quickInputListFocusIconForeground,light:rt.quickInputListFocusIconForeground,hc:rt.quickInputListFocusIconForeground},Ze.localize(4,null)),te.editorSuggestWidgetSelectedBackground=(0,rt.registerColor)("editorSuggestWidget.selectedBackground",{dark:rt.quickInputListFocusBackground,light:rt.quickInputListFocusBackground,hc:rt.quickInputListFocusBackground},Ze.localize(5,null)),te.editorSuggestWidgetHighlightForeground=(0,rt.registerColor)("editorSuggestWidget.highlightForeground",{dark:rt.listHighlightForeground,light:rt.listHighlightForeground,hc:rt.listHighlightForeground},Ze.localize(6,null)),te.editorSuggestWidgetHighlightFocusForeground=(0,rt.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:rt.listFocusHighlightForeground,light:rt.listFocusHighlightForeground,hc:rt.listFocusHighlightForeground},Ze.localize(7,null)),te.editorSuggestWidgetStatusForeground=(0,rt.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,rt.transparent)(te.editorSuggestWidgetForeground,.5),light:(0,rt.transparent)(te.editorSuggestWidgetForeground,.5),hc:(0,rt.transparent)(te.editorSuggestWidgetForeground,.5)},Ze.localize(8,null));class S{constructor(j,te){this._service=j,this._key=`suggestWidget.size/${te.getEditorType()}/${te instanceof Ke.EmbeddedCodeEditorWidget}`}restore(){var j;const te=null!==(j=this._service.get(this._key,0))&&void 0!==j?j:"";try{const j=JSON.parse(te);if(he.Dimension.is(j))return he.Dimension.lift(j)}catch{}}store(j){this._service.store(this._key,JSON.stringify(j),0,1)}reset(){this._service.remove(this._key,0)}}let _t=class ii{constructor(j,ye,Ne,Ke,Ye){this.editor=j,this._storageService=ye,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Ce.TimeoutTimer,this._disposables=new Ie.DisposableStore,this._onDidSelect=new Ee.Emitter,this._onDidFocus=new Ee.Emitter,this._onDidHide=new Ee.Emitter,this._onDidShow=new Ee.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new Ee.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new ht.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new C(this,j),this._persistedSize=new S(ye,j);class O{constructor(j,te,he=!1,ve=!1){this.persistedSize=j,this.currentSize=te,this.persistHeight=he,this.persistWidth=ve}}let et;this._disposables.add(this.element.onDidWillResize((()=>{this._contentWidget.lockPreference(),et=new O(this._persistedSize.restore(),this.element.size)}))),this._disposables.add(this.element.onDidResize((j=>{var te,ve,Ce,ye;if(this._resize(j.dimension.width,j.dimension.height),et&&(et.persistHeight=et.persistHeight||!!j.north||!!j.south,et.persistWidth=et.persistWidth||!!j.east||!!j.west),j.done){if(et){const{itemHeight:j,defaultSize:Ee}=this.getLayoutInfo(),Ie=Math.round(j/2);let{width:Ne,height:Oe}=this.element.size;(!et.persistHeight||Math.abs(et.currentSize.height-Oe)<=Ie)&&(Oe=null!==(ve=null===(te=et.persistedSize)||void 0===te?void 0:te.height)&&void 0!==ve?ve:Ee.height),(!et.persistWidth||Math.abs(et.currentSize.width-Ne)<=Ie)&&(Ne=null!==(ye=null===(Ce=et.persistedSize)||void 0===Ce?void 0:Ce.width)&&void 0!==ye?ye:Ee.width),this._persistedSize.store(new he.Dimension(Ne,Oe))}this._contentWidget.unlockPreference(),et=void 0}}))),this._messageElement=he.append(this.element.domNode,he.$(".message")),this._listElement=he.append(this.element.domNode,he.$(".tree"));const nt=Ye.createInstance(pt.SuggestDetailsWidget,this.editor);nt.onDidClose(this.toggleDetails,this,this._disposables),this._details=new pt.SuggestDetailsOverlay(nt,this.editor);const R=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);R();const ct=Ye.createInstance(ft.ItemRenderer,this.editor);this._disposables.add(ct),this._disposables.add(ct.onDidToggleDetails((()=>this.toggleDetails()))),this._list=new ve.List("SuggestWidget",this._listElement,{getHeight:j=>this.getLayoutInfo().itemHeight,getTemplateId:j=>"suggestion"},[ct],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>Ze.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:j=>{let te=j.textLabel;if("string"!=typeof j.completion.label){const{detail:he,description:ve}=j.completion.label;he&&ve?te=Ze.localize(12,null,te,he,ve):he?te=Ze.localize(13,null,te,he):ve&&(te=Ze.localize(14,null,te,ve))}if(!j.isResolved||!this._isDetailsVisible())return te;const{documentation:he,detail:ve}=j.completion,Ce=Oe.format("{0}{1}",ve||"",he?"string"==typeof he?he:he.value:"");return Ze.localize(15,null,te,Ce)}}}),this._status=Ye.createInstance(je.SuggestWidgetStatus,this.element.domNode);const F=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);F(),this._disposables.add((0,at.attachListStyler)(this._list,Ke,{listInactiveFocusBackground:te.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:rt.activeContrastBorder})),this._disposables.add(Ke.onDidColorThemeChange((j=>this._onThemeChange(j)))),this._onThemeChange(Ke.getColorTheme()),this._disposables.add(this._list.onMouseDown((j=>this._onListMouseDownOrTap(j)))),this._disposables.add(this._list.onTap((j=>this._onListMouseDownOrTap(j)))),this._disposables.add(this._list.onDidChangeSelection((j=>this._onListSelection(j)))),this._disposables.add(this._list.onDidChangeFocus((j=>this._onListFocus(j)))),this._disposables.add(this.editor.onDidChangeCursorSelection((()=>this._onCursorSelectionChanged()))),this._disposables.add(this.editor.onDidChangeConfiguration((j=>{j.hasChanged(106)&&(F(),R())}))),this._ctxSuggestWidgetVisible=mt.Context.Visible.bindTo(Ne),this._ctxSuggestWidgetDetailsVisible=mt.Context.DetailsVisible.bindTo(Ne),this._ctxSuggestWidgetMultipleSuggestions=mt.Context.MultipleSuggestions.bindTo(Ne),this._disposables.add(he.addStandardDisposableListener(this._details.widget.domNode,"keydown",(j=>{this._onDetailsKeydown.fire(j)}))),this._disposables.add(this.editor.onMouseDown((j=>this._onEditorMouseDown(j))))}dispose(){var j;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(j=this._loadingTimeout)||void 0===j||j.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(j){this._details.widget.domNode.contains(j.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(j.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(j){void 0===j.element||void 0===j.index||(j.browserEvent.preventDefault(),j.browserEvent.stopPropagation(),this._select(j.element,j.index))}_onListSelection(j){j.elements.length&&this._select(j.elements[0],j.indexes[0])}_select(j,te){const he=this._completionModel;he&&(this._onDidSelect.fire({item:j,index:te,model:he}),this.editor.focus())}_onThemeChange(j){this._details.widget.borderWidth="hc"===j.type?2:1}_onListFocus(j){var te;if(this._ignoreFocusEvents)return;if(!j.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(!this._completionModel)return;const he=j.elements[0],ve=j.indexes[0];he!==this._focusedItem&&(null===(te=this._currentSuggestionDetails)||void 0===te||te.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=he,this._list.reveal(ve),this._currentSuggestionDetails=(0,Ce.createCancelablePromise)((j=>fi(this,void 0,void 0,(function*(){const te=(0,Ce.disposableTimeout)((()=>{this._isDetailsVisible()&&this.showDetails(!0)}),250);j.onCancellationRequested((()=>te.dispose()));const ve=yield he.resolve(j);return te.dispose(),ve})))),this._currentSuggestionDetails.then((()=>{ve>=this._list.length||he!==this._list.element(ve)||(this._ignoreFocusEvents=!0,this._list.splice(ve,1,[he]),this._list.setFocus([ve]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,ft.getAriaId)(ve)}))})).catch(ye.onUnexpectedError)),this._onDidFocus.fire({item:he,index:ve,model:this._completionModel})}_setState(j){if(this._state!==j)switch(this._state=j,this.element.domNode.classList.toggle("frozen",4===j),this.element.domNode.classList.remove("message"),j){case 0:he.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=ii.LOADING_MESSAGE,he.hide(this._listElement,this._status.element),he.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=ii.NO_SUGGESTIONS_MESSAGE,he.hide(this._listElement,this._status.element),he.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:he.hide(this._messageElement),he.show(this._listElement,this._status.element),this._show();break;case 5:he.hide(this._messageElement),he.show(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet((()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)}),100)}showTriggered(j,te){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!j,this._isAuto||(this._loadingTimeout=(0,Ce.disposableTimeout)((()=>this._setState(1)),te)))}showSuggestions(j,te,he,ve){var Ce,ye;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(Ce=this._loadingTimeout)||void 0===Ce||Ce.dispose(),null===(ye=this._currentSuggestionDetails)||void 0===ye||ye.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==j&&(this._completionModel=j),he&&2!==this._state&&0!==this._state)return void this._setState(4);const Ee=this._completionModel.items.length,Ie=0===Ee;if(this._ctxSuggestWidgetMultipleSuggestions.set(Ee>1),Ie)return this._setState(ve?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(he?4:3),this._list.reveal(te,0),this._list.setFocus([te]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,pt.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(3===this._state||5===this._state||4===this._state)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(j){this._details.show(),j?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var j;null===(j=this._loadingTimeout)||void 0===j||j.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const te=this._persistedSize.restore(),he=Math.ceil(4.3*this.getLayoutInfo().itemHeight);te&&te.height<he&&this._persistedSize.store(te.with(void 0,he))}isFrozen(){return 4===this._state}_afterRender(j){null!==j?2===this._state||1===this._state||(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(j){var te,ve,Ce;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const ye=he.getClientArea(document.body),Ee=this.getLayoutInfo();j||(j=Ee.defaultSize);let Ie=j.height,Ne=j.width;if(this._status.element.style.lineHeight=`${Ee.itemHeight}px`,2===this._state||1===this._state)Ie=Ee.itemHeight+Ee.borderHeight,Ne=Ee.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new he.Dimension(Ne,Ie),this._contentWidget.setPreference(2);else{const Oe=ye.width-Ee.borderHeight-2*Ee.horizontalPadding;Ne>Oe&&(Ne=Oe);const Ke=this._completionModel?this._completionModel.stats.pLabelLen*Ee.typicalHalfwidthCharacterWidth:Ne,je=Ee.statusBarHeight+this._list.contentHeight+Ee.borderHeight,Ze=Ee.itemHeight+Ee.statusBarHeight,Ye=he.getDomNodePagePosition(this.editor.getDomNode()),et=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),nt=Ye.top+et.top+et.height,rt=Math.min(ye.height-nt-Ee.verticalPadding,je),at=Ye.top+et.top-Ee.verticalPadding,ct=Math.min(at,je);let ht=Math.min(Math.max(ct,rt)+Ee.borderHeight,je);Ie===(null===(te=this._cappedHeight)||void 0===te?void 0:te.capped)&&(Ie=this._cappedHeight.wanted),Ie<Ze&&(Ie=Ze),Ie>ht&&(Ie=ht);const mt=150;Ie>rt||this._forceRenderingAbove&&at>mt?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ht=ct):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ht=rt),this.element.preferredSize=new he.Dimension(Ke,Ee.defaultSize.height),this.element.maxSize=new he.Dimension(Oe,ht),this.element.minSize=new he.Dimension(220,Ze),this._cappedHeight=Ie===je?{wanted:null!==(Ce=null===(ve=this._cappedHeight)||void 0===ve?void 0:ve.wanted)&&void 0!==Ce?Ce:j.height,capped:Ie}:void 0}this._resize(Ne,Ie)}_resize(j,te){const{width:he,height:ve}=this.element.maxSize;j=Math.min(he,j),te=Math.min(ve,te);const{statusBarHeight:Ce}=this.getLayoutInfo();this._list.layout(te-Ce,j),this._listElement.style.height=te-Ce+"px",this.element.layout(te,j),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var j;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(j=this._contentWidget.getPosition())||void 0===j?void 0:j.preference[0]))}getLayoutInfo(){const j=this.editor.getOption(44),te=(0,Ne.clamp)(this.editor.getOption(108)||j.lineHeight,8,1e3),ve=this.editor.getOption(106).showStatusBar&&2!==this._state&&1!==this._state?te:0,Ce=this._details.widget.borderWidth,ye=2*Ce;return{itemHeight:te,statusBarHeight:ve,borderWidth:Ce,borderHeight:ye,typicalHalfwidthCharacterWidth:j.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new he.Dimension(430,ve+12*te+ye)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(j){this._storageService.store("expandSuggestionDocs",j,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};_t.LOADING_MESSAGE=Ze.localize(9,null),_t.NO_SUGGESTIONS_MESSAGE=Ze.localize(10,null),_t=Ci([Zi(1,nt.IStorageService),Zi(2,Ye.IContextKeyService),Zi(3,ct.IThemeService),Zi(4,et.IInstantiationService)],_t),te.SuggestWidget=_t;class C{constructor(j,te){this._widget=j,this._editor=te,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:j,width:te}=this._widget.element.size,{borderWidth:ve,horizontalPadding:Ce}=this._widget.getLayoutInfo();return new he.Dimension(te+2*ve+Ce,j+2*ve)}afterRender(j){this._widget._afterRender(j)}setPreference(j){this._preferenceLocked||(this._preference=j)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(j){this._position=j}}te.SuggestContentWidget=C})),define(Ce[726],ie([1,0,10,2,15,18,270,45,291,281,40,14,92,65]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){Object.defineProperty(te,"__esModule",{value:!0});let et=class extends ve.Disposable{constructor(j,te,ve,Ce,Ee){super(),this._modelService=te,this._themeService=ve,this._configurationService=Ce,this._editor=j,this._debounceInformation=Ee.for(ye.DocumentRangeSemanticTokensProviderRegistry,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=new he.RunOnceScheduler((()=>this._tokenizeViewportNow()),100),this._outstandingRequests=[];const u=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange((()=>{u()}))),this._register(this._editor.onDidChangeModel((()=>{this._cancelAll(),u()}))),this._register(this._editor.onDidChangeModelContent((j=>{this._cancelAll(),u()}))),this._register(ye.DocumentRangeSemanticTokensProviderRegistry.onDidChange((()=>{this._cancelAll(),u()}))),this._register(this._configurationService.onDidChangeConfiguration((j=>{j.affectsConfiguration(Ne.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),u())}))),this._register(this._themeService.onDidColorThemeChange((()=>{this._cancelAll(),u()})))}_cancelAll(){for(const j of this._outstandingRequests)j.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(j){for(let te=0,he=this._outstandingRequests.length;te<he;te++)if(this._outstandingRequests[te]===j)return void this._outstandingRequests.splice(te,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const j=this._editor.getModel();if(j.hasCompleteSemanticTokens())return;if(!(0,Ne.isSemanticColoringEnabled)(j,this._themeService,this._configurationService))return void(j.hasSomeSemanticTokens()&&j.setSemanticTokens(null,!1));if(!(0,Ee.hasDocumentRangeSemanticTokensProvider)(j))return void(j.hasSomeSemanticTokens()&&j.setSemanticTokens(null,!1));const te=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(te.map((te=>this._requestRange(j,te))))}_requestRange(j,te){const ve=j.getVersionId(),Ce=(0,he.createCancelablePromise)((he=>Promise.resolve((0,Ee.getDocumentRangeSemanticTokens)(j,te,he)))),ye=new Ye.StopWatch(!1);return Ce.then((he=>{if(this._debounceInformation.update(j,ye.elapsed()),!he||!he.tokens||j.isDisposed()||j.getVersionId()!==ve)return;const{provider:Ce,tokens:Ee}=he,Ie=this._modelService.getSemanticTokensProviderStyling(Ce);j.setPartialSemanticTokens(te,(0,Oe.toMultilineTokens2)(Ee,Ie,j.getLanguageId()))})).then((()=>this._removeOutstandingRequest(Ce)),(()=>this._removeOutstandingRequest(Ce))),Ce}};et.ID="editor.contrib.viewportSemanticTokens",et=Ci([Zi(1,Ie.IModelService),Zi(2,je.IThemeService),Zi(3,Ke.IConfigurationService),Zi(4,Ze.ILanguageFeatureDebounceService)],et),(0,Ce.registerEditorContribution)(et.ID,et)})),define(Ce[727],ie([1,0,43,19,10,21,13,2,15,3,24,49,33,18,579,16,23,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at){Object.defineProperty(te,"__esModule",{value:!0}),te.getOccurrencesAtPosition=void 0;const ct=(0,rt.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},et.localize(0,null),!0),ht=(0,rt.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},et.localize(1,null),!0),mt=(0,rt.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hc:rt.activeContrastBorder},et.localize(2,null)),pt=(0,rt.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:rt.activeContrastBorder},et.localize(3,null)),ft=(0,rt.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},et.localize(4,null),!0),_t=(0,rt.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},et.localize(5,null),!0),Ct=new nt.RawContextKey("hasWordHighlights",!1);function C(j,te,he){const ye=Ye.DocumentHighlightProviderRegistry.ordered(j);return(0,Ce.first)(ye.map((ve=>()=>Promise.resolve(ve.provideDocumentHighlights(j,te,he)).then(void 0,Ee.onUnexpectedExternalError))),ve.isNonEmptyArray)}te.getOccurrencesAtPosition=C;class _{constructor(j,te,he){this._wordRange=this._getCurrentWordRange(j,te),this.result=(0,Ce.createCancelablePromise)((ve=>this._compute(j,te,he,ve)))}_getCurrentWordRange(j,te){const he=j.getWordAtPosition(te.getPosition());return he?new Oe.Range(te.startLineNumber,he.startColumn,te.startLineNumber,he.endColumn):null}isValid(j,te,he){const ve=te.startLineNumber,Ce=te.startColumn,ye=te.endColumn,Ee=this._getCurrentWordRange(j,te);let Ie=Boolean(this._wordRange&&this._wordRange.equalsRange(Ee));for(let te=0,Ee=he.length;!Ie&&te<Ee;te++){let Ee=j.getDecorationRange(he[te]);Ee&&Ee.startLineNumber===ve&&Ee.startColumn<=Ce&&Ee.endColumn>=ye&&(Ie=!0)}return Ie}cancel(){this.result.cancel()}}class L extends _{_compute(j,te,he,ve){return C(j,te.getPosition(),ve).then((j=>j||[]))}}class E extends _{constructor(j,te,he){super(j,te,he),this._selectionIsEmpty=te.isEmpty()}_compute(j,te,he,ve){return(0,Ce.timeout)(250,ve).then((()=>{if(!te.isEmpty())return[];const ve=j.getWordAtPosition(te.getPosition());return!ve||ve.word.length>1e3?[]:j.findMatches(ve.word,!0,!1,!0,he,!1).map((j=>({range:j.range,kind:Ye.DocumentHighlightKind.Text})))}))}isValid(j,te,he){const ve=te.isEmpty();return this._selectionIsEmpty===ve&&super.isValid(j,te,he)}}(0,Ne.registerModelAndPositionCommand)("_executeDocumentHighlights",((j,te)=>C(j,te,ye.CancellationToken.None)));class k{constructor(j,te){this.toUnhook=new Ie.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=j,this._hasWordHighlights=Ct.bindTo(te),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(72),this.model=this.editor.getModel(),this.toUnhook.add(j.onDidChangeCursorPosition((j=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(j)}))),this.toUnhook.add(j.onDidChangeModelContent((j=>{this._stopAll()}))),this.toUnhook.add(j.onDidChangeConfiguration((j=>{let te=this.editor.getOption(72);this.occurrencesHighlight!==te&&(this.occurrencesHighlight=te,this._stopAll())}))),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return ve.coalesce(this._decorationIds.map((j=>this.model.getDecorationRange(j))).sort(Oe.Range.compareRangesUsingStarts))}moveNext(){let j=this._getSortedHighlights(),te=(j.findIndex((j=>j.containsPosition(this.editor.getPosition())))+1)%j.length,ve=j[te];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ve.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ve);const Ce=this._getWord();if(Ce){const ye=this.editor.getModel().getLineContent(ve.startLineNumber);(0,he.alert)(`${ye}, ${te+1} of ${j.length} for '${Ce.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let j=this._getSortedHighlights(),te=(j.findIndex((j=>j.containsPosition(this.editor.getPosition())))-1+j.length)%j.length,ve=j[te];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ve.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ve);const Ce=this._getWord();if(Ce){const ye=this.editor.getModel().getLineContent(ve.startLineNumber);(0,he.alert)(`${ye}, ${te+1} of ${j.length} for '${Ce.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(j){this.occurrencesHighlight&&3===j.reason?this._run():this._stopAll()}_getWord(){let j=this.editor.getSelection(),te=j.startLineNumber,he=j.startColumn;return this.model.getWordAtPosition({lineNumber:te,column:he})}_run(){let j=this.editor.getSelection();if(j.startLineNumber!==j.endLineNumber)return void this._stopAll();let te=j.startColumn,he=j.endColumn;const ve=this._getWord();if(!ve||ve.startColumn>te||ve.endColumn<he)return void this._stopAll();const Ce=this.workerRequest&&this.workerRequest.isValid(this.model,j,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),Ce)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let j=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function N(j,te,he){return Ye.DocumentHighlightProviderRegistry.has(j)?new L(j,te,he):new E(j,te,he)}(this.model,this.editor.getSelection(),this.editor.getOption(117)),this.workerRequest.result.then((te=>{j===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=te||[],this._beginRenderDecorations())}),Ee.onUnexpectedError)}}_beginRenderDecorations(){let j=(new Date).getTime(),te=this.lastCursorPositionChangeTime+250;j>=te?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((()=>{this.renderDecorations()}),te-j)}renderDecorations(){this.renderDecorationsTimer=-1;let j=[];for(const te of this.workerRequestValue)te.range&&j.push({range:te.range,options:k._getDecorationOptions(te.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,j),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(j){return j===Ye.DocumentHighlightKind.Write?this._WRITE_OPTIONS:j===Ye.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}k._WRITE_OPTIONS=Ze.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,at.themeColorFromId)(_t),position:je.OverviewRulerLane.Center},minimap:{color:(0,at.themeColorFromId)(rt.minimapSelectionOccurrenceHighlight),position:je.MinimapPosition.Inline}}),k._TEXT_OPTIONS=Ze.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,at.themeColorFromId)(rt.overviewRulerSelectionHighlightForeground),position:je.OverviewRulerLane.Center},minimap:{color:(0,at.themeColorFromId)(rt.minimapSelectionOccurrenceHighlight),position:je.MinimapPosition.Inline}}),k._REGULAR_OPTIONS=Ze.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,at.themeColorFromId)(ft),position:je.OverviewRulerLane.Center},minimap:{color:(0,at.themeColorFromId)(rt.minimapSelectionOccurrenceHighlight),position:je.MinimapPosition.Inline}});let bt=class Fi extends Ie.Disposable{constructor(j,te){super(),this.wordHighlighter=null;const A=()=>{j.hasModel()&&(this.wordHighlighter=new k(j,te))};this._register(j.onDidChangeModel((j=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),A()}))),A()}static get(j){return j.getContribution(Fi.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(j){this.wordHighlighter&&j&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};bt.ID="editor.contrib.wordHighlighter",bt=Ci([Zi(1,nt.IContextKeyService)],bt);class O extends Ne.EditorAction{constructor(j,te){super(te),this._isNext=j}run(j,te){const he=bt.get(te);!he||(this._isNext?he.moveNext():he.moveBack())}}class R extends Ne.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:et.localize(8,null),alias:"Trigger Symbol Highlight",precondition:Ct.toNegated(),kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(j,te,he){const ve=bt.get(te);!ve||ve.restoreViewState(!0)}}(0,Ne.registerEditorContribution)(bt.ID,bt),(0,Ne.registerEditorAction)(class B extends O{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:et.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:Ct,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}),(0,Ne.registerEditorAction)(class T extends O{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:et.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:Ct,kbOpts:{kbExpr:Ke.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}),(0,Ne.registerEditorAction)(R),(0,at.registerThemingParticipant)(((j,te)=>{const he=j.getColor(rt.editorSelectionHighlight);he&&(te.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${he}; }`),te.addRule(`.monaco-editor .selectionHighlight { background-color: ${he.transparent(.5)}; }`));const ve=j.getColor(ct);ve&&te.addRule(`.monaco-editor .wordHighlight { background-color: ${ve}; }`);const Ce=j.getColor(ht);Ce&&te.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${Ce}; }`);const ye=j.getColor(rt.editorSelectionHighlightBorder);ye&&te.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===j.type?"dotted":"solid"} ${ye}; box-sizing: border-box; }`);const Ee=j.getColor(mt);Ee&&te.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===j.type?"dashed":"solid"} ${Ee}; box-sizing: border-box; }`);const Ie=j.getColor(pt);Ie&&te.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===j.type?"dashed":"solid"} ${Ie}; box-sizing: border-box; }`)}))})),define(Ce[295],ie([1,0,15,98,31,59,159,118,11,3,22,24,32,580,63,16,273]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt){Object.defineProperty(te,"__esModule",{value:!0}),te.DeleteInsideWord=te.DeleteWordRight=te.DeleteWordEndRight=te.DeleteWordStartRight=te.DeleteWordLeft=te.DeleteWordEndLeft=te.DeleteWordStartLeft=te.DeleteWordRightCommand=te.DeleteWordLeftCommand=te.DeleteWordCommand=te.CursorWordAccessibilityRightSelect=te.CursorWordAccessibilityRight=te.CursorWordRightSelect=te.CursorWordEndRightSelect=te.CursorWordStartRightSelect=te.CursorWordRight=te.CursorWordEndRight=te.CursorWordStartRight=te.CursorWordAccessibilityLeftSelect=te.CursorWordAccessibilityLeft=te.CursorWordLeftSelect=te.CursorWordEndLeftSelect=te.CursorWordStartLeftSelect=te.CursorWordLeft=te.CursorWordEndLeft=te.CursorWordStartLeft=te.WordRightCommand=te.WordLeftCommand=te.MoveWordCommand=void 0;class s extends he.EditorCommand{constructor(j){super(j),this._inSelectionMode=j.inSelectionMode,this._wordNavigationType=j.wordNavigationType}runEditorCommand(j,te,he){if(!te.hasModel())return;const ve=(0,Ie.getMapForWordSeparators)(te.getOption(117)),Ce=te.getModel(),Ee=te.getSelections().map((j=>{const te=new Ne.Position(j.positionLineNumber,j.positionColumn),he=this._move(ve,Ce,te,this._wordNavigationType);return this._moveTo(j,he,this._inSelectionMode)}));if(Ce.pushStackElement(),te._getViewModel().setCursorStates("moveWordCommand",3,Ee.map((j=>ye.CursorState.fromModelSelection(j)))),1===Ee.length){const j=new Ne.Position(Ee[0].positionLineNumber,Ee[0].positionColumn);te.revealPosition(j,0)}}_moveTo(j,te,he){return he?new Ke.Selection(j.selectionStartLineNumber,j.selectionStartColumn,te.lineNumber,te.column):new Ke.Selection(te.lineNumber,te.column,te.lineNumber,te.column)}}te.MoveWordCommand=s;class o extends s{_move(j,te,he,ve){return Ee.WordOperations.moveWordLeft(j,te,he,ve)}}te.WordLeftCommand=o;class a extends s{_move(j,te,he,ve){return Ee.WordOperations.moveWordRight(j,te,he,ve)}}te.WordRightCommand=a;class d extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}te.CursorWordStartLeft=d;class u extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}te.CursorWordEndLeft=u;class f extends o{constructor(){var j;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:nt.ContextKeyExpr.and(je.EditorContextKeys.textInputFocus,null===(j=nt.ContextKeyExpr.and(et.CONTEXT_ACCESSIBILITY_MODE_ENABLED,rt.IsWindowsContext))||void 0===j?void 0:j.negate()),primary:2063,mac:{primary:527},weight:100}})}}te.CursorWordLeft=f;class S extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}te.CursorWordStartLeftSelect=S;class v extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}te.CursorWordEndLeftSelect=v;class C extends o{constructor(){var j;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:nt.ContextKeyExpr.and(je.EditorContextKeys.textInputFocus,null===(j=nt.ContextKeyExpr.and(et.CONTEXT_ACCESSIBILITY_MODE_ENABLED,rt.IsWindowsContext))||void 0===j?void 0:j.negate()),primary:3087,mac:{primary:1551},weight:100}})}}te.CursorWordLeftSelect=C;class _ extends o{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(j,te,he,ve){return super._move((0,Ie.getMapForWordSeparators)(Ce.EditorOptions.wordSeparators.defaultValue),te,he,ve)}}te.CursorWordAccessibilityLeft=_;class L extends o{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(j,te,he,ve){return super._move((0,Ie.getMapForWordSeparators)(Ce.EditorOptions.wordSeparators.defaultValue),te,he,ve)}}te.CursorWordAccessibilityLeftSelect=L;class E extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}te.CursorWordStartRight=E;class N extends a{constructor(){var j;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:nt.ContextKeyExpr.and(je.EditorContextKeys.textInputFocus,null===(j=nt.ContextKeyExpr.and(et.CONTEXT_ACCESSIBILITY_MODE_ENABLED,rt.IsWindowsContext))||void 0===j?void 0:j.negate()),primary:2065,mac:{primary:529},weight:100}})}}te.CursorWordEndRight=N;class k extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}te.CursorWordRight=k;class M extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}te.CursorWordStartRightSelect=M;class O extends a{constructor(){var j;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:nt.ContextKeyExpr.and(je.EditorContextKeys.textInputFocus,null===(j=nt.ContextKeyExpr.and(et.CONTEXT_ACCESSIBILITY_MODE_ENABLED,rt.IsWindowsContext))||void 0===j?void 0:j.negate()),primary:3089,mac:{primary:1553},weight:100}})}}te.CursorWordEndRightSelect=O;class B extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}te.CursorWordRightSelect=B;class T extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(j,te,he,ve){return super._move((0,Ie.getMapForWordSeparators)(Ce.EditorOptions.wordSeparators.defaultValue),te,he,ve)}}te.CursorWordAccessibilityRight=T;class R extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(j,te,he,ve){return super._move((0,Ie.getMapForWordSeparators)(Ce.EditorOptions.wordSeparators.defaultValue),te,he,ve)}}te.CursorWordAccessibilityRightSelect=R;class P extends he.EditorCommand{constructor(j){super(j),this._whitespaceHeuristics=j.whitespaceHeuristics,this._wordNavigationType=j.wordNavigationType}runEditorCommand(j,te,he){const Ce=j.get(Ze.ILanguageConfigurationService);if(!te.hasModel())return;const ye=(0,Ie.getMapForWordSeparators)(te.getOption(117)),Ee=te.getModel(),Ne=te.getSelections(),Oe=te.getOption(5),Ke=te.getOption(8),je=Ce.getLanguageConfiguration(Ee.getLanguageId()).getAutoClosingPairs(),Ye=te._getViewModel(),et=Ne.map((j=>{const he=this._delete({wordSeparators:ye,model:Ee,selection:j,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:te.getOption(6),autoClosingBrackets:Oe,autoClosingQuotes:Ke,autoClosingPairs:je,autoClosedCharacters:Ye.getCursorAutoClosedCharacters()},this._wordNavigationType);return new ve.ReplaceCommand(he,"")}));te.pushUndoStop(),te.executeCommands(this.id,et),te.pushUndoStop()}}te.DeleteWordCommand=P;class F extends P{_delete(j,te){return Ee.WordOperations.deleteWordLeft(j,te)||new Oe.Range(1,1,1,1)}}te.DeleteWordLeftCommand=F;class W extends P{_delete(j,te){let he=Ee.WordOperations.deleteWordRight(j,te);if(he)return he;const ve=j.model.getLineCount(),Ce=j.model.getLineMaxColumn(ve);return new Oe.Range(ve,Ce,ve,Ce)}}te.DeleteWordRightCommand=W;class A extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:je.EditorContextKeys.writable})}}te.DeleteWordStartLeft=A;class H extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:je.EditorContextKeys.writable})}}te.DeleteWordEndLeft=H;class q extends F{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:je.EditorContextKeys.writable,kbOpts:{kbExpr:je.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}te.DeleteWordLeft=q;class X extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:je.EditorContextKeys.writable})}}te.DeleteWordStartRight=X;class G extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:je.EditorContextKeys.writable})}}te.DeleteWordEndRight=G;class re extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:je.EditorContextKeys.writable,kbOpts:{kbExpr:je.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}te.DeleteWordRight=re;class ae extends he.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:je.EditorContextKeys.writable,label:Ye.localize(0,null),alias:"Delete Word"})}run(j,te,he){if(!te.hasModel())return;const Ce=(0,Ie.getMapForWordSeparators)(te.getOption(117)),ye=te.getModel(),Ne=te.getSelections().map((j=>{const te=Ee.WordOperations.deleteInsideWord(Ce,ye,j);return new ve.ReplaceCommand(te,"")}));te.pushUndoStop(),te.executeCommands(this.id,Ne),te.pushUndoStop()}}te.DeleteInsideWord=ae,(0,he.registerEditorCommand)(new d),(0,he.registerEditorCommand)(new u),(0,he.registerEditorCommand)(new f),(0,he.registerEditorCommand)(new S),(0,he.registerEditorCommand)(new v),(0,he.registerEditorCommand)(new C),(0,he.registerEditorCommand)(new E),(0,he.registerEditorCommand)(new N),(0,he.registerEditorCommand)(new k),(0,he.registerEditorCommand)(new M),(0,he.registerEditorCommand)(new O),(0,he.registerEditorCommand)(new B),(0,he.registerEditorCommand)(new _),(0,he.registerEditorCommand)(new L),(0,he.registerEditorCommand)(new T),(0,he.registerEditorCommand)(new R),(0,he.registerEditorCommand)(new A),(0,he.registerEditorCommand)(new H),(0,he.registerEditorCommand)(new q),(0,he.registerEditorCommand)(new X),(0,he.registerEditorCommand)(new G),(0,he.registerEditorCommand)(new re),(0,he.registerEditorAction)(ae)})),define(Ce[728],ie([1,0,15,159,3,24,295,26]),(function(j,te,he,ve,Ce,ye,Ee,Ie){Object.defineProperty(te,"__esModule",{value:!0}),te.CursorWordPartRightSelect=te.CursorWordPartRight=te.WordPartRightCommand=te.CursorWordPartLeftSelect=te.CursorWordPartLeft=te.WordPartLeftCommand=te.DeleteWordPartRight=te.DeleteWordPartLeft=void 0;class p extends Ee.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:ye.EditorContextKeys.writable,kbOpts:{kbExpr:ye.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(j,te){return ve.WordPartOperations.deleteWordPartLeft(j)||new Ce.Range(1,1,1,1)}}te.DeleteWordPartLeft=p;class h extends Ee.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:ye.EditorContextKeys.writable,kbOpts:{kbExpr:ye.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(j,te){let he=ve.WordPartOperations.deleteWordPartRight(j);if(he)return he;const ye=j.model.getLineCount(),Ee=j.model.getLineMaxColumn(ye);return new Ce.Range(ye,Ee,ye,Ee)}}te.DeleteWordPartRight=h;class g extends Ee.MoveWordCommand{_move(j,te,he,Ce){return ve.WordPartOperations.moveWordPartLeft(j,te,he)}}te.WordPartLeftCommand=g;class t extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:ye.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}te.CursorWordPartLeft=t,Ie.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class i extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:ye.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}te.CursorWordPartLeftSelect=i,Ie.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class n extends Ee.MoveWordCommand{_move(j,te,he,Ce){return ve.WordPartOperations.moveWordPartRight(j,te,he)}}te.WordPartRightCommand=n;class l extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:ye.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}te.CursorWordPartRight=l;class c extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:ye.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}te.CursorWordPartRightSelect=c,(0,he.registerEditorCommand)(new p),(0,he.registerEditorCommand)(new h),(0,he.registerEditorCommand)(new t),(0,he.registerEditorCommand)(new i),(0,he.registerEditorCommand)(new l),(0,he.registerEditorCommand)(new c)})),define(Ce[729],ie([1,0,7,114,29,133,2,39,3,33,389]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.ZoneWidget=te.OverlayWidgetDelegate=te.ViewZoneDelegate=void 0;const Ke=new Ce.Color(new Ce.RGBA(0,122,204)),je={showArrow:!0,showFrame:!0,className:"",frameColor:Ke,arrowColor:Ke,keepEditorSelection:!1};class n{constructor(j,te,he,ve,Ce,ye){this.id="",this.domNode=j,this.afterLineNumber=te,this.afterColumn=he,this.heightInLines=ve,this._onDomNodeTop=Ce,this._onComputedHeight=ye}onDomNodeTop(j){this._onDomNodeTop(j)}onComputedHeight(j){this._onComputedHeight(j)}}te.ViewZoneDelegate=n;class l{constructor(j,te){this._id=j,this._domNode=te}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}te.OverlayWidgetDelegate=l;class c{constructor(j){this._editor=j,this._ruleName=c._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),he.removeCSSRulesContainingSelector(this._ruleName)}set color(j){this._color!==j&&(this._color=j,this._updateStyle())}set height(j){this._height!==j&&(this._height=j,this._updateStyle())}_updateStyle(){he.removeCSSRulesContainingSelector(this._ruleName),he.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(j){1===j.column&&(j={lineNumber:j.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:Ne.Range.fromPositions(j),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}c._IdGenerator=new ye.IdGenerator(".arrow-decoration-");te.ZoneWidget=class r{constructor(j,te={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new Ee.DisposableStore,this.container=null,this._isShowing=!1,this.editor=j,this.options=Ie.deepClone(te),Ie.mixin(this.options,je,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((j=>{const te=this._getWidth(j);this.domNode.style.width=te+"px",this.domNode.style.left=this._getLeft(j)+"px",this._onWidth(te)})))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((j=>{this._viewZone&&j.removeZone(this._viewZone.id),this._viewZone=null})),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new c(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(j){j.frameColor&&(this.options.frameColor=j.frameColor),j.arrowColor&&(this.options.arrowColor=j.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let j=this.options.frameColor.toString();this.container.style.borderTopColor=j,this.container.style.borderBottomColor=j}if(this._arrow&&this.options.arrowColor){let j=this.options.arrowColor.toString();this._arrow.color=j}}_getWidth(j){return j.width-j.minimap.minimapWidth-j.verticalScrollbarWidth}_getLeft(j){return j.minimap.minimapWidth>0&&0===j.minimap.minimapLeft?j.minimap.minimapWidth:0}_onViewZoneTop(j){this.domNode.style.top=j+"px"}_onViewZoneHeight(j){if(this.domNode.style.height=`${j}px`,this.container){let te=j-this._decoratingElementsHeight();this.container.style.height=`${te}px`;const he=this.editor.getLayoutInfo();this._doLayout(te,this._getWidth(he))}this._resizeSash&&this._resizeSash.layout()}get position(){const[j]=this._positionMarkerId;if(!j)return;const te=this.editor.getModel();if(!te)return;const he=te.getDecorationRange(j);return he?he.getStartPosition():void 0}show(j,te){const he=Ne.Range.isIRange(j)?Ne.Range.lift(j):Ne.Range.fromPositions(j);this._isShowing=!0,this._showImpl(he,te),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:he,options:Oe.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones((j=>{this._viewZone&&j.removeZone(this._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let j=this.editor.getOption(59),te=0;if(this.options.showArrow){te+=2*Math.round(j/3)}if(this.options.showFrame){te+=2*Math.round(j/9)}return te}_showImpl(j,te){const he=j.getStartPosition(),ve=this.editor.getLayoutInfo(),Ce=this._getWidth(ve);this.domNode.style.width=`${Ce}px`,this.domNode.style.left=this._getLeft(ve)+"px";const ye=document.createElement("div");ye.style.overflow="hidden";const Ee=this.editor.getOption(59),Ie=Math.max(12,this.editor.getLayoutInfo().height/Ee*.8);te=Math.min(te,Ie);let Ne=0,Oe=0;if(this._arrow&&this.options.showArrow&&(Ne=Math.round(Ee/3),this._arrow.height=Ne,this._arrow.show(he)),this.options.showFrame&&(Oe=Math.round(Ee/9)),this.editor.changeViewZones((j=>{this._viewZone&&j.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new n(ye,he.lineNumber,he.column,te,(j=>this._onViewZoneTop(j)),(j=>this._onViewZoneHeight(j))),this._viewZone.id=j.addZone(this._viewZone),this._overlayWidget=new l("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)})),this.container&&this.options.showFrame){const j=this.options.frameWidth?this.options.frameWidth:Oe;this.container.style.borderTopWidth=j+"px",this.container.style.borderBottomWidth=j+"px"}let Ke=te*Ee-this._decoratingElementsHeight();this.container&&(this.container.style.top=Ne+"px",this.container.style.height=Ke+"px",this.container.style.overflow="hidden"),this._doLayout(Ke,Ce),this.options.keepEditorSelection||this.editor.setSelection(j);const je=this.editor.getModel();if(je){const te=j.endLineNumber+1;te<=je.getLineCount()?this.revealLine(te,!1):this.revealLine(je.getLineCount(),!0)}}revealLine(j,te){te?this.editor.revealLineInCenter(j,0):this.editor.revealLine(j,0)}setCssClass(j,te){!this.container||(te&&this.container.classList.remove(te),this.container.classList.add(j))}_onWidth(j){}_doLayout(j,te){}_relayout(j){this._viewZone&&this._viewZone.heightInLines!==j&&this.editor.changeViewZones((te=>{this._viewZone&&(this._viewZone.heightInLines=j,te.layoutZone(this._viewZone.id))}))}_initSash(){if(this._resizeSash)return;let j;this._resizeSash=this._disposables.add(new ve.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((te=>{this._viewZone&&(j={startY:te.startY,heightInLines:this._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((()=>{j=void 0}))),this._disposables.add(this._resizeSash.onDidChange((te=>{if(j){let he=(te.currentY-j.startY)/this.editor.getOption(59),ve=he<0?Math.ceil(he):Math.floor(he),Ce=j.heightInLines+ve;Ce>5&&Ce<35&&this._relayout(Ce)}})))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const j=this.editor.getLayoutInfo();return j.width-j.minimap.minimapWidth}}})),define(Ce[108],ie([1,0,7,84,44,27,29,4,39,15,28,162,729,560,202,16,53,9,23,383]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct){var ht,mt;Object.defineProperty(te,"__esModule",{value:!0}),te.peekViewEditorMatchHighlightBorder=te.peekViewEditorMatchHighlight=te.peekViewResultsMatchHighlight=te.peekViewEditorGutterBackground=te.peekViewEditorBackground=te.peekViewResultsSelectionForeground=te.peekViewResultsSelectionBackground=te.peekViewResultsFileForeground=te.peekViewResultsMatchForeground=te.peekViewResultsBackground=te.peekViewBorder=te.peekViewTitleInfoForeground=te.peekViewTitleForeground=te.peekViewTitleBackground=te.PeekViewWidget=te.getOuterEditor=te.PeekContext=te.IPeekViewService=void 0,te.IPeekViewService=(0,at.createDecorator)("IPeekViewService"),(0,rt.registerSingleton)(te.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(j,te){const he=this._widgets.get(j);he&&(he.listener.dispose(),he.widget.dispose());this._widgets.set(j,{widget:te,listener:te.onDidClose((()=>{const he=this._widgets.get(j);he&&he.widget===te&&(he.listener.dispose(),this._widgets.delete(j))}))})}}),(mt=ht=te.PeekContext||(te.PeekContext={})).inPeekEditor=new nt.RawContextKey("inReferenceSearchEditor",!0,Ye.localize(0,null)),mt.notInPeekEditor=mt.inPeekEditor.toNegated();let pt=class{constructor(j,te){j instanceof je.EmbeddedCodeEditorWidget&&ht.inPeekEditor.bindTo(te)}dispose(){}};pt.ID="editor.contrib.referenceController",pt=Ci([Zi(1,nt.IContextKeyService)],pt),(0,Oe.registerEditorContribution)(pt.ID,pt),te.getOuterEditor=function u(j){let te=j.get(Ke.ICodeEditorService).getFocusedCodeEditor();return te instanceof je.EmbeddedCodeEditorWidget?te.getParentEditor():te};const ft={headerBackgroundColor:Ee.Color.white,primaryHeadingColor:Ee.Color.fromHex("#333333"),secondaryHeadingColor:Ee.Color.fromHex("#6c6c6cb3")};let _t=class extends Ze.ZoneWidget{constructor(j,te,he){super(j,te),this.instantiationService=he,this._onDidClose=new Ie.Emitter,this.onDidClose=this._onDidClose.event,Ne.mixin(this.options,ft,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(j){let te=this.options;j.headerBackgroundColor&&(te.headerBackgroundColor=j.headerBackgroundColor),j.primaryHeadingColor&&(te.primaryHeadingColor=j.primaryHeadingColor),j.secondaryHeadingColor&&(te.secondaryHeadingColor=j.secondaryHeadingColor),super.style(j)}_applyStyles(){super._applyStyles();let j=this.options;this._headElement&&j.headerBackgroundColor&&(this._headElement.style.backgroundColor=j.headerBackgroundColor.toString()),this._primaryHeading&&j.primaryHeadingColor&&(this._primaryHeading.style.color=j.primaryHeadingColor.toString()),this._secondaryHeading&&j.secondaryHeadingColor&&(this._secondaryHeading.style.color=j.secondaryHeadingColor.toString()),this._bodyElement&&j.frameColor&&(this._bodyElement.style.borderColor=j.frameColor.toString())}_fillContainer(j){this.setCssClass("peekview-widget"),this._headElement=he.$(".head"),this._bodyElement=he.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),j.appendChild(this._headElement),j.appendChild(this._bodyElement)}_fillHead(j,te){const Ee=he.$(".peekview-title");this.options.supportOnTitleClick&&(Ee.classList.add("clickable"),he.addStandardDisposableListener(Ee,"click",(j=>this._onTitleClick(j)))),he.append(this._headElement,Ee),this._fillTitleIcon(Ee),this._primaryHeading=he.$("span.filename"),this._secondaryHeading=he.$("span.dirname"),this._metaHeading=he.$("span.meta"),he.append(Ee,this._primaryHeading,this._secondaryHeading,this._metaHeading);const Ie=he.$(".peekview-actions");he.append(this._headElement,Ie);const Ne=this._getActionBarOptions();this._actionbarWidget=new ve.ActionBar(Ie,Ne),this._disposables.add(this._actionbarWidget),te||this._actionbarWidget.push(new Ce.Action("peekview.close",Ye.localize(1,null),ye.Codicon.close.classNames,!0,(()=>(this.dispose(),Promise.resolve()))),{label:!1,icon:!0})}_fillTitleIcon(j){}_getActionBarOptions(){return{actionViewItemProvider:et.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(j){}setTitle(j,te){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=j,this._primaryHeading.setAttribute("title",j),te?this._secondaryHeading.innerText=te:he.clearNode(this._secondaryHeading))}setMetaTitle(j){this._metaHeading&&(j?(this._metaHeading.innerText=j,he.show(this._metaHeading)):he.hide(this._metaHeading))}_doLayout(j,te){if(!this._isShowing&&j<0)return void this.dispose();const he=Math.ceil(1.2*this.editor.getOption(59)),ve=Math.round(j-(he+2));this._doLayoutHead(he,te),this._doLayoutBody(ve,te)}_doLayoutHead(j,te){this._headElement&&(this._headElement.style.height=`${j}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(j,te){this._bodyElement&&(this._bodyElement.style.height=`${j}px`)}};_t=Ci([Zi(2,at.IInstantiationService)],_t),te.PeekViewWidget=_t,te.peekViewTitleBackground=(0,ct.registerColor)("peekViewTitle.background",{dark:(0,ct.transparent)(ct.editorInfoForeground,.1),light:(0,ct.transparent)(ct.editorInfoForeground,.1),hc:null},Ye.localize(2,null)),te.peekViewTitleForeground=(0,ct.registerColor)("peekViewTitleLabel.foreground",{dark:Ee.Color.white,light:Ee.Color.black,hc:Ee.Color.white},Ye.localize(3,null)),te.peekViewTitleInfoForeground=(0,ct.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},Ye.localize(4,null)),te.peekViewBorder=(0,ct.registerColor)("peekView.border",{dark:ct.editorInfoForeground,light:ct.editorInfoForeground,hc:ct.contrastBorder},Ye.localize(5,null)),te.peekViewResultsBackground=(0,ct.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:Ee.Color.black},Ye.localize(6,null)),te.peekViewResultsMatchForeground=(0,ct.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:Ee.Color.white},Ye.localize(7,null)),te.peekViewResultsFileForeground=(0,ct.registerColor)("peekViewResult.fileForeground",{dark:Ee.Color.white,light:"#1E1E1E",hc:Ee.Color.white},Ye.localize(8,null)),te.peekViewResultsSelectionBackground=(0,ct.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},Ye.localize(9,null)),te.peekViewResultsSelectionForeground=(0,ct.registerColor)("peekViewResult.selectionForeground",{dark:Ee.Color.white,light:"#6C6C6C",hc:Ee.Color.white},Ye.localize(10,null)),te.peekViewEditorBackground=(0,ct.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:Ee.Color.black},Ye.localize(11,null)),te.peekViewEditorGutterBackground=(0,ct.registerColor)("peekViewEditorGutter.background",{dark:te.peekViewEditorBackground,light:te.peekViewEditorBackground,hc:te.peekViewEditorBackground},Ye.localize(12,null)),te.peekViewResultsMatchHighlight=(0,ct.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},Ye.localize(13,null)),te.peekViewEditorMatchHighlight=(0,ct.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},Ye.localize(14,null)),te.peekViewEditorMatchHighlightBorder=(0,ct.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:ct.activeContrastBorder},Ye.localize(15,null))})),define(Ce[730],ie([1,0,7,67,19,29,4,171,2,41,8,3,108,537,202,37,16,9,128,77,51,691,23,14,376]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t){Object.defineProperty(te,"__esModule",{value:!0}),te.editorMarkerNavigationBackground=te.editorMarkerNavigationInfoHeader=te.editorMarkerNavigationInfo=te.editorMarkerNavigationWarningHeader=te.editorMarkerNavigationWarning=te.editorMarkerNavigationErrorHeader=te.editorMarkerNavigationError=te.MarkerNavigationWidget=void 0;class v{constructor(j,te,Ce,ye,Ee){this._openerService=ye,this._labelService=Ee,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Ne.DisposableStore,this._editor=te;const Ie=document.createElement("div");Ie.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),Ie.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),Ie.appendChild(this._relatedBlock),this._disposables.add(he.addStandardDisposableListener(this._relatedBlock,"click",(j=>{j.preventDefault();const te=this._relatedDiagnostics.get(j.target);te&&Ce(te)}))),this._scrollable=new ve.ScrollableElement(Ie,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),j.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((j=>{Ie.style.left=`-${j.scrollLeft}px`,Ie.style.top=`-${j.scrollTop}px`}))),this._disposables.add(this._scrollable)}dispose(){(0,Ne.dispose)(this._disposables)}update(j){const{source:te,message:ve,relatedInformation:ye,code:Ee}=j;let Ne=((null==te?void 0:te.length)||0)+2;Ee&&(Ne+="string"==typeof Ee?Ee.length:Ee.value.length);const Oe=(0,Ke.splitLines)(ve);this._lines=Oe.length,this._longestLineLength=0;for(const j of Oe)this._longestLineLength=Math.max(j.length+Ne,this._longestLineLength);he.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(j)),this._editor.applyFontInfo(this._messageBlock);let je=this._messageBlock;for(const j of Oe)je=document.createElement("div"),je.innerText=j,""===j&&(je.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(je);if(te||Ee){const j=document.createElement("span");if(j.classList.add("details"),je.appendChild(j),te){const he=document.createElement("span");he.innerText=te,he.classList.add("source"),j.appendChild(he)}if(Ee)if("string"==typeof Ee){const te=document.createElement("span");te.innerText=`(${Ee})`,te.classList.add("code"),j.appendChild(te)}else{this._codeLink=he.$("a.code-link"),this._codeLink.setAttribute("href",`${Ee.target.toString()}`),this._codeLink.onclick=j=>{this._openerService.open(Ee.target,{allowCommands:!0}),j.preventDefault(),j.stopPropagation()};he.append(this._codeLink,he.$("span")).innerText=Ee.value,j.appendChild(this._codeLink)}}if(he.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,Ce.isNonEmptyArray)(ye)){const j=this._relatedBlock.appendChild(document.createElement("div"));j.style.paddingTop=`${Math.floor(.66*this._editor.getOption(59))}px`,this._lines+=1;for(const te of ye){let he=document.createElement("div"),ve=document.createElement("a");ve.classList.add("filename"),ve.innerText=`${(0,Ie.getBaseLabel)(te.resource)}(${te.startLineNumber}, ${te.startColumn}): `,ve.title=this._labelService.getUriLabel(te.resource),this._relatedDiagnostics.set(ve,te);let Ce=document.createElement("span");Ce.innerText=te.message,he.appendChild(ve),he.appendChild(Ce),this._lines+=1,j.appendChild(he)}}const Ze=this._editor.getOption(44),Ye=Math.ceil(Ze.typicalFullwidthCharacterWidth*this._longestLineLength*.75),et=Ze.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:Ye,scrollHeight:et})}layout(j,te){this._scrollable.getDomNode().style.height=`${j}px`,this._scrollable.getDomNode().style.width=`${te}px`,this._scrollable.setScrollDimensions({width:te,height:j})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(j){let te="";switch(j.severity){case ht.MarkerSeverity.Error:te=Ye.localize(0,null);break;case ht.MarkerSeverity.Warning:te=Ye.localize(1,null);break;case ht.MarkerSeverity.Info:te=Ye.localize(2,null);break;case ht.MarkerSeverity.Hint:te=Ye.localize(3,null)}let he=Ye.localize(4,null,te,j.startLineNumber+":"+j.startColumn);const ve=this._editor.getModel();return ve&&j.startLineNumber<=ve.getLineCount()&&j.startLineNumber>=1&&(he=`${ve.getLineContent(j.startLineNumber)}, ${he}`),he}}let Ct=class Bi extends Ze.PeekViewWidget{constructor(j,te,he,ve,Ce,Ie,Oe){super(j,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},Ce),this._themeService=te,this._openerService=he,this._menuService=ve,this._contextKeyService=Ie,this._labelService=Oe,this._callOnDispose=new Ne.DisposableStore,this._onDidSelectRelatedInformation=new Ee.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=ht.MarkerSeverity.Warning,this._backgroundColor=ye.Color.white,this._applyTheme(te.getColorTheme()),this._callOnDispose.add(te.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(j){this._backgroundColor=j.getColor(te.editorMarkerNavigationBackground);let he=te.editorMarkerNavigationError,ve=te.editorMarkerNavigationErrorHeader;this._severity===ht.MarkerSeverity.Warning?(he=te.editorMarkerNavigationWarning,ve=te.editorMarkerNavigationWarningHeader):this._severity===ht.MarkerSeverity.Info&&(he=te.editorMarkerNavigationInfo,ve=te.editorMarkerNavigationInfoHeader);const Ce=j.getColor(he),ye=j.getColor(ve);this.style({arrowColor:Ce,frameColor:Ce,headerBackgroundColor:ye,primaryHeadingColor:j.getColor(Ze.peekViewTitleForeground),secondaryHeadingColor:j.getColor(Ze.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(j){super._fillHead(j),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun((j=>this.editor.focus())));const te=[],he=this._menuService.createMenu(Bi.TitleMenu,this._contextKeyService);(0,et.createAndFillInActionBarActions)(he,void 0,te),this._actionbarWidget.push(te,{label:!1,icon:!0,index:0}),he.dispose()}_fillTitleIcon(j){this._icon=he.append(j,he.$(""))}_fillBody(j){this._parentContainer=j,j.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),j.appendChild(this._container),this._message=new v(this._container,this.editor,(j=>this._onDidSelectRelatedInformation.fire(j)),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(j,te,he){this._container.classList.remove("stale"),this._message.update(j),this._severity=j.severity,this._applyTheme(this._themeService.getColorTheme());let ve=je.Range.lift(j);const Ce=this.editor.getPosition();let ye=Ce&&ve.containsPosition(Ce)?Ce:ve.getStartPosition();super.show(ye,this.computeRequiredHeight());const Ee=this.editor.getModel();if(Ee){const j=he>1?Ye.localize(5,null,te,he):Ye.localize(6,null,te,he);this.setTitle((0,Oe.basename)(Ee.uri),j)}this._icon.className=`codicon ${pt.SeverityIcon.className(ht.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(ye,0),this.editor.focus()}updateMarker(j){this._container.classList.remove("stale"),this._message.update(j)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(j,te){super._doLayoutBody(j,te),this._heightInPixel=j,this._message.layout(j,te),this._container.style.height=`${j}px`}_onWidth(j){this._message.layout(this._heightInPixel,j)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Ct.TitleMenu=new nt.MenuId("gotoErrorTitleMenu"),Ct=Ci([Zi(1,_t.IThemeService),Zi(2,mt.IOpenerService),Zi(3,nt.IMenuService),Zi(4,at.IInstantiationService),Zi(5,rt.IContextKeyService),Zi(6,ct.ILabelService)],Ct),te.MarkerNavigationWidget=Ct;let bt=(0,ft.oneOf)(ft.editorErrorForeground,ft.editorErrorBorder),St=(0,ft.oneOf)(ft.editorWarningForeground,ft.editorWarningBorder),Dt=(0,ft.oneOf)(ft.editorInfoForeground,ft.editorInfoBorder);te.editorMarkerNavigationError=(0,ft.registerColor)("editorMarkerNavigationError.background",{dark:bt,light:bt,hc:ft.contrastBorder},Ye.localize(7,null)),te.editorMarkerNavigationErrorHeader=(0,ft.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,ft.transparent)(te.editorMarkerNavigationError,.1),light:(0,ft.transparent)(te.editorMarkerNavigationError,.1),hc:null},Ye.localize(8,null)),te.editorMarkerNavigationWarning=(0,ft.registerColor)("editorMarkerNavigationWarning.background",{dark:St,light:St,hc:ft.contrastBorder},Ye.localize(9,null)),te.editorMarkerNavigationWarningHeader=(0,ft.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,ft.transparent)(te.editorMarkerNavigationWarning,.1),light:(0,ft.transparent)(te.editorMarkerNavigationWarning,.1),hc:"#0C141F"},Ye.localize(10,null)),te.editorMarkerNavigationInfo=(0,ft.registerColor)("editorMarkerNavigationInfo.background",{dark:Dt,light:Dt,hc:ft.contrastBorder},Ye.localize(11,null)),te.editorMarkerNavigationInfoHeader=(0,ft.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,ft.transparent)(te.editorMarkerNavigationInfo,.1),light:(0,ft.transparent)(te.editorMarkerNavigationInfo,.1),hc:null},Ye.localize(12,null)),te.editorMarkerNavigationBackground=(0,ft.registerColor)("editorMarkerNavigation.background",{dark:ft.editorBackground,light:ft.editorBackground,hc:ft.editorBackground},Ye.localize(13,null))})),define(Ce[296],ie([1,0,27,2,15,28,11,3,24,616,536,37,16,9,72,730]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt){Object.defineProperty(te,"__esModule",{value:!0}),te.NextMarkerAction=te.MarkerController=void 0;let rt=class Ht{constructor(j,te,he,Ce,ye){this._markerNavigationService=te,this._contextKeyService=he,this._editorService=Ce,this._instantiationService=ye,this._sessionDispoables=new ve.DisposableStore,this._editor=j,this._widgetVisible=at.bindTo(this._contextKeyService)}static get(j){return j.getContribution(Ht.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(j){if(this._model&&this._model.matches(j))return this._model;let te=!1;return this._model&&(te=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(j),te&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(nt.MarkerNavigationWidget,this._editor),this._widget.onDidClose((()=>this.close()),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((j=>{var te,he,ve;(!(null===(te=this._model)||void 0===te?void 0:te.selected)||!Ie.Range.containsPosition(null===(he=this._model)||void 0===he?void 0:he.selected.marker,j.position))&&(null===(ve=this._model)||void 0===ve||ve.resetIndex())}))),this._sessionDispoables.add(this._model.onDidChange((()=>{if(!this._widget||!this._widget.position||!this._model)return;const j=this._model.find(this._editor.getModel().uri,this._widget.position);j?this._widget.updateMarker(j.marker):this._widget.showStale()}))),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((j=>{this._editorService.openCodeEditor({resource:j.resource,options:{pinned:!0,revealIfOpened:!0,selection:Ie.Range.lift(j).collapseToStart()}},this._editor),this.close(!1)}))),this._sessionDispoables.add(this._editor.onDidChangeModel((()=>this._cleanUp()))),this._model}close(j=!0){this._cleanUp(),j&&this._editor.focus()}showAtMarker(j){if(this._editor.hasModel()){const te=this._getOrCreateModel(this._editor.getModel().uri);te.resetIndex(),te.move(!0,this._editor.getModel(),new Ee.Position(j.startLineNumber,j.startColumn)),te.selected&&this._widget.showAtMarker(te.selected.marker,te.selected.index,te.selected.total)}}nagivate(j,te){var he,ve;return fi(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const Ce=this._getOrCreateModel(te?void 0:this._editor.getModel().uri);if(Ce.move(j,this._editor.getModel(),this._editor.getPosition()),!Ce.selected)return;if(Ce.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const ye=yield this._editorService.openCodeEditor({resource:Ce.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:Ce.selected.marker}},this._editor);ye&&(null===(he=Ht.get(ye))||void 0===he||he.close(),null===(ve=Ht.get(ye))||void 0===ve||ve.nagivate(j,te))}else this._widget.showAtMarker(Ce.selected.marker,Ce.selected.index,Ce.selected.total)}}))}};rt.ID="editor.contrib.markerController",rt=Ci([Zi(1,Oe.IMarkerNavigationService),Zi(2,Ze.IContextKeyService),Zi(3,ye.ICodeEditorService),Zi(4,Ye.IInstantiationService)],rt),te.MarkerController=rt;class s extends Ce.EditorAction{constructor(j,te,he){super(he),this._next=j,this._multiFile=te}run(j,te){var he;return fi(this,void 0,void 0,(function*(){te.hasModel()&&(null===(he=rt.get(te))||void 0===he||he.nagivate(this._next,this._multiFile))}))}}class o extends s{constructor(){super(!0,!1,{id:o.ID,label:o.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ne.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:nt.MarkerNavigationWidget.TitleMenu,title:o.LABEL,icon:(0,et.registerIcon)("marker-navigation-next",he.Codicon.arrowDown,Ke.localize(1,null)),group:"navigation",order:1}})}}te.NextMarkerAction=o,o.ID="editor.action.marker.next",o.LABEL=Ke.localize(0,null);class a extends s{constructor(){super(!1,!1,{id:a.ID,label:a.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ne.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:nt.MarkerNavigationWidget.TitleMenu,title:o.LABEL,icon:(0,et.registerIcon)("marker-navigation-previous",he.Codicon.arrowUp,Ke.localize(3,null)),group:"navigation",order:2}})}}a.ID="editor.action.marker.prev",a.LABEL=Ke.localize(2,null);(0,Ce.registerEditorContribution)(rt.ID,rt),(0,Ce.registerEditorAction)(o),(0,Ce.registerEditorAction)(a),(0,Ce.registerEditorAction)(class d extends s{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:Ke.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ne.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:je.MenuId.MenubarGoMenu,title:Ke.localize(5,null),group:"6_problem_nav",order:1}})}}),(0,Ce.registerEditorAction)(class u extends s{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:Ke.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ne.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:je.MenuId.MenubarGoMenu,title:Ke.localize(7,null),group:"6_problem_nav",order:2}})}});const at=new Ze.RawContextKey("markersNavigationVisible",!1),ct=Ce.EditorCommand.bindToContribution(rt.get);(0,Ce.registerEditorCommand)(new ct({id:"closeMarkersNavigation",precondition:at,handler:j=>j.close(),kbOpts:{weight:150,kbExpr:Ne.EditorContextKeys.focus,primary:9,secondary:[1033]}}))})),define(Ce[731],ie([1,0,7,228,29,4,2,48,41,162,3,33,32,79,35,58,653,108,542,9,42,128,157,14,158,126,378]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt){Object.defineProperty(te,"__esModule",{value:!0}),te.ReferenceWidget=te.LayoutData=void 0;class _{constructor(j,te){this._editor=j,this._model=te,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Ee.DisposableStore,this._callOnModelChange=new Ee.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel((()=>this._onModelChanged()))),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const j=this._editor.getModel();if(j)for(let te of this._model.references)if(te.uri.toString()===j.uri.toString())return void this._addDecorations(te.parent)}_addDecorations(j){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((()=>this._onDecorationChanged())));const te=[],he=[];for(let ve=0,Ce=j.children.length;ve<Ce;ve++){let Ce=j.children[ve];this._decorationIgnoreSet.has(Ce.id)||Ce.uri.toString()===this._editor.getModel().uri.toString()&&(te.push({range:Ce.range,options:_.DecorationOptions}),he.push(ve))}const ve=this._editor.deltaDecorations([],te);for(let te=0;te<ve.length;te++)this._decorations.set(ve[te],j.children[he[te]])}_onDecorationChanged(){const j=[],te=this._editor.getModel();if(te){for(let[he,ve]of this._decorations){const Ce=te.getDecorationRange(he);if(!Ce)continue;let ye=!1;if(!Ke.Range.equalsRange(Ce,ve.range)){if(Ke.Range.spansMultipleLines(Ce))ye=!0;else{ve.range.endColumn-ve.range.startColumn!==Ce.endColumn-Ce.startColumn&&(ye=!0)}ye?(this._decorationIgnoreSet.add(ve.id),j.push(he)):ve.range=Ce}}for(let te=0,he=j.length;te<he;te++)this._decorations.delete(j[te]);this._editor.deltaDecorations(j,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}_.DecorationOptions=je.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});te.LayoutData=class L{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(j){let te,he;try{const ve=JSON.parse(j);te=ve.ratio,he=ve.heightInLines}catch{}return{ratio:te||.7,heightInLines:he||18}}};class E extends ft.WorkbenchAsyncDataTree{}let St=class extends at.PeekViewWidget{constructor(j,te,ve,Ce,Ie,Ne,Oe,Ke,je,Ze,Ye,et){super(j,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},Ne),this._defaultTreeKeyboardSupport=te,this.layoutData=ve,this._textModelResolverService=Ie,this._instantiationService=Ne,this._peekViewService=Oe,this._uriLabel=Ke,this._undoRedoService=je,this._keybindingService=Ze,this._languageService=Ye,this._languageConfigurationService=et,this._disposeOnNewModel=new Ee.DisposableStore,this._callOnDispose=new Ee.DisposableStore,this._onDidSelectReference=new ye.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new he.Dimension(0,0),this._applyTheme(Ce.getColorTheme()),this._callOnDispose.add(Ce.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(j,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,Ee.dispose)(this._preview),(0,Ee.dispose)(this._previewNotAvailableMessage),(0,Ee.dispose)(this._tree),(0,Ee.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(j){const te=j.getColor(at.peekViewBorder)||Ce.Color.transparent;this.style({arrowColor:te,frameColor:te,headerBackgroundColor:j.getColor(at.peekViewTitleBackground)||Ce.Color.transparent,primaryHeadingColor:j.getColor(at.peekViewTitleForeground),secondaryHeadingColor:j.getColor(at.peekViewTitleInfoForeground)})}show(j){this.editor.revealRangeInCenterIfOutsideViewport(j,0),super.show(j,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(j){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:j.ctrlKey||j.metaKey||j.altKey?"side":"open",source:"title"})}_fillBody(j){this.setCssClass("reference-zone-widget"),this._messageContainer=he.append(j,he.$("div.messages")),he.hide(this._messageContainer),this._splitView=new ve.SplitView(j,{orientation:1}),this._previewContainer=he.append(j,he.$("div.preview.inline"));this._preview=this._instantiationService.createInstance(Oe.EmbeddedCodeEditorWidget,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),he.hide(this._previewContainer),this._previewNotAvailableMessage=new je.TextModel(ct.localize(0,null),Ye.PLAINTEXT_LANGUAGE_ID,je.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=he.append(j,he.$("div.ref-tree.inline"));const te={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new rt.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(rt.StringRepresentationProvider),identityProvider:new rt.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:at.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(he.addStandardDisposableListener(this._treeContainer,"keydown",(j=>{j.equals(9)&&(this._keybindingService.dispatchEvent(j,j.target),j.stopPropagation())}),!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new rt.Delegate,[this._instantiationService.createInstance(rt.FileReferencesRenderer),this._instantiationService.createInstance(rt.OneReferenceRenderer)],this._instantiationService.createInstance(rt.DataSource),te),this._splitView.addView({onDidChange:ye.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:j=>{this._preview.layout({height:this._dim.height,width:j})}},ve.Sizing.Distribute),this._splitView.addView({onDidChange:ye.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:j=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${j}px`,this._tree.layout(this._dim.height,j)}},ve.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange((()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)}),void 0));let T=(j,te)=>{j instanceof bt.OneReference&&("show"===te&&this._revealReference(j,!1),this._onDidSelectReference.fire({element:j,kind:te,source:"tree"}))};this._tree.onDidOpen((j=>{j.sideBySide?T(j.element,"side"):j.editorOptions.pinned?T(j.element,"goto"):T(j.element,"show")})),he.hide(this._treeContainer)}_onWidth(j){this._dim&&this._doLayoutBody(this._dim.height,j)}_doLayoutBody(j,te){super._doLayoutBody(j,te),this._dim=new he.Dimension(te,j),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(te),this._splitView.resizeView(0,te*this.layoutData.ratio)}setSelection(j){return this._revealReference(j,!0).then((()=>{!this._model||(this._tree.setSelection([j]),this._tree.setFocus([j]))}))}setModel(j){return this._disposeOnNewModel.clear(),this._model=j,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=ct.localize(1,null),he.show(this._messageContainer),Promise.resolve(void 0)):(he.hide(this._messageContainer),this._decorationsManager=new _(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((j=>this._tree.rerender(j)))),this._disposeOnNewModel.add(this._preview.onMouseDown((j=>{const{event:te,target:he}=j;if(2!==te.detail)return;const ve=this._getFocusedReference();!ve||this._onDidSelectReference.fire({element:{uri:ve.uri,range:he.range},kind:te.ctrlKey||te.metaKey||te.altKey?"side":"open",source:"editor"})}))),this.container.classList.add("results-loaded"),he.show(this._treeContainer),he.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[j]=this._tree.getFocus();return j instanceof bt.OneReference?j:j instanceof bt.FileReferences&&j.children.length>0?j.children[0]:void 0}revealReference(j){return fi(this,void 0,void 0,(function*(){yield this._revealReference(j,!1),this._onDidSelectReference.fire({element:j,kind:"goto",source:"tree"})}))}_revealReference(j,te){return fi(this,void 0,void 0,(function*(){if(this._revealedReference===j)return;this._revealedReference=j,j.uri.scheme!==Ie.Schemas.inMemory?this.setTitle((0,Ne.basenameOrAuthority)(j.uri),this._uriLabel.getUriLabel((0,Ne.dirname)(j.uri))):this.setTitle(ct.localize(2,null));const he=this._textModelResolverService.createModelReference(j.uri);this._tree.getInput()===j.parent||(te&&this._tree.reveal(j.parent),yield this._tree.expand(j.parent)),this._tree.reveal(j);const ve=yield he;if(!this._model)return void ve.dispose();(0,Ee.dispose)(this._previewModelReference);const Ce=ve.object;if(Ce){const te=this._preview.getModel()===Ce.textEditorModel?0:1,he=Ke.Range.lift(j.range).collapseToStart();this._previewModelReference=ve,this._preview.setModel(Ce.textEditorModel),this._preview.setSelection(he),this._preview.revealRangeInCenter(he,te)}else this._preview.setModel(this._previewNotAvailableMessage),ve.dispose()}))}};St=Ci([Zi(3,_t.IThemeService),Zi(4,nt.ITextModelService),Zi(5,ht.IInstantiationService),Zi(6,at.IPeekViewService),Zi(7,pt.ILabelService),Zi(8,Ct.IUndoRedoService),Zi(9,mt.IKeybindingService),Zi(10,et.ILanguageService),Zi(11,Ze.ILanguageConfigurationService)],St),te.ReferenceWidget=St})),define(Ce[297],ie([1,0,10,13,55,2,28,11,3,108,540,26,40,16,9,86,157,38,80,126,731]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt){Object.defineProperty(te,"__esModule",{value:!0}),te.ReferencesController=te.ctxReferenceSearchVisible=void 0,te.ctxReferenceSearchVisible=new Ye.RawContextKey("referenceSearchVisible",!1,Ke.localize(0,null));let pt=class ni{constructor(j,he,ve,Ce,Ee,Ie,Ne,Oe){this._defaultTreeKeyboardSupport=j,this._editor=he,this._editorService=Ce,this._notificationService=Ee,this._instantiationService=Ie,this._storageService=Ne,this._configurationService=Oe,this._disposables=new ye.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=te.ctxReferenceSearchVisible.bindTo(ve)}static get(j){return j.getContribution(ni.ID)}dispose(){var j,te;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(j=this._widget)||void 0===j||j.dispose(),null===(te=this._model)||void 0===te||te.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(j,te,he){let ve;if(this._widget&&(ve=this._widget.position),this.closeWidget(),ve&&j.containsPosition(ve))return;this._peekMode=he,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>{this.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((()=>{this._ignoreModelChangeEvent||this.closeWidget()})));const Ce="peekViewLayout",ye=mt.LayoutData.fromJSON(this._storageService.get(Ce,0,"{}"));this._widget=this._instantiationService.createInstance(mt.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,ye),this._widget.setTitle(Ke.localize(1,null)),this._widget.show(j),this._disposables.add(this._widget.onDidClose((()=>{te.cancel(),this._widget&&(this._storageService.store(Ce,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((j=>{let{element:te,kind:ve}=j;if(te)switch(ve){case"open":("editor"!==j.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(te,!1,!1);break;case"side":this.openReference(te,!0,!1);break;case"goto":he?this._gotoReference(te):this.openReference(te,!1,!0)}})));const Ee=++this._requestIdPool;te.then((te=>{var he;if(Ee===this._requestIdPool&&this._widget)return null===(he=this._model)||void 0===he||he.dispose(),this._model=te,this._widget.setModel(this._model).then((()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(Ke.localize(2,null,this._model.title,this._model.references.length));let te=this._editor.getModel().uri,he=new Ie.Position(j.startLineNumber,j.startColumn),ve=this._model.nearestReference(te,he);if(ve)return this._widget.setSelection(ve).then((()=>{this._widget&&"editor"===this._editor.getOption(77)&&this._widget.focusOnPreviewEditor()}))}}));te.dispose()}),(j=>{this._notificationService.error(j)}))}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(j){return fi(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const te=this._widget.position;if(!te)return;const he=this._model.nearestReference(this._editor.getModel().uri,te);if(!he)return;const ve=this._model.nextOrPreviousReference(he,j),Ce=this._editor.hasTextFocus(),ye=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(ve),yield this._gotoReference(ve),Ce?this._editor.focus():this._widget&&ye&&this._widget.focusOnPreviewEditor()}))}revealReference(j){return fi(this,void 0,void 0,(function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(j))}))}closeWidget(j=!0){var te,he;null===(te=this._widget)||void 0===te||te.dispose(),null===(he=this._model)||void 0===he||he.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,j&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(j){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const te=Ne.Range.lift(j.range).collapseToStart();return this._editorService.openCodeEditor({resource:j.uri,options:{selection:te}},this._editor).then((j=>{var ve;if(this._ignoreModelChangeEvent=!1,j&&this._widget)if(this._editor===j)this._widget.show(te),this._widget.focusOnReferenceTree();else{const Ce=ni.get(j),ye=this._model.clone();this.closeWidget(),j.focus(),null==Ce||Ce.toggleWidget(te,(0,he.createCancelablePromise)((j=>Promise.resolve(ye))),null!==(ve=this._peekMode)&&void 0!==ve&&ve)}else this.closeWidget()}),(j=>{this._ignoreModelChangeEvent=!1,(0,ve.onUnexpectedError)(j)}))}openReference(j,te,he){te||this.closeWidget();const{uri:ve,range:Ce}=j;this._editorService.openCodeEditor({resource:ve,options:{selection:Ce,pinned:he}},this._editor,te)}};function f(j,te){const he=(0,Oe.getOuterEditor)(j);if(!he)return;const ve=pt.get(he);ve&&te(ve)}pt.ID="editor.contrib.referencesController",pt=Ci([Zi(2,Ye.IContextKeyService),Zi(3,Ee.ICodeEditorService),Zi(4,at.INotificationService),Zi(5,et.IInstantiationService),Zi(6,ct.IStorageService),Zi(7,Ze.IConfigurationService)],pt),te.ReferencesController=pt,nt.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,Ce.KeyChord)(2089,60),when:Ye.ContextKeyExpr.or(te.ctxReferenceSearchVisible,Oe.PeekContext.inPeekEditor),handler(j){f(j,(j=>{j.changeFocusBetweenPreviewAndReferences()}))}}),nt.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:Ye.ContextKeyExpr.or(te.ctxReferenceSearchVisible,Oe.PeekContext.inPeekEditor),handler(j){f(j,(j=>{j.goToNextOrPreviousReference(!0)}))}}),nt.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:Ye.ContextKeyExpr.or(te.ctxReferenceSearchVisible,Oe.PeekContext.inPeekEditor),handler(j){f(j,(j=>{j.goToNextOrPreviousReference(!1)}))}}),je.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),je.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),je.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),je.CommandsRegistry.registerCommand("closeReferenceSearch",(j=>f(j,(j=>j.closeWidget())))),nt.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:Ye.ContextKeyExpr.and(Oe.PeekContext.inPeekEditor,Ye.ContextKeyExpr.not("config.editor.stablePeek"))}),nt.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:Ye.ContextKeyExpr.and(te.ctxReferenceSearchVisible,Ye.ContextKeyExpr.not("config.editor.stablePeek"))}),nt.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Ye.ContextKeyExpr.and(te.ctxReferenceSearchVisible,rt.WorkbenchListFocusContextKey,rt.WorkbenchTreeElementCanCollapse.negate(),rt.WorkbenchTreeElementCanExpand.negate()),handler(j){var te;const he=null===(te=j.get(rt.IListService).lastFocusedList)||void 0===te?void 0:te.getFocus();Array.isArray(he)&&he[0]instanceof ht.OneReference&&f(j,(j=>j.revealReference(he[0])))}}),nt.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Ye.ContextKeyExpr.and(te.ctxReferenceSearchVisible,rt.WorkbenchListFocusContextKey,rt.WorkbenchTreeElementCanCollapse.negate(),rt.WorkbenchTreeElementCanExpand.negate()),handler(j){var te;const he=null===(te=j.get(rt.IListService).lastFocusedList)||void 0===te?void 0:te.getFocus();Array.isArray(he)&&he[0]instanceof ht.OneReference&&f(j,(j=>j.openReference(he[0],!0,!0)))}}),je.CommandsRegistry.registerCommand("openReference",(j=>{var te;const he=null===(te=j.get(rt.IListService).lastFocusedList)||void 0===te?void 0:te.getFocus();Array.isArray(he)&&he[0]instanceof ht.OneReference&&f(j,(j=>j.openReference(he[0],!1,!0)))}))})),define(Ce[208],ie([1,0,34,43,10,55,17,20,25,106,148,15,28,162,11,3,24,18,297,126,671,156,108,538,37,26,16,9,38,71,286]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt,St,Dt,It,kt,At){var Pt,Kt,Ut,jt,$t,qt,Gt,Zt;Object.defineProperty(te,"__esModule",{value:!0}),te.DefinitionAction=te.SymbolNavigationAction=te.SymbolNavigationAnchor=void 0,Ct.MenuRegistry.appendMenuItem(Ct.MenuId.EditorContext,{submenu:Ct.MenuId.EditorContextPeek,title:_t.localize(0,null),group:"navigation",order:100});const Yt=new Set;function H(j){const te=new j;return(0,je.registerInstantiatedEditorAction)(te),Yt.add(te.id),te}class q{constructor(j,te){this.model=j,this.position=te}static is(j){return!(!j||"object"!=typeof j)&&!!(j instanceof q||et.Position.isIPosition(j.position)&&j.model)}}te.SymbolNavigationAnchor=q;class X extends je.EditorAction{constructor(j,te){super(te),this.configuration=j}run(j,te,he){if(!te.hasModel())return Promise.resolve(void 0);const ye=j.get(It.INotificationService),Ee=j.get(Ze.ICodeEditorService),Ie=j.get(kt.IEditorProgressService),Ne=j.get(mt.ISymbolNavigationService),Ke=te.getModel(),je=te.getPosition(),Ye=q.is(he)?he:new q(Ke,je),et=new Oe.EditorStateCancellationTokenSource(te,5),nt=(0,Ce.raceCancellation)(this._getLocationModel(Ye.model,Ye.position,et.token),et.token).then((j=>fi(this,void 0,void 0,(function*(){var he;if(!j||et.token.isCancellationRequested)return;let Ce;if((0,ve.alert)(j.ariaMessage),j.referenceAt(Ke.uri,je)){const j=this._getAlternativeCommand(te);j!==this.id&&Yt.has(j)&&(Ce=te.getAction(j))}const ye=j.references.length;if(0===ye){if(!this.configuration.muteMessage){const j=Ke.getWordAtPosition(je);null===(he=pt.MessageController.get(te))||void 0===he||he.showMessage(this._getNoResultFoundMessage(j),je)}}else{if(1!==ye||!Ce)return this._onResult(Ee,Ne,te,j);Ce.run()}}))),(j=>{ye.error(j)})).finally((()=>{et.dispose()}));return Ie.showWhile(nt,250),nt}_onResult(j,te,he,ve){return fi(this,void 0,void 0,(function*(){const Ce=this._getGoToPreference(he);if(he instanceof Ye.EmbeddedCodeEditorWidget||!(this.configuration.openInPeek||"peek"===Ce&&ve.references.length>1)){const ye=ve.firstReference(),Ee=ve.references.length>1&&"gotoAndPeek"===Ce,Ie=yield this._openReference(he,j,ye,this.configuration.openToSide,!Ee);Ee&&Ie?this._openInPeek(Ie,ve):ve.dispose(),"goto"===Ce&&te.put(ye)}else this._openInPeek(he,ve)}))}_openReference(j,te,he,ve,Ce){return fi(this,void 0,void 0,(function*(){let ye;if((0,at.isLocationLink)(he)&&(ye=he.targetSelectionRange),ye||(ye=he.range),!ye)return;const Ee=yield te.openCodeEditor({resource:he.uri,options:{selection:nt.Range.collapseToStart(ye),selectionRevealType:3}},j,ve);if(Ee){if(Ce){const j=Ee.getModel(),te=Ee.deltaDecorations([],[{range:ye,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout((()=>{Ee.getModel()===j&&Ee.deltaDecorations(te,[])}),350)}return Ee}}))}_openInPeek(j,te){const he=ct.ReferencesController.get(j);he&&j.hasModel()?he.toggleWidget(j.getSelection(),(0,Ce.createCancelablePromise)((j=>Promise.resolve(te))),this.configuration.openInPeek):te.dispose()}}te.SymbolNavigationAction=X;class G extends X{_getLocationModel(j,te,he){return fi(this,void 0,void 0,(function*(){return new ht.ReferencesModel(yield(0,At.getDefinitionsAtPosition)(j,te,he),_t.localize(1,null))}))}_getNoResultFoundMessage(j){return j&&j.word?_t.localize(2,null,j.word):_t.localize(3,null)}_getAlternativeCommand(j){return j.getOption(51).alternativeDefinitionCommand}_getGoToPreference(j){return j.getOption(51).multipleDefinitions}}te.DefinitionAction=G;const li=Ee.isWeb&&!he.isStandalone?2118:70;H(((Pt=class si extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:si.id,label:_t.localize(4,null),alias:"Go to Definition",precondition:St.ContextKeyExpr.and(rt.EditorContextKeys.hasDefinitionProvider,rt.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:rt.EditorContextKeys.editorTextFocus,primary:li,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),bt.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",si.id)}}).id="editor.action.revealDefinition",Pt)),H(((Kt=class oi extends G{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:oi.id,label:_t.localize(5,null),alias:"Open Definition to the Side",precondition:St.ContextKeyExpr.and(rt.EditorContextKeys.hasDefinitionProvider,rt.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:rt.EditorContextKeys.editorTextFocus,primary:(0,ye.KeyChord)(2089,li),weight:100}}),bt.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",oi.id)}}).id="editor.action.revealDefinitionAside",Kt)),H(((Ut=class ri extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ri.id,label:_t.localize(6,null),alias:"Peek Definition",precondition:St.ContextKeyExpr.and(rt.EditorContextKeys.hasDefinitionProvider,ft.PeekContext.notInPeekEditor,rt.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:rt.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Ct.MenuId.EditorContextPeek,group:"peek",order:2}}),bt.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",ri.id)}}).id="editor.action.peekDefinition",Ut));class ae extends X{_getLocationModel(j,te,he){return fi(this,void 0,void 0,(function*(){return new ht.ReferencesModel(yield(0,At.getDeclarationsAtPosition)(j,te,he),_t.localize(7,null))}))}_getNoResultFoundMessage(j){return j&&j.word?_t.localize(8,null,j.word):_t.localize(9,null)}_getAlternativeCommand(j){return j.getOption(51).alternativeDeclarationCommand}_getGoToPreference(j){return j.getOption(51).multipleDeclarations}}H(((jt=class Wi extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Wi.id,label:_t.localize(10,null),alias:"Go to Declaration",precondition:St.ContextKeyExpr.and(rt.EditorContextKeys.hasDeclarationProvider,rt.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(j){return j&&j.word?_t.localize(11,null,j.word):_t.localize(12,null)}}).id="editor.action.revealDeclaration",jt)),H(class extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:_t.localize(13,null),alias:"Peek Declaration",precondition:St.ContextKeyExpr.and(rt.EditorContextKeys.hasDeclarationProvider,ft.PeekContext.notInPeekEditor,rt.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Ct.MenuId.EditorContextPeek,group:"peek",order:3}})}});class oe extends X{_getLocationModel(j,te,he){return fi(this,void 0,void 0,(function*(){return new ht.ReferencesModel(yield(0,At.getTypeDefinitionsAtPosition)(j,te,he),_t.localize(14,null))}))}_getNoResultFoundMessage(j){return j&&j.word?_t.localize(15,null,j.word):_t.localize(16,null)}_getAlternativeCommand(j){return j.getOption(51).alternativeTypeDefinitionCommand}_getGoToPreference(j){return j.getOption(51).multipleTypeDefinitions}}H((($t=class xi extends oe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:xi.ID,label:_t.localize(17,null),alias:"Go to Type Definition",precondition:St.ContextKeyExpr.and(rt.EditorContextKeys.hasTypeDefinitionProvider,rt.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:rt.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}}).ID="editor.action.goToTypeDefinition",$t)),H(((qt=class Vi extends oe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Vi.ID,label:_t.localize(18,null),alias:"Peek Type Definition",precondition:St.ContextKeyExpr.and(rt.EditorContextKeys.hasTypeDefinitionProvider,ft.PeekContext.notInPeekEditor,rt.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Ct.MenuId.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",qt));class Z extends X{_getLocationModel(j,te,he){return fi(this,void 0,void 0,(function*(){return new ht.ReferencesModel(yield(0,At.getImplementationsAtPosition)(j,te,he),_t.localize(19,null))}))}_getNoResultFoundMessage(j){return j&&j.word?_t.localize(20,null,j.word):_t.localize(21,null)}_getAlternativeCommand(j){return j.getOption(51).alternativeImplementationCommand}_getGoToPreference(j){return j.getOption(51).multipleImplementations}}H(((Gt=class zi extends Z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:zi.ID,label:_t.localize(22,null),alias:"Go to Implementations",precondition:St.ContextKeyExpr.and(rt.EditorContextKeys.hasImplementationProvider,rt.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:rt.EditorContextKeys.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",Gt)),H(((Zt=class Hi extends Z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Hi.ID,label:_t.localize(23,null),alias:"Peek Implementations",precondition:St.ContextKeyExpr.and(rt.EditorContextKeys.hasImplementationProvider,ft.PeekContext.notInPeekEditor,rt.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:rt.EditorContextKeys.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Ct.MenuId.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",Zt));class x extends X{_getNoResultFoundMessage(j){return j?_t.localize(24,null,j.word):_t.localize(25,null)}_getAlternativeCommand(j){return j.getOption(51).alternativeReferenceCommand}_getGoToPreference(j){return j.getOption(51).multipleReferences}}H(class extends x{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:_t.localize(26,null),alias:"Go to References",precondition:St.ContextKeyExpr.and(rt.EditorContextKeys.hasReferenceProvider,ft.PeekContext.notInPeekEditor,rt.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:rt.EditorContextKeys.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(j,te,he){return fi(this,void 0,void 0,(function*(){return new ht.ReferencesModel(yield(0,At.getReferencesAtPosition)(j,te,!0,he),_t.localize(27,null))}))}}),H(class extends x{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:_t.localize(28,null),alias:"Peek References",precondition:St.ContextKeyExpr.and(rt.EditorContextKeys.hasReferenceProvider,ft.PeekContext.notInPeekEditor,rt.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Ct.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(j,te,he){return fi(this,void 0,void 0,(function*(){return new ht.ReferencesModel(yield(0,At.getReferencesAtPosition)(j,te,!1,he),_t.localize(29,null))}))}});class U extends X{constructor(j,te,he){super(j,{id:"editor.action.goToLocation",label:_t.localize(30,null),alias:"Go to Any Symbol",precondition:St.ContextKeyExpr.and(ft.PeekContext.notInPeekEditor,rt.EditorContextKeys.isInWalkThroughSnippet.toNegated())}),this._references=te,this._gotoMultipleBehaviour=he}_getLocationModel(j,te,he){return fi(this,void 0,void 0,(function*(){return new ht.ReferencesModel(this._references,_t.localize(31,null))}))}_getNoResultFoundMessage(j){return j&&_t.localize(32,null,j.word)||""}_getGoToPreference(j){var te;return null!==(te=this._gotoMultipleBehaviour)&&void 0!==te?te:j.getOption(51).multipleReferences}_getAlternativeCommand(){return""}}bt.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Ne.URI},{name:"position",description:"The position at which to start",constraint:et.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(j,te,he,ve,Ce,ye,Ee)=>fi(void 0,void 0,void 0,(function*(){(0,Ie.assertType)(Ne.URI.isUri(te)),(0,Ie.assertType)(et.Position.isIPosition(he)),(0,Ie.assertType)(Array.isArray(ve)),(0,Ie.assertType)(void 0===Ce||"string"==typeof Ce),(0,Ie.assertType)(void 0===Ee||"boolean"==typeof Ee);const Oe=j.get(Ze.ICodeEditorService),je=yield Oe.openCodeEditor({resource:te},Oe.getFocusedCodeEditor());if((0,Ke.isCodeEditor)(je))return je.setPosition(he),je.revealPositionInCenterIfOutsideViewport(he,0),je.invokeWithinContext((j=>{const te=new class extends U{_getNoResultFoundMessage(j){return ye||super._getNoResultFoundMessage(j)}}({muteMessage:!Boolean(ye),openInPeek:Boolean(Ee),openToSide:!1},ve,Ce);j.get(Dt.IInstantiationService).invokeFunction(te.run.bind(te),je)}))}))}),bt.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Ne.URI},{name:"position",description:"The position at which to start",constraint:et.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(j,te,he,ve,Ce)=>fi(void 0,void 0,void 0,(function*(){j.get(bt.ICommandService).executeCommand("editor.action.goToLocations",te,he,ve,Ce,void 0,!0)}))}),bt.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(j,te,he)=>{(0,Ie.assertType)(Ne.URI.isUri(te)),(0,Ie.assertType)(et.Position.isIPosition(he));const ve=j.get(Ze.ICodeEditorService);return ve.openCodeEditor({resource:te},ve.getFocusedCodeEditor()).then((j=>{if(!(0,Ke.isCodeEditor)(j)||!j.hasModel())return;const te=ct.ReferencesController.get(j);if(!te)return;const ve=(0,Ce.createCancelablePromise)((te=>(0,At.getReferencesAtPosition)(j.getModel(),et.Position.lift(he),!1,te).then((j=>new ht.ReferencesModel(j,_t.localize(33,null)))))),ye=new nt.Range(he.lineNumber,he.column,he.lineNumber,he.column);return Promise.resolve(te.toggleWidget(ye,ve,!1))}))}}),bt.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),Ct.MenuRegistry.appendMenuItems([{id:Ct.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:_t.localize(34,null)},group:"4_symbol_nav",order:2}},{id:Ct.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:_t.localize(35,null)},group:"4_symbol_nav",order:3}},{id:Ct.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:_t.localize(36,null)},group:"4_symbol_nav",order:3}},{id:Ct.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:_t.localize(37,null)},group:"4_symbol_nav",order:4}},{id:Ct.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:_t.localize(38,null)},group:"4_symbol_nav",order:5}}])})),define(Ce[298],ie([1,0,10,13,66,2,20,106,15,11,3,18,35,58,186,108,539,16,23,14,208,286,377]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt){Object.defineProperty(te,"__esModule",{value:!0}),te.GotoDefinitionAtPositionEditorContribution=void 0;let ft=class Tt{constructor(j,te,he){this.textModelResolverService=te,this.languageService=he,this.toUnhook=new ye.DisposableStore,this.toUnhookForKeyboard=new ye.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=j;let Ce=new et.ClickLinkGesture(j);this.toUnhook.add(Ce),this.toUnhook.add(Ce.onMouseMoveOrRelevantKeyDown((([j,te])=>{this.startFindDefinitionFromMouse(j,(0,Ee.withNullAsUndefined)(te))}))),this.toUnhook.add(Ce.onExecute((j=>{this.isEnabled(j)&&this.gotoDefinition(j.target.position,j.hasSideBySideModifier).then((()=>{this.removeLinkDecorations()}),(j=>{this.removeLinkDecorations(),(0,ve.onUnexpectedError)(j)}))}))),this.toUnhook.add(Ce.onCancel((()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null})))}static get(j){return j.getContribution(Tt.ID)}startFindDefinitionFromCursor(j){return this.startFindDefinition(j).then((()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition((()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()}))),this.toUnhookForKeyboard.add(this.editor.onKeyDown((j=>{j&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())})))}))}startFindDefinitionFromMouse(j,te){if(9===j.target.type&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(j,te))return this.currentWordAtPosition=null,void this.removeLinkDecorations();const he=j.target.position;this.startFindDefinition(he)}startFindDefinition(j){var te;this.toUnhookForKeyboard.clear();const ye=j?null===(te=this.editor.getModel())||void 0===te?void 0:te.getWordAtPosition(j):null;if(!ye)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===ye.startColumn&&this.currentWordAtPosition.endColumn===ye.endColumn&&this.currentWordAtPosition.word===ye.word)return Promise.resolve(0);this.currentWordAtPosition=ye;let Ee=new Ie.EditorState(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,he.createCancelablePromise)((te=>this.findDefinition(j,te))),this.previousPromise.then((te=>{if(te&&te.length&&Ee.validate(this.editor))if(te.length>1)this.addDecoration(new Ke.Range(j.lineNumber,ye.startColumn,j.lineNumber,ye.endColumn),(new Ce.MarkdownString).appendText(rt.localize(0,null,te.length)));else{let he=te[0];if(!he.uri)return;this.textModelResolverService.createModelReference(he.uri).then((te=>{if(!te.object||!te.object.textEditorModel)return void te.dispose();const{object:{textEditorModel:ve}}=te,{startLineNumber:Ee}=he.range;if(Ee<1||Ee>ve.getLineCount())return void te.dispose();const Ie=this.getPreviewValue(ve,Ee,he);let Ne;Ne=he.originSelectionRange?Ke.Range.lift(he.originSelectionRange):new Ke.Range(j.lineNumber,ye.startColumn,j.lineNumber,ye.endColumn);const Oe=this.languageService.guessLanguageIdByFilepathOrFirstLine(ve.uri);this.addDecoration(Ne,(new Ce.MarkdownString).appendCodeblock(Oe||"",Ie)),te.dispose()}))}else this.removeLinkDecorations()})).then(void 0,ve.onUnexpectedError)}getPreviewValue(j,te,he){let ve=he.targetSelectionRange?he.range:this.getPreviewRangeBasedOnBrackets(j,te);return ve.endLineNumber-ve.startLineNumber>=Tt.MAX_SOURCE_PREVIEW_LINES&&(ve=this.getPreviewRangeBasedOnIndentation(j,te)),this.stripIndentationFromPreviewRange(j,te,ve)}stripIndentationFromPreviewRange(j,te,he){let ve=j.getLineFirstNonWhitespaceColumn(te);for(let Ce=te+1;Ce<he.endLineNumber;Ce++){const te=j.getLineFirstNonWhitespaceColumn(Ce);ve=Math.min(ve,te)}return j.getValueInRange(he).replace(new RegExp(`^\\s{${ve-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(j,te){const he=j.getLineFirstNonWhitespaceColumn(te),ve=Math.min(j.getLineCount(),te+Tt.MAX_SOURCE_PREVIEW_LINES);let Ce=te+1;for(;Ce<ve;Ce++){if(he===j.getLineFirstNonWhitespaceColumn(Ce))break}return new Ke.Range(te,1,Ce+1,1)}getPreviewRangeBasedOnBrackets(j,te){const he=Math.min(j.getLineCount(),te+Tt.MAX_SOURCE_PREVIEW_LINES),ve=[];let Ce=!0,ye=j.bracketPairs.findNextBracket(new Oe.Position(te,1));for(;null!==ye;){if(0===ve.length)ve.push(ye);else{const j=ve[ve.length-1];if(j.open[0]===ye.open[0]&&j.isOpen&&!ye.isOpen?ve.pop():ve.push(ye),0===ve.length){if(!Ce)return new Ke.Range(te,1,ye.range.endLineNumber+1,1);Ce=!1}}const Ee=j.getLineMaxColumn(te);let Ie=ye.range.endLineNumber,Ne=ye.range.endColumn;if(Ee===ye.range.endColumn&&(Ie++,Ne=1),Ie>he)return new Ke.Range(te,1,he+1,1);ye=j.bracketPairs.findNextBracket(new Oe.Position(Ie,Ne))}return new Ke.Range(te,1,he+1,1)}addDecoration(j,te){const he={range:j,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:te}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[he])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(j,te){return this.editor.hasModel()&&j.isNoneOrSingleMouseDown&&6===j.target.type&&(j.hasTriggerModifier||!!te&&te.keyCodeIsTriggerKey)&&je.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(j,te){const he=this.editor.getModel();return he?(0,pt.getDefinitionsAtPosition)(he,j,te):Promise.resolve(null)}gotoDefinition(j,te){return this.editor.setPosition(j),this.editor.invokeWithinContext((j=>{const he=!te&&this.editor.getOption(78)&&!this.isInPeekEditor(j);return new mt.DefinitionAction({openToSide:te,openInPeek:he,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(j,this.editor)}))}isInPeekEditor(j){const te=j.get(at.IContextKeyService);return nt.PeekContext.inPeekEditor.getValue(te)}dispose(){this.toUnhook.dispose()}};ft.ID="editor.contrib.gotodefinitionatposition",ft.MAX_SOURCE_PREVIEW_LINES=8,ft=Ci([Zi(1,Ye.ITextModelService),Zi(2,Ze.ILanguageService)],ft),te.GotoDefinitionAtPositionEditorContribution=ft,(0,Ne.registerEditorContribution)(ft.ID,ft),(0,ht.registerThemingParticipant)(((j,te)=>{const he=j.getColor(ct.editorActiveLinkForeground);he&&te.addRule(`.monaco-editor .goto-definition-link { color: ${he} !important; }`)}))})),define(Ce[732],ie([1,0,7,19,10,13,2,41,3,196,155,288,152,296,547,77,51,71,23,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht){Object.defineProperty(te,"__esModule",{value:!0}),te.MarkerHoverParticipant=te.MarkerHover=void 0;const mt=he.$;class u{constructor(j,te,he){this.owner=j,this.range=te,this.marker=he}isValidForHoverAnchor(j){return 1===j.type&&this.range.startColumn<=j.range.startColumn&&this.range.endColumn>=j.range.endColumn}}te.MarkerHover=u;const pt={type:1,filter:{include:Ze.CodeActionKind.QuickFix}};let ft=class{constructor(j,te,he){this._editor=j,this._markerDecorationsService=te,this._openerService=he,this.recentMarkerCodeActionsInfo=void 0}computeSync(j,te){if(!this._editor.hasModel()||1!==j.type)return[];const he=this._editor.getModel(),ve=j.range.startLineNumber,Ce=he.getLineMaxColumn(ve),ye=[];for(const Ee of te){const te=Ee.range.startLineNumber===ve?Ee.range.startColumn:1,Ie=Ee.range.endLineNumber===ve?Ee.range.endColumn:Ce,Oe=this._markerDecorationsService.getMarker(he.uri,Ee);if(!Oe)continue;const Ke=new Ne.Range(j.range.startLineNumber,te,j.range.startLineNumber,Ie);ye.push(new u(this,Ke,Oe))}return ye}renderHoverParts(j,te){if(!te.length)return Ee.Disposable.None;const he=new Ee.DisposableStore;te.forEach((te=>j.fragment.appendChild(this.renderMarkerHover(te,he))));const ve=1===te.length?te[0]:te.sort(((j,te)=>nt.MarkerSeverity.compare(j.marker.severity,te.marker.severity)))[0];return this.renderMarkerStatusbar(j,ve,he),he}renderMarkerHover(j,te){const Ce=mt("div.hover-row"),Ee=he.append(Ce,mt("div.marker.hover-contents")),{source:Ne,message:Oe,code:Ke,relatedInformation:je}=j.marker;this._editor.applyFontInfo(Ee);const Ze=he.append(Ee,mt("span"));if(Ze.style.whiteSpace="pre-wrap",Ze.innerText=Oe,Ne||Ke)if(Ke&&"string"!=typeof Ke){const j=mt("span");if(Ne){he.append(j,mt("span")).innerText=Ne}const ve=he.append(j,mt("a.code-link"));ve.setAttribute("href",Ke.target.toString()),te.add(he.addDisposableListener(ve,"click",(j=>{this._openerService.open(Ke.target,{allowCommands:!0}),j.preventDefault(),j.stopPropagation()})));he.append(ve,mt("span")).innerText=Ke.value;const Ce=he.append(Ee,j);Ce.style.opacity="0.6",Ce.style.paddingLeft="6px"}else{const j=he.append(Ee,mt("span"));j.style.opacity="0.6",j.style.paddingLeft="6px",j.innerText=Ne&&Ke?`${Ne}(${Ke})`:Ne||`(${Ke})`}if((0,ve.isNonEmptyArray)(je))for(const{message:j,resource:ve,startLineNumber:Ce,startColumn:Ne}of je){const Oe=he.append(Ee,mt("div"));Oe.style.marginTop="8px";const Ke=he.append(Oe,mt("a"));Ke.innerText=`${(0,Ie.basename)(ve)}(${Ce}, ${Ne}): `,Ke.style.cursor="pointer",te.add(he.addDisposableListener(Ke,"click",(j=>{j.stopPropagation(),j.preventDefault(),this._openerService&&this._openerService.open(ve,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Ce,startColumn:Ne}}}).catch(ye.onUnexpectedError)})));const je=he.append(Oe,mt("span"));je.innerText=j,this._editor.applyFontInfo(je)}return Ce}renderMarkerStatusbar(j,te,ve){if((te.marker.severity===nt.MarkerSeverity.Error||te.marker.severity===nt.MarkerSeverity.Warning||te.marker.severity===nt.MarkerSeverity.Info)&&j.statusBar.addAction({label:et.localize(0,null),commandId:Ye.NextMarkerAction.ID,run:()=>{var he;j.hide(),null===(he=Ye.MarkerController.get(this._editor))||void 0===he||he.showAtMarker(te.marker),this._editor.focus()}}),!this._editor.getOption(81)){const Ie=j.statusBar.append(mt("div"));this.recentMarkerCodeActionsInfo&&(nt.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===nt.IMarkerData.makeKey(te.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(Ie.textContent=et.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const Ne=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?Ee.Disposable.None:ve.add((0,Ce.disposableTimeout)((()=>Ie.textContent=et.localize(2,null)),200));Ie.textContent||(Ie.textContent=String.fromCharCode(160));const Oe=this.getCodeActions(te.marker);ve.add((0,Ee.toDisposable)((()=>Oe.cancel()))),Oe.then((Ce=>{if(Ne.dispose(),this.recentMarkerCodeActionsInfo={marker:te.marker,hasCodeActions:Ce.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return Ce.dispose(),void(Ie.textContent=et.localize(3,null));Ie.style.display="none";let ye=!1;ve.add((0,Ee.toDisposable)((()=>{ye||Ce.dispose()}))),j.statusBar.addAction({label:et.localize(4,null),commandId:je.QuickFixAction.Id,run:te=>{ye=!0;const ve=je.QuickFixController.get(this._editor),Ee=he.getDomNodePagePosition(te);j.hide(),null==ve||ve.showCodeActions(pt,Ce,{x:Ee.left+6,y:Ee.top+Ee.height+6})}})}),ye.onUnexpectedError)}}getCodeActions(j){return(0,Ce.createCancelablePromise)((te=>(0,Ke.getCodeActions)(this._editor.getModel(),new Ne.Range(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn),pt,at.Progress.None,te)))}};ft=Ci([Zi(1,Oe.IMarkerDecorationsService),Zi(2,rt.IOpenerService)],ft),te.MarkerHoverParticipant=ft,(0,ht.registerThemingParticipant)(((j,te)=>{const he=j.getColor(ct.textLinkForeground);he&&te.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${he}; }`);const ve=j.getColor(ct.textLinkActiveForeground);ve&&te.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${ve}; }`)}))})),define(Ce[733],ie([1,0,7,44,21,15,3,58,208,108,37,26,16,76,9,38]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt){Object.defineProperty(te,"__esModule",{value:!0}),te.goToDefinitionWithLocation=te.showGoToContextMenu=void 0,te.showGoToContextMenu=function r(j,te,Oe,Ze){var rt;return fi(this,void 0,void 0,(function*(){const at=j.get(Ie.ITextModelService),ct=j.get(Ye.IContextMenuService),ht=j.get(je.ICommandService),mt=j.get(et.IInstantiationService),pt=j.get(nt.INotificationService);if(yield Ze.item.resolve(Ce.CancellationToken.None),!Ze.part.location)return;const ft=Ze.part.location,_t=[],Ct=new Set(Ke.MenuRegistry.getMenuItems(Ke.MenuId.EditorContext).map((j=>(0,Ke.isIMenuItem)(j)?j.command.id:"")));for(const j of ye.EditorExtensionsRegistry.getEditorActions())j instanceof Ne.SymbolNavigationAction&&Ct.has(j.id)&&_t.push(new ve.Action(j.id,j.label,void 0,!0,(()=>fi(this,void 0,void 0,(function*(){const he=yield at.createModelReference(ft.uri);try{yield mt.invokeFunction(j.run.bind(j),te,new Ne.SymbolNavigationAnchor(he.object.textEditorModel,Ee.Range.getStartPosition(ft.range)))}finally{he.dispose()}})))));if(Ze.part.command){const{command:j}=Ze.part;_t.push(new ve.Separator),_t.push(new ve.Action(j.id,j.title,void 0,!0,(()=>fi(this,void 0,void 0,(function*(){var te;try{yield ht.executeCommand(j.id,...null!==(te=j.arguments)&&void 0!==te?te:[])}catch(j){pt.notify({severity:nt.Severity.Error,source:Ze.item.provider.displayName,message:j})}})))))}const bt=te.getOption(115);ct.showContextMenu({domForShadowRoot:bt&&null!==(rt=te.getDomNode())&&void 0!==rt?rt:void 0,getAnchor:()=>{const j=he.getDomNodePagePosition(Oe);return{x:j.left,y:j.top+j.height+8}},getActions:()=>_t,onHide:()=>{te.focus()},autoSelectFirstItem:!0})}))},te.goToDefinitionWithLocation=function s(j,te,he,ve){return fi(this,void 0,void 0,(function*(){const Ce=yield j.get(Ie.ITextModelService).createModelReference(ve.uri);yield he.invokeWithinContext((j=>fi(this,void 0,void 0,(function*(){const ye=te.hasSideBySideModifier,Ie=j.get(Ze.IContextKeyService),Ke=Oe.PeekContext.inPeekEditor.getValue(Ie),je=!ye&&he.getOption(78)&&!Ke;return new Ne.DefinitionAction({openToSide:ye,openInPeek:je,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(j,he,{model:Ce.object.textEditorModel,position:Ee.Range.getStartPosition(ve.range)})})))),Ce.dispose()}))}})),define(Ce[299],ie([1,0,10,21,13,2,47,20,25,130,15,31,3,18,49,33,92,58,186,460,733,26,53,9,38,23,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt,St){Object.defineProperty(te,"__esModule",{value:!0}),te.InlayHintsController=te.RenderedInlayHintLabelPart=void 0;class L{constructor(){this._entries=new Ee.LRUCache(50)}get(j){const te=L._key(j);return this._entries.get(te)}set(j,te){const he=L._key(j);this._entries.set(he,te)}static _key(j){return`${j.uri.toString()}/${j.getVersionId()}`}}const Dt=(0,_t.createDecorator)("IInlayHintsCache");(0,ft.registerSingleton)(Dt,L,!0);class N{constructor(j,te){this.item=j,this.index=te}get part(){const j=this.item.hint.label;return"string"==typeof j?{label:j}:j[this.index]}}te.RenderedInlayHintLabelPart=N;let It=class ai{constructor(j,te,he,ve,Ce,Ee){this._editor=j,this._inlayHintsCache=he,this._commandService=ve,this._notificationService=Ce,this._instaService=Ee,this._disposables=new ye.DisposableStore,this._sessionDisposables=new ye.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new Oe.DynamicCssRules(this._editor),this._debounceInfo=te.for(Ye.InlayHintsProviderRegistry,"InlayHint",{min:25}),this._disposables.add(Ye.InlayHintsProviderRegistry.onDidChange((()=>this._update()))),this._disposables.add(j.onDidChangeModel((()=>this._update()))),this._disposables.add(j.onDidChangeModelLanguage((()=>this._update()))),this._disposables.add(j.onDidChangeConfiguration((j=>{j.hasChanged(127)&&this._update()}))),this._update()}static get(j){var te;return null!==(te=j.getContribution(ai.ID))&&void 0!==te?te:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(127).enabled)return;const j=this._editor.getModel();if(!j||!Ye.InlayHintsProviderRegistry.has(j))return;const te=this._inlayHintsCache.get(j);te&&this._updateHintsDecorators([j.getFullModelRange()],te),this._sessionDisposables.add((0,ye.toDisposable)((()=>{j.isDisposed()||this._cacheHintsForFastRestore(j)})));let Ee,Ie=new Set;const Ne=new he.RunOnceScheduler((()=>fi(this,void 0,void 0,(function*(){const te=Date.now();null==Ee||Ee.dispose(!0),Ee=new ve.CancellationTokenSource;const he=j.onWillDispose((()=>null==Ee?void 0:Ee.cancel()));try{const he=Ee.token,ve=yield ht.InlayHintsFragments.create(j,this._getHintsRanges(),he);if(Ne.delay=this._debounceInfo.update(j,Date.now()-te),he.isCancellationRequested)return void ve.dispose();for(const j of ve.provider)"function"==typeof j.onDidChangeInlayHints&&!Ie.has(j)&&(Ie.add(j),this._sessionDisposables.add(j.onDidChangeInlayHints((()=>{Ne.isScheduled()||Ne.schedule()}))));this._sessionDisposables.add(ve),this._updateHintsDecorators(ve.ranges,ve.items),this._cacheHintsForFastRestore(j)}catch(j){(0,Ce.onUnexpectedError)(j)}finally{Ee.dispose(),he.dispose()}}))),this._debounceInfo.get(j));this._sessionDisposables.add(Ne),this._sessionDisposables.add((0,ye.toDisposable)((()=>null==Ee?void 0:Ee.dispose(!0)))),Ne.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange((j=>{(j.scrollTopChanged||!Ne.isScheduled())&&Ne.schedule()}))),this._sessionDisposables.add(this._editor.onDidChangeModelContent((j=>{const te=Math.max(Ne.delay,1250);Ne.schedule(te)}))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){let B=()=>{};const j=new ct.ClickLinkGesture(this._editor);return j.onMouseMoveOrRelevantKeyDown((j=>{const[te]=j,he=this._getInlayHintLabelPart(te),Ce=this._editor.getModel();if(he&&te.hasTriggerModifier&&Ce){if(te.hasTriggerModifier&&(he.part.command||he.part.location)){const j=new ve.CancellationTokenSource;he.item.resolve(j.token),this._activeInlayHintPart=he;const te=this._activeInlayHintPart.item.hint.position.lineNumber,ye=new Ze.Range(te,1,te,Ce.getLineMaxColumn(te)),Ee=new Set;for(const j of this._decorationsMetadata.values())ye.containsRange(j.item.anchor.range)&&Ee.add(j.item);this._updateHintsDecorators([ye],Array.from(Ee)),B=()=>{j.dispose(!0),this._activeInlayHintPart=void 0,this._updateHintsDecorators([ye],Array.from(Ee))}}}else B()})),j.onCancel(B),j.onExecute((j=>fi(this,void 0,void 0,(function*(){var te;const he=this._getInlayHintLabelPart(j);if(he){const ve=he.part;if(ve.location)this._instaService.invokeFunction(mt.goToDefinitionWithLocation,j,this._editor,ve.location);else if(Ye.Command.is(ve.command))try{yield this._commandService.executeCommand(ve.command.id,...null!==(te=ve.command.arguments)&&void 0!==te?te:[])}catch(j){this._notificationService.notify({severity:Ct.Severity.Error,source:he.item.provider.displayName,message:j})}}})))),j}_installContextMenu(){return this._editor.onContextMenu((j=>fi(this,void 0,void 0,(function*(){if(!(j.event.target instanceof HTMLElement))return;const te=this._getInlayHintLabelPart(j);te&&(yield this._instaService.invokeFunction(mt.showGoToContextMenu,this._editor,j.event.target,te))}))))}_getInlayHintLabelPart(j){var te;if(6!==j.target.type)return;const he=null===(te=j.target.detail.injectedText)||void 0===te?void 0:te.options;return he instanceof nt.ModelDecorationInjectedTextOptions&&(null==he?void 0:he.attachedData)instanceof N?he.attachedData:void 0}_cacheHintsForFastRestore(j){const te=new Map;for(const[he,ve]of this._decorationsMetadata){if(te.has(ve.item))continue;let Ce=ve.item;const ye=j.getDecorationRange(he);if(ye){const j=new ht.InlayHintAnchor(ye,ve.item.anchor.direction);Ce=ve.item.with({anchor:j})}te.set(ve.item,Ce)}this._inlayHintsCache.set(j,Array.from(te.values()))}_getHintsRanges(){const j=this._editor.getModel(),te=this._editor.getVisibleRangesPlusViewportAboveBelow(),he=[];for(const ve of te.sort(Ze.Range.compareRangesUsingStarts)){const te=j.validateRange(new Ze.Range(ve.startLineNumber-30,ve.startColumn,ve.endLineNumber+30,ve.endColumn));0!==he.length&&Ze.Range.areIntersectingOrTouching(he[he.length-1],te)?he[he.length-1]=Ze.Range.plusRange(he[he.length-1],te):he.push(te)}return he}_updateHintsDecorators(j,te){var he,ve;const Ce=[],W=(j,te,he,ve,ye)=>{Ce.push({item:j,classNameRef:te,decoration:{range:j.anchor.range,options:{description:"InlayHint",showIfCollapsed:j.anchor.range.isEmpty(),collapseOnReplaceEdit:!j.anchor.range.isEmpty(),stickiness:0,[j.anchor.direction]:{content:he,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:te.className,cursorStops:ve,attachedData:ye}}}})},A=(j,te)=>{const he=this._ruleFactory.createClassNameRef({width:(ye/3|0)+"px",display:"inline-block"});W(j,he," ",te?et.InjectedTextCursorStops.Right:et.InjectedTextCursorStops.None)},{fontSize:ye,fontFamily:Ee}=this._getLayoutInfo(),Ie="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Ie,Ee);for(const j of te){j.hint.paddingLeft&&A(j,!1);const te="string"==typeof j.hint.label?[{label:j.hint.label}]:j.hint.label;for(let ve=0;ve<te.length;ve++){const Ce=te[ve],Ee=0===ve,Ne=ve===te.length-1,Oe={fontSize:`${ye}px`,fontFamily:`var(${Ie}), ${je.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:"middle"};this._fillInColors(Oe,j.hint),(Ce.command||Ce.location)&&(null===(he=this._activeInlayHintPart)||void 0===he?void 0:he.item)===j&&this._activeInlayHintPart.index===ve&&(Oe.textDecoration="underline",Oe.cursor="pointer",Oe.color=(0,St.themeColorFromId)(bt.editorActiveLinkForeground)),Ee&&Ne?(Oe.padding=`1px ${0|Math.max(1,ye/4)}px`,Oe.borderRadius=(ye/4|0)+"px"):Ee?(Oe.padding=`1px 0 1px ${0|Math.max(1,ye/4)}px`,Oe.borderRadius=`${ye/4|0}px 0 0 ${ye/4|0}px`):Ne?(Oe.padding=`1px ${0|Math.max(1,ye/4)}px 1px 0`,Oe.borderRadius=`0 ${ye/4|0}px ${ye/4|0}px 0`):Oe.padding="1px 0 1px 0",W(j,this._ruleFactory.createClassNameRef(Oe),M(Ce.label),Ne&&!j.hint.paddingRight?et.InjectedTextCursorStops.Right:et.InjectedTextCursorStops.None,new N(j,ve))}if(j.hint.paddingRight&&A(j,!0),Ce.length>ai._MAX_DECORATORS)break}const Ne=[];for(const te of j)for(const{id:j}of null!==(ve=this._editor.getDecorationsInRange(te))&&void 0!==ve?ve:[]){const te=this._decorationsMetadata.get(j);te&&(Ne.push(j),te.classNameRef.dispose(),this._decorationsMetadata.delete(j))}const Oe=this._editor.deltaDecorations(Ne,Ce.map((j=>j.decoration)));for(let j=0;j<Oe.length;j++){const te=Ce[j];this._decorationsMetadata.set(Oe[j],{item:te.item,classNameRef:te.classNameRef})}}_fillInColors(j,te){te.kind===Ye.InlayHintKind.Parameter?(j.backgroundColor=(0,St.themeColorFromId)(bt.editorInlayHintParameterBackground),j.color=(0,St.themeColorFromId)(bt.editorInlayHintParameterForeground)):te.kind===Ye.InlayHintKind.Type?(j.backgroundColor=(0,St.themeColorFromId)(bt.editorInlayHintTypeBackground),j.color=(0,St.themeColorFromId)(bt.editorInlayHintTypeForeground)):(j.backgroundColor=(0,St.themeColorFromId)(bt.editorInlayHintBackground),j.color=(0,St.themeColorFromId)(bt.editorInlayHintForeground))}_getLayoutInfo(){const j=this._editor.getOption(127),te=this._editor.getOption(46);let he=j.fontSize;(!he||he<5||he>te)&&(he=.9*te|0);return{fontSize:he,fontFamily:j.fontFamily||this._editor.getOption(43)}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let j of this._decorationsMetadata.values())j.classNameRef.dispose();this._decorationsMetadata.clear()}};function M(j){return j.replace(/[ \t]/g," ")}It.ID="editor.contrib.InlayHints",It._MAX_DECORATORS=1500,It=Ci([Zi(1,rt.ILanguageFeatureDebounceService),Zi(2,Dt),Zi(3,pt.ICommandService),Zi(4,Ct.INotificationService),Zi(5,_t.IInstantiationService)],It),te.InlayHintsController=It,(0,Ke.registerEditorContribution)(It.ID,It),pt.CommandsRegistry.registerCommand("_executeInlayHintProvider",((j,...te)=>fi(void 0,void 0,void 0,(function*(){const[he,Ce]=te;(0,Ie.assertType)(Ne.URI.isUri(he)),(0,Ie.assertType)(Ze.Range.isIRange(Ce));const ye=yield j.get(at.ITextModelService).createModelReference(he);try{const j=yield ht.InlayHintsFragments.create(ye.object.textEditorModel,[Ze.Range.lift(Ce)],ve.CancellationToken.None),te=j.items.map((j=>j.hint));return setTimeout((()=>j.dispose()),0),te}finally{ye.dispose()}}))))}));vi=this&&this.__asyncValues||function(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,he=j[Symbol.asyncIterator];return he?he.call(j):(j="function"==typeof __values?__values(j):j[Symbol.iterator](),te={},m("next"),m("throw"),m("return"),te[Symbol.asyncIterator]=function(){return this},te);function m(he){te[he]=j[he]&&function(te){return new Promise((function(ve,Ce){(function D(j,te,he,ve){Promise.resolve(ve).then((function(te){j({value:te,done:he})}),te)})(ve,Ce,(te=j[he](te)).done,te.value)}))}}};define(Ce[734],ie([1,0,10,66,11,18,33,187,35,58,287,201,299,40,51]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et){Object.defineProperty(te,"__esModule",{value:!0}),te.InlayHintsHover=void 0;class c extends Ie.HoverForeignElementAnchor{constructor(j,te){super(10,te,j.item.anchor.range),this.part=j}}let nt=class extends je.MarkdownHoverParticipant{constructor(j,te,he,ve,Ce){super(j,te,he,ve),this._resolverService=Ce}suggestHoverAnchor(j){var te;if(!Ze.InlayHintsController.get(this._editor)||6!==j.target.type)return null;const he=null===(te=j.target.detail.injectedText)||void 0===te?void 0:te.options;return he instanceof Ee.ModelDecorationInjectedTextOptions&&he.attachedData instanceof Ze.RenderedInlayHintLabelPart?new c(he.attachedData,this):null}computeSync(){return[]}computeAsync(j,te,Ce){return j instanceof c?new he.AsyncIterableObject((te=>fi(this,void 0,void 0,(function*(){var he,ye;const{part:Ee}=j;if(yield Ee.item.resolve(Ce),Ce.isCancellationRequested)return;let Ie,Ne;"string"==typeof Ee.item.hint.tooltip?Ie=(new ve.MarkdownString).appendText(Ee.item.hint.tooltip):Ee.item.hint.tooltip&&(Ie=Ee.item.hint.tooltip),Ie&&te.emitOne(new je.MarkdownHover(this,j.range,[Ie],0)),"string"==typeof Ee.part.tooltip?Ne=(new ve.MarkdownString).appendText(Ee.part.tooltip):Ee.part.tooltip&&(Ne=Ee.part.tooltip),Ne&&te.emitOne(new je.MarkdownHover(this,j.range,[Ne],1));const Oe=yield this._resolveInlayHintLabelPartHover(Ee,Ce);try{for(var Ke,Ze=vi(Oe);!(Ke=yield Ze.next()).done;){let j=Ke.value;te.emitOne(j)}}catch(j){he={error:j}}finally{try{Ke&&!Ke.done&&(ye=Ze.return)&&(yield ye.call(Ze))}finally{if(he)throw he.error}}})))):he.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(j,te){return fi(this,void 0,void 0,(function*(){if(!j.part.location)return he.AsyncIterableObject.EMPTY;const{uri:Ee,range:Ie}=j.part.location,Ne=yield this._resolverService.createModelReference(Ee);try{const Ee=Ne.object.textEditorModel;return ye.HoverProviderRegistry.has(Ee)?(0,Ke.getHover)(Ee,new Ce.Position(Ie.startLineNumber,Ie.startColumn),te).filter((j=>!(0,ve.isEmptyMarkdownString)(j.hover.contents))).map((te=>new je.MarkdownHover(this,j.item.anchor.range,te.hover.contents,2+te.ordinal))):he.AsyncIterableObject.EMPTY}finally{Ne.dispose()}}))}};nt=Ci([Zi(1,Ne.ILanguageService),Zi(2,et.IOpenerService),Zi(3,Ye.IConfigurationService),Zi(4,Oe.ITextModelService)],nt),te.InlayHintsHover=nt})),define(Ce[735],ie([1,0,15,28,297,40,16,9,38,80]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.StandaloneReferencesController=void 0;let Ke=class extends Ce.ReferencesController{constructor(j,te,he,ve,Ce,ye,Ee){super(!0,j,te,he,ve,Ce,ye,Ee)}};Ke=Ci([Zi(1,Ee.IContextKeyService),Zi(2,ve.ICodeEditorService),Zi(3,Ne.INotificationService),Zi(4,Ie.IInstantiationService),Zi(5,Oe.IStorageService),Zi(6,ye.IConfigurationService)],Ke),te.StandaloneReferencesController=Ke,(0,he.registerEditorContribution)(Ce.ReferencesController.ID,Ke)})),define(Ce[736],ie([1,0,13,2,48,74,592,127,53,38,158]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.UndoRedoService=void 0;function i(j){return j.scheme===Ce.Schemas.file?j.fsPath:j.path}let je=0;class l{constructor(j,te,he,ve,Ce,ye,Ee){this.id=++je,this.type=0,this.actual=j,this.label=j.label,this.confirmBeforeUndo=j.confirmBeforeUndo||!1,this.resourceLabel=te,this.strResource=he,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=ve,this.groupOrder=Ce,this.sourceId=ye,this.sourceOrder=Ee,this.isValid=!0}setValid(j){this.isValid=j}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class c{constructor(j,te){this.resourceLabel=j,this.reason=te}}class r{constructor(){this.elements=new Map}createMessage(){const j=[],te=[];for(const[,he]of this.elements)(0===he.reason?j:te).push(he.resourceLabel);let he=[];return j.length>0&&he.push(Ee.localize(0,null,j.join(", "))),te.length>0&&he.push(Ee.localize(1,null,te.join(", "))),he.join("\n")}get size(){return this.elements.size}has(j){return this.elements.has(j)}set(j,te){this.elements.set(j,te)}delete(j){return this.elements.delete(j)}}class s{constructor(j,te,he,ve,Ce,ye,Ee){this.id=++je,this.type=1,this.actual=j,this.label=j.label,this.confirmBeforeUndo=j.confirmBeforeUndo||!1,this.resourceLabels=te,this.strResources=he,this.groupId=ve,this.groupOrder=Ce,this.sourceId=ye,this.sourceOrder=Ee,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(j,te,he){this.removedResources||(this.removedResources=new r),this.removedResources.has(te)||this.removedResources.set(te,new c(j,he))}setValid(j,te,he){he?this.invalidatedResources&&(this.invalidatedResources.delete(te),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new r),this.invalidatedResources.has(te)||this.invalidatedResources.set(te,new c(j,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class o{constructor(j,te){this.resourceLabel=j,this.strResource=te,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const j of this._past)1===j.type&&j.removeResource(this.resourceLabel,this.strResource,0);for(const j of this._future)1===j.type&&j.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let j=[];j.push(`* ${this.strResource}:`);for(let te=0;te<this._past.length;te++)j.push(`   * [UNDO] ${this._past[te]}`);for(let te=this._future.length-1;te>=0;te--)j.push(`   * [REDO] ${this._future[te]}`);return j.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(j,te){1===j.type?j.setValid(this.resourceLabel,this.strResource,te):j.setValid(te)}setElementsValidFlag(j,te){for(const he of this._past)te(he.actual)&&this._setElementValidFlag(he,j);for(const he of this._future)te(he.actual)&&this._setElementValidFlag(he,j)}pushElement(j){for(const j of this._future)1===j.type&&j.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(j),this.versionId++}createSnapshot(j){const te=[];for(let j=0,he=this._past.length;j<he;j++)te.push(this._past[j].id);for(let j=this._future.length-1;j>=0;j--)te.push(this._future[j].id);return new Ke.ResourceEditStackSnapshot(j,te)}restoreSnapshot(j){const te=j.elements.length;let he=!0,ve=0,Ce=-1;for(let ye=0,Ee=this._past.length;ye<Ee;ye++,ve++){const Ee=this._past[ye];he&&(ve>=te||Ee.id!==j.elements[ve])&&(he=!1,Ce=0),!he&&1===Ee.type&&Ee.removeResource(this.resourceLabel,this.strResource,0)}let ye=-1;for(let Ce=this._future.length-1;Ce>=0;Ce--,ve++){const Ee=this._future[Ce];he&&(ve>=te||Ee.id!==j.elements[ve])&&(he=!1,ye=Ce),!he&&1===Ee.type&&Ee.removeResource(this.resourceLabel,this.strResource,0)}-1!==Ce&&(this._past=this._past.slice(0,Ce)),-1!==ye&&(this._future=this._future.slice(ye+1)),this.versionId++}getElements(){const j=[],te=[];for(const te of this._past)j.push(te.actual);for(const j of this._future)te.push(j.actual);return{past:j,future:te}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(j,te){for(let he=this._past.length-1;he>=0;he--)if(this._past[he]===j){te.has(this.strResource)?this._past[he]=te.get(this.strResource):this._past.splice(he,1);break}this.versionId++}splitFutureWorkspaceElement(j,te){for(let he=this._future.length-1;he>=0;he--)if(this._future[he]===j){te.has(this.strResource)?this._future[he]=te.get(this.strResource):this._future.splice(he,1);break}this.versionId++}moveBackward(j){this._past.pop(),this._future.push(j),this.versionId++}moveForward(j){this._future.pop(),this._past.push(j),this.versionId++}}class a{constructor(j){this.editStacks=j,this._versionIds=[];for(let j=0,te=this.editStacks.length;j<te;j++)this._versionIds[j]=this.editStacks[j].versionId}isValid(){for(let j=0,te=this.editStacks.length;j<te;j++)if(this._versionIds[j]!==this.editStacks[j].versionId)return!1;return!0}}const Ze=new o("","");Ze.locked=!0;let Ye=class{constructor(j,te){this._dialogService=j,this._notificationService=te,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(j){for(const te of this._uriComparisonKeyComputers)if(te[0]===j.scheme)return te[1].getComparisonKey(j);return j.toString()}_print(j){console.log("------------------------------------"),console.log(`AFTER ${j}: `);let te=[];for(const j of this._editStacks)te.push(j[1].toString());console.log(te.join("\n"))}pushElement(j,te=Ke.UndoRedoGroup.None,he=Ke.UndoRedoSource.None){if(0===j.type){const ve=i(j.resource),Ce=this.getUriComparisonKey(j.resource);this._pushElement(new l(j,ve,Ce,te.id,te.nextOrder(),he.id,he.nextOrder()))}else{const ve=new Set,Ce=[],ye=[];for(const te of j.resources){const j=i(te),he=this.getUriComparisonKey(te);ve.has(he)||(ve.add(he),Ce.push(j),ye.push(he))}1===Ce.length?this._pushElement(new l(j,Ce[0],ye[0],te.id,te.nextOrder(),he.id,he.nextOrder())):this._pushElement(new s(j,Ce,ye,te.id,te.nextOrder(),he.id,he.nextOrder()))}}_pushElement(j){for(let te=0,he=j.strResources.length;te<he;te++){const he=j.resourceLabels[te],ve=j.strResources[te];let Ce;this._editStacks.has(ve)?Ce=this._editStacks.get(ve):(Ce=new o(he,ve),this._editStacks.set(ve,Ce)),Ce.pushElement(j)}}getLastElement(j){const te=this.getUriComparisonKey(j);if(this._editStacks.has(te)){const j=this._editStacks.get(te);if(j.hasFutureElements())return null;const he=j.getClosestPastElement();return he?he.actual:null}return null}_splitPastWorkspaceElement(j,te){const he=j.actual.split(),ve=new Map;for(const j of he){const te=i(j.resource),he=this.getUriComparisonKey(j.resource),Ce=new l(j,te,he,0,0,0,0);ve.set(Ce.strResource,Ce)}for(const he of j.strResources)te&&te.has(he)||this._editStacks.get(he).splitPastWorkspaceElement(j,ve)}_splitFutureWorkspaceElement(j,te){const he=j.actual.split(),ve=new Map;for(const j of he){const te=i(j.resource),he=this.getUriComparisonKey(j.resource),Ce=new l(j,te,he,0,0,0,0);ve.set(Ce.strResource,Ce)}for(const he of j.strResources)te&&te.has(he)||this._editStacks.get(he).splitFutureWorkspaceElement(j,ve)}removeElements(j){const te="string"==typeof j?j:this.getUriComparisonKey(j);this._editStacks.has(te)&&(this._editStacks.get(te).dispose(),this._editStacks.delete(te))}setElementsValidFlag(j,te,he){const ve=this.getUriComparisonKey(j);this._editStacks.has(ve)&&this._editStacks.get(ve).setElementsValidFlag(te,he)}createSnapshot(j){const te=this.getUriComparisonKey(j);return this._editStacks.has(te)?this._editStacks.get(te).createSnapshot(j):new Ke.ResourceEditStackSnapshot(j,[])}restoreSnapshot(j){const te=this.getUriComparisonKey(j.resource);if(this._editStacks.has(te)){const he=this._editStacks.get(te);he.restoreSnapshot(j),!he.hasPastElements()&&!he.hasFutureElements()&&(he.dispose(),this._editStacks.delete(te))}}getElements(j){const te=this.getUriComparisonKey(j);return this._editStacks.has(te)?this._editStacks.get(te).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(j){if(!j)return[null,null];let te=null,he=null;for(const[ve,Ce]of this._editStacks){const ye=Ce.getClosestPastElement();!ye||ye.sourceId===j&&(!te||ye.sourceOrder>te.sourceOrder)&&(te=ye,he=ve)}return[te,he]}canUndo(j){if(j instanceof Ke.UndoRedoSource){const[,te]=this._findClosestUndoElementWithSource(j.id);return!!te}const te=this.getUriComparisonKey(j);return!!this._editStacks.has(te)&&this._editStacks.get(te).hasPastElements()}_onError(j,te){(0,he.onUnexpectedError)(j);for(const j of te.strResources)this.removeElements(j);this._notificationService.error(j)}_acquireLocks(j){for(const te of j.editStacks)if(te.locked)throw new Error("Cannot acquire edit stack lock");for(const te of j.editStacks)te.locked=!0;return()=>{for(const te of j.editStacks)te.locked=!1}}_safeInvokeWithLocks(j,te,he,ve,Ce){const ye=this._acquireLocks(he);let Ee;try{Ee=te()}catch(te){return ye(),ve.dispose(),this._onError(te,j)}return Ee?Ee.then((()=>(ye(),ve.dispose(),Ce())),(te=>(ye(),ve.dispose(),this._onError(te,j)))):(ye(),ve.dispose(),Ce())}_invokeWorkspacePrepare(j){return fi(this,void 0,void 0,(function*(){if(void 0===j.actual.prepareUndoRedo)return ve.Disposable.None;const te=j.actual.prepareUndoRedo();return void 0===te?ve.Disposable.None:te}))}_invokeResourcePrepare(j,te){if(1!==j.actual.type||void 0===j.actual.prepareUndoRedo)return te(ve.Disposable.None);const he=j.actual.prepareUndoRedo();return he?(0,ve.isDisposable)(he)?te(he):he.then((j=>te(j))):te(ve.Disposable.None)}_getAffectedEditStacks(j){const te=[];for(const he of j.strResources)te.push(this._editStacks.get(he)||Ze);return new a(te)}_tryToSplitAndUndo(j,te,he,ve){if(te.canSplit())return this._splitPastWorkspaceElement(te,he),this._notificationService.warn(ve),new f(this._undo(j,0,!0));for(const j of te.strResources)this.removeElements(j);return this._notificationService.warn(ve),new f}_checkWorkspaceUndo(j,te,he,ve){if(te.removedResources)return this._tryToSplitAndUndo(j,te,te.removedResources,Ee.localize(2,null,te.label,te.removedResources.createMessage()));if(ve&&te.invalidatedResources)return this._tryToSplitAndUndo(j,te,te.invalidatedResources,Ee.localize(3,null,te.label,te.invalidatedResources.createMessage()));const Ce=[];for(const j of he.editStacks)j.getClosestPastElement()!==te&&Ce.push(j.resourceLabel);if(Ce.length>0)return this._tryToSplitAndUndo(j,te,null,Ee.localize(4,null,te.label,Ce.join(", ")));const ye=[];for(const j of he.editStacks)j.locked&&ye.push(j.resourceLabel);return ye.length>0?this._tryToSplitAndUndo(j,te,null,Ee.localize(5,null,te.label,ye.join(", "))):he.isValid()?null:this._tryToSplitAndUndo(j,te,null,Ee.localize(6,null,te.label))}_workspaceUndo(j,te,he){const ve=this._getAffectedEditStacks(te),Ce=this._checkWorkspaceUndo(j,te,ve,!1);return Ce?Ce.returnValue:this._confirmAndExecuteWorkspaceUndo(j,te,ve,he)}_isPartOfUndoGroup(j){if(!j.groupId)return!1;for(const[,te]of this._editStacks){const he=te.getClosestPastElement();if(he){if(he===j){const he=te.getSecondClosestPastElement();if(he&&he.groupId===j.groupId)return!0}if(he.groupId===j.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(j,te,he,ve){return fi(this,void 0,void 0,(function*(){if(te.canSplit()&&!this._isPartOfUndoGroup(te)){const Ce=yield this._dialogService.show(ye.default.Info,Ee.localize(7,null,te.label),[Ee.localize(8,null,he.editStacks.length),Ee.localize(9,null),Ee.localize(10,null)],{cancelId:2});if(2===Ce.choice)return;if(1===Ce.choice)return this._splitPastWorkspaceElement(te,null),this._undo(j,0,!0);const Ie=this._checkWorkspaceUndo(j,te,he,!1);if(Ie)return Ie.returnValue;ve=!0}let Ce;try{Ce=yield this._invokeWorkspacePrepare(te)}catch(j){return this._onError(j,te)}const Ie=this._checkWorkspaceUndo(j,te,he,!0);if(Ie)return Ce.dispose(),Ie.returnValue;for(const j of he.editStacks)j.moveBackward(te);return this._safeInvokeWithLocks(te,(()=>te.actual.undo()),he,Ce,(()=>this._continueUndoInGroup(te.groupId,ve)))}))}_resourceUndo(j,te,he){if(te.isValid){if(!j.locked)return this._invokeResourcePrepare(te,(ve=>(j.moveBackward(te),this._safeInvokeWithLocks(te,(()=>te.actual.undo()),new a([j]),ve,(()=>this._continueUndoInGroup(te.groupId,he))))));{const j=Ee.localize(11,null,te.label);this._notificationService.warn(j)}}else j.flushAllElements()}_findClosestUndoElementInGroup(j){if(!j)return[null,null];let te=null,he=null;for(const[ve,Ce]of this._editStacks){const ye=Ce.getClosestPastElement();!ye||ye.groupId===j&&(!te||ye.groupOrder>te.groupOrder)&&(te=ye,he=ve)}return[te,he]}_continueUndoInGroup(j,te){if(!j)return;const[,he]=this._findClosestUndoElementInGroup(j);return he?this._undo(he,0,te):void 0}undo(j){if(j instanceof Ke.UndoRedoSource){const[,te]=this._findClosestUndoElementWithSource(j.id);return te?this._undo(te,j.id,!1):void 0}return"string"==typeof j?this._undo(j,0,!1):this._undo(this.getUriComparisonKey(j),0,!1)}_undo(j,te=0,he){if(!this._editStacks.has(j))return;const ve=this._editStacks.get(j),Ce=ve.getClosestPastElement();if(Ce){if(Ce.groupId){const[j,ve]=this._findClosestUndoElementInGroup(Ce.groupId);if(Ce!==j&&ve)return this._undo(ve,te,he)}if((Ce.sourceId!==te||Ce.confirmBeforeUndo)&&!he)return this._confirmAndContinueUndo(j,te,Ce);try{return 1===Ce.type?this._workspaceUndo(j,Ce,he):this._resourceUndo(ve,Ce,he)}finally{}}}_confirmAndContinueUndo(j,te,he){return fi(this,void 0,void 0,(function*(){if(1!==(yield this._dialogService.show(ye.default.Info,Ee.localize(12,null,he.label),[Ee.localize(13,null),Ee.localize(14,null)],{cancelId:1})).choice)return this._undo(j,te,!0)}))}_findClosestRedoElementWithSource(j){if(!j)return[null,null];let te=null,he=null;for(const[ve,Ce]of this._editStacks){const ye=Ce.getClosestFutureElement();!ye||ye.sourceId===j&&(!te||ye.sourceOrder<te.sourceOrder)&&(te=ye,he=ve)}return[te,he]}canRedo(j){if(j instanceof Ke.UndoRedoSource){const[,te]=this._findClosestRedoElementWithSource(j.id);return!!te}const te=this.getUriComparisonKey(j);return!!this._editStacks.has(te)&&this._editStacks.get(te).hasFutureElements()}_tryToSplitAndRedo(j,te,he,ve){if(te.canSplit())return this._splitFutureWorkspaceElement(te,he),this._notificationService.warn(ve),new f(this._redo(j));for(const j of te.strResources)this.removeElements(j);return this._notificationService.warn(ve),new f}_checkWorkspaceRedo(j,te,he,ve){if(te.removedResources)return this._tryToSplitAndRedo(j,te,te.removedResources,Ee.localize(15,null,te.label,te.removedResources.createMessage()));if(ve&&te.invalidatedResources)return this._tryToSplitAndRedo(j,te,te.invalidatedResources,Ee.localize(16,null,te.label,te.invalidatedResources.createMessage()));const Ce=[];for(const j of he.editStacks)j.getClosestFutureElement()!==te&&Ce.push(j.resourceLabel);if(Ce.length>0)return this._tryToSplitAndRedo(j,te,null,Ee.localize(17,null,te.label,Ce.join(", ")));const ye=[];for(const j of he.editStacks)j.locked&&ye.push(j.resourceLabel);return ye.length>0?this._tryToSplitAndRedo(j,te,null,Ee.localize(18,null,te.label,ye.join(", "))):he.isValid()?null:this._tryToSplitAndRedo(j,te,null,Ee.localize(19,null,te.label))}_workspaceRedo(j,te){const he=this._getAffectedEditStacks(te),ve=this._checkWorkspaceRedo(j,te,he,!1);return ve?ve.returnValue:this._executeWorkspaceRedo(j,te,he)}_executeWorkspaceRedo(j,te,he){return fi(this,void 0,void 0,(function*(){let ve;try{ve=yield this._invokeWorkspacePrepare(te)}catch(j){return this._onError(j,te)}const Ce=this._checkWorkspaceRedo(j,te,he,!0);if(Ce)return ve.dispose(),Ce.returnValue;for(const j of he.editStacks)j.moveForward(te);return this._safeInvokeWithLocks(te,(()=>te.actual.redo()),he,ve,(()=>this._continueRedoInGroup(te.groupId)))}))}_resourceRedo(j,te){if(te.isValid){if(!j.locked)return this._invokeResourcePrepare(te,(he=>(j.moveForward(te),this._safeInvokeWithLocks(te,(()=>te.actual.redo()),new a([j]),he,(()=>this._continueRedoInGroup(te.groupId))))));{const j=Ee.localize(20,null,te.label);this._notificationService.warn(j)}}else j.flushAllElements()}_findClosestRedoElementInGroup(j){if(!j)return[null,null];let te=null,he=null;for(const[ve,Ce]of this._editStacks){const ye=Ce.getClosestFutureElement();!ye||ye.groupId===j&&(!te||ye.groupOrder<te.groupOrder)&&(te=ye,he=ve)}return[te,he]}_continueRedoInGroup(j){if(!j)return;const[,te]=this._findClosestRedoElementInGroup(j);return te?this._redo(te):void 0}redo(j){if(j instanceof Ke.UndoRedoSource){const[,te]=this._findClosestRedoElementWithSource(j.id);return te?this._redo(te):void 0}return"string"==typeof j?this._redo(j):this._redo(this.getUriComparisonKey(j))}_redo(j){if(!this._editStacks.has(j))return;const te=this._editStacks.get(j),he=te.getClosestFutureElement();if(he){if(he.groupId){const[j,te]=this._findClosestRedoElementInGroup(he.groupId);if(he!==j&&te)return this._redo(te)}try{return 1===he.type?this._workspaceRedo(j,he):this._resourceRedo(te,he)}finally{}}}};Ye=Ci([Zi(0,Ie.IDialogService),Zi(1,Oe.INotificationService)],Ye),te.UndoRedoService=Ye;class f{constructor(j){this.returnValue=j}}(0,Ne.registerSingleton)(Ke.IUndoRedoService,Ye)})),define(Ce[300],ie([1,0,47,9]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.WorkspaceFolder=te.Workspace=te.IWorkspaceContextService=void 0,te.IWorkspaceContextService=(0,ve.createDecorator)("contextService");te.Workspace=class D{constructor(j,te,ve,Ce,ye){this._id=j,this._transient=ve,this._configuration=Ce,this._ignorePathCasing=ye,this._foldersMap=he.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=te}get folders(){return this._folders}set folders(j){this._folders=j,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(j){this._configuration=j}getFolder(j){return j&&this._foldersMap.findSubstr(j.with({scheme:j.scheme,authority:j.authority,path:j.path}))||null}updateFoldersMap(){this._foldersMap=he.TernarySearchTree.forUris(this._ignorePathCasing);for(const j of this.folders)this._foldersMap.set(j.uri,j)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}};te.WorkspaceFolder=class I{constructor(j,te){this.raw=te,this.uri=j.uri,this.index=j.index,this.name=j.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}})),define(Ce[301],ie([1,0,9]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),te.IWorkspaceTrustManagementService=void 0,te.IWorkspaceTrustManagementService=(0,he.createDecorator)("workspaceTrustManagementService")})),define(Ce[302],ie([1,0,10,27,2,17,8,15,31,33,243,85,35,267,201,696,577,40,9,51,78,72,301,388]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft){Object.defineProperty(te,"__esModule",{value:!0}),te.ShowExcludeOptions=te.DisableHighlightingOfNonBasicAsciiCharactersAction=te.DisableHighlightingOfInvisibleCharactersAction=te.DisableHighlightingOfAmbiguousCharactersAction=te.DisableHighlightingInStringsAction=te.DisableHighlightingInCommentsAction=te.UnicodeHighlighterHoverParticipant=te.UnicodeHighlighter=te.warningIcon=void 0,te.warningIcon=(0,pt.registerIcon)("extensions-warning-message",ve.Codicon.warning,rt.localize(0,null));let _t=class extends Ce.Disposable{constructor(j,he,ve,Ce){super(),this._editor=j,this._editorWorkerService=he,this._workspaceTrustService=ve,this._highlighter=null,this._bannerClosed=!1,this._updateState=j=>{if(j&&j.hasMore){if(this._bannerClosed)return;const he=Math.max(j.ambiguousCharacterCount,j.nonBasicAsciiCharacterCount,j.invisibleCharacterCount);let ve;if(j.nonBasicAsciiCharacterCount>=he)ve={message:rt.localize(1,null),command:new F};else if(j.ambiguousCharacterCount>=he)ve={message:rt.localize(2,null),command:new R};else{if(!(j.invisibleCharacterCount>=he))throw new Error("Unreachable");ve={message:rt.localize(3,null),command:new P}}this._bannerController.show({id:"unicodeHighlightBanner",message:ve.message,icon:te.warningIcon,actions:[{label:ve.command.shortLabel,href:`command:${ve.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Ce.createInstance(nt.BannerController,j)),this._register(this._editor.onDidChangeModel((()=>{this._bannerClosed=!1,this._updateHighlighter()}))),this._options=j.getOption(113),this._register(ve.onDidChangeTrust((j=>{this._updateHighlighter()}))),this._register(j.onDidChangeConfiguration((te=>{te.hasChanged(113)&&(this._options=j.getOption(113),this._updateHighlighter())}))),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const j=function v(j,te){return{nonBasicASCII:te.nonBasicASCII===Ne.inUntrustedWorkspace?!j:te.nonBasicASCII,ambiguousCharacters:te.ambiguousCharacters,invisibleCharacters:te.invisibleCharacters,includeComments:te.includeComments===Ne.inUntrustedWorkspace?!j:te.includeComments,includeStrings:te.includeStrings===Ne.inUntrustedWorkspace?!j:te.includeStrings,allowedCharacters:te.allowedCharacters,allowedLocales:te.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([j.nonBasicASCII,j.ambiguousCharacters,j.invisibleCharacters].every((j=>!1===j)))return;const te={nonBasicASCII:j.nonBasicASCII,ambiguousCharacters:j.ambiguousCharacters,invisibleCharacters:j.invisibleCharacters,includeComments:j.includeComments,includeStrings:j.includeStrings,allowedCodePoints:Object.keys(j.allowedCharacters).map((j=>j.codePointAt(0))),allowedLocales:Object.keys(j.allowedLocales).map((j=>"_os"===j?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===j?ye.language:j))};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new Ct(this._editor,te,this._updateState,this._editorWorkerService):this._highlighter=new _(this._editor,te,this._updateState)}getDecorationInfo(j){return this._highlighter?this._highlighter.getDecorationInfo(j):null}};_t.ID="editor.contrib.unicodeHighlighter",_t=Ci([Zi(1,je.IEditorWorkerService),Zi(2,ft.IWorkspaceTrustManagementService),Zi(3,ct.IInstantiationService)],_t),te.UnicodeHighlighter=_t;let Ct=class extends Ce.Disposable{constructor(j,te,ve,Ce){super(),this._editor=j,this._options=te,this._updateState=ve,this._editorWorkerService=Ce,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new he.RunOnceScheduler((()=>this._update()),250)),this._register(this._editor.onDidChangeModelContent((()=>{this._updateSoon.schedule()}))),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void(this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[])));const j=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then((te=>{if(this._model.isDisposed()||this._model.getVersionId()!==j)return;this._updateState(te);const he=[];if(!te.hasMore)for(const j of te.ranges)he.push({range:j,options:O.instance.getDecorationFromOptions(this._options)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),he))}))}getDecorationInfo(j){if(!this._decorationIds.has(j))return null;const te=this._editor.getModel(),he=te.getDecorationRange(j),ve={range:he,options:O.instance.getDecorationFromOptions(this._options),id:j,ownerId:0};if(!(0,Ye.isModelDecorationVisible)(te,ve))return null;return{reason:M(te.getValueInRange(he),this._options),inComment:(0,Ye.isModelDecorationInComment)(te,ve),inString:(0,Ye.isModelDecorationInString)(te,ve)}}};Ct=Ci([Zi(3,je.IEditorWorkerService)],Ct);class _ extends Ce.Disposable{constructor(j,te,ve){super(),this._editor=j,this._options=te,this._updateState=ve,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new he.RunOnceScheduler((()=>this._update()),250)),this._register(this._editor.onDidLayoutChange((()=>{this._updateSoon.schedule()}))),this._register(this._editor.onDidScrollChange((()=>{this._updateSoon.schedule()}))),this._register(this._editor.onDidChangeHiddenAreas((()=>{this._updateSoon.schedule()}))),this._register(this._editor.onDidChangeModelContent((()=>{this._updateSoon.schedule()}))),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void(this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[])));const j=this._editor.getVisibleRanges(),te=[],he={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const te of j){const j=Ke.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,te);for(const te of j.ranges)he.ranges.push(te);he.ambiguousCharacterCount+=he.ambiguousCharacterCount,he.invisibleCharacterCount+=he.invisibleCharacterCount,he.nonBasicAsciiCharacterCount+=he.nonBasicAsciiCharacterCount,he.hasMore=he.hasMore||j.hasMore}if(!he.hasMore)for(const j of he.ranges)te.push({range:j,options:O.instance.getDecorationFromOptions(this._options)});this._updateState(he),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),te))}getDecorationInfo(j){if(!this._decorationIds.has(j))return null;const te=this._editor.getModel(),he=te.getDecorationRange(j),ve=te.getValueInRange(he),Ce={range:he,options:O.instance.getDecorationFromOptions(this._options),id:j,ownerId:0};return(0,Ye.isModelDecorationVisible)(te,Ce)?{reason:M(ve,this._options),inComment:(0,Ye.isModelDecorationInComment)(te,Ce),inString:(0,Ye.isModelDecorationInString)(te,Ce)}:null}}let bt=class{constructor(j,te,he){this._editor=j,this._languageService=te,this._openerService=he}computeSync(j,te){if(!this._editor.hasModel()||1!==j.type)return[];const he=this._editor.getModel(),ve=this._editor.getContribution(_t.ID);if(!ve)return[];const Ce=[];let ye=300;for(const j of te){const te=ve.getDecorationInfo(j.id);if(!te)continue;const Ee=he.getValueInRange(j.range).codePointAt(0),Ie=N(Ee);let Ne;switch(te.reason.kind){case 0:Ne=rt.localize(4,null,Ie,N(te.reason.confusableWith.codePointAt(0)));break;case 1:Ne=rt.localize(5,null,Ie);break;case 2:Ne=rt.localize(6,null,Ie)}const Oe={codePoint:Ee,reason:te.reason,inComment:te.inComment,inString:te.inString},Ke=[{value:`${Ne} [${rt.localize(7,null)}](command:${W.ID}?${encodeURIComponent(JSON.stringify(Oe))})`,isTrusted:!0}];Ce.push(new et.MarkdownHover(this,j.range,Ke,ye++))}return Ce}renderHoverParts(j,te){return(0,et.renderMarkdownHovers)(j,te,this._editor,this._languageService,this._openerService)}};function E(j){return`U+${j.toString(16).padStart(4,"0")}`}function N(j){let te=`\`${E(j)}\``;return Ee.InvisibleCharacters.isInvisibleCharacter(j)||(te+=` "${function k(j){return 96===j?"`` ` ``":"`"+String.fromCodePoint(j)+"`"}(j)}"`),te}function M(j,te){return Ke.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(j,te)}bt=Ci([Zi(1,Ze.ILanguageService),Zi(2,ht.IOpenerService)],bt),te.UnicodeHighlighterHoverParticipant=bt;class O{constructor(){this.map=new Map}getDecorationFromOptions(j){return this.getDecoration(!j.includeComments,!j.includeStrings)}getDecoration(j,te){const he=`${j}${te}`;let ve=this.map.get(he);return ve||(ve=Oe.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:j,hideInStringTokens:te}),this.map.set(he,ve)),ve}}O.instance=new O;class B extends Ie.EditorAction{constructor(){super({id:R.ID,label:rt.localize(9,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=rt.localize(8,null)}run(j,te,he){return fi(this,void 0,void 0,(function*(){let te=null==j?void 0:j.get(at.IConfigurationService);te&&this.runAction(te)}))}runAction(j){return fi(this,void 0,void 0,(function*(){yield j.updateValue(Ne.unicodeHighlightConfigKeys.includeComments,!1,1)}))}}te.DisableHighlightingInCommentsAction=B;class T extends Ie.EditorAction{constructor(){super({id:R.ID,label:rt.localize(11,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=rt.localize(10,null)}run(j,te,he){return fi(this,void 0,void 0,(function*(){let te=null==j?void 0:j.get(at.IConfigurationService);te&&this.runAction(te)}))}runAction(j){return fi(this,void 0,void 0,(function*(){yield j.updateValue(Ne.unicodeHighlightConfigKeys.includeStrings,!1,1)}))}}te.DisableHighlightingInStringsAction=T;class R extends Ie.EditorAction{constructor(){super({id:R.ID,label:rt.localize(13,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=rt.localize(12,null)}run(j,te,he){return fi(this,void 0,void 0,(function*(){let te=null==j?void 0:j.get(at.IConfigurationService);te&&this.runAction(te)}))}runAction(j){return fi(this,void 0,void 0,(function*(){yield j.updateValue(Ne.unicodeHighlightConfigKeys.ambiguousCharacters,!1,1)}))}}te.DisableHighlightingOfAmbiguousCharactersAction=R,R.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class P extends Ie.EditorAction{constructor(){super({id:P.ID,label:rt.localize(15,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=rt.localize(14,null)}run(j,te,he){return fi(this,void 0,void 0,(function*(){let te=null==j?void 0:j.get(at.IConfigurationService);te&&this.runAction(te)}))}runAction(j){return fi(this,void 0,void 0,(function*(){yield j.updateValue(Ne.unicodeHighlightConfigKeys.invisibleCharacters,!1,1)}))}}te.DisableHighlightingOfInvisibleCharactersAction=P,P.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class F extends Ie.EditorAction{constructor(){super({id:F.ID,label:rt.localize(17,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=rt.localize(16,null)}run(j,te,he){return fi(this,void 0,void 0,(function*(){let te=null==j?void 0:j.get(at.IConfigurationService);te&&this.runAction(te)}))}runAction(j){return fi(this,void 0,void 0,(function*(){yield j.updateValue(Ne.unicodeHighlightConfigKeys.nonBasicASCII,!1,1)}))}}te.DisableHighlightingOfNonBasicAsciiCharactersAction=F,F.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class W extends Ie.EditorAction{constructor(){super({id:W.ID,label:rt.localize(18,null),alias:"Show Exclude Options",precondition:void 0})}run(j,te,he){return fi(this,void 0,void 0,(function*(){const{codePoint:te,reason:ve,inString:Ce,inComment:ye}=he,Ie=String.fromCodePoint(te),Oe=j.get(mt.IQuickInputService),Ke=j.get(at.IConfigurationService);const je=[];if(0===ve.kind)for(const j of ve.notAmbiguousInLocales)je.push({label:rt.localize(21,null,j),run:()=>fi(this,void 0,void 0,(function*(){H(Ke,[j])}))});if(je.push({label:function ee(j){return Ee.InvisibleCharacters.isInvisibleCharacter(j)?rt.localize(19,null,E(j)):rt.localize(20,null,`${E(j)} "${Ie}"`)}(te),run:()=>function A(j,te){return fi(this,void 0,void 0,(function*(){const he=j.getValue(Ne.unicodeHighlightConfigKeys.allowedCharacters);let ve;ve="object"==typeof he&&he?he:{};for(const j of te)ve[String.fromCodePoint(j)]=!0;yield j.updateValue(Ne.unicodeHighlightConfigKeys.allowedCharacters,ve,1)}))}(Ke,[te])}),ye){const j=new B;je.push({label:j.label,run:()=>fi(this,void 0,void 0,(function*(){return j.runAction(Ke)}))})}else if(Ce){const j=new T;je.push({label:j.label,run:()=>fi(this,void 0,void 0,(function*(){return j.runAction(Ke)}))})}if(0===ve.kind){const j=new R;je.push({label:j.label,run:()=>fi(this,void 0,void 0,(function*(){return j.runAction(Ke)}))})}else if(1===ve.kind){const j=new P;je.push({label:j.label,run:()=>fi(this,void 0,void 0,(function*(){return j.runAction(Ke)}))})}else if(2===ve.kind){const j=new F;je.push({label:j.label,run:()=>fi(this,void 0,void 0,(function*(){return j.runAction(Ke)}))})}else!function q(j){throw new Error(`Unexpected value: ${j}`)}(ve);const Ze=yield Oe.pick(je,{title:rt.localize(22,null)});Ze&&(yield Ze.run())}))}}function H(j,te){var he;return fi(this,void 0,void 0,(function*(){const ve=null===(he=j.inspect(Ne.unicodeHighlightConfigKeys.allowedLocales).user)||void 0===he?void 0:he.value;let Ce;Ce="object"==typeof ve&&ve?Object.assign({},ve):{};for(const j of te)Ce[j]=!0;yield j.updateValue(Ne.unicodeHighlightConfigKeys.allowedLocales,Ce,1)}))}te.ShowExcludeOptions=W,W.ID="editor.action.unicodeHighlight.showExcludeOptions",(0,Ie.registerEditorAction)(R),(0,Ie.registerEditorAction)(P),(0,Ie.registerEditorAction)(F),(0,Ie.registerEditorAction)(W),(0,Ie.registerEditorContribution)(_t.ID,_t)})),define(Ce[209],ie([1,0,8,7,46,4,94,2,17,74,25,195,620,61,11,3,45,58,153,26,40,625,16,127,9,608,42,610,86,274,611,128,38,71,87,300,129,70,28,64,301,76,612,623,687,14,53,618,85,276,35,650,196,291,690,698,101,605,63,37,686,615,102,606,194,607,154,157,77,617,51,78,80,32,284,275,736,92]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt,St,Dt,It,kt,At,Pt,Kt,Ut,jt,$t,qt,Gt,Zt,Yt,li,di,ci,hi,ui,gi,mi,pi,vi,Xi,Qi,Ji,en,tn,nn,on,sn,an,ln,dn,cn,hn,un,gn,mn,pn,fn,_n,vn,Cn,bn,Sn,wn){Object.defineProperty(te,"__esModule",{value:!0}),te.StandaloneServices=te.updateConfigurationService=te.StandaloneConfigurationService=te.StandaloneKeybindingService=te.StandaloneCommandService=te.StandaloneNotificationService=void 0;class Te{constructor(j){this.disposed=!1,this.model=j,this._onWillDispose=new ye.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let yn=class{constructor(j){this.modelService=j}createModelReference(j){const te=this.modelService.getModel(j);return te?Promise.resolve(new Ie.ImmortalReference(new Te(te))):Promise.reject(new Error("Model not found"))}};yn=Ci([Zi(0,rt.IModelService)],yn);class Me{show(){return Me.NULL_PROGRESS_RUNNER}showWhile(j,te){return fi(this,void 0,void 0,(function*(){yield j}))}}Me.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class He{info(j){return this.notify({severity:Oe.default.Info,message:j})}warn(j){return this.notify({severity:Oe.default.Warning,message:j})}error(j){return this.notify({severity:Oe.default.Error,message:j})}notify(j){switch(j.severity){case Oe.default.Error:console.error(j.message);break;case Oe.default.Warning:console.warn(j.message);break;default:console.log(j.message)}return He.NO_OP}status(j,te){return Ie.Disposable.None}}te.StandaloneNotificationService=He,He.NO_OP=new Kt.NoOpNotification;let En=class{constructor(j){this._onWillExecuteCommand=new ye.Emitter,this._onDidExecuteCommand=new ye.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=j}executeCommand(j,...te){const he=ht.CommandsRegistry.getCommand(j);if(!he)return Promise.reject(new Error(`command '${j}' not found`));try{this._onWillExecuteCommand.fire({commandId:j,args:te});const ve=this._instantiationService.invokeFunction.apply(this._instantiationService,[he.handler,...te]);return this._onDidExecuteCommand.fire({commandId:j,args:te}),Promise.resolve(ve)}catch(j){return Promise.reject(j)}}};En=Ci([Zi(0,Ct.IInstantiationService)],En),te.StandaloneCommandService=En;let Ln=class extends bt.AbstractKeybindingService{constructor(j,te,he,ye,Ee,Ne){super(j,te,he,ye,Ee),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Xe=j=>{const te=new Ie.DisposableStore;te.add(ve.addDisposableListener(j,ve.EventType.KEY_DOWN,(j=>{const te=new Ce.StandardKeyboardEvent(j);this._dispatch(te,te.target)&&(te.preventDefault(),te.stopPropagation())}))),te.add(ve.addDisposableListener(j,ve.EventType.KEY_UP,(j=>{const te=new Ce.StandardKeyboardEvent(j);this._singleModifierDispatch(te,te.target)&&te.preventDefault()}))),this._domNodeListeners.push(new Se(j,te))},it=j=>{for(let te=0;te<this._domNodeListeners.length;te++){const he=this._domNodeListeners[te];he.domNode===j&&(this._domNodeListeners.splice(te,1),he.dispose())}},lt=j=>{j.getOption(54)||Xe(j.getContainerDomNode())};this._register(Ne.onCodeEditorAdd(lt)),this._register(Ne.onCodeEditorRemove((j=>{j.getOption(54)||it(j.getContainerDomNode())}))),Ne.listCodeEditors().forEach(lt);const dt=j=>{Xe(j.getContainerDomNode())};this._register(Ne.onDiffEditorAdd(dt)),this._register(Ne.onDiffEditorRemove((j=>{it(j.getContainerDomNode())}))),Ne.listDiffEditors().forEach(dt)}addDynamicKeybinding(j,te,he,ve){const Ce=(0,Ee.createKeybinding)(te,Ne.OS),ye=new Ie.DisposableStore;return Ce&&(this._dynamicKeybindings.push({keybinding:Ce.parts,command:j,when:ve,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),ye.add((0,Ie.toDisposable)((()=>{for(let te=0;te<this._dynamicKeybindings.length;te++)if(this._dynamicKeybindings[te].command===j)return this._dynamicKeybindings.splice(te,1),void this.updateResolver({source:1})})))),ye.add(ht.CommandsRegistry.registerCommand(j,he)),this.updateResolver({source:1}),ye}updateResolver(j){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(j)}_getResolver(){if(!this._cachedResolver){const j=this._toNormalizedKeybindingItems(It.KeybindingsRegistry.getDefaultKeybindings(),!0),te=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Dt.KeybindingResolver(j,te,(j=>this._log(j)))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(j,te){const he=[];let ve=0;for(const Ce of j){const j=Ce.when||void 0,ye=Ce.keybinding;if(ye){const Ee=At.USLayoutResolvedKeybinding.resolveUserBinding(ye,Ne.OS);for(const ye of Ee)he[ve++]=new kt.ResolvedKeybindingItem(ye,Ce.command,Ce.commandArgs,j,te,null,!1)}else he[ve++]=new kt.ResolvedKeybindingItem(void 0,Ce.command,Ce.commandArgs,j,te,null,!1)}return he}resolveKeyboardEvent(j){const te=new Ee.SimpleKeybinding(j.ctrlKey,j.shiftKey,j.altKey,j.metaKey,j.keyCode).toChord();return new At.USLayoutResolvedKeybinding(te,Ne.OS)}};Ln=Ci([Zi(0,ft.IContextKeyService),Zi(1,ht.ICommandService),Zi(2,jt.ITelemetryService),Zi(3,Kt.INotificationService),Zi(4,Yt.ILogService),Zi(5,Zt.ICodeEditorService)],Ln),te.StandaloneKeybindingService=Ln;class Se extends Ie.Disposable{constructor(j,te){super(),this.domNode=j,this._register(te)}}function De(j){return j&&"object"==typeof j&&(!j.overrideIdentifier||"string"==typeof j.overrideIdentifier)&&(!j.resource||j.resource instanceof Ke.URI)}class Pe{constructor(){this._onDidChangeConfiguration=new ye.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new pt.Configuration(new pt.DefaultConfigurationModel,new pt.ConfigurationModel)}getValue(j,te){const he="string"==typeof j?j:void 0,ve=De(j)?j:De(te)?te:{};return this._configuration.getValue(he,ve,void 0)}updateValues(j){const te={data:this._configuration.toData()},he=[];for(const te of j){const[j,ve]=te;this.getValue(j)!==ve&&(this._configuration.updateValue(j,ve),he.push(j))}if(he.length>0){const j=new pt.ConfigurationChangeEvent({keys:he,overrides:[]},te,this._configuration);j.source=7,j.sourceConfig=null,this._onDidChangeConfiguration.fire(j)}return Promise.resolve()}updateValue(j,te,he,ve){return this.updateValues([[j,te]])}inspect(j,te={}){return this._configuration.inspect(j,te,void 0)}}te.StandaloneConfigurationService=Pe;let Dn=class{constructor(j){this.configurationService=j,this._onDidChangeConfiguration=new ye.Emitter,this.configurationService.onDidChangeConfiguration((j=>{this._onDidChangeConfiguration.fire({affectedKeys:j.affectedKeys,affectsConfiguration:(te,he)=>j.affectsConfiguration(he)})}))}getValue(j,te,he){const ve=et.Position.isIPosition(te)&&te?"string"==typeof he?he:void 0:"string"==typeof te?te:void 0;return void 0===ve?this.configurationService.getValue():this.configurationService.getValue(ve)}};Dn=Ci([Zi(0,mt.IConfigurationService)],Dn);let In=class{constructor(j){this.configurationService=j}getEOL(j,te){const he=this.configurationService.getValue("files.eol",{overrideIdentifier:te,resource:j});return he&&"string"==typeof he&&"auto"!==he?he:Ne.isLinux||Ne.isMacintosh?"\n":"\r\n"}};In=Ci([Zi(0,mt.IConfigurationService)],In);class qe{constructor(){const j=Ke.URI.from({scheme:qe.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new $t.WorkspaceFolder({uri:j,name:"",index:0})]}}getWorkspace(){return this.workspace}}qe.SCHEME="inmemory",te.updateConfigurationService=function We(j,te,he){if(!(te&&j instanceof Pe))return;const ve=[];Object.keys(te).forEach((j=>{(0,Ze.isEditorConfigurationKey)(j)&&ve.push([`editor.${j}`,te[j]]),he&&(0,Ze.isDiffEditorConfigurationKey)(j)&&ve.push([`diffEditor.${j}`,te[j]])})),ve.length>0&&j.updateValues(ve)};let xn=class{constructor(j){this._modelService=j}hasPreviewHandler(){return!1}apply(j,te){return fi(this,void 0,void 0,(function*(){const te=new Map;for(let he of j){if(!(he instanceof je.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const j=this._modelService.getModel(he.resource);if(!j)throw new Error("bad edit - model not found");if("number"==typeof he.versionId&&j.getVersionId()!==he.versionId)throw new Error("bad state - model changed in the meantime");let ve=te.get(j);ve||(ve=[],te.set(j,ve)),ve.push(Ye.EditOperation.replaceMove(nt.Range.lift(he.textEdit.range),he.textEdit.text))}let ve=0,Ce=0;for(const[j,he]of te)j.pushStackElement(),j.pushEditOperations([],he,(()=>[])),j.pushStackElement(),Ce+=1,ve+=he.length;return{ariaSummary:he.format(Gt.StandaloneServicesNLS.bulkEditServiceSummary,ve,Ce)}}))}};xn=Ci([Zi(0,rt.IModelService)],xn);let kn=class extends ci.ContextViewService{constructor(j,te){super(j),this._codeEditorService=te}showContextView(j,te,he){if(!te){const j=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();j&&(te=j.getContainerDomNode())}return super.showContextView(j,te,he)}};kn=Ci([Zi(0,qt.ILayoutService),Zi(1,Zt.ICodeEditorService)],kn);class Ae extends hi.LanguageService{constructor(){super()}}class Ue extends Yt.LogService{constructor(){super(new Yt.ConsoleLogger)}}let Nn=class extends ui.ContextMenuService{constructor(j,te,he,ve,Ce){super(j,te,he,ve,Ce),this.configure({blockMouse:!1})}};Nn=Ci([Zi(0,jt.ITelemetryService),Zi(1,Kt.INotificationService),Zi(2,di.IContextViewService),Zi(3,St.IKeybindingService),Zi(4,gi.IThemeService)],Nn),(0,mi.registerSingleton)(mt.IConfigurationService,Pe),(0,mi.registerSingleton)(ct.ITextResourceConfigurationService,Dn),(0,mi.registerSingleton)(ct.ITextResourcePropertiesService,In),(0,mi.registerSingleton)($t.IWorkspaceContextService,qe),(0,mi.registerSingleton)(Pt.ILabelService,class Be{getUriLabel(j,te){return"file"===j.scheme?j.fsPath:j.path}}),(0,mi.registerSingleton)(jt.ITelemetryService,class Ve{publicLog(j,te){return Promise.resolve(void 0)}publicLog2(j,te){return this.publicLog(j,te)}}),(0,mi.registerSingleton)(_t.IDialogService,class $e{confirm(j){return this.doConfirm(j).then((j=>({confirmed:j,checkboxChecked:!1})))}doConfirm(j){let te=j.message;return j.detail&&(te=te+"\n\n"+j.detail),Promise.resolve(window.confirm(te))}show(j,te,he,ve){return Promise.resolve({choice:0})}}),(0,mi.registerSingleton)(Kt.INotificationService,He),(0,mi.registerSingleton)(vn.IMarkerService,Cn.MarkerService),(0,mi.registerSingleton)(Qi.ILanguageService,Ae),(0,mi.registerSingleton)(sn.IStandaloneThemeService,on.StandaloneThemeService),(0,mi.registerSingleton)(Yt.ILogService,Ue),(0,mi.registerSingleton)(rt.IModelService,tn.ModelService),(0,mi.registerSingleton)(en.IMarkerDecorationsService,Ji.MarkerDecorationsService),(0,mi.registerSingleton)(ft.IContextKeyService,gn.ContextKeyService),(0,mi.registerSingleton)(Ut.IEditorProgressService,Me),(0,mi.registerSingleton)(wn.IStorageService,wn.InMemoryStorageService),(0,mi.registerSingleton)(vi.IEditorWorkerService,Xi.EditorWorkerService),(0,mi.registerSingleton)(je.IBulkEditService,xn),(0,mi.registerSingleton)(li.IWorkspaceTrustManagementService,class Re{constructor(){this._neverEmitter=new ye.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}),(0,mi.registerSingleton)(at.ITextModelService,yn),(0,mi.registerSingleton)(ln.IAccessibilityService,an.AccessibilityService),(0,mi.registerSingleton)(_n.IListService,_n.ListService),(0,mi.registerSingleton)(ht.ICommandService,En),(0,mi.registerSingleton)(St.IKeybindingService,Ln),(0,mi.registerSingleton)(Sn.IQuickInputService,nn.StandaloneQuickInputService),(0,mi.registerSingleton)(di.IContextViewService,kn),(0,mi.registerSingleton)(bn.IOpenerService,pi.OpenerService),(0,mi.registerSingleton)(un.IClipboardService,hn.BrowserClipboardService),(0,mi.registerSingleton)(di.IContextMenuService,Nn),(0,mi.registerSingleton)(dn.IMenuService,cn.MenuService),function(j){const te=new fn.ServiceCollection;for(const[j,he]of(0,mi.getSingletonServiceDescriptors)())te.set(j,he);const he=new pn.InstantiationService(te,!0);te.set(Ct.IInstantiationService,he),j.get=function ze(j){const ve=te.get(j);if(!ve)throw new Error("Missing service "+j);return ve instanceof mn.SyncDescriptor?he.invokeFunction((te=>te.get(j))):ve};let ve=!1;j.initialize=function Je(j){if(ve)return he;ve=!0;for(const[j,he]of(0,mi.getSingletonServiceDescriptors)())te.get(j)||te.set(j,he);for(const he in j)if(j.hasOwnProperty(he)){const ve=(0,Ct.createDecorator)(he);te.get(ve)instanceof mn.SyncDescriptor&&te.set(ve,j[he])}return he}}(te.StandaloneServices||(te.StandaloneServices={}))})),define(Ce[737],ie([1,0,43,2,28,161,292,239,85,209,101,37,26,40,16,76,9,42,38,14,63,70,102,71,45,35,284,79,32]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt,St,Dt,It){Object.defineProperty(te,"__esModule",{value:!0}),te.createTextModel=te.StandaloneDiffEditor=te.StandaloneEditor=te.StandaloneCodeEditor=void 0;let kt=0,At=!1;let Pt=class extends ye.CodeEditorWidget{constructor(j,te,ve,Ce,ye,Ee,Ie,Ne,Ke,je,Ze){const Ye=Object.assign({},te);Ye.ariaLabel=Ye.ariaLabel||pt.StandaloneCodeEditorNLS.editorViewAccessibleLabel,Ye.ariaLabel=Ye.ariaLabel+";"+pt.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(j,Ye,{},ve,Ce,ye,Ee,Ne,Ke,je,Ze),Ie instanceof Oe.StandaloneKeybindingService?this._standaloneKeybindingService=Ie:this._standaloneKeybindingService=null,function M(j){if(!j){if(At)return;At=!0}he.setARIAContainer(j||document.body)}(Ye.ariaContainerElement)}addCommand(j,te,he){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const ve="DYNAMIC_"+ ++kt,Ce=et.ContextKeyExpr.deserialize(he);return this._standaloneKeybindingService.addDynamicKeybinding(ve,j,te,Ce),ve}createContextKey(j,te){return this._contextKeyService.createKey(j,te)}addAction(j){if("string"!=typeof j.id||"string"!=typeof j.label||"function"!=typeof j.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),ve.Disposable.None;const te=j.id,he=j.label,Ce=et.ContextKeyExpr.and(et.ContextKeyExpr.equals("editorId",this.getId()),et.ContextKeyExpr.deserialize(j.precondition)),ye=j.keybindings,Ee=et.ContextKeyExpr.and(Ce,et.ContextKeyExpr.deserialize(j.keybindingContext)),Ne=j.contextMenuGroupId||null,Oe=j.contextMenuOrder||0,oe=(te,...he)=>Promise.resolve(j.run(this,...he)),Ke=new ve.DisposableStore,Ye=this.getId()+":"+te;if(Ke.add(Ze.CommandsRegistry.registerCommand(Ye,oe)),Ne){const j={command:{id:Ye,title:he},when:Ce,group:Ne,order:Oe};Ke.add(je.MenuRegistry.appendMenuItem(je.MenuId.EditorContext,j))}if(Array.isArray(ye))for(const j of ye)Ke.add(this._standaloneKeybindingService.addDynamicKeybinding(Ye,j,oe,Ee));const nt=new Ie.InternalEditorAction(Ye,he,he,Ce,oe,this._contextKeyService);return this._actions[te]=nt,Ke.add((0,ve.toDisposable)((()=>{delete this._actions[te]}))),Ke}_triggerCommand(j,te){if(this._codeEditorService instanceof St.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(j,te)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(j,te)}};Pt=Ci([Zi(2,rt.IInstantiationService),Zi(3,Ce.ICodeEditorService),Zi(4,Ze.ICommandService),Zi(5,et.IContextKeyService),Zi(6,at.IKeybindingService),Zi(7,ht.IThemeService),Zi(8,ct.INotificationService),Zi(9,mt.IAccessibilityService),Zi(10,It.ILanguageConfigurationService)],Pt),te.StandaloneCodeEditor=Pt;let Kt=class extends Pt{constructor(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Ke,je,Ze,Ye,et){const nt=Object.assign({},te);(0,Oe.updateConfigurationService)(Ke,nt,!1);const rt=Ie.registerEditorContainer(j);"string"==typeof nt.theme&&Ie.setTheme(nt.theme),void 0!==nt.autoDetectHighContrast&&Ie.setAutoDetectHighContrast(Boolean(nt.autoDetectHighContrast));const at=nt.model;let ct;if(delete nt.model,super(j,nt,he,ve,Ce,ye,Ee,Ie,Ne,je,et),this._configurationService=Ke,this._standaloneThemeService=Ie,this._register(rt),void 0===at){const j=Ye.getLanguageIdByMimeType(nt.language)||nt.language||Dt.PLAINTEXT_LANGUAGE_ID;ct=R(Ze,Ye,nt.value||"",j,void 0),this._ownsModel=!0}else ct=at,this._ownsModel=!1;if(this._attachModel(ct),ct){const j={oldModelUrl:null,newModelUrl:ct.uri};this._onDidChangeModel.fire(j)}}dispose(){super.dispose()}updateOptions(j){(0,Oe.updateConfigurationService)(this._configurationService,j,!1),"string"==typeof j.theme&&this._standaloneThemeService.setTheme(j.theme),void 0!==j.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(j.autoDetectHighContrast)),super.updateOptions(j)}_postDetachModelCleanup(j){super._postDetachModelCleanup(j),j&&this._ownsModel&&(j.dispose(),this._ownsModel=!1)}};Kt=Ci([Zi(2,rt.IInstantiationService),Zi(3,Ce.ICodeEditorService),Zi(4,Ze.ICommandService),Zi(5,et.IContextKeyService),Zi(6,at.IKeybindingService),Zi(7,Ke.IStandaloneThemeService),Zi(8,ct.INotificationService),Zi(9,Ye.IConfigurationService),Zi(10,mt.IAccessibilityService),Zi(11,Ct.IModelService),Zi(12,bt.ILanguageService),Zi(13,It.ILanguageConfigurationService)],Kt),te.StandaloneEditor=Kt;let Ut=class extends Ee.DiffEditorWidget{constructor(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Ke,je,Ze){const Ye=Object.assign({},te);(0,Oe.updateConfigurationService)(Ne,Ye,!0);const et=Ee.registerEditorContainer(j);"string"==typeof Ye.theme&&Ee.setTheme(Ye.theme),void 0!==Ye.autoDetectHighContrast&&Ee.setAutoDetectHighContrast(Boolean(Ye.autoDetectHighContrast)),super(j,Ye,{},Ze,Ce,ve,he,ye,Ee,Ie,Ke,je),this._configurationService=Ne,this._standaloneThemeService=Ee,this._register(et)}dispose(){super.dispose()}updateOptions(j){(0,Oe.updateConfigurationService)(this._configurationService,j,!0),"string"==typeof j.theme&&this._standaloneThemeService.setTheme(j.theme),void 0!==j.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(j.autoDetectHighContrast)),super.updateOptions(j)}_createInnerEditor(j,te,he){return j.createInstance(Pt,te,he)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(j,te,he){return this.getModifiedEditor().addCommand(j,te,he)}createContextKey(j,te){return this.getModifiedEditor().createContextKey(j,te)}addAction(j){return this.getModifiedEditor().addAction(j)}};function R(j,te,he,ve,Ce){if(he=he||"",!ve){const ve=he.indexOf("\n");let ye=he;return-1!==ve&&(ye=he.substring(0,ve)),P(j,he,te.createByFilepathOrFirstLine(Ce||null,ye),Ce)}return P(j,he,te.createById(ve),Ce)}function P(j,te,he,ve){return j.createModel(te,he,ve)}Ut=Ci([Zi(2,rt.IInstantiationService),Zi(3,et.IContextKeyService),Zi(4,Ne.IEditorWorkerService),Zi(5,Ce.ICodeEditorService),Zi(6,Ke.IStandaloneThemeService),Zi(7,ct.INotificationService),Zi(8,Ye.IConfigurationService),Zi(9,nt.IContextMenuService),Zi(10,_t.IEditorProgressService),Zi(11,ft.IClipboardService)],Ut),te.StandaloneDiffEditor=Ut,te.createTextModel=R})),define(Ce[738],ie([1,0,8,266,28,235,31,174,147,49,18,32,121,35,45,613,179,470,737,209,101,26,77,394]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft){function S(j,te,he){return ht.StandaloneServices.initialize(he||{}).createInstance(ct.StandaloneEditor,j,te)}function v(j){return ht.StandaloneServices.get(Ce.ICodeEditorService).onCodeEditorAdd((te=>{j(te)}))}function C(j,te,he){return ht.StandaloneServices.initialize(he||{}).createInstance(ct.StandaloneDiffEditor,j,te)}function _(j,te){return new ye.DiffNavigator(j,te)}function L(j,te,he){const ve=ht.StandaloneServices.get(Ye.ILanguageService),Ce=ve.getLanguageIdByMimeType(te)||te;return(0,ct.createTextModel)(ht.StandaloneServices.get(et.IModelService),ve,j,Ce,he)}function E(j,te){const he=ht.StandaloneServices.get(Ye.ILanguageService);ht.StandaloneServices.get(et.IModelService).setMode(j,he.createById(te))}function N(j,te,he){j&&ht.StandaloneServices.get(ft.IMarkerService).changeOne(te,j.uri,he)}function k(j){return ht.StandaloneServices.get(ft.IMarkerService).read(j)}function M(j){return ht.StandaloneServices.get(ft.IMarkerService).onMarkerChanged(j)}function O(j){return ht.StandaloneServices.get(et.IModelService).getModel(j)}function B(){return ht.StandaloneServices.get(et.IModelService).getModels()}function T(j){return ht.StandaloneServices.get(et.IModelService).onModelAdded(j)}function R(j){return ht.StandaloneServices.get(et.IModelService).onModelRemoved(j)}function P(j){return ht.StandaloneServices.get(et.IModelService).onModelLanguageChanged((te=>{j({model:te.model,oldLanguage:te.oldLanguageId})}))}function F(j){return(0,nt.createWebWorker)(ht.StandaloneServices.get(et.IModelService),ht.StandaloneServices.get(je.ILanguageConfigurationService),j)}function W(j,te){const he=ht.StandaloneServices.get(Ye.ILanguageService),ve=ht.StandaloneServices.get(mt.IStandaloneThemeService);return ve.registerEditorContainer(j),at.Colorizer.colorizeElement(ve,he,j,te)}function A(j,te,he){const ve=ht.StandaloneServices.get(Ye.ILanguageService);return ht.StandaloneServices.get(mt.IStandaloneThemeService).registerEditorContainer(document.body),at.Colorizer.colorize(ve,j,te,he)}function H(j,te,he=4){return ht.StandaloneServices.get(mt.IStandaloneThemeService).registerEditorContainer(document.body),at.Colorizer.colorizeModelLine(j,te,he)}function X(j,te){Ke.TokenizationRegistry.getOrCreate(te);const ve=function q(j){return Ke.TokenizationRegistry.get(j)||{getInitialState:()=>Ze.NullState,tokenize:(te,he,ve)=>(0,Ze.nullTokenize)(j,ve)}}(te),Ce=(0,he.splitLines)(j),ye=[];let Ee=ve.getInitialState();for(let j=0,te=Ce.length;j<te;j++){const te=Ce[j],he=ve.tokenize(te,!0,Ee);ye[j]=he.tokens,Ee=he.endState}return ye}function G(j,te){ht.StandaloneServices.get(mt.IStandaloneThemeService).defineTheme(j,te)}function re(j){ht.StandaloneServices.get(mt.IStandaloneThemeService).setTheme(j)}function ae(){ve.FontMeasurements.clearAllFontInfos()}function oe(j,te){return pt.CommandsRegistry.registerCommand({id:j,handler:te})}Object.defineProperty(te,"__esModule",{value:!0}),te.createMonacoEditorAPI=te.registerCommand=te.remeasureFonts=te.setTheme=te.defineTheme=te.tokenize=te.colorizeModelLine=te.colorize=te.colorizeElement=te.createWebWorker=te.onDidChangeModelLanguage=te.onWillDisposeModel=te.onDidCreateModel=te.getModels=te.getModel=te.onDidChangeMarkers=te.getModelMarkers=te.setModelMarkers=te.setModelLanguage=te.createModel=te.createDiffNavigator=te.createDiffEditor=te.onDidCreateEditor=te.create=void 0,te.create=S,te.onDidCreateEditor=v,te.createDiffEditor=C,te.createDiffNavigator=_,te.createModel=L,te.setModelLanguage=E,te.setModelMarkers=N,te.getModelMarkers=k,te.onDidChangeMarkers=M,te.getModel=O,te.getModels=B,te.onDidCreateModel=T,te.onWillDisposeModel=R,te.onDidChangeModelLanguage=P,te.createWebWorker=F,te.colorizeElement=W,te.colorize=A,te.colorizeModelLine=H,te.tokenize=X,te.defineTheme=G,te.setTheme=re,te.remeasureFonts=ae,te.registerCommand=oe,te.createMonacoEditorAPI=function Z(){return{create:S,onDidCreateEditor:v,createDiffEditor:C,createDiffNavigator:_,createModel:L,setModelLanguage:E,setModelMarkers:N,getModelMarkers:k,onDidChangeMarkers:M,getModels:B,getModel:O,onDidCreateModel:T,onWillDisposeModel:R,onDidChangeModelLanguage:P,createWebWorker:F,colorizeElement:W,colorize:A,colorizeModelLine:H,tokenize:X,defineTheme:G,setTheme:re,remeasureFonts:ae,registerCommand:oe,AccessibilitySupport:rt.AccessibilitySupport,ContentWidgetPositionPreference:rt.ContentWidgetPositionPreference,CursorChangeReason:rt.CursorChangeReason,DefaultEndOfLine:rt.DefaultEndOfLine,EditorAutoIndentStrategy:rt.EditorAutoIndentStrategy,EditorOption:rt.EditorOption,EndOfLinePreference:rt.EndOfLinePreference,EndOfLineSequence:rt.EndOfLineSequence,MinimapPosition:rt.MinimapPosition,MouseTargetType:rt.MouseTargetType,OverlayWidgetPositionPreference:rt.OverlayWidgetPositionPreference,OverviewRulerLane:rt.OverviewRulerLane,RenderLineNumbersType:rt.RenderLineNumbersType,RenderMinimap:rt.RenderMinimap,ScrollbarVisibility:rt.ScrollbarVisibility,ScrollType:rt.ScrollType,TextEditorCursorBlinkingStyle:rt.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:rt.TextEditorCursorStyle,TrackedRangeStickiness:rt.TrackedRangeStickiness,WrappingIndent:rt.WrappingIndent,InjectedTextCursorStops:rt.InjectedTextCursorStops,PositionAffinity:rt.PositionAffinity,ConfigurationChangedEvent:Ee.ConfigurationChangedEvent,BareFontInfo:Ie.BareFontInfo,FontInfo:Ie.FontInfo,TextModelResolvedOptions:Oe.TextModelResolvedOptions,FindMatch:Oe.FindMatch,ApplyUpdateResult:Ee.ApplyUpdateResult,EditorType:Ne.EditorType,EditorOptions:Ee.EditorOptions}}})),define(Ce[739],ie([1,0,29,3,18,32,79,35,179,209,469,263,101,77]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){function l(j){Ee.ModesRegistry.registerLanguage(j)}function c(){let j=[];return j=j.concat(Ee.ModesRegistry.getLanguages()),j}function r(j){return Oe.StandaloneServices.get(Ie.ILanguageService).languageIdCodec.encodeLanguageId(j)}function s(j,te){const he=Oe.StandaloneServices.get(Ie.ILanguageService).onDidEncounterLanguage((ve=>{ve===j&&(he.dispose(),te())}));return he}function o(j,te){if(!Oe.StandaloneServices.get(Ie.ILanguageService).isRegisteredLanguageId(j))throw new Error(`Cannot set configuration for unknown language ${j}`);return ye.LanguageConfigurationRegistry.register(j,te,100)}Object.defineProperty(te,"__esModule",{value:!0}),te.createMonacoLanguagesAPI=te.registerInlayHintsProvider=te.registerInlineCompletionsProvider=te.registerDocumentRangeSemanticTokensProvider=te.registerDocumentSemanticTokensProvider=te.registerSelectionRangeProvider=te.registerDeclarationProvider=te.registerFoldingRangeProvider=te.registerColorProvider=te.registerCompletionItemProvider=te.registerLinkProvider=te.registerOnTypeFormattingEditProvider=te.registerDocumentRangeFormattingEditProvider=te.registerDocumentFormattingEditProvider=te.registerCodeActionProvider=te.registerCodeLensProvider=te.registerTypeDefinitionProvider=te.registerImplementationProvider=te.registerDefinitionProvider=te.registerLinkedEditingRangeProvider=te.registerDocumentHighlightProvider=te.registerDocumentSymbolProvider=te.registerHoverProvider=te.registerSignatureHelpProvider=te.registerRenameProvider=te.registerReferenceProvider=te.setMonarchTokensProvider=te.setTokensProvider=te.registerTokensProviderFactory=te.setColorMap=te.TokenizationSupportAdapter=te.EncodedTokenizationSupportAdapter=te.setLanguageConfiguration=te.onLanguage=te.getEncodedLanguageId=te.getLanguages=te.register=void 0,te.register=l,te.getLanguages=c,te.getEncodedLanguageId=r,te.onLanguage=s,te.setLanguageConfiguration=o;class a{constructor(j,te){this._languageId=j,this._actual=te}getInitialState(){return this._actual.getInitialState()}tokenize(j,te,he){if("function"==typeof this._actual.tokenize)return d.adaptTokenize(this._languageId,this._actual,j,he);throw new Error("Not supported!")}tokenizeEncoded(j,te,he){const ve=this._actual.tokenizeEncoded(j,he);return new Ce.EncodedTokenizationResult(ve.tokens,ve.endState)}}te.EncodedTokenizationSupportAdapter=a;class d{constructor(j,te,he,ve){this._languageId=j,this._actual=te,this._languageService=he,this._standaloneThemeService=ve}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(j,te){const he=[];let ve=0;for(let ye=0,Ee=j.length;ye<Ee;ye++){const Ee=j[ye];let Ie=Ee.startIndex;0===ye?Ie=0:Ie<ve&&(Ie=ve),he[ye]=new Ce.Token(Ie,Ee.scopes,te),ve=Ie}return he}static adaptTokenize(j,te,he,ve){const ye=te.tokenize(he,ve),Ee=d._toClassicTokens(ye.tokens,j);let Ie;return Ie=ye.endState.equals(ve)?ve:ye.endState,new Ce.TokenizationResult(Ee,Ie)}tokenize(j,te,he){return d.adaptTokenize(this._languageId,this._actual,j,he)}_toBinaryTokens(j,te){const he=j.encodeLanguageId(this._languageId),ve=this._standaloneThemeService.getColorTheme().tokenTheme,Ce=[];let ye=0,Ee=0;for(let j=0,Ie=te.length;j<Ie;j++){const Ie=te[j],Ne=ve.match(he,Ie.scopes);if(ye>0&&Ce[ye-1]===Ne)continue;let Oe=Ie.startIndex;0===j?Oe=0:Oe<Ee&&(Oe=Ee),Ce[ye++]=Oe,Ce[ye++]=Ne,Ee=Oe}const Ie=new Uint32Array(ye);for(let j=0;j<ye;j++)Ie[j]=Ce[j];return Ie}tokenizeEncoded(j,te,he){const ve=this._actual.tokenize(j,he),ye=this._toBinaryTokens(this._languageService.languageIdCodec,ve.tokens);let Ee;return Ee=ve.endState.equals(he)?he:ve.endState,new Ce.EncodedTokenizationResult(ye,Ee)}}function S(j){return j&&"function"==typeof j.then}function v(j){const te=Oe.StandaloneServices.get(Ze.IStandaloneThemeService);if(j){const ve=[null];for(let te=1,Ce=j.length;te<Ce;te++)ve[te]=he.Color.fromHex(j[te]);te.setColorMapOverride(ve)}else te.setColorMapOverride(null)}function C(j,te){return function f(j){return"tokenizeEncoded"in j}(te)?new a(j,te):new d(j,te,Oe.StandaloneServices.get(Ie.ILanguageService),Oe.StandaloneServices.get(Ze.IStandaloneThemeService))}function _(j,te){const he={createTokenizationSupport:()=>fi(this,void 0,void 0,(function*(){const he=yield Promise.resolve(te.create());return he?function u(j){return"function"==typeof j.getInitialState}(he)?C(j,he):new je.MonarchTokenizer(Oe.StandaloneServices.get(Ie.ILanguageService),Oe.StandaloneServices.get(Ze.IStandaloneThemeService),j,(0,Ke.compile)(j,he)):null}))};return Ce.TokenizationRegistry.registerFactory(j,he)}function L(j,te){if(!Oe.StandaloneServices.get(Ie.ILanguageService).isRegisteredLanguageId(j))throw new Error(`Cannot set tokens provider for unknown language ${j}`);return S(te)?_(j,{create:()=>te}):Ce.TokenizationRegistry.register(j,C(j,te))}function E(j,te){return S(te)?_(j,{create:()=>te}):Ce.TokenizationRegistry.register(j,(he=te,new je.MonarchTokenizer(Oe.StandaloneServices.get(Ie.ILanguageService),Oe.StandaloneServices.get(Ze.IStandaloneThemeService),j,(0,Ke.compile)(j,he))));var he}function N(j,te){return Ce.ReferenceProviderRegistry.register(j,te)}function k(j,te){return Ce.RenameProviderRegistry.register(j,te)}function M(j,te){return Ce.SignatureHelpProviderRegistry.register(j,te)}function O(j,te){return Ce.HoverProviderRegistry.register(j,{provideHover:(j,he,Ce)=>{const ye=j.getWordAtPosition(he);return Promise.resolve(te.provideHover(j,he,Ce)).then((j=>{if(j)return!j.range&&ye&&(j.range=new ve.Range(he.lineNumber,ye.startColumn,he.lineNumber,ye.endColumn)),j.range||(j.range=new ve.Range(he.lineNumber,he.column,he.lineNumber,he.column)),j}))}})}function B(j,te){return Ce.DocumentSymbolProviderRegistry.register(j,te)}function T(j,te){return Ce.DocumentHighlightProviderRegistry.register(j,te)}function R(j,te){return Ce.LinkedEditingRangeProviderRegistry.register(j,te)}function P(j,te){return Ce.DefinitionProviderRegistry.register(j,te)}function F(j,te){return Ce.ImplementationProviderRegistry.register(j,te)}function W(j,te){return Ce.TypeDefinitionProviderRegistry.register(j,te)}function A(j,te){return Ce.CodeLensProviderRegistry.register(j,te)}function H(j,te,he){return Ce.CodeActionProviderRegistry.register(j,{providedCodeActionKinds:null==he?void 0:he.providedCodeActionKinds,provideCodeActions:(j,he,Ce,ye)=>{const Ee=Oe.StandaloneServices.get(Ye.IMarkerService).read({resource:j.uri}).filter((j=>ve.Range.areIntersectingOrTouching(j,he)));return te.provideCodeActions(j,he,{markers:Ee,only:Ce.only},ye)},resolveCodeAction:te.resolveCodeAction})}function q(j,te){return Ce.DocumentFormattingEditProviderRegistry.register(j,te)}function X(j,te){return Ce.DocumentRangeFormattingEditProviderRegistry.register(j,te)}function G(j,te){return Ce.OnTypeFormattingEditProviderRegistry.register(j,te)}function re(j,te){return Ce.LinkProviderRegistry.register(j,te)}function ae(j,te){return Ce.CompletionProviderRegistry.register(j,te)}function oe(j,te){return Ce.ColorProviderRegistry.register(j,te)}function Z(j,te){return Ce.FoldingRangeProviderRegistry.register(j,te)}function x(j,te){return Ce.DeclarationProviderRegistry.register(j,te)}function U(j,te){return Ce.SelectionRangeRegistry.register(j,te)}function Q(j,te){return Ce.DocumentSemanticTokensProviderRegistry.register(j,te)}function ne(j,te){return Ce.DocumentRangeSemanticTokensProviderRegistry.register(j,te)}function ce(j,te){return Ce.InlineCompletionsProviderRegistry.register(j,te)}function ee(j,te){return Ce.InlayHintsProviderRegistry.register(j,te)}te.TokenizationSupportAdapter=d,te.setColorMap=v,te.registerTokensProviderFactory=_,te.setTokensProvider=L,te.setMonarchTokensProvider=E,te.registerReferenceProvider=N,te.registerRenameProvider=k,te.registerSignatureHelpProvider=M,te.registerHoverProvider=O,te.registerDocumentSymbolProvider=B,te.registerDocumentHighlightProvider=T,te.registerLinkedEditingRangeProvider=R,te.registerDefinitionProvider=P,te.registerImplementationProvider=F,te.registerTypeDefinitionProvider=W,te.registerCodeLensProvider=A,te.registerCodeActionProvider=H,te.registerDocumentFormattingEditProvider=q,te.registerDocumentRangeFormattingEditProvider=X,te.registerOnTypeFormattingEditProvider=G,te.registerLinkProvider=re,te.registerCompletionItemProvider=ae,te.registerColorProvider=oe,te.registerFoldingRangeProvider=Z,te.registerDeclarationProvider=x,te.registerSelectionRangeProvider=U,te.registerDocumentSemanticTokensProvider=Q,te.registerDocumentRangeSemanticTokensProvider=ne,te.registerInlineCompletionsProvider=ce,te.registerInlayHintsProvider=ee,te.createMonacoLanguagesAPI=function ue(){return{register:l,getLanguages:c,onLanguage:s,getEncodedLanguageId:r,setLanguageConfiguration:o,setColorMap:v,registerTokensProviderFactory:_,setTokensProvider:L,setMonarchTokensProvider:E,registerReferenceProvider:N,registerRenameProvider:k,registerCompletionItemProvider:ae,registerSignatureHelpProvider:M,registerHoverProvider:O,registerDocumentSymbolProvider:B,registerDocumentHighlightProvider:T,registerLinkedEditingRangeProvider:R,registerDefinitionProvider:P,registerImplementationProvider:F,registerTypeDefinitionProvider:W,registerCodeLensProvider:A,registerCodeActionProvider:H,registerDocumentFormattingEditProvider:q,registerDocumentRangeFormattingEditProvider:X,registerOnTypeFormattingEditProvider:G,registerLinkProvider:re,registerColorProvider:oe,registerFoldingRangeProvider:Z,registerDeclarationProvider:x,registerSelectionRangeProvider:U,registerDocumentSemanticTokensProvider:Q,registerDocumentRangeSemanticTokensProvider:ne,registerInlineCompletionsProvider:ce,registerInlayHintsProvider:ee,DocumentHighlightKind:Ne.DocumentHighlightKind,CompletionItemKind:Ne.CompletionItemKind,CompletionItemTag:Ne.CompletionItemTag,CompletionItemInsertTextRule:Ne.CompletionItemInsertTextRule,SymbolKind:Ne.SymbolKind,SymbolTag:Ne.SymbolTag,IndentAction:Ne.IndentAction,CompletionTriggerKind:Ne.CompletionTriggerKind,SignatureHelpTriggerKind:Ne.SignatureHelpTriggerKind,InlayHintKind:Ne.InlayHintKind,InlineCompletionTriggerKind:Ne.InlineCompletionTriggerKind,FoldingRangeKind:Ce.FoldingRangeKind}}})),define(Ce[740],ie([1,0,31,248,738,739,17,285]),(function(j,te,he,ve,Ce,ye,Ee,Ie){var Ne;Object.defineProperty(te,"__esModule",{value:!0}),te.languages=te.editor=te.Token=te.Uri=te.MarkerTag=te.MarkerSeverity=te.SelectionDirection=te.Selection=te.Range=te.Position=te.KeyMod=te.KeyCode=te.Emitter=te.CancellationTokenSource=void 0,he.EditorOptions.wrappingIndent.defaultValue=0,he.EditorOptions.glyphMargin.defaultValue=!1,he.EditorOptions.autoIndent.defaultValue=3,he.EditorOptions.overviewRulerLanes.defaultValue=2,Ie.FormattingConflicts.setFormatterSelector(((j,te,he)=>Promise.resolve(j[0])));const Oe=(0,ve.createMonacoBaseAPI)();Oe.editor=(0,Ce.createMonacoEditorAPI)(),Oe.languages=(0,ye.createMonacoLanguagesAPI)(),te.CancellationTokenSource=Oe.CancellationTokenSource,te.Emitter=Oe.Emitter,te.KeyCode=Oe.KeyCode,te.KeyMod=Oe.KeyMod,te.Position=Oe.Position,te.Range=Oe.Range,te.Selection=Oe.Selection,te.SelectionDirection=Oe.SelectionDirection,te.MarkerSeverity=Oe.MarkerSeverity,te.MarkerTag=Oe.MarkerTag,te.Uri=Oe.Uri,te.Token=Oe.Token,te.editor=Oe.editor,te.languages=Oe.languages,((null===(Ne=Ee.globals.MonacoEnvironment)||void 0===Ne?void 0:Ne.globalAPI)||"function"==typeof define&&define.amd)&&(self.monaco=Oe),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})})),define(Ce[741],ie([1,0,25,593]),(function(j,te,he,ve){Object.defineProperty(te,"__esModule",{value:!0}),te.toWorkspaceIdentifier=te.isSingleFolderWorkspaceIdentifier=te.WORKSPACE_FILTER=te.WORKSPACE_EXTENSION=void 0,te.WORKSPACE_EXTENSION="code-workspace",te.WORKSPACE_FILTER=[{name:(0,ve.localize)(0,null),extensions:[te.WORKSPACE_EXTENSION]}],te.isSingleFolderWorkspaceIdentifier=function D(j){const te=j;return"string"==typeof(null==te?void 0:te.id)&&he.URI.isUri(te.uri)},te.toWorkspaceIdentifier=function I(j){return j.configuration?{id:j.id,configPath:j.configuration}:1===j.folders.length?{id:j.id,uri:j.folders[0].uri}:void 0}})),define(Ce[742],ie([1,0,171,82,41,8,325,32,124,567,741]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.RandomBasedVariableResolver=te.WorkspaceBasedVariableResolver=te.TimeBasedVariableResolver=te.CommentBasedVariableResolver=te.ClipboardBasedVariableResolver=te.ModelBasedVariableResolver=te.SelectionBasedVariableResolver=te.CompositeSnippetVariableResolver=te.KnownSnippetVariableNames=void 0,te.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});te.CompositeSnippetVariableResolver=class t{constructor(j){this._delegates=j}resolve(j){for(const te of this._delegates){let he=te.resolve(j);if(void 0!==he)return he}}};te.SelectionBasedVariableResolver=class i{constructor(j,te,he,ve){this._model=j,this._selection=te,this._selectionIdx=he,this._overtypingCapturer=ve}resolve(j){const{name:te}=j;if("SELECTION"===te||"TM_SELECTED_TEXT"===te){let te=this._model.getValueInRange(this._selection)||void 0,he=this._selection.startLineNumber!==this._selection.endLineNumber;if(!te&&this._overtypingCapturer){const j=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);j&&(te=j.value,he=j.multiline)}if(te&&he&&j.snippet){const he=this._model.getLineContent(this._selection.startLineNumber),ve=(0,ye.getLeadingWhitespace)(he,0,this._selection.startColumn-1);let Ce=ve;j.snippet.walk((te=>te!==j&&(te instanceof Ne.Text&&(Ce=(0,ye.getLeadingWhitespace)((0,ye.splitLines)(te.value).pop())),!0)));const Ee=(0,ye.commonPrefixLength)(Ce,ve);te=te.replace(/(\r\n|\r|\n)(.*)/g,((j,te,he)=>`${te}${Ce.substr(Ee)}${he}`))}return te}if("TM_CURRENT_LINE"===te)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===te){const j=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return j&&j.word||void 0}return"TM_LINE_INDEX"===te?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===te?String(this._selection.positionLineNumber):void 0}};te.ModelBasedVariableResolver=class n{constructor(j,te){this._labelService=j,this._model=te}resolve(j){const{name:te}=j;if("TM_FILENAME"===te)return ve.basename(this._model.uri.fsPath);if("TM_FILENAME_BASE"===te){const j=ve.basename(this._model.uri.fsPath),te=j.lastIndexOf(".");return te<=0?j:j.slice(0,te)}return"TM_DIRECTORY"===te?"."===ve.dirname(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,Ce.dirname)(this._model.uri)):"TM_FILEPATH"===te?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===te?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}};te.ClipboardBasedVariableResolver=class l{constructor(j,te,he,ve){this._readClipboardText=j,this._selectionIdx=te,this._selectionCount=he,this._spread=ve}resolve(j){if("CLIPBOARD"!==j.name)return;const te=this._readClipboardText();if(te){if(this._spread){const j=te.split(/\r\n|\n|\r/).filter((j=>!(0,ye.isFalsyOrWhitespace)(j)));if(j.length===this._selectionCount)return j[this._selectionIdx]}return te}}};te.CommentBasedVariableResolver=class c{constructor(j,te){this._model=j,this._selection=te}resolve(j){const{name:te}=j,he=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),ve=Ie.LanguageConfigurationRegistry.getComments(he);if(ve){if("LINE_COMMENT"===te)return ve.lineCommentToken||void 0;if("BLOCK_COMMENT_START"===te)return ve.blockCommentStartToken||void 0;if("BLOCK_COMMENT_END"===te)return ve.blockCommentEndToken||void 0}}};class r{constructor(){this._date=new Date}resolve(j){const{name:te}=j;return"CURRENT_YEAR"===te?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===te?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===te?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===te?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===te?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===te?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===te?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===te?r.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===te?r.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===te?r.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===te?r.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===te?String(Math.floor(this._date.getTime()/1e3)):void 0}}te.TimeBasedVariableResolver=r,r.dayNames=[Oe.localize(0,null),Oe.localize(1,null),Oe.localize(2,null),Oe.localize(3,null),Oe.localize(4,null),Oe.localize(5,null),Oe.localize(6,null)],r.dayNamesShort=[Oe.localize(7,null),Oe.localize(8,null),Oe.localize(9,null),Oe.localize(10,null),Oe.localize(11,null),Oe.localize(12,null),Oe.localize(13,null)],r.monthNames=[Oe.localize(14,null),Oe.localize(15,null),Oe.localize(16,null),Oe.localize(17,null),Oe.localize(18,null),Oe.localize(19,null),Oe.localize(20,null),Oe.localize(21,null),Oe.localize(22,null),Oe.localize(23,null),Oe.localize(24,null),Oe.localize(25,null)],r.monthNamesShort=[Oe.localize(26,null),Oe.localize(27,null),Oe.localize(28,null),Oe.localize(29,null),Oe.localize(30,null),Oe.localize(31,null),Oe.localize(32,null),Oe.localize(33,null),Oe.localize(34,null),Oe.localize(35,null),Oe.localize(36,null),Oe.localize(37,null)];te.WorkspaceBasedVariableResolver=class s{constructor(j){this._workspaceService=j}resolve(j){if(!this._workspaceService)return;const te=(0,Ke.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(te){if("WORKSPACE_NAME"===j.name)return this._resolveWorkspaceName(te);if("WORKSPACE_FOLDER"===j.name)return this._resoveWorkspacePath(te)}}_resolveWorkspaceName(j){if((0,Ke.isSingleFolderWorkspaceIdentifier)(j))return ve.basename(j.uri.path);let te=ve.basename(j.configPath.path);return te.endsWith(Ke.WORKSPACE_EXTENSION)&&(te=te.substr(0,te.length-Ke.WORKSPACE_EXTENSION.length-1)),te}_resoveWorkspacePath(j){if((0,Ke.isSingleFolderWorkspaceIdentifier)(j))return(0,he.normalizeDriveLetter)(j.uri.fsPath);let te=ve.basename(j.configPath.path),Ce=j.configPath.fsPath;return Ce.endsWith(te)&&(Ce=Ce.substr(0,Ce.length-te.length-1)),Ce?(0,he.normalizeDriveLetter)(Ce):"/"}};te.RandomBasedVariableResolver=class o{resolve(j){const{name:te}=j;return"RANDOM"===te?Math.random().toString().slice(-6):"RANDOM_HEX"===te?Math.random().toString(16).slice(-6):"UUID"===te?(0,Ee.generateUuid)():void 0}}})),define(Ce[303],ie([1,0,19,2,8,61,3,22,33,128,300,124,742,385]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){Object.defineProperty(te,"__esModule",{value:!0}),te.SnippetSession=te.OneSnippet=void 0;class n{constructor(j,te,ve,Ce){this._editor=j,this._snippet=te,this._offset=ve,this._snippetLineLeadingWhitespace=Ce,this._nestingLevel=1,this._placeholderGroups=(0,he.groupBy)(te.placeholders,je.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const j=this._editor.getModel();this._editor.changeDecorations((te=>{for(const he of this._snippet.placeholders){const ve=this._snippet.offset(he),Ce=this._snippet.fullLen(he),ye=Ee.Range.fromPositions(j.getPositionAt(this._offset+ve),j.getPositionAt(this._offset+ve+Ce)),Ie=he.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive,Ne=te.addDecoration(ye,Ie);this._placeholderDecorations.set(he,Ne)}}))}move(j){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let j=[];for(const te of this._placeholderGroups[this._placeholderGroupsIdx])if(te.transform){const he=this._placeholderDecorations.get(te),ve=this._editor.getModel().getDecorationRange(he),Ce=this._editor.getModel().getValueInRange(ve),Ee=te.transform.resolve(Ce).split(/\r\n|\r|\n/);for(let j=1;j<Ee.length;j++)Ee[j]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+Ee[j]);j.push(ye.EditOperation.replace(ve,Ee.join(this._editor.getModel().getEOL())))}j.length>0&&this._editor.executeEdits("snippet.placeholderTransform",j)}let te=!1;!0===j&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,te=!0):!1===j&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,te=!0);const he=this._editor.getModel().changeDecorations((j=>{const he=new Set,ve=[];for(const Ce of this._placeholderGroups[this._placeholderGroupsIdx]){const ye=this._placeholderDecorations.get(Ce),Ee=this._editor.getModel().getDecorationRange(ye);ve.push(new Ie.Selection(Ee.startLineNumber,Ee.startColumn,Ee.endLineNumber,Ee.endColumn)),te=te&&this._hasPlaceholderBeenCollapsed(Ce),j.changeDecorationOptions(ye,Ce.isFinalTabstop?n._decor.activeFinal:n._decor.active),he.add(Ce);for(const te of this._snippet.enclosingPlaceholders(Ce)){const ve=this._placeholderDecorations.get(te);j.changeDecorationOptions(ve,te.isFinalTabstop?n._decor.activeFinal:n._decor.active),he.add(te)}}for(const[te,ve]of this._placeholderDecorations)he.has(te)||j.changeDecorationOptions(ve,te.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive);return ve}));return te?this.move(j):he??[]}_hasPlaceholderBeenCollapsed(j){let te=j;for(;te;){if(te instanceof je.Placeholder){const j=this._placeholderDecorations.get(te);if(this._editor.getModel().getDecorationRange(j).isEmpty()&&te.toString().length>0)return!0}te=te.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const j=new Map;for(const te of this._placeholderGroups){let he;for(const ve of te){if(ve.isFinalTabstop)break;he||(he=[],j.set(ve.index,he));const te=this._placeholderDecorations.get(ve),Ce=this._editor.getModel().getDecorationRange(te);if(!Ce){j.delete(ve.index);break}he.push(Ce)}}return j}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(j){const te=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((ve=>{for(const he of this._placeholderGroups[this._placeholderGroupsIdx]){const Ce=j.shift();console.assert(!Ce._placeholderDecorations);const ye=Ce._snippet.placeholderInfo.last.index;for(const j of Ce._snippet.placeholderInfo.all)j.isFinalTabstop?j.index=he.index+(ye+1)/this._nestingLevel:j.index=he.index+j.index/this._nestingLevel;this._snippet.replace(he,Ce._snippet.children);const Ie=this._placeholderDecorations.get(he);ve.removeDecoration(Ie),this._placeholderDecorations.delete(he);for(const j of Ce._snippet.placeholders){const he=Ce._snippet.offset(j),ye=Ce._snippet.fullLen(j),Ie=Ee.Range.fromPositions(te.getPositionAt(Ce._offset+he),te.getPositionAt(Ce._offset+he+ye)),Ne=ve.addDecoration(Ie,n._decor.inactive);this._placeholderDecorations.set(j,Ne)}}this._placeholderGroups=(0,he.groupBy)(this._snippet.placeholders,je.Placeholder.compareByIndex)}))}}te.OneSnippet=n,n._decor={active:Ne.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:Ne.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:Ne.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Ne.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const Ye={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class c{constructor(j,te,he=Ye){this._templateMerges=[],this._snippets=[],this._editor=j,this._template=te,this._options=he}static adjustWhitespace(j,te,he,ve,ye){const Ee=j.getLineContent(te.lineNumber),Ie=(0,Ce.getLeadingWhitespace)(Ee,0,te.column-1);let Ne;return he.walk((te=>{if(!(te instanceof je.Text)||te.parent instanceof je.Choice)return!0;const Ce=te.value.split(/\r\n|\r|\n/);if(ve){const ve=he.offset(te);if(0===ve)Ce[0]=j.normalizeIndentation(Ce[0]);else{Ne=Ne??he.toString();let te=Ne.charCodeAt(ve-1);(10===te||13===te)&&(Ce[0]=j.normalizeIndentation(Ie+Ce[0]))}for(let te=1;te<Ce.length;te++)Ce[te]=j.normalizeIndentation(Ie+Ce[te])}const ye=Ce.join(j.getEOL());return ye!==te.value&&(te.parent.replace(te,[new je.Text(ye)]),Ne=void 0),!0})),Ie}static adjustSelection(j,te,he,ve){if(0!==he||0!==ve){const{positionLineNumber:Ce,positionColumn:ye}=te,Ee=ye-he,Ne=ye+ve,Oe=j.validateRange({startLineNumber:Ce,startColumn:Ee,endLineNumber:Ce,endColumn:Ne});te=Ie.Selection.createWithDirection(Oe.startLineNumber,Oe.startColumn,Oe.endLineNumber,Oe.endColumn,te.getDirection())}return te}static createEditsAndSnippets(j,te,he,ve,Ce,Ie,Ne,Ye){const et=[],nt=[];if(!j.hasModel())return{edits:et,snippets:nt};const rt=j.getModel(),at=j.invokeWithinContext((j=>j.get(Ke.IWorkspaceContextService))),ct=j.invokeWithinContext((j=>new Ze.ModelBasedVariableResolver(j.get(Oe.ILabelService),rt))),k=()=>Ne;let ht=0,mt=rt.getValueInRange(c.adjustSelection(rt,j.getSelection(),he,0)),pt=rt.getValueInRange(c.adjustSelection(rt,j.getSelection(),0,ve)),ft=rt.getLineFirstNonWhitespaceColumn(j.getSelection().positionLineNumber);const _t=j.getSelections().map(((j,te)=>({selection:j,idx:te}))).sort(((j,te)=>Ee.Range.compareRangesUsingStarts(j.selection,te.selection)));for(const{selection:Ee,idx:Ne}of _t){let Oe=c.adjustSelection(rt,Ee,he,0),Ke=c.adjustSelection(rt,Ee,0,ve);mt!==rt.getValueInRange(Oe)&&(Oe=Ee),pt!==rt.getValueInRange(Ke)&&(Ke=Ee);const Ct=Ee.setStartPosition(Oe.startLineNumber,Oe.startColumn).setEndPosition(Ke.endLineNumber,Ke.endColumn),bt=(new je.SnippetParser).parse(te,!0,Ce),St=Ct.getStartPosition(),Dt=c.adjustWhitespace(rt,St,bt,Ie||Ne>0&&ft!==rt.getLineFirstNonWhitespaceColumn(Ee.positionLineNumber),!0);bt.resolveVariables(new Ze.CompositeSnippetVariableResolver([ct,new Ze.ClipboardBasedVariableResolver(k,Ne,_t.length,"spread"===j.getOption(71)),new Ze.SelectionBasedVariableResolver(rt,Ee,Ne,Ye),new Ze.CommentBasedVariableResolver(rt,Ee),new Ze.TimeBasedVariableResolver,new Ze.WorkspaceBasedVariableResolver(at),new Ze.RandomBasedVariableResolver]));const It=rt.getOffsetAt(St)+ht;ht+=bt.toString().length-rt.getValueLengthInRange(Ct),et[Ne]=ye.EditOperation.replace(Ct,bt.toString()),et[Ne].identifier={major:Ne,minor:0},nt[Ne]=new n(j,bt,It,Dt)}return{edits:et,snippets:nt}}dispose(){(0,ve.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:j,snippets:te}=c.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=te,this._editor.executeEdits("snippet",j,(j=>this._snippets[0].hasPlaceholder?this._move(!0):j.filter((j=>!!j.identifier)).map((j=>Ie.Selection.fromPositions(j.range.getEndPosition()))))),this._editor.revealRange(this._editor.getSelections()[0])}merge(j,te=Ye){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,j]);const{edits:he,snippets:ve}=c.createEditsAndSnippets(this._editor,j,te.overwriteBefore,te.overwriteAfter,!0,te.adjustWhitespace,te.clipboardText,te.overtypingCapturer);this._editor.executeEdits("snippet",he,(j=>{for(const j of this._snippets)j.merge(ve);return console.assert(0===ve.length),this._snippets[0].hasPlaceholder?this._move(void 0):j.filter((j=>!!j.identifier)).map((j=>Ie.Selection.fromPositions(j.range.getEndPosition())))}))}next(){const j=this._move(!0);this._editor.setSelections(j),this._editor.revealPositionInCenterIfOutsideViewport(j[0].getPosition())}prev(){const j=this._move(!1);this._editor.setSelections(j),this._editor.revealPositionInCenterIfOutsideViewport(j[0].getPosition())}_move(j){const te=[];for(const he of this._snippets){const ve=he.move(j);te.push(...ve)}return te}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const j=this._editor.getSelections();if(j.length<this._snippets.length)return!1;let te=new Map;for(const he of this._snippets){const ve=he.computePossibleSelections();if(0===te.size)for(const[he,Ce]of ve){Ce.sort(Ee.Range.compareRangesUsingStarts);for(const ve of j)if(Ce[0].containsRange(ve)){te.set(he,[]);break}}if(0===te.size)return!1;te.forEach(((j,te)=>{j.push(...ve.get(te))}))}j.sort(Ee.Range.compareRangesUsingStarts);for(let[he,ve]of te)if(ve.length===j.length){ve.sort(Ee.Range.compareRangesUsingStarts);for(let Ce=0;Ce<ve.length;Ce++)if(!ve[Ce].containsRange(j[Ce])){te.delete(he);continue}}else te.delete(he);return te.size>0}}te.SnippetSession=c})),define(Ce[210],ie([1,0,2,15,3,22,24,107,566,16,64,303]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je){Object.defineProperty(te,"__esModule",{value:!0}),te.SnippetController2=void 0;const Ze={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Ye=class Mt{constructor(j,te,ve){this._editor=j,this._logService=te,this._snippetListener=new he.DisposableStore,this._modelVersionId=-1,this._inSnippet=Mt.InSnippetMode.bindTo(ve),this._hasNextTabstop=Mt.HasNextTabstop.bindTo(ve),this._hasPrevTabstop=Mt.HasPrevTabstop.bindTo(ve)}static get(j){return j.getContribution(Mt.ID)}dispose(){var j;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(j=this._session)||void 0===j||j.dispose(),this._snippetListener.dispose()}insert(j,te){try{this._doInsert(j,void 0===te?Ze:Object.assign(Object.assign({},Ze),te))}catch(te){this.cancel(),this._logService.error(te),this._logService.error("snippet_error"),this._logService.error("insert_template=",j),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(j,te){!this._editor.hasModel()||(this._snippetListener.clear(),te.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(j,te):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new je.SnippetSession(this._editor,j,te),this._session.insert()),te.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((j=>j.isFlush&&this.cancel()))),this._snippetListener.add(this._editor.onDidChangeModel((()=>this.cancel()))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((()=>this._updateState()))))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:j}=this._session;if(j){if(this._currentChoice!==j){this._currentChoice=j,this._editor.setSelections(this._editor.getSelections().map((j=>ye.Selection.fromPositions(j.getStartPosition()))));const[te]=j.options;(0,Ie.showSimpleSuggestions)(this._editor,j.options.map(((j,he)=>({kind:13,label:j.value,insertText:j.value,sortText:"a".repeat(he+1),range:Ce.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,te.value.length))}))))}}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(j=!1){var te;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(te=this._session)||void 0===te||te.dispose(),this._session=void 0,this._modelVersionId=-1,j&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};Ye.ID="snippetController2",Ye.InSnippetMode=new Oe.RawContextKey("inSnippetMode",!1,(0,Ne.localize)(0,null)),Ye.HasNextTabstop=new Oe.RawContextKey("hasNextTabstop",!1,(0,Ne.localize)(1,null)),Ye.HasPrevTabstop=new Oe.RawContextKey("hasPrevTabstop",!1,(0,Ne.localize)(2,null)),Ye=Ci([Zi(1,Ke.ILogService),Zi(2,Oe.IContextKeyService)],Ye),te.SnippetController2=Ye,(0,ve.registerEditorContribution)(Ye.ID,Ye);const et=ve.EditorCommand.bindToContribution(Ye.get);(0,ve.registerEditorCommand)(new et({id:"jumpToNextSnippetPlaceholder",precondition:Oe.ContextKeyExpr.and(Ye.InSnippetMode,Ye.HasNextTabstop),handler:j=>j.next(),kbOpts:{weight:130,kbExpr:Ee.EditorContextKeys.editorTextFocus,primary:2}})),(0,ve.registerEditorCommand)(new et({id:"jumpToPrevSnippetPlaceholder",precondition:Oe.ContextKeyExpr.and(Ye.InSnippetMode,Ye.HasPrevTabstop),handler:j=>j.prev(),kbOpts:{weight:130,kbExpr:Ee.EditorContextKeys.editorTextFocus,primary:1026}})),(0,ve.registerEditorCommand)(new et({id:"leaveSnippet",precondition:Ye.InSnippetMode,handler:j=>j.cancel(!0),kbOpts:{weight:130,kbExpr:Ee.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,ve.registerEditorCommand)(new et({id:"acceptSnippet",precondition:Ye.InSnippetMode,handler:j=>j.finish()}))})),define(Ce[743],ie([1,0,10,21,13,4,2,8,22,18,85,210,468,102,40,16,64,87,465,107]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht){Object.defineProperty(te,"__esModule",{value:!0}),te.SuggestModel=te.LineContext=void 0;class d{constructor(j,te,he,ve){this.leadingLineContent=j.getLineContent(te.lineNumber).substr(0,te.column-1),this.leadingWord=j.getWordUntilPosition(te),this.lineNumber=te.lineNumber,this.column=te.column,this.auto=he,this.shy=ve}static shouldAutoTrigger(j){if(!j.hasModel())return!1;const te=j.getModel(),he=j.getPosition();te.tokenizeIfCheap(he.lineNumber);const ve=te.getWordAtPosition(he);return!(!ve||ve.endColumn!==he.column||!isNaN(Number(ve.word)))}}te.LineContext=d;let mt=class Ui{constructor(j,te,ve,Ce,Ie,Ke,je){this._editor=j,this._editorWorkerService=te,this._clipboardService=ve,this._telemetryService=Ce,this._logService=Ie,this._contextKeyService=Ke,this._configurationService=je,this._toDispose=new Ee.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new Ee.DisposableStore,this._triggerQuickSuggest=new he.TimeoutTimer,this._state=0,this._completionDisposables=new Ee.DisposableStore,this._onDidCancel=new ye.Emitter,this._onDidTrigger=new ye.Emitter,this._onDidSuggest=new ye.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Ne.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()}))),this._toDispose.add(Oe.CompletionProviderRegistry.onDidChange((()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})));let Ze=!1;this._toDispose.add(this._editor.onDidCompositionStart((()=>{Ze=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((()=>{Ze=!1,this._onCompositionEnd()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((j=>{Ze||this._onCursorChange(j)}))),this._toDispose.add(this._editor.onDidChangeModelContent((()=>{Ze||this._refilterCompletionItems()}))),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,Ee.dispose)(this._triggerCharacterListener),(0,Ee.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(80),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(81)||!this._editor.hasModel()||!this._editor.getOption(109))return;const j=new Map;for(const te of Oe.CompletionProviderRegistry.all(this._editor.getModel()))for(const he of te.triggerCharacters||[]){let ve=j.get(he);ve||(ve=new Set,ve.add((0,ht.getSnippetSuggestSupport)()),j.set(he,ve)),ve.add(te)}const L=te=>{if(!function S(j,te,he){if(!Boolean(te.getContextKeyValue("inlineSuggestionVisible")))return!0;const ve=he.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==ve&&Boolean(ve)}(this._editor,this._contextKeyService,this._configurationService)||d.shouldAutoTrigger(this._editor))return;if(!te){const j=this._editor.getPosition();te=this._editor.getModel().getLineContent(j.lineNumber).substr(0,j.column-1)}let he="";(0,Ie.isLowSurrogate)(te.charCodeAt(te.length-1))?(0,Ie.isHighSurrogate)(te.charCodeAt(te.length-2))&&(he=te.substr(te.length-2)):he=te.charAt(te.length-1);const ve=j.get(he);if(ve){const j=this._completionModel?{items:this._completionModel.adopt(ve),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:he},Boolean(this._completionModel),ve,j)}};this._triggerCharacterListener.add(this._editor.onDidType(L)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd((()=>L())))}get state(){return this._state}cancel(j=!1){var te;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(te=this._requestToken)||void 0===te||te.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:j}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&Oe.CompletionProviderRegistry.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(j){if(!this._editor.hasModel())return;const te=this._currentSelection;this._currentSelection=this._editor.getSelection(),!j.selection.isEmpty()||0!==j.reason&&3!==j.reason||"keyboard"!==j.source&&"deleteLeft"!==j.source?this.cancel():0===this._state&&0===j.reason?(te.containsRange(this._currentSelection)||te.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===j.reason&&this._refilterCompletionItems()}_onCompositionEnd(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var j;!1!==this._editor.getOption(79)&&(this._editor.getOption(106).snippetsPreventQuickSuggestions&&(null===(j=je.SnippetController2.get(this._editor))||void 0===j?void 0:j.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet((()=>{if(0!==this._state||!d.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const j=this._editor.getModel(),te=this._editor.getPosition(),he=this._editor.getOption(79);if(!1!==he){if(!0!==he){j.tokenizeIfCheap(te.lineNumber);const ve=j.getLineTokens(te.lineNumber),Ce=ve.getStandardTokenType(ve.findTokenIndexAtOffset(Math.max(te.column-1-1,0)));if(!(he.other&&0===Ce||he.comments&&1===Ce||he.strings&&2===Ce))return}!function f(j,te,he){if(!Boolean(te.getContextKeyValue("inlineSuggestionVisible")))return!0;const ve=he.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==ve&&Boolean(ve)}(this._editor,this._contextKeyService,this._configurationService)||!Oe.CompletionProviderRegistry.has(j)||this.trigger({auto:!0,shy:!1})}}),this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then((()=>{if(0===this._state||!this._editor.hasModel())return;const j=this._editor.getModel(),te=this._editor.getPosition(),he=new d(j,te,2===this._state,!1);this._onNewContext(he)}))}trigger(j,te=!1,he,ye){var Ee;if(!this._editor.hasModel())return;const Ie=this._editor.getModel(),Ne=j.auto,Oe=new d(Ie,this._editor.getPosition(),Ne,j.shy);this.cancel(te),this._state=Ne?2:1,this._onDidTrigger.fire({auto:Ne,shy:j.shy,position:this._editor.getPosition()}),this._context=Oe;let Ke={triggerKind:null!==(Ee=j.triggerKind)&&void 0!==Ee?Ee:0};j.triggerCharacter&&(Ke={triggerKind:1,triggerCharacter:j.triggerCharacter}),this._requestToken=new ve.CancellationTokenSource;const je=this._editor.getOption(101);let Ye=1;switch(je){case"top":Ye=0;break;case"bottom":Ye=2}const{itemKind:et,showDeprecated:nt}=Ui._createSuggestFilter(this._editor),rt=Ze.WordDistance.create(this._editorWorkerService,this._editor),at=(0,ht.provideSuggestionItems)(Ie,this._editor.getPosition(),new ht.CompletionOptions(Ye,et,he,nt),Ke,this._requestToken.token);Promise.all([at,rt]).then((([te,he])=>fi(this,void 0,void 0,(function*(){var ve;if(null===(ve=this._requestToken)||void 0===ve||ve.dispose(),!this._editor.hasModel())return;let Ce=null==ye?void 0:ye.clipboardText;if(!Ce&&te.needsClipboard&&(Ce=yield this._clipboardService.readText()),0===this._state)return;const Ee=this._editor.getModel();let Ie=te.items;if(ye){const j=(0,ht.getSuggestionComparator)(Ye);Ie=Ie.concat(ye.items).sort(j)}const Oe=new d(Ee,this._editor.getPosition(),Ne,j.shy);this._completionModel=new ct.CompletionModel(Ie,this._context.column,{leadingLineContent:Oe.leadingLineContent,characterCountDelta:Oe.column-this._context.column},he,this._editor.getOption(106),this._editor.getOption(101),Ce),this._completionDisposables.add(te.disposable),this._onNewContext(Oe),this._reportDurationsTelemetry(te.durations)})))).catch(Ce.onUnexpectedError)}_reportDurationsTelemetry(j){this._telemetryGate++%230==0&&setTimeout((()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(j)}),this._logService.debug("suggest.durations.json",j)}))}static _createSuggestFilter(j){const te=new Set;"none"===j.getOption(101)&&te.add(27);const he=j.getOption(106);return he.showMethods||te.add(0),he.showFunctions||te.add(1),he.showConstructors||te.add(2),he.showFields||te.add(3),he.showVariables||te.add(4),he.showClasses||te.add(5),he.showStructs||te.add(6),he.showInterfaces||te.add(7),he.showModules||te.add(8),he.showProperties||te.add(9),he.showEvents||te.add(10),he.showOperators||te.add(11),he.showUnits||te.add(12),he.showValues||te.add(13),he.showConstants||te.add(14),he.showEnums||te.add(15),he.showEnumMembers||te.add(16),he.showKeywords||te.add(17),he.showWords||te.add(18),he.showColors||te.add(19),he.showFiles||te.add(20),he.showReferences||te.add(21),he.showColors||te.add(22),he.showFolders||te.add(23),he.showTypeParameters||te.add(24),he.showSnippets||te.add(27),he.showUsers||te.add(25),he.showIssues||te.add(26),{itemKind:te,showDeprecated:he.showDeprecated}}_onNewContext(j){if(this._context){if(j.lineNumber!==this._context.lineNumber)return void this.cancel();if((0,Ie.getLeadingWhitespace)(j.leadingLineContent)!==(0,Ie.getLeadingWhitespace)(this._context.leadingLineContent))return void this.cancel();if(j.column<this._context.column)return void(j.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel());if(this._completionModel){if(0!==j.leadingWord.word.length&&j.leadingWord.startColumn>this._context.leadingWord.startColumn){const j=new Set(Oe.CompletionProviderRegistry.all(this._editor.getModel()));for(let te of this._completionModel.allProvider)j.delete(te);const te=this._completionModel.adopt(new Set);return void this.trigger({auto:this._context.auto,shy:!1},!0,j,{items:te,clipboardText:this._completionModel.clipboardText})}if(j.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==j.leadingWord.word.length){const{incomplete:j}=this._completionModel,te=this._completionModel.adopt(j);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,j,{items:te,clipboardText:this._completionModel.clipboardText})}else{let te=this._completionModel.lineContext,he=!1;if(this._completionModel.lineContext={leadingLineContent:j.leadingLineContent,characterCountDelta:j.column-this._context.column},0===this._completionModel.items.length){if(d.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<j.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=te,he=this._completionModel.items.length>0,he&&0===j.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:he})}}}}};mt=Ci([Zi(1,Ke.IEditorWorkerService),Zi(2,Ye.IClipboardService),Zi(3,at.ITelemetryService),Zi(4,rt.ILogService),Zi(5,nt.IContextKeyService),Zi(6,et.IConfigurationService)],mt),te.SuggestModel=mt})),define(Ce[304],ie([1,0,43,19,10,21,13,4,94,2,17,65,20,143,15,61,11,3,24,210,124,631,603,569,37,26,16,9,86,64,107,602,466,743,467,725,87,41,112]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct,bt,St,Dt,It,kt,At,Pt,Kt,Ut,jt,$t,qt,Gt,Zt){Object.defineProperty(te,"__esModule",{value:!0}),te.TriggerSuggestAction=te.SuggestController=void 0;class H{constructor(j,te){if(this._model=j,this._position=te,j.getLineMaxColumn(te.lineNumber)!==te.column){const he=j.getOffsetAt(te),ve=j.getPositionAt(he+1);this._marker=j.deltaDecorations([],[{range:at.Range.fromPositions(te,ve),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(j){if(this._model.isDisposed()||this._position.lineNumber!==j.lineNumber)return 0;if(this._marker){const te=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(te.getStartPosition())-this._model.getOffsetAt(j)}return this._model.getLineMaxColumn(j.lineNumber)-j.column}}let Yt=class Ki{constructor(j,te,he,ve,ye,Ee,Ie){this._memoryService=te,this._commandService=he,this._contextKeyService=ve,this._instantiationService=ye,this._logService=Ee,this._telemetryService=Ie,this._lineSuffix=new Oe.MutableDisposable,this._toDispose=new Oe.DisposableStore,this._selectors=new X((j=>j.priority)),this._telemetryGate=0,this.editor=j,this.model=ye.createInstance(Ut.SuggestModel,this.editor);const je=At.Context.InsertMode.bindTo(ve);je.set(j.getOption(106).insertMode),this.model.onDidTrigger((()=>je.set(j.getOption(106).insertMode))),this.widget=this._toDispose.add(new Ce.IdleValue((()=>{const j=this._instantiationService.createInstance($t.SuggestWidget,this.editor);this._toDispose.add(j),this._toDispose.add(j.onDidSelect((j=>this._insertSuggestion(j,0)),this));const te=new Kt.CommitCharacterController(this.editor,j,(j=>this._insertSuggestion(j,2)));this._toDispose.add(te),this._toDispose.add(this.model.onDidSuggest((j=>{0===j.completionModel.items.length&&te.reset()})));const he=At.Context.MakesTextEdit.bindTo(this._contextKeyService),ve=At.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Ce=At.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,Oe.toDisposable)((()=>{he.reset(),ve.reset(),Ce.reset()}))),this._toDispose.add(j.onDidFocus((({item:j})=>{const te=this.editor.getPosition(),ye=j.editStart.column,Ee=te.column;let Ie=!0;"smart"===this.editor.getOption(1)&&2===this.model.state&&!j.completion.additionalTextEdits&&!(4&j.completion.insertTextRules)&&Ee-ye===j.completion.insertText.length&&(Ie=this.editor.getModel().getValueInRange({startLineNumber:te.lineNumber,startColumn:ye,endLineNumber:te.lineNumber,endColumn:Ee})!==j.completion.insertText),he.set(Ie),ve.set(!rt.Position.equals(j.editInsertEnd,j.editReplaceEnd)),Ce.set(Boolean(j.provider.resolveCompletionItem)||Boolean(j.completion.documentation)||j.completion.detail!==j.completion.label)}))),this._toDispose.add(j.onDetailsKeyDown((j=>{j.toKeybinding().equals(new Ne.SimpleKeybinding(!0,!1,!1,!1,33))||Ke.isMacintosh&&j.toKeybinding().equals(new Ne.SimpleKeybinding(!1,!1,!1,!0,33))?j.stopPropagation():j.toKeybinding().isModifierKey()||this.editor.focus()}))),j}))),this._overtypingCapturer=this._toDispose.add(new Ce.IdleValue((()=>this._toDispose.add(new jt.OvertypingCapturer(this.editor,this.model))))),this._alternatives=this._toDispose.add(new Ce.IdleValue((()=>this._toDispose.add(new Pt.SuggestAlternatives(this.editor,this._contextKeyService))))),this._toDispose.add(ye.createInstance(ft.WordContextKey,j)),this._toDispose.add(this.model.onDidTrigger((j=>{this.widget.value.showTriggered(j.auto,j.shy?250:50),this._lineSuffix.value=new H(this.editor.getModel(),j.position)}))),this._toDispose.add(this.model.onDidSuggest((j=>{if(!j.shy){let te=-1;for(const he of this._selectors.itemsOrderedByPriorityDesc)if(te=he.select(this.editor.getModel(),this.editor.getPosition(),j.completionModel.items),-1!==te)break;-1===te&&(te=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),j.completionModel.items)),this.widget.value.showSuggestions(j.completionModel,te,j.isFrozen,j.auto)}}))),this._toDispose.add(this.model.onDidCancel((j=>{j.retrigger||this.widget.value.hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((()=>{this.model.cancel(),this.model.clear()})));let Ze=At.Context.AcceptSuggestionsOnEnter.bindTo(ve),V=()=>{const j=this.editor.getOption(1);Ze.set("on"===j||"smart"===j)};this._toDispose.add(this.editor.onDidChangeConfiguration((()=>V()))),V()}static get(j){return j.getContribution(Ki.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(j,te){if(!j||!j.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const he=ht.SnippetController2.get(this.editor);if(!he)return;const ve=this.editor.getModel(),Ce=ve.getAlternativeVersionId(),{item:Ie}=j,Ne=[],Oe=new ye.CancellationTokenSource;1&te||this.editor.pushUndoStop();const Ke=this.getOverwriteInfo(Ie,Boolean(8&te));if(this._memoryService.memorize(ve,this.editor.getPosition(),Ie),Array.isArray(Ie.completion.additionalTextEdits)){const j=Ye.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Ie.completion.additionalTextEdits.map((j=>nt.EditOperation.replace(at.Range.lift(j.range),j.text)))),j.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Ie.isResolved){const j=new je.StopWatch(!0);let he;const Ce=ve.onDidChangeContent((j=>{if(j.isFlush)return Oe.cancel(),void Ce.dispose();for(let te of j.changes){const j=at.Range.getEndPosition(te.range);(!he||rt.Position.isBefore(j,he))&&(he=j)}}));let ye=te;te|=2;let Ee=!1,Ke=this.editor.onWillType((()=>{Ke.dispose(),Ee=!0,2&ye||this.editor.pushUndoStop()}));Ne.push(Ie.resolve(Oe.token).then((()=>{if(!Ie.completion.additionalTextEdits||Oe.token.isCancellationRequested||he&&Ie.completion.additionalTextEdits.some((j=>rt.Position.isBefore(he,at.Range.getStartPosition(j.range)))))return!1;Ee&&this.editor.pushUndoStop();const j=Ye.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Ie.completion.additionalTextEdits.map((j=>nt.EditOperation.replace(at.Range.lift(j.range),j.text)))),j.restoreRelativeVerticalPositionOfCursor(this.editor),(Ee||!(2&ye))&&this.editor.pushUndoStop(),!0})).then((te=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",j.elapsed(),te),Ce.dispose(),Ke.dispose()})))}let{insertText:Ze}=Ie.completion;4&Ie.completion.insertTextRules||(Ze=mt.SnippetParser.escape(Ze)),he.insert(Ze,{overwriteBefore:Ke.overwriteBefore,overwriteAfter:Ke.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&Ie.completion.insertTextRules),clipboardText:j.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&te||this.editor.pushUndoStop(),Ie.completion.command?Ie.completion.command.id===G.id?this.model.trigger({auto:!0,shy:!1},!0):(Ne.push(this._commandService.executeCommand(Ie.completion.command.id,...Ie.completion.command.arguments?[...Ie.completion.command.arguments]:[]).catch(Ee.onUnexpectedError)),this.model.cancel()):this.model.cancel(),4&te&&this._alternatives.value.set(j,(j=>{for(Oe.cancel();ve.canUndo();){Ce!==ve.getAlternativeVersionId()&&ve.undo(),this._insertSuggestion(j,3|(8&te?8:0));break}})),this._alertCompletionItem(Ie),Promise.all(Ne).finally((()=>{this._reportSuggestionAcceptedTelemetry(ve,j),this.model.clear(),Oe.dispose()}))}_reportSuggestionAcceptedTelemetry(j,te){var he;if(this._telemetryGate++%100!=0)return;const ve=(null!==(he=te.item.provider._debugDisplayName)&&void 0!==he?he:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:ve,basenameHash:(0,Zt.hash)((0,Gt.basename)(j.uri)).toString(16),languageId:j.getLanguageId(),fileExtension:(0,Gt.extname)(j.uri)})}getOverwriteInfo(j,te){(0,Ze.assertType)(this.editor.hasModel());let he="replace"===this.editor.getOption(106).insertMode;te&&(he=!he);const ve=j.position.column-j.editStart.column,Ce=(he?j.editReplaceEnd.column:j.editInsertEnd.column)-j.position.column;return{overwriteBefore:ve+(this.editor.getPosition().column-j.position.column),overwriteAfter:Ce+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(j){if((0,ve.isNonEmptyArray)(j.completion.additionalTextEdits)){let te=_t.localize(0,null,j.textLabel,j.completion.additionalTextEdits.length);(0,he.alert)(te)}}triggerSuggest(j,te){this.editor.hasModel()&&(this.model.trigger({auto:te??!1,shy:!1},!1,j),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(j){if(!this.editor.hasModel())return;const te=this.editor.getPosition(),U=()=>{te.equals(this.editor.getPosition())&&this._commandService.executeCommand(j.fallback)},Q=j=>{if(4&j.completion.insertTextRules||j.completion.additionalTextEdits)return!0;const te=this.editor.getPosition(),he=j.editStart.column,ve=te.column;return ve-he!==j.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:te.lineNumber,startColumn:he,endLineNumber:te.lineNumber,endColumn:ve})!==j.completion.insertText};Ie.Event.once(this.model.onDidTrigger)((j=>{let te=[];Ie.Event.any(this.model.onDidTrigger,this.model.onDidCancel)((()=>{(0,Oe.dispose)(te),U()}),void 0,te),this.model.onDidSuggest((({completionModel:j})=>{if((0,Oe.dispose)(te),0===j.items.length)return void U();const he=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),j.items),ve=j.items[he];Q(ve)?(this.editor.pushUndoStop(),this._insertSuggestion({index:he,item:ve,model:j},7)):U()}),void 0,te)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(te,0),this.editor.focus()}acceptSelectedSuggestion(j,te){const he=this.widget.value.getFocusedItem();let ve=0;j&&(ve|=4),te&&(ve|=8),this._insertSuggestion(he,ve)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(j){return this._selectors.register(j)}};Yt.ID="editor.contrib.suggestController",Yt=Ci([Zi(1,pt.ISuggestMemoryService),Zi(2,bt.ICommandService),Zi(3,St.IContextKeyService),Zi(4,Dt.IInstantiationService),Zi(5,kt.ILogService),Zi(6,qt.ITelemetryService)],Yt),te.SuggestController=Yt;class X{constructor(j){this.prioritySelector=j,this._items=new Array}register(j){if(-1!==this._items.indexOf(j))throw new Error("Value is already registered");return this._items.push(j),this._items.sort(((j,te)=>this.prioritySelector(te)-this.prioritySelector(j))),{dispose:()=>{const te=this._items.indexOf(j);te>=0&&this._items.splice(te,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class G extends et.EditorAction{constructor(){super({id:G.id,label:_t.localize(1,null),alias:"Trigger Suggest",precondition:St.ContextKeyExpr.and(ct.EditorContextKeys.writable,ct.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:ct.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(j,te,he){const ve=Yt.get(te);if(!ve)return;let Ce;he&&"object"==typeof he&&!0===he.auto&&(Ce=!0),ve.triggerSuggest(void 0,Ce)}}te.TriggerSuggestAction=G,G.id="editor.action.triggerSuggest",(0,et.registerEditorContribution)(Yt.ID,Yt),(0,et.registerEditorAction)(G);const li=190,di=et.EditorCommand.bindToContribution(Yt.get);(0,et.registerEditorCommand)(new di({id:"acceptSelectedSuggestion",precondition:At.Context.Visible,handler(j){j.acceptSelectedSuggestion(!0,!1)}})),It.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:St.ContextKeyExpr.and(At.Context.Visible,ct.EditorContextKeys.textInputFocus),primary:2,weight:li}),It.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:St.ContextKeyExpr.and(At.Context.Visible,ct.EditorContextKeys.textInputFocus,At.Context.AcceptSuggestionsOnEnter,At.Context.MakesTextEdit),primary:3,weight:li}),Ct.MenuRegistry.appendMenuItem(At.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:_t.localize(2,null)},group:"left",order:1,when:At.Context.HasInsertAndReplaceRange.toNegated()}),Ct.MenuRegistry.appendMenuItem(At.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:_t.localize(3,null)},group:"left",order:1,when:St.ContextKeyExpr.and(At.Context.HasInsertAndReplaceRange,At.Context.InsertMode.isEqualTo("insert"))}),Ct.MenuRegistry.appendMenuItem(At.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:_t.localize(4,null)},group:"left",order:1,when:St.ContextKeyExpr.and(At.Context.HasInsertAndReplaceRange,At.Context.InsertMode.isEqualTo("replace"))}),(0,et.registerEditorCommand)(new di({id:"acceptAlternativeSelectedSuggestion",precondition:St.ContextKeyExpr.and(At.Context.Visible,ct.EditorContextKeys.textInputFocus),kbOpts:{weight:li,kbExpr:ct.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(j){j.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:At.suggestWidgetStatusbarMenu,group:"left",order:2,when:St.ContextKeyExpr.and(At.Context.HasInsertAndReplaceRange,At.Context.InsertMode.isEqualTo("insert")),title:_t.localize(5,null)},{menuId:At.suggestWidgetStatusbarMenu,group:"left",order:2,when:St.ContextKeyExpr.and(At.Context.HasInsertAndReplaceRange,At.Context.InsertMode.isEqualTo("replace")),title:_t.localize(6,null)}]})),bt.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,et.registerEditorCommand)(new di({id:"hideSuggestWidget",precondition:At.Context.Visible,handler:j=>j.cancelSuggestWidget(),kbOpts:{weight:li,kbExpr:ct.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,et.registerEditorCommand)(new di({id:"selectNextSuggestion",precondition:St.ContextKeyExpr.and(At.Context.Visible,At.Context.MultipleSuggestions),handler:j=>j.selectNextSuggestion(),kbOpts:{weight:li,kbExpr:ct.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,et.registerEditorCommand)(new di({id:"selectNextPageSuggestion",precondition:St.ContextKeyExpr.and(At.Context.Visible,At.Context.MultipleSuggestions),handler:j=>j.selectNextPageSuggestion(),kbOpts:{weight:li,kbExpr:ct.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,et.registerEditorCommand)(new di({id:"selectLastSuggestion",precondition:St.ContextKeyExpr.and(At.Context.Visible,At.Context.MultipleSuggestions),handler:j=>j.selectLastSuggestion()})),(0,et.registerEditorCommand)(new di({id:"selectPrevSuggestion",precondition:St.ContextKeyExpr.and(At.Context.Visible,At.Context.MultipleSuggestions),handler:j=>j.selectPrevSuggestion(),kbOpts:{weight:li,kbExpr:ct.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,et.registerEditorCommand)(new di({id:"selectPrevPageSuggestion",precondition:St.ContextKeyExpr.and(At.Context.Visible,At.Context.MultipleSuggestions),handler:j=>j.selectPrevPageSuggestion(),kbOpts:{weight:li,kbExpr:ct.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,et.registerEditorCommand)(new di({id:"selectFirstSuggestion",precondition:St.ContextKeyExpr.and(At.Context.Visible,At.Context.MultipleSuggestions),handler:j=>j.selectFirstSuggestion()})),(0,et.registerEditorCommand)(new di({id:"toggleSuggestionDetails",precondition:At.Context.Visible,handler:j=>j.toggleSuggestionDetails(),kbOpts:{weight:li,kbExpr:ct.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:At.suggestWidgetStatusbarMenu,group:"right",order:1,when:St.ContextKeyExpr.and(At.Context.DetailsVisible,At.Context.CanResolve),title:_t.localize(7,null)},{menuId:At.suggestWidgetStatusbarMenu,group:"right",order:1,when:St.ContextKeyExpr.and(At.Context.DetailsVisible.toNegated(),At.Context.CanResolve),title:_t.localize(8,null)}]})),(0,et.registerEditorCommand)(new di({id:"toggleExplainMode",precondition:At.Context.Visible,handler:j=>j.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,et.registerEditorCommand)(new di({id:"toggleSuggestionFocus",precondition:At.Context.Visible,handler:j=>j.toggleSuggestionFocus(),kbOpts:{weight:li,kbExpr:ct.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,et.registerEditorCommand)(new di({id:"insertBestCompletion",precondition:St.ContextKeyExpr.and(ct.EditorContextKeys.textInputFocus,St.ContextKeyExpr.equals("config.editor.tabCompletion","on"),ft.WordContextKey.AtEnd,At.Context.Visible.toNegated(),Pt.SuggestAlternatives.OtherSuggestions.toNegated(),ht.SnippetController2.InSnippetMode.toNegated()),handler:(j,te)=>{j.triggerSuggestAndAcceptBest((0,Ze.isObject)(te)?Object.assign({fallback:"tab"},te):{fallback:"tab"})},kbOpts:{weight:li,primary:2}})),(0,et.registerEditorCommand)(new di({id:"insertNextSuggestion",precondition:St.ContextKeyExpr.and(ct.EditorContextKeys.textInputFocus,St.ContextKeyExpr.equals("config.editor.tabCompletion","on"),Pt.SuggestAlternatives.OtherSuggestions,At.Context.Visible.toNegated(),ht.SnippetController2.InSnippetMode.toNegated()),handler:j=>j.acceptNextSuggestion(),kbOpts:{weight:li,kbExpr:ct.EditorContextKeys.textInputFocus,primary:2}})),(0,et.registerEditorCommand)(new di({id:"insertPrevSuggestion",precondition:St.ContextKeyExpr.and(ct.EditorContextKeys.textInputFocus,St.ContextKeyExpr.equals("config.editor.tabCompletion","on"),Pt.SuggestAlternatives.OtherSuggestions,At.Context.Visible.toNegated(),ht.SnippetController2.InSnippetMode.toNegated()),handler:j=>j.acceptPrevSuggestion(),kbOpts:{weight:li,kbExpr:ct.EditorContextKeys.textInputFocus,primary:1026}})),(0,et.registerEditorAction)(class extends et.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:_t.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(j,te){var he;null===(he=Yt.get(te))||void 0===he||he.resetWidgetSize()}})})),define(Ce[744],ie([1,0,19,10,4,2,11,3,124,303,304,207,189]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze){Object.defineProperty(te,"__esModule",{value:!0}),te.rangeStartsWith=te.SuggestWidgetInlineCompletionProvider=void 0;class n extends ye.Disposable{constructor(j,te){super(),this.editor=j,this.suggestControllerPreselector=te,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new Ce.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new ve.RunOnceScheduler((()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())}),100)),this._register(j.onKeyDown((j=>{j.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))}))),this._register(j.onKeyUp((j=>{j.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))})));const ye=Ke.SuggestController.get(this.editor);if(ye){this._register(ye.registerSelector({priority:100,select:(j,te,ve)=>{const Ce=this.editor.getModel(),Ie=(0,je.minimizeInlineCompletion)(Ce,this.suggestControllerPreselector());if(!Ie)return-1;const Ne=Ee.Position.lift(te),Oe=ve.map(((j,te)=>{const he=r(ye,Ne,j,this.isShiftKeyPressed),ve=(0,je.minimizeInlineCompletion)(Ce,null==he?void 0:he.normalizedInlineCompletion);if(!ve)return;return{index:te,valid:l(Ie.range,ve.range)&&Ie.text.startsWith(ve.text),prefixLength:ve.text.length,suggestItem:j}})).filter((j=>j&&j.valid)),Ke=(0,he.findMaxBy)(Oe,(0,he.compareBy)((j=>j.prefixLength),he.numberComparator));return Ke?Ke.index:-1}}));let j=!1;const f=()=>{j||(j=!0,this._register(ye.widget.value.onDidShow((()=>{this.isSuggestWidgetVisible=!0,this.update(!0)}))),this._register(ye.widget.value.onDidHide((()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)}))),this._register(ye.widget.value.onDidFocus((()=>{this.isSuggestWidgetVisible=!0,this.update(!0)}))))};this._register(Ce.Event.once(ye.model.onDidTrigger)((j=>{f()})))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(j){const te=this.getSuggestItemInfo();let he=!1;(function c(j,te){return j===te||!(!j||!te)&&(j.completionItemKind===te.completionItemKind&&j.isSnippetText===te.isSnippetText&&(0,Ze.normalizedInlineCompletionsEquals)(j.normalizedInlineCompletion,te.normalizedInlineCompletion))})(this._currentSuggestItemInfo,te)||(this._currentSuggestItemInfo=te,he=!0),this._isActive!==j&&(this._isActive=j,he=!0),he&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const j=Ke.SuggestController.get(this.editor);if(!j||!this.isSuggestWidgetVisible)return;const te=j.widget.value.getFocusedItem();return te?r(j,this.editor.getPosition(),te.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const j=Ke.SuggestController.get(this.editor);j&&j.stopForceRenderingAbove()}forceRenderingAbove(){const j=Ke.SuggestController.get(this.editor);j&&j.forceRenderingAbove()}}function l(j,te){return te.startLineNumber===j.startLineNumber&&te.startColumn===j.startColumn&&(te.endLineNumber<j.endLineNumber||te.endLineNumber===j.endLineNumber&&te.endColumn<=j.endColumn)}function r(j,te,he,ve){if(Array.isArray(he.completion.additionalTextEdits)&&he.completion.additionalTextEdits.length>0)return{completionItemKind:he.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:Ie.Range.fromPositions(te,te),text:""}};let{insertText:Ce}=he.completion,ye=!1;if(4&he.completion.insertTextRules){const he=(new Ne.SnippetParser).parse(Ce),ve=j.editor.getModel();if(he.children.length>100)return;Oe.SnippetSession.adjustWhitespace(ve,te,he,!0,!0),Ce=he.toString(),ye=!0}const Ee=j.getOverwriteInfo(he,ve);return{isSnippetText:ye,completionItemKind:he.completion.kind,normalizedInlineCompletion:{text:Ce,range:Ie.Range.fromPositions(te.delta(0,-Ee.overwriteBefore),te.delta(0,Math.max(Ee.overwriteAfter,0)))}}}te.SuggestWidgetInlineCompletionProvider=n,te.rangeStartsWith=l})),define(Ce[745],ie([1,0,10,13,2,18,188,207,189,744]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe){Object.defineProperty(te,"__esModule",{value:!0}),te.SuggestWidgetPreviewModel=void 0;class g extends Ee.BaseGhostTextWidgetModel{constructor(j,te){super(j),this.cache=te,this.suggestionInlineCompletionSource=this._register(new Oe.SuggestWidgetInlineCompletionProvider(this.editor,(()=>{var j,te;return null===(te=null===(j=this.cache.value)||void 0===j?void 0:j.completions[0])||void 0===te?void 0:te.toLiveInlineCompletion()}))),this.updateOperation=this._register(new Ce.MutableDisposable),this.updateCacheSoon=this._register(new he.RunOnceScheduler((()=>this.updateCache()),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange((()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const j=this.ghostText;j&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,function t(j){return j.reduce(((j,te)=>j+te),0)}(j.parts.map((j=>j.lines.length-1))))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()}))),this._register(this.cache.onDidChange((()=>{this.onDidChangeEmitter.fire()}))),this._register(this.editor.onDidChangeCursorPosition((j=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()}))),this._register((0,Ce.toDisposable)((()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove())))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return fi(this,void 0,void 0,(function*(){const j=this.suggestionInlineCompletionSource.state;if(!j||!j.selectedItem)return;const te={text:j.selectedItem.normalizedInlineCompletion.text,range:j.selectedItem.normalizedInlineCompletion.range,isSnippetText:j.selectedItem.isSnippetText,completionKind:j.selectedItem.completionItemKind},Ce=this.editor.getPosition(),Ee=(0,he.createCancelablePromise)((j=>fi(this,void 0,void 0,(function*(){let he;try{he=yield(0,Ie.provideInlineCompletions)(Ce,this.editor.getModel(),{triggerKind:ye.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:te},j)}catch(j){return void(0,ve.onUnexpectedError)(j)}j.isCancellationRequested||(this.cache.setValue(this.editor,he,ye.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire())})))),Ne=new Ie.UpdateOperation(Ee,ye.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=Ne,yield Ee,this.updateOperation.value===Ne&&this.updateOperation.clear()}))}get ghostText(){var j,te,he;const ve=this.isSuggestionPreviewEnabled(),Ce=(0,Ie.minimizeInlineCompletion)(this.editor.getModel(),null===(te=null===(j=this.cache.value)||void 0===j?void 0:j.completions[0])||void 0===te?void 0:te.toLiveInlineCompletion()),ye=this.suggestionInlineCompletionSource.state,Ee=(0,Ie.minimizeInlineCompletion)(this.editor.getModel(),null===(he=null==ye?void 0:ye.selectedItem)||void 0===he?void 0:he.normalizedInlineCompletion),Ne=Ce&&Ee&&Ce.text.startsWith(Ee.text)&&Ce.range.equalsRange(Ee.range);if(!ve&&!Ne)return;const Oe=Ne?Ce:Ee||Ce,Ke=Ne?Oe.text.length-Ee.text.length:0;return this.toGhostText(Oe,Ke)}toGhostText(j,te){const he=this.editor.getOptions().get(106).previewMode;return j?(0,Ne.inlineCompletionToGhostText)(j,this.editor.getModel(),he,this.editor.getPosition(),te)||new Ee.GhostText(j.range.endLineNumber,[],this.minReservedLineCount):void 0}}te.SuggestWidgetPreviewModel=g})),define(Ce[746],ie([1,0,4,2,11,18,32,207,745,461,26]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke){Object.defineProperty(te,"__esModule",{value:!0}),te.SharedInlineCompletionCache=te.GhostTextModel=te.DelegatingModel=void 0;class t extends ve.Disposable{constructor(){super(...arguments),this.onDidChangeEmitter=new he.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new ve.MutableDisposable)}get targetModel(){var j;return null===(j=this.currentModelRef.value)||void 0===j?void 0:j.object}setTargetModel(j){var te;(null===(te=this.currentModelRef.value)||void 0===te?void 0:te.object)!==j&&(this.currentModelRef.clear(),this.currentModelRef.value=j?(0,Oe.createDisposableRef)(j,j.onDidChange((()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()}))):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var j,te;return this.hasCachedGhostText||(this.cachedGhostText=null===(te=null===(j=this.currentModelRef.value)||void 0===j?void 0:j.object)||void 0===te?void 0:te.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(j){var te;null===(te=this.targetModel)||void 0===te||te.setExpanded(j)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}te.DelegatingModel=t;let je=class extends t{constructor(j,te,he){super(),this.editor=j,this.commandService=te,this.languageConfigurationService=he,this.sharedCache=this._register(new n),this.suggestWidgetAdapterModel=this._register(new Ne.SuggestWidgetPreviewModel(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new Ie.InlineCompletionsModel(this.editor,this.sharedCache,this.commandService,this.languageConfigurationService)),this._register(this.suggestWidgetAdapterModel.onDidChange((()=>{this.updateModel()}))),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(j){var te;const he=null===(te=this.activeInlineCompletionsModel)||void 0===te?void 0:te.ghostText;return!!he&&he.parts.some((te=>j.containsPosition(new Ce.Position(he.lineNumber,te.column))))}triggerInlineCompletion(){var j;null===(j=this.activeInlineCompletionsModel)||void 0===j||j.trigger(ye.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var j;null===(j=this.activeInlineCompletionsModel)||void 0===j||j.commitCurrentSuggestion()}hideInlineCompletion(){var j;null===(j=this.activeInlineCompletionsModel)||void 0===j||j.hide()}showNextInlineCompletion(){var j;null===(j=this.activeInlineCompletionsModel)||void 0===j||j.showNext()}showPreviousInlineCompletion(){var j;null===(j=this.activeInlineCompletionsModel)||void 0===j||j.showPrevious()}hasMultipleInlineCompletions(){var j;return fi(this,void 0,void 0,(function*(){const te=yield null===(j=this.activeInlineCompletionsModel)||void 0===j?void 0:j.hasMultipleInlineCompletions();return void 0!==te&&te}))}};je=Ci([Zi(1,Ke.ICommandService),Zi(2,Ee.ILanguageConfigurationService)],je),te.GhostTextModel=je;class n extends ve.Disposable{constructor(){super(...arguments),this.onDidChangeEmitter=new he.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new ve.MutableDisposable)}get value(){return this.cache.value}setValue(j,te,he){this.cache.value=new Ie.SynchronizedInlineCompletionsCache(j,te,(()=>this.onDidChangeEmitter.fire()),he)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}te.SharedInlineCompletionCache=n})),define(Ce[305],ie([1,0,2,8,15,68,24,259,746,654,550,16,9,86]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye){Object.defineProperty(te,"__esModule",{value:!0}),te.TriggerInlineSuggestionAction=te.ShowPreviousInlineSuggestionAction=te.ShowNextInlineSuggestionAction=te.commitInlineSuggestionAction=te.ActiveGhostTextController=te.GhostTextController=void 0;let et=class ji extends he.Disposable{constructor(j,te){super(),this.editor=j,this.instantiationService=te,this.triggeredExplicitly=!1,this.activeController=this._register(new he.MutableDisposable),this._register(this.editor.onDidChangeModel((()=>{this.updateModelController()}))),this._register(this.editor.onDidChangeConfiguration((j=>{j.hasChanged(106)&&this.updateModelController(),j.hasChanged(55)&&this.updateModelController()}))),this.updateModelController()}static get(j){return j.getContribution(ji.ID)}get activeModel(){var j;return null===(j=this.activeController.value)||void 0===j?void 0:j.model}updateModelController(){const j=this.editor.getOption(106),te=this.editor.getOption(55);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(j.preview||te.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(nt,this.editor):void 0}shouldShowHoverAt(j){var te;return(null===(te=this.activeModel)||void 0===te?void 0:te.shouldShowHoverAt(j))||!1}shouldShowHoverAtViewZone(j){var te,he;return(null===(he=null===(te=this.activeController.value)||void 0===te?void 0:te.widget)||void 0===he?void 0:he.shouldShowHoverAtViewZone(j))||!1}trigger(){var j;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(j=this.activeModel)||void 0===j||j.triggerInlineCompletion()}commit(){var j;null===(j=this.activeModel)||void 0===j||j.commitInlineCompletion()}hide(){var j;null===(j=this.activeModel)||void 0===j||j.hideInlineCompletion()}showNextInlineCompletion(){var j;null===(j=this.activeModel)||void 0===j||j.showNextInlineCompletion()}showPreviousInlineCompletion(){var j;null===(j=this.activeModel)||void 0===j||j.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var j;return fi(this,void 0,void 0,(function*(){const te=yield null===(j=this.activeModel)||void 0===j?void 0:j.hasMultipleInlineCompletions();return void 0!==te&&te}))}};et.inlineSuggestionVisible=new je.RawContextKey("inlineSuggestionVisible",!1,Ke.localize(0,null)),et.inlineSuggestionHasIndentation=new je.RawContextKey("inlineSuggestionHasIndentation",!1,Ke.localize(1,null)),et.inlineSuggestionHasIndentationLessThanTabSize=new je.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,Ke.localize(2,null)),et.ID="editor.contrib.ghostTextController",et=Ci([Zi(1,Ze.IInstantiationService)],et),te.GhostTextController=et;class c{constructor(j){this.contextKeyService=j,this.inlineCompletionVisible=et.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=et.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=et.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let nt=class extends he.Disposable{constructor(j,te,ve){super(),this.editor=j,this.instantiationService=te,this.contextKeyService=ve,this.contextKeys=new c(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(Ne.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(Oe.GhostTextWidget,this.editor,this.model)),this._register((0,he.toDisposable)((()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)}))),this._register(this.model.onDidChange((()=>{this.updateContextKeys()}))),this.updateContextKeys()}updateContextKeys(){var j;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(j=this.model.activeInlineCompletionsModel)||void 0===j?void 0:j.ghostText));let te=!1,he=!0;const Ce=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&Ce&&Ce.parts.length>0){const{column:j,lines:Ee}=Ce.parts[0],Ie=Ee[0];if(j<=this.editor.getModel().getLineIndentColumn(Ce.lineNumber)){let j=(0,ve.firstNonWhitespaceIndex)(Ie);-1===j&&(j=Ie.length-1),te=j>0;const Ce=this.editor.getModel().getOptions().tabSize;he=ye.CursorColumns.visibleColumnFromColumn(Ie,j+1,Ce)<Ce}}this.contextKeys.inlineCompletionSuggestsIndentation.set(te),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(he)}};nt=Ci([Zi(1,Ze.IInstantiationService),Zi(2,je.IContextKeyService)],nt),te.ActiveGhostTextController=nt;const rt=Ce.EditorCommand.bindToContribution(et.get);te.commitInlineSuggestionAction=new rt({id:Ie.inlineSuggestCommitId,precondition:et.inlineSuggestionVisible,handler(j){j.commit(),j.editor.focus()}}),(0,Ce.registerEditorCommand)(te.commitInlineSuggestionAction),Ye.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:te.commitInlineSuggestionAction.id,when:je.ContextKeyExpr.and(te.commitInlineSuggestionAction.precondition,Ee.EditorContextKeys.tabMovesFocus.toNegated(),et.inlineSuggestionHasIndentationLessThanTabSize)}),(0,Ce.registerEditorCommand)(new rt({id:"editor.action.inlineSuggest.hide",precondition:et.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(j){j.hide()}}));class o extends Ce.EditorAction{constructor(){super({id:o.ID,label:Ke.localize(3,null),alias:"Show Next Inline Suggestion",precondition:je.ContextKeyExpr.and(Ee.EditorContextKeys.writable,et.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(j,te){return fi(this,void 0,void 0,(function*(){const j=et.get(te);j&&(j.showNextInlineCompletion(),te.focus())}))}}te.ShowNextInlineSuggestionAction=o,o.ID="editor.action.inlineSuggest.showNext";class a extends Ce.EditorAction{constructor(){super({id:a.ID,label:Ke.localize(4,null),alias:"Show Previous Inline Suggestion",precondition:je.ContextKeyExpr.and(Ee.EditorContextKeys.writable,et.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(j,te){return fi(this,void 0,void 0,(function*(){const j=et.get(te);j&&(j.showPreviousInlineCompletion(),te.focus())}))}}te.ShowPreviousInlineSuggestionAction=a,a.ID="editor.action.inlineSuggest.showPrevious";class d extends Ce.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Ke.localize(5,null),alias:"Trigger Inline Suggestion",precondition:Ee.EditorContextKeys.writable})}run(j,te){return fi(this,void 0,void 0,(function*(){const j=et.get(te);j&&j.trigger()}))}}te.TriggerInlineSuggestionAction=d,(0,Ce.registerEditorContribution)(et.ID,et),(0,Ce.registerEditorAction)(d),(0,Ce.registerEditorAction)(o),(0,Ce.registerEditorAction)(a)})),define(Ce[747],ie([1,0,7,66,2,104,3,35,187,305,551,63,37,26,16,51]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt){Object.defineProperty(te,"__esModule",{value:!0}),te.InlineCompletionsHoverParticipant=te.InlineCompletionsHover=void 0;class r{constructor(j,te,he){this.owner=j,this.range=te,this.controller=he}isValidForHoverAnchor(j){return 1===j.type&&this.range.startColumn<=j.range.startColumn&&this.range.endColumn>=j.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}te.InlineCompletionsHover=r;let rt=class{constructor(j,te,he,ve,Ce,ye,Ee){this._editor=j,this._commandService=te,this._menuService=he,this._contextKeyService=ve,this._languageService=Ce,this._openerService=ye,this.accessibilityService=Ee}suggestHoverAnchor(j){const te=Oe.GhostTextController.get(this._editor);if(!te)return null;const he=j.target;if(8===he.type){const j=he.detail;if(te.shouldShowHoverAtViewZone(j.viewZoneId))return new Ne.HoverForeignElementAnchor(1e3,this,Ee.Range.fromPositions(j.positionBefore||j.position,j.positionBefore||j.position))}return 7===he.type&&te.shouldShowHoverAt(he.range)||6===he.type&&he.detail.mightBeForeignElement&&te.shouldShowHoverAt(he.range)?new Ne.HoverForeignElementAnchor(1e3,this,he.range):null}computeSync(j,te){const he=Oe.GhostTextController.get(this._editor);return he&&he.shouldShowHoverAt(j.range)?[new r(this,j.range,he)]:[]}renderHoverParts(j,te){const he=new Ce.DisposableStore,ve=te[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(j,ve,he);const ye=he.add(this._menuService.createMenu(Ze.MenuId.InlineCompletionsActions,this._contextKeyService)),Ee=j.statusBar.addAction({label:Ke.localize(0,null),commandId:Oe.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(Oe.ShowNextInlineSuggestionAction.ID)}),Ie=j.statusBar.addAction({label:Ke.localize(1,null),commandId:Oe.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(Oe.ShowPreviousInlineSuggestionAction.ID)});j.statusBar.addAction({label:Ke.localize(2,null),commandId:Oe.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(Oe.commitInlineSuggestionAction.id)});const Ne=[Ee,Ie];for(const j of Ne)j.setEnabled(!1);ve.hasMultipleSuggestions().then((j=>{for(const te of Ne)te.setEnabled(j)}));for(const[te,he]of ye.getActions())for(const te of he)te instanceof Ze.MenuItemAction&&j.statusBar.addAction({label:te.label,commandId:te.item.id,run:()=>this._commandService.executeCommand(te.item.id)});return he}renderScreenReaderText(j,te,Ce){var Ee,Ie;const Ne=he.$,Oe=Ne("div.hover-row.markdown-hover"),je=he.append(Oe,Ne("div.hover-contents")),Ze=Ce.add(new ye.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),Ye=null===(Ie=null===(Ee=te.controller.activeModel)||void 0===Ee?void 0:Ee.inlineCompletionsModel)||void 0===Ie?void 0:Ie.ghostText;if(Ye){const te=this._editor.getModel().getLineContent(Ye.lineNumber);(te=>{Ce.add(Ze.onDidRenderAsync((()=>{je.className="hover-contents code-hover-contents",j.onContentsChanged()})));const he=Ke.localize(3,null),ye=Ce.add(Ze.render((new ve.MarkdownString).appendText(he).appendCodeblock("text",te)));je.replaceChildren(ye.element)})(Ye.renderForScreenReader(te))}j.fragment.appendChild(Oe)}};rt=Ci([Zi(1,Ye.ICommandService),Zi(2,Ze.IMenuService),Zi(3,et.IContextKeyService),Zi(4,Ie.ILanguageService),Zi(5,nt.IOpenerService),Zi(6,je.IAccessibilityService)],rt),te.InlineCompletionsHoverParticipant=rt})),define(Ce[748],ie([1,0,7,227,19,2,11,3,33,18,717,257,187,201,732,747,16,9,42,107,302,10,734,24,4]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt,at,ct,ht,mt,pt,ft,_t,Ct){Object.defineProperty(te,"__esModule",{value:!0}),te.ContentHoverWidget=te.ContentHoverController=void 0;const bt=he.$;let St=class qi extends ye.Disposable{constructor(j,te,ve){super(),this._editor=j,this._instantiationService=te,this._keybindingService=ve,this._participants=[this._instantiationService.createInstance(Ke.ColorHoverParticipant,this._editor),this._instantiationService.createInstance(Ye.MarkdownHoverParticipant,this._editor),this._instantiationService.createInstance(nt.InlineCompletionsHoverParticipant,this._editor),this._instantiationService.createInstance(mt.UnicodeHighlighterHoverParticipant,this._editor),this._instantiationService.createInstance(et.MarkerHoverParticipant,this._editor),this._instantiationService.createInstance(ft.InlayHintsHover,this._editor)],this._widget=this._register(this._instantiationService.createInstance(Dt,this._editor)),this._decorationsChangerListener=this._register(new L(this._editor)),this._computer=new M(this._editor,this._participants),this._hoverOperation=this._register(new je.HoverOperation(this._editor,this._computer)),this._messages=[],this._messagesAreComplete=!1,this._register(this._hoverOperation.onResult((j=>{this._withResult(j.value,j.isComplete,j.hasLoadingMessage)}))),this._register(this._decorationsChangerListener.onDidChangeModelDecorations((()=>this._onModelDecorationsChanged()))),this._register(he.addStandardDisposableListener(this._widget.getDomNode(),"keydown",(j=>{j.equals(9)&&this.hide()}))),this._register(Oe.TokenizationRegistry.onDidChange((()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))})))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.colorPicker||this._hoverOperation.start(0))}maybeShowAt(j){const te=[];for(const he of this._participants)if(he.suggestHoverAnchor){const ve=he.suggestHoverAnchor(j);ve&&te.push(ve)}const he=j.target;if(6===he.type&&te.push(new Ze.HoverRangeAnchor(0,he.range)),7===he.type){const j=this._editor.getOption(44).typicalHalfwidthCharacterWidth/2;!he.detail.isAfterLines&&"number"==typeof he.detail.horizontalDistanceToText&&he.detail.horizontalDistanceToText<j&&te.push(new Ze.HoverRangeAnchor(0,he.range))}return 0!==te.length&&(te.sort(((j,te)=>te.priority-j.priority)),this._startShowingAt(te[0],0,!1),!0)}startShowingAtRange(j,te,he){this._startShowingAt(new Ze.HoverRangeAnchor(0,j),te,he)}_startShowingAt(j,te,he){if(!this._computer.anchor||!this._computer.anchor.equals(j)){if(this._hoverOperation.cancel(),this._widget.position)if(this._computer.anchor&&j.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){const te=this._messages.filter((te=>te.isValidForHoverAnchor(j)));if(0===te.length)this.hide();else{if(te.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(j,te)}}else this.hide();this._computer.anchor=j,this._computer.shouldFocus=he,this._hoverOperation.start(te)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return!!this._widget.colorPicker}_addLoadingMessage(j){if(this._computer.anchor)for(const te of this._participants)if(te.createLoadingMessage){const he=te.createLoadingMessage(this._computer.anchor);if(he)return j.slice(0).concat([he])}return j}_withResult(j,te,he){this._messages=he?this._addLoadingMessage(j):j,this._messagesAreComplete=te,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):te&&this.hide()}_renderMessages(j,te){let he=1073741824,ve=te[0].range,Ce=null;for(const j of te)he=Math.min(he,j.range.startColumn),ve=Ie.Range.plusRange(ve,j.range),j.forceShowAtRange&&(Ce=j.range);const Ne=new ye.DisposableStore,Oe=Ne.add(new It(this._keybindingService)),Ke=document.createDocumentFragment();let je=null;const Ze={fragment:Ke,statusBar:Oe,setColorPicker:j=>je=j,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const j of this._participants){const he=te.filter((te=>te.owner===j));he.length>0&&Ne.add(j.renderHoverParts(Ze,he))}if(Oe.hasContent&&Ke.appendChild(Oe.hoverElement),Ke.hasChildNodes()){if(ve){const j=this._decorationsChangerListener.deltaDecorations([],[{range:ve,options:qi._DECORATION_OPTIONS}]);Ne.add((0,ye.toDisposable)((()=>{this._decorationsChangerListener.deltaDecorations(j,[])})))}this._widget.showAt(Ke,new E(je,Ce?Ce.getStartPosition():new Ee.Position(j.range.startLineNumber,he),Ce||ve,this._editor.getOption(53).above,this._computer.shouldFocus,Ne))}else Ne.dispose()}};St._DECORATION_OPTIONS=Ne.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),St=Ci([Zi(1,at.IInstantiationService),Zi(2,ct.IKeybindingService)],St),te.ContentHoverController=St;class L extends ye.Disposable{constructor(j){super(),this._editor=j,this._onDidChangeModelDecorations=this._register(new Ct.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations((j=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(j)})))}deltaDecorations(j,te){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(j,te)}finally{this._isChangingDecorations=!1}}}class E{constructor(j,te,he,ve,Ce,ye){this.colorPicker=j,this.showAtPosition=te,this.showAtRange=he,this.preferAbove=ve,this.stoleFocus=Ce,this.disposables=ye}}let Dt=class $i extends ye.Disposable{constructor(j,te){super(),this._editor=j,this._contextKeyService=te,this.allowEditorOverflow=!0,this._hoverVisibleKey=_t.EditorContextKeys.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new ve.HoverWidget),this._visibleData=null,this._register(this._editor.onDidLayoutChange((()=>this._layout()))),this._register(this._editor.onDidChangeConfiguration((j=>{j.hasChanged(44)&&this._updateFont()}))),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var j,te;return null!==(te=null===(j=this._visibleData)||void 0===j?void 0:j.showAtPosition)&&void 0!==te?te:null}get colorPicker(){var j,te;return null!==(te=null===(j=this._visibleData)||void 0===j?void 0:j.colorPicker)&&void 0!==te?te:null}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return $i.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let j=this._visibleData.preferAbove;return!j&&this._contextKeyService.getContextKeyValue(ht.Context.Visible.key)&&(j=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:j?[1,2]:[2,1]}}_setVisibleData(j){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=j,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const j=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:te,lineHeight:he}=this._editor.getOption(44);this._hover.contentsDomNode.style.fontSize=`${te}px`,this._hover.contentsDomNode.style.lineHeight=""+he/te,this._hover.contentsDomNode.style.maxHeight=`${j}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((j=>this._editor.applyFontInfo(j)))}showAt(j,te){this._setVisibleData(te),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(j),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this._editor.layoutContentWidget(this),this.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this.onContentsChanged(),te.stoleFocus&&this._hover.containerDomNode.focus(),te.colorPicker&&te.colorPicker.layout()}hide(){if(this._visibleData){const j=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),j&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged();const j=this._hover.scrollbar.getScrollDimensions();if(j.scrollWidth>j.width){const j=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==j&&(this._hover.contentsDomNode.style.paddingBottom=j,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};Dt.ID="editor.contrib.contentHoverWidget",Dt=Ci([Zi(1,rt.IContextKeyService)],Dt),te.ContentHoverWidget=Dt;let It=class extends ye.Disposable{constructor(j){super(),this._keybindingService=j,this._hasContent=!1,this.hoverElement=bt("div.hover-row.status-bar"),this.actionsElement=he.append(this.hoverElement,bt("div.actions"))}get hasContent(){return this._hasContent}addAction(j){const te=this._keybindingService.lookupKeybinding(j.commandId),he=te?te.getLabel():null;return this._hasContent=!0,this._register(ve.HoverAction.render(this.actionsElement,j,he))}append(j){const te=he.append(this.actionsElement,j);return this._hasContent=!0,te}};It=Ci([Zi(0,ct.IKeybindingService)],It);class M{constructor(j,te){this._editor=j,this._participants=te,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(j){this._anchor=j}get shouldFocus(){return this._shouldFocus}set shouldFocus(j){this._shouldFocus=j}static _getLineDecorations(j,te){if(1!==te.type)return[];const he=j.getModel(),ve=te.range.startLineNumber,Ce=he.getLineMaxColumn(ve);return j.getLineDecorations(ve).filter((j=>{if(j.options.isWholeLine)return!0;const he=j.range.startLineNumber===ve?j.range.startColumn:1,ye=j.range.endLineNumber===ve?j.range.endColumn:Ce;if(j.options.showIfCollapsed){if(he>te.range.startColumn+1||te.range.endColumn-1>ye)return!1}else if(he>te.range.startColumn||te.range.endColumn>ye)return!1;return!0}))}computeAsync(j){const te=this._anchor;if(!this._editor.hasModel()||!te)return pt.AsyncIterableObject.EMPTY;const he=M._getLineDecorations(this._editor,te);return pt.AsyncIterableObject.merge(this._participants.map((ve=>ve.computeAsync?ve.computeAsync(te,he,j):pt.AsyncIterableObject.EMPTY)))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const j=M._getLineDecorations(this._editor,this._anchor);let te=[];for(const he of this._participants)te=te.concat(he.computeSync(this._anchor,j));return(0,Ce.coalesce)(te)}}})),define(Ce[306],ie([1,0,55,2,15,3,24,35,298,748,624,545,16,9,51,23,14]),(function(j,te,he,ve,Ce,ye,Ee,Ie,Ne,Oe,Ke,je,Ze,Ye,et,nt,rt){Object.defineProperty(te,"__esModule",{value:!0}),te.ModesHoverController=void 0;let at=class Gi{constructor(j,te,he,Ce,ye){this._editor=j,this._instantiationService=te,this._openerService=he,this._languageService=Ce,this._toUnhook=new ve.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((j=>{j.hasChanged(53)&&(this._unhookEvents(),this._hookEvents())}))}static get(j){return j.getContribution(Gi.ID)}_hookEvents(){const u=()=>this._hideWidgets(),j=this._editor.getOption(53);this._isHoverEnabled=j.enabled,this._isHoverSticky=j.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((j=>this._onEditorMouseDown(j)))),this._toUnhook.add(this._editor.onMouseUp((j=>this._onEditorMouseUp(j)))),this._toUnhook.add(this._editor.onMouseMove((j=>this._onEditorMouseMove(j)))),this._toUnhook.add(this._editor.onKeyDown((j=>this._onKeyDown(j))))):(this._toUnhook.add(this._editor.onMouseMove((j=>this._onEditorMouseMove(j)))),this._toUnhook.add(this._editor.onKeyDown((j=>this._onKeyDown(j))))),this._toUnhook.add(this._editor.onMouseLeave(u)),this._toUnhook.add(this._editor.onDidChangeModel(u)),this._toUnhook.add(this._editor.onDidScrollChange((j=>this._onEditorScrollChanged(j))))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(j){(j.scrollTopChanged||j.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(j){this._isMouseDown=!0;const te=j.target;9!==te.type||te.detail!==Oe.ContentHoverWidget.ID?12===te.type&&te.detail===Ke.MarginHoverWidget.ID||(12!==te.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(j){this._isMouseDown=!1}_onEditorMouseMove(j){var te,he,ve,Ce,ye;const Ee=j.target;if(!(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&9===Ee.type&&Ee.detail===Oe.ContentHoverWidget.ID||this._isHoverSticky&&!(null===(he=null===(te=j.event.browserEvent.view)||void 0===te?void 0:te.getSelection())||void 0===he?void 0:he.isCollapsed)||!this._isHoverSticky&&9===Ee.type&&Ee.detail===Oe.ContentHoverWidget.ID&&(null===(ve=this._contentWidget)||void 0===ve?void 0:ve.isColorPickerVisible())||this._isHoverSticky&&12===Ee.type&&Ee.detail===Ke.MarginHoverWidget.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(j))return 2===Ee.type&&Ee.position?(null===(ye=this._contentWidget)||void 0===ye||ye.hide(),this._glyphWidget||(this._glyphWidget=new Ke.MarginHoverWidget(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(Ee.position.lineNumber)):void this._hideWidgets();null===(Ce=this._glyphWidget)||void 0===Ce||Ce.hide()}else this._hideWidgets()}_onKeyDown(j){5!==j.keyCode&&6!==j.keyCode&&57!==j.keyCode&&4!==j.keyCode&&this._hideWidgets()}_hideWidgets(){var j,te,he;this._isMouseDown&&this._hoverClicked&&(null===(j=this._contentWidget)||void 0===j?void 0:j.isColorPickerVisible())||(this._hoverClicked=!1,null===(te=this._glyphWidget)||void 0===te||te.hide(),null===(he=this._contentWidget)||void 0===he||he.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(Oe.ContentHoverController,this._editor)),this._contentWidget}isColorPickerVisible(){var j;return(null===(j=this._contentWidget)||void 0===j?void 0:j.isColorPickerVisible())||!1}showContentHover(j,te,he){this._getOrCreateContentWidget().startShowingAtRange(j,te,he)}dispose(){var j,te;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(j=this._glyphWidget)||void 0===j||j.dispose(),null===(te=this._contentWidget)||void 0===te||te.dispose()}};at.ID="editor.contrib.hover",at=Ci([Zi(1,Ye.IInstantiationService),Zi(2,et.IOpenerService),Zi(3,Ie.ILanguageService),Zi(4,Ze.IContextKeyService)],at),te.ModesHoverController=at;class o extends Ce.EditorAction{constructor(){super({id:"editor.action.showHover",label:je.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:Ee.EditorContextKeys.editorTextFocus,primary:(0,he.KeyChord)(2089,2087),weight:100}})}run(j,te){if(!te.hasModel())return;let he=at.get(te);if(!he)return;const ve=te.getPosition(),Ce=new ye.Range(ve.lineNumber,ve.column,ve.lineNumber,ve.column),Ee=2===te.getOption(2);he.showContentHover(Ce,1,Ee)}}class a extends Ce.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:je.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(j,te){const he=at.get(te);if(!he)return;const ve=te.getPosition();if(!ve)return;const Ce=new ye.Range(ve.lineNumber,ve.column,ve.lineNumber,ve.column),Ee=Ne.GotoDefinitionAtPositionEditorContribution.get(te);Ee&&Ee.startFindDefinitionFromCursor(ve).then((()=>{he.showContentHover(Ce,1,!0)}))}}(0,Ce.registerEditorContribution)(at.ID,at),(0,Ce.registerEditorAction)(o),(0,Ce.registerEditorAction)(a),(0,rt.registerThemingParticipant)(((j,te)=>{const he=j.getColor(nt.editorHoverHighlight);he&&te.addRule(`.monaco-editor .hoverHighlight { background-color: ${he}; }`);const ve=j.getColor(nt.editorHoverBackground);ve&&te.addRule(`.monaco-editor .monaco-hover { background-color: ${ve}; }`);const Ce=j.getColor(nt.editorHoverBorder);Ce&&(te.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${Ce}; }`),te.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${Ce.transparent(.5)}; }`),te.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${Ce.transparent(.5)}; }`),te.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${Ce.transparent(.5)}; }`));const ye=j.getColor(nt.textLinkForeground);ye&&te.addRule(`.monaco-editor .monaco-hover a { color: ${ye}; }`);const Ee=j.getColor(nt.textLinkActiveForeground);Ee&&te.addRule(`.monaco-editor .monaco-hover a:hover { color: ${Ee}; }`);const Ie=j.getColor(nt.editorHoverForeground);Ie&&te.addRule(`.monaco-editor .monaco-hover { color: ${Ie}; }`);const Ne=j.getColor(nt.editorHoverStatusBarBackground);Ne&&te.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${Ne}; }`);const Oe=j.getColor(nt.textCodeBlockBackground);Oe&&te.addRule(`.monaco-editor .monaco-hover code { background-color: ${Oe}; }`)}))})),define(Ce[749],ie([1,0,2,15,3,293,306]),(function(j,te,he,ve,Ce,ye,Ee){Object.defineProperty(te,"__esModule",{value:!0}),te.ColorContribution=void 0;class b extends he.Disposable{constructor(j){super(),this._editor=j,this._register(j.onMouseDown((j=>this.onMouseDown(j))))}dispose(){super.dispose()}onMouseDown(j){const te=j.target;if(6!==te.type||!te.detail.injectedText||te.detail.injectedText.options.attachedData!==ye.ColorDecorationInjectedTextMarker||!te.range)return;const he=this._editor.getContribution(Ee.ModesHoverController.ID);if(he&&!he.isColorPickerVisible()){const j=new Ce.Range(te.range.startLineNumber,te.range.startColumn+1,te.range.endLineNumber,te.range.endColumn+1);he.showContentHover(j,1,!1)}}}te.ColorContribution=b,b.ID="editor.contrib.colorContribution",(0,ve.registerEditorContribution)(b.ID,b)})),define(Ce[750],ie([1,0,160,161,292,235,660,706,661,707,662,673,709,749,663,664,665,710,294,716,669,670,614,305,208,298,296,306,719,299,718,720,721,722,723,724,694,674,675,210,304,676,289,302,677,726,727,295,728,70,140]),(function(j,te){Object.defineProperty(te,"__esModule",{value:!0})}));Xi=this&&this.__createBinding||(Object.create?function(j,te,he,ve){void 0===ve&&(ve=he),Object.defineProperty(j,ve,{enumerable:!0,get:function(){return te[he]}})}:function(j,te,he,ve){void 0===ve&&(ve=he),j[ve]=te[he]}),Qi=this&&this.__exportStar||function(j,te){for(var he in j)"default"!==he&&!Object.prototype.hasOwnProperty.call(te,he)&&Xi(te,j,he)};define(Ce[752],ie([1,0,740,750,678,679,680,628,682,683,681,735,684]),(function(j,te,he){Object.defineProperty(te,"__esModule",{value:!0}),Qi(he,te)}))}).call(this),
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution",["require","require","vs/editor/editor.api"],(j=>(()=>{var te,he=Object.create,ve=Object.defineProperty,Ce=Object.getOwnPropertyDescriptor,ye=Object.getOwnPropertyNames,Ee=Object.getPrototypeOf,Ie=Object.prototype.hasOwnProperty,Ne=(te=function(te){if(void 0!==j)return j.apply(this,arguments);throw new Error('Dynamic require of "'+te+'" is not supported')},void 0!==j?j:"undefined"!=typeof Proxy?new Proxy(te,{get:(te,he)=>(void 0!==j?j:te)[he]}):te),u=(j,te,he,Ee)=>{if(te&&"object"==typeof te||"function"==typeof te)for(let Ne of ye(te))!Ie.call(j,Ne)&&(he||"default"!==Ne)&&ve(j,Ne,{get:()=>te[Ne],enumerable:!(Ee=Ce(te,Ne))||Ee.enumerable});return j},p=(j,te)=>u((j=>ve(j,"__esModule",{value:!0}))(ve(null!=j?he(Ee(j)):{},"default",!te&&j&&j.__esModule?{get:()=>j.default,enumerable:!0}:{value:j,enumerable:!0})),j),Oe=((j,te)=>()=>(te||j((te={exports:{}}).exports,te),te.exports))(((j,te)=>{var he=p(Ne("vs/editor/editor.api"));te.exports=he})),Ke={};u(Ke,p(Oe()));var je={},Ze={},Ye=class{static getOrCreate(j){return Ze[j]||(Ze[j]=new Ye(j)),Ze[j]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(j){this._languageId=j,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(((j,te)=>{this._lazyLoadPromiseResolve=j,this._lazyLoadPromiseReject=te}))}load(){return this._loadingTriggered||(this._loadingTriggered=!0,je[this._languageId].loader().then((j=>this._lazyLoadPromiseResolve(j)),(j=>this._lazyLoadPromiseReject(j)))),this._lazyLoadPromise}};function i(j){let te=j.id;je[te]=j,Ke.languages.register(j);let he=Ye.getOrCreate(te);Ke.languages.registerTokensProviderFactory(te,{create:async()=>(await he.load()).language}),Ke.languages.onLanguage(te,(async()=>{let j=await he.load();Ke.languages.setLanguageConfiguration(te,j.conf)}))}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/abap/abap"],j,te)}))}),i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/apex/apex"],j,te)}))}),i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/azcli/azcli"],j,te)}))}),i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/bat/bat"],j,te)}))}),i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/bicep/bicep"],j,te)}))}),i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/cameligo/cameligo"],j,te)}))}),i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/clojure/clojure"],j,te)}))}),i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/coffee/coffee"],j,te)}))}),i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/cpp/cpp"],j,te)}))}),i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/cpp/cpp"],j,te)}))}),i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/csharp/csharp"],j,te)}))}),i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/csp/csp"],j,te)}))}),i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/css/css"],j,te)}))}),i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/dart/dart"],j,te)}))}),i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/dockerfile/dockerfile"],j,te)}))}),i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/ecl/ecl"],j,te)}))}),i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/elixir/elixir"],j,te)}))}),i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/flow9/flow9"],j,te)}))}),i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/fsharp/fsharp"],j,te)}))}),i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/freemarker2/freemarker2"],j,te)})).then((j=>j.TagAngleInterpolationDollar))}),i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/freemarker2/freemarker2"],j,te)})).then((j=>j.TagAngleInterpolationDollar))}),i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/freemarker2/freemarker2"],j,te)})).then((j=>j.TagBracketInterpolationDollar))}),i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/freemarker2/freemarker2"],j,te)})).then((j=>j.TagAngleInterpolationBracket))}),i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/freemarker2/freemarker2"],j,te)})).then((j=>j.TagBracketInterpolationBracket))}),i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/freemarker2/freemarker2"],j,te)})).then((j=>j.TagAutoInterpolationDollar))}),i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/freemarker2/freemarker2"],j,te)})).then((j=>j.TagAutoInterpolationBracket))}),i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/go/go"],j,te)}))}),i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/graphql/graphql"],j,te)}))}),i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/handlebars/handlebars"],j,te)}))}),i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/hcl/hcl"],j,te)}))}),i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/html/html"],j,te)}))}),i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/ini/ini"],j,te)}))}),i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/java/java"],j,te)}))}),i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/javascript/javascript"],j,te)}))}),i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/julia/julia"],j,te)}))}),i({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/kotlin/kotlin"],j,te)}))}),i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/less/less"],j,te)}))}),i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/lexon/lexon"],j,te)}))}),i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/lua/lua"],j,te)}))}),i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/liquid/liquid"],j,te)}))}),i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/m3/m3"],j,te)}))}),i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/markdown/markdown"],j,te)}))}),i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/mips/mips"],j,te)}))}),i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/msdax/msdax"],j,te)}))}),i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/mysql/mysql"],j,te)}))}),i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/objective-c/objective-c"],j,te)}))}),i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/pascal/pascal"],j,te)}))}),i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/pascaligo/pascaligo"],j,te)}))}),i({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/perl/perl"],j,te)}))}),i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/pgsql/pgsql"],j,te)}))}),i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/php/php"],j,te)}))}),i({id:"pla",extensions:[".pla"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/pla/pla"],j,te)}))}),i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/postiats/postiats"],j,te)}))}),i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/powerquery/powerquery"],j,te)}))}),i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/powershell/powershell"],j,te)}))}),i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/protobuf/protobuf"],j,te)}))}),i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/pug/pug"],j,te)}))}),i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/python/python"],j,te)}))}),i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/qsharp/qsharp"],j,te)}))}),i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/r/r"],j,te)}))}),i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/razor/razor"],j,te)}))}),i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/redis/redis"],j,te)}))}),i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/redshift/redshift"],j,te)}))}),i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/restructuredtext/restructuredtext"],j,te)}))}),i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/ruby/ruby"],j,te)}))}),i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/rust/rust"],j,te)}))}),i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/sb/sb"],j,te)}))}),i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/scala/scala"],j,te)}))}),i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/scheme/scheme"],j,te)}))}),i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/scss/scss"],j,te)}))}),i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/shell/shell"],j,te)}))}),i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/solidity/solidity"],j,te)}))}),i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/sophia/sophia"],j,te)}))}),i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/sparql/sparql"],j,te)}))}),i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/sql/sql"],j,te)}))}),i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/st/st"],j,te)}))}),i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/swift/swift"],j,te)}))}),i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/systemverilog/systemverilog"],j,te)}))}),i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/systemverilog/systemverilog"],j,te)}))}),i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/tcl/tcl"],j,te)}))}),i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/twig/twig"],j,te)}))}),i({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/typescript/typescript"],j,te)}))}),i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/vb/vb"],j,te)}))}),i({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/xml/xml"],j,te)}))}),i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise(((j,te)=>{Ne(["vs/basic-languages/yaml/yaml"],j,te)}))})})())),
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution",["require","require","vs/editor/editor.api"],(j=>(()=>{var te,he=Object.create,ve=Object.defineProperty,Ce=Object.getOwnPropertyDescriptor,ye=Object.getOwnPropertyNames,Ee=Object.getPrototypeOf,Ie=Object.prototype.hasOwnProperty,m=j=>ve(j,"__esModule",{value:!0}),Ne=(te=function(te){if(void 0!==j)return j.apply(this,arguments);throw new Error('Dynamic require of "'+te+'" is not supported')},void 0!==j?j:"undefined"!=typeof Proxy?new Proxy(te,{get:(te,he)=>(void 0!==j?j:te)[he]}):te),s=(j,te,he,Ee)=>{if(te&&"object"==typeof te||"function"==typeof te)for(let Ne of ye(te))!Ie.call(j,Ne)&&(he||"default"!==Ne)&&ve(j,Ne,{get:()=>te[Ne],enumerable:!(Ee=Ce(te,Ne))||Ee.enumerable});return j},D=(j,te)=>s(m(ve(null!=j?he(Ee(j)):{},"default",!te&&j&&j.__esModule?{get:()=>j.default,enumerable:!0}:{value:j,enumerable:!0})),j),Oe=(j=>(te,he)=>j&&j.get(te)||(he=s(m({}),te,1),j&&j.set(te,he),he))("undefined"!=typeof WeakMap?new WeakMap:0),Ke=((j,te)=>()=>(te||j((te={exports:{}}).exports,te),te.exports))(((j,te)=>{var he=D(Ne("vs/editor/editor.api"));te.exports=he})),je={};((j,te)=>{for(var he in te)ve(j,he,{get:te[he],enumerable:!0})})(je,{cssDefaults:()=>rt,lessDefaults:()=>ct,scssDefaults:()=>at});var Ze={};s(Ze,D(Ke()));var Ye=class{_onDidChange=new Ze.Emitter;_options;_modeConfiguration;_languageId;constructor(j,te,he){this._languageId=j,this.setOptions(te),this.setModeConfiguration(he)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(j){this._options=j||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(j){this.setOptions(j)}setModeConfiguration(j){this._modeConfiguration=j||Object.create(null),this._onDidChange.fire(this)}},et={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},nt={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},rt=new Ye("css",et,nt),at=new Ye("scss",et,nt),ct=new Ye("less",et,nt);function y(){return new Promise(((j,te)=>{Ne(["vs/language/css/cssMode"],j,te)}))}return Ze.languages.css={cssDefaults:rt,lessDefaults:ct,scssDefaults:at},Ze.languages.onLanguage("less",(()=>{y().then((j=>j.setupMode(ct)))})),Ze.languages.onLanguage("scss",(()=>{y().then((j=>j.setupMode(at)))})),Ze.languages.onLanguage("css",(()=>{y().then((j=>j.setupMode(rt)))})),Oe(je)})())),
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution",["require","require","vs/editor/editor.api"],(j=>(()=>{var te,he=Object.create,ve=Object.defineProperty,Ce=Object.getOwnPropertyDescriptor,ye=Object.getOwnPropertyNames,Ee=Object.getPrototypeOf,Ie=Object.prototype.hasOwnProperty,y=j=>ve(j,"__esModule",{value:!0}),Ne=(te=function(te){if(void 0!==j)return j.apply(this,arguments);throw new Error('Dynamic require of "'+te+'" is not supported')},void 0!==j?j:"undefined"!=typeof Proxy?new Proxy(te,{get:(te,he)=>(void 0!==j?j:te)[he]}):te),l=(j,te,he,Ee)=>{if(te&&"object"==typeof te||"function"==typeof te)for(let Ne of ye(te))!Ie.call(j,Ne)&&(he||"default"!==Ne)&&ve(j,Ne,{get:()=>te[Ne],enumerable:!(Ee=Ce(te,Ne))||Ee.enumerable});return j},b=(j,te)=>l(y(ve(null!=j?he(Ee(j)):{},"default",!te&&j&&j.__esModule?{get:()=>j.default,enumerable:!0}:{value:j,enumerable:!0})),j),Oe=(j=>(te,he)=>j&&j.get(te)||(he=l(y({}),te,1),j&&j.set(te,he),he))("undefined"!=typeof WeakMap?new WeakMap:0),Ke=((j,te)=>()=>(te||j((te={exports:{}}).exports,te),te.exports))(((j,te)=>{var he=b(Ne("vs/editor/editor.api"));te.exports=he})),je={};((j,te)=>{for(var he in te)ve(j,he,{get:te[he],enumerable:!0})})(je,{handlebarDefaults:()=>pt,handlebarLanguageService:()=>mt,htmlDefaults:()=>ht,htmlLanguageService:()=>ct,razorDefaults:()=>_t,razorLanguageService:()=>ft,registerHTMLLanguageService:()=>s});var Ze={};l(Ze,b(Ke()));var Ye=class{_onDidChange=new Ze.Emitter;_options;_modeConfiguration;_languageId;constructor(j,te,he){this._languageId=j,this.setOptions(te),this.setModeConfiguration(he)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(j){this._options=j||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(j){this._modeConfiguration=j||Object.create(null),this._onDidChange.fire(this)}},et={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function g(j){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:j===nt,documentFormattingEdits:j===nt,documentRangeFormattingEdits:j===nt}}var nt="html",rt="handlebars",at="razor",ct=s(nt,et,g(nt)),ht=ct.defaults,mt=s(rt,et,g(rt)),pt=mt.defaults,ft=s(at,et,g(at)),_t=ft.defaults;function s(j,te=et,he=g(j)){let ve,Ce=new Ye(j,te,he),ye=Ze.languages.onLanguage(j,(async()=>{ve=(await function P(){return new Promise(((j,te)=>{Ne(["vs/language/html/htmlMode"],j,te)}))}()).setupMode(Ce)}));return{defaults:Ce,dispose(){ye.dispose(),ve?.dispose(),ve=void 0}}}return Ze.languages.html={htmlDefaults:ht,razorDefaults:_t,handlebarDefaults:pt,htmlLanguageService:ct,handlebarLanguageService:mt,razorLanguageService:ft,registerHTMLLanguageService:s},Oe(je)})())),
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution",["require","require","vs/editor/editor.api"],(j=>(()=>{var te,he=Object.create,ve=Object.defineProperty,Ce=Object.getOwnPropertyDescriptor,ye=Object.getOwnPropertyNames,Ee=Object.getPrototypeOf,Ie=Object.prototype.hasOwnProperty,d=j=>ve(j,"__esModule",{value:!0}),Ne=(te=function(te){if(void 0!==j)return j.apply(this,arguments);throw new Error('Dynamic require of "'+te+'" is not supported')},void 0!==j?j:"undefined"!=typeof Proxy?new Proxy(te,{get:(te,he)=>(void 0!==j?j:te)[he]}):te),r=(j,te,he,Ee)=>{if(te&&"object"==typeof te||"function"==typeof te)for(let Ne of ye(te))!Ie.call(j,Ne)&&(he||"default"!==Ne)&&ve(j,Ne,{get:()=>te[Ne],enumerable:!(Ee=Ce(te,Ne))||Ee.enumerable});return j},u=(j,te)=>r(d(ve(null!=j?he(Ee(j)):{},"default",!te&&j&&j.__esModule?{get:()=>j.default,enumerable:!0}:{value:j,enumerable:!0})),j),Oe=(j=>(te,he)=>j&&j.get(te)||(he=r(d({}),te,1),j&&j.set(te,he),he))("undefined"!=typeof WeakMap?new WeakMap:0),Ke=((j,te)=>()=>(te||j((te={exports:{}}).exports,te),te.exports))(((j,te)=>{var he=u(Ne("vs/editor/editor.api"));te.exports=he})),je={};((j,te)=>{for(var he in te)ve(j,he,{get:te[he],enumerable:!0})})(je,{jsonDefaults:()=>Ye});var Ze={};r(Ze,u(Ke()));var Ye=new class{_onDidChange=new Ze.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(j,te,he){this._languageId=j,this.setDiagnosticsOptions(te),this.setModeConfiguration(he)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(j){this._diagnosticsOptions=j||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(j){this._modeConfiguration=j||Object.create(null),this._onDidChange.fire(this)}}("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});return Ze.languages.json={jsonDefaults:Ye},Ze.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),Ze.languages.onLanguage("json",(()=>{(function _(){return new Promise(((j,te)=>{Ne(["vs/language/json/jsonMode"],j,te)}))})().then((j=>j.setupMode(Ye)))})),Oe(je)})())),
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.32.1(29a273516805a852aa8edc5e05059f119b13eff0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution",["require","require","vs/editor/editor.api"],(j=>(()=>{var te,he=Object.create,ve=Object.defineProperty,Ce=Object.getOwnPropertyDescriptor,ye=Object.getOwnPropertyNames,Ee=Object.getPrototypeOf,Ie=Object.prototype.hasOwnProperty,D=j=>ve(j,"__esModule",{value:!0}),Ne=(te=function(te){if(void 0!==j)return j.apply(this,arguments);throw new Error('Dynamic require of "'+te+'" is not supported')},void 0!==j?j:"undefined"!=typeof Proxy?new Proxy(te,{get:(te,he)=>(void 0!==j?j:te)[he]}):te),g=(j,te,he,Ee)=>{if(te&&"object"==typeof te||"function"==typeof te)for(let Ne of ye(te))!Ie.call(j,Ne)&&(he||"default"!==Ne)&&ve(j,Ne,{get:()=>te[Ne],enumerable:!(Ee=Ce(te,Ne))||Ee.enumerable});return j},L=(j,te)=>g(D(ve(null!=j?he(Ee(j)):{},"default",!te&&j&&j.__esModule?{get:()=>j.default,enumerable:!0}:{value:j,enumerable:!0})),j),Oe=(j=>(te,he)=>j&&j.get(te)||(he=g(D({}),te,1),j&&j.set(te,he),he))("undefined"!=typeof WeakMap?new WeakMap:0),Ke=((j,te)=>()=>(te||j((te={exports:{}}).exports,te),te.exports))(((j,te)=>{var he=L(Ne("vs/editor/editor.api"));te.exports=he})),je={};((j,te)=>{for(var he in te)ve(j,he,{get:te[he],enumerable:!0})})(je,{JsxEmit:()=>ct,ModuleKind:()=>at,ModuleResolutionKind:()=>pt,NewLineKind:()=>ht,ScriptTarget:()=>mt,getJavaScriptWorker:()=>S,getTypeScriptWorker:()=>P,javascriptDefaults:()=>bt,typescriptDefaults:()=>Ct,typescriptVersion:()=>_t});var Ze={};g(Ze,L(Ke()));var Ye,et,nt,rt,at=((rt=at||{})[rt.None=0]="None",rt[rt.CommonJS=1]="CommonJS",rt[rt.AMD=2]="AMD",rt[rt.UMD=3]="UMD",rt[rt.System=4]="System",rt[rt.ES2015=5]="ES2015",rt[rt.ESNext=99]="ESNext",rt),ct=((nt=ct||{})[nt.None=0]="None",nt[nt.Preserve=1]="Preserve",nt[nt.React=2]="React",nt[nt.ReactNative=3]="ReactNative",nt[nt.ReactJSX=4]="ReactJSX",nt[nt.ReactJSXDev=5]="ReactJSXDev",nt),ht=((et=ht||{})[et.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",et[et.LineFeed=1]="LineFeed",et),mt=((Ye=mt||{})[Ye.ES3=0]="ES3",Ye[Ye.ES5=1]="ES5",Ye[Ye.ES2015=2]="ES2015",Ye[Ye.ES2016=3]="ES2016",Ye[Ye.ES2017=4]="ES2017",Ye[Ye.ES2018=5]="ES2018",Ye[Ye.ES2019=6]="ES2019",Ye[Ye.ES2020=7]="ES2020",Ye[Ye.ESNext=99]="ESNext",Ye[Ye.JSON=100]="JSON",Ye[Ye.Latest=99]="Latest",Ye),pt=(j=>(j[j.Classic=1]="Classic",j[j.NodeJs=2]="NodeJs",j))(pt||{}),ft=class{_onDidChange=new Ze.Emitter;_onDidExtraLibsChange=new Ze.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;constructor(j,te,he,ve){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(j),this.setDiagnosticsOptions(te),this.setWorkerOptions(he),this.setInlayHintsOptions(ve),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(j,te){let he;if(he=typeof te>"u"?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:te,this._extraLibs[he]&&this._extraLibs[he].content===j)return{dispose:()=>{}};let ve=1;return this._removedExtraLibs[he]&&(ve=this._removedExtraLibs[he]+1),this._extraLibs[he]&&(ve=this._extraLibs[he].version+1),this._extraLibs[he]={content:j,version:ve},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let j=this._extraLibs[he];!j||j.version===ve&&(delete this._extraLibs[he],this._removedExtraLibs[he]=ve,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(j){for(let j in this._extraLibs)this._removedExtraLibs[j]=this._extraLibs[j].version;if(this._extraLibs=Object.create(null),j&&j.length>0)for(let te of j){let j=te.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,he=te.content,ve=1;this._removedExtraLibs[j]&&(ve=this._removedExtraLibs[j]+1),this._extraLibs[j]={content:he,version:ve}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout((()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)}),0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(j){this._compilerOptions=j||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(j){this._diagnosticsOptions=j||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(j){this._workerOptions=j||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(j){this._inlayHintsOptions=j||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(j){}setEagerModelSync(j){this._eagerModelSync=j}getEagerModelSync(){return this._eagerModelSync}},_t="4.5.5",Ct=new ft({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),bt=new ft({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),P=()=>c().then((j=>j.getTypeScriptWorker())),S=()=>c().then((j=>j.getJavaScriptWorker()));function c(){return new Promise(((j,te)=>{Ne(["vs/language/typescript/tsMode"],j,te)}))}return Ze.languages.typescript={ModuleKind:at,JsxEmit:ct,NewLineKind:ht,ScriptTarget:mt,ModuleResolutionKind:pt,typescriptVersion:_t,typescriptDefaults:Ct,javascriptDefaults:bt,getTypeScriptWorker:P,getJavaScriptWorker:S},Ze.languages.onLanguage("typescript",(()=>c().then((j=>j.setupTypeScript(Ct))))),Ze.languages.onLanguage("javascript",(()=>c().then((j=>j.setupJavaScript(bt))))),Oe(je)})())),define("vs/editor/editor.main",["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"],(function(j){return j}));