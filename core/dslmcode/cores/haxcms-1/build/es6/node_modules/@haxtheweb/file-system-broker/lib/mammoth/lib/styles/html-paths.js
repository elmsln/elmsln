var e=require("underscore"),t=require("../html");function elements(t){return new HtmlPath(t.map((function(t){return e.isString(t)?element(t):t})))}function HtmlPath(e){this._elements=e}function element(e,t,n){return new Element(e,t,n=n||{})}function Element(t,n,r){var s={};e.isArray(t)?(t.forEach((function(e){s[e]=!0})),t=t[0]):s[t]=!0,this.tagName=t,this.tagNames=s,this.attributes=n||{},this.fresh=r.fresh,this.separator=r.separator}exports.topLevelElement=function topLevelElement(e,t){return elements([element(e,t,{fresh:!0})])},exports.elements=elements,exports.element=element,HtmlPath.prototype.wrap=function wrap(e){for(var t=e(),n=this._elements.length-1;n>=0;n--)t=this._elements[n].wrapNodes(t);return t},Element.prototype.matchesElement=function(t){return this.tagNames[t.tagName]&&e.isEqual(this.attributes||{},t.attributes||{})},Element.prototype.wrap=function wrap(e){return this.wrapNodes(e())},Element.prototype.wrapNodes=function wrapNodes(e){return[t.elementWithTag(this,e)]},exports.empty=elements([]),exports.ignore={wrap:function(){return[]}};