/**
 * Copyright 2024
 * @license Apache-2.0, see License.md for full details.
 */
import{LitElement as e}from"../../lit/index.js";import{SimpleColorsSuper as t}from"../simple-colors/simple-colors.js";import{DDDReset as s,DDDAllStyles as l,DDDFonts as o,DDDPulseEffect as r,DDDAnimations as a}from"./lib/DDDStyles.js";export function loadDDDFonts(){globalThis&&globalThis.document&&!globalThis.document.querySelector('[data-ddd="font"]')&&o.forEach((e=>{const t=globalThis.document.createElement("link");t.setAttribute("href",e),t.setAttribute("rel","stylesheet"),t.setAttribute("fetchpriority","low"),t.setAttribute("data-ddd","font"),globalThis.document.head.appendChild(t)}))}export function dddCSSFeatureDetection(){CSS.supports("initial-letter","1")||(console.warn("CSS feature: initial-letter not supported"),console.warn("Adding dropCap-noSupport class"),globalThis.document.body.classList.add("dropCap-noSupport"))}export const DDDPulseEffectSuper=function(e){return class extends e{constructor(){super(),this.dataPulse=null,this.__abortController=new AbortController}static get properties(){return{...super.properties,dataPulse:{type:String,reflect:!0,attribute:"data-pulse"}}}static get styles(){let e=[];return super.styles&&(e=super.styles),[e,r,a]}removePulseEffect(e){this.dataPulse=null}togglePulseEffect(e){e?(this.__abortController=new AbortController,this.addEventListener("mouseenter",this.removePulseEffect,{signal:this.__abortController.signal})):(this.removeEventListener("mouseenter",this.removePulseEffect),this.__abortController.abort())}updated(e){super.updated&&super.updated(e),e.has("dataPulse")&&(null!==this.dataPulse?this.togglePulseEffect(!0):this.togglePulseEffect(!1))}}};export const DDDSuper=function(e){return class extends e{constructor(){super(),this.isSafari=void 0!==globalThis.safari,globalThis.DDDSharedStyles.requestAvailability()}static get properties(){return{...super.properties,isSafari:{type:Boolean,reflect:!0,attribute:"is-safari"}}}static get styles(){let e=[];return super.styles&&(e=super.styles),[e,s]}}};class DDD extends(DDDSuper(t(e))){constructor(){super()}static get tag(){return"d-d-d"}}globalThis.customElements.define(DDD.tag,DDD);export{DDD};globalThis.DDDSharedStyles=globalThis.DDDSharedStyles||{},globalThis.DDDSharedStyles.requestAvailability=()=>{if(null==globalThis.DDDSharedStyles.instance&&globalThis.document&&globalThis.document.head){let e=l.map((e=>e.cssText?e.cssText:"")).join("");try{const t=new CSSStyleSheet;t.replaceSync(e),t.hax=!0,globalThis.document.adoptedStyleSheets=[...globalThis.document.adoptedStyleSheets,t],loadDDDFonts(),globalThis.document.onload=dddCSSFeatureDetection(),globalThis.DDDSharedStyles.instance=t}catch(t){const s=globalThis.document.createElement("style");s.innerHTML=e,globalThis.document.head.appendChild(s),loadDDDFonts(),globalThis.document.onload=dddCSSFeatureDetection(),globalThis.DDDSharedStyles.instance=s}}return globalThis.DDDSharedStyles.instance};export const DDDSharedStylesGlobal=globalThis.DDDSharedStyles.requestAvailability();export{o as DDDFonts};