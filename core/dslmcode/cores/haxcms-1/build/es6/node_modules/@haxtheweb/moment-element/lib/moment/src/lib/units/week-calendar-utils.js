import{daysInYear as e}from"./year.js";import{createLocal as r}from"../create/local.js";import{createUTCDate as a}from"../create/date-from-array.js";function firstWeekOffset(e,r,t){var f=7+r-t;return-((7+a(e,0,f).getUTCDay()-r)%7)+f-1}export function dayOfYearFromWeeks(r,a,t,f,o){var s,n,y=1+7*(a-1)+(7+t-f)%7+firstWeekOffset(r,f,o);return y<=0?n=e(s=r-1)+y:y>e(r)?(s=r+1,n=y-e(r)):(s=r,n=y),{year:s,dayOfYear:n}}export function weekOfYear(e,r,a){var t,f,o=firstWeekOffset(e.year(),r,a),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?t=s+weeksInYear(f=e.year()-1,r,a):s>weeksInYear(e.year(),r,a)?(t=s-weeksInYear(e.year(),r,a),f=e.year()+1):(f=e.year(),t=s),{week:t,year:f}}export function weeksInYear(r,a,t){var f=firstWeekOffset(r,a,t),o=firstWeekOffset(r+1,a,t);return(e(r)-f+o)/7}