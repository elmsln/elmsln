import{autorun as e,toJS as t}from"../../../../mobx/dist/mobx.esm.js";import{store as d}from"./haxcms-site-store.js";import{WiredDarkmodeToggle as o}from"./ui/wired-darkmode-toggle/wired-darkmode-toggle.js";export class HAXCMSDarkmodeToggle extends o{constructor(){super(),e((()=>{this.checked=t(d.darkMode),globalThis.matchMedia("(prefers-color-scheme: dark)").matches?this.disabled=!0:this.disabled=!1}))}static get tag(){return"haxcms-darkmode-toggle"}toggle(){this.checked=!this.checked}updated(e){super.updated&&super.updated(e),e.forEach(((e,t)=>{"checked"===t&&void 0!==e&&requestAnimationFrame((()=>{d.darkMode=this[t],d.playSound("click"),this[t]?d.toast("I'm ascared of the dark",2e3,{fire:!0}):d.toast("Sunny day it is",2e3,{hat:"random"})}))}))}}globalThis.customElements.define(HAXCMSDarkmodeToggle.tag,HAXCMSDarkmodeToggle);