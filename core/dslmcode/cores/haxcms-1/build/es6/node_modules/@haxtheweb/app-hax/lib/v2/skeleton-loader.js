export class SkeletonLoader{static loadSkeleton(e,t={}){if(!this.isValidSkeleton(e))throw new Error("Invalid skeleton format");return{...{dataType:"skeleton",useCaseTitle:e.meta.useCaseTitle||e.meta.name,useCaseDescription:e.meta.useCaseDescription||e.meta.description,useCaseImage:e.meta.useCaseImage||t.defaultImage||"",useCaseIcon:t.defaultIcons||[{icon:"hax:site",tooltip:"Site Template"}],useCaseTag:this.extractTags(e),demoLink:e.meta.sourceUrl||"#",originalData:e,isSelected:!1,showContinue:!1},createSiteData:{site:e.site,build:e.build,theme:e.theme}}}static extractTags(e){const t=[];return e.meta.category&&Array.isArray(e.meta.category)&&t.push(...e.meta.category),e.meta.tags&&Array.isArray(e.meta.tags)&&t.push(...e.meta.tags),e.build&&e.build.type&&t.push(e.build.type),e.site&&e.site.theme&&t.push(`theme-${e.site.theme}`),[...new Set(t.filter((e=>e&&""!==e.trim())))]}static isValidSkeleton(e){return!(!e||"object"!=typeof e)&&(!(!e.meta||"skeleton"!==e.meta.type)&&(!(!e.site||!e.build)&&(!(!e.site.name||!e.site.theme)&&!(!e.build.items||!Array.isArray(e.build.items)))))}static loadSkeletons(e,t={}){if(!Array.isArray(e))throw new Error("Expected array of skeletons");return e.map(((e,a)=>{try{return this.loadSkeleton(e,{...t,index:a})}catch(e){return console.warn(`Failed to load skeleton at index ${a}:`,e),null}})).filter(Boolean)}static applyCustomizations(e,t={}){const a=JSON.parse(JSON.stringify(e.createSiteData));return t.siteName&&(a.site.name=t.siteName),t.siteDescription&&(a.site.description=t.siteDescription),t.theme&&(a.site.theme=t.theme),t.color&&(a.theme.color=t.color),t.icon&&(a.theme.icon=t.icon),t.themeSettings&&Object.assign(a.theme,t.themeSettings),a}static generateSkeletonMetadata(e){return{name:e.meta.name,title:e.meta.useCaseTitle||e.meta.name,description:e.meta.useCaseDescription||e.meta.description,type:e.build.type||"skeleton",theme:e.site.theme,itemCount:e.build.items?e.build.items.length:0,fileCount:e.build.files?e.build.files.length:0,created:e.meta.created,tags:this.extractTags(e),sourceUrl:e.meta.sourceUrl||null}}}export default SkeletonLoader;