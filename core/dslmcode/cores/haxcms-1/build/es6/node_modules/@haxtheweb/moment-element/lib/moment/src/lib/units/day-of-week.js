import{addFormatToken as e}from"../format/format.js";import{addUnitAlias as s}from"./aliases.js";import{addUnitPriority as t}from"./priorities.js";import{addRegexToken as a,match1to2 as i,matchWord as r,regexEscape as d}from"../parse/regex.js";import{addWeekParseToken as h}from"../parse/token.js";import n from"../utils/to-int.js";import y from"../utils/is-array.js";import o from"../utils/index-of.js";import k from"../utils/has-own-prop.js";import{createUTC as l}from"../create/utc.js";import _ from"../create/parsing-flags.js";e("d",0,"do","day"),e("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),e("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),e("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),e("e",0,0,"weekday"),e("E",0,0,"isoWeekday"),s("day","d"),s("weekday","e"),s("isoWeekday","E"),t("day",11),t("weekday",11),t("isoWeekday",11),a("d",i),a("e",i),a("E",i),a("dd",(function(e,s){return s.weekdaysMinRegex(e)})),a("ddd",(function(e,s){return s.weekdaysShortRegex(e)})),a("dddd",(function(e,s){return s.weekdaysRegex(e)})),h(["dd","ddd","dddd"],(function(e,s,t,a){var i=t._locale.weekdaysParse(e,a,t._strict);null!=i?s.d=i:_(t).invalidWeekday=e})),h(["d","e","E"],(function(e,s,t,a){s[a]=n(e)}));export var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");export function localeWeekdays(e,s){return e?y(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(s)?"format":"standalone"][e.day()]:y(this._weekdays)?this._weekdays:this._weekdays.standalone}export var defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");export function localeWeekdaysShort(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}export var defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");export function localeWeekdaysMin(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function handleStrictParse(e,s,t){var a,i,r,d=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)r=l([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(r,"").toLocaleLowerCase();return t?"dddd"===s?-1!==(i=o.call(this._weekdaysParse,d))?i:null:"ddd"===s?-1!==(i=o.call(this._shortWeekdaysParse,d))?i:null:-1!==(i=o.call(this._minWeekdaysParse,d))?i:null:"dddd"===s?-1!==(i=o.call(this._weekdaysParse,d))||-1!==(i=o.call(this._shortWeekdaysParse,d))||-1!==(i=o.call(this._minWeekdaysParse,d))?i:null:"ddd"===s?-1!==(i=o.call(this._shortWeekdaysParse,d))||-1!==(i=o.call(this._weekdaysParse,d))||-1!==(i=o.call(this._minWeekdaysParse,d))?i:null:-1!==(i=o.call(this._minWeekdaysParse,d))||-1!==(i=o.call(this._weekdaysParse,d))||-1!==(i=o.call(this._shortWeekdaysParse,d))?i:null}export function localeWeekdaysParse(e,s,t){var a,i,r;if(this._weekdaysParseExact)return handleStrictParse.call(this,e,s,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(i=l([2e3,1]).day(a),t&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[a]=new RegExp(r.replace(".",""),"i")),t&&"dddd"===s&&this._fullWeekdaysParse[a].test(e))return a;if(t&&"ddd"===s&&this._shortWeekdaysParse[a].test(e))return a;if(t&&"dd"===s&&this._minWeekdaysParse[a].test(e))return a;if(!t&&this._weekdaysParse[a].test(e))return a}}export function getSetDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function parseWeekday(e,s){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=s.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-s,"d")):s}export function getSetLocaleDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var s=(this.day()+7-this.localeData()._week.dow)%7;return null==e?s:this.add(e-s,"d")}export function getSetISODayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var s=function parseIsoWeekday(e,s){return"string"==typeof e?s.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?s:s-7)}return this.day()||7}var w=r;export function weekdaysRegex(e){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(k(this,"_weekdaysRegex")||(this._weekdaysRegex=w),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}var u=r;export function weekdaysShortRegex(e){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(k(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=u),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var c=r;export function weekdaysMinRegex(e){return this._weekdaysParseExact?(k(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(k(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=c),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function cmpLenRev(e,s){return s.length-e.length}var e,s,t,a,i,r=[],h=[],n=[],y=[];for(e=0;e<7;e++)s=l([2e3,1]).day(e),t=this.weekdaysMin(s,""),a=this.weekdaysShort(s,""),i=this.weekdays(s,""),r.push(t),h.push(a),n.push(i),y.push(t),y.push(a),y.push(i);for(r.sort(cmpLenRev),h.sort(cmpLenRev),n.sort(cmpLenRev),y.sort(cmpLenRev),e=0;e<7;e++)h[e]=d(h[e]),n[e]=d(n[e]),y[e]=d(y[e]);this._weekdaysRegex=new RegExp("^("+y.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}