/**
 * Copyright 2024 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
import{ChatAgentModalStore as e}from"../chat-agent.js";import{DDD as t}from"../../d-d-d/d-d-d.js";import{html as o,css as i}from"../../../lit/index.js";import{autorun as n,toJS as l}from"../../../mobx/dist/mobx.esm.js";class ChatControlBar extends t{static get tag(){return"chat-control-bar"}constructor(){super(),this.isFullView=null,this.isInterfaceHidden=null,n((()=>{this.isFullView=l(e.isFullView),this.isInterfaceHidden=l(e.isInterfaceHidden)}))}static get styles(){return[super.styles,i`
        /* https://oer.hax.psu.edu/bto108/sites/haxcellence/documentation/ddd */
        
        :host {
          display: block;
        }

        .chat-control-bar-wrapper {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: var(--ddd-spacing-2) var(--ddd-spacing-0);
        }
      `]}render(){return o`
      <!-- https://haxapi.vercel.app/?path=/story/media-icons--hax-iconset-story -->
      
      <div class="chat-control-bar-wrapper">
        <div class="left-side">
          <!-- https://stackoverflow.com/questions/72654466/how-do-i-make-a-button-that-will-download-a-file -->
          <button id="download-button" @click=${this.handleDownloadLogButton}>
            <simple-icon-lite icon="icons:file-download"></simple-icon-lite>
          </button>
          <button id="reset-button" @click=${this.handleResetButton}>
            <simple-icon-lite icon="icons:refresh"></simple-icon-lite>
          </button>
        </div>
        <div class="right-side">
          <button id="view-button" @click=${this.handleViewButton}>
            <simple-icon-lite icon="${this.isFullView?"icons:fullscreen-exit":"icons:fullscreen"}"></simple-icon-lite>
          </button>
          <button id="hide-button" @click=${this.handleHideButton}>
            <simple-icon-lite icon="lrn:arrow-right"></simple-icon-lite>
          </button>
        </div>
      </div>
    `}handleDownloadLogButton(){e.developerModeEnabled&&console.info("HAX-DEV-MODE: Download log button pressed."),this.downloadChatLog()}handleResetButton(){e.developerModeEnabled&&console.info("HAX-DEV-MODE: Reset button pressed."),confirm("Download the chat log before you reset?")?(e.developerModeEnabled&&console.info("HAX-DEV-MODE: Download chat log before reset confirmed."),this.downloadChatLog()):e.developerModeEnabled&&console.info("HAX-DEV-MODE: Download chat log before reset denied."),this.resetChat()}handleViewButton(){e.developerModeEnabled&&console.info("HAX-DEV-MODE: View switch button pressed."),e.isFullView=!this.isFullView,this.requestUpdate(),e.developerModeEnabled&&console.info("HAX-DEV-MODE: View switched to: "+(e.isFullView?"full":"standard"))}handleHideButton(){e.developerModeEnabled&&console.info("HAX-DEV-MODE: Hide button pressed."),this.isInterfaceHidden||(e.isInterfaceHidden=!0)}downloadChatLog(){e.developerModeEnabled&&console.info("HAX-DEV-MODE: Downloading chat log..."),e.handleDownload("txt")}resetChat(){e.developerModeEnabled&&console.info("HAX-DEV-MODE: Resetting chat..."),e.chatLog=[],e.merlinIndex=0,e.messageIndex=0,e.userIndex=0,e.loadAI()}static get properties(){return{...super.properties}}static get haxProperties(){return new URL(`./lib/${this.tag}.haxProperties.json`,import.meta.url).href}}globalThis.customElements.define(ChatControlBar.tag,ChatControlBar);export{ChatControlBar};