import i from"../utils/abs-floor.js";var s=Math.abs;function sign(i){return(i>0)-(i<0)||+i}export function toISOString(){if(!this.isValid())return this.localeData().invalidDate();var t,n,r=s(this._milliseconds)/1e3,a=s(this._days),o=s(this._months);t=i(r/60),n=i(t/60),r%=60,t%=60;var e=i(o/12),h=o%=12,l=a,d=n,g=t,c=r?r.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var f=u<0?"-":"",m=sign(this._months)!==sign(u)?"-":"",_=sign(this._days)!==sign(u)?"-":"",v=sign(this._milliseconds)!==sign(u)?"-":"";return f+"P"+(e?m+e+"Y":"")+(h?m+h+"M":"")+(l?_+l+"D":"")+(d||g||c?"T":"")+(d?v+d+"H":"")+(g?v+g+"M":"")+(c?v+c+"S":"")}