var e=require("path"),t=require("fs"),r=require("../lib/promises"),n=require("underscore");function testPath(t){return e.join(__dirname,"test-data",t)}function createRead(e){return function read(t,a){return r.when(e[t],(function(e){return n.isString(e)&&(e=new Buffer(e)),Buffer.isBuffer(e)?a?r.when(e.toString(a)):r.when(e):r.reject(new Error("file was not a buffer"))}))}}exports.testPath=testPath,exports.testData=function testData(e){var n=testPath(e);return r.nfcall(t.readFile,n,"utf-8")},exports.createFakeDocxFile=function createFakeDocxFile(e){return{read:createRead(e),exists:function exists(t){return!!e[t]}}},exports.createFakeFiles=function createFakeFiles(e){return{read:createRead(e)}};