import{addFormatToken as e}from"../format/format.js";import{addUnitAlias as r}from"./aliases.js";import{addUnitPriority as t}from"./priorities.js";import{addRegexToken as a,match1to2 as o,match1to4 as i,match1to6 as s,match2 as g,match4 as n,match6 as k,matchSigned as G}from"../parse/regex.js";import{addWeekParseToken as l}from"../parse/token.js";import{weekOfYear as m,weeksInYear as f,dayOfYearFromWeeks as u}from"./week-calendar-utils.js";import Y from"../utils/to-int.js";import{hooks as h}from"../utils/hooks.js";import{createLocal as c}from"../create/local.js";import{createUTCDate as p}from"../create/date-from-array.js";function addWeekYearFormatToken(r,t){e(0,[r,r.length],0,t)}e(0,["gg",2],0,(function(){return this.weekYear()%100})),e(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),r("weekYear","gg"),r("isoWeekYear","GG"),t("weekYear",1),t("isoWeekYear",1),a("G",G),a("g",G),a("GG",o,g),a("gg",o,g),a("GGGG",i,n),a("gggg",i,n),a("GGGGG",s,k),a("ggggg",s,k),l(["gggg","ggggg","GGGG","GGGGG"],(function(e,r,t,a){r[a.substr(0,2)]=Y(e)})),l(["gg","GG"],(function(e,r,t,a){r[a]=h.parseTwoDigitYear(e)}));export function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}export function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}export function getISOWeeksInYear(){return f(this.year(),1,4)}export function getWeeksInYear(){var e=this.localeData()._week;return f(this.year(),e.dow,e.doy)}function getSetWeekYearHelper(e,r,t,a,o){var i;return null==e?m(this,a,o).year:(r>(i=f(e,a,o))&&(r=i),setWeekAll.call(this,e,r,t,a,o))}function setWeekAll(e,r,t,a,o){var i=u(e,r,t,a,o),s=p(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}