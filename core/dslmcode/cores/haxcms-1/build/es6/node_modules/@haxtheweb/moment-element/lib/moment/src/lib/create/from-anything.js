import r from"../utils/is-array.js";import o from"../utils/is-object.js";import t from"../utils/is-object-empty.js";import i from"../utils/is-undefined.js";import e from"../utils/is-number.js";import m from"../utils/is-date.js";import n from"../utils/map.js";import{createInvalid as s}from"./valid.js";import{Moment as a,isMoment as f}from"../moment/constructor.js";import{getLocale as l}from"../locale/locales.js";import{hooks as p}from"../utils/hooks.js";import u from"./check-overflow.js";import{isValid as c}from"./valid.js";import{configFromStringAndArray as _}from"./from-string-and-array.js";import{configFromStringAndFormat as j}from"./from-string-and-format.js";import{configFromString as d}from"./from-string.js";import{configFromArray as v}from"./from-array.js";import{configFromObject as g}from"./from-object.js";export function prepareConfig(t){var y=t._i,w=t._f;return t._locale=t._locale||l(t._l),null===y||void 0===w&&""===y?s({nullInput:!0}):("string"==typeof y&&(t._i=y=t._locale.preparse(y)),f(y)?new a(u(y)):(m(y)?t._d=y:r(w)?_(t):w?j(t):function configFromInput(t){var s=t._i;i(s)?t._d=new Date(p.now()):m(s)?t._d=new Date(s.valueOf()):"string"==typeof s?d(t):r(s)?(t._a=n(s.slice(0),(function(r){return parseInt(r,10)})),v(t)):o(s)?g(t):e(s)?t._d=new Date(s):p.createFromInputFallback(t)}(t),c(t)||(t._d=null),t))}export function createLocalOrUTC(i,e,m,n,s){var f={};return!0!==m&&!1!==m||(n=m,m=void 0),(o(i)&&t(i)||r(i)&&0===i.length)&&(i=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=s,f._l=m,f._i=i,f._f=e,f._strict=n,function createFromConfig(r){var o=new a(u(prepareConfig(r)));return o._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}(f)}