var e=require("fs"),n=require("assert"),i=require("path"),t=require("./test")(module),r=require("../lib/unzip"),u=require("../lib/promises");t("unzip fails if given empty object",(function(){return r.openZip({}).then((function(){n.ok(!1,"Expected failure")}),(function(e){n.equal("Could not find file in options",e.message)}))})),t("unzip can open local zip file",(function(){var e=i.join(__dirname,"test-data/hello.zip");return r.openZip({path:e}).then((function(e){return e.read("hello","utf8")})).then((function(e){n.equal(e,"Hello world\n")}))})),t("unzip can open Buffer",(function(){var t=i.join(__dirname,"test-data/hello.zip");return u.nfcall(e.readFile,t).then((function(e){return r.openZip({buffer:e})})).then((function(e){return e.read("hello","utf8")})).then((function(e){n.equal(e,"Hello world\n")}))}));