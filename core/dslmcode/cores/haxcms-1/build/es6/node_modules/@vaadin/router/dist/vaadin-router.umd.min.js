var p,v;p=this,v=function(p){function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(p)}function n(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function r(p,v){for(var _=0;_<v.length;_++){var O=v[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,"symbol"==typeof(A=function(p,v){if("object"!=typeof p||null===p)return p;var _=p[Symbol.toPrimitive];if(void 0!==_){var O=_.call(p,"string");if("object"!=typeof O)return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(O.key))?A:String(A),O)}var A}function o(p,v,_){return v&&r(p.prototype,v),_&&r(p,_),Object.defineProperty(p,"prototype",{writable:!1}),p}function a(p){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)})(p)}function i(p,v){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,v){return p.__proto__=v,p})(p,v)}function c(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(p,v,_){var O=function(p,v){for(;!Object.prototype.hasOwnProperty.call(p,v)&&null!==(p=a(p)););return p}(p,v);if(O){var A=Object.getOwnPropertyDescriptor(O,v);return A.get?A.get.call(arguments.length<3?p:_):A.value}}).apply(this,arguments)}function s(p){return function(p){if(Array.isArray(p))return f(p)}(p)||function(p){if("undefined"!=typeof Symbol&&null!=p[Symbol.iterator]||null!=p["@@iterator"])return Array.from(p)}(p)||function(p,v){if(p){if("string"==typeof p)return f(p,v);var _=Object.prototype.toString.call(p).slice(8,-1);return"Object"===_&&p.constructor&&(_=p.constructor.name),"Map"===_||"Set"===_?Array.from(p):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?f(p,v):void 0}}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(p,v){(null==v||v>p.length)&&(v=p.length);for(var _=0,O=new Array(v);_<v;_++)O[_]=p[_];return O}function h(p){return p=p||[],Array.isArray(p)?p:[p]}function d(p){return"[Vaadin.Router] ".concat(p)}var v="module",_="nomodule",O=[v,_];function m(p){if(!p.match(/.+\.[m]?js$/))throw new Error(d('Unsupported type for bundle "'.concat(p,'": .js or .mjs expected.')))}function y(p){if(!p||!C(p.path))throw new Error(d('Expected route config to be an object with a "path" string property, or an array of such objects'));var A=p.bundle,P=["component","redirect","bundle"];if(!(k(p.action)||Array.isArray(p.children)||k(p.children)||E(A)||P.some((function(v){return C(p[v])}))))throw new Error(d('Expected route config "'.concat(p.path,'" to include either "').concat(P.join('", "'),'" ')+'or "action" function but none found.'));if(A)if(C(A))m(A);else{if(!O.some((function(p){return p in A})))throw new Error(d('Expected route bundle to include either "'+_+'" or "'+v+'" keys, or both'));O.forEach((function(p){return p in A&&m(A[p])}))}p.redirect&&["bundle","component"].forEach((function(v){v in p&&console.warn(d('Route config "'.concat(p.path,'" has both "redirect" and "').concat(v,'" properties, ')+'and "redirect" will always override the latter. Did you mean to only use "'.concat(v,'"?')))}))}function g(p){h(p).forEach((function(p){return y(p)}))}function w(p,O){var A=document.head.querySelector('script[src="'+p+'"][async]');return A||((A=document.createElement("script")).setAttribute("src",p),O===v?A.setAttribute("type",v):O===_&&A.setAttribute(_,""),A.async=!0),new Promise((function(p,v){A.onreadystatechange=A.onload=function(v){A.__dynamicImportLoaded=!0,p(v)},A.onerror=function(p){A.parentNode&&A.parentNode.removeChild(A),v(p)},null===A.parentNode?document.head.appendChild(A):A.__dynamicImportLoaded&&p()}))}function b(p,v){return!window.dispatchEvent(new CustomEvent("vaadin-router-".concat(p),{cancelable:"go"===p,detail:v}))}function E(p){return"object"===t(p)&&!!p}function k(p){return"function"==typeof p}function C(p){return"string"==typeof p}function x(p){var v=new Error(d("Page not found (".concat(p.pathname,")")));return v.context=p,v.code=404,v}var A=new(o((function e(){n(this,e)})));function R(p){if(!p.defaultPrevented&&0===p.button&&!(p.shiftKey||p.ctrlKey||p.altKey||p.metaKey)){for(var v=p.target,_=p.composedPath?p.composedPath():p.path||[],O=0;O<_.length;O++){var A=_[O];if(A.nodeName&&"a"===A.nodeName.toLowerCase()){v=A;break}}for(;v&&"a"!==v.nodeName.toLowerCase();)v=v.parentNode;if(v&&"a"===v.nodeName.toLowerCase()&&!(v.target&&"_self"!==v.target.toLowerCase()||v.hasAttribute("download")||v.hasAttribute("router-ignore")||v.pathname===window.location.pathname&&""!==v.hash||(v.origin||function(p){var v=p.port,_=p.protocol,O="http:"===_&&"80"===v||"https:"===_&&"443"===v?p.hostname:p.host;return"".concat(_,"//").concat(O)}(v))!==window.location.origin)){var P=v;b("go",{pathname:P.pathname,search:P.search,hash:P.hash})&&(p.preventDefault(),p&&"click"===p.type&&window.scrollTo(0,0))}}}var P={activate:function(){window.document.addEventListener("click",R)},inactivate:function(){window.document.removeEventListener("click",R)}};function j(p){if("vaadin-router-ignore"!==p.state){var v=window.location;b("go",{pathname:v.pathname,search:v.search,hash:v.hash})}}/Trident/.test(navigator.userAgent)&&!k(window.PopStateEvent)&&(window.PopStateEvent=function(p,v){v=v||{};var _=document.createEvent("Event");return _.initEvent(p,Boolean(v.bubbles),Boolean(v.cancelable)),_.state=v.state||null,_},window.PopStateEvent.prototype=window.Event.prototype);var L={activate:function(){window.addEventListener("popstate",j)},inactivate:function(){window.removeEventListener("popstate",j)}},T=function W(p,v,_){return p instanceof RegExp?function(p,v){if(!v)return p;var _=p.source.match(/\((?!\?)/g);if(_)for(var O=0;O<_.length;O++)v.push({name:O,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return p}(p,v):Array.isArray(p)?function(p,v,_){for(var O=[],A=0;A<p.length;A++)O.push(W(p[A],v,_).source);return new RegExp("(?:"+O.join("|")+")",D(_))}(p,v,_):function(p,v,_){return K(V(p,_),v,_)}(p,v,_)},U=V,I=F,S=K,B="/",N="./",M=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function V(p,v){for(var _,O=[],A=0,P=0,L="",T=v&&v.delimiter||B,U=v&&v.delimiters||N,I=!1;null!==(_=M.exec(p));){var S=_[0],q=_[1],z=_.index;if(L+=p.slice(P,z),P=z+S.length,q)L+=q[1],I=!0;else{var X="",Y=p[P],Z=_[2],re=_[3],ae=_[4],ie=_[5];if(!I&&L.length){var _e=L.length-1;U.indexOf(L[_e])>-1&&(X=L[_e],L=L.slice(0,_e))}L&&(O.push(L),L="",I=!1);var me=""!==X&&void 0!==Y&&Y!==X,ye="+"===ie||"*"===ie,we="?"===ie||"*"===ie,Ee=X||T,Ce=re||ae;O.push({name:Z||A++,prefix:X,delimiter:Ee,optional:we,repeat:ye,partial:me,pattern:Ce?$(Ce):"[^"+H(Ee)+"]+?"})}}return(L||P<p.length)&&O.push(L+p.substr(P)),O}function F(p){for(var v=new Array(p.length),_=0;_<p.length;_++)"object"===t(p[_])&&(v[_]=new RegExp("^(?:"+p[_].pattern+")$"));return function(_,O){for(var A="",P=O&&O.encode||encodeURIComponent,L=0;L<p.length;L++){var T=p[L];if("string"!=typeof T){var U,I=_?_[T.name]:void 0;if(Array.isArray(I)){if(!T.repeat)throw new TypeError('Expected "'+T.name+'" to not repeat, but got array');if(0===I.length){if(T.optional)continue;throw new TypeError('Expected "'+T.name+'" to not be empty')}for(var S=0;S<I.length;S++){if(U=P(I[S],T),!v[L].test(U))throw new TypeError('Expected all "'+T.name+'" to match "'+T.pattern+'"');A+=(0===S?T.prefix:T.delimiter)+U}}else if("string"!=typeof I&&"number"!=typeof I&&"boolean"!=typeof I){if(!T.optional)throw new TypeError('Expected "'+T.name+'" to be '+(T.repeat?"an array":"a string"));T.partial&&(A+=T.prefix)}else{if(U=P(String(I),T),!v[L].test(U))throw new TypeError('Expected "'+T.name+'" to match "'+T.pattern+'", but got "'+U+'"');A+=T.prefix+U}}else A+=T}return A}}function H(p){return p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function $(p){return p.replace(/([=!:$/()])/g,"\\$1")}function D(p){return p&&p.sensitive?"":"i"}function K(p,v,_){for(var O=(_=_||{}).strict,A=!1!==_.start,P=!1!==_.end,L=H(_.delimiter||B),T=_.delimiters||N,U=[].concat(_.endsWith||[]).map(H).concat("$").join("|"),I=A?"^":"",S=0===p.length,M=0;M<p.length;M++){var q=p[M];if("string"==typeof q)I+=H(q),S=M===p.length-1&&T.indexOf(q[q.length-1])>-1;else{var z=q.repeat?"(?:"+q.pattern+")(?:"+H(q.delimiter)+"(?:"+q.pattern+"))*":q.pattern;v&&v.push(q),q.optional?q.partial?I+=H(q.prefix)+"("+z+")?":I+="(?:"+H(q.prefix)+"("+z+"))?":I+=H(q.prefix)+"("+z+")"}}return P?(O||(I+="(?:"+L+")?"),I+="$"===U?"$":"(?="+U+")"):(O||(I+="(?:"+L+"(?="+U+"))?"),S||(I+="(?="+L+"|"+U+")")),new RegExp(I,D(_))}T.parse=U,T.compile=function(p,v){return F(V(p,v))},T.tokensToFunction=I,T.tokensToRegExp=S;var q=Object.prototype.hasOwnProperty,z=new Map;function Q(p){try{return decodeURIComponent(p)}catch(v){return p}}function J(p,v,_,O,A){var P,L,U=0,I=p.path||"";return"/"===I.charAt(0)&&(_&&(I=I.substr(1)),_=!0),{next:function(S){if(p===S)return{done:!0};var B=p.__children=p.__children||p.children;if(!P&&(P=function(p,v,_,O,A){_=!!_;var P="".concat(p,"|").concat(_),L=z.get(P);if(!L){var U=[];L={keys:U,pattern:T(p,U,{end:_,strict:""===p})},z.set(P,L)}var I=L.pattern.exec(v);if(!I)return null;for(var S=Object.assign({},A),B=1;B<I.length;B++){var N=L.keys[B-1],M=N.name,X=I[B];void 0===X&&q.call(S,M)||(N.repeat?S[M]=X?X.split(N.delimiter).map(Q):[]:S[M]=X?Q(X):X)}return{path:I[0],keys:(O||[]).concat(L.keys),params:S}}(I,v,!B,O,A)))return{done:!1,value:{route:p,keys:P.keys,params:P.params,path:P.path}};if(P&&B)for(;U<B.length;){if(!L){var N=B[U];N.parent=p;var M=P.path.length;M>0&&"/"===v.charAt(M)&&(M+=1),L=J(N,v.substr(M),_,P.keys,P.params)}var X=L.next(S);if(!X.done)return{done:!1,value:X.value};L=null,U++}return{done:!0}}}}function G(p){if(k(p.route.action))return p.route.action(p)}z.set("|false",{keys:[],pattern:/(?:)/});var X=function(){function e(p){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,e),Object(p)!==p)throw new TypeError("Invalid routes");this.baseUrl=v.baseUrl||"",this.errorHandler=v.errorHandler,this.resolveRoute=v.resolveRoute||G,this.context=Object.assign({resolver:this},v.context),this.root=Array.isArray(p)?{path:"",__children:p,parent:null,__synthetic:!0}:p,this.root.parent=null}return o(e,[{key:"getRoutes",value:function(){return s(this.root.__children)}},{key:"setRoutes",value:function(p){g(p);var v=s(h(p));this.root.__children=v}},{key:"addRoutes",value:function(p){var v;return g(p),(v=this.root.__children).push.apply(v,s(h(p))),this.getRoutes()}},{key:"removeRoutes",value:function(){this.setRoutes([])}},{key:"resolve",value:function(p){var v=this,_=Object.assign({},this.context,C(p)?{pathname:p}:p),O=J(this.root,this.__normalizePathname(_.pathname),this.baseUrl),P=this.resolveRoute,L=null,T=null,U=_;function u(p){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.value.route,I=null===(arguments.length>2?arguments[2]:void 0)&&L.value.route;return L=T||O.next(I),T=null,p||!L.done&&function(p,v){for(var _=v;_;)if((_=_.parent)===p)return!0;return!1}(v,L.value.route)?L.done?Promise.reject(x(_)):(function(p,v){var _=v.route,O=v.path;if(_&&!_.__synthetic){var A={path:O,route:_};if(p.chain){if(_.parent)for(var P=p.chain.length;P--&&p.chain[P].route&&p.chain[P].route!==_.parent;)p.chain.pop()}else p.chain=[];p.chain.push(A)}}(U=Object.assign(U?{chain:U.chain?U.chain.slice(0):[]}:{},_,L.value),L.value),Promise.resolve(P(U)).then((function(_){return null!=_&&_!==A?(U.result=_.result||_,U):u(p,v,_)}))):(T=L,Promise.resolve(A))}return _.next=u,Promise.resolve().then((function(){return u(!0,v.root)})).catch((function(p){var _=function(p){var v="Path '".concat(p.pathname,"' is not properly resolved due to an error."),_=(p.route||{}).path;return _&&(v+=" Resolution had failed on route: '".concat(_,"'")),v}(U);if(p?console.warn(_):p=new Error(_),p.context=p.context||U,p instanceof DOMException||(p.code=p.code||500),v.errorHandler)return U.result=v.errorHandler(p),U;throw p}))}},{key:"__effectiveBaseUrl",get:function(){return this.baseUrl?this.constructor.__createUrl(this.baseUrl,document.baseURI||document.URL).href.replace(/[^\/]*$/,""):""}},{key:"__normalizePathname",value:function(p){if(!this.baseUrl)return p;var v=this.__effectiveBaseUrl,_=this.constructor.__createUrl(p,v).href;return _.slice(0,v.length)===v?_.slice(v.length):void 0}}],[{key:"__createUrl",value:function(p,v){return new URL(p,v)}}]),e}();X.pathToRegexp=T;var Y=X.pathToRegexp,Z=new Map;function ee(p,v){var _=p.get(v);if(_&&_.length>1)throw new Error('Duplicate route with name "'.concat(v,'".')+" Try seting unique 'name' route properties.");return _&&_[0]}function te(p){var v=p.path;return void 0!==(v=Array.isArray(v)?v[0]:v)?v:""}var re=[];function ce(p,v){return p.classList.add(v),new Promise((function(_){if(function(p){var v=getComputedStyle(p).getPropertyValue("animation-name");return v&&"none"!==v}(p)){var O=p.getBoundingClientRect(),A="height: ".concat(O.bottom-O.top,"px; width: ").concat(O.right-O.left,"px");p.setAttribute("style","position: absolute; ".concat(A)),function(p,v){p.addEventListener("animationend",(function n(){p.removeEventListener("animationend",n),v()}))}(p,(function(){p.classList.remove(v),p.removeAttribute("style"),_()}))}else p.classList.remove(v),_()}))}function ue(p){return null!=p}function le(p,v){var _=p.pathname,O=void 0===_?"":_,A=p.search,P=void 0===A?"":A,L=p.hash,T=void 0===L?"":L,U=p.chain,I=void 0===U?[]:U,S=p.params,B=void 0===S?{}:S,N=p.redirectFrom,M=p.resolver,q=I.map((function(p){return p.route}));return{baseUrl:M&&M.baseUrl||"",pathname:O,search:P,hash:T,routes:q,route:v||q.length&&q[q.length-1]||null,params:B,redirectFrom:N,getUrl:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pe(ye.pathToRegexp.compile(ve(q))(Object.assign({},B,p)),M)}}}function se(p,v){var _=Object.assign({},p.params);return{redirect:{pathname:v,from:p.pathname,params:_}}}function fe(p,v,_){if(k(p))return p.apply(_,v)}function he(p,v,_){return function(O){return O&&(O.cancel||O.redirect)?O:_?fe(_[p],v,_):void 0}}function de(p){if(p&&p.length)for(var v=p[0].parentNode,_=0;_<p.length;_++)v.removeChild(p[_])}function pe(p,v){var _=v.__effectiveBaseUrl;return _?v.constructor.__createUrl(p.replace(/^\//,""),_).pathname:p}function ve(p){return p.map((function(p){return p.path})).reduce((function(p,v){return v.length?p.replace(/\/$/,"")+"/"+v.replace(/^\//,""):p}),"")}var ae,ie,_e,me,ye=function(p){!function(p,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),v&&i(p,v)}(s,X);var v=function u(p){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(p){return!1}}();return function(){var _,O=a(p);if(v){var A=a(this).constructor;_=Reflect.construct(O,arguments,A)}else _=O.apply(this,arguments);return function(p,v){if(v&&("object"==typeof v||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return c(p)}(this,_)}}(s);function s(p,_){var O;n(this,s);var A=document.head.querySelector("base"),P=A&&A.getAttribute("href");(O=v.call(this,[],Object.assign({baseUrl:P&&X.__createUrl(P,document.URL).pathname.replace(/[^\/]*$/,"")},_))).resolveRoute=function(p){return O.__resolveRoute(p)};var L=s.NavigationTrigger;return s.setTriggers.apply(s,Object.keys(L).map((function(p){return L[p]}))),O.baseUrl,O.ready,O.ready=Promise.resolve(p),O.location,O.location=le({resolver:c(O)}),O.__lastStartedRenderId=0,O.__navigationEventHandler=O.__onNavigationEvent.bind(c(O)),O.setOutlet(p),O.subscribe(),O.__createdByRouter=new WeakMap,O.__addedByRouter=new WeakMap,O}return o(s,[{key:"__resolveRoute",value:function(p){var v=this,_=p.route,P=Promise.resolve();k(_.children)&&(P=P.then((function(){return _.children(function(p){var v=Object.assign({},p);return delete v.next,v}(p))})).then((function(p){ue(p)||k(_.children)||(p=_.children),function(p,v){if(!Array.isArray(p)&&!E(p))throw new Error(d('Incorrect "children" value for the route '.concat(v.path,": expected array or object, but got ").concat(p)));v.__children=[];for(var _=h(p),O=0;O<_.length;O++)y(_[O]),v.__children.push(_[O])}(p,_)})));var L={redirect:function(v){return se(p,v)},component:function(p){var _=document.createElement(p);return v.__createdByRouter.set(_,!0),_}};return P.then((function(){if(v.__isLatestRender(p))return fe(_.action,[p,L],_)})).then((function(p){return ue(p)&&(p instanceof HTMLElement||p.redirect||p===A)?p:C(_.redirect)?L.redirect(_.redirect):_.bundle?(v=_.bundle,C(v)?w(v):Promise.race(O.filter((function(p){return p in v})).map((function(p){return w(v[p],p)})))).then((function(){}),(function(){throw new Error(d("Bundle not found: ".concat(_.bundle,". Check if the file name is correct")))})):void 0;var v})).then((function(p){return ue(p)?p:C(_.component)?L.component(_.component):void 0}))}},{key:"setOutlet",value:function(p){p&&this.__ensureOutlet(p),this.__outlet=p}},{key:"getOutlet",value:function(){return this.__outlet}},{key:"setRoutes",value:function(p){var v=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.__previousContext=void 0,this.__urlForName=void 0,l(a(s.prototype),"setRoutes",this).call(this,p),v||this.__onNavigationEvent(),this.ready}},{key:"render",value:function(p,v){var _=this,O=++this.__lastStartedRenderId,A=Object.assign({search:"",hash:""},C(p)?{pathname:p}:p,{__renderId:O});return this.ready=this.resolve(A).then((function(p){return _.__fullyResolveChain(p)})).then((function(p){if(_.__isLatestRender(p)){var A=_.__previousContext;if(p===A)return _.__updateBrowserHistory(A,!0),_.location;if(_.location=le(p),v&&_.__updateBrowserHistory(p,1===O),b("location-changed",{router:_,location:_.location}),p.__skipAttach)return _.__copyUnchangedElements(p,A),_.__previousContext=p,_.location;_.__addAppearingContent(p,A);var P=_.__animateIfNeeded(p);return _.__runOnAfterEnterCallbacks(p),_.__runOnAfterLeaveCallbacks(p,A),P.then((function(){if(_.__isLatestRender(p))return _.__removeDisappearingContent(),_.__previousContext=p,_.location}))}})).catch((function(p){if(O===_.__lastStartedRenderId)throw v&&_.__updateBrowserHistory(A),de(_.__outlet&&_.__outlet.children),_.location=le(Object.assign(A,{resolver:_})),b("error",Object.assign({router:_,error:p},A)),p})),this.ready}},{key:"__fullyResolveChain",value:function(p){var v=this,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return this.__findComponentContextAfterAllRedirects(_).then((function(O){var P=O!==_?O:p,L=pe(ve(O.chain),O.resolver)===O.pathname;return function e(p){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.route,_=arguments.length>2?arguments[2]:void 0;return p.next(void 0,v,_).then((function(_){return null===_||_===A?L?p:null!==v.parent?e(p,v.parent,_):_:_}))}(O).then((function(p){if(null===p||p===A)throw x(P);return p&&p!==A&&p!==O?v.__fullyResolveChain(P,p):v.__amendWithOnBeforeCallbacks(O)}))}))}},{key:"__findComponentContextAfterAllRedirects",value:function(p){var v=this,_=p.result;return _ instanceof HTMLElement?(function(p,v){v.location=le(p);var _=p.chain.map((function(p){return p.route})).indexOf(p.route);p.chain[_].element=v}(p,_),Promise.resolve(p)):_.redirect?this.__redirect(_.redirect,p.__redirectCount,p.__renderId).then((function(p){return v.__findComponentContextAfterAllRedirects(p)})):_ instanceof Error?Promise.reject(_):Promise.reject(new Error(d('Invalid route resolution result for path "'.concat(p.pathname,'". ')+'Expected redirect object or HTML element, but got: "'.concat(function(p){if("object"!==t(p))return String(p);var v=Object.prototype.toString.call(p).match(/ (.*)\]$/)[1];return"Object"===v||"Array"===v?"".concat(v," ").concat(JSON.stringify(p)):v}(_),'". ')+"Double check the action return value for the route.")))}},{key:"__amendWithOnBeforeCallbacks",value:function(p){var v=this;return this.__runOnBeforeCallbacks(p).then((function(_){return _===v.__previousContext||_===p?_:v.__fullyResolveChain(_)}))}},{key:"__runOnBeforeCallbacks",value:function(p){var v=this,_=this.__previousContext||{},O=_.chain||[],A=p.chain,P=Promise.resolve(),i=function(){return{cancel:!0}},c=function(v){return se(p,v)};if(p.__divergedChainIndex=0,p.__skipAttach=!1,O.length){for(var L=0;L<Math.min(O.length,A.length)&&O[L].route===A[L].route&&(O[L].path===A[L].path||O[L].element===A[L].element)&&this.__isReusableElement(O[L].element,A[L].element);L=++p.__divergedChainIndex);if(p.__skipAttach=A.length===O.length&&p.__divergedChainIndex==A.length&&this.__isReusableElement(p.result,_.result),p.__skipAttach){for(var T=A.length-1;T>=0;T--)P=this.__runOnBeforeLeaveCallbacks(P,p,{prevent:i},O[T]);for(var U=0;U<A.length;U++)P=this.__runOnBeforeEnterCallbacks(P,p,{prevent:i,redirect:c},A[U]),O[U].element.location=le(p,O[U].route)}else for(var I=O.length-1;I>=p.__divergedChainIndex;I--)P=this.__runOnBeforeLeaveCallbacks(P,p,{prevent:i},O[I])}if(!p.__skipAttach)for(var S=0;S<A.length;S++)S<p.__divergedChainIndex?S<O.length&&O[S].element&&(O[S].element.location=le(p,O[S].route)):(P=this.__runOnBeforeEnterCallbacks(P,p,{prevent:i,redirect:c},A[S]),A[S].element&&(A[S].element.location=le(p,A[S].route)));return P.then((function(_){if(_){if(_.cancel)return v.__previousContext.__renderId=p.__renderId,v.__previousContext;if(_.redirect)return v.__redirect(_.redirect,p.__redirectCount,p.__renderId)}return p}))}},{key:"__runOnBeforeLeaveCallbacks",value:function(p,v,_,O){var A=this,P=le(v);return p.then((function(p){if(A.__isLatestRender(v))return he("onBeforeLeave",[P,_,A],O.element)(p)})).then((function(p){if(!(p||{}).redirect)return p}))}},{key:"__runOnBeforeEnterCallbacks",value:function(p,v,_,O){var A=this,P=le(v,O.route);return p.then((function(p){if(A.__isLatestRender(v))return he("onBeforeEnter",[P,_,A],O.element)(p)}))}},{key:"__isReusableElement",value:function(p,v){return!(!p||!v)&&(this.__createdByRouter.get(p)&&this.__createdByRouter.get(v)?p.localName===v.localName:p===v)}},{key:"__isLatestRender",value:function(p){return p.__renderId===this.__lastStartedRenderId}},{key:"__redirect",value:function(p,v,_){if(v>256)throw new Error(d("Too many redirects when rendering ".concat(p.from)));return this.resolve({pathname:this.urlForPath(p.pathname,p.params),redirectFrom:p.from,__redirectCount:(v||0)+1,__renderId:_})}},{key:"__ensureOutlet",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.__outlet;if(!(p instanceof Node))throw new TypeError(d("Expected router outlet to be a valid DOM Node (but got ".concat(p,")")))}},{key:"__updateBrowserHistory",value:function(p,v){var _=p.pathname,O=p.search,A=void 0===O?"":O,P=p.hash,L=void 0===P?"":P;if(window.location.pathname!==_||window.location.search!==A||window.location.hash!==L){var T=v?"replaceState":"pushState";window.history[T](null,document.title,_+A+L),window.dispatchEvent(new PopStateEvent("popstate",{state:"vaadin-router-ignore"}))}}},{key:"__copyUnchangedElements",value:function(p,v){for(var _=this.__outlet,O=0;O<p.__divergedChainIndex;O++){var A=v&&v.chain[O].element;if(A){if(A.parentNode!==_)break;p.chain[O].element=A,_=A}}return _}},{key:"__addAppearingContent",value:function(p,v){var _=this;this.__ensureOutlet(),this.__removeAppearingContent();var O=this.__copyUnchangedElements(p,v);this.__appearingContent=[],this.__disappearingContent=Array.from(O.children).filter((function(v){return _.__addedByRouter.get(v)&&v!==p.result}));for(var A=O,P=p.__divergedChainIndex;P<p.chain.length;P++){var L=p.chain[P].element;L&&(A.appendChild(L),this.__addedByRouter.set(L,!0),A===O&&this.__appearingContent.push(L),A=L)}}},{key:"__removeDisappearingContent",value:function(){this.__disappearingContent&&de(this.__disappearingContent),this.__disappearingContent=null,this.__appearingContent=null}},{key:"__removeAppearingContent",value:function(){this.__disappearingContent&&this.__appearingContent&&(de(this.__appearingContent),this.__disappearingContent=null,this.__appearingContent=null)}},{key:"__runOnAfterLeaveCallbacks",value:function(p,v){if(v)for(var _=v.chain.length-1;_>=p.__divergedChainIndex&&this.__isLatestRender(p);_--){var O=v.chain[_].element;if(O)try{var A=le(p);fe(O.onAfterLeave,[A,{},v.resolver],O)}finally{this.__disappearingContent.indexOf(O)>-1&&de(O.children)}}}},{key:"__runOnAfterEnterCallbacks",value:function(p){for(var v=p.__divergedChainIndex;v<p.chain.length&&this.__isLatestRender(p);v++){var _=p.chain[v].element||{},O=le(p,p.chain[v].route);fe(_.onAfterEnter,[O,{},p.resolver],_)}}},{key:"__animateIfNeeded",value:function(p){for(var v,_=(this.__disappearingContent||[])[0],O=(this.__appearingContent||[])[0],A=[],P=p.chain,L=P.length;L>0;L--)if(P[L-1].route.animate){v=P[L-1].route.animate;break}if(_&&O&&v){var T=E(v)&&v.leave||"leaving",U=E(v)&&v.enter||"entering";A.push(ce(_,T)),A.push(ce(O,U))}return Promise.all(A).then((function(){return p}))}},{key:"subscribe",value:function(){window.addEventListener("vaadin-router-go",this.__navigationEventHandler)}},{key:"unsubscribe",value:function(){window.removeEventListener("vaadin-router-go",this.__navigationEventHandler)}},{key:"__onNavigationEvent",value:function(p){var v=p?p.detail:window.location,_=v.pathname,O=v.search,A=v.hash;C(this.__normalizePathname(_))&&(p&&p.preventDefault&&p.preventDefault(),this.render({pathname:_,search:O,hash:A},!0))}},{key:"urlForName",value:function(p,v){return this.__urlForName||(this.__urlForName=function ne(p){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(p instanceof X))throw new TypeError("An instance of Resolver is expected");var _=new Map;return function(O,A){var P=ee(_,O);if(!(P||(_.clear(),function e(p,v,_){var O=v.name||v.component;if(O&&(p.has(O)?p.get(O).push(v):p.set(O,[v])),Array.isArray(_))for(var A=0;A<_.length;A++){var P=_[A];P.parent=v,e(p,P,P.__children||P.children)}}(_,p.root,p.root.__children),P=ee(_,O))))throw new Error('Route "'.concat(O,'" not found'));var L=Z.get(P.fullPath);if(!L){for(var T=te(P),U=P.parent;U;){var I=te(U);I&&(T=I.replace(/\/$/,"")+"/"+T.replace(/^\//,"")),U=U.parent}for(var S=Y.parse(T),B=Y.tokensToFunction(S),N=Object.create(null),M=0;M<S.length;M++)C(S[M])||(N[S[M].name]=!0);L={toPath:B,keys:N},Z.set(T,L),P.fullPath=T}var q=L.toPath(A,v)||"/";if(v.stringifyQueryParams&&A){for(var z={},X=Object.keys(A),re=0;re<X.length;re++){var ae=X[re];L.keys[ae]||(z[ae]=A[ae])}var ie=v.stringifyQueryParams(z);ie&&(q+="?"===ie.charAt(0)?ie:"?".concat(ie))}return q}}(this)),pe(this.__urlForName(p,v),this)}},{key:"urlForPath",value:function(p,v){return pe(s.pathToRegexp.compile(p)(v),this)}}],[{key:"setTriggers",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];!function oe(p){re.forEach((function(p){return p.inactivate()})),p.forEach((function(p){return p.activate()})),re=p}(v)}},{key:"go",value:function(p){var v=C(p)?this.__createUrl(p,"http://a"):p;return b("go",{pathname:v.pathname,search:v.search,hash:v.hash})}}]),s}(),we=/\/\*[\*!]\s+vaadin-dev-mode:start([\s\S]*)vaadin-dev-mode:end\s+\*\*\//i,Ee=window.Vaadin&&window.Vaadin.Flow&&window.Vaadin.Flow.clients;function ge(p,v){if("function"==typeof p){var _=we.exec(p.toString());if(_)try{p=new Function(_[1])}catch(p){console.log("vaadin-development-mode-detector: uncommentAndRun() failed",p)}return p(v)}}window.Vaadin=window.Vaadin||{},void 0===window.Vaadin.developmentMode&&(window.Vaadin.developmentMode=function(){try{return!!localStorage.getItem("vaadin.developmentmode.force")||["localhost","127.0.0.1"].indexOf(window.location.hostname)>=0&&(Ee?!(Ee&&Object.keys(Ee).map((function(p){return Ee[p]})).filter((function(p){return p.productionMode})).length>0):!ge((function(){return!0})))}catch(p){return!1}}()),window.Vaadin=window.Vaadin||{},window.Vaadin.registrations=window.Vaadin.registrations||[],window.Vaadin.registrations.push({is:"@vaadin/router",version:"1.7.4"}),function(p,v){window.Vaadin.developmentMode&&ge(p,v)}((function be(){})),ye.NavigationTrigger={POPSTATE:L,CLICK:P},X.__ensureUrlAvailableOrPolyfilled=function(){if(void 0===ae){try{var p=new URL("b","http://a");p.pathname="c",ae="http://a/c"===p.href}catch(p){ae=!1}if(!ae&&(ie=document.implementation.createHTMLDocument("url"),_e=ie.createElement("base"),ie.head.appendChild(_e),!(me=ie.createElement("a")).origin)){Object.defineProperty(me,"origin",{get:function(){var p=me.protocol,v=me.port,_="http:"===p&&"80"===v||"https:"===p&&"443"===v?me.hostname:me.host;return"".concat(p,"//").concat(_)}});var v=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(me),"pathname").get;Object.defineProperty(me,"pathname",{get:function(){var p=v.apply(me);return"/"!==p.charAt(0)?"/"+p:p}})}}},X.__createUrl=function(p,v){return X.__ensureUrlAvailableOrPolyfilled(),ae?new URL(p,v):(_e.href=v,me.href=p.replace(/ /g,"%20"),me.href=me.href,me)},p.Resolver=X,p.Router=ye,Object.defineProperty(p,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?v(exports):"function"==typeof define&&define.amd?define(["exports"],v):v((p="undefined"!=typeof globalThis?globalThis:p||self).Vaadin=p.Vaadin||{});