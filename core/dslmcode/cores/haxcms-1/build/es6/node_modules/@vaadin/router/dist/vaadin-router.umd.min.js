var p,v;p=this,v=function(p){function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(p)}function n(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function r(p,v){for(var _=0;_<v.length;_++){var R=v[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(p,R.key,R)}}function o(p,v,_){return v&&r(p.prototype,v),_&&r(p,_),p}function a(p){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(p)}function i(p,v){return(i=Object.setPrototypeOf||function(p,v){return p.__proto__=v,p})(p,v)}function c(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function l(p,v,_){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(p,v,_){var R=function(p,v){for(;!Object.prototype.hasOwnProperty.call(p,v)&&null!==(p=a(p)););return p}(p,v);if(R){var A=Object.getOwnPropertyDescriptor(R,v);return A.get?A.get.call(_):A.value}})(p,v,_||p)}function s(p){return function(p){if(Array.isArray(p))return f(p)}(p)||function(p){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(p))return Array.from(p)}(p)||function(p,v){if(p){if("string"==typeof p)return f(p,v);var _=Object.prototype.toString.call(p).slice(8,-1);return"Object"===_&&p.constructor&&(_=p.constructor.name),"Map"===_||"Set"===_?Array.from(p):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?f(p,v):void 0}}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(p,v){(null==v||v>p.length)&&(v=p.length);for(var _=0,R=new Array(v);_<v;_++)R[_]=p[_];return R}function h(p){return p=p||[],Array.isArray(p)?p:[p]}function d(p){return"[Vaadin.Router] ".concat(p)}var v="module",_="nomodule",R=[v,_];function m(p){if(!p.match(/.+\.[m]?js$/))throw new Error(d('Unsupported type for bundle "'.concat(p,'": .js or .mjs expected.')))}function g(p){if(!p||!C(p.path))throw new Error(d('Expected route config to be an object with a "path" string property, or an array of such objects'));var A=p.bundle,P=["component","redirect","bundle"];if(!(k(p.action)||Array.isArray(p.children)||k(p.children)||E(A)||P.some((function(v){return C(p[v])}))))throw new Error(d('Expected route config "'.concat(p.path,'" to include either "').concat(P.join('", "'),'" ')+'or "action" function but none found.'));if(A)if(C(A))m(A);else{if(!R.some((function(p){return p in A})))throw new Error(d('Expected route bundle to include either "'+_+'" or "'+v+'" keys, or both'));R.forEach((function(p){return p in A&&m(A[p])}))}p.redirect&&["bundle","component"].forEach((function(v){v in p&&console.warn(d('Route config "'.concat(p.path,'" has both "redirect" and "').concat(v,'" properties, ')+'and "redirect" will always override the latter. Did you mean to only use "'.concat(v,'"?')))}))}function y(p){h(p).forEach((function(p){return g(p)}))}function w(p,R){var A=document.head.querySelector('script[src="'+p+'"][async]');return A||((A=document.createElement("script")).setAttribute("src",p),R===v?A.setAttribute("type",v):R===_&&A.setAttribute(_,""),A.async=!0),new Promise((function(p,v){A.onreadystatechange=A.onload=function(v){A.__dynamicImportLoaded=!0,p(v)},A.onerror=function(p){A.parentNode&&A.parentNode.removeChild(A),v(p)},null===A.parentNode?document.head.appendChild(A):A.__dynamicImportLoaded&&p()}))}function b(p,v){return!window.dispatchEvent(new CustomEvent("vaadin-router-".concat(p),{cancelable:"go"===p,detail:v}))}function E(p){return"object"===t(p)&&!!p}function k(p){return"function"==typeof p}function C(p){return"string"==typeof p}function x(p){var v=new Error(d("Page not found (".concat(p.pathname,")")));return v.context=p,v.code=404,v}var A=new function e(){n(this,e)};function O(p){if(!p.defaultPrevented&&0===p.button&&!(p.shiftKey||p.ctrlKey||p.altKey||p.metaKey)){for(var v=p.target,_=p.composedPath?p.composedPath():p.path||[],R=0;R<_.length;R++){var A=_[R];if(A.nodeName&&"a"===A.nodeName.toLowerCase()){v=A;break}}for(;v&&"a"!==v.nodeName.toLowerCase();)v=v.parentNode;if(v&&"a"===v.nodeName.toLowerCase()&&!(v.target&&"_self"!==v.target.toLowerCase()||v.hasAttribute("download")||v.hasAttribute("router-ignore")||v.pathname===window.location.pathname&&""!==v.hash||(v.origin||function(p){var v=p.port,_=p.protocol,R="http:"===_&&"80"===v||"https:"===_&&"443"===v?p.hostname:p.host;return"".concat(_,"//").concat(R)}(v))!==window.location.origin)){var P=v;b("go",{pathname:P.pathname,search:P.search,hash:P.hash})&&(p.preventDefault(),p&&"click"===p.type&&window.scrollTo(0,0))}}}var P={activate:function(){window.document.addEventListener("click",O)},inactivate:function(){window.document.removeEventListener("click",O)}};function j(p){if("vaadin-router-ignore"!==p.state){var v=window.location;b("go",{pathname:v.pathname,search:v.search,hash:v.hash})}}/Trident/.test(navigator.userAgent)&&!k(window.PopStateEvent)&&(window.PopStateEvent=function(p,v){v=v||{};var _=document.createEvent("Event");return _.initEvent(p,Boolean(v.bubbles),Boolean(v.cancelable)),_.state=v.state||null,_},window.PopStateEvent.prototype=window.Event.prototype);var L={activate:function(){window.addEventListener("popstate",j)},inactivate:function(){window.removeEventListener("popstate",j)}},U=function W(p,v,_){return p instanceof RegExp?function(p,v){if(!v)return p;var _=p.source.match(/\((?!\?)/g);if(_)for(var R=0;R<_.length;R++)v.push({name:R,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return p}(p,v):Array.isArray(p)?function(p,v,_){for(var R=[],A=0;A<p.length;A++)R.push(W(p[A],v,_).source);return new RegExp("(?:"+R.join("|")+")",$(_))}(p,v,_):function(p,v,_){return K(V(p,_),v,_)}(p,v,_)},I=V,T=D,S=K,B="/",N="./",M=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function V(p,v){for(var _,R=[],A=0,P=0,L="",U=v&&v.delimiter||B,I=v&&v.delimiters||N,T=!1;null!==(_=M.exec(p));){var S=_[0],q=_[1],z=_.index;if(L+=p.slice(P,z),P=z+S.length,q)L+=q[1],T=!0;else{var X="",Y=p[P],Z=_[2],re=_[3],ae=_[4],ie=_[5];if(!T&&L.length){var _e=L.length-1;I.indexOf(L[_e])>-1&&(X=L[_e],L=L.slice(0,_e))}L&&(R.push(L),L="",T=!1);var me=""!==X&&void 0!==Y&&Y!==X,ge="+"===ie||"*"===ie,we="?"===ie||"*"===ie,Ee=X||U,Ce=re||ae;R.push({name:Z||A++,prefix:X,delimiter:Ee,optional:we,repeat:ge,partial:me,pattern:Ce?H(Ce):"[^"+F(Ee)+"]+?"})}}return(L||P<p.length)&&R.push(L+p.substr(P)),R}function D(p){for(var v=new Array(p.length),_=0;_<p.length;_++)"object"===t(p[_])&&(v[_]=new RegExp("^(?:"+p[_].pattern+")$"));return function(_,R){for(var A="",P=R&&R.encode||encodeURIComponent,L=0;L<p.length;L++){var U=p[L];if("string"!=typeof U){var I,T=_?_[U.name]:void 0;if(Array.isArray(T)){if(!U.repeat)throw new TypeError('Expected "'+U.name+'" to not repeat, but got array');if(0===T.length){if(U.optional)continue;throw new TypeError('Expected "'+U.name+'" to not be empty')}for(var S=0;S<T.length;S++){if(I=P(T[S],U),!v[L].test(I))throw new TypeError('Expected all "'+U.name+'" to match "'+U.pattern+'"');A+=(0===S?U.prefix:U.delimiter)+I}}else if("string"!=typeof T&&"number"!=typeof T&&"boolean"!=typeof T){if(!U.optional)throw new TypeError('Expected "'+U.name+'" to be '+(U.repeat?"an array":"a string"));U.partial&&(A+=U.prefix)}else{if(I=P(String(T),U),!v[L].test(I))throw new TypeError('Expected "'+U.name+'" to match "'+U.pattern+'", but got "'+I+'"');A+=U.prefix+I}}else A+=U}return A}}function F(p){return p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function H(p){return p.replace(/([=!:$/()])/g,"\\$1")}function $(p){return p&&p.sensitive?"":"i"}function K(p,v,_){for(var R=(_=_||{}).strict,A=!1!==_.start,P=!1!==_.end,L=F(_.delimiter||B),U=_.delimiters||N,I=[].concat(_.endsWith||[]).map(F).concat("$").join("|"),T=A?"^":"",S=0===p.length,M=0;M<p.length;M++){var q=p[M];if("string"==typeof q)T+=F(q),S=M===p.length-1&&U.indexOf(q[q.length-1])>-1;else{var z=q.repeat?"(?:"+q.pattern+")(?:"+F(q.delimiter)+"(?:"+q.pattern+"))*":q.pattern;v&&v.push(q),q.optional?q.partial?T+=F(q.prefix)+"("+z+")?":T+="(?:"+F(q.prefix)+"("+z+"))?":T+=F(q.prefix)+"("+z+")"}}return P?(R||(T+="(?:"+L+")?"),T+="$"===I?"$":"(?="+I+")"):(R||(T+="(?:"+L+"(?="+I+"))?"),S||(T+="(?="+L+"|"+I+")")),new RegExp(T,$(_))}U.parse=I,U.compile=function(p,v){return D(V(p,v))},U.tokensToFunction=T,U.tokensToRegExp=S;var q=Object.prototype.hasOwnProperty,z=new Map;function Q(p){try{return decodeURIComponent(p)}catch(v){return p}}function J(p,v,_,R,A){var P,L,I=0,T=p.path||"";return"/"===T.charAt(0)&&(_&&(T=T.substr(1)),_=!0),{next:function(S){if(p===S)return{done:!0};var B=p.__children=p.__children||p.children;if(!P&&(P=function(p,v,_,R,A){_=!!_;var P="".concat(p,"|").concat(_),L=z.get(P);if(!L){var I=[];L={keys:I,pattern:U(p,I,{end:_,strict:""===p})},z.set(P,L)}var T=L.pattern.exec(v);if(!T)return null;for(var S=Object.assign({},A),B=1;B<T.length;B++){var N=L.keys[B-1],M=N.name,X=T[B];void 0===X&&q.call(S,M)||(N.repeat?S[M]=X?X.split(N.delimiter).map(Q):[]:S[M]=X?Q(X):X)}return{path:T[0],keys:(R||[]).concat(L.keys),params:S}}(T,v,!B,R,A)))return{done:!1,value:{route:p,keys:P.keys,params:P.params,path:P.path}};if(P&&B)for(;I<B.length;){if(!L){var N=B[I];N.parent=p;var M=P.path.length;M>0&&"/"===v.charAt(M)&&(M+=1),L=J(N,v.substr(M),_,P.keys,P.params)}var X=L.next(S);if(!X.done)return{done:!1,value:X.value};L=null,I++}return{done:!0}}}}function G(p){if(k(p.route.action))return p.route.action(p)}z.set("|false",{keys:[],pattern:/(?:)/});var X=function(){function e(p){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,e),Object(p)!==p)throw new TypeError("Invalid routes");this.baseUrl=v.baseUrl||"",this.errorHandler=v.errorHandler,this.resolveRoute=v.resolveRoute||G,this.context=Object.assign({resolver:this},v.context),this.root=Array.isArray(p)?{path:"",__children:p,parent:null,__synthetic:!0}:p,this.root.parent=null}return o(e,[{key:"getRoutes",value:function(){return s(this.root.__children)}},{key:"setRoutes",value:function(p){y(p);var v=s(h(p));this.root.__children=v}},{key:"addRoutes",value:function(p){var v;return y(p),(v=this.root.__children).push.apply(v,s(h(p))),this.getRoutes()}},{key:"removeRoutes",value:function(){this.setRoutes([])}},{key:"resolve",value:function(p){var v=this,_=Object.assign({},this.context,C(p)?{pathname:p}:p),R=J(this.root,this.__normalizePathname(_.pathname),this.baseUrl),P=this.resolveRoute,L=null,U=null,I=_;function u(p){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.value.route,T=null===(arguments.length>2?arguments[2]:void 0)&&L.value.route;return L=U||R.next(T),U=null,p||!L.done&&function(p,v){for(var _=v;_;)if((_=_.parent)===p)return!0;return!1}(v,L.value.route)?L.done?Promise.reject(x(_)):(function(p,v){var _=v.route,R=v.path;if(_&&!_.__synthetic){var A={path:R,route:_};if(p.chain){if(_.parent)for(var P=p.chain.length;P--&&p.chain[P].route&&p.chain[P].route!==_.parent;)p.chain.pop()}else p.chain=[];p.chain.push(A)}}(I=Object.assign(I?{chain:I.chain?I.chain.slice(0):[]}:{},_,L.value),L.value),Promise.resolve(P(I)).then((function(_){return null!=_&&_!==A?(I.result=_.result||_,I):u(p,v,_)}))):(U=L,Promise.resolve(A))}return _.next=u,Promise.resolve().then((function(){return u(!0,v.root)})).catch((function(p){var _=function(p){var v="Path '".concat(p.pathname,"' is not properly resolved due to an error."),_=(p.route||{}).path;return _&&(v+=" Resolution had failed on route: '".concat(_,"'")),v}(I);if(p?console.warn(_):p=new Error(_),p.context=p.context||I,p instanceof DOMException||(p.code=p.code||500),v.errorHandler)return I.result=v.errorHandler(p),I;throw p}))}},{key:"__normalizePathname",value:function(p){if(!this.baseUrl)return p;var v=this.__effectiveBaseUrl,_=this.constructor.__createUrl(p,v).href;return _.slice(0,v.length)===v?_.slice(v.length):void 0}},{key:"__effectiveBaseUrl",get:function(){return this.baseUrl?this.constructor.__createUrl(this.baseUrl,document.baseURI||document.URL).href.replace(/[^\/]*$/,""):""}}],[{key:"__createUrl",value:function(p,v){return new URL(p,v)}}]),e}();X.pathToRegexp=U;var Y=X.pathToRegexp,Z=new Map;function ee(p,v){var _=p.get(v);if(_&&_.length>1)throw new Error('Duplicate route with name "'.concat(v,'".')+" Try seting unique 'name' route properties.");return _&&_[0]}function te(p){var v=p.path;return void 0!==(v=Array.isArray(v)?v[0]:v)?v:""}var re=[];function ce(p,v){return p.classList.add(v),new Promise((function(_){if(function(p){var v=getComputedStyle(p).getPropertyValue("animation-name");return v&&"none"!==v}(p)){var R=p.getBoundingClientRect(),A="height: ".concat(R.bottom-R.top,"px; width: ").concat(R.right-R.left,"px");p.setAttribute("style","position: absolute; ".concat(A)),function(p,v){p.addEventListener("animationend",(function n(){p.removeEventListener("animationend",n),v()}))}(p,(function(){p.classList.remove(v),p.removeAttribute("style"),_()}))}else p.classList.remove(v),_()}))}function ue(p){return null!=p}function le(p,v){var _=p.pathname,R=void 0===_?"":_,A=p.search,P=void 0===A?"":A,L=p.hash,U=void 0===L?"":L,I=p.chain,T=void 0===I?[]:I,S=p.params,B=void 0===S?{}:S,N=p.redirectFrom,M=p.resolver,q=T.map((function(p){return p.route}));return{baseUrl:M&&M.baseUrl||"",pathname:R,search:P,hash:U,routes:q,route:v||q.length&&q[q.length-1]||null,params:B,redirectFrom:N,getUrl:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pe(ge.pathToRegexp.compile(ve(q))(Object.assign({},B,p)),M)}}}function se(p,v){var _=Object.assign({},p.params);return{redirect:{pathname:v,from:p.pathname,params:_}}}function fe(p,v,_){if(k(p))return p.apply(_,v)}function he(p,v,_){return function(R){return R&&(R.cancel||R.redirect)?R:_?fe(_[p],v,_):void 0}}function de(p){if(p&&p.length)for(var v=p[0].parentNode,_=0;_<p.length;_++)v.removeChild(p[_])}function pe(p,v){var _=v.__effectiveBaseUrl;return _?v.constructor.__createUrl(p.replace(/^\//,""),_).pathname:p}function ve(p){return p.map((function(p){return p.path})).reduce((function(p,v){return v.length?p.replace(/\/$/,"")+"/"+v.replace(/^\//,""):p}),"")}var ae,ie,_e,me,ge=function(p){!function(p,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),v&&i(p,v)}(s,X);var v=function u(p){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(p){return!1}}();return function(){var _,R,A=a(p);if(v){var P=a(this).constructor;_=Reflect.construct(A,arguments,P)}else _=A.apply(this,arguments);return!(R=_)||"object"!=typeof R&&"function"!=typeof R?c(this):R}}(s);function s(p,_){var R;n(this,s);var A=document.head.querySelector("base"),P=A&&A.getAttribute("href");(R=v.call(this,[],Object.assign({baseUrl:P&&X.__createUrl(P,document.URL).pathname.replace(/[^\/]*$/,"")},_))).resolveRoute=function(p){return R.__resolveRoute(p)};var L=s.NavigationTrigger;return s.setTriggers.apply(s,Object.keys(L).map((function(p){return L[p]}))),R.baseUrl,R.ready,R.ready=Promise.resolve(p),R.location,R.location=le({resolver:c(R)}),R.__lastStartedRenderId=0,R.__navigationEventHandler=R.__onNavigationEvent.bind(c(R)),R.setOutlet(p),R.subscribe(),R.__createdByRouter=new WeakMap,R.__addedByRouter=new WeakMap,R}return o(s,[{key:"__resolveRoute",value:function(p){var v=this,_=p.route,P=Promise.resolve();k(_.children)&&(P=P.then((function(){return _.children(function(p){var v=Object.assign({},p);return delete v.next,v}(p))})).then((function(p){ue(p)||k(_.children)||(p=_.children),function(p,v){if(!Array.isArray(p)&&!E(p))throw new Error(d('Incorrect "children" value for the route '.concat(v.path,": expected array or object, but got ").concat(p)));v.__children=[];for(var _=h(p),R=0;R<_.length;R++)g(_[R]),v.__children.push(_[R])}(p,_)})));var L={redirect:function(v){return se(p,v)},component:function(p){var _=document.createElement(p);return v.__createdByRouter.set(_,!0),_}};return P.then((function(){if(v.__isLatestRender(p))return fe(_.action,[p,L],_)})).then((function(p){return ue(p)&&(p instanceof HTMLElement||p.redirect||p===A)?p:C(_.redirect)?L.redirect(_.redirect):_.bundle?(v=_.bundle,C(v)?w(v):Promise.race(R.filter((function(p){return p in v})).map((function(p){return w(v[p],p)})))).then((function(){}),(function(){throw new Error(d("Bundle not found: ".concat(_.bundle,". Check if the file name is correct")))})):void 0;var v})).then((function(p){return ue(p)?p:C(_.component)?L.component(_.component):void 0}))}},{key:"setOutlet",value:function(p){p&&this.__ensureOutlet(p),this.__outlet=p}},{key:"getOutlet",value:function(){return this.__outlet}},{key:"setRoutes",value:function(p){var v=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.__previousContext=void 0,this.__urlForName=void 0,l(a(s.prototype),"setRoutes",this).call(this,p),v||this.__onNavigationEvent(),this.ready}},{key:"render",value:function(p,v){var _=this,R=++this.__lastStartedRenderId,A=Object.assign({search:"",hash:""},C(p)?{pathname:p}:p,{__renderId:R});return this.ready=this.resolve(A).then((function(p){return _.__fullyResolveChain(p)})).then((function(p){if(_.__isLatestRender(p)){var A=_.__previousContext;if(p===A)return _.__updateBrowserHistory(A,!0),_.location;if(_.location=le(p),v&&_.__updateBrowserHistory(p,1===R),b("location-changed",{router:_,location:_.location}),p.__skipAttach)return _.__copyUnchangedElements(p,A),_.__previousContext=p,_.location;_.__addAppearingContent(p,A);var P=_.__animateIfNeeded(p);return _.__runOnAfterEnterCallbacks(p),_.__runOnAfterLeaveCallbacks(p,A),P.then((function(){if(_.__isLatestRender(p))return _.__removeDisappearingContent(),_.__previousContext=p,_.location}))}})).catch((function(p){if(R===_.__lastStartedRenderId)throw v&&_.__updateBrowserHistory(A),de(_.__outlet&&_.__outlet.children),_.location=le(Object.assign(A,{resolver:_})),b("error",Object.assign({router:_,error:p},A)),p})),this.ready}},{key:"__fullyResolveChain",value:function(p){var v=this,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return this.__findComponentContextAfterAllRedirects(_).then((function(R){var P=R!==_?R:p,L=pe(ve(R.chain),R.resolver)===R.pathname;return function e(p){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.route,_=arguments.length>2?arguments[2]:void 0;return p.next(void 0,v,_).then((function(_){return null===_||_===A?L?p:null!==v.parent?e(p,v.parent,_):_:_}))}(R).then((function(p){if(null===p||p===A)throw x(P);return p&&p!==A&&p!==R?v.__fullyResolveChain(P,p):v.__amendWithOnBeforeCallbacks(R)}))}))}},{key:"__findComponentContextAfterAllRedirects",value:function(p){var v=this,_=p.result;return _ instanceof HTMLElement?(function(p,v){v.location=le(p);var _=p.chain.map((function(p){return p.route})).indexOf(p.route);p.chain[_].element=v}(p,_),Promise.resolve(p)):_.redirect?this.__redirect(_.redirect,p.__redirectCount,p.__renderId).then((function(p){return v.__findComponentContextAfterAllRedirects(p)})):_ instanceof Error?Promise.reject(_):Promise.reject(new Error(d('Invalid route resolution result for path "'.concat(p.pathname,'". ')+'Expected redirect object or HTML element, but got: "'.concat(function(p){if("object"!==t(p))return String(p);var v=Object.prototype.toString.call(p).match(/ (.*)\]$/)[1];return"Object"===v||"Array"===v?"".concat(v," ").concat(JSON.stringify(p)):v}(_),'". ')+"Double check the action return value for the route.")))}},{key:"__amendWithOnBeforeCallbacks",value:function(p){var v=this;return this.__runOnBeforeCallbacks(p).then((function(_){return _===v.__previousContext||_===p?_:v.__fullyResolveChain(_)}))}},{key:"__runOnBeforeCallbacks",value:function(p){var v=this,_=this.__previousContext||{},R=_.chain||[],A=p.chain,P=Promise.resolve(),i=function(){return{cancel:!0}},c=function(v){return se(p,v)};if(p.__divergedChainIndex=0,p.__skipAttach=!1,R.length){for(var L=0;L<Math.min(R.length,A.length)&&R[L].route===A[L].route&&(R[L].path===A[L].path||R[L].element===A[L].element)&&this.__isReusableElement(R[L].element,A[L].element);L=++p.__divergedChainIndex);if(p.__skipAttach=A.length===R.length&&p.__divergedChainIndex==A.length&&this.__isReusableElement(p.result,_.result),p.__skipAttach){for(var U=A.length-1;U>=0;U--)P=this.__runOnBeforeLeaveCallbacks(P,p,{prevent:i},R[U]);for(var I=0;I<A.length;I++)P=this.__runOnBeforeEnterCallbacks(P,p,{prevent:i,redirect:c},A[I]),R[I].element.location=le(p,R[I].route)}else for(var T=R.length-1;T>=p.__divergedChainIndex;T--)P=this.__runOnBeforeLeaveCallbacks(P,p,{prevent:i},R[T])}if(!p.__skipAttach)for(var S=0;S<A.length;S++)S<p.__divergedChainIndex?S<R.length&&R[S].element&&(R[S].element.location=le(p,R[S].route)):(P=this.__runOnBeforeEnterCallbacks(P,p,{prevent:i,redirect:c},A[S]),A[S].element&&(A[S].element.location=le(p,A[S].route)));return P.then((function(_){if(_){if(_.cancel)return v.__previousContext.__renderId=p.__renderId,v.__previousContext;if(_.redirect)return v.__redirect(_.redirect,p.__redirectCount,p.__renderId)}return p}))}},{key:"__runOnBeforeLeaveCallbacks",value:function(p,v,_,R){var A=this,P=le(v);return p.then((function(p){if(A.__isLatestRender(v))return he("onBeforeLeave",[P,_,A],R.element)(p)})).then((function(p){if(!(p||{}).redirect)return p}))}},{key:"__runOnBeforeEnterCallbacks",value:function(p,v,_,R){var A=this,P=le(v,R.route);return p.then((function(p){if(A.__isLatestRender(v))return he("onBeforeEnter",[P,_,A],R.element)(p)}))}},{key:"__isReusableElement",value:function(p,v){return!(!p||!v)&&(this.__createdByRouter.get(p)&&this.__createdByRouter.get(v)?p.localName===v.localName:p===v)}},{key:"__isLatestRender",value:function(p){return p.__renderId===this.__lastStartedRenderId}},{key:"__redirect",value:function(p,v,_){if(v>256)throw new Error(d("Too many redirects when rendering ".concat(p.from)));return this.resolve({pathname:this.urlForPath(p.pathname,p.params),redirectFrom:p.from,__redirectCount:(v||0)+1,__renderId:_})}},{key:"__ensureOutlet",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.__outlet;if(!(p instanceof Node))throw new TypeError(d("Expected router outlet to be a valid DOM Node (but got ".concat(p,")")))}},{key:"__updateBrowserHistory",value:function(p,v){var _=p.pathname,R=p.search,A=void 0===R?"":R,P=p.hash,L=void 0===P?"":P;if(window.location.pathname!==_||window.location.search!==A||window.location.hash!==L){var U=v?"replaceState":"pushState";window.history[U](null,document.title,_+A+L),window.dispatchEvent(new PopStateEvent("popstate",{state:"vaadin-router-ignore"}))}}},{key:"__copyUnchangedElements",value:function(p,v){for(var _=this.__outlet,R=0;R<p.__divergedChainIndex;R++){var A=v&&v.chain[R].element;if(A){if(A.parentNode!==_)break;p.chain[R].element=A,_=A}}return _}},{key:"__addAppearingContent",value:function(p,v){var _=this;this.__ensureOutlet(),this.__removeAppearingContent();var R=this.__copyUnchangedElements(p,v);this.__appearingContent=[],this.__disappearingContent=Array.from(R.children).filter((function(v){return _.__addedByRouter.get(v)&&v!==p.result}));for(var A=R,P=p.__divergedChainIndex;P<p.chain.length;P++){var L=p.chain[P].element;L&&(A.appendChild(L),this.__addedByRouter.set(L,!0),A===R&&this.__appearingContent.push(L),A=L)}}},{key:"__removeDisappearingContent",value:function(){this.__disappearingContent&&de(this.__disappearingContent),this.__disappearingContent=null,this.__appearingContent=null}},{key:"__removeAppearingContent",value:function(){this.__disappearingContent&&this.__appearingContent&&(de(this.__appearingContent),this.__disappearingContent=null,this.__appearingContent=null)}},{key:"__runOnAfterLeaveCallbacks",value:function(p,v){if(v)for(var _=v.chain.length-1;_>=p.__divergedChainIndex&&this.__isLatestRender(p);_--){var R=v.chain[_].element;if(R)try{var A=le(p);fe(R.onAfterLeave,[A,{},v.resolver],R)}finally{this.__disappearingContent.indexOf(R)>-1&&de(R.children)}}}},{key:"__runOnAfterEnterCallbacks",value:function(p){for(var v=p.__divergedChainIndex;v<p.chain.length&&this.__isLatestRender(p);v++){var _=p.chain[v].element||{},R=le(p,p.chain[v].route);fe(_.onAfterEnter,[R,{},p.resolver],_)}}},{key:"__animateIfNeeded",value:function(p){for(var v,_=(this.__disappearingContent||[])[0],R=(this.__appearingContent||[])[0],A=[],P=p.chain,L=P.length;L>0;L--)if(P[L-1].route.animate){v=P[L-1].route.animate;break}if(_&&R&&v){var U=E(v)&&v.leave||"leaving",I=E(v)&&v.enter||"entering";A.push(ce(_,U)),A.push(ce(R,I))}return Promise.all(A).then((function(){return p}))}},{key:"subscribe",value:function(){window.addEventListener("vaadin-router-go",this.__navigationEventHandler)}},{key:"unsubscribe",value:function(){window.removeEventListener("vaadin-router-go",this.__navigationEventHandler)}},{key:"__onNavigationEvent",value:function(p){var v=p?p.detail:window.location,_=v.pathname,R=v.search,A=v.hash;C(this.__normalizePathname(_))&&(p&&p.preventDefault&&p.preventDefault(),this.render({pathname:_,search:R,hash:A},!0))}},{key:"urlForName",value:function(p,v){return this.__urlForName||(this.__urlForName=function ne(p){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(p instanceof X))throw new TypeError("An instance of Resolver is expected");var _=new Map;return function(R,A){var P=ee(_,R);if(!(P||(_.clear(),function e(p,v,_){var R=v.name||v.component;if(R&&(p.has(R)?p.get(R).push(v):p.set(R,[v])),Array.isArray(_))for(var A=0;A<_.length;A++){var P=_[A];P.parent=v,e(p,P,P.__children||P.children)}}(_,p.root,p.root.__children),P=ee(_,R))))throw new Error('Route "'.concat(R,'" not found'));var L=Z.get(P.fullPath);if(!L){for(var U=te(P),I=P.parent;I;){var T=te(I);T&&(U=T.replace(/\/$/,"")+"/"+U.replace(/^\//,"")),I=I.parent}for(var S=Y.parse(U),B=Y.tokensToFunction(S),N=Object.create(null),M=0;M<S.length;M++)C(S[M])||(N[S[M].name]=!0);L={toPath:B,keys:N},Z.set(U,L),P.fullPath=U}var q=L.toPath(A,v)||"/";if(v.stringifyQueryParams&&A){for(var z={},X=Object.keys(A),re=0;re<X.length;re++){var ae=X[re];L.keys[ae]||(z[ae]=A[ae])}var ie=v.stringifyQueryParams(z);ie&&(q+="?"===ie.charAt(0)?ie:"?".concat(ie))}return q}}(this)),pe(this.__urlForName(p,v),this)}},{key:"urlForPath",value:function(p,v){return pe(s.pathToRegexp.compile(p)(v),this)}}],[{key:"setTriggers",value:function(){for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];!function oe(p){re.forEach((function(p){return p.inactivate()})),p.forEach((function(p){return p.activate()})),re=p}(v)}},{key:"go",value:function(p){var v=C(p)?this.__createUrl(p,"http://a"):p;return b("go",{pathname:v.pathname,search:v.search,hash:v.hash})}}]),s}(),we=/\/\*\*\s+vaadin-dev-mode:start([\s\S]*)vaadin-dev-mode:end\s+\*\*\//i,Ee=window.Vaadin&&window.Vaadin.Flow&&window.Vaadin.Flow.clients;function ye(p,v){if("function"==typeof p){var _=we.exec(p.toString());if(_)try{p=new Function(_[1])}catch(p){console.log("vaadin-development-mode-detector: uncommentAndRun() failed",p)}return p(v)}}window.Vaadin=window.Vaadin||{},void 0===window.Vaadin.developmentMode&&(window.Vaadin.developmentMode=function(){try{return!!localStorage.getItem("vaadin.developmentmode.force")||["localhost","127.0.0.1"].indexOf(window.location.hostname)>=0&&(Ee?!(Ee&&Object.keys(Ee).map((function(p){return Ee[p]})).filter((function(p){return p.productionMode})).length>0):!ye((function(){return!0})))}catch(p){return!1}}()),window.Vaadin=window.Vaadin||{},window.Vaadin.registrations=window.Vaadin.registrations||[],window.Vaadin.registrations.push({is:"@vaadin/router",version:"1.7.4"}),function(p,v){window.Vaadin.developmentMode&&ye(p,v)}((function be(){})),ge.NavigationTrigger={POPSTATE:L,CLICK:P},X.__ensureUrlAvailableOrPolyfilled=function(){if(void 0===ae){try{var p=new URL("b","http://a");p.pathname="c",ae="http://a/c"===p.href}catch(p){ae=!1}if(!ae&&(ie=document.implementation.createHTMLDocument("url"),_e=ie.createElement("base"),ie.head.appendChild(_e),!(me=ie.createElement("a")).origin)){Object.defineProperty(me,"origin",{get:function(){var p=me.protocol,v=me.port,_="http:"===p&&"80"===v||"https:"===p&&"443"===v?me.hostname:me.host;return"".concat(p,"//").concat(_)}});var v=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(me),"pathname").get;Object.defineProperty(me,"pathname",{get:function(){var p=v.apply(me);return"/"!==p.charAt(0)?"/"+p:p}})}}},X.__createUrl=function(p,v){return X.__ensureUrlAvailableOrPolyfilled(),ae?new URL(p,v):(_e.href=v,me.href=p.replace(/ /g,"%20"),me.href=me.href,me)},p.Resolver=X,p.Router=ge,Object.defineProperty(p,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?v(exports):"function"==typeof define&&define.amd?define(["exports"],v):v((p="undefined"!=typeof globalThis?globalThis:p||self).Vaadin=p.Vaadin||{});