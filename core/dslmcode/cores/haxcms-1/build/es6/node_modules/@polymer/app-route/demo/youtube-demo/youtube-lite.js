/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
import"../../../polymer/polymer-legacy.js";import"./google-youtube.js";import{Polymer as t}from"../../../polymer/lib/legacy/polymer-fn.js";import{html as e}from"../../../polymer/lib/utils/html-tag.js";t({_template:e`
    <style>
      :host {
        display: block;
        position: relative;
        width: 100%;
      }

      google-youtube {
        height: 100%;
      }
    </style>

    <google-youtube
        id="player"
        video-id="{{videoId}}"
        state="{{__state}}"
        current-time="{{__currentTime}}">
    </google-youtube>
  `,is:"youtube-lite",properties:{videoId:{type:String,notify:!0},state:{type:String,notify:!0,observer:"_stateChanged"},currentTime:{type:Number,notify:!0,observer:"_currentTimeChanged"},startTime:{type:Number},__state:{type:String,observer:"__ytApiStateChange"},__currentTime:{type:Number,observer:"_ytCurrentTimeChanged"},__pauseOnFirstSeek:{type:Boolean}},listeners:{"google-youtube-ready":"_onYoutubeReady"},_seekTo:function(t){var e=this.$.player;t=Number(t),(1==e.duration||t<e.duration)&&!this.__ytChangingTime&&e.seekTo(t),this.__ytChangingTime=!1},_onYoutubeReady:function(){this.__pauseOnFirstSeek="paused"==this.state,this.__pauseOnFirstSeek&&!this.startTime||this._seekTo(this.startTime)},_currentTimeChanged:function(t){this.__readableStateToApiState(this.state)==this.__apiStates.PAUSED&&this.__state==this.__apiStates.PAUSED&&this._seekTo(t)},_ytCurrentTimeChanged:function(t){this.__ytChangingTime=!0,this.currentTime=t},_stateChanged:function(t){var e=this.__readableStateToApiState(t);if(e!=this.__state&&this.__state!=this.__apiStates.UNSTARTED&&void 0!==this.__state){this.currentTime=this.__currentTime;var i=this.$.player;switch(e){case this.__apiStates.PLAYING:i.play();break;case this.__apiStates.PAUSED:i.pause();break;default:return}}},__ytApiStateChange:function(t){var e;switch(t){case this.__apiStates.ENDED:e=this.__states.PAUSED;break;case this.__apiStates.PLAYING:e=this.__states.PLAYING;break;case this.__apiStates.PAUSED:e=this.__states.PAUSED;break;default:return}if(this.state!=e){if(this.__pauseOnFirstSeek&&e==this.__states.PLAYING)return this.__pauseOnFirstSeek=!1,void this.$.player.pause();this.state=e,this.currentTime=this.__currentTime}},__readableStateToApiState:function(t){var e=-2;return t==this.__states.PLAYING?e=this.__apiStates.PLAYING:(t=this.__states.PAUSED)&&(e=this.__apiStates.PAUSED),e},__states:{PLAYING:"playing",PAUSED:"paused"},__apiStates:{UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,QUEUED:5}});