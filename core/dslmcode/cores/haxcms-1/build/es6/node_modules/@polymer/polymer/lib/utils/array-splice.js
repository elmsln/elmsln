/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
import"./boot.js";function newSplice(e,t,n){return{index:e,removed:t,addedCount:n}}const e=0,t=1,n=2,r=3;function calcSplices(l,u,i,c,o,s){let a,f=0,h=0,p=Math.min(i-u,s-o);if(0==u&&0==o&&(f=function sharedPrefix(e,t,n){for(let r=0;r<n;r++)if(!equals(e[r],t[r]))return r;return n}(l,c,p)),i==l.length&&s==c.length&&(h=function sharedSuffix(e,t,n){let r=e.length,l=t.length,u=0;for(;u<n&&equals(e[--r],t[--l]);)u++;return u}(l,c,p-f)),o+=f,s-=h,(i-=h)-(u+=f)==0&&s-o==0)return[];if(u==i){for(a=newSplice(u,[],0);o<s;)a.removed.push(c[o++]);return[a]}if(o==s)return[newSplice(u,[],i-u)];let d=function spliceOperationsFromEditDistances(l){let u=l.length-1,i=l[0].length-1,c=l[u][i],o=[];for(;u>0||i>0;){if(0==u){o.push(n),i--;continue}if(0==i){o.push(r),u--;continue}let s,a=l[u-1][i-1],f=l[u-1][i],h=l[u][i-1];s=f<h?f<a?f:a:h<a?h:a,s==a?(a==c?o.push(e):(o.push(t),c=a),u--,i--):s==f?(o.push(r),u--,c=f):(o.push(n),i--,c=h)}return o.reverse(),o}(function calcEditDistances(e,t,n,r,l,u){let i=u-l+1,c=n-t+1,o=new Array(i);for(let e=0;e<i;e++)o[e]=new Array(c),o[e][0]=e;for(let e=0;e<c;e++)o[0][e]=e;for(let n=1;n<i;n++)for(let u=1;u<c;u++)if(equals(e[t+u-1],r[l+n-1]))o[n][u]=o[n-1][u-1];else{let e=o[n-1][u]+1,t=o[n][u-1]+1;o[n][u]=e<t?e:t}return o}(l,u,i,c,o,s));a=void 0;let S=[],g=u,w=o;for(let l=0;l<d.length;l++)switch(d[l]){case e:a&&(S.push(a),a=void 0),g++,w++;break;case t:a||(a=newSplice(g,[],0)),a.addedCount++,g++,a.removed.push(c[w]),w++;break;case n:a||(a=newSplice(g,[],0)),a.addedCount++,g++;break;case r:a||(a=newSplice(g,[],0)),a.removed.push(c[w]),w++}return a&&S.push(a),S}export function calculateSplices(e,t){return calcSplices(e,0,e.length,t,0,t.length)}function equals(e,t){return e===t}