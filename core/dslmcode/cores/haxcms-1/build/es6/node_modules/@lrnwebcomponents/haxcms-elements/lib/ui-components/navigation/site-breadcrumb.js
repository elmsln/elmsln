/**
 * Copyright 2019 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
import{LitElement as t,html as e,css as i}from"../../../../../lit/index.js";import{store as s}from"../../core/haxcms-site-store.js";import"../../../../simple-icon/lib/simple-icon-lite.js";import"../../../../simple-icon/lib/simple-icons.js";import{autorun as r,toJS as d}from"../../../../../mobx/dist/mobx.esm.js";import{DDD as a}from"../../../../d-d-d/d-d-d.js";import{DDDBreadcrumb as o}from"../../../../d-d-d/lib/DDDStyles.js";class SiteBreadcrumb extends a{static get styles(){return[super.styles,o,i`
        :host {
          display: block;
        }
        .breadcrumb {
          font-weight: var(--ddd-font-navigation-light);
          margin: var(--site-breadcrumb-margin, var(--ddd-spacing-6) 0);
          padding: 0;
          pointer-events: auto;
          list-style: "/ ";
          gap: var(--ddd-spacing-5);
          display: flex;
          flex-flow: row;
          color: var(--ddd-theme-default-link);
        }
        .breadcrumb li a {
          padding-left: var(--ddd-spacing-1);
          font-family: var(--ddd-font-navigation);
          font-weight: var(--ddd-font-navigation-regular);
          text-decoration: none;
          font-size: var(
            --site-breadcrumb-font-size,
            var(--ddd-font-size-4xs, 16px)
          );
          color: var(
            --site-breadcrumb-color,
            var(--ddd-theme-default-link, #383f45)
          );
        }
        .breadcrumb li:first-child a {
          padding-left: 0;
        }
        .breadcrumb li:last-child a {
          color: var(--site-breadcrumb-color, black);
          pointer-events: none;
        }
      `]}static get tag(){return"site-breadcrumb"}constructor(){super(),this.__disposer=[],this.items=[]}render(){return e` ${this.items.length>0?e`
          <ul
            class="breadcrumb"
            itemscope
            itemtype="https://schema.org/BreadcrumbList"
          >
            ${this.items.map((t=>e`<li
                  itemprop="itemListElement"
                  itemscope
                  itemtype="https://schema.org/ListItem"
                >
                  <a itemprop="item" href="${t.slug}">${t.title}</a>
                </li>`))}
          </ul>
        `:""}`}static get properties(){return{items:{type:Array},editMode:{type:Boolean,reflect:!0,attribute:"edit-mode"}}}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t),r((t=>{this.editMode=d(s.editMode),this.__disposer.push(t)})),r((t=>{this._activeItemChanged(d(s.activeItem)),this.__disposer.push(t)}))}_activeItemChanged(t){const e=t;if(e&&this.shadowRoot){var i=[{title:e.title,slug:e.slug}];let t=e,r=d(s.routerManifest);for(;t&&null!=t.parent;)t=r.items.find((e=>e.id==t.parent)),t&&i.unshift({title:t.title,slug:t.slug});1===i.length?this.items=[]:this.items=[...i]}}disconnectedCallback(){for(var t in this.__disposer)this.__disposer[t].dispose();super.disconnectedCallback()}}customElements.define(SiteBreadcrumb.tag,SiteBreadcrumb);export{SiteBreadcrumb};