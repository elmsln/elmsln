import{PolymerElement as e}from"../../../@polymer/polymer/polymer-element.js";class PaperFilterDialog extends e{static get tag(){return"paper-filter-dialog"}static get properties(){return{filters:Array,selectedFilters:{type:Object,notify:!0,value:{}},resetButton:{type:String,value:"Reset"},saveButton:{type:String,value:"Save filters"},noValuesLabel:{type:String,value:"No filters yet"},_selectedFilters:{type:Object,value:{}},_selectedFilter:Object,_selectedFilterValues:{type:Array,value:[]}}}open(){globalThis.document.body.appendChild(this),setTimeout(function(){this.shadowRoot.querySelector("#dialog").open(),this._selectedFilters=Object.assign({},this.selectedFilters)}.bind(this),1)}close(){this.shadowRoot.querySelector("#dialog").close()}_tapSelectFilter(e){this.shadowRoot.querySelector("#selector").select(e.model.filter),this._preselectFilterValues()}_preselectFilterValues(){var e=this._selectedFilters[this._selectedFilter.id],isSelected=function(t){return Boolean(e)&&e.indexOf(t.id)>=0};this._selectedFilterValues=this._selectedFilter.values.map((function(e){return Object.assign({},e,{selected:isSelected(e)})}))}_tapReset(e){this._selectedFilters={}}_tapApply(e){this.selectedFilters=this._selectedFilters,this.dispatchEvent(new CustomEvent("save",{bubbles:!0,cancelable:!0,composed:!0,detail:!0}))}_tapSelectValues(e){const t=this._selectedFilterValues.filter((function(e){return e.selected})).map((function(e){return e.id}));this._selectedFilters=Object.assign({},this._selectedFilters,{[this._selectedFilter.id]:t}),this.shadowRoot.querySelector("#selector").deselect(this._selectedFilter)}_hasSelectedFilters(e){for(selectedFilter in e)if(e[selectedFilter].length>0)return!0;return!1}_getSelectedValuesNames(e,t){var l=t[e.id];if(!e.values||!l)return this.noValuesLabel;var s=e.values.filter((function(e){return l.indexOf(e.id)>=0})).map((function(e){return e.name}));return s.length>0?s.join(", "):this.noValuesLabel}}customElements.define(PaperFilterDialog.tag,PaperFilterDialog);export{PaperFilterDialog};