Object.defineProperty(exports,"__esModule",{value:!0}),exports.HaxAppSearchResult=void 0;var t=require("lit"),e=require("./hax-store.js");function _templateObject2_af128340809211edaa2833647dc78c6c(){var t=_taggedTemplateLiteral(["\n        :host {\n          display: flex;\n          flex-direction: column;\n          align-items: stretch;\n          justify-content: space-evenly;\n          height: 100%;\n        }\n        button {\n          font-size: var(--hax-ui-font-size-xs);\n          margin: 0;\n          padding: 0;\n          display: flex;\n          flex-direction: column;\n          align-items: stretch;\n          border-radius: 0;\n          border: none;\n          width: 100%;\n          outline: 1px solid var(--hax-toolbar-border-color);\n          opacity: 0.8;\n          background-color: var(--hax-toolbar-button-bg);\n          transition: 0.2s opacity ease-in-out, 0.2s outline-color ease-in-out;\n          flex: 1 0 auto;\n        }\n        button:hover,\n        button:focus,\n        button:active {\n          outline-color: var(--hax-tray-accent-color);\n          outline-width: 4px;\n          outline-style: solid;\n          opacity: 1;\n        }\n        .detail-wrapper {\n          flex: 1 0 auto;\n          max-height: 30px;\n          overflow: hidden;\n          text-align: center;\n          text-overflow: ellipsis;\n        }\n        .image {\n          flex: 0 0 auto;\n          width: 100%;\n          background-color: var(--hax-toolbar-border-color);\n        }\n        @media screen and (max-width: 1000px) {\n          :host {\n            width: 100%;\n          }\n          .title {\n            font-size: 12px;\n          }\n        }\n      "]);return _templateObject2_af128340809211edaa2833647dc78c6c=function _templateObject2_af128340809211edaa2833647dc78c6c(){return t},t}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _templateObject_af128340809211edaa2833647dc78c6c(){var t=_taggedTemplateLiteral(['\n      <button\n        draggable="true"\n        @click="','"\n        @dragstart="','"\n        @dragend="','"\n        title="','"\n      >\n        <img loading="lazy" class="image" src="','" />\n        <div class="detail-wrapper">',"</div>\n      </button>\n    "]);return _templateObject_af128340809211edaa2833647dc78c6c=function _templateObject_af128340809211edaa2833647dc78c6c(){return t},t}function _taggedTemplateLiteral(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}var n=function(n){function HaxAppSearchResult(){return function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,HaxAppSearchResult),_possibleConstructorReturn(this,_getPrototypeOf(HaxAppSearchResult).call(this))}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(HaxAppSearchResult,t.LitElement),function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(HaxAppSearchResult,[{key:"render",value:function render(){return(0,t.html)(_templateObject_af128340809211edaa2833647dc78c6c(),this._itemSelected,this._dragStart,this._dragEnd,this.details,this.image,this.title.substr(0,40))}},{key:"_dragStart",value:function _dragStart(t){var n=this.cloneNode(!0);e.HAXStore.__dragTarget=n,t.dataTransfer&&(this.crt=n,this.crt.style.position="absolute",this.crt.style.top="-1000px",this.crt.style.right="-1000px",this.crt.style.transform="scale(0.25)",this.crt.style.opacity=".8",t.dataTransfer.effectAllowed="move",t.dataTransfer.dropEffect="move",document.body.appendChild(this.crt),t.dataTransfer.setDragImage(this.crt,0,0)),t.stopPropagation(),t.stopImmediatePropagation()}},{key:"_dragEnd",value:function _dragEnd(t){var e=this;this.crt.remove(),setTimeout((function(){e._itemSelected(t)}),0)}},{key:"_itemSelected",value:function _itemSelected(t){var n=this.map,r=this.type;r&&null!=r&&""!=r&&"undefined"!=r||!n.source||(r=e.HAXStore.guessGizmoType(n));var o=e.HAXStore.guessGizmo(r,n,!1,!0);o.length>0?1===o.length?"undefined"!==_typeof(o[0].tag)&&(o[0].nextToActive=!0,this.dispatchEvent(new CustomEvent("hax-insert-content",{bubbles:!0,cancelable:!0,composed:!0,detail:o[0]}))):e.HAXStore.haxAppPicker.presentOptions(o,r,"How would you like to display this "+r+"?","gizmo"):e.HAXStore.toast("Sorry, HAX can't handle that link yet.")}}],[{key:"styles",get:function get(){return[(0,t.css)(_templateObject2_af128340809211edaa2833647dc78c6c())]}},{key:"tag",get:function get(){return"hax-app-search-result"}},{key:"properties",get:function get(){return{image:{type:String},title:{type:String},details:{type:String},map:{type:Object},type:{type:String}}}}]),HaxAppSearchResult}();exports.HaxAppSearchResult=n,window.customElements.define(n.tag,n);