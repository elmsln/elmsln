/**
 * Copyright 2018 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
import{LitElement as e,html as r,css as n}from"../../../lit/index.js";import"../../es-global-bridge/es-global-bridge.js";class FullscreenBehaviorsManager extends e{static get tag(){return"fullscreen-behaviors-manager"}static get properties(){return{__loaded:{type:Boolean},__callbacks:{type:Array},__fullscreen:{type:Boolean}}}constructor(){if(super(),this.__callbacks=[],this.__loaded=!1,this.__fullscreen=!1,"object"==typeof screenfull)this._setLoaded();else{const e=`${new URL("./",import.meta.url).href}screenfull/dist/screenfull.js`;window.ESGlobalBridge.requestAvailability().load("screenfullLib",e),window.addEventListener("es-bridge-screenfullLib-loaded",this._setLoaded.bind(this))}}get enabled(){let e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return"object"==typeof screenfull&&screenfull.isEnabled&&!e}get fullscreen(){return this.__fullscreen}disconnectedCallback(){window.removeEventListener("es-bridge-screenfullLib-loaded",this._setLoaded.bind(this)),super.disconnectedCallback()}_setLoaded(e){this.__loaded=!0,(this.__callbacks||[]).forEach((e=>e()))}}window.customElements.define(FullscreenBehaviorsManager.tag,FullscreenBehaviorsManager);export{FullscreenBehaviorsManager};window.FullscreenBehaviorsManager=window.FullscreenBehaviorsManager||{},window.FullscreenBehaviorsManager.requestAvailability=()=>(window.FullscreenBehaviorsManager.instance||(window.FullscreenBehaviorsManager.instance=document.createElement("fullscreen-behaviors-manager"),document.body.appendChild(window.FullscreenBehaviorsManager.instance)),window.FullscreenBehaviorsManager.instance);