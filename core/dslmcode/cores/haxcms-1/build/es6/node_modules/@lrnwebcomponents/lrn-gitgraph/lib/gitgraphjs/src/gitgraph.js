!function(){function GitGraph(t){switch(t=_isObject(t)?t:{},this.elementId="string"==typeof t.elementId?t.elementId:"gitGraph",this.element="object"==typeof t.element?t.element:null,this.author="string"==typeof t.author?t.author:"Sergio Flores <saxo-guy@epic.com>",this.reverseArrow=_booleanOptionOr(t.reverseArrow,!1),"string"==typeof t.template||_isObject(t.template)?this.template=this.newTemplate(t.template):t.template instanceof Template?this.template=t.template:this.template=this.newTemplate("metro"),this.mode=t.mode||null,"compact"===this.mode&&(this.template.commit.message.display=!1),t.orientation){case"vertical-reverse":this.template.commit.spacingY*=-1,this.orientation="vertical-reverse",this.template.branch.labelRotation=_isNullOrUndefined(t,"template.branch.labelRotation")?0:t.template.branch.labelRotation,this.template.commit.tag.spacingY*=-1;break;case"horizontal":this.template.commit.message.display=!1,this.template.commit.spacingX=this.template.commit.spacingY,this.template.branch.spacingY=this.template.branch.spacingX,this.template.commit.spacingY=0,this.template.branch.spacingX=0,this.orientation="horizontal",this.template.branch.labelRotation=_isNullOrUndefined(t,"template.branch.labelRotation")?-90:t.template.branch.labelRotation,this.template.commit.tag.spacingX=-this.template.commit.spacingX,this.template.commit.tag.spacingY=this.template.branch.spacingY;break;case"horizontal-reverse":this.template.commit.message.display=!1,this.template.commit.spacingX=-this.template.commit.spacingY,this.template.branch.spacingY=this.template.branch.spacingX,this.template.commit.spacingY=0,this.template.branch.spacingX=0,this.orientation="horizontal-reverse",this.template.branch.labelRotation=_isNullOrUndefined(t,"template.branch.labelRotation")?90:t.template.branch.labelRotation,this.template.commit.tag.spacingX=-this.template.commit.spacingY,this.template.commit.tag.spacingY=this.template.branch.spacingY;break;default:this.orientation="vertical",this.template.branch.labelRotation=_isNullOrUndefined(t,"template.branch.labelRotation")?0:t.template.branch.labelRotation}this.marginX=this.template.branch.spacingX+2*this.template.commit.dot.size,this.marginY=this.template.branch.spacingY+2*this.template.commit.dot.size,this.offsetX=0,this.offsetY=0,this.canvas=this.element?this.element:document.getElementById(this.elementId)||t.canvas,this.context=this.canvas.getContext("2d"),this.context.textBaseline="center",this.tooltip=document.createElement("div"),this.tooltip.className="gitgraph-tooltip",this.tooltip.style.position="fixed",this.tooltip.style.display="none",(t.tooltipContainer||document.body).appendChild(this.tooltip),this.HEAD=null,this.branches=[],this.commits=[],this.columnMax=0,this.commitOffsetX=t.initCommitOffsetX||0,this.commitOffsetY=t.initCommitOffsetY||0,this.mouseMoveOptions={handleEvent:this.hover,gitgraph:this},this.canvas.addEventListener("mousemove",this.mouseMoveOptions,!1),this.mouseDownOptions={handleEvent:this.click,gitgraph:this},this.canvas.addEventListener("mousedown",this.mouseDownOptions,!1),window.onresize=this.render.bind(this)}function Branch(t){if(t.parent instanceof GitGraph!=!1){if(t=_isObject(t)?t:{},this.parent=t.parent,t.parentCommit&&t.parentBranch){if(t.parentCommit.branch!==t.parentBranch)return;this.parentCommit=t.parentCommit,this.parentBranch=t.parentBranch}else t.parentCommit?(this.parentCommit=t.parentCommit,this.parentBranch=t.parentCommit.branch):t.parentBranch?(this.parentCommit=_getParentCommitFromBranch(t.parentBranch),this.parentBranch=t.parentBranch):(this.parentCommit=null,this.parentBranch=null);this.name="string"==typeof t.name?t.name:"no-name",this.commitDefaultOptions=_isObject(t.commitDefaultOptions)?t.commitDefaultOptions:{},this.context=this.parent.context,this.template=this.parent.template,this.lineWidth=t.lineWidth||this.template.branch.lineWidth,this.lineDash=t.lineDash||this.template.branch.lineDash,this.showLabel=_booleanOptionOr(t.showLabel,this.template.branch.showLabel),this.spacingX=this.template.branch.spacingX,this.spacingY=this.template.branch.spacingY,this.size=0,this.height=0,this.width=0,this.commits=[],this.path=[],"number"==typeof t.column?this.column=t.column:(this.column=0,this.calculColumn()),this.parent.columnMax=this.column>this.parent.columnMax?this.column:this.parent.columnMax,this.offsetX=this.column*this.spacingX,this.offsetY=this.column*this.spacingY,this.parentBranch&&this.parentCommit?this.parentCommit===_getParentCommitFromBranch(this.parentBranch)&&this.commits.length>0?this.startPoint={x:this.parentBranch.offsetX-this.parent.commitOffsetX+this.template.commit.spacingX,y:this.parentBranch.offsetY-this.parent.commitOffsetY+this.template.commit.spacingY,type:"start"}:this.startPoint={x:this.parentCommit.x,y:this.parentCommit.y,type:"start"}:this.startPoint=null;var e=this.column%this.template.colors.length;this.color=t.color||this.template.branch.color||this.template.colors[e],this.checkout()}}function Commit(t){t.parent instanceof GitGraph!=!1&&(t=_isObject(t)?t:{},this.parent=t.parent,this.template=this.parent.template,this.context=this.parent.context,this.branch=t.branch,this.author=t.author||this.parent.author,this.date=t.date||(new Date).toUTCString(),this.detail=t.detail||null,this.sha1=t.sha1||Math.random(100).toString(16).substring(3,10),this.message=t.message||"He doesn't like George Michael! Boooo!",this.arrowDisplay=t.arrowDisplay,this.messageDisplay=_booleanOptionOr(t.messageDisplay,this.template.commit.message.display),this.messageAuthorDisplay=_booleanOptionOr(t.messageAuthorDisplay,this.template.commit.message.displayAuthor),this.messageBranchDisplay=_booleanOptionOr(t.messageBranchDisplay,this.template.commit.message.displayBranch),this.messageHashDisplay=_booleanOptionOr(t.messageHashDisplay,this.template.commit.message.displayHash),this.messageColor=t.messageColor||t.color,this.messageFont=t.messageFont||this.template.commit.message.font,this.dotColor=t.dotColor||t.color,this.dotSize=t.dotSize||this.template.commit.dot.size,this.dotStrokeWidth=t.dotStrokeWidth||this.template.commit.dot.strokeWidth,this.dotStrokeColor=t.dotStrokeColor||this.template.commit.dot.strokeColor||t.color,this.lineDash=t.lineDash||this.template.commit.dot.lineDash,this.type=t.type||null,this.tooltipDisplay=_booleanOptionOr(t.tooltipDisplay,!0),this.onClick=t.onClick||null,this.representedObject=t.representedObject||null,this.parentCommit=t.parentCommit,this.x=t.x,this.y=t.y,this.showLabel=t.showLabel,this.labelColor=t.labelColor||t.color,this.labelFont=t.labelFont||this.template.branch.labelFont,_assignTagOptionsToCommit(this,t),this.parent.commits.push(this))}function Tag(t,e){if(!_isObject(t))throw new Error("You can't tag a commit that doesn't exist");e=_isObject(e)?e:{},this.color=e.color||t.color,this.font=e.font||t.template.commit.tag.font;var i=t.context.font;t.context.font=this.font;var o=t.context.measureText(t.tag).width;this.width=Math.max(t.template.commit.tag.spacingX,o);var a=0,s=0,n=t.parent.columnMax+1;return _isHorizontal(t.parent)?(a=t.x-t.dotSize/2,s=n*t.template.commit.tag.spacingY-t.template.commit.tag.spacingY/2):(a=n*t.template.commit.tag.spacingX-t.template.commit.tag.spacingX/2+o/2,s=t.y-t.dotSize/2),_drawTextBG(t.context,a,s,t.tag,this.color,this.font,0,t.displayTagBox),t.context.font=i,this}function Template(t){(t=_isObject(t)?t:{}).branch=t.branch||{},t.arrow=t.arrow||{},t.commit=t.commit||{},t.commit.dot=t.commit.dot||{},t.commit.tag=t.commit.tag||{},t.commit.message=t.commit.message||{},this.colors=t.colors||["#6963FF","#47E8D4","#6BDB52","#E84BA5","#FFA657"],this.branch={},this.branch.color=t.branch.color||null,this.branch.lineWidth=t.branch.lineWidth||2,this.branch.lineDash=t.branch.lineDash||[],this.branch.showLabel=t.branch.showLabel||!1,this.branch.labelColor=t.branch.labelColor||null,this.branch.labelFont=t.branch.labelFont||"normal 8pt Calibri",this.branch.labelRotation=void 0!==t.branch.labelRotation?t.branch.labelRotation:null,this.branch.mergeStyle=t.branch.mergeStyle||"bezier",this.branch.spacingX="number"==typeof t.branch.spacingX?t.branch.spacingX:20,this.branch.spacingY=t.branch.spacingY||0,this.arrow={},this.arrow.size=t.arrow.size||null,this.arrow.color=t.arrow.color||null,this.arrow.active="number"==typeof this.arrow.size,this.arrow.offset=t.arrow.offset||2,this.commit={},this.commit.spacingX=t.commit.spacingX||0,this.commit.spacingY="number"==typeof t.commit.spacingY?t.commit.spacingY:25,this.commit.widthExtension="number"==typeof t.commit.widthExtension?t.commit.widthExtension:0,this.commit.tooltipHTMLFormatter=t.commit.tooltipHTMLFormatter||null,this.commit.shouldDisplayTooltipsInCompactMode=_booleanOptionOr(t.commit.shouldDisplayTooltipsInCompactMode,!0),this.commit.color=t.commit.color||null,this.commit.dot={},this.commit.dot.color=t.commit.dot.color||null,this.commit.dot.size=t.commit.dot.size||3,this.commit.dot.strokeWidth=t.commit.dot.strokeWidth||null,this.commit.dot.strokeColor=t.commit.dot.strokeColor||null,this.commit.dot.lineDash=t.commit.dot.lineDash||this.branch.lineDash,this.commit.tag={},this.commit.tag.color=t.commit.tag.color||this.commit.dot.color,this.commit.tag.font=t.commit.tag.font||t.commit.message.font||"normal 10pt Calibri",this.commit.tag.spacingX=this.branch.spacingX,this.commit.tag.spacingY=this.commit.spacingY,this.commit.message={},this.commit.message.display=_booleanOptionOr(t.commit.message.display,!0),this.commit.message.displayAuthor=_booleanOptionOr(t.commit.message.displayAuthor,!0),this.commit.message.displayBranch=_booleanOptionOr(t.commit.message.displayBranch,!0),this.commit.message.displayHash=_booleanOptionOr(t.commit.message.displayHash,!0),this.commit.message.color=t.commit.message.color||null,this.commit.message.font=t.commit.message.font||"normal 12pt Calibri"}function _getLast(t){return t.slice(-1)[0]}function _assignTagOptionsToCommit(t,e){t.tag=e.tag||null,t.tagColor=e.tagColor||t.messageColor,t.tagFont=e.tagFont||t.template.commit.tag.font,t.displayTagBox=_booleanOptionOr(e.displayTagBox,!0)}function _getParentCommitFromBranch(t){return _getLast(t.commits)?_getLast(t.commits):t.parentBranch?_getParentCommitFromBranch(t.parentBranch):null}function _getFontHeight(t){var e=document.getElementsByTagName("body")[0],i=document.createElement("div"),o=document.createTextNode("Mg");i.appendChild(o),i.setAttribute("style","font: "+t+"; display: inline-block;"),e.appendChild(i);var a=i.offsetHeight;return e.removeChild(i),a}function _booleanOptionOr(t,e){return"boolean"==typeof t?t:e}function _drawTextBG(t,e,i,o,a,s,n,h){t.save(),t.translate(e,i),t.rotate(n*(Math.PI/180)),t.textAlign="center",t.font=s;var r=t.measureText(o).width,m=_getFontHeight(s);h?(t.beginPath(),t.rect(-r/2-4,-m/2+2,r+8,m+2),t.fillStyle=a,t.fill(),t.lineWidth=2,t.strokeStyle="black",t.stroke(),t.fillStyle="black"):t.fillStyle=a,t.fillText(o,0,m/2),t.restore()}function _emitEvent(t,e,i){var o;document.createEvent?(o=document.createEvent("HTMLEvents")).initEvent(e,!0,!0):(o=document.createEventObject()).eventType=e,o.eventName=e,o.data=i||{},document.createEvent?t.dispatchEvent(o):t.fireEvent("on"+o.eventType,o)}function _isVertical(t){return"vertical"===t.orientation||"vertical-reverse"===t.orientation}function _isHorizontal(t){return"horizontal"===t.orientation||"horizontal-reverse"===t.orientation}function _isObject(t){return"object"==typeof t}function _isNullOrUndefined(t,e){return!e.split(".").every((function(e){return"object"==typeof t&&null!==t&&e in t&&(t=t[e],!0)}))}GitGraph.prototype.dispose=function(){this.canvas.removeEventListener("mousemove",this.mouseMoveOptions,!1),this.canvas.removeEventListener("mousedown",this.mouseDownOptions,!1)},GitGraph.prototype.branch=function(t){if("string"==typeof t){var e=t;(t={}).name=e}(t=_isObject(t)?t:{}).parent=this,t.parentBranch=t.parentBranch||this.HEAD;var i=new Branch(t);return this.branches.push(i),i},GitGraph.prototype.orphanBranch=function(t){if("string"==typeof t){var e=t;(t={}).name=e}(t=_isObject(t)?t:{}).parent=this;var i=new Branch(t);return this.branches.push(i),i},GitGraph.prototype.commit=function(t){return this.HEAD.commit(t),this},GitGraph.prototype.tag=function(t){return this.HEAD.tag(t),this},GitGraph.prototype.newTemplate=function(t){return"string"==typeof t?(new Template).get(t):new Template(t)},GitGraph.prototype.render=function(){this.scalingFactor=function _getScale(t){var e,i;i=1,window.devicePixelRatio&&(e=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,i*=window.devicePixelRatio/e);return i}(this.context);var t={x:Math.abs((this.columnMax+1)*this.template.branch.spacingX)+Math.abs(this.commitOffsetX)+2*this.marginX,y:Math.abs((this.columnMax+1)*this.template.branch.spacingY)+Math.abs(this.commitOffsetY)+2*this.marginY};this.template.commit.message.display&&(t.x+=800),t.x+=this.template.commit.widthExtension,this.canvas.style.width=t.x+"px",this.canvas.style.height=t.y+"px",this.canvas.width=t.x*this.scalingFactor,this.canvas.height=t.y*this.scalingFactor,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.translate(this.marginX,this.marginY),this.template.commit.spacingY>0&&(this.context.translate(0,this.canvas.height-2*this.marginY),this.offsetY=this.canvas.height-2*this.marginY),this.template.commit.spacingX>0&&(this.context.translate(this.canvas.width-2*this.marginX,0),this.offsetX=this.canvas.width-2*this.marginX),this.context.scale(this.scalingFactor,this.scalingFactor);for(var e,i=this.branches.length-1;e=this.branches[i];i--)e.render();for(var o,a=0;o=this.commits[a];a++)o.render();_emitEvent(this.canvas,"graph:render",{id:this.elementId})},GitGraph.prototype.applyCommits=function(t,e){function getOffsetById(t){var e=document.getElementById(t).getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}}for(var i,o=t.offsetX||t.pageX-getOffsetById(this.elementId).left,a=t.offsetY||t.pageY-getOffsetById(this.elementId).top,s=0;i=this.commits[s];s++){var n=i.x+(this.offsetX+this.marginX)/this.scalingFactor-o,h=i.y+(this.offsetY+this.marginY)/this.scalingFactor-a;e(i,Math.sqrt(Math.pow(n,2)+Math.pow(h,2))<this.template.commit.dot.size,t)}},GitGraph.prototype.hover=function(t){var e=this.gitgraph,i=!0;function showCommitTooltip(i){i.tooltipDisplay&&(e.tooltip.style.left=t.clientX+"px",e.tooltip.style.top=t.clientY+"px",null!==e.template.commit.tooltipHTMLFormatter?e.tooltip.innerHTML=e.template.commit.tooltipHTMLFormatter(i):e.tooltip.textContent=i.sha1+" - "+i.message,e.tooltip.style.display="block")}function emitCommitEvent(t,i){var o={author:t.author,message:t.message,date:t.date,sha1:t.sha1};_emitEvent(e.canvas,"commit:"+i,o)}e.applyCommits(t,(function(t,o,a){o?(!e.template.commit.message.display&&e.template.commit.shouldDisplayTooltipsInCompactMode&&showCommitTooltip(t),t.isMouseOver||emitCommitEvent(t,"mouseover"),i=!1,t.isMouseOver=!0):(t.isMouseOver&&emitCommitEvent(t,"mouseout"),t.isMouseOver=!1)})),i&&(e.tooltip.style.display="none")},GitGraph.prototype.click=function(t){this.gitgraph.applyCommits(t,(function(t,e,i){e&&null!==t.onClick&&t.onClick(t,!0,i)}))},Branch.prototype.branch=function(t){if("string"==typeof t){var e=t;(t={}).name=e}(t=_isObject(t)?t:{}).parent=this.parent,t.parentBranch=t.parentBranch||this;var i=new Branch(t);return this.parent.branches.push(i),i},Branch.prototype.render=function(){this.context.beginPath();for(var t,e=0;t=this.path[e];e++)if("start"===t.type)this.context.moveTo(t.x,t.y);else if("bezier"===this.template.branch.mergeStyle){var i=this.path[e-1];this.context.bezierCurveTo(i.x-this.template.commit.spacingX/2,i.y-this.template.commit.spacingY/2,t.x+this.template.commit.spacingX/2,t.y+this.template.commit.spacingY/2,t.x,t.y)}else this.context.lineTo(t.x,t.y);this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.color,"function"==typeof this.context.setLineDash&&this.context.setLineDash(this.lineDash),this.context.stroke(),this.context.closePath()},Branch.prototype.commit=function(t){"string"==typeof t?t={message:t}:"object"!=typeof t&&(t={}),t.arrowDisplay=this.template.arrow.active,t.branch=this;var e=this.column%this.template.colors.length;t.color=t.color||this.commitDefaultOptions.color||this.template.commit.color||this.template.colors[e],t.parent=this.parent,t.parentCommit=t.parentCommit||_getParentCommitFromBranch(this),"compact"===this.parent.mode&&_getLast(this.parent.commits)&&_getLast(this.parent.commits).branch!==t.branch&&t.branch.commits.length&&"mergeCommit"!==t.type&&(this.parent.commitOffsetX-=this.template.commit.spacingX,this.parent.commitOffsetY-=this.template.commit.spacingY),t.messageColor=t.messageColor||this.commitDefaultOptions.messageColor||this.template.commit.message.color||t.color||null,t.labelColor=t.labelColor||this.commitDefaultOptions.labelColor||this.template.branch.labelColor||t.color||null,t.tagColor=t.tagColor||this.commitDefaultOptions.tagColor||this.template.commit.tag.color||t.color||null,t.dotColor=t.dotColor||this.commitDefaultOptions.dotColor||this.template.commit.dot.color||t.color||null,t.x=this.offsetX-this.parent.commitOffsetX,t.y=this.offsetY-this.parent.commitOffsetY;var i="compact"===this.parent.mode;"string"!=typeof t.detailId||i?t.detail=null:t.detail=document.getElementById(t.detailId);var o=_getLast(t.branch.commits)||{};t.x+t.y===o.x+o.y&&(this.parent.commitOffsetX+=this.template.commit.spacingX,this.parent.commitOffsetY+=this.template.commit.spacingY,t.x=this.offsetX-this.parent.commitOffsetX,t.y=this.offsetY-this.parent.commitOffsetY),t.parentCommit instanceof Commit==!1&&this.parentBranch instanceof Branch&&(t.parentCommit=this.parentCommit);var a=!(t.parentCommit instanceof Commit),s=0===this.path.length;t.showLabel=s&&this.showLabel,t.showLabel&&(t.x-=this.template.commit.spacingX,t.y-=this.template.commit.spacingY);var n=new Commit(t);this.commits.push(n);var h={x:n.x,y:n.y,type:"joint"};return!a&&s?(this.pushPath(this.startPoint),_isVertical(this.parent)?this.pushPath({x:n.x,y:this.startPoint.y-this.template.commit.spacingY,type:"joint"}):this.pushPath({x:this.startPoint.x-this.template.commit.spacingX,y:n.y,type:"joint"})):s&&(h.type="start"),this.pushPath(h),this.parent.commitOffsetX+=this.template.commit.spacingX*(t.showLabel?2:1),this.parent.commitOffsetY+=this.template.commit.spacingY*(t.showLabel?2:1),null!==n.detail&&_isVertical(this.parent)&&(n.detail.style.display="block","vertical-reverse"===this.parent.orientation?this.parent.commitOffsetY+=n.detail.clientHeight:this.parent.commitOffsetY-=n.detail.clientHeight),this.parent.render(),this},Branch.prototype.tag=function(t){"string"==typeof t&&(t={tag:t}),t=_isObject(t)?t:{};var e=_getLast(this.commits);return _isObject(e)&&(_assignTagOptionsToCommit(e,t),this.parent.render()),this},Branch.prototype.checkout=function(){this.parent.HEAD=this},Branch.prototype.delete=function(){this.isDeleted=!0},Branch.prototype.merge=function(t,e){var i=t||this.parent.HEAD;if(i instanceof Branch==!1||i===this)return this;var o=this.commits[0];if(!o)return console.log(this.name+" is already up-to-date with "+i.name),this;var a="Merge branch `"+this.name+"` into `"+i.name+"`";if("object"!=typeof e){var s=e;(e={}).message="string"==typeof s?s:a}else e.message=e.message||a;e.type="mergeCommit",e.parentCommit=_getParentCommitFromBranch(this);var n=o.parentCommit,h=_getParentCommitFromBranch(i),r=n&&n.sha1===h.sha1;if(e.fastForward&&r){var m=_isHorizontal(this.parent);if(this.color=i.color,m){var c=i.path[1].y;this.path.forEach((function(t){t.y=c}))}else{var l=i.path[1].x;this.path.forEach((function(t){t.x=l}))}this.commits.forEach((function(t){m?t.y=n.y:t.x=n.x,t.labelColor=n.labelColor,t.messageColor=n.messageColor,t.dotColor=n.dotColor,t.dotStrokeColor=n.dotStrokeColor}))}else{i.commit(e);var p=_getLast(i.commits),g={x:this.offsetX+this.template.commit.spacingX*(p.showLabel?3:2)-this.parent.commitOffsetX,y:this.offsetY+this.template.commit.spacingY*(p.showLabel?3:2)-this.parent.commitOffsetY,type:"joint"};this.pushPath(function _clone(t){return JSON.parse(JSON.stringify(t))}(g));var f={x:p.x,y:p.y,type:"end"};this.pushPath(f),g.type="start",this.pushPath(g)}return this.parent.render(),this.parent.HEAD=i,this},Branch.prototype.calculColumn=function(){for(var t,e=[],i=0;t=this.parent.branches[i];i++)t.isDeleted||(t.column in e||(e[t.column]=0),e[t.column]++);for(this.column=0;this.column in e&&0!==e[this.column];this.column++);},Branch.prototype.pushPath=function(t){var e=_getLast(this.path);e?e.x===t.x&&e.y===t.y?"start"!==e.type&&"end"===t.type?e.type="end":"joint"===t.type||this.path.push(t):"joint"===t.type?((t.x-e.x)*this.template.commit.spacingX<0||(t.y-e.y)*this.template.commit.spacingY<0)&&this.path.push(t):this.path.push(t):this.path.push(t)},Commit.prototype.render=function(){var t=this.template.commit.tag.spacingX,e=(this.parent.columnMax+1)*this.template.branch.spacingX+t;if(this.showLabel)if(_isHorizontal(this.parent)&&this.template.branch.labelRotation%180==0){var i=this.y-this.dotSize-_getFontHeight(this.labelFont);_drawTextBG(this.context,this.x,i,this.branch.name,this.labelColor,this.labelFont,this.template.branch.labelRotation,!0)}else _drawTextBG(this.context,this.x+this.template.commit.spacingX,this.y+this.template.commit.spacingY,this.branch.name,this.labelColor,this.labelFont,this.template.branch.labelRotation,!0);(this.context.beginPath(),this.context.arc(this.x,this.y,this.dotSize,0,2*Math.PI,!1),this.context.fillStyle=this.dotColor,this.context.strokeStyle=this.dotStrokeColor,this.context.lineWidth=this.dotStrokeWidth,"function"==typeof this.context.setLineDash&&this.context.setLineDash(this.lineDash),"number"==typeof this.dotStrokeWidth&&this.context.stroke(),this.context.fill(),this.context.closePath(),this.arrowDisplay&&this.parentCommit instanceof Commit&&this.arrow(),null!==this.tag)&&(e+=new Tag(this,{color:this.tagColor,font:this.tagFont}).width-t);if(null!==this.detail&&_isVertical(this.parent)){this.detail.style.left=this.parent.canvas.offsetLeft+e+60+"px";var o=this.parent.canvas.offsetTop+this.y;if("vertical-reverse"===this.parent.orientation){var a=this.parent.canvas.clientHeight-this.detail.clientHeight;this.detail.style.top=o+a-30+"px"}else this.detail.style.top=o+30+"px"}if(this.messageDisplay){var s=this.message;this.messageHashDisplay&&(s=this.sha1+" "+s),this.messageAuthorDisplay&&(s+=this.author?" - "+this.author:""),this.messageBranchDisplay&&(s=(this.branch.name?"["+this.branch.name+"] ":"")+s),this.context.font=this.messageFont,this.context.fillStyle=this.messageColor,this.context.fillText(s,e,this.y+this.dotSize/2)}},Commit.prototype.arrow=function Arrow(){var t=this.template.arrow.size,e=this.template.arrow.color||this.branch.color,i=this.parent.reverseArrow;function rotate(t,e){var o=i?-1:1;return Math.atan2(o*t,o*e)}var o=rotate(this.parentCommit.y-this.y,this.parentCommit.x-this.x),a=this===this.branch.commits[0];if("mergeCommit"===this.type||a){var s=this.parentCommit.branch.column-this.branch.column,n=this.showLabel?2:1,h=this.template.branch.spacingX*s+this.template.commit.spacingX*n,r=(a||i)&&Math.abs(this.y-this.parentCommit.y)>Math.abs(this.template.commit.spacingY),m=this.x===this.parentCommit.x;_isVertical(this.parent)&&(r||m)&&(h=0);var c=this.template.branch.spacingY*s+this.template.commit.spacingY*n,l=(a||i)&&Math.abs(this.x-this.parentCommit.x)>Math.abs(this.template.commit.spacingX),p=this.y===this.parentCommit.y;_isHorizontal(this.parent)&&(l||p)&&(c=0),o=rotate(c,h),e=this.parentCommit.branch.color}var g=Math.PI/7,f=i?this.parentCommit.x:this.x,u=i?this.parentCommit.y:this.y,d=this.template.commit.dot.size+this.template.arrow.offset,b=d*Math.cos(o)+f,y=d*Math.sin(o)+u,v=(d+t)*Math.cos(o-g)+f,x=(d+t)*Math.sin(o-g)+u,C=(d+t/2)*Math.cos(o)+f,w=(d+t/2)*Math.sin(o)+u,O=(d+t)*Math.cos(o+g)+f,B=(d+t)*Math.sin(o+g)+u;this.context.beginPath(),this.context.fillStyle=e,this.context.moveTo(b,y),this.context.lineTo(v,x),this.context.quadraticCurveTo(C,w,O,B),this.context.lineTo(O,B),this.context.fill()},Template.prototype.get=function(t){var e={};if("blackarrow"===t)e={branch:{color:"#000000",lineWidth:4,spacingX:50,mergeStyle:"straight",labelRotation:0},commit:{spacingY:-60,dot:{size:12,strokeColor:"#000000",strokeWidth:7},message:{color:"black"}},arrow:{size:16,offset:2.5}};else e={colors:["#979797","#008fb5","#f1c109"],branch:{lineWidth:10,spacingX:50,labelRotation:0},commit:{spacingY:-80,dot:{size:14},message:{font:"normal 14pt Arial"}}};return new Template(e)},Array.prototype.every||(Array.prototype.every=function(t,e){var i,o;if(null===this)throw new TypeError("this is null or not defined");var a=Object(this),s=a.length>>>0;if("function"!=typeof t)throw new TypeError;for(arguments.length>1&&(i=e),o=0;o<s;){var n;if(o in a){n=a[o];var h=t.call(i,n,o,a);if(!h)return!1}o++}return!0}),window.GitGraph=GitGraph,window.GitGraph.Branch=Branch,window.GitGraph.Commit=Commit,window.GitGraph.Template=Template}();