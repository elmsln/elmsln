var e=require("underscore"),r=require("bluebird/js/release/promise")();exports.defer=function defer(){var e,t,o=new r.Promise((function(r,o){e=r,t=o}));return{resolve:e,reject:t,promise:o}},exports.when=r.resolve,exports.resolve=r.resolve,exports.all=r.all,exports.props=r.props,exports.reject=r.reject,exports.promisify=r.promisify,exports.mapSeries=r.mapSeries,exports.attempt=r.attempt,exports.nfcall=function(e){var t=Array.prototype.slice.call(arguments,1);return r.promisify(e).apply(null,t)},r.prototype.fail=r.prototype.caught,r.prototype.also=function(t){return this.then((function(o){var p=e.extend({},o,t(o));return r.props(p)}))};