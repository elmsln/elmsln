Object.defineProperty(exports,"__esModule",{value:!0}),exports.HaxAppBrowser=void 0;var e=require("lit");require("./hax-tray-button.js");var t=require("./hax-store.js"),r=require("mobx");function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _templateObject3_e64c2ed08e0011ed99ce491205e67b1d(){var e=_taggedTemplateLiteral(['\n            <hax-tray-button\n              class="','"\n              show-text-label\n              icon-position="top"\n              index="','"\n              label="','"\n              icon="','"\n              color="','"\n              event-name="search-selected"\n              event-data="','"\n            >\n            </hax-tray-button>\n          ']);return _templateObject3_e64c2ed08e0011ed99ce491205e67b1d=function _templateObject3_e64c2ed08e0011ed99ce491205e67b1d(){return e},e}function _templateObject2_e64c2ed08e0011ed99ce491205e67b1d(){var e=_taggedTemplateLiteral(['\n      <simple-button-grid\n        class="','"\n        always-expanded\n        columns="3"\n      >\n        ','\n      </simple-button-grid>\n      <hax-app-search\n        id="haxappsearch"\n        class="','"\n      ></hax-app-search>\n      <slot></slot>\n    ']);return _templateObject2_e64c2ed08e0011ed99ce491205e67b1d=function _templateObject2_e64c2ed08e0011ed99ce491205e67b1d(){return e},e}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function _templateObject_e64c2ed08e0011ed99ce491205e67b1d(){var e=_taggedTemplateLiteral(["\n        :host {\n          overflow-y: auto;\n          position: relative;\n        }\n        simple-button-grid {\n          overflow: auto;\n        }\n        simple-button-grid.collapse-hide {\n          max-height: 0 !important;\n          transition: all 0.5s;\n        }\n        .visibility-hidden {\n          z-index: -1;\n          visibility: hidden;\n          opacity: 0;\n          height: 0;\n          transition: all 0.5s;\n        }\n      "]);return _templateObject_e64c2ed08e0011ed99ce491205e67b1d=function _templateObject_e64c2ed08e0011ed99ce491205e67b1d(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _get(e,t,r){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}},_get(e,t,r||e)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}var n=function(n){function HaxAppBrowser(){var e;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HaxAppBrowser),(e=_possibleConstructorReturn(this,_getPrototypeOf(HaxAppBrowser).call(this))).addEventListener("hax-tray-button-click",(function(n){"search-selected"===n.detail.eventName?(e.searching=!0,t.HAXStore.activeApp=(0,r.toJS)(e.appList[n.detail.index])):"cancel-search"===n.detail.eventName&&(e.searching=!1)})),e.searching=!1,e.appList=[],e.activeApp=null,e.hasActive=!1,Promise.resolve().then((function(){return _interopRequireWildcard(require("@lrnwebcomponents/hax-body/lib/hax-app-search.js"))})),Promise.resolve().then((function(){return _interopRequireWildcard(require("@lrnwebcomponents/simple-toolbar/lib/simple-button-grid.js"))})),(0,r.autorun)((function(){e.appList=(0,r.toJS)(t.HAXStore.appList)})),(0,r.autorun)((function(){e.activeApp=(0,r.toJS)(t.HAXStore.activeApp)})),e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(HaxAppBrowser,e.LitElement),_createClass(HaxAppBrowser,null,[{key:"styles",get:function get(){return[(0,e.css)(_templateObject_e64c2ed08e0011ed99ce491205e67b1d())]}}]),_createClass(HaxAppBrowser,[{key:"render",value:function render(){var t=this;return(0,e.html)(_templateObject2_e64c2ed08e0011ed99ce491205e67b1d(),this.searching?"collapse-hide":"",this.appList.map((function(r){return(0,e.html)(_templateObject3_e64c2ed08e0011ed99ce491205e67b1d(),t.searching?"visibility-hidden":"",r.index,r.details.title,r.details.icon,r.details.color,r.index)})),this.searching?"":"visibility-hidden")}},{key:"updated",value:function updated(e){var t=this;e.forEach((function(e,r){"activeApp"==r&&t[r]&&t._activeAppChanged(t[r],e),"appList"==r&&t[r]&&t.shadowRoot&&(t.searching=!1)}))}},{key:"_activeAppChanged",value:function _activeAppChanged(e,t){"undefined"!==_typeof(t)&&null!=e?this.hasActive=!0:this.hasActive=!1}},{key:"firstUpdated",value:function firstUpdated(e){_get(_getPrototypeOf(HaxAppBrowser.prototype),"firstUpdated",this)&&_get(_getPrototypeOf(HaxAppBrowser.prototype),"firstUpdated",this).call(this,e),this.searching=!1}}],[{key:"tag",get:function get(){return"hax-app-browser"}},{key:"properties",get:function get(){return{search:{type:String},searching:{type:Boolean,reflect:!0},activeApp:{type:Object},hasActive:{reflect:!0,type:Boolean,attribute:"has-active"},appList:{type:Array}}}}]),HaxAppBrowser}();exports.HaxAppBrowser=n,window.customElements.define(n.tag,n);