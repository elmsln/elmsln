import{css as e,html as t}from"../../../../../lit-element/lit-element.js";import{store as s}from"../haxcms-site-store.js";import{autorun as i,toJS as o}from"../../../../../mobx/lib/mobx.module.js";const HAXCMSMobileMenuMixin=function(n){return class extends n{constructor(){super(),this.menuOpen=!0}firstUpdated(e){super.firstUpdated&&super.firstUpdated(e),this.__disposer=this.__disposer?this.__disposer:[],i(e=>{this.shadowRoot.querySelector("#haxcmsmobilemenunav")&&this.menuOpen&&o(s.activeId)&&["sm","xs"].includes(this.responsiveSize)&&this.__HAXCMSMobileMenuToggle({}),this.__disposer.push(e)})}static get styles(){let t=[];return super.styles&&(t=super.styles),[...t,e`
          site-menu:not(:defined) {
            display: none;
          }
          site-menu {
            height: 100vh;
          }
          :host([responsive-size="xs"][menu-open]),
          :host([responsive-size="sm"][menu-open]) {
            overflow: hidden;
          }
        `]}HAXCMSMobileMenuButton(){return import("../../../../../@polymer/iron-icons/iron-icons.js"),import("../../../../../@polymer/paper-icon-button/paper-icon-button.js"),import("../../../../simple-tooltip/simple-tooltip.js"),t`
        <paper-icon-button
          class="btn"
          icon="icons:menu"
          aria-label="Toggle menu"
          id="haxcmsmobilemenubutton"
          .part="${this.editMode?"edit-mode-active":""}"
          @click="${this.__HAXCMSMobileMenuToggle}"
        ></paper-icon-button>
        <simple-tooltip for="haxcmsmobilemenubutton">
          Toggle menu
        </simple-tooltip>
      `}__HAXCMSMobileMenuToggle(e){this.menuOpen?(this.menuOpen=!1,this.shadowRoot.querySelector("#haxcmsmobilemenunav").setAttribute("tabindex","-1")):(this.menuOpen=!0,this.shadowRoot.querySelector("#haxcmsmobilemenunav").removeAttribute("tabindex"))}HAXCMSMobileMenu(e){return import("../../ui-components/navigation/site-menu.js"),t`
        <nav
          id="haxcmsmobilemenunav"
          role="navigation"
          aria-labelledby="sitemenu"
        >
          <site-menu id="sitemenu"></site-menu>
        </nav>
      `}updated(e){super.updated&&super.updated(e),e.forEach((e,t)=>{if("responsiveSize"==t)switch(this[t]){case"sm":this.menuOpen&&"xs"!=e&&this.__HAXCMSMobileMenuToggle({});break;case"xs":this.menuOpen&&"sm"!=e&&this.__HAXCMSMobileMenuToggle({});break;default:this.menuOpen||this.__HAXCMSMobileMenuToggle({})}})}static get properties(){let e={};return super.properties&&(e=super.props),{...e,menuOpen:{type:Boolean,reflect:!0,attribute:"menu-open"}}}}};export{HAXCMSMobileMenuMixin};