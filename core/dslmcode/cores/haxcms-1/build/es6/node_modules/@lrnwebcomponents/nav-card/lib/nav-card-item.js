/**
 * Copyright 2020 The Pennsylvania State University
 * @license Apache-2.0, see License.md for full text.
 */
import{LitElement as t,html as e,css as i}from"../../../lit/index.js";import"../../simple-icon/lib/simple-icon-lite.js";import"../../simple-icon/lib/simple-icons.js";import"../../lrndesign-avatar/lrndesign-avatar.js";class NavCardItem extends t{static get tag(){return"nav-card-item"}static get properties(){return{accentColor:{type:String,attribute:"accent-color"},allowGrey:{type:Boolean,attribute:"allow-grey"},avatar:{type:String,attribute:"avatar"},dark:{type:Boolean,attribute:"dark"},icon:{type:String,attribute:"icon"},initials:{type:String,attribute:"initials"},invert:{type:Boolean,attribute:"invert"}}}static get haxProperties(){return{canScale:!0,canPosition:!0,canEditSource:!0,gizmo:{title:"Nav card",description:"an accent card of link lists",icon:"av:playlist-play",color:"pink",tags:["Layout","content","card","Nav","List"],handles:[],meta:{author:"HAXTheWeb core team",owner:"The Pennsylvania State University"}},settings:{configure:[{property:"accentColor",title:"Accent Color",description:"Select an accent color.",inputMethod:"colorpicker",required:!1},{property:"dark",title:"Dark",description:"Display the card as dark theme?",inputMethod:"boolean",required:!1},{property:"icon",title:"Icon",description:"Select an icon.",inputMethod:"iconpicker",required:!1},{property:"initials",title:"Initials",description:"Initials to display if there is no icon.",inputMethod:"textfield",required:!1},{property:"avatar",title:"Avatar Image",description:"Select an image",inputMethod:"haxupload",required:!1},{slot:"label",title:"Button or Link",inputMethod:"code-editor",required:!1},{slot:"description",title:"Additional description",inputMethod:"code-editor",required:!1}],advanced:[{property:"allowGrey",title:"Allow Grey",description:"Allows grey if set. Otherwise a color will be assigned.",inputMethod:"boolean"},{property:"avatar",title:"Avatar Icon",description:"Select an icon.",inputMethod:"iconpicker",required:!1},{property:"invert",title:"Invert",description:"Inverts icon coloring.",inputMethod:"boolean"}]}}}static get styles(){return[i`
        :host {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: space-between;
          text-decoration: none;
          padding: 5px 0;
          margin-bottom: 1px;
          color: var(--nav-card-item-color, unset);
          background-color: var(--nav-card-item-background-color, unset);
          border-bottom: var(
            --nav-card-linklist-border-bottom,
            1px solid var(--simple-colors-default-theme-grey-4, #666)
          );
        }
        :host(:last-of-type) {
          border-bottom: none;
        }
        :host([hidden]) {
          display: none;
        }
        :host div {
          flex: 1 1 auto;
        }
        ::slotted([slot="label"]:hover),
        ::slotted([slot="label"]:focus),
        :host(:hover) ::slotted([slot="label"]),
        :host(:focus-within) ::slotted([slot="label"]) {
          text-decoration: underline;
        }
        ::slotted(*) {
          display: block;
        }
        ::slotted([slot="label"]),
        ::slotted([slot="description"]) {
          color: inherit;
          font-family: inherit;
        }
        ::slotted([slot="label"]) {
          text-decoration: inherit;
          outline: none;
          border: none;
          padding: 0;
          text-align: left;
          color: var(--nav-card-item-color, unset);
          background-color: var(--nav-card-item-background-color, unset);
          font-size: var(--nav-card-item-label-font-size, inherit);
          font-weight: var(--nav-card-item-label-font-weight, bold);
        }
        ::slotted([slot="description"]) {
          font-size: var(--nav-card-item-label-font-size, 11px);
          font-weight: var(--nav-card-item-label-font-weight, normal);
        }
        ::slotted([slot="label"]):after {
          content: "";
          position: absolute;
          left: 0;
          top: 0;
          right: 0;
          bottom: 0;
        }
        ::slotted([slot="label"]:focus):after {
          outline: 1px solid blue;
        }
        lrndesign-avatar {
          margin-right: 10px;
          --lrndesign-avatar-width: var(
            --nav-card-item-avatar-width,
            var(--nav-card-item-avatar-size, 36px)
          );
          --lrndesign-avatar-height: var(
            --nav-card-item-avatar-height,
            var(--nav-card-item-avatar-size, 36px)
          );
          --lrndesign-avatar-border-radius: var(
            --nav-card-item-avatar-border-radius,
            50%
          );
        }
        simple-icon-lite {
          margin-left: 10px;
          --simple-icon-width: var(
            --nav-card-item-icon-width,
            var(--nav-card-item-icon-size, 24px)
          );
          --simple-icon-height: var(
            --nav-card-item-icon-height,
            var(--nav-card-item-icon-size, 24px)
          );
        }
      `]}render(){return e`
      ${this.avatar||this.initials?e`
            <lrndesign-avatar
              .accentColor="${this.accentColor||""}"
              ?allow-grey="${this.allowGrey}"
              ?dark="${this.dark}"
              .icon="${this.ico}"
              ?invert="${this.invert}"
              .src="${this.src}"
              .label="${this.label}"
              ?two-chars="${this.twoChars}"
            >
            </lrndesign-avatar>
          `:""}
      <div>
        <slot name="label"></slot>
        <slot name="description"></slot>
      </div>
      ${this.icon?e` <simple-icon-lite icon="${this.icon}"></simple-icon-lite> `:""}
    `}constructor(){super(),this.tag=NavCardItem.tag,this.accentColor="grey",this.allowGrey=!1,this.dark=!1,this.invert=!1}get twoChars(){return this.label&&this.label.split(/\s*/).length>1}get label(){let t=this.initials&&this.initials.split(" ");return t&&t[0]?`${t[0][0]} ${t[1]?t[1][0]:t[0][1]||""}}`:this.initials}get ico(){return this.avatar&&!this._validURL(this.avatar)?this.avatar:""}get src(){return this.avatar&&this._validURL(this.avatar)?this.avatar:""}_validURL(t){return console.log(),!!new RegExp("^((https?:)?\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(data:image)?(\\#[-a-z\\d_]*)?$","i").test(t)}}customElements.define("nav-card-item",NavCardItem);export{NavCardItem};