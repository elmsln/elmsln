import{css as t,html as e}from"../../../../../lit/index.js";import{store as o}from"../haxcms-site-store.js";import"../../../../hax-iconset/lib/simple-hax-iconset.js";import{HAXCMSI18NMixin as i}from"./HAXCMSI18NMixin.js";const QRCodeMixin=function(s){return class extends(i(s)){constructor(){super(),this.showQRCode=!1,this.t=this.t||{},this.t={...this.t,currentPage:"Current page"}}firstUpdated(t){super.firstUpdated&&super.firstUpdated(t),this.qrcodebtn=this.shadowRoot.querySelector("#qrcodebtn"),this.shadowRoot.querySelector("#qrcodepopover").target=this.qrcodebtn}static get styles(){let e=[];return super.styles&&(e=super.styles),[...e,t`
          simple-popover:not(:defined) {
            display: none;
          }
          simple-popover {
            padding: 2px;
          }
          .qr-code-btn {
            color: inherit;
            --simple-icon-height: 24px;
            --simple-icon-width: 24px;
          }
          #qrcodebtnwrapper {
            display: inline-flex;
          }
        `]}QRCodeButton(t="left"){return import("../../../../simple-icon/lib/simple-icon-button-lite.js"),import("../../../../simple-popover/simple-popover.js"),import("../../../../simple-tooltip/simple-tooltip.js"),e`
        <div
          id="qrcodebtnwrapper"
          part="${this.editMode?"edit-mode-active":""}"
        >
          <simple-icon-button-lite
            part="qr-code-btn"
            class="qr-code-btn btn"
            label="${this.t.currentPage}"
            icon="hax:qr-code"
            @click="${this.QRCodeButtonToggle}"
            id="qrcodebtn"
          ></simple-icon-button-lite>
          <simple-tooltip for="qrcodebtn">
            ${this.t.currentPage}
          </simple-tooltip>
          <simple-popover
            ?hidden="${!this.showQRCode}"
            id="qrcodepopover"
            position="${t}"
            fit-to-visible-bounds
            auto
          >
            ${this.showQRCode?e`
                  <div style="width:190px;height:190px;">
                    <q-r
                      modulesize="4"
                      margin="0"
                      title="${o.activeTitle}"
                      data="${window.location.href}"
                    ></q-r>
                  </div>
                `:""}
          </simple-popover>
        </div>
      `}QRCodeButtonToggle(t){this.showQRCode=!this.showQRCode}static get properties(){let t={};return super.properties&&(t=super.properties),{...t,showQRCode:{type:Boolean}}}}};export{QRCodeMixin};